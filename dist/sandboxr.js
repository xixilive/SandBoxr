(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SandBoxr = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _src = require("./src");

exports["default"] = _src.SandBoxr;
module.exports = exports["default"];
},{"./src":211}],2:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/array/from"), __esModule: true };
},{"core-js/library/fn/array/from":33}],3:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/get-iterator"), __esModule: true };
},{"core-js/library/fn/get-iterator":34}],4:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/math/sign"), __esModule: true };
},{"core-js/library/fn/math/sign":35}],5:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/epsilon"), __esModule: true };
},{"core-js/library/fn/number/epsilon":36}],6:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/max-safe-integer"), __esModule: true };
},{"core-js/library/fn/number/max-safe-integer":37}],7:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/min-safe-integer"), __esModule: true };
},{"core-js/library/fn/number/min-safe-integer":38}],8:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/assign"), __esModule: true };
},{"core-js/library/fn/object/assign":39}],9:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/create"), __esModule: true };
},{"core-js/library/fn/object/create":40}],10:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/define-property"), __esModule: true };
},{"core-js/library/fn/object/define-property":41}],11:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/get-own-property-descriptor"), __esModule: true };
},{"core-js/library/fn/object/get-own-property-descriptor":42}],12:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/keys"), __esModule: true };
},{"core-js/library/fn/object/keys":43}],13:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/set-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/set-prototype-of":44}],14:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/promise"), __esModule: true };
},{"core-js/library/fn/promise":45}],15:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol"), __esModule: true };
},{"core-js/library/fn/symbol":46}],16:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/iterator"), __esModule: true };
},{"core-js/library/fn/symbol/iterator":47}],17:[function(require,module,exports){
"use strict";

exports["default"] = Function.prototype.bind;
exports.__esModule = true;
},{}],18:[function(require,module,exports){
"use strict";

exports["default"] = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

exports.__esModule = true;
},{}],19:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;

      _Object$defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
})();

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":10}],20:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = function (obj, key, value) {
  if (key in obj) {
    _Object$defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":10}],21:[function(require,module,exports){
"use strict";

var _Object$getOwnPropertyDescriptor = require("babel-runtime/core-js/object/get-own-property-descriptor")["default"];

exports["default"] = function get(_x, _x2, _x3) {
  var _again = true;

  _function: while (_again) {
    var object = _x,
        property = _x2,
        receiver = _x3;
    desc = parent = getter = undefined;
    _again = false;
    if (object === null) object = Function.prototype;

    var desc = _Object$getOwnPropertyDescriptor(object, property);

    if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);

      if (parent === null) {
        return undefined;
      } else {
        _x = parent;
        _x2 = property;
        _x3 = receiver;
        _again = true;
        continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;

      if (getter === undefined) {
        return undefined;
      }

      return getter.call(receiver);
    }
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/get-own-property-descriptor":11}],22:[function(require,module,exports){
"use strict";

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Object$setPrototypeOf = require("babel-runtime/core-js/object/set-prototype-of")["default"];

exports["default"] = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = _Object$create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/object/set-prototype-of":13}],23:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
};

exports.__esModule = true;
},{}],24:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};

    if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }

    newObj["default"] = obj;
    return newObj;
  }
};

exports.__esModule = true;
},{}],25:[function(require,module,exports){
"use strict";

var _Array$from = require("babel-runtime/core-js/array/from")["default"];

exports["default"] = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return _Array$from(arr);
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/array/from":2}],26:[function(require,module,exports){
(function (global){
// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g =
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this;

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = require("./runtime");

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}

module.exports = { "default": module.exports, __esModule: true };

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlXG4vLyBrZXB0IGlkZW50aWNhbCB0byB0aGUgd2F5IGl0IGlzIG9idGFpbmVkIGluIHJ1bnRpbWUuanNcbnZhciBnID1cbiAgdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOlxuICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB0aGlzO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IG1vZHVsZS5leHBvcnRzLCBfX2VzTW9kdWxlOiB0cnVlIH07XG4iXX0=
},{"./runtime":27}],27:[function(require,module,exports){
(function (process,global){
/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */

"use strict";

var _Symbol = require("babel-runtime/core-js/symbol")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

!(function (global) {
  "use strict";

  var hasOwn = Object.prototype.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var iteratorSymbol = typeof _Symbol === "function" && _Symbol$iterator || "@@iterator";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided, then outerFn.prototype instanceof Generator.
    var generator = _Object$create((outerFn || Generator).prototype);

    generator._invoke = makeInvokeMethod(innerFn, self || null, new Context(tryLocsList || []));

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function (method) {
      prototype[method] = function (arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function (genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor ? ctor === GeneratorFunction ||
    // For the native GeneratorFunction constructor, the best we can
    // do is to check its .name property.
    (ctor.displayName || ctor.name) === "GeneratorFunction" : false;
  };

  runtime.mark = function (genFun) {
    genFun.__proto__ = GeneratorFunctionPrototype;
    genFun.prototype = _Object$create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `value instanceof AwaitArgument` to determine if the yielded value is
  // meant to be awaited. Some may consider the name of this method too
  // cutesy, but they are curmudgeons.
  runtime.awrap = function (arg) {
    return new AwaitArgument(arg);
  };

  function AwaitArgument(arg) {
    this.arg = arg;
  }

  function AsyncIterator(generator) {
    // This invoke function is written in a style that assumes some
    // calling function (or Promise) will handle exceptions.
    function invoke(method, arg) {
      var result = generator[method](arg);
      var value = result.value;
      return value instanceof AwaitArgument ? _Promise.resolve(value.arg).then(invokeNext, invokeThrow) : _Promise.resolve(value).then(function (unwrapped) {
        // When a yielded Promise is resolved, its final value becomes
        // the .value of the Promise<{value,done}> result for the
        // current iteration. If the Promise is rejected, however, the
        // result for this iteration will be rejected with the same
        // reason. Note that rejections of yielded Promises are not
        // thrown back into the generator function, as is the case
        // when an awaited Promise is rejected. This difference in
        // behavior between yield and await is important, because it
        // allows the consumer to decide what to do with the yielded
        // rejection (swallow it and continue, manually .throw it back
        // into the generator, abandon iteration, whatever). With
        // await, by contrast, there is no opportunity to examine the
        // rejection reason outside the generator function, so the
        // only option is to throw it from the await expression, and
        // let the generator function handle the exception.
        result.value = unwrapped;
        return result;
      });
    }

    if (typeof process === "object" && process.domain) {
      invoke = process.domain.bind(invoke);
    }

    var invokeNext = invoke.bind(generator, "next");
    var invokeThrow = invoke.bind(generator, "throw");
    var invokeReturn = invoke.bind(generator, "return");
    var previousPromise;

    function enqueue(method, arg) {
      var enqueueResult =
      // If enqueue has been called before, then we want to wait until
      // all previous Promises have been resolved before calling invoke,
      // so that results are always delivered in the correct order. If
      // enqueue has not been called before, then it is important to
      // call invoke immediately, without waiting on a callback to fire,
      // so that the async generator function has the opportunity to do
      // any necessary setup in a predictable way. This predictability
      // is why the Promise constructor synchronously invokes its
      // executor callback, and why async functions synchronously
      // execute code before the first await. Since we implement simple
      // async functions in terms of async generators, it is especially
      // important to get this right, even though it requires care.
      previousPromise ? previousPromise.then(function () {
        return invoke(method, arg);
      }) : new _Promise(function (resolve) {
        resolve(invoke(method, arg));
      });

      // Avoid propagating enqueueResult failures to Promises returned by
      // later invocations of the iterator.
      previousPromise = enqueueResult["catch"](function (ignored) {});

      return enqueueResult;
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function (innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));

    return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.
    : iter.next().then(function (result) {
      return result.done ? result.value : iter.next();
    });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          if (method === "return" || method === "throw" && delegate.iterator[method] === undefined) {
            // A return or throw (when the delegate iterator has no throw
            // method) always terminates the yield* loop.
            context.delegate = null;

            // If the delegate iterator has a return method, give it a
            // chance to clean up.
            var returnMethod = delegate.iterator["return"];
            if (returnMethod) {
              var record = tryCatch(returnMethod, delegate.iterator, arg);
              if (record.type === "throw") {
                // If the return method threw an exception, let that
                // exception prevail over the original return or throw.
                method = "throw";
                arg = record.arg;
                continue;
              }
            }

            if (method === "return") {
              // Continue with the outer return, now that the delegate
              // iterator has been terminated.
              continue;
            }
          }

          var record = tryCatch(delegate.iterator[method], delegate.iterator, arg);

          if (record.type === "throw") {
            context.delegate = null;

            // Like returning generator.throw(uncaught), but without the
            // overhead of an extra function call.
            method = "throw";
            arg = record.arg;
            continue;
          }

          // Delegate generator ran and handled its own exceptions so
          // regardless of what the method was, we continue as if it is
          // "next" with an undefined arg.
          method = "next";
          arg = undefined;

          var info = record.arg;
          if (info.done) {
            context[delegate.resultName] = info.value;
            context.next = delegate.nextLoc;
          } else {
            state = GenStateSuspendedYield;
            return info;
          }

          context.delegate = null;
        }

        if (method === "next") {
          if (state === GenStateSuspendedYield) {
            context.sent = arg;
          } else {
            context.sent = undefined;
          }
        } else if (method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw arg;
          }

          if (context.dispatchException(arg)) {
            // If the dispatched exception was caught by a catch block,
            // then let that catch block handle the exception normally.
            method = "next";
            arg = undefined;
          }
        } else if (method === "return") {
          context.abrupt("return", arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done ? GenStateCompleted : GenStateSuspendedYield;

          var info = {
            value: record.arg,
            done: context.done
          };

          if (record.arg === ContinueSentinel) {
            if (context.delegate && method === "next") {
              // Deliberately forget the last sent value so that we don't
              // accidentally pass it on to the delegate.
              arg = undefined;
            }
          } else {
            return info;
          }
        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(arg) call above.
          method = "throw";
          arg = record.arg;
        }
      }
    };
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[iteratorSymbol] = function () {
    return this;
  };

  Gp.toString = function () {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function (object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1,
            next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function reset(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      this.sent = undefined;
      this.done = false;
      this.delegate = null;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function stop() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function dispatchException(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;
        return !!caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }
          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function abrupt(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.next = finallyEntry.finallyLoc;
      } else {
        this.complete(record);
      }

      return ContinueSentinel;
    },

    complete: function complete(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" || record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = record.arg;
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }
    },

    finish: function finish(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function _catch(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function delegateYield(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      return ContinueSentinel;
    }
  };
})(
// Among the various tricks for obtaining a reference to the global
// object, this seems to be the most reliable technique that does not
// use indirect eval (which violates Content Security Policy).
typeof global === "object" ? global : typeof window === "object" ? window : typeof self === "object" ? self : undefined);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW5cbiAqIGFkZGl0aW9uYWwgZ3JhbnQgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpblxuICogdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX1N5bWJvbCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfUHJvbWlzZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKVtcImRlZmF1bHRcIl07XG5cbiEoZnVuY3Rpb24gKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBfU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX1N5bWJvbCRpdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBnZW5lcmF0b3IgPSBfT2JqZWN0JGNyZWF0ZSgob3V0ZXJGbiB8fCBHZW5lcmF0b3IpLnByb3RvdHlwZSk7XG5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiB8fCBudWxsLCBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSkpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICBnZW5GdW4ucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnRgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLiBTb21lIG1heSBjb25zaWRlciB0aGUgbmFtZSBvZiB0aGlzIG1ldGhvZCB0b29cbiAgLy8gY3V0ZXN5LCBidXQgdGhleSBhcmUgY3VybXVkZ2VvbnMuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIG5ldyBBd2FpdEFyZ3VtZW50KGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQXdhaXRBcmd1bWVudChhcmcpIHtcbiAgICB0aGlzLmFyZyA9IGFyZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgLy8gVGhpcyBpbnZva2UgZnVuY3Rpb24gaXMgd3JpdHRlbiBpbiBhIHN0eWxlIHRoYXQgYXNzdW1lcyBzb21lXG4gICAgLy8gY2FsbGluZyBmdW5jdGlvbiAob3IgUHJvbWlzZSkgd2lsbCBoYW5kbGUgZXhjZXB0aW9ucy5cbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZW5lcmF0b3JbbWV0aG9kXShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudCA/IF9Qcm9taXNlLnJlc29sdmUodmFsdWUuYXJnKS50aGVuKGludm9rZU5leHQsIGludm9rZVRocm93KSA6IF9Qcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgaW52b2tlID0gcHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VOZXh0ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcIm5leHRcIik7XG4gICAgdmFyIGludm9rZVRocm93ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInRocm93XCIpO1xuICAgIHZhciBpbnZva2VSZXR1cm4gPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwicmV0dXJuXCIpO1xuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgZW5xdWV1ZVJlc3VsdCA9XG4gICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pIDogbmV3IF9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUoaW52b2tlKG1ldGhvZCwgYXJnKSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZW5xdWV1ZVJlc3VsdCBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieVxuICAgICAgLy8gbGF0ZXIgaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgcHJldmlvdXNQcm9taXNlID0gZW5xdWV1ZVJlc3VsdFtcImNhdGNoXCJdKGZ1bmN0aW9uIChpZ25vcmVkKSB7fSk7XG5cbiAgICAgIHJldHVybiBlbnF1ZXVlUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIgfHwgbWV0aG9kID09PSBcInRocm93XCIgJiYgZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBBIHJldHVybiBvciB0aHJvdyAod2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIHRocm93XG4gICAgICAgICAgICAvLyBtZXRob2QpIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICB2YXIgcmV0dXJuTWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAocmV0dXJuTWV0aG9kKSB7XG4gICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChyZXR1cm5NZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuICAgICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXR1cm4gbWV0aG9kIHRocmV3IGFuIGV4Y2VwdGlvbiwgbGV0IHRoYXRcbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gcHJldmFpbCBvdmVyIHRoZSBvcmlnaW5hbCByZXR1cm4gb3IgdGhyb3cuXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHRoZSBvdXRlciByZXR1cm4sIG5vdyB0aGF0IHRoZSBkZWxlZ2F0ZVxuICAgICAgICAgICAgICAvLyBpdGVyYXRvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExpa2UgcmV0dXJuaW5nIGdlbmVyYXRvci50aHJvdyh1bmNhdWdodCksIGJ1dCB3aXRob3V0IHRoZVxuICAgICAgICAgICAgLy8gb3ZlcmhlYWQgb2YgYW4gZXh0cmEgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWxlZ2F0ZSBnZW5lcmF0b3IgcmFuIGFuZCBoYW5kbGVkIGl0cyBvd24gZXhjZXB0aW9ucyBzb1xuICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgbWV0aG9kIHdhcywgd2UgY29udGludWUgYXMgaWYgaXQgaXNcbiAgICAgICAgICAvLyBcIm5leHRcIiB3aXRoIGFuIHVuZGVmaW5lZCBhcmcuXG4gICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gYXJnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmRlbGVnYXRlICYmIG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICB0aGlzLnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcbiAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJiAodHlwZSA9PT0gXCJicmVha1wiIHx8IHR5cGUgPT09IFwiY29udGludWVcIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHwgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbi8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdFxuLy8gdXNlIGluZGlyZWN0IGV2YWwgKHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KS5cbnR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOiB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDogdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdW5kZWZpbmVkKTsiXX0=
},{"_process":28,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/promise":14,"babel-runtime/core-js/symbol":15,"babel-runtime/core-js/symbol/iterator":16}],28:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;

function drainQueue() {
    if (draining) {
        return;
    }
    draining = true;
    var currentQueue;
    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        var i = -1;
        while (++i < len) {
            currentQueue[i]();
        }
        len = queue.length;
    }
    draining = false;
}
process.nextTick = function (fun) {
    queue.push(fun);
    if (!draining) {
        setTimeout(drainQueue, 0);
    }
};

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],29:[function(require,module,exports){
require('../modules/es6.object.to-string');
require('../modules/es6.string.iterator');
require('../modules/web.dom.iterable');
require('../modules/es6.promise');
module.exports = require('../modules/$.core').Promise;
},{"../modules/$.core":122,"../modules/es6.object.to-string":172,"../modules/es6.promise":173,"../modules/es6.string.iterator":174,"../modules/web.dom.iterable":177}],30:[function(require,module,exports){
require('../modules/es6.symbol');
module.exports = require('../modules/$.core').Symbol;
},{"../modules/$.core":122,"../modules/es6.symbol":176}],31:[function(require,module,exports){
require('../../modules/es6.math.sign');
module.exports = require('../../modules/$.core').Math.sign;
},{"../../modules/$.core":122,"../../modules/es6.math.sign":171}],32:[function(require,module,exports){
require('../../modules/es6.string.repeat');
module.exports = require('../../modules/$.core').String.repeat;
},{"../../modules/$.core":122,"../../modules/es6.string.repeat":175}],33:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/es6.array.from');
module.exports = require('../../modules/$.core').Array.from;
},{"../../modules/$.core":53,"../../modules/es6.array.from":103,"../../modules/es6.string.iterator":115}],34:[function(require,module,exports){
require('../modules/web.dom.iterable');
require('../modules/es6.string.iterator');
module.exports = require('../modules/core.get-iterator');
},{"../modules/core.get-iterator":102,"../modules/es6.string.iterator":115,"../modules/web.dom.iterable":117}],35:[function(require,module,exports){
arguments[4][31][0].apply(exports,arguments)
},{"../../modules/$.core":53,"../../modules/es6.math.sign":105,"dup":31}],36:[function(require,module,exports){
require('../../modules/es6.number.epsilon');
module.exports = Math.pow(2, -52);
},{"../../modules/es6.number.epsilon":106}],37:[function(require,module,exports){
require('../../modules/es6.number.max-safe-integer');
module.exports = 0x1fffffffffffff;
},{"../../modules/es6.number.max-safe-integer":107}],38:[function(require,module,exports){
require('../../modules/es6.number.min-safe-integer');
module.exports = -0x1fffffffffffff;
},{"../../modules/es6.number.min-safe-integer":108}],39:[function(require,module,exports){
require('../../modules/es6.object.assign');
module.exports = require('../../modules/$.core').Object.assign;
},{"../../modules/$.core":53,"../../modules/es6.object.assign":109}],40:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function create(P, D){
  return $.create(P, D);
};
},{"../../modules/$":76}],41:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function defineProperty(it, key, desc){
  return $.setDesc(it, key, desc);
};
},{"../../modules/$":76}],42:[function(require,module,exports){
var $ = require('../../modules/$');
require('../../modules/es6.object.get-own-property-descriptor');
module.exports = function getOwnPropertyDescriptor(it, key){
  return $.getDesc(it, key);
};
},{"../../modules/$":76,"../../modules/es6.object.get-own-property-descriptor":110}],43:[function(require,module,exports){
require('../../modules/es6.object.keys');
module.exports = require('../../modules/$.core').Object.keys;
},{"../../modules/$.core":53,"../../modules/es6.object.keys":111}],44:[function(require,module,exports){
require('../../modules/es6.object.set-prototype-of');
module.exports = require('../../modules/$.core').Object.setPrototypeOf;
},{"../../modules/$.core":53,"../../modules/es6.object.set-prototype-of":112}],45:[function(require,module,exports){
arguments[4][29][0].apply(exports,arguments)
},{"../modules/$.core":53,"../modules/es6.object.to-string":113,"../modules/es6.promise":114,"../modules/es6.string.iterator":115,"../modules/web.dom.iterable":117,"dup":29}],46:[function(require,module,exports){
require('../../modules/es6.symbol');
module.exports = require('../../modules/$.core').Symbol;
},{"../../modules/$.core":53,"../../modules/es6.symbol":116}],47:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/web.dom.iterable');
module.exports = require('../../modules/$.wks')('iterator');
},{"../../modules/$.wks":100,"../../modules/es6.string.iterator":115,"../../modules/web.dom.iterable":117}],48:[function(require,module,exports){
module.exports = function(it){
  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
  return it;
};
},{}],49:[function(require,module,exports){
var isObject = require('./$.is-object');
module.exports = function(it){
  if(!isObject(it))throw TypeError(it + ' is not an object!');
  return it;
};
},{"./$.is-object":69}],50:[function(require,module,exports){
// 19.1.2.1 Object.assign(target, source, ...)
var toObject = require('./$.to-object')
  , IObject  = require('./$.iobject')
  , enumKeys = require('./$.enum-keys');

module.exports = require('./$.fails')(function(){
  return Symbol() in Object.assign({}); // Object.assign available and Symbol is native
}) ? function assign(target, source){   // eslint-disable-line no-unused-vars
  var T = toObject(target)
    , l = arguments.length
    , i = 1;
  while(l > i){
    var S      = IObject(arguments[i++])
      , keys   = enumKeys(S)
      , length = keys.length
      , j      = 0
      , key;
    while(length > j)T[key = keys[j++]] = S[key];
  }
  return T;
} : Object.assign;
},{"./$.enum-keys":58,"./$.fails":59,"./$.iobject":67,"./$.to-object":97}],51:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./$.cof')
  , TAG = require('./$.wks')('toStringTag')
  // ES3 wrong here
  , ARG = cof(function(){ return arguments; }()) == 'Arguments';

module.exports = function(it){
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};
},{"./$.cof":52,"./$.wks":100}],52:[function(require,module,exports){
var toString = {}.toString;

module.exports = function(it){
  return toString.call(it).slice(8, -1);
};
},{}],53:[function(require,module,exports){
var core = module.exports = {};
if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef
},{}],54:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./$.a-function');
module.exports = function(fn, that, length){
  aFunction(fn);
  if(that === undefined)return fn;
  switch(length){
    case 1: return function(a){
      return fn.call(that, a);
    };
    case 2: return function(a, b){
      return fn.call(that, a, b);
    };
    case 3: return function(a, b, c){
      return fn.call(that, a, b, c);
    };
  } return function(/* ...args */){
      return fn.apply(that, arguments);
    };
};
},{"./$.a-function":48}],55:[function(require,module,exports){
var global    = require('./$.global')
  , core      = require('./$.core')
  , PROTOTYPE = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    if(own && key in exports)continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    if(isGlobal && typeof target[key] != 'function')exp = source[key];
    // bind timers to global for call from export context
    else if(type & $def.B && own)exp = ctx(out, global);
    // wrap global constructors for prevent change them in library
    else if(type & $def.W && target[key] == out)!function(C){
      exp = function(param){
        return this instanceof C ? new C(param) : C(param);
      };
      exp[PROTOTYPE] = C[PROTOTYPE];
    }(out);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export
    exports[key] = exp;
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":53,"./$.global":62}],56:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function(it){
  if(it == undefined)throw TypeError("Can't call method on  " + it);
  return it;
};
},{}],57:[function(require,module,exports){
var isObject = require('./$.is-object')
  , document = require('./$.global').document
  // in old IE typeof document.createElement is 'object'
  , is = isObject(document) && isObject(document.createElement);
module.exports = function(it){
  return is ? document.createElement(it) : {};
};
},{"./$.global":62,"./$.is-object":69}],58:[function(require,module,exports){
// all enumerable object keys, includes symbols
var $ = require('./$');
module.exports = function(it){
  var keys       = $.getKeys(it)
    , getSymbols = $.getSymbols;
  if(getSymbols){
    var symbols = getSymbols(it)
      , isEnum  = $.isEnum
      , i       = 0
      , key;
    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);
  }
  return keys;
};
},{"./$":76}],59:[function(require,module,exports){
module.exports = function(exec){
  try {
    return !!exec();
  } catch(e){
    return true;
  }
};
},{}],60:[function(require,module,exports){
var ctx         = require('./$.ctx')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , anObject    = require('./$.an-object')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
module.exports = function(iterable, entries, fn, that){
  var iterFn = getIterFn(iterable)
    , f      = ctx(fn, that, entries ? 2 : 1)
    , index  = 0
    , length, step, iterator;
  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){
    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){
    call(iterator, f, step.value, entries);
  }
};
},{"./$.an-object":49,"./$.ctx":54,"./$.is-array-iter":68,"./$.iter-call":70,"./$.to-length":96,"./core.get-iterator-method":101}],61:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toString  = {}.toString
  , toIObject = require('./$.to-iobject')
  , getNames  = require('./$').getNames;

var windowNames = typeof window == 'object' && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function(it){
  try {
    return getNames(it);
  } catch(e){
    return windowNames.slice();
  }
};

module.exports.get = function getOwnPropertyNames(it){
  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);
  return getNames(toIObject(it));
};
},{"./$":76,"./$.to-iobject":95}],62:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var UNDEFINED = 'undefined';
var global = module.exports = typeof window != UNDEFINED && window.Math == Math
  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();
if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef
},{}],63:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function(it, key){
  return hasOwnProperty.call(it, key);
};
},{}],64:[function(require,module,exports){
var $          = require('./$')
  , createDesc = require('./$.property-desc');
module.exports = require('./$.support-desc') ? function(object, key, value){
  return $.setDesc(object, key, createDesc(1, value));
} : function(object, key, value){
  object[key] = value;
  return object;
};
},{"./$":76,"./$.property-desc":82,"./$.support-desc":91}],65:[function(require,module,exports){
module.exports = require('./$.global').document && document.documentElement;
},{"./$.global":62}],66:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function(fn, args, that){
  var un = that === undefined;
  switch(args.length){
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return              fn.apply(that, args);
};
},{}],67:[function(require,module,exports){
// indexed object, fallback for non-array-like ES3 strings
var cof = require('./$.cof');
module.exports = 0 in Object('z') ? Object : function(it){
  return cof(it) == 'String' ? it.split('') : Object(it);
};
},{"./$.cof":52}],68:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./$.iterators')
  , ITERATOR  = require('./$.wks')('iterator');
module.exports = function(it){
  return (Iterators.Array || Array.prototype[ITERATOR]) === it;
};
},{"./$.iterators":75,"./$.wks":100}],69:[function(require,module,exports){
// http://jsperf.com/core-js-isobject
module.exports = function(it){
  return it !== null && (typeof it == 'object' || typeof it == 'function');
};
},{}],70:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./$.an-object');
module.exports = function(iterator, fn, value, entries){
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch(e){
    var ret = iterator['return'];
    if(ret !== undefined)anObject(ret.call(iterator));
    throw e;
  }
};
},{"./$.an-object":49}],71:[function(require,module,exports){
'use strict';
var $ = require('./$')
  , IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });

module.exports = function(Constructor, NAME, next){
  Constructor.prototype = $.create(IteratorPrototype, {next: require('./$.property-desc')(1,next)});
  require('./$.tag')(Constructor, NAME + ' Iterator');
};
},{"./$":76,"./$.hide":64,"./$.property-desc":82,"./$.tag":92,"./$.wks":100}],72:[function(require,module,exports){
'use strict';
var LIBRARY         = require('./$.library')
  , $def            = require('./$.def')
  , $redef          = require('./$.redef')
  , hide            = require('./$.hide')
  , has             = require('./$.has')
  , SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , Iterators       = require('./$.iterators')
  , BUGGY           = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`
  , FF_ITERATOR     = '@@iterator'
  , KEYS            = 'keys'
  , VALUES          = 'values';
var returnThis = function(){ return this; };
module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){
  require('./$.iter-create')(Constructor, NAME, next);
  var createMethod = function(kind){
    switch(kind){
      case KEYS: return function keys(){ return new Constructor(this, kind); };
      case VALUES: return function values(){ return new Constructor(this, kind); };
    } return function entries(){ return new Constructor(this, kind); };
  };
  var TAG      = NAME + ' Iterator'
    , proto    = Base.prototype
    , _native  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]
    , _default = _native || createMethod(DEFAULT)
    , methods, key;
  // Fix native
  if(_native){
    var IteratorPrototype = require('./$').getProto(_default.call(new Base));
    // Set @@toStringTag to native iterators
    require('./$.tag')(IteratorPrototype, TAG, true);
    // FF fix
    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, SYMBOL_ITERATOR, returnThis);
  }
  // Define iterator
  if(!LIBRARY || FORCE)hide(proto, SYMBOL_ITERATOR, _default);
  // Plug for library
  Iterators[NAME] = _default;
  Iterators[TAG]  = returnThis;
  if(DEFAULT){
    methods = {
      keys:    IS_SET            ? _default : createMethod(KEYS),
      values:  DEFAULT == VALUES ? _default : createMethod(VALUES),
      entries: DEFAULT != VALUES ? _default : createMethod('entries')
    };
    if(FORCE)for(key in methods){
      if(!(key in proto))$redef(proto, key, methods[key]);
    } else $def($def.P + $def.F * BUGGY, NAME, methods);
  }
};
},{"./$":76,"./$.def":55,"./$.has":63,"./$.hide":64,"./$.iter-create":71,"./$.iterators":75,"./$.library":78,"./$.redef":83,"./$.tag":92,"./$.wks":100}],73:[function(require,module,exports){
var SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , SAFE_CLOSING    = false;
try {
  var riter = [7][SYMBOL_ITERATOR]();
  riter['return'] = function(){ SAFE_CLOSING = true; };
  Array.from(riter, function(){ throw 2; });
} catch(e){ /* empty */ }
module.exports = function(exec){
  if(!SAFE_CLOSING)return false;
  var safe = false;
  try {
    var arr  = [7]
      , iter = arr[SYMBOL_ITERATOR]();
    iter.next = function(){ safe = true; };
    arr[SYMBOL_ITERATOR] = function(){ return iter; };
    exec(arr);
  } catch(e){ /* empty */ }
  return safe;
};
},{"./$.wks":100}],74:[function(require,module,exports){
module.exports = function(done, value){
  return {value: value, done: !!done};
};
},{}],75:[function(require,module,exports){
module.exports = {};
},{}],76:[function(require,module,exports){
var $Object = Object;
module.exports = {
  create:     $Object.create,
  getProto:   $Object.getPrototypeOf,
  isEnum:     {}.propertyIsEnumerable,
  getDesc:    $Object.getOwnPropertyDescriptor,
  setDesc:    $Object.defineProperty,
  setDescs:   $Object.defineProperties,
  getKeys:    $Object.keys,
  getNames:   $Object.getOwnPropertyNames,
  getSymbols: $Object.getOwnPropertySymbols,
  each:       [].forEach
};
},{}],77:[function(require,module,exports){
var $         = require('./$')
  , toIObject = require('./$.to-iobject');
module.exports = function(object, el){
  var O      = toIObject(object)
    , keys   = $.getKeys(O)
    , length = keys.length
    , index  = 0
    , key;
  while(length > index)if(O[key = keys[index++]] === el)return key;
};
},{"./$":76,"./$.to-iobject":95}],78:[function(require,module,exports){
module.exports = true;
},{}],79:[function(require,module,exports){
var global    = require('./$.global')
  , macrotask = require('./$.task').set
  , Observer  = global.MutationObserver || global.WebKitMutationObserver
  , process   = global.process
  , isNode    = require('./$.cof')(process) == 'process'
  , head, last, notify;

var flush = function(){
  var parent, domain;
  if(isNode && (parent = process.domain)){
    process.domain = null;
    parent.exit();
  }
  while(head){
    domain = head.domain;
    if(domain)domain.enter();
    head.fn.call(); // <- currently we use it only for Promise - try / catch not required
    if(domain)domain.exit();
    head = head.next;
  } last = undefined;
  if(parent)parent.enter();
}

// Node.js
if(isNode){
  notify = function(){
    process.nextTick(flush);
  };
// browsers with MutationObserver
} else if(Observer){
  var toggle = 1
    , node   = document.createTextNode('');
  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new
  notify = function(){
    node.data = toggle = -toggle;
  };
// for other environments - macrotask based on:
// - setImmediate
// - MessageChannel
// - window.postMessag
// - onreadystatechange
// - setTimeout
} else {
  notify = function(){
    // strange IE + webpack dev server bug - use .call(global)
    macrotask.call(global, flush);
  };
}

module.exports = function asap(fn){
  var task = {fn: fn, next: undefined, domain: isNode && process.domain};
  if(last)last.next = task;
  if(!head){
    head = task;
    notify();
  } last = task;
};
},{"./$.cof":52,"./$.global":62,"./$.task":93}],80:[function(require,module,exports){
var $redef = require('./$.redef');
module.exports = function(target, src){
  for(var key in src)$redef(target, key, src[key]);
  return target;
};
},{"./$.redef":83}],81:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
module.exports = function(KEY, exec){
  var $def = require('./$.def')
    , fn   = (require('./$.core').Object || {})[KEY] || Object[KEY]
    , exp  = {};
  exp[KEY] = exec(fn);
  $def($def.S + $def.F * require('./$.fails')(function(){ fn(1); }), 'Object', exp);
};
},{"./$.core":53,"./$.def":55,"./$.fails":59}],82:[function(require,module,exports){
module.exports = function(bitmap, value){
  return {
    enumerable  : !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable    : !(bitmap & 4),
    value       : value
  };
};
},{}],83:[function(require,module,exports){
module.exports = require('./$.hide');
},{"./$.hide":64}],84:[function(require,module,exports){
module.exports = Object.is || function is(x, y){
  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
};
},{}],85:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var getDesc  = require('./$').getDesc
  , isObject = require('./$.is-object')
  , anObject = require('./$.an-object');
var check = function(O, proto){
  anObject(O);
  if(!isObject(proto) && proto !== null)throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} // eslint-disable-line
    ? function(buggy, set){
        try {
          set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);
          set({}, []);
        } catch(e){ buggy = true; }
        return function setPrototypeOf(O, proto){
          check(O, proto);
          if(buggy)O.__proto__ = proto;
          else set(O, proto);
          return O;
        };
      }()
    : undefined),
  check: check
};
},{"./$":76,"./$.an-object":49,"./$.ctx":54,"./$.is-object":69}],86:[function(require,module,exports){
var global = require('./$.global')
  , SHARED = '__core-js_shared__'
  , store  = global[SHARED] || (global[SHARED] = {});
module.exports = function(key){
  return store[key] || (store[key] = {});
};
},{"./$.global":62}],87:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
module.exports = Math.sign || function sign(x){
  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
};
},{}],88:[function(require,module,exports){
'use strict';
var $       = require('./$')
  , SPECIES = require('./$.wks')('species');
module.exports = function(C){
  if(require('./$.support-desc') && !(SPECIES in C))$.setDesc(C, SPECIES, {
    configurable: true,
    get: function(){ return this; }
  });
};
},{"./$":76,"./$.support-desc":91,"./$.wks":100}],89:[function(require,module,exports){
module.exports = function(it, Constructor, name){
  if(!(it instanceof Constructor))throw TypeError(name + ": use the 'new' operator!");
  return it;
};
},{}],90:[function(require,module,exports){
// true  -> String#at
// false -> String#codePointAt
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');
module.exports = function(TO_STRING){
  return function(that, pos){
    var s = String(defined(that))
      , i = toInteger(pos)
      , l = s.length
      , a, b;
    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l
      || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
        ? TO_STRING ? s.charAt(i) : a
        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};
},{"./$.defined":56,"./$.to-integer":94}],91:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./$.fails')(function(){
  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
});
},{"./$.fails":59}],92:[function(require,module,exports){
var has  = require('./$.has')
  , hide = require('./$.hide')
  , TAG  = require('./$.wks')('toStringTag');

module.exports = function(it, tag, stat){
  if(it && !has(it = stat ? it : it.prototype, TAG))hide(it, TAG, tag);
};
},{"./$.has":63,"./$.hide":64,"./$.wks":100}],93:[function(require,module,exports){
'use strict';
var ctx                = require('./$.ctx')
  , invoke             = require('./$.invoke')
  , html               = require('./$.html')
  , cel                = require('./$.dom-create')
  , global             = require('./$.global')
  , process            = global.process
  , setTask            = global.setImmediate
  , clearTask          = global.clearImmediate
  , MessageChannel     = global.MessageChannel
  , counter            = 0
  , queue              = {}
  , ONREADYSTATECHANGE = 'onreadystatechange'
  , defer, channel, port;
var run = function(){
  var id = +this;
  if(queue.hasOwnProperty(id)){
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listner = function(event){
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if(!setTask || !clearTask){
  setTask = function setImmediate(fn){
    var args = [], i = 1;
    while(arguments.length > i)args.push(arguments[i++]);
    queue[++counter] = function(){
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id){
    delete queue[id];
  };
  // Node.js 0.8-
  if(require('./$.cof')(process) == 'process'){
    defer = function(id){
      process.nextTick(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if(MessageChannel){
    channel = new MessageChannel;
    port    = channel.port2;
    channel.port1.onmessage = listner;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScript){
    defer = function(id){
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listner, false);
  // IE8-
  } else if(ONREADYSTATECHANGE in cel('script')){
    defer = function(id){
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function(id){
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set:   setTask,
  clear: clearTask
};
},{"./$.cof":52,"./$.ctx":54,"./$.dom-create":57,"./$.global":62,"./$.html":65,"./$.invoke":66}],94:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil  = Math.ceil
  , floor = Math.floor;
module.exports = function(it){
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};
},{}],95:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./$.iobject')
  , defined = require('./$.defined');
module.exports = function(it){
  return IObject(defined(it));
};
},{"./$.defined":56,"./$.iobject":67}],96:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./$.to-integer')
  , min       = Math.min;
module.exports = function(it){
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};
},{"./$.to-integer":94}],97:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./$.defined');
module.exports = function(it){
  return Object(defined(it));
};
},{"./$.defined":56}],98:[function(require,module,exports){
var id = 0
  , px = Math.random();
module.exports = function(key){
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};
},{}],99:[function(require,module,exports){
module.exports = function(){ /* empty */ };
},{}],100:[function(require,module,exports){
var store  = require('./$.shared')('wks')
  , Symbol = require('./$.global').Symbol;
module.exports = function(name){
  return store[name] || (store[name] =
    Symbol && Symbol[name] || (Symbol || require('./$.uid'))('Symbol.' + name));
};
},{"./$.global":62,"./$.shared":86,"./$.uid":98}],101:[function(require,module,exports){
var classof   = require('./$.classof')
  , ITERATOR  = require('./$.wks')('iterator')
  , Iterators = require('./$.iterators');
module.exports = require('./$.core').getIteratorMethod = function(it){
  if(it != undefined)return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];
};
},{"./$.classof":51,"./$.core":53,"./$.iterators":75,"./$.wks":100}],102:[function(require,module,exports){
var anObject = require('./$.an-object')
  , get      = require('./core.get-iterator-method');
module.exports = require('./$.core').getIterator = function(it){
  var iterFn = get(it);
  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};
},{"./$.an-object":49,"./$.core":53,"./core.get-iterator-method":101}],103:[function(require,module,exports){
'use strict';
var ctx         = require('./$.ctx')
  , $def        = require('./$.def')
  , toObject    = require('./$.to-object')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
$def($def.S + $def.F * !require('./$.iter-detect')(function(iter){ Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){
    var O       = toObject(arrayLike)
      , C       = typeof this == 'function' ? this : Array
      , mapfn   = arguments[1]
      , mapping = mapfn !== undefined
      , index   = 0
      , iterFn  = getIterFn(O)
      , length, result, step, iterator;
    if(mapping)mapfn = ctx(mapfn, arguments[2], 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){
      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){
        result[index] = mapping ? call(iterator, mapfn, [step.value, index], true) : step.value;
      }
    } else {
      for(result = new C(length = toLength(O.length)); length > index; index++){
        result[index] = mapping ? mapfn(O[index], index) : O[index];
      }
    }
    result.length = index;
    return result;
  }
});
},{"./$.ctx":54,"./$.def":55,"./$.is-array-iter":68,"./$.iter-call":70,"./$.iter-detect":73,"./$.to-length":96,"./$.to-object":97,"./core.get-iterator-method":101}],104:[function(require,module,exports){
'use strict';
var setUnscope = require('./$.unscope')
  , step       = require('./$.iter-step')
  , Iterators  = require('./$.iterators')
  , toIObject  = require('./$.to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
require('./$.iter-define')(Array, 'Array', function(iterated, kind){
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , kind  = this._k
    , index = this._i++;
  if(!O || index >= O.length){
    this._t = undefined;
    return step(1);
  }
  if(kind == 'keys'  )return step(0, index);
  if(kind == 'values')return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

setUnscope('keys');
setUnscope('values');
setUnscope('entries');
},{"./$.iter-define":72,"./$.iter-step":74,"./$.iterators":75,"./$.to-iobject":95,"./$.unscope":99}],105:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
var $def = require('./$.def');

$def($def.S, 'Math', {sign: require('./$.sign')});
},{"./$.def":55,"./$.sign":87}],106:[function(require,module,exports){
// 20.1.2.1 Number.EPSILON
var $def = require('./$.def');

$def($def.S, 'Number', {EPSILON: Math.pow(2, -52)});
},{"./$.def":55}],107:[function(require,module,exports){
// 20.1.2.6 Number.MAX_SAFE_INTEGER
var $def = require('./$.def');

$def($def.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});
},{"./$.def":55}],108:[function(require,module,exports){
// 20.1.2.10 Number.MIN_SAFE_INTEGER
var $def = require('./$.def');

$def($def.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});
},{"./$.def":55}],109:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $def = require('./$.def');

$def($def.S + $def.F, 'Object', {assign: require('./$.assign')});
},{"./$.assign":50,"./$.def":55}],110:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./$.to-iobject');

require('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){
  return function getOwnPropertyDescriptor(it, key){
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});
},{"./$.object-sap":81,"./$.to-iobject":95}],111:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./$.to-object');

require('./$.object-sap')('keys', function($keys){
  return function keys(it){
    return $keys(toObject(it));
  };
});
},{"./$.object-sap":81,"./$.to-object":97}],112:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $def = require('./$.def');
$def($def.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});
},{"./$.def":55,"./$.set-proto":85}],113:[function(require,module,exports){

},{}],114:[function(require,module,exports){
'use strict';
var $          = require('./$')
  , LIBRARY    = require('./$.library')
  , global     = require('./$.global')
  , ctx        = require('./$.ctx')
  , classof    = require('./$.classof')
  , $def       = require('./$.def')
  , isObject   = require('./$.is-object')
  , anObject   = require('./$.an-object')
  , aFunction  = require('./$.a-function')
  , strictNew  = require('./$.strict-new')
  , forOf      = require('./$.for-of')
  , setProto   = require('./$.set-proto').set
  , same       = require('./$.same')
  , species    = require('./$.species')
  , SPECIES    = require('./$.wks')('species')
  , RECORD     = require('./$.uid')('record')
  , asap       = require('./$.microtask')
  , PROMISE    = 'Promise'
  , process    = global.process
  , isNode     = classof(process) == 'process'
  , P          = global[PROMISE]
  , Wrapper;

var testResolve = function(sub){
  var test = new P(function(){});
  if(sub)test.constructor = Object;
  return P.resolve(test) === test;
};

var useNative = function(){
  var works = false;
  function P2(x){
    var self = new P(x);
    setProto(self, P2.prototype);
    return self;
  }
  try {
    works = P && P.resolve && testResolve();
    setProto(P2, P);
    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});
    // actual Firefox has broken subclass support, test that
    if(!(P2.resolve(5).then(function(){}) instanceof P2)){
      works = false;
    }
    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162
    if(works && require('./$.support-desc')){
      var thenableThenGotten = false;
      P.resolve($.setDesc({}, 'then', {
        get: function(){ thenableThenGotten = true; }
      }));
      works = thenableThenGotten;
    }
  } catch(e){ works = false; }
  return works;
}();

// helpers
var isPromise = function(it){
  return isObject(it) && (useNative ? classof(it) == 'Promise' : RECORD in it);
};
var sameConstructor = function(a, b){
  // library wrapper special case
  if(LIBRARY && a === P && b === Wrapper)return true;
  return same(a, b);
};
var getConstructor = function(C){
  var S = anObject(C)[SPECIES];
  return S != undefined ? S : C;
};
var isThenable = function(it){
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function(record, isReject){
  if(record.n)return;
  record.n = true;
  var chain = record.c;
  asap(function(){
    var value = record.v
      , ok    = record.s == 1
      , i     = 0;
    var run = function(react){
      var cb = ok ? react.ok : react.fail
        , ret, then;
      try {
        if(cb){
          if(!ok)record.h = true;
          ret = cb === true ? value : cb(value);
          if(ret === react.P){
            react.rej(TypeError('Promise-chain cycle'));
          } else if(then = isThenable(ret)){
            then.call(ret, react.res, react.rej);
          } else react.res(ret);
        } else react.rej(value);
      } catch(err){
        react.rej(err);
      }
    };
    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach
    chain.length = 0;
    record.n = false;
    if(isReject)setTimeout(function(){
      if(isUnhandled(record.p)){
        if(isNode){
          process.emit('unhandledRejection', value, record.p);
        } else if(global.console && console.error){
          console.error('Unhandled promise rejection', value);
        }
      } record.a = undefined;
    }, 1);
  });
};
var isUnhandled = function(promise){
  var record = promise[RECORD]
    , chain  = record.a || record.c
    , i      = 0
    , react;
  if(record.h)return false;
  while(chain.length > i){
    react = chain[i++];
    if(react.fail || !isUnhandled(react.P))return false;
  } return true;
};
var $reject = function(value){
  var record = this;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  record.v = value;
  record.s = 2;
  record.a = record.c.slice();
  notify(record, true);
};
var $resolve = function(value){
  var record = this
    , then;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  try {
    if(then = isThenable(value)){
      asap(function(){
        var wrapper = {r: record, d: false}; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch(e){
          $reject.call(wrapper, e);
        }
      });
    } else {
      record.v = value;
      record.s = 1;
      notify(record, false);
    }
  } catch(e){
    $reject.call({r: record, d: false}, e); // wrap
  }
};

// constructor polyfill
if(!useNative){
  // 25.4.3.1 Promise(executor)
  P = function Promise(executor){
    aFunction(executor);
    var record = {
      p: strictNew(this, P, PROMISE),         // <- promise
      c: [],                                  // <- awaiting reactions
      a: undefined,                           // <- checked in isUnhandled reactions
      s: 0,                                   // <- state
      d: false,                               // <- done
      v: undefined,                           // <- value
      h: false,                               // <- handled rejection
      n: false                                // <- notify
    };
    this[RECORD] = record;
    try {
      executor(ctx($resolve, record, 1), ctx($reject, record, 1));
    } catch(err){
      $reject.call(record, err);
    }
  };
  require('./$.mix')(P.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected){
      var S = anObject(anObject(this).constructor)[SPECIES];
      var react = {
        ok:   typeof onFulfilled == 'function' ? onFulfilled : true,
        fail: typeof onRejected == 'function'  ? onRejected  : false
      };
      var promise = react.P = new (S != undefined ? S : P)(function(res, rej){
        react.res = aFunction(res);
        react.rej = aFunction(rej);
      });
      var record = this[RECORD];
      record.c.push(react);
      if(record.a)record.a.push(react);
      if(record.s)notify(record, false);
      return promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function(onRejected){
      return this.then(undefined, onRejected);
    }
  });
}

// export
$def($def.G + $def.W + $def.F * !useNative, {Promise: P});
require('./$.tag')(P, PROMISE);
species(P);
species(Wrapper = require('./$.core')[PROMISE]);

// statics
$def($def.S + $def.F * !useNative, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r){
    return new this(function(res, rej){ rej(r); });
  }
});
$def($def.S + $def.F * (!useNative || testResolve(true)), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x){
    return isPromise(x) && sameConstructor(x.constructor, this)
      ? x : new this(function(res){ res(x); });
  }
});
$def($def.S + $def.F * !(useNative && require('./$.iter-detect')(function(iter){
  P.all(iter)['catch'](function(){});
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable){
    var C      = getConstructor(this)
      , values = [];
    return new C(function(res, rej){
      forOf(iterable, false, values.push, values);
      var remaining = values.length
        , results   = Array(remaining);
      if(remaining)$.each.call(values, function(promise, index){
        C.resolve(promise).then(function(value){
          results[index] = value;
          --remaining || res(results);
        }, rej);
      });
      else res(results);
    });
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable){
    var C = getConstructor(this);
    return new C(function(res, rej){
      forOf(iterable, false, function(promise){
        C.resolve(promise).then(res, rej);
      });
    });
  }
});
},{"./$":76,"./$.a-function":48,"./$.an-object":49,"./$.classof":51,"./$.core":53,"./$.ctx":54,"./$.def":55,"./$.for-of":60,"./$.global":62,"./$.is-object":69,"./$.iter-detect":73,"./$.library":78,"./$.microtask":79,"./$.mix":80,"./$.same":84,"./$.set-proto":85,"./$.species":88,"./$.strict-new":89,"./$.support-desc":91,"./$.tag":92,"./$.uid":98,"./$.wks":100}],115:[function(require,module,exports){
'use strict';
var $at  = require('./$.string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./$.iter-define')(String, 'String', function(iterated){
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , index = this._i
    , point;
  if(index >= O.length)return {value: undefined, done: true};
  point = $at(O, index);
  this._i += point.length;
  return {value: point, done: false};
});
},{"./$.iter-define":72,"./$.string-at":90}],116:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var $              = require('./$')
  , global         = require('./$.global')
  , has            = require('./$.has')
  , SUPPORT_DESC   = require('./$.support-desc')
  , $def           = require('./$.def')
  , $redef         = require('./$.redef')
  , shared         = require('./$.shared')
  , setTag         = require('./$.tag')
  , uid            = require('./$.uid')
  , wks            = require('./$.wks')
  , keyOf          = require('./$.keyof')
  , $names         = require('./$.get-names')
  , enumKeys       = require('./$.enum-keys')
  , isObject       = require('./$.is-object')
  , anObject       = require('./$.an-object')
  , toIObject      = require('./$.to-iobject')
  , createDesc     = require('./$.property-desc')
  , getDesc        = $.getDesc
  , setDesc        = $.setDesc
  , _create        = $.create
  , getNames       = $names.get
  , $Symbol        = global.Symbol
  , setter         = false
  , HIDDEN         = wks('_hidden')
  , isEnum         = $.isEnum
  , SymbolRegistry = shared('symbol-registry')
  , AllSymbols     = shared('symbols')
  , useNative      = typeof $Symbol == 'function'
  , ObjectProto    = Object.prototype;

var setSymbolDesc = SUPPORT_DESC ? function(){ // fallback for old Android
  try {
    return _create(setDesc({}, HIDDEN, {
      get: function(){
        return setDesc(this, HIDDEN, {value: false})[HIDDEN];
      }
    }))[HIDDEN] || setDesc;
  } catch(e){
    return function(it, key, D){
      var protoDesc = getDesc(ObjectProto, key);
      if(protoDesc)delete ObjectProto[key];
      setDesc(it, key, D);
      if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);
    };
  }
}() : setDesc;

var wrap = function(tag){
  var sym = AllSymbols[tag] = _create($Symbol.prototype);
  sym._k = tag;
  SUPPORT_DESC && setter && setSymbolDesc(ObjectProto, tag, {
    configurable: true,
    set: function(value){
      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    }
  });
  return sym;
};

var $defineProperty = function defineProperty(it, key, D){
  if(D && has(AllSymbols, key)){
    if(!D.enumerable){
      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;
      D = _create(D, {enumerable: createDesc(0, false)});
    } return setSymbolDesc(it, key, D);
  } return setDesc(it, key, D);
};
var $defineProperties = function defineProperties(it, P){
  anObject(it);
  var keys = enumKeys(P = toIObject(P))
    , i    = 0
    , l = keys.length
    , key;
  while(l > i)$defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P){
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key){
  var E = isEnum.call(this, key);
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]
    ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){
  var D = getDesc(it = toIObject(it), key);
  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);
  return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);
  return result;
};

// 19.4.1.1 Symbol([description])
if(!useNative){
  $Symbol = function Symbol(){
    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor');
    return wrap(uid(arguments[0]));
  };
  $redef($Symbol.prototype, 'toString', function toString(){
    return this._k;
  });

  $.create     = $create;
  $.isEnum     = $propertyIsEnumerable;
  $.getDesc    = $getOwnPropertyDescriptor;
  $.setDesc    = $defineProperty;
  $.setDescs   = $defineProperties;
  $.getNames   = $names.get = $getOwnPropertyNames;
  $.getSymbols = $getOwnPropertySymbols;

  if(SUPPORT_DESC && !require('./$.library')){
    $redef(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }
}

// MS Edge converts symbol values to JSON as {}
// WebKit converts symbol values in objects to JSON as null
if(!useNative || require('./$.fails')(function(){
  return JSON.stringify([{a: $Symbol()}, [$Symbol()]]) != '[{},[null]]';
}))$redef($Symbol.prototype, 'toJSON', function toJSON(){
  if(useNative && isObject(this))return this;
});

var symbolStatics = {
  // 19.4.2.1 Symbol.for(key)
  'for': function(key){
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(key){
    return keyOf(SymbolRegistry, key);
  },
  useSetter: function(){ setter = true; },
  useSimple: function(){ setter = false; }
};
// 19.4.2.2 Symbol.hasInstance
// 19.4.2.3 Symbol.isConcatSpreadable
// 19.4.2.4 Symbol.iterator
// 19.4.2.6 Symbol.match
// 19.4.2.8 Symbol.replace
// 19.4.2.9 Symbol.search
// 19.4.2.10 Symbol.species
// 19.4.2.11 Symbol.split
// 19.4.2.12 Symbol.toPrimitive
// 19.4.2.13 Symbol.toStringTag
// 19.4.2.14 Symbol.unscopables
$.each.call((
    'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +
    'species,split,toPrimitive,toStringTag,unscopables'
  ).split(','), function(it){
    var sym = wks(it);
    symbolStatics[it] = useNative ? sym : wrap(sym);
  }
);

setter = true;

$def($def.G + $def.W, {Symbol: $Symbol});

$def($def.S, 'Symbol', symbolStatics);

$def($def.S + $def.F * !useNative, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 19.4.3.5 Symbol.prototype[@@toStringTag]
setTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setTag(global.JSON, 'JSON', true);
},{"./$":76,"./$.an-object":49,"./$.def":55,"./$.enum-keys":58,"./$.fails":59,"./$.get-names":61,"./$.global":62,"./$.has":63,"./$.is-object":69,"./$.keyof":77,"./$.library":78,"./$.property-desc":82,"./$.redef":83,"./$.shared":86,"./$.support-desc":91,"./$.tag":92,"./$.to-iobject":95,"./$.uid":98,"./$.wks":100}],117:[function(require,module,exports){
require('./es6.array.iterator');
var Iterators = require('./$.iterators');
Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
},{"./$.iterators":75,"./es6.array.iterator":104}],118:[function(require,module,exports){
arguments[4][48][0].apply(exports,arguments)
},{"dup":48}],119:[function(require,module,exports){
arguments[4][49][0].apply(exports,arguments)
},{"./$.is-object":138,"dup":49}],120:[function(require,module,exports){
arguments[4][51][0].apply(exports,arguments)
},{"./$.cof":121,"./$.wks":168,"dup":51}],121:[function(require,module,exports){
arguments[4][52][0].apply(exports,arguments)
},{"dup":52}],122:[function(require,module,exports){
arguments[4][53][0].apply(exports,arguments)
},{"dup":53}],123:[function(require,module,exports){
arguments[4][54][0].apply(exports,arguments)
},{"./$.a-function":118,"dup":54}],124:[function(require,module,exports){
var global     = require('./$.global')
  , core       = require('./$.core')
  , hide       = require('./$.hide')
  , $redef     = require('./$.redef')
  , PROTOTYPE  = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    if(type & $def.B && own)exp = ctx(out, global);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if(target && !own)$redef(target, key, out);
    // export
    if(exports[key] != out)hide(exports, key, exp);
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
global.core = core;
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":122,"./$.global":131,"./$.hide":133,"./$.redef":151}],125:[function(require,module,exports){
arguments[4][56][0].apply(exports,arguments)
},{"dup":56}],126:[function(require,module,exports){
arguments[4][57][0].apply(exports,arguments)
},{"./$.global":131,"./$.is-object":138,"dup":57}],127:[function(require,module,exports){
arguments[4][58][0].apply(exports,arguments)
},{"./$":145,"dup":58}],128:[function(require,module,exports){
arguments[4][59][0].apply(exports,arguments)
},{"dup":59}],129:[function(require,module,exports){
arguments[4][60][0].apply(exports,arguments)
},{"./$.an-object":119,"./$.ctx":123,"./$.is-array-iter":137,"./$.iter-call":139,"./$.to-length":165,"./core.get-iterator-method":169,"dup":60}],130:[function(require,module,exports){
arguments[4][61][0].apply(exports,arguments)
},{"./$":145,"./$.to-iobject":164,"dup":61}],131:[function(require,module,exports){
arguments[4][62][0].apply(exports,arguments)
},{"dup":62}],132:[function(require,module,exports){
arguments[4][63][0].apply(exports,arguments)
},{"dup":63}],133:[function(require,module,exports){
arguments[4][64][0].apply(exports,arguments)
},{"./$":145,"./$.property-desc":150,"./$.support-desc":160,"dup":64}],134:[function(require,module,exports){
arguments[4][65][0].apply(exports,arguments)
},{"./$.global":131,"dup":65}],135:[function(require,module,exports){
arguments[4][66][0].apply(exports,arguments)
},{"dup":66}],136:[function(require,module,exports){
arguments[4][67][0].apply(exports,arguments)
},{"./$.cof":121,"dup":67}],137:[function(require,module,exports){
arguments[4][68][0].apply(exports,arguments)
},{"./$.iterators":144,"./$.wks":168,"dup":68}],138:[function(require,module,exports){
arguments[4][69][0].apply(exports,arguments)
},{"dup":69}],139:[function(require,module,exports){
arguments[4][70][0].apply(exports,arguments)
},{"./$.an-object":119,"dup":70}],140:[function(require,module,exports){
arguments[4][71][0].apply(exports,arguments)
},{"./$":145,"./$.hide":133,"./$.property-desc":150,"./$.tag":161,"./$.wks":168,"dup":71}],141:[function(require,module,exports){
arguments[4][72][0].apply(exports,arguments)
},{"./$":145,"./$.def":124,"./$.has":132,"./$.hide":133,"./$.iter-create":140,"./$.iterators":144,"./$.library":147,"./$.redef":151,"./$.tag":161,"./$.wks":168,"dup":72}],142:[function(require,module,exports){
arguments[4][73][0].apply(exports,arguments)
},{"./$.wks":168,"dup":73}],143:[function(require,module,exports){
arguments[4][74][0].apply(exports,arguments)
},{"dup":74}],144:[function(require,module,exports){
arguments[4][75][0].apply(exports,arguments)
},{"dup":75}],145:[function(require,module,exports){
arguments[4][76][0].apply(exports,arguments)
},{"dup":76}],146:[function(require,module,exports){
arguments[4][77][0].apply(exports,arguments)
},{"./$":145,"./$.to-iobject":164,"dup":77}],147:[function(require,module,exports){
module.exports = false;
},{}],148:[function(require,module,exports){
arguments[4][79][0].apply(exports,arguments)
},{"./$.cof":121,"./$.global":131,"./$.task":162,"dup":79}],149:[function(require,module,exports){
arguments[4][80][0].apply(exports,arguments)
},{"./$.redef":151,"dup":80}],150:[function(require,module,exports){
arguments[4][82][0].apply(exports,arguments)
},{"dup":82}],151:[function(require,module,exports){
// add fake Function#toString
// for correct work wrapped methods / constructors with methods like LoDash isNative
var global    = require('./$.global')
  , hide      = require('./$.hide')
  , SRC       = require('./$.uid')('src')
  , TO_STRING = 'toString'
  , $toString = Function[TO_STRING]
  , TPL       = ('' + $toString).split(TO_STRING);

require('./$.core').inspectSource = function(it){
  return $toString.call(it);
};

(module.exports = function(O, key, val, safe){
  if(typeof val == 'function'){
    hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
    if(!('name' in val))val.name = key;
  }
  if(O === global){
    O[key] = val;
  } else {
    if(!safe)delete O[key];
    hide(O, key, val);
  }
})(Function.prototype, TO_STRING, function toString(){
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});
},{"./$.core":122,"./$.global":131,"./$.hide":133,"./$.uid":166}],152:[function(require,module,exports){
arguments[4][84][0].apply(exports,arguments)
},{"dup":84}],153:[function(require,module,exports){
arguments[4][85][0].apply(exports,arguments)
},{"./$":145,"./$.an-object":119,"./$.ctx":123,"./$.is-object":138,"dup":85}],154:[function(require,module,exports){
arguments[4][86][0].apply(exports,arguments)
},{"./$.global":131,"dup":86}],155:[function(require,module,exports){
arguments[4][87][0].apply(exports,arguments)
},{"dup":87}],156:[function(require,module,exports){
arguments[4][88][0].apply(exports,arguments)
},{"./$":145,"./$.support-desc":160,"./$.wks":168,"dup":88}],157:[function(require,module,exports){
arguments[4][89][0].apply(exports,arguments)
},{"dup":89}],158:[function(require,module,exports){
arguments[4][90][0].apply(exports,arguments)
},{"./$.defined":125,"./$.to-integer":163,"dup":90}],159:[function(require,module,exports){
'use strict';
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');

module.exports = function repeat(count){
  var str = String(defined(this))
    , res = ''
    , n   = toInteger(count);
  if(n < 0 || n == Infinity)throw RangeError("Count can't be negative");
  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;
  return res;
};
},{"./$.defined":125,"./$.to-integer":163}],160:[function(require,module,exports){
arguments[4][91][0].apply(exports,arguments)
},{"./$.fails":128,"dup":91}],161:[function(require,module,exports){
arguments[4][92][0].apply(exports,arguments)
},{"./$.has":132,"./$.hide":133,"./$.wks":168,"dup":92}],162:[function(require,module,exports){
arguments[4][93][0].apply(exports,arguments)
},{"./$.cof":121,"./$.ctx":123,"./$.dom-create":126,"./$.global":131,"./$.html":134,"./$.invoke":135,"dup":93}],163:[function(require,module,exports){
arguments[4][94][0].apply(exports,arguments)
},{"dup":94}],164:[function(require,module,exports){
arguments[4][95][0].apply(exports,arguments)
},{"./$.defined":125,"./$.iobject":136,"dup":95}],165:[function(require,module,exports){
arguments[4][96][0].apply(exports,arguments)
},{"./$.to-integer":163,"dup":96}],166:[function(require,module,exports){
arguments[4][98][0].apply(exports,arguments)
},{"dup":98}],167:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./$.wks')('unscopables');
if(!(UNSCOPABLES in []))require('./$.hide')(Array.prototype, UNSCOPABLES, {});
module.exports = function(key){
  [][UNSCOPABLES][key] = true;
};
},{"./$.hide":133,"./$.wks":168}],168:[function(require,module,exports){
arguments[4][100][0].apply(exports,arguments)
},{"./$.global":131,"./$.shared":154,"./$.uid":166,"dup":100}],169:[function(require,module,exports){
arguments[4][101][0].apply(exports,arguments)
},{"./$.classof":120,"./$.core":122,"./$.iterators":144,"./$.wks":168,"dup":101}],170:[function(require,module,exports){
arguments[4][104][0].apply(exports,arguments)
},{"./$.iter-define":141,"./$.iter-step":143,"./$.iterators":144,"./$.to-iobject":164,"./$.unscope":167,"dup":104}],171:[function(require,module,exports){
arguments[4][105][0].apply(exports,arguments)
},{"./$.def":124,"./$.sign":155,"dup":105}],172:[function(require,module,exports){
'use strict';
// 19.1.3.6 Object.prototype.toString()
var classof = require('./$.classof')
  , test    = {};
test[require('./$.wks')('toStringTag')] = 'z';
if(test + '' != '[object z]'){
  require('./$.redef')(Object.prototype, 'toString', function toString(){
    return '[object ' + classof(this) + ']';
  }, true);
}
},{"./$.classof":120,"./$.redef":151,"./$.wks":168}],173:[function(require,module,exports){
arguments[4][114][0].apply(exports,arguments)
},{"./$":145,"./$.a-function":118,"./$.an-object":119,"./$.classof":120,"./$.core":122,"./$.ctx":123,"./$.def":124,"./$.for-of":129,"./$.global":131,"./$.is-object":138,"./$.iter-detect":142,"./$.library":147,"./$.microtask":148,"./$.mix":149,"./$.same":152,"./$.set-proto":153,"./$.species":156,"./$.strict-new":157,"./$.support-desc":160,"./$.tag":161,"./$.uid":166,"./$.wks":168,"dup":114}],174:[function(require,module,exports){
arguments[4][115][0].apply(exports,arguments)
},{"./$.iter-define":141,"./$.string-at":158,"dup":115}],175:[function(require,module,exports){
var $def = require('./$.def');

$def($def.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./$.string-repeat')
});
},{"./$.def":124,"./$.string-repeat":159}],176:[function(require,module,exports){
arguments[4][116][0].apply(exports,arguments)
},{"./$":145,"./$.an-object":119,"./$.def":124,"./$.enum-keys":127,"./$.fails":128,"./$.get-names":130,"./$.global":131,"./$.has":132,"./$.is-object":138,"./$.keyof":146,"./$.library":147,"./$.property-desc":150,"./$.redef":151,"./$.shared":154,"./$.support-desc":160,"./$.tag":161,"./$.to-iobject":164,"./$.uid":166,"./$.wks":168,"dup":116}],177:[function(require,module,exports){
require('./es6.array.iterator');
var global      = require('./$.global')
  , hide        = require('./$.hide')
  , Iterators   = require('./$.iterators')
  , ITERATOR    = require('./$.wks')('iterator')
  , NL          = global.NodeList
  , HTC         = global.HTMLCollection
  , NLProto     = NL && NL.prototype
  , HTCProto    = HTC && HTC.prototype
  , ArrayValues = Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
if(NL && !(ITERATOR in NLProto))hide(NLProto, ITERATOR, ArrayValues);
if(HTC && !(ITERATOR in HTCProto))hide(HTCProto, ITERATOR, ArrayValues);
},{"./$.global":131,"./$.hide":133,"./$.iterators":144,"./$.wks":168,"./es6.array.iterator":170}],178:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPropertyDescriptor = require("../types/property-descriptor");

var DeclarativeEnvironment = (function () {
	function DeclarativeEnvironment(parent, thisArg, env) {
		_classCallCheck(this, DeclarativeEnvironment);

		this.properties = _Object$create(null);
		this.parent = parent && parent.scope;
		this.strict = parent.strict;
		this.thisBinding = thisArg;
		this.env = env;
	}

	_createClass(DeclarativeEnvironment, [{
		key: "setParent",
		value: function setParent(parent) {
			this.parent = parent.scope || parent;
		}
	}, {
		key: "getReference",
		value: function getReference(key) {
			var ref = new _reference.Reference(key, this, this.env);
			ref.unqualified = true;
			return ref;
		}
	}, {
		key: "has",
		value: function has(key) {
			return key in this.properties;
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.has(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			if (!this.has(key)) {
				return true;
			}

			if (!this.properties[key].configurable) {
				return false;
			}

			delete this.properties[key];
			return true;
		}
	}, {
		key: "createVariable",
		value: function createVariable(key) {
			if (this.has(key)) {
				return this.properties[key];
			}

			return this.properties[key] = new _typesPropertyDescriptor.PropertyDescriptor(this, {
				value: undefined,
				configurable: false,
				enumerable: true,
				writable: true
			});
		}
	}, {
		key: "putValue",
		value: function putValue(key, value, throwOnError) {
			if (this.has(key)) {
				if (!this.properties[key].writable) {
					if (throwOnError) {
						throw new TypeError("Cannot write to immutable binding: " + key);
					}

					return;
				}

				this.properties[key].setValue(value);
			} else {
				var _parent;

				(_parent = this.parent).putValue.apply(_parent, arguments);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(key, throwOnError) {
			if (this.has(key)) {
				if (!this.properties[key].value) {
					if (throwOnError) {
						throw new ReferenceError(key + " is not defined");
					}

					return undefined;
				}

				return this.properties[key].getValue();
			}
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return DeclarativeEnvironment;
})();

exports.DeclarativeEnvironment = DeclarativeEnvironment;
},{"../types/property-descriptor":231,"./reference":183,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],179:[function(require,module,exports){
// todo: switch to estree-walker
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.visit = visit;

function visit(node, callback) {
	if (!node) {
		return;
	}

	if (Array.isArray(node)) {
		node.forEach(function (n) {
			return visit(n, callback);
		});
		return;
	}

	switch (node.type) {
		case "Program":
		case "BlockStatement":
			visit(node.body, callback);
			break;

		case "CatchClause":
			visit(node.body, callback);
			break;

		case "DoWhileStatement":
		case "WhileStatement":
			visit(node.test, callback);
			visit(node.body, callback);
			break;

		case "ExpressionStatement":
			visit(node.expression, callback);
			break;

		case "ForStatement":
			visit(node.init, callback);
			visit(node.body, callback);
			break;

		case "ForInStatement":
			visit(node.left, callback);
			visit(node.body, callback);
			break;

		case "IfStatement":
			// do not scan `test`
			visit(node.consequent, callback);
			visit(node.alternate, callback);
			break;

		case "LabeledStatement":
			visit(node.body, callback);
			break;

		case "SwitchStatement":
			visit(node.discriminant, callback);
			break;

		case "SwitchCase":
			visit(node.consequent, callback);
			break;

		case "TryStatement":
			visit(node.block, callback);
			visit(node.handler, callback);
			visit(node.finalizer, callback);
			break;

		case "VariableDeclaration":
			visit(node.declarations, callback);
			break;

		case "FunctionDeclaration":
		case "VariableDeclarator":
			callback(node);
			break;

		default:
		// ignore all other nodes
	}
}

;
},{}],180:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$assign = require("babel-runtime/core-js/object/assign")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _executionContext = require("../execution-context");

var _declarativeEnvironment = require("./declarative-environment");

var _objectEnvironment = require("./object-environment");

var _reference = require("./reference");

var _es5 = require("../es5");

var _es52 = _interopRequireDefault(_es5);

var _es6 = require("../es6");

var _es62 = _interopRequireDefault(_es6);

var _utilsOperators = require("../utils/operators");

var _utilsOperators2 = _interopRequireDefault(_utilsOperators);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _scope = require("./scope");

var defaultOptions = {
	allowDebugger: false,
	useStrict: false,
	ecmaVersion: 5
};

var Environment = (function () {
	function Environment() {
		_classCallCheck(this, Environment);
	}

	_createClass(Environment, [{
		key: "init",
		value: function init() {
			var _this = this;

			var options = arguments.length <= 0 || arguments[0] === undefined ? defaultOptions : arguments[0];

			// clear state in case of re-init
			this.current = null;
			this.globalScope = null;

			this.options = _Object$assign({}, defaultOptions, options);
			(options.ecmaVersion === 6 ? _es62["default"] : _es52["default"])(this);

			// todo: improve this
			this.ops = _Object$assign(_utilsOperators2["default"], options.operators);
			this.ops.env = this;

			this.objectFactory.init();

			if (options.exclude && options.exclude.length > 0) {
				options.exclude.forEach(function (name) {
					var segments = name.split(".");
					var parent = _this.global;

					while (segments.length > 1) {
						parent = parent.getValue(segments.shift());

						// api not defined - assume user error?
						if (!parent) {
							return;
						}
					}

					parent.remove(segments.shift());
				});
			}
		}

		/**
   * Gets a reference from the environment
   * @param {String} key - The key of the property
   * @returns {Reference} The reference.
   */
	}, {
		key: "getReference",
		value: function getReference(key) {
			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.owns(key)) {
					return scope.getReference(key, true);
				}

				scope = scope.parent;
			}

			return new _reference.Reference(key, undefined, this);
		}
	}, {
		key: "getValue",
		value: function getValue(key) {
			return this.getReference(key).getValue();
		}
	}, {
		key: "putValue",
		value: function putValue(key, value, strict) {
			this.current.scope.putValue(key, value, strict);
		}
	}, {
		key: "has",
		value: function has(key) {
			return this.current.scope.has(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			this.current.scope.deleteVariable(key);
		}

		/**
   * Declares a variable within the current scope.
   * @param {String} key - the key of the variable.
   * @param {Boolean} [immutable] - whether the variable is immutable or not.
   * @returns {PropertyDescriptor} The property descriptor for the new variabble.
   */
	}, {
		key: "createVariable",
		value: function createVariable(key, immutable) {
			contracts.assertIsValidIdentifier(key, this.isStrict());
			return this.current.scope.createVariable(key, !immutable);
		}

		/**
   * Indicates whether the current lexical scope is in strict mode.
   * @returns {Boolean} true if in strict mode; false otherwise.
   */
	}, {
		key: "isStrict",
		value: function isStrict() {
			if (this.options.useStrict) {
				return true;
			}

			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.strict) {
					return true;
				}

				scope = scope.parent;
			}

			return false;
		}

		/**
   * Gets the current `this` object for the environment.
   * @returns {ObjectType} The `this` object for the current scope.
   */
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			var thisArg = this.current.scope.getThisBinding();
			if (thisArg) {
				return thisArg;
			}

			if (this.isStrict()) {
				return _typesPrimitiveType.UNDEFINED;
			}

			return this.global;
		}
	}, {
		key: "createExecutionContext",
		value: function createExecutionContext(node, callee, isNew) {
			return new _executionContext.ExecutionContext(this, node, callee, isNew);
		}

		/**
   * Creates a new declarative scope.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createScope",
		value: function createScope(thisArg) {
			return this.setScope(new _declarativeEnvironment.DeclarativeEnvironment(this.current, thisArg, this));
		}

		/**
   * Creates a new scope based on the provided object. This is used for the `with`
   * statement, as well as the global scope.
   * @param {ObjectType} obj - The object to bind the scope to.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createObjectScope",
		value: function createObjectScope(obj, thisArg) {
			return this.setScope(new _objectEnvironment.ObjectEnvironment(this.current, obj, thisArg, this));
		}

		/**
   * Sets the current scope.
   * @param {Environment} scope - Sets the current environment.
   * @returns {Scope} The created scope.
   */
	}, {
		key: "setScope",
		value: function setScope(scope) {
			return this.current = new _scope.Scope(this, scope);
		}
	}]);

	return Environment;
})();

exports.Environment = Environment;
},{"../es5":192,"../es6":201,"../execution-context":209,"../types/primitive-type":230,"../utils/contracts":238,"../utils/operators":241,"./declarative-environment":178,"./object-environment":181,"./reference":183,"./scope":184,"babel-runtime/core-js/object/assign":8,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24}],181:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propertyReference = require("./property-reference");

var ObjectEnvironment = (function () {
	function ObjectEnvironment(parent, obj, thisArg, env) {
		_classCallCheck(this, ObjectEnvironment);

		this.parent = parent && parent.scope;
		this.strict = parent && parent.strict;
		this.object = obj;
		this.thisBinding = thisArg || obj;
		this.env = env;
	}

	_createClass(ObjectEnvironment, [{
		key: "getReference",
		value: function getReference(key, unqualified) {
			var ref = new _propertyReference.PropertyReference(key, this.object, this.env);
			ref.unqualified = unqualified;
			return ref;
		}
	}, {
		key: "has",
		value: function has(key) {
			return this.parent ? this.parent.has(key) : this.owns(key);
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.object.has(key);
		}
	}, {
		key: "getVariable",
		value: function getVariable(key) {
			return this.object.getProperty(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			return this.object.deleteProperty(key, false);
		}
	}, {
		key: "createVariable",
		value: function createVariable(key, immutable) {
			if (this.parent) {
				var _parent;

				return (_parent = this.parent).createVariable.apply(_parent, arguments);
			} else {
				this.object.defineOwnProperty(key, {
					value: undefined,
					configurable: immutable,
					enumerable: true,
					writable: true
				}, this.env.isStrict());

				return this.object.getProperty(key);
			}
		}
	}, {
		key: "putValue",
		value: function putValue(key, value, throwOnError) {
			if (this.parent && !this.object.has(key)) {
				var _parent2;

				(_parent2 = this.parent).putValue.apply(_parent2, arguments);
			} else {
				this.object.putValue(key, value, throwOnError);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(key, throwOnError) {
			if (!this.owns(key)) {
				if (throwOnError) {
					throw new ReferenceError(key + " is not defined.");
				}

				return undefined;
			}

			return this.object.getValue(key);
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return ObjectEnvironment;
})();

exports.ObjectEnvironment = ObjectEnvironment;
},{"./property-reference":182,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],182:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPrimitiveType = require("../types/primitive-type");

/**
 * An object which represents a reference to an object's property.
 */

var PropertyReference = (function (_Reference) {
	_inherits(PropertyReference, _Reference);

	function PropertyReference(key, object, env) {
		_classCallCheck(this, PropertyReference);

		_get(Object.getPrototypeOf(PropertyReference.prototype), "constructor", this).call(this, key, object, env);
		this.isPropertyReference = true;
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(PropertyReference, [{
		key: "getValue",
		value: function getValue() {
			var prop = this.base.getProperty(this.key);
			return prop && prop.getValue() || new _typesPrimitiveType.PrimitiveType();
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (this.base.has(this.key)) {
				this.base.putValue(this.key, value, this.strict, this.env);
			} else {
				this.base.defineOwnProperty(this.key, { value: value, configurable: true, enumerable: true, writable: true }, this.strict, this.env);
			}
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			return this.base.deleteProperty(this.key, this.env.isStrict());
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return false;
		}
	}]);

	return PropertyReference;
})(_reference.Reference);

exports.PropertyReference = PropertyReference;
},{"../types/primitive-type":230,"./reference":183,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],183:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var Reference = (function () {
	function Reference(key, base, env) {
		_classCallCheck(this, Reference);

		this.isReference = true;
		this.unqualified = false;

		this.key = key;
		this.base = base;
		this.env = env;
		this.strict = env.isStrict();
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(Reference, [{
		key: "getValue",
		value: function getValue() {
			if (!this.base) {
				throw new ReferenceError(this.key + " is not defined");
			}

			return this.base.getValue(this.key, this.strict);
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (this.base) {
				return this.base.putValue(this.key, value, this.strict);
			}

			// check identifier before strict
			contracts.assertIsValidIdentifier(this.key, this.strict);

			if (this.strict) {
				throw new ReferenceError(this.key + " is not defined");
			}

			return this.env.global.defineOwnProperty(this.key, {
				value: value,
				configurable: true,
				enumerable: true,
				writable: true
			}, false, this.env);
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			if (this.base) {
				return this.base.deleteVariable(this.key);
			}

			return true;
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return !this.base;
		}
	}]);

	return Reference;
})();

exports.Reference = Reference;
},{"../utils/contracts":238,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/interop-require-wildcard":24}],184:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _estreeWalker = require("../estree-walker");

var _estreeWalker2 = _interopRequireDefault(_estreeWalker);

var _hoister = require("./hoister");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _syntaxRules = require("../syntax-rules");

var _syntaxRules2 = _interopRequireDefault(_syntaxRules);

var _utilsAsync = require("../utils/async");

var _utilsAssign = require("../utils/assign");

function validateSyntax(root) {
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = _getIterator(_estreeWalker2["default"].create(root)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var node = _step.value;

			if (node.type in _syntaxRules2["default"]) {
				_syntaxRules2["default"][node.type](node, true);
			}
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator["return"]) {
				_iterator["return"]();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}
}

var Scope = (function () {
	function Scope(env, scope) {
		_classCallCheck(this, Scope);

		env.globalScope = env.globalScope || this;

		this.scope = scope;
		this.env = env;
		this.priorScope = (env.current || env.globalScope).scope;
	}

	/**
  * Initializes the scope by validating the function body and hoisting variables.
  * @param {AST} node - The node to be executed.
  * @returns {void}
  */

	_createClass(Scope, [{
		key: "init",
		value: function init(node) {
			var _this = this;

			if (!node) {
				return;
			}

			var env = this.env;
			this.scope.strict = contracts.isStrictNode(node.body);

			var strict = this.scope.strict || env.isStrict();
			if (strict && node.type === "Program") {
				validateSyntax(node);
			}

			(0, _hoister.visit)(node, function (decl) {
				var name = decl.name || decl.id.name;
				contracts.assertIsValidParameterName(name, strict);

				var value = _typesPrimitiveType.UNDEFINED;
				if (decl.type === "FunctionDeclaration") {
					// functions can be used before they are defined
					var strictFunc = strict || contracts.isStrictNode(decl.body.body);
					value = env.objectFactory.createFunction(decl, undefined, { strict: strictFunc });
					value.bindScope(_this);
				} else if (_this.scope.has(name)) {
					return;
				}

				var newVar = env.createVariable(name, true);
				newVar.setValue(value);
			});
		}
	}, {
		key: "loadComplexArgs",
		value: _regeneratorRuntime.mark(function loadComplexArgs(params, args, callee) {
			var env, strict, scope, argIndex, argLength;
			return _regeneratorRuntime.wrap(function loadComplexArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						env = this.env;
						strict = env.isStrict() || callee.isStrict();
						scope = this.createParameterScope();
						argIndex = 0;
						argLength = args.length;
						context$2$0.next = 7;
						return (0, _utilsAsync.each)(params, _regeneratorRuntime.mark(function callee$2$0(param, index) {
							var rest, restIndex;
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										if (!(param.type === "RestElement")) {
											context$3$0.next = 7;
											break;
										}

										rest = env.objectFactory.createArray();
										restIndex = 0;

										while (argIndex < argLength) {
											rest.putValue(restIndex++, args[argIndex++] || _typesPrimitiveType.UNDEFINED, true, env);
										}

										scope.putValue(param.name, rest, true, env);
										context$3$0.next = 9;
										break;

									case 7:
										context$3$0.next = 9;
										return (0, _utilsAssign.declare)(env, param, args[argIndex++] || _typesPrimitiveType.UNDEFINED, true);

									case 9:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 7:

						if (!callee.arrow) {
							(function () {
								// preserve the passed in arguments, even if defaults are used instead
								var argumentList = env.objectFactory.createArguments(args, callee, strict);
								scope.createVariable("arguments");
								scope.putValue("arguments", argumentList);

								args.forEach(function (value, index) {
									argumentList.defineOwnProperty(index, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								});

								argumentList.defineOwnProperty("length", {
									value: env.objectFactory.createPrimitive(args.length),
									configurable: true,
									writable: true
								});
							})();
						}

						// return scope back to main scope
						this.env.setScope(this.scope);

					case 9:
					case "end":
						return context$2$0.stop();
				}
			}, loadComplexArgs, this);
		})

		/**
   * Loads the arguments into the scope and creates the special `arguments` object.
   * @param {AST[]} params - The parameter identifiers
   * @param {ObjectType[]} args - The argument values
   * @param {FunctionType} callee - The function
   * @returns {void}
   */
	}, {
		key: "loadArgs",
		value: _regeneratorRuntime.mark(function loadArgs(params, args, callee) {
			var env, scope, strict, argumentList, argsLength, shouldMap, _i, ln, param, value, _name, descriptor, i;

			return _regeneratorRuntime.wrap(function loadArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (!(params && params.some(function (p) {
							return p.type !== "Identifier";
						}))) {
							context$2$0.next = 4;
							break;
						}

						context$2$0.next = 3;
						return this.loadComplexArgs(params, args, callee);

					case 3:
						return context$2$0.abrupt("return");

					case 4:
						env = this.env;
						scope = this.scope;
						strict = env.isStrict() || callee.isStrict();
						argumentList = env.objectFactory.createArguments(args, callee, strict);

						scope.createVariable("arguments");
						scope.putValue("arguments", argumentList);

						argsLength = args.length;

						if (params) {
							shouldMap = !callee.isStrict();

							for (_i = 0, ln = params.length; _i < ln; _i++) {
								param = params[_i];
								value = args[_i] || _typesPrimitiveType.UNDEFINED;
								_name = param.name;

								if (shouldMap && !scope.has(_name)) {
									descriptor = scope.createVariable(_name);

									if (argsLength > _i) {
										argumentList.mapProperty(_i, descriptor);
									}
								}

								if (!shouldMap && _i < argsLength) {
									argumentList.defineOwnProperty(_i, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								}

								contracts.assertIsValidParameterName(_name, strict);
								scope.putValue(_name, value, true, env);
							}
						}

						// just set value if additional, unnamed arguments are passed in
						i = params ? params.length : 0;

						for (; i < argsLength; i++) {
							argumentList.defineOwnProperty(i, {
								value: args[i],
								configurable: true,
								enumerable: true,
								writable: true
							});
						}

						argumentList.defineOwnProperty("length", {
							value: env.objectFactory.createPrimitive(argsLength),
							configurable: true,
							writable: true
						});

					case 15:
					case "end":
						return context$2$0.stop();
				}
			}, loadArgs, this);
		})
	}, {
		key: "createParameterScope",
		value: function createParameterScope() {
			var scope = this.env.createScope();
			scope.scope.setParent(this.scope.parent);
			this.scope.setParent(scope);
			return scope.scope;
		}

		/**
   * Runs the passed in function and exits the scope when the function completes,
   * returning the environment back to the previos state.
   * @param {Function} inner - The function to execute.
   * @returns {Iterator} The function results
   */
	}, {
		key: "use",
		value: _regeneratorRuntime.mark(function use(inner) {
			var result;
			return _regeneratorRuntime.wrap(function use$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.prev = 0;
						context$2$0.next = 3;
						return inner();

					case 3:
						result = context$2$0.sent;

						this.exit();
						return context$2$0.abrupt("return", result);

					case 8:
						context$2$0.prev = 8;
						context$2$0.t0 = context$2$0["catch"](0);

						this.exit();
						throw context$2$0.t0;

					case 12:
					case "end":
						return context$2$0.stop();
				}
			}, use, this, [[0, 8]]);
		})

		/**
   * Exits the scope, returning the environment to it's previous state.
   * (Typically you would call `use` which handles exiting the scope itself.)
   * @returns {void}
   */
	}, {
		key: "exit",
		value: function exit() {
			this.env.setScope(this.priorScope);
		}
	}]);

	return Scope;
})();

exports.Scope = Scope;

// create a temporary scope for the argument declarations

// todo: this method is getting far too complex
},{"../estree-walker":208,"../syntax-rules":219,"../types/primitive-type":230,"../utils/assign":236,"../utils/async":237,"../utils/contracts":238,"./hoister":179,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],185:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getStartIndex = getStartIndex;
exports.getEndIndex = getEndIndex;
exports.executeCallback = executeCallback;
exports["default"] = arrayApi;
var marked0$0 = [executeCallback].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../../utils/async");

var _typesSymbolType = require("../../types/symbol-type");

function getStartIndex(index, length) {
	if (index < 0) {
		return Math.max(length - Math.abs(index), 0);
	}

	return Math.min(index || 0, length);
}

function getEndIndex(index, length) {
	if (index < 0) {
		return Math.max(length + index, 0);
	}

	return Math.min(index, length);
}

function executeCallback(env, callback, entry, thisArg, arr) {
	var scope, args;
	return _regeneratorRuntime.wrap(function executeCallback$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!thisArg) {
					thisArg = callback.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;
				}

				scope = callback.createScope(env, thisArg, false);

				scope.init(callback.node.body);

				args = [entry.value, env.objectFactory.createPrimitive(entry.key), arr];
				context$1$0.next = 6;
				return scope.loadArgs(callback.node.params, args, callback);

			case 6:
				context$1$0.next = 8;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					var executionResult;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return env.createExecutionContext(callback.node.body, callback.node).execute();

							case 2:
								executionResult = context$2$0.sent;

								if (!(executionResult && executionResult.exit)) {
									context$2$0.next = 5;
									break;
								}

								return context$2$0.abrupt("return", executionResult.result || _typesPrimitiveType.UNDEFINED);

							case 5:
								return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function arrayApi(env) {
	var marked1$0 = [executeAccumulator, join].map(_regeneratorRuntime.mark);

	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	function executeAccumulator(callback, priorValue, entry, arr) {
		var scope, args;
		return _regeneratorRuntime.wrap(function executeAccumulator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					scope = callback.createScope(env);

					scope.init(callback.node.body);

					args = [priorValue || _typesPrimitiveType.UNDEFINED, entry.value || _typesPrimitiveType.UNDEFINED, objectFactory.createPrimitive(entry.key), arr];
					context$2$0.next = 5;
					return scope.loadArgs(callback.node.params, args, callback);

				case 5:
					context$2$0.next = 7;
					return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
						var executionResult;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return env.createExecutionContext(callback.node.body, callback.node).execute();

								case 2:
									executionResult = context$3$0.sent;

									if (!(executionResult && executionResult.exit)) {
										context$3$0.next = 5;
										break;
									}

									return context$3$0.abrupt("return", executionResult.result || _typesPrimitiveType.UNDEFINED);

								case 5:
									return context$3$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

								case 6:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 7:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	function createIndexProperty(value) {
		return {
			value: value,
			configurable: true,
			enumerable: true,
			writable: true
		};
	}

	var arrayClass = objectFactory.createFunction(function (length) {
		var newArray = objectFactory.create("Array");

		if (arguments.length > 0) {
			if (arguments.length === 1 && length.type === "number") {
				contracts.assertIsValidArrayLength(arguments[0].value);
				newArray.putValue("length", length, false, env);
			} else {
				for (var i = 0, ln = arguments.length; i < ln; i++) {
					newArray.defineOwnProperty(i, createIndexProperty(arguments[i]), false, env);
				}
			}
		}

		return newArray;
	}, null, { configurable: false, enumerable: false, writable: false });

	var proto = arrayClass.getValue("prototype");
	proto.className = "Array";
	proto.define("length", objectFactory.createPrimitive(0), { configurable: false, enumerable: false, writable: true });

	arrayClass.define("isArray", objectFactory.createBuiltInFunction(function (obj) {
		return objectFactory.createPrimitive(!!(obj && obj.className === "Array"));
	}, 1, "Array.isArray"));

	proto.define("push", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var start, i, _length, newLength;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					start = context$2$0.sent;
					i = 0;

					for (_length = items.length; i < _length; i++) {
						this.node.defineOwnProperty(start + i, createIndexProperty(items[i]), true, env);
					}

					newLength = objectFactory.createPrimitive(start + i);

					this.node.putValue("length", newLength, true, env);
					return context$2$0.abrupt("return", newLength);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.push"));

	proto.define("pop", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					i = context$2$0.sent;

					if (i > 0) {
						i--;

						if (this.node.has(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i, true);
						}
					}

					this.node.putValue("length", objectFactory.createPrimitive(i), true, env);
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.pop"));

	proto.define("shift", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, length, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;
					i = 0;

					if (length > 0) {
						if (this.node.has(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i);
						}

						while (++i < length) {
							if (this.node.has(i)) {
								this.node.putValue(i - 1, this.node.getValue(i), true, env);
							} else {
								this.node.deleteProperty(i);
							}
						}

						this.node.deleteProperty(length - 1);
					}

					this.node.putValue("length", objectFactory.createPrimitive(length === 0 ? 0 : --length), true, env);
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.shift"));

	proto.define("unshift", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len2 = arguments.length, items = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
			items[_key2] = arguments[_key2];
		}

		var length, argCount, i, toIndex, fromIndex, newLength;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					argCount = items.length;
					i = length;
					toIndex = undefined, fromIndex = undefined;

					while (i > 0) {
						fromIndex = i - 1;
						toIndex = i + argCount - 1;

						if (this.node.has(fromIndex)) {
							this.node.putValue(toIndex, this.node.getValue(fromIndex), true, env);
						} else {
							this.node.deleteProperty(toIndex, true);
						}

						i--;
					}

					for (i = 0; i < argCount; i++) {
						this.node.putValue(i, items[i], true, env);
					}

					newLength = objectFactory.createPrimitive(argCount + length);

					this.node.putValue("length", newLength, true, env);
					return context$2$0.abrupt("return", newLength);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.unshift"));

	proto.define("slice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(begin, end) {
		var source, length, arr, index, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					source = this.node;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;

					if (!begin) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, begin);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					begin = context$2$0.t0;

					if (!(!end || end.type === "undefined")) {
						context$2$0.next = 16;
						break;
					}

					end = length;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toInteger)(env, end);

				case 18:
					end = context$2$0.sent;

				case 19:
					arr = objectFactory.create("Array");
					index = 0;

					begin = getStartIndex(begin, length);
					end = getEndIndex(end, length);

					for (i = begin; i < end; i++) {
						arr.defineOwnProperty(index++, createIndexProperty(source.getValue(i)), true, env);
					}

					return context$2$0.abrupt("return", arr);

				case 25:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.slice"));

	proto.define("splice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, deleteCount) {
		for (var _len3 = arguments.length, elements = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
			elements[_key3 - 2] = arguments[_key3];
		}

		var length, removed, k, newCount, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(env, start);

				case 5:
					start = context$2$0.sent;

					if (start < 0) {
						start = Math.max(length + start, 0);
					} else {
						start = Math.min(start, length);
					}

					context$2$0.next = 9;
					return (0, _utilsNative.toInteger)(env, deleteCount);

				case 9:
					deleteCount = context$2$0.sent;

					if (deleteCount < 0) {
						deleteCount = 0;
					} else {
						deleteCount = Math.min(Math.max(deleteCount, 0), length - start);
					}

					removed = objectFactory.create("Array");
					k = 0;

					while (k < deleteCount) {
						if (this.node.has(k + start)) {
							removed.defineOwnProperty(k, createIndexProperty(this.node.getValue(k + start)), true, env);
						}

						k++;
					}

					newCount = elements.length;

					if (newCount < deleteCount) {
						k = start;

						while (k < length - deleteCount) {
							if (this.node.has(k + deleteCount)) {
								this.node.putValue(k + newCount, this.node.getValue(k + deleteCount));
							} else {
								this.node.deleteProperty(k + deleteCount);
							}

							k++;
						}

						k = length;
						while (k > length - deleteCount + newCount) {
							this.node.deleteProperty(--k);
						}
					} else if (newCount > deleteCount) {
						k = length - start;
						while (k > start) {
							if (this.node.has(k + deleteCount - 1)) {
								this.node.putValue(k + newCount - 1, this.node.getValue(k + deleteCount - 1), true, env);
							} else {
								this.node.deleteProperty(k + newCount - 1);
							}

							k--;
						}
					}

					k = start;
					for (i = 0; i < newCount; i++) {
						this.node.putValue(k, elements[i], true, env);
						k++;
					}

					this.node.putValue("length", objectFactory.createPrimitive(length - deleteCount + newCount), true, env);
					return context$2$0.abrupt("return", removed);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.splice"));

	function isSpreadable(obj) {
		if (!contracts.isObject(obj)) {
			return false;
		}

		var key = _typesSymbolType.SymbolType.getByKey("isConcatSpreadable");
		var propInfo = obj.getProperty(key);
		if (propInfo) {
			var spreadable = propInfo.getValue();
			if (!contracts.isUndefined(spreadable)) {
				return (0, _utilsNative.toBoolean)(spreadable);
			}
		}

		return obj.className === "Array";
	}

	proto.define("concat", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len4 = arguments.length, arrays = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
			arrays[_key4] = arguments[_key4];
		}

		var newArray, current, index, i, _length2;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					newArray = objectFactory.create("Array");

					// add "this" array to bunch
					arrays.unshift((0, _utilsNative.toObject)(env, this.node));

					current = undefined, index = 0, i = undefined;

				case 3:
					if (!(arrays.length > 0)) {
						context$2$0.next = 15;
						break;
					}

					current = arrays.shift();

					if (!isSpreadable(current)) {
						context$2$0.next = 12;
						break;
					}

					context$2$0.next = 8;
					return (0, _utilsNative.toLength)(env, current);

				case 8:
					_length2 = context$2$0.sent;

					for (i = 0; i < _length2; i++) {
						if (current.has(i)) {
							newArray.defineOwnProperty(index, createIndexProperty(current.getValue(i)), true, env);
						}

						index++;
					}
					context$2$0.next = 13;
					break;

				case 12:
					newArray.defineOwnProperty(index++, createIndexProperty(current), true, env);

				case 13:
					context$2$0.next = 3;
					break;

				case 15:

					newArray.putValue("length", objectFactory.createPrimitive(index), true, env);
					return context$2$0.abrupt("return", newArray);

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.concat"));

	function join(separator) {
		var length,
		    stringValues,
		    stringValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function join$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;

					if (!(args$2$0.length === 0 || separator === _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 7;
						break;
					}

					context$2$0.t0 = ",";
					context$2$0.next = 10;
					break;

				case 7:
					context$2$0.next = 9;
					return (0, _utilsNative.toPrimitive)(env, separator, "string");

				case 9:
					context$2$0.t0 = context$2$0.sent;

				case 10:
					separator = context$2$0.t0;
					stringValues = [];
					stringValue = undefined;
					i = 0;

				case 14:
					if (!(i < length)) {
						context$2$0.next = 29;
						break;
					}

					stringValue = "";

					if (!this.node.has(i)) {
						context$2$0.next = 25;
						break;
					}

					stringValue = this.node.getValue(i);

					if (!contracts.isNullOrUndefined(stringValue)) {
						context$2$0.next = 22;
						break;
					}

					stringValue = "";
					context$2$0.next = 25;
					break;

				case 22:
					context$2$0.next = 24;
					return (0, _utilsNative.toString)(env, stringValue);

				case 24:
					stringValue = context$2$0.sent;

				case 25:

					stringValues.push(stringValue);

				case 26:
					i++;
					context$2$0.next = 14;
					break;

				case 29:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValues.join(separator)));

				case 30:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[1], this);
	}

	proto.define("join", objectFactory.createBuiltInFunction(join, 1, "Array.prototype.join"));

	proto.define("indexOf", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    notFound,
		    _iteratorNormalCompletion,
		    _didIteratorError,
		    _iteratorError,
		    _iterator,
		    _step,
		    _step$value,
		    key,
		    value,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = 0;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(env, fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;
					notFound = objectFactory.createPrimitive(-1);

					if (!(length === 0 || index >= length)) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", notFound);

				case 15:

					index = getStartIndex(index, length);

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 19;
					_iterator = _getIterator(_iterators2["default"].forward(env, this.node, index, length));

				case 21:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 30;
						break;
					}

					_step$value = _step.value;
					key = _step$value.key;
					value = _step$value.value;

					if (!searchElement.equals(value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 27;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(key));

				case 27:
					_iteratorNormalCompletion = true;
					context$2$0.next = 21;
					break;

				case 30:
					context$2$0.next = 36;
					break;

				case 32:
					context$2$0.prev = 32;
					context$2$0.t1 = context$2$0["catch"](19);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 36:
					context$2$0.prev = 36;
					context$2$0.prev = 37;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 39:
					context$2$0.prev = 39;

					if (!_didIteratorError) {
						context$2$0.next = 42;
						break;
					}

					throw _iteratorError;

				case 42:
					return context$2$0.finish(39);

				case 43:
					return context$2$0.finish(36);

				case 44:
					return context$2$0.abrupt("return", notFound);

				case 45:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[19, 32, 36, 44], [37,, 39, 43]]);
	}), 1, "Array.prototype.indexOf"));

	proto.define("lastIndexOf", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    _iteratorNormalCompletion2,
		    _didIteratorError2,
		    _iteratorError2,
		    _iterator2,
		    _step2,
		    _step2$value,
		    key,
		    value,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = length - 1;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(env, fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;

					if (index < 0) {
						index = length - Math.abs(index);
					}

					_iteratorNormalCompletion2 = true;
					_didIteratorError2 = false;
					_iteratorError2 = undefined;
					context$2$0.prev = 16;
					_iterator2 = _getIterator(_iterators2["default"].reverse(env, this.node, index));

				case 18:
					if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
						context$2$0.next = 27;
						break;
					}

					_step2$value = _step2.value;
					key = _step2$value.key;
					value = _step2$value.value;

					if (!searchElement.equals(value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 24;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(key));

				case 24:
					_iteratorNormalCompletion2 = true;
					context$2$0.next = 18;
					break;

				case 27:
					context$2$0.next = 33;
					break;

				case 29:
					context$2$0.prev = 29;
					context$2$0.t1 = context$2$0["catch"](16);
					_didIteratorError2 = true;
					_iteratorError2 = context$2$0.t1;

				case 33:
					context$2$0.prev = 33;
					context$2$0.prev = 34;

					if (!_iteratorNormalCompletion2 && _iterator2["return"]) {
						_iterator2["return"]();
					}

				case 36:
					context$2$0.prev = 36;

					if (!_didIteratorError2) {
						context$2$0.next = 39;
						break;
					}

					throw _iteratorError2;

				case 39:
					return context$2$0.finish(36);

				case 40:
					return context$2$0.finish(33);

				case 41:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(-1));

				case 42:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[16, 29, 33, 41], [34,, 36, 40]]);
	}), 1, "Array.prototype.lastIndexOf"));

	proto.define("forEach", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, entry;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					_iteratorNormalCompletion3 = true;
					_didIteratorError3 = false;
					_iteratorError3 = undefined;
					context$2$0.prev = 8;
					_iterator3 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 10:
					if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {
						context$2$0.next = 17;
						break;
					}

					entry = _step3.value;
					context$2$0.next = 14;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 14:
					_iteratorNormalCompletion3 = true;
					context$2$0.next = 10;
					break;

				case 17:
					context$2$0.next = 23;
					break;

				case 19:
					context$2$0.prev = 19;
					context$2$0.t0 = context$2$0["catch"](8);
					_didIteratorError3 = true;
					_iteratorError3 = context$2$0.t0;

				case 23:
					context$2$0.prev = 23;
					context$2$0.prev = 24;

					if (!_iteratorNormalCompletion3 && _iterator3["return"]) {
						_iterator3["return"]();
					}

				case 26:
					context$2$0.prev = 26;

					if (!_didIteratorError3) {
						context$2$0.next = 29;
						break;
					}

					throw _iteratorError3;

				case 29:
					return context$2$0.finish(26);

				case 30:
					return context$2$0.finish(23);

				case 31:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 19, 23, 31], [24,, 26, 30]]);
	}), 1, "Array.prototype.forEach"));

	proto.define("map", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, newArray, _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, entry, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsNotNullOrUndefined(arr, "Array.prototype.map");
					contracts.assertIsFunction(callback, arr);

					newArray = objectFactory.create("Array");

					newArray.putValue("length", objectFactory.createPrimitive(length), true, env);

					_iteratorNormalCompletion4 = true;
					_didIteratorError4 = false;
					_iteratorError4 = undefined;
					context$2$0.prev = 11;
					_iterator4 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 13:
					if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step4.value;
					context$2$0.next = 17;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 17:
					value = context$2$0.sent;

					newArray.defineOwnProperty(entry.key, createIndexProperty(value), true, env);

				case 19:
					_iteratorNormalCompletion4 = true;
					context$2$0.next = 13;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t0 = context$2$0["catch"](11);
					_didIteratorError4 = true;
					_iteratorError4 = context$2$0.t0;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion4 && _iterator4["return"]) {
						_iterator4["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError4) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError4;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", newArray);

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[11, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.map"));

	proto.define("filter", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, newArray, index, _iteratorNormalCompletion5, _didIteratorError5, _iteratorError5, _iterator5, _step5, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.filter");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					newArray = objectFactory.create("Array");
					index = 0;
					_iteratorNormalCompletion5 = true;
					_didIteratorError5 = false;
					_iteratorError5 = undefined;
					context$2$0.prev = 11;
					_iterator5 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 13:
					if (_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done) {
						context$2$0.next = 23;
						break;
					}

					entry = _step5.value;
					context$2$0.next = 17;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 17:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						newArray.defineOwnProperty(index++, createIndexProperty(entry.value), true, env);
					}

				case 20:
					_iteratorNormalCompletion5 = true;
					context$2$0.next = 13;
					break;

				case 23:
					context$2$0.next = 29;
					break;

				case 25:
					context$2$0.prev = 25;
					context$2$0.t1 = context$2$0["catch"](11);
					_didIteratorError5 = true;
					_iteratorError5 = context$2$0.t1;

				case 29:
					context$2$0.prev = 29;
					context$2$0.prev = 30;

					if (!_iteratorNormalCompletion5 && _iterator5["return"]) {
						_iterator5["return"]();
					}

				case 32:
					context$2$0.prev = 32;

					if (!_didIteratorError5) {
						context$2$0.next = 35;
						break;
					}

					throw _iteratorError5;

				case 35:
					return context$2$0.finish(32);

				case 36:
					return context$2$0.finish(29);

				case 37:
					return context$2$0.abrupt("return", newArray);

				case 38:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[11, 25, 29, 37], [30,, 32, 36]]);
	}), 1, "Array.prototype.filter"));

	proto.define("every", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion6, _didIteratorError6, _iteratorError6, _iterator6, _step6, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.every");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					_iteratorNormalCompletion6 = true;
					_didIteratorError6 = false;
					_iteratorError6 = undefined;
					context$2$0.prev = 9;
					_iterator6 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step6.value;
					context$2$0.next = 15;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 19:
					_iteratorNormalCompletion6 = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError6 = true;
					_iteratorError6 = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion6 && _iterator6["return"]) {
						_iterator6["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError6) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError6;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.every"));

	proto.define("some", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion7, _didIteratorError7, _iteratorError7, _iterator7, _step7, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.some");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, this.node);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, this.node);

					_iteratorNormalCompletion7 = true;
					_didIteratorError7 = false;
					_iteratorError7 = undefined;
					context$2$0.prev = 9;
					_iterator7 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step7.value;
					context$2$0.next = 15;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 19:
					_iteratorNormalCompletion7 = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError7 = true;
					_iteratorError7 = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion7 && _iterator7["return"]) {
						_iterator7["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError7) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError7;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.some"));

	proto.define("reduce", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var arr,
		    length,
		    hasInitialValue,
		    value,
		    hasElements,
		    _iteratorNormalCompletion8,
		    _didIteratorError8,
		    _iteratorError8,
		    _iterator8,
		    _step8,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.reduce");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					hasInitialValue = false;
					value = undefined;

					if (args$2$0.length > 1) {
						value = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion8 = true;
					_didIteratorError8 = false;
					_iteratorError8 = undefined;
					context$2$0.prev = 14;
					_iterator8 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 16:
					if (_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step8.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					value = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return executeAccumulator(callback, value, entry, arr);

				case 25:
					value = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion8 = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError8 = true;
					_iteratorError8 = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion8 && _iterator8["return"]) {
						_iterator8["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError8) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError8;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Reduce of empty array with no initial value")));

				case 45:
					return context$2$0.abrupt("return", value);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduce"));

	proto.define("reduceRight", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var length,
		    arr,
		    accumulator,
		    hasInitialValue,
		    hasElements,
		    _iteratorNormalCompletion9,
		    _didIteratorError9,
		    _iteratorError9,
		    _iterator9,
		    _step9,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;

					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.reduceRight");
					arr = (0, _utilsNative.toObject)(env, this.node);

					contracts.assertIsFunction(callback, arr);

					accumulator = undefined;
					hasInitialValue = false;

					if (args$2$0.length > 1) {
						accumulator = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion9 = true;
					_didIteratorError9 = false;
					_iteratorError9 = undefined;
					context$2$0.prev = 14;
					_iterator9 = _getIterator(_iterators2["default"].reverse(env, arr, length - 1));

				case 16:
					if (_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step9.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					accumulator = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return executeAccumulator(callback, accumulator, entry, arr);

				case 25:
					accumulator = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion9 = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError9 = true;
					_iteratorError9 = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion9 && _iterator9["return"]) {
						_iterator9["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError9) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError9;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Reduce of empty array with no initial value")));

				case 45:
					return context$2$0.abrupt("return", accumulator);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduceRight"));

	proto.define("reverse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, middle, lower, upper, upperValue, lowerValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					middle = Math.floor(length / 2);
					lower = 0;
					upper = undefined, upperValue = undefined, lowerValue = undefined;

					while (lower !== middle) {
						upper = length - lower - 1;
						lowerValue = this.node.has(lower) && this.node.getValue(lower);
						upperValue = this.node.has(upper) && this.node.getValue(upper);

						if (upperValue) {
							this.node.putValue(lower, upperValue, true, env);
						}

						if (lowerValue) {
							this.node.putValue(upper, lowerValue, true, env);
						}

						if (upperValue && !lowerValue) {
							this.node.deleteProperty(upper);
						} else if (lowerValue && !upperValue) {
							this.node.deleteProperty(lower);
						}

						lower++;
					}

					return context$2$0.abrupt("return", this.node);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.reverse"));

	proto.define("sort", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(compareFunction) {
		var executionContext, arr, length, i, comparer, sortedArray;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					executionContext = this;
					arr = this.node;
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;
					i = 0;
					comparer = undefined;

					if (contracts.isNullOrUndefined(compareFunction)) {
						comparer = function defaultComparer(a, b) {
							a = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(env, a));
							b = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(env, b));

							if (a < b) {
								return -1;
							}

							if (a > b) {
								return 1;
							}

							return 0;
						};
					} else {
						comparer = function (a, b) {
							var scope = env.createScope(_typesPrimitiveType.UNDEFINED);
							scope.init(compareFunction.node.body);

							(0, _utilsAsync.exhaust)(scope.loadArgs(compareFunction.node.params, [a, b], compareFunction));
							var executionResult = (0, _utilsAsync.exhaust)(scope.use(function () {
								return (0, _utilsAsync.exhaust)(executionContext.create(compareFunction.node.body, compareFunction.node).execute());
							}));

							if (executionResult && executionResult.exit && executionResult.result) {
								return executionResult.result.getValue().toNative();
							}

							return undefined;
						};
					}

					// to array, run the wrapped comparer, then re-assign indexes
					context$2$0.next = 10;
					return (0, _utilsNative.toArray)(env, arr, length);

				case 10:
					context$2$0.t0 = function (el) {
						return el.isPrimitive && el.value === undefined ? undefined : el;
					};

					context$2$0.t1 = comparer;
					sortedArray = context$2$0.sent.
					// undefined positions are handled by the underlying sort algorithm, so replace them with the raw primitive value
					map(context$2$0.t0).sort(context$2$0.t1);

					while (i < length) {
						if (i in sortedArray) {
							arr.putValue(i, sortedArray[i], false, env);
						} else {
							arr.deleteProperty(i, false);
						}

						i++;
					}

					return context$2$0.abrupt("return", arr);

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.sort"));

	proto.define("toLocaleString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, arr, i, current;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					arr = new Array(length);
					i = 0;
					current = undefined;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 23;
						break;
					}

					if (!this.node.has(i)) {
						context$2$0.next = 20;
						break;
					}

					current = this.node.getValue(i);

					if (!contracts.isNullOrUndefined(current)) {
						context$2$0.next = 13;
						break;
					}

					arr[i] = "";
					context$2$0.next = 20;
					break;

				case 13:
					context$2$0.t0 = env;
					context$2$0.next = 16;
					return (0, _utilsFunc.tryExecute)(env, current, "toLocaleString");

				case 16:
					context$2$0.t1 = context$2$0.sent;
					context$2$0.next = 19;
					return (0, _utilsNative.toString)(context$2$0.t0, context$2$0.t1);

				case 19:
					arr[i] = context$2$0.sent;

				case 20:

					i++;
					context$2$0.next = 6;
					break;

				case 23:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(arr.join()));

				case 24:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.toLocaleString"));

	// todo: this is a bit hacky - toString will call join if available per spec,
	// but will call Object..toString if not
	proto.define("toString", objectFactory.createBuiltInFunction(join, 0, "Array.prototype.toString"));
	globalObject.define("Array", arrayClass);
}
},{"../../iterators":213,"../../types/primitive-type":230,"../../types/symbol-type":235,"../../utils/async":237,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],186:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = booleanApi;

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsNative = require("../../utils/native");

function booleanApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var booleanClass = objectFactory.createFunction(function (obj) {
		var booleanValue = (0, _utilsNative.toBoolean)(obj);

		// called as new
		if (this.isNew) {
			return (0, _utilsNative.primitiveToObject)(env, booleanValue);
		}

		return objectFactory.create("Boolean", booleanValue);
	}, null, { configurable: false, enumerable: false, writable: false });

	var proto = booleanClass.getValue("prototype");
	proto.className = "Boolean";
	proto.value = false;

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.toString");
		return objectFactory.createPrimitive(String(this.node.value));
	}, 0, "Boolean.prototype.toString"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "Boolean.prototype.valueOf"));

	globalObject.define("Boolean", booleanClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":238,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24}],187:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = consoleApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var methods = ["log", "info", "error", "warn"];

function consoleApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var consoleClass = objectFactory.createObject();

	methods.forEach(function (name) {
		consoleClass.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			var stringValues;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toString)(env, arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						}));

					case 2:
						stringValues = context$3$0.sent;

						console[name].apply(console, _toConsumableArray(stringValues));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, "console." + name));
	});

	globalObject.define("console", consoleClass);
}

module.exports = exports["default"];
},{"../../utils/async":237,"../../utils/native":240,"babel-runtime/helpers/to-consumable-array":25,"babel-runtime/regenerator":26}],188:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _bind = require("babel-runtime/helpers/bind")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = dateApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var staticMethods = ["now"];
var protoMethods = ["getDate", "getDay", "getFullYear", "getHours", "getMilliseconds", "getMinutes", "getMonth", "getMilliseconds", "getMinutes", "getMonth", "getSeconds", "getTime", "getTimezoneOffset", "getUTCDay", "getUTCDate", "getUTCFullYear", "getUTCHours", "getUTCMilliseconds", "getUTCMinutes", "getUTCMonth", "getUTCSeconds", "getYear", "toDateString", "toGMTString", "toISOString", "toJSON", "toLocaleString", "toLocaleDateString", "toLocaleTimeString", "toString", "toTimeString", "toUTCString"];
var setters = ["setDate", "setFullYear", "setHours", "setMilliseconds", "setMinutes", "setMonth", "setSeconds", "setTime", "setUTCDate", "setUTCFullYear", "setUTCHours", "setUTCMilliseconds", "setUTCMinutes", "setUTCMonth", "setUTCSeconds", "setYear"];

function dateApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var dateClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(p1, p2, p3, p4, p5, p6, p7) {
		var dateValue,
		    args,
		    primitiveValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					dateValue = undefined, args = undefined;

					if (!(args$2$0.length === 0)) {
						context$2$0.next = 5;
						break;
					}

					args = [];
					context$2$0.next = 22;
					break;

				case 5:
					if (!(args$2$0.length === 1)) {
						context$2$0.next = 20;
						break;
					}

					if (!p1.isPrimitive) {
						context$2$0.next = 10;
						break;
					}

					args = [p1.value];
					context$2$0.next = 18;
					break;

				case 10:
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(env, p1);

				case 12:
					primitiveValue = context$2$0.sent;

					if (!(typeof primitiveValue !== "string")) {
						context$2$0.next = 17;
						break;
					}

					context$2$0.next = 16;
					return (0, _utilsNative.toNumber)(env, p1);

				case 16:
					primitiveValue = context$2$0.sent;

				case 17:

					args = [primitiveValue];

				case 18:
					context$2$0.next = 22;
					break;

				case 20:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(env, arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 21);

				case 21:
					args = context$2$0.t0;

				case 22:
					if (!this.isNew) {
						context$2$0.next = 35;
						break;
					}

					context$2$0.t1 = args.length;
					context$2$0.next = context$2$0.t1 === 0 ? 26 : context$2$0.t1 === 1 ? 28 : 30;
					break;

				case 26:
					dateValue = new Date();
					return context$2$0.abrupt("break", 34);

				case 28:
					dateValue = new Date(args[0]);
					return context$2$0.abrupt("break", 34);

				case 30:
					i = args.length;

					while (i < 7) {
						// default day to 1, all others to 0
						args[i++] = i === 3 ? 1 : 0;
					}

					dateValue = new (_bind.apply(Date, [null].concat(_toConsumableArray(args))))();
					return context$2$0.abrupt("break", 34);

				case 34:
					return context$2$0.abrupt("return", objectFactory.create("Date", dateValue));

				case 35:

					dateValue = Date.apply(undefined, _toConsumableArray(args));
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	dateClass.define("parse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue, dateValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(env, value, "string");

				case 2:
					stringValue = context$2$0.sent;
					dateValue = Date.parse(stringValue);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Date.prototype.parse"));

	dateClass.define("UTC", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var args,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(env, arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Date.UTC.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 7, "Date.prototype.UTC"));

	var proto = dateClass.getValue("prototype");
	proto.className = "Date";
	proto.value = new Date(0);

	staticMethods.forEach(function (name) {
		dateClass.define(name, (0, _utilsNative.toNativeFunction)(env, Date[name], "Date." + name));
	});

	protoMethods.forEach(function (name) {
		proto.define(name, (0, _utilsNative.toNativeFunction)(env, Date.prototype[name], "Date.prototype." + name));
	});

	setters.forEach(function (name) {
		var marked2$0 = [setter].map(_regeneratorRuntime.mark);

		function setter() {
			var args,
			    args$3$0 = arguments;
			return _regeneratorRuntime.wrap(function setter$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toPrimitive)(env, arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						})), "t0", 1);

					case 1:
						args = context$3$0.t0;

						Date.prototype[name].apply(this.node.value, args);

					case 3:
					case "end":
						return context$3$0.stop();
				}
			}, marked2$0[0], this);
		}

		proto.define(name, objectFactory.createBuiltInFunction(setter, Date.prototype[name].length, "Date.prototype." + name));
	});

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		return objectFactory.createPrimitive(this.node.value.valueOf());
	}, 0, "Date.prototype.valueOf"));

	globalObject.define("Date", dateClass);
}

module.exports = exports["default"];
},{"../../utils/async":237,"../../utils/native":240,"babel-runtime/helpers/bind":17,"babel-runtime/helpers/to-consumable-array":25,"babel-runtime/regenerator":26}],189:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = errorApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var errorTypes = ["TypeError", "ReferenceError", "SyntaxError", "RangeError", "URIError", "EvalError"];

function errorApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var errorClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(message) {
		var messageString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					messageString = undefined;

					if (contracts.isNullOrUndefined(message)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toString)(env, message);

				case 4:
					messageString = context$2$0.sent;

				case 5:
					return context$2$0.abrupt("return", objectFactory.create("Error", new Error(messageString)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = errorClass.getValue("prototype");
	proto.className = "Error";
	proto.define("name", objectFactory.createPrimitive("Error"));
	proto.define("message", objectFactory.createPrimitive(""));

	proto.define("toString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var name, msg;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					name = this.node.getValue("name");
					msg = undefined;

					if (!this.node.has("message")) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toString)(env, this.node.getValue("message"));

				case 5:
					msg = context$2$0.sent;

				case 6:
					context$2$0.t0 = name;

					if (!context$2$0.t0) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toString)(env, name);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					name = context$2$0.t0;

					if (!(name && msg)) {
						context$2$0.next = 14;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.create("String", name + ": " + msg));

				case 14:
					return context$2$0.abrupt("return", objectFactory.create("String", name || msg));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Error.prototype.toString"));

	globalObject.define("Error", errorClass);

	errorTypes.forEach(function (errorType) {
		var errClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$2$0(message) {
			var messageString, nativeError;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(env, message);

					case 2:
						messageString = context$3$0.sent;
						nativeError = new global[errorType](messageString);
						return context$3$0.abrupt("return", objectFactory.create(errorType, nativeError));

					case 5:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), null, { configurable: false, enumerable: false, writable: false });

		var typeProto = errClass.getValue("prototype");
		typeProto.define("name", objectFactory.createPrimitive(errorType));

		// add to prototype chain to represent inheritance
		typeProto.setPrototype(proto);

		globalObject.define(errorType, errClass);
	});
}

module.exports = exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lczUvZXJyb3IvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBlcnJvckFwaTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIGVycm9yVHlwZXMgPSBbXCJUeXBlRXJyb3JcIiwgXCJSZWZlcmVuY2VFcnJvclwiLCBcIlN5bnRheEVycm9yXCIsIFwiUmFuZ2VFcnJvclwiLCBcIlVSSUVycm9yXCIsIFwiRXZhbEVycm9yXCJdO1xuXG5mdW5jdGlvbiBlcnJvckFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIGVycm9yQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG1lc3NhZ2UpIHtcblx0XHR2YXIgbWVzc2FnZVN0cmluZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bWVzc2FnZVN0cmluZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQobWVzc2FnZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgbWVzc2FnZSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdG1lc3NhZ2VTdHJpbmcgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiRXJyb3JcIiwgbmV3IEVycm9yKG1lc3NhZ2VTdHJpbmcpKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHR2YXIgcHJvdG8gPSBlcnJvckNsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRwcm90by5jbGFzc05hbWUgPSBcIkVycm9yXCI7XG5cdHByb3RvLmRlZmluZShcIm5hbWVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJFcnJvclwiKSk7XG5cdHByb3RvLmRlZmluZShcIm1lc3NhZ2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBuYW1lLCBtc2c7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdG5hbWUgPSB0aGlzLm5vZGUuZ2V0VmFsdWUoXCJuYW1lXCIpO1xuXHRcdFx0XHRcdG1zZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlLmhhcyhcIm1lc3NhZ2VcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgdGhpcy5ub2RlLmdldFZhbHVlKFwibWVzc2FnZVwiKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdG1zZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gbmFtZTtcblxuXHRcdFx0XHRcdGlmICghY29udGV4dCQyJDAudDApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBuYW1lKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdG5hbWUgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGlmICghKG5hbWUgJiYgbXNnKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN0cmluZ1wiLCBuYW1lICsgXCI6IFwiICsgbXNnKSk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3RyaW5nXCIsIG5hbWUgfHwgbXNnKSk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkVycm9yLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkVycm9yXCIsIGVycm9yQ2xhc3MpO1xuXG5cdGVycm9yVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoZXJyb3JUeXBlKSB7XG5cdFx0dmFyIGVyckNsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMChtZXNzYWdlKSB7XG5cdFx0XHR2YXIgbWVzc2FnZVN0cmluZywgbmF0aXZlRXJyb3I7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBtZXNzYWdlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdG1lc3NhZ2VTdHJpbmcgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0bmF0aXZlRXJyb3IgPSBuZXcgZ2xvYmFsW2Vycm9yVHlwZV0obWVzc2FnZVN0cmluZyk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKGVycm9yVHlwZSwgbmF0aXZlRXJyb3IpKTtcblxuXHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHR9KSwgbnVsbCwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdFx0dmFyIHR5cGVQcm90byA9IGVyckNsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRcdHR5cGVQcm90by5kZWZpbmUoXCJuYW1lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVycm9yVHlwZSkpO1xuXG5cdFx0Ly8gYWRkIHRvIHByb3RvdHlwZSBjaGFpbiB0byByZXByZXNlbnQgaW5oZXJpdGFuY2Vcblx0XHR0eXBlUHJvdG8uc2V0UHJvdG90eXBlKHByb3RvKTtcblxuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUoZXJyb3JUeXBlLCBlcnJDbGFzcyk7XG5cdH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyJdfQ==
},{"../../utils/contracts":238,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],190:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = functionApi;

var _typesNativeFunctionType = require("../../types/native-function-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

function defineThis(env, fn, thisArg) {
	if (fn.builtIn || fn.isStrict()) {
		return thisArg || _typesPrimitiveType.UNDEFINED;
	}

	if (contracts.isNullOrUndefined(thisArg)) {
		return env.global;
	}

	return (0, _utilsNative.toObject)(env, thisArg);
}

var frozen = { configurable: false, enumerable: false, writable: false };

function functionApi(env) {
	var options = env.options;
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var funcClass = undefined;

	var funcCtor = _regeneratorRuntime.mark(function funcCtor() {
		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		var funcInstance;
		return _regeneratorRuntime.wrap(function funcCtor$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					funcInstance = undefined;

					if (!(options.parser && args.length > 0)) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var body, params, bodyString, ast, callee, userNode, strict, wrappedFunc;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									body = args.pop();
									params = "";

									if (!(args.length > 0)) {
										context$3$0.next = 6;
										break;
									}

									context$3$0.next = 5;
									return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg, index) {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													if (!contracts.isNull(arg)) {
														context$4$0.next = 2;
														break;
													}

													throw new SyntaxError("Unexpected token null");

												case 2:
													if (!contracts.isUndefined(arg)) {
														context$4$0.next = 6;
														break;
													}

													context$4$0.t0 = "";
													context$4$0.next = 9;
													break;

												case 6:
													context$4$0.next = 8;
													return (0, _utilsNative.toString)(env, arg);

												case 8:
													context$4$0.t0 = context$4$0.sent;

												case 9:
													return context$4$0.abrupt("return", context$4$0.t0);

												case 10:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 5:
									params = context$3$0.sent.
									// the spec allows parameters to be comma-delimited, so we will join and split again comma
									join(",");

								case 6:
									context$3$0.next = 8;
									return (0, _utilsNative.toString)(env, body);

								case 8:
									bodyString = context$3$0.sent;
									ast = options.parser("(function(" + params + "){" + bodyString + "}).apply($this,$args);");
									callee = ast.body[0].expression.callee.object;
									userNode = callee.body.body;
									strict = contracts.isStrictNode(userNode);
									wrappedFunc = _regeneratorRuntime.mark(function wrappedFunc() {
										var thisArg,
										    $args,
										    executionResult,
										    args$4$0 = arguments;
										return _regeneratorRuntime.wrap(function wrappedFunc$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													thisArg = undefined;

													if (this.isNew) {
														thisArg = objectFactory.createObject(funcInstance);
													} else {
														thisArg = this.node;

														if (!thisArg) {
															thisArg = strict ? _typesPrimitiveType.UNDEFINED : globalObject;
														}
													}

													this.env.createVariable("$this").setValue(thisArg);

													$args = this.env.objectFactory.createArray(args$4$0);

													this.env.createVariable("$args").setValue($args);

													context$4$0.next = 7;
													return env.createExecutionContext(ast).execute();

												case 7:
													executionResult = context$4$0.sent;

													if (!this.isNew) {
														context$4$0.next = 10;
														break;
													}

													return context$4$0.abrupt("return", thisArg);

												case 10:
													return context$4$0.abrupt("return", executionResult && executionResult.result || _typesPrimitiveType.UNDEFINED);

												case 11:
												case "end":
													return context$4$0.stop();
											}
										}, wrappedFunc, this);
									});

									wrappedFunc.nativeLength = callee.params.length;
									wrappedFunc.strict = strict;
									funcInstance = objectFactory.createFunction(wrappedFunc, undefined, { strict: strict });
									funcInstance.bindScope(env.globalScope);

								case 18:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 3);

				case 3:
					context$2$0.next = 6;
					break;

				case 5:
					funcInstance = objectFactory.createFunction(function () {});

				case 6:

					funcInstance.putValue("constructor", funcClass);
					return context$2$0.abrupt("return", funcInstance);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, funcCtor, this);
	});

	// the prototype of a function is actually callable and evaluates as a function
	var proto = new _typesNativeFunctionType.NativeFunctionType(function () {
		if (this.isNew) {
			return this.raise(new TypeError("Function.protoype is not a constructor"));
		}

		return _typesPrimitiveType.UNDEFINED;
	});

	funcCtor.nativeLength = 1;
	funcClass = objectFactory.createFunction(funcCtor, proto, frozen);
	funcClass.putValue("constructor", funcClass);

	globalObject.define("Function", funcClass);

	proto.define("length", objectFactory.createPrimitive(0), { writable: false });

	if (env.options.ecmaVersion > 5) {
		proto.define("name", objectFactory.createPrimitive(""), { writable: false });
	}

	// function itself is a function
	funcClass.setPrototype(proto);

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		if (this.node.native) {
			return objectFactory.createPrimitive("function () { [native code] }");
		}

		return objectFactory.createPrimitive("function () { [user code] }");
	}, 0, "Function.prototype.toString"));

	proto.define("call", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
			args[_key2 - 1] = arguments[_key2];
		}

		var callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					callee = this.node.native ? this.node : this.node.node;

					thisArg = defineThis(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield((0, _utilsFunc.execute)(env, this.node, args, thisArg, callee), "t0", 4);

				case 4:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype.call"));

	proto.define("apply", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg, argsArray) {
		var args, callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!argsArray) {
						context$2$0.next = 3;
						break;
					}

					if (!(argsArray.className !== "Arguments" && argsArray.className !== "Array" && argsArray.className !== "Function")) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Arguments list was wrong type")));

				case 3:
					context$2$0.next = 5;
					return (0, _utilsNative.toArray)(env, argsArray);

				case 5:
					args = context$2$0.sent;
					callee = this.node.native ? this.node : this.node.node;

					thisArg = defineThis(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield((0, _utilsFunc.execute)(env, this.node, args, thisArg, callee), "t0", 10);

				case 10:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Function.prototype.apply"));

	proto.define("bind", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
			args[_key3 - 1] = arguments[_key3];
		}

		var fn, callee, params, nativeFunc, boundFunc, _thrower;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					fn = this.node;
					callee = fn.native ? fn : fn.node;
					params = callee.params || [];

					thisArg = defineThis(env, this.node, thisArg);

					nativeFunc = _regeneratorRuntime.mark(function nativeFunc() {
						for (var _len4 = arguments.length, additionalArgs = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
							additionalArgs[_key4] = arguments[_key4];
						}

						var mergedArgs;
						return _regeneratorRuntime.wrap(function nativeFunc$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									mergedArgs = args.concat(additionalArgs);
									return context$3$0.delegateYield((0, _utilsFunc.execute)(env, fn, mergedArgs, thisArg, callee, this.isNew), "t0", 2);

								case 2:
									return context$3$0.abrupt("return", context$3$0.t0);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, nativeFunc, this);
					});

					nativeFunc.nativeLength = Math.max(params.length - args.length, 0);
					nativeFunc.strict = env.isStrict() || !fn.native && contracts.isStrictNode(fn.node.body.body);

					boundFunc = objectFactory.createFunction(nativeFunc);

					boundFunc.bindScope(this.env.current);
					boundFunc.bindThis(thisArg);

					if (!nativeFunc.strict) {
						boundFunc.remove("caller");
						boundFunc.remove("arguments");

						// these will be added in strict mode, but should always be here for bound functions
						_thrower = objectFactory.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");

						boundFunc.defineOwnProperty("caller", _thrower);
						boundFunc.defineOwnProperty("arguments", _thrower);
					}

					return context$2$0.abrupt("return", boundFunc);

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype.bind"));

	var thrower = function thrower() {
		if (this.isStrict()) {
			throw new TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
		}

		return undefined;
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);

	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: false
	};

	proto.defineOwnProperty("caller", prop, false, env);
	proto.defineOwnProperty("callee", prop, false, env);
	proto.defineOwnProperty("arguments", prop, false, env);
}

module.exports = exports["default"];
},{"../../types/native-function-type":227,"../../types/primitive-type":230,"../../utils/async":237,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],191:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _envReference = require("../env/reference");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function (env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var options = env.options;

	globalObject.define("Infinity", objectFactory.createPrimitive(Infinity), { configurable: false, writable: false });
	globalObject.define("NaN", objectFactory.createPrimitive(NaN), { configurable: false, writable: false });

	["parseFloat", "decodeURI", "encodeURI", "decodeURIComponent", "encodeURIComponent", "escape", "unescape"].forEach(function (name) {
		globalObject.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0(value) {
			var stringValue;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(env, value);

					case 2:
						stringValue = context$3$0.sent;
						return context$3$0.abrupt("return", objectFactory.createPrimitive(global[name](stringValue)));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, name));
	});

	["isNaN", "isFinite"].forEach(function (name) {
		globalObject.define(name, (0, _utilsNative.toNativeFunction)(env, global[name], name));
	});

	globalObject.define("parseInt", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, radix) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, value);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(env, radix, "number");

				case 5:
					radix = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(parseInt(stringValue, radix)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "parseInt"));

	if (options.parser) {
		var evalFunc = objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(code) {
			var directCall, ast, strictScope, strictCode, currentGlobal, scope, thisArg, executionResult;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (code) {
							context$2$0.next = 2;
							break;
						}

						return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

					case 2:
						if (!(code.type !== "string")) {
							context$2$0.next = 4;
							break;
						}

						return context$2$0.abrupt("return", code);

					case 4:
						directCall = this.callee instanceof _envReference.Reference && this.callee.base === globalObject;
						ast = undefined;
						context$2$0.prev = 6;

						ast = options.parser(code.value);
						context$2$0.next = 15;
						break;

					case 10:
						context$2$0.prev = 10;
						context$2$0.t0 = context$2$0["catch"](6);

						if (!(context$2$0.t0 instanceof SyntaxError && /assigning to rvalue/i.test(context$2$0.t0.message))) {
							context$2$0.next = 14;
							break;
						}

						throw new ReferenceError("Invalid left-hand side in assignment");

					case 14:
						throw context$2$0.t0;

					case 15:
						strictScope = env.isStrict();
						strictCode = strictScope || contracts.isStrictNode(ast.body);
						currentGlobal = env.current.scope.parent === env.globalScope.scope;
						scope = undefined;

						// use the same scope unless this is an "indirect" call
						// in which case we use the global scope
						if (directCall) {
							if (strictCode) {
								thisArg = undefined;

								if (strictScope) {
									thisArg = currentGlobal ? globalObject : _typesPrimitiveType.UNDEFINED;
								} else {
									thisArg = env.getThisBinding() || globalObject;
								}

								scope = env.createScope(thisArg);
							} else {
								scope = env.setScope(env.current.scope.parent);
							}
						} else {
							scope = env.setScope(env.globalScope.scope);
							if (strictCode) {
								scope = env.createScope(globalObject);
							}
						}

						context$2$0.next = 22;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return env.createExecutionContext(ast).execute();

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 22:
						executionResult = context$2$0.sent;
						return context$2$0.abrupt("return", executionResult && executionResult.result ? executionResult.result.getValue() : _typesPrimitiveType.UNDEFINED);

					case 24:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this, [[6, 10]]);
		}), 1, "eval");

		globalObject.define("eval", evalFunc);
	}
};

module.exports = exports["default"];

// hack because acorn throws syntax error
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lczUvZ2xvYmFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF9lbnZSZWZlcmVuY2UgPSByZXF1aXJlKFwiLi4vZW52L3JlZmVyZW5jZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIG9wdGlvbnMgPSBlbnYub3B0aW9ucztcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiSW5maW5pdHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoSW5maW5pdHkpLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIk5hTlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRbXCJwYXJzZUZsb2F0XCIsIFwiZGVjb2RlVVJJXCIsIFwiZW5jb2RlVVJJXCIsIFwiZGVjb2RlVVJJQ29tcG9uZW50XCIsIFwiZW5jb2RlVVJJQ29tcG9uZW50XCIsIFwiZXNjYXBlXCIsIFwidW5lc2NhcGVcIl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAodmFsdWUpIHtcblx0XHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHZhbHVlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZ2xvYmFsW25hbWVdKHN0cmluZ1ZhbHVlKSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdH0pLCAxLCBuYW1lKSk7XG5cdH0pO1xuXG5cdFtcImlzTmFOXCIsIFwiaXNGaW5pdGVcIl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUobmFtZSwgKDAsIF91dGlsc05hdGl2ZS50b05hdGl2ZUZ1bmN0aW9uKShlbnYsIGdsb2JhbFtuYW1lXSwgbmFtZSkpO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwicGFyc2VJbnRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUsIHJhZGl4KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCByYWRpeCwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJhZGl4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHBhcnNlSW50KHN0cmluZ1ZhbHVlLCByYWRpeCkpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJwYXJzZUludFwiKSk7XG5cblx0aWYgKG9wdGlvbnMucGFyc2VyKSB7XG5cdFx0dmFyIGV2YWxGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY29kZSkge1xuXHRcdFx0dmFyIGRpcmVjdENhbGwsIGFzdCwgc3RyaWN0U2NvcGUsIHN0cmljdENvZGUsIGN1cnJlbnRHbG9iYWwsIHNjb3BlLCB0aGlzQXJnLCBleGVjdXRpb25SZXN1bHQ7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0aWYgKGNvZGUpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdGlmICghKGNvZGUudHlwZSAhPT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvZGUpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0ZGlyZWN0Q2FsbCA9IHRoaXMuY2FsbGVlIGluc3RhbmNlb2YgX2VudlJlZmVyZW5jZS5SZWZlcmVuY2UgJiYgdGhpcy5jYWxsZWUuYmFzZSA9PT0gZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0YXN0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDY7XG5cblx0XHRcdFx0XHRcdGFzdCA9IG9wdGlvbnMucGFyc2VyKGNvZGUudmFsdWUpO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDEwO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDYpO1xuXG5cdFx0XHRcdFx0XHRpZiAoIShjb250ZXh0JDIkMC50MCBpbnN0YW5jZW9mIFN5bnRheEVycm9yICYmIC9hc3NpZ25pbmcgdG8gcnZhbHVlL2kudGVzdChjb250ZXh0JDIkMC50MC5tZXNzYWdlKSkpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiSW52YWxpZCBsZWZ0LWhhbmQgc2lkZSBpbiBhc3NpZ25tZW50XCIpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRcdHRocm93IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRcdHN0cmljdFNjb3BlID0gZW52LmlzU3RyaWN0KCk7XG5cdFx0XHRcdFx0XHRzdHJpY3RDb2RlID0gc3RyaWN0U2NvcGUgfHwgY29udHJhY3RzLmlzU3RyaWN0Tm9kZShhc3QuYm9keSk7XG5cdFx0XHRcdFx0XHRjdXJyZW50R2xvYmFsID0gZW52LmN1cnJlbnQuc2NvcGUucGFyZW50ID09PSBlbnYuZ2xvYmFsU2NvcGUuc2NvcGU7XG5cdFx0XHRcdFx0XHRzY29wZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdFx0Ly8gdXNlIHRoZSBzYW1lIHNjb3BlIHVubGVzcyB0aGlzIGlzIGFuIFwiaW5kaXJlY3RcIiBjYWxsXG5cdFx0XHRcdFx0XHQvLyBpbiB3aGljaCBjYXNlIHdlIHVzZSB0aGUgZ2xvYmFsIHNjb3BlXG5cdFx0XHRcdFx0XHRpZiAoZGlyZWN0Q2FsbCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0Q29kZSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0U2NvcGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBjdXJyZW50R2xvYmFsID8gZ2xvYmFsT2JqZWN0IDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBlbnYuZ2V0VGhpc0JpbmRpbmcoKSB8fCBnbG9iYWxPYmplY3Q7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUodGhpc0FyZyk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoZW52LmN1cnJlbnQuc2NvcGUucGFyZW50KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoZW52Lmdsb2JhbFNjb3BlLnNjb3BlKTtcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdENvZGUpIHtcblx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVTY29wZShnbG9iYWxPYmplY3QpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGFzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0ID8gZXhlY3V0aW9uUmVzdWx0LnJlc3VsdC5nZXRWYWx1ZSgpIDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzYsIDEwXV0pO1xuXHRcdH0pLCAxLCBcImV2YWxcIik7XG5cblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiZXZhbFwiLCBldmFsRnVuYyk7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIGhhY2sgYmVjYXVzZSBhY29ybiB0aHJvd3Mgc3ludGF4IGVycm9yIl19
},{"../env/reference":183,"../types/primitive-type":230,"../utils/contracts":238,"../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],192:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ecma51;

var _typesPrimitiveType = require("../types/primitive-type");

var _typesObjectFactory = require("../types/object-factory");

var _number = require("./number/");

var _number2 = _interopRequireDefault(_number);

var _string = require("./string/");

var _string2 = _interopRequireDefault(_string);

var _function = require("./function/");

var _function2 = _interopRequireDefault(_function);

var _object = require("./object/");

var _object2 = _interopRequireDefault(_object);

var _boolean = require("./boolean/");

var _boolean2 = _interopRequireDefault(_boolean);

var _date = require("./date/");

var _date2 = _interopRequireDefault(_date);

var _array = require("./array/");

var _array2 = _interopRequireDefault(_array);

var _math = require("./math/");

var _math2 = _interopRequireDefault(_math);

var _regex = require("./regex/");

var _regex2 = _interopRequireDefault(_regex);

var _error = require("./error/");

var _error2 = _interopRequireDefault(_error);

var _json = require("./json/");

var _json2 = _interopRequireDefault(_json);

var _console = require("./console/");

var _console2 = _interopRequireDefault(_console);

var _globals = require("./globals");

var _globals2 = _interopRequireDefault(_globals);

var frozen = { configurable: false, enumerable: false, writable: false };

function ecma51(env) {
	var objectFactory = env.objectFactory = new _typesObjectFactory.ObjectFactory(env);
	var globalObject = env.global = objectFactory.createObject();

	env.createObjectScope(globalObject);

	globalObject.define("undefined", _typesPrimitiveType.UNDEFINED, frozen);
	globalObject.define("null", _typesPrimitiveType.NULL, frozen);

	// todo: node vs browser - do we care?
	globalObject.define("window", globalObject, frozen);

	(0, _function2["default"])(env);
	(0, _object2["default"])(env);
	(0, _array2["default"])(env);
	(0, _boolean2["default"])(env);
	(0, _number2["default"])(env);
	(0, _string2["default"])(env);
	(0, _date2["default"])(env);
	(0, _regex2["default"])(env);
	(0, _math2["default"])(env);
	(0, _error2["default"])(env);
	(0, _json2["default"])(env);
	(0, _console2["default"])(env);
	(0, _globals2["default"])(env);
}

module.exports = exports["default"];
},{"../types/object-factory":228,"../types/primitive-type":230,"./array/":185,"./boolean/":186,"./console/":187,"./date/":188,"./error/":189,"./function/":190,"./globals":191,"./json/":193,"./math/":194,"./number/":195,"./object/":196,"./regex/":197,"./string/":198,"babel-runtime/helpers/interop-require-default":23}],193:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = jsonApi;
var marked0$0 = [serializeObject, serializeArray, serialize, createReplacer, getSpacer, deserialize].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var primitives = {
	"String": true,
	"Number": true,
	"Boolean": true,
	"Date": true
};

function formatValues(values, gap, depth) {
	if (values.length === 0) {
		return "";
	}

	if (!gap) {
		return values.join(",");
	}

	var indent = "\n" + gap.repeat(depth);
	var joinedValues = values.join(indent + ",");

	// remove indent on closing
	return indent + joinedValues + "\n" + gap.repeat(depth - 1);
}

function serializePrimitive(value) {
	return JSON.stringify(value);
}

function serializeObject(env, stack, obj, replacer, gap, depth) {
	var colon, values, value, prop;
	return _regeneratorRuntime.wrap(function serializeObject$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				colon = gap ? ": " : ":";
				values = [];
				value = undefined;
				context$1$0.t0 = _regeneratorRuntime.keys(obj.properties);

			case 4:
				if ((context$1$0.t1 = context$1$0.t0()).done) {
					context$1$0.next = 20;
					break;
				}

				prop = context$1$0.t1.value;

				if (!obj.properties[prop].enumerable) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.next = 9;
				return replacer(obj, prop, obj.getValue(prop));

			case 9:
				value = context$1$0.sent;

				if (contracts.isNullOrUndefined(value)) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.t2 = values;
				context$1$0.t3 = serializePrimitive(prop) + colon;
				context$1$0.next = 15;
				return serialize(env, stack, value, replacer, gap, depth);

			case 15:
				context$1$0.t4 = context$1$0.sent;
				context$1$0.t5 = context$1$0.t3 + context$1$0.t4;
				context$1$0.t2.push.call(context$1$0.t2, context$1$0.t5);

			case 18:
				context$1$0.next = 4;
				break;

			case 20:
				return context$1$0.abrupt("return", "{" + formatValues(values, gap, depth, gap, depth) + "}");

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function serializeArray(env, stack, arr, replacer, gap, depth) {
	var length, values, i, value;
	return _regeneratorRuntime.wrap(function serializeArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				length = arr.getValue("length").toNative();
				values = [];
				i = 0;

			case 3:
				if (!(i < length)) {
					context$1$0.next = 21;
					break;
				}

				value = undefined;

				if (!arr.has(i)) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 8;
				return replacer(arr, String(i), arr.getValue(i));

			case 8:
				value = context$1$0.sent;

			case 9:
				if (!contracts.isNullOrUndefined(value)) {
					context$1$0.next = 13;
					break;
				}

				// undefined positions are replaced with null
				values.push("null");
				context$1$0.next = 18;
				break;

			case 13:
				context$1$0.t0 = values;
				context$1$0.next = 16;
				return serialize(env, stack, value, replacer);

			case 16:
				context$1$0.t1 = context$1$0.sent;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t1);

			case 18:
				i++;
				context$1$0.next = 3;
				break;

			case 21:
				return context$1$0.abrupt("return", "[" + formatValues(values, gap, depth) + "]");

			case 22:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function serialize(env, stack, obj, replacer, gap, depth) {
	var jsonString, jsonResult;
	return _regeneratorRuntime.wrap(function serialize$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (obj) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive());

			case 2:
				if (!(obj.isPrimitive || obj.className in primitives)) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive(obj.value));

			case 4:
				if (!(obj.className === "Function")) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", undefined);

			case 6:
				context$1$0.next = 8;
				return (0, _utilsFunc.tryExecute)(env, obj, "toJSON");

			case 8:
				jsonString = context$1$0.sent;

				if (!jsonString) {
					context$1$0.next = 11;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive(jsonString.value));

			case 11:
				if (!(stack.indexOf(obj) >= 0)) {
					context$1$0.next = 13;
					break;
				}

				throw new TypeError("Converting circular structure to JSON");

			case 13:

				depth++;
				stack.push(obj);

				jsonResult = undefined;

				if (!(obj.className === "Array")) {
					context$1$0.next = 22;
					break;
				}

				context$1$0.next = 19;
				return serializeArray(env, stack, obj, replacer);

			case 19:
				jsonResult = context$1$0.sent;
				context$1$0.next = 25;
				break;

			case 22:
				context$1$0.next = 24;
				return serializeObject(env, stack, obj, replacer, gap, depth);

			case 24:
				jsonResult = context$1$0.sent;

			case 25:

				depth--;
				stack.pop();
				return context$1$0.abrupt("return", jsonResult);

			case 28:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function createReplacer(env, replacer) {
	var _ret;

	return _regeneratorRuntime.wrap(function createReplacer$(context$1$0) {
		var _this = this;

		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!replacer) {
					context$1$0.next = 8;
					break;
				}

				if (!(replacer.className === "Function")) {
					context$1$0.next = 3;
					break;
				}

				return context$1$0.abrupt("return", _regeneratorRuntime.mark(function callee$1$0(holder, key, value) {
					var args, callee;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								args = [env.objectFactory.createPrimitive(key), value];
								callee = replacer.native ? replacer : replacer.node;
								context$2$0.next = 4;
								return (0, _utilsFunc.execute)(env, replacer, args, holder, callee);

							case 4:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				if (!(replacer.className === "Array")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(_regeneratorRuntime.mark(function callee$1$0() {
					var arr, keys;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return (0, _utilsNative.toArray)(env, replacer);

							case 2:
								arr = context$2$0.sent;
								return context$2$0.delegateYield((0, _utilsAsync.map)(arr, _regeneratorRuntime.mark(function callee$2$0(arg) {
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												if (!(arg.className === "String")) {
													context$3$0.next = 4;
													break;
												}

												context$3$0.next = 3;
												return (0, _utilsNative.toString)(env, arg);

											case 3:
												return context$3$0.abrupt("return", context$3$0.sent);

											case 4:
												if (!(arg.className === "Number")) {
													context$3$0.next = 9;
													break;
												}

												context$3$0.next = 7;
												return (0, _utilsNative.toNumber)(env, arg);

											case 7:
												context$3$0.t0 = context$3$0.sent;
												return context$3$0.abrupt("return", String(context$3$0.t0));

											case 9:
												return context$3$0.abrupt("return", undefined);

											case 10:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, this);
								})), "t0", 4);

							case 4:
								keys = context$2$0.t0;
								return context$2$0.abrupt("return", {
									v: function (holder, key, value) {
										// allow empty key - this will be from the root
										if (!key || keys.indexOf(key) >= 0) {
											return value;
										}

										return undefined;
									}
								});

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, _this);
				})(), "t0", 5);

			case 5:
				_ret = context$1$0.t0;

				if (!(typeof _ret === "object")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.abrupt("return", _ret.v);

			case 8:
				return context$1$0.abrupt("return", function (holder, key, value) {
					return value;
				});

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function getSpacer(env, spacer) {
	var count, gap;
	return _regeneratorRuntime.wrap(function getSpacer$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!spacer) {
					context$1$0.next = 16;
					break;
				}

				if (!(spacer.className === "Number")) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.t0 = Math;
				context$1$0.next = 5;
				return (0, _utilsNative.toNumber)(env, spacer);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				count = context$1$0.t0.floor.call(context$1$0.t0, context$1$0.t1);

				count = Math.max(Math.min(10, count), 0);

				if (!(count > 0)) {
					context$1$0.next = 10;
					break;
				}

				return context$1$0.abrupt("return", " ".repeat(count));

			case 10:
				return context$1$0.abrupt("return", "");

			case 11:
				if (!(spacer.className === "String")) {
					context$1$0.next = 16;
					break;
				}

				context$1$0.next = 14;
				return (0, _utilsNative.toString)(env, spacer);

			case 14:
				gap = context$1$0.sent;
				return context$1$0.abrupt("return", gap.substr(0, 10));

			case 16:
				return context$1$0.abrupt("return", "");

			case 17:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function deserialize(env, value, reviver) {
	var objectFactory, valueType, arr, i, ln, element, elementValue, obj, propValue, prop;
	return _regeneratorRuntime.wrap(function deserialize$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = env.objectFactory;
				valueType = contracts.getType(value);
				context$1$0.t0 = valueType;
				context$1$0.next = context$1$0.t0 === "Undefined" ? 5 : context$1$0.t0 === "Null" ? 5 : context$1$0.t0 === "String" ? 5 : context$1$0.t0 === "Number" ? 5 : context$1$0.t0 === "Boolean" ? 5 : context$1$0.t0 === "Array" ? 6 : 31;
				break;

			case 5:
				return context$1$0.abrupt("return", objectFactory.create(valueType, value));

			case 6:
				arr = objectFactory.create("Array");
				i = 0, ln = value.length;

			case 8:
				if (!(i < ln)) {
					context$1$0.next = 30;
					break;
				}

				element = value[i];
				context$1$0.t1 = arr;
				context$1$0.t2 = String(i);
				context$1$0.next = 14;
				return deserialize(env, element, reviver);

			case 14:
				context$1$0.t3 = context$1$0.sent;
				context$1$0.next = 17;
				return reviver(context$1$0.t1, context$1$0.t2, context$1$0.t3);

			case 17:
				elementValue = context$1$0.sent;

				if (contracts.isUndefined(elementValue)) {
					context$1$0.next = 27;
					break;
				}

				context$1$0.t4 = arr;
				context$1$0.t5 = i;
				context$1$0.next = 23;
				return deserialize(env, element);

			case 23:
				context$1$0.t6 = context$1$0.sent;
				context$1$0.t7 = {
					value: context$1$0.t6,
					configurable: true,
					enumerable: true,
					writable: true
				};
				context$1$0.t8 = env;
				context$1$0.t4.defineOwnProperty.call(context$1$0.t4, context$1$0.t5, context$1$0.t7, true, context$1$0.t8);

			case 27:
				i++;
				context$1$0.next = 8;
				break;

			case 30:
				return context$1$0.abrupt("return", arr);

			case 31:
				obj = objectFactory.createObject();
				propValue = undefined;
				context$1$0.t9 = _regeneratorRuntime.keys(value);

			case 34:
				if ((context$1$0.t10 = context$1$0.t9()).done) {
					context$1$0.next = 48;
					break;
				}

				prop = context$1$0.t10.value;

				if (!value.hasOwnProperty(prop)) {
					context$1$0.next = 46;
					break;
				}

				context$1$0.t11 = obj;
				context$1$0.t12 = prop;
				context$1$0.next = 41;
				return deserialize(env, value[prop], reviver);

			case 41:
				context$1$0.t13 = context$1$0.sent;
				context$1$0.next = 44;
				return reviver(context$1$0.t11, context$1$0.t12, context$1$0.t13);

			case 44:
				propValue = context$1$0.sent;

				if (!contracts.isUndefined(propValue)) {
					obj.defineOwnProperty(prop, { value: propValue, configurable: true, enumerable: true, writable: true }, true, env);
				}

			case 46:
				context$1$0.next = 34;
				break;

			case 48:
				return context$1$0.abrupt("return", obj);

			case 49:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function createReviver(env, reviver) {
	if (reviver && reviver.className === "Function") {
		return _regeneratorRuntime.mark(function callee$1$0(holder, key, value) {
			var args, callee;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						args = [env.objectFactory.createPrimitive(key), value];
						callee = reviver.native ? reviver : reviver.node;
						return context$2$0.delegateYield((0, _utilsFunc.execute)(env, reviver, args, holder, callee), "t0", 3);

					case 3:
						return context$2$0.abrupt("return", context$2$0.t0);

					case 4:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	return function (holder, key, value) {
		return value;
	};
}

function jsonApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var jsonClass = objectFactory.createObject();
	jsonClass.className = "JSON";

	jsonClass.define("stringify", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, replacer, spacer) {
		var stack;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return createReplacer(env, replacer);

				case 2:
					replacer = context$2$0.sent;
					context$2$0.next = 5;
					return getSpacer(env, spacer);

				case 5:
					spacer = context$2$0.sent;
					context$2$0.next = 8;
					return replacer(obj, "", obj);

				case 8:
					obj = context$2$0.sent;

					if (!contracts.isUndefined(obj)) {
						context$2$0.next = 11;
						break;
					}

					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 11:
					stack = [];
					context$2$0.t0 = objectFactory;
					context$2$0.next = 15;
					return serialize(env, stack, obj, replacer, spacer, 0);

				case 15:
					context$2$0.t1 = context$2$0.sent;
					return context$2$0.abrupt("return", context$2$0.t0.createPrimitive.call(context$2$0.t0, context$2$0.t1));

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "JSON.stringify"));

	jsonClass.define("parse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str, reviver) {
		var stringValue, parsedObject, deserializedObject;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					reviver = createReviver(env, reviver);

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(env, str);

				case 3:
					stringValue = context$2$0.sent;
					parsedObject = JSON.parse(stringValue);
					context$2$0.next = 7;
					return deserialize(env, parsedObject, reviver);

				case 7:
					deserializedObject = context$2$0.sent;
					context$2$0.next = 10;
					return reviver(deserializedObject, "", deserializedObject) || _typesPrimitiveType.UNDEFINED;

				case 10:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "JSON.parse"));

	globalObject.define("JSON", jsonClass);
}

module.exports = exports["default"];

// these are the only types supported by JSON.parse - sad face...

// run at the top value
},{"../../types/primitive-type":230,"../../utils/async":237,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],194:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = mathApi;

var _utilsNative = require("../../utils/native");

var constants = ["E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"];
var methods = ["abs", "acos", "asin", "atan", "atan2", "ceil", "cos", "exp", "floor", "log", "max", "min", "pow", "random", "round", "sin", "sqrt", "tan"];

function mathApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var mathClass = objectFactory.createObject();
	mathClass.className = "Math";

	constants.forEach(function (name) {
		mathClass.define(name, objectFactory.createPrimitive(Math[name]), { configurable: false, enumerable: false, writable: false });
	});

	methods.forEach(function (name) {
		mathClass.define(name, (0, _utilsNative.toNativeFunction)(env, Math[name], "Math." + name));
	});

	globalObject.define("Math", mathClass);
}

module.exports = exports["default"];
},{"../../utils/native":240}],195:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = numberApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var constants = ["MAX_VALUE", "MIN_VALUE", "NaN", "NEGATIVE_INFINITY", "POSITIVE_INFINITY"];
var protoMethods = ["toExponential", "toPrecision", "toLocaleString"];

function numberApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var numberClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(obj) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(env, obj, "number");

				case 2:
					context$2$0.t0 = context$2$0.sent;
					numberValue = Number(context$2$0.t0);

					if (!this.isNew) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, numberValue));

				case 6:
					return context$2$0.abrupt("return", objectFactory.create("Number", numberValue));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = numberClass.getValue("prototype");
	proto.className = "Number";
	proto.value = 0;

	proto.define("toString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(radix) {
		var radixValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.toString");

					radixValue = 10;

					if (!radix) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(env, radix, "number");

				case 5:
					radixValue = context$2$0.sent;

					if (!(radixValue < 2 || radixValue > 36)) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new RangeError("toString() radix argument must be between 2 and 36")));

				case 8:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(this.node.value == null ? "0" : this.node.value.toString(radixValue)));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toString"));

	proto.define("toFixed", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(fractionDigits) {
		var digits;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.toFixed");

					digits = 0;

					if (!fractionDigits) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toNumber)(env, fractionDigits);

				case 5:
					digits = context$2$0.sent;

				case 6:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Number.prototype.toFixed.call(this.node.value, digits)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toFixed"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value == null ? 0 : this.node.value);
	}, 0, "Number.prototype.valueOf"));

	constants.forEach(function (name) {
		numberClass.define(name, objectFactory.createPrimitive(Number[name]), { configurable: false, enumerable: false, writable: false });
	});

	protoMethods.forEach(function (name) {
		var fn = Number.prototype[name];
		if (fn) {
			(function () {
				var methodName = "Number.prototype." + name;
				proto.define(name, objectFactory.createBuiltInFunction(function () {
					contracts.assertIsNotGeneric(this.node, "Number", methodName);
					return objectFactory.createPrimitive(fn.call(this.node.value));
				}, fn.length, methodName));
			})();
		}
	});

	globalObject.define("Number", numberClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":238,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],196:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.defineProperty = defineProperty;
exports.getOwnPropertyDescriptor = getOwnPropertyDescriptor;
exports["default"] = objectApi;
var marked0$0 = [defineProperty, getOwnPropertyDescriptor].map(_regeneratorRuntime.mark);

var _typesObjectType = require("../../types/object-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

function defineProperty(env, obj, name, descriptor) {
	var throwOnError = arguments.length <= 4 || arguments[4] === undefined ? true : arguments[4];
	var stringValue, options;
	return _regeneratorRuntime.wrap(function defineProperty$(context$1$0) {
		var _this2 = this;

		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (contracts.isObject(descriptor)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return (0, _utilsNative.toString)(env, descriptor);

			case 3:
				stringValue = context$1$0.sent;
				throw new TypeError("Property description must be an object: " + stringValue);

			case 5:
				options = {};

				if (!descriptor) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(_regeneratorRuntime.mark(function callee$1$0() {
					var hasValue, hasGetter, hasSetter, currentScope;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						var _this = this;

						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								hasValue = descriptor.has("value");
								hasGetter = descriptor.has("get");
								hasSetter = descriptor.has("set");

								if (!((hasValue || descriptor.has("writable")) && (hasGetter || hasSetter))) {
									context$2$0.next = 5;
									break;
								}

								throw new TypeError("Invalid property. A property cannot both have accessors and be writable or have a value");

							case 5:

								["writable", "enumerable", "configurable"].forEach(function (prop) {
									if (descriptor.has(prop)) {
										var attrValue = descriptor.getValue(prop);
										options[prop] = (0, _utilsNative.toBoolean)(attrValue);
									}
								});

								currentScope = env.current.scope;

								if (!hasGetter) {
									context$2$0.next = 9;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var getter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												getter = descriptor.getValue("get") || _typesPrimitiveType.UNDEFINED;

												if (!(getter.isPrimitive && getter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.get = options.getter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(getter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(env, getter);

											case 8:
												stringValue = context$3$0.sent;
												throw new TypeError("Getter must be a function: " + stringValue);

											case 10:

												options.get = getter;
												options.getter = _regeneratorRuntime.mark(function callee$3$0() {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = getter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	var getResult;
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return (0, _utilsFunc.call)(env, getter, getter.node.params, [], thisArg, getter.node);

																			case 2:
																				getResult = context$5$0.sent;
																				return context$5$0.abrupt("return", getResult && getResult.exit ? getResult.result.getValue() : _typesPrimitiveType.UNDEFINED);

																			case 4:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t0", 9);

							case 9:
								if (!hasSetter) {
									context$2$0.next = 11;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var setter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												setter = descriptor.getValue("set") || _typesPrimitiveType.UNDEFINED;

												if (!(setter.isPrimitive && setter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.set = options.setter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(setter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(env, setter);

											case 8:
												stringValue = context$3$0.sent;
												throw new TypeError("Setter must be a function: " + stringValue);

											case 10:

												options.set = setter;
												options.setter = _regeneratorRuntime.mark(function callee$3$0(value) {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = setter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return (0, _utilsFunc.execute)(env, setter, [value], thisArg, setter.node);

																			case 2:
																				return context$5$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

																			case 3:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t1", 11);

							case 11:

								if (hasValue) {
									options.value = descriptor.getValue("value") || _typesPrimitiveType.UNDEFINED;
								}

							case 12:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, _this2);
				})(), "t0", 8);

			case 8:
				return context$1$0.abrupt("return", obj.defineOwnProperty(name, options, throwOnError, env));

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function getOwnPropertyDescriptor(env, target, propertyKey) {
	var key, descriptor, result;
	return _regeneratorRuntime.wrap(function getOwnPropertyDescriptor$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsNative.toPropertyKey)(env, propertyKey);

			case 2:
				key = context$1$0.sent;

				if (!target.owns(key)) {
					context$1$0.next = 10;
					break;
				}

				descriptor = target.getProperty(key);
				result = env.objectFactory.createObject();

				if (descriptor.dataProperty) {
					result.putValue("value", descriptor.value, false, env);
					result.putValue("writable", env.objectFactory.createPrimitive(descriptor.writable), false, env);
				} else {
					result.putValue("get", descriptor.get || _typesPrimitiveType.UNDEFINED, false, env);
					result.putValue("set", descriptor.set || _typesPrimitiveType.UNDEFINED, false, env);
				}

				result.putValue("enumerable", env.objectFactory.createPrimitive(descriptor.enumerable), false, env);
				result.putValue("configurable", env.objectFactory.createPrimitive(descriptor.configurable), false, env);
				return context$1$0.abrupt("return", result);

			case 10:
				return context$1$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function objectApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	function confirmObject(obj, methodName) {
		if (contracts.isObject(obj)) {
			return true;
		}

		if (env.options.ecmaVersion > 5) {
			return false;
		}

		throw new TypeError(methodName + " called on non-object");
	}

	var proto = new _typesObjectType.ObjectType();
	var objectClass = objectFactory.createFunction(function (value) {
		if (value) {
			if (value.isPrimitive) {
				if (value.value == null) {
					return objectFactory.createObject();
				}

				var objectWrapper = objectFactory.createPrimitive(value.value);
				objectWrapper.type = "object";
				objectWrapper.isPrimitive = false;
				return objectWrapper;
			}

			// if an object is passed in just return
			return value;
		}

		return objectFactory.createObject();
	}, proto, { configurable: false, enumerable: false, writable: false });

	proto.define("hasOwnProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var k;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Object.prototype.hasOwnProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, key);

				case 3:
					k = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(this.node.owns(k)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.prototype.hasOwnProperty"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		return (0, _utilsNative.toObject)(env, this.node, true);
	}, 0, "Object.prototype.valueOf"));

	var toStringFunc = objectFactory.createBuiltInFunction(function () {
		var className = this.node ? this.node.className : "Undefined";
		return objectFactory.createPrimitive("[object " + className + "]");
	}, 0, "Object.prototype.toString");

	// Object.prototype.toString === Object.prototype.toLocaleString
	proto.define("toString", toStringFunc);
	proto.define("toLocaleString", toStringFunc);

	proto.define("isPrototypeOf", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsNotNullOrUndefined(this.node, "Object.isPrototypeOf");

		var current = obj;
		while (current) {
			if (this.node === current) {
				return objectFactory.createPrimitive(true);
			}

			current = current.getPrototype();
		}

		return objectFactory.createPrimitive(false);
	}, 1, "Object.isPrototypeOf"));

	proto.define("propertyIsEnumerable", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var k, descriptor;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Object.propertyIsEnumerable");

					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, key);

				case 3:
					k = context$2$0.sent;
					descriptor = this.node.getOwnProperty(k);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(!!(descriptor && descriptor.enumerable)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.propertyIsEnumerable"));

	objectClass.define("create", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(parent, descriptors) {
		var stringValue, obj, prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(parent && parent.isPrimitive && parent.value !== null)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(env, parent);

				case 3:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", this.raise(new TypeError("Object prototype may only be an Object or null: " + stringValue)));

				case 5:
					if (!(descriptors && descriptors.isPrimitive && descriptors.value === null)) {
						context$2$0.next = 7;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Cannot convert null or undefined to object")));

				case 7:
					obj = objectFactory.createObject();

					if (parent) {
						obj.setPrototype(parent);
					}

					if (!descriptors) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 11:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 18;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.next = 16;
					return defineProperty(env, obj, prop, descriptors.getValue(prop));

				case 16:
					context$2$0.next = 11;
					break;

				case 18:
					return context$2$0.abrupt("return", obj);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.create"));

	objectClass.define("defineProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, propertyKey, descriptor) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(obj, "Object.defineProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, propertyKey);

				case 3:
					key = context$2$0.sent;
					context$2$0.next = 6;
					return defineProperty(env, obj, key, descriptor);

				case 6:
					return context$2$0.abrupt("return", obj);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Object.defineProperty"));

	objectClass.define("defineProperties", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, descriptors) {
		var prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(obj, "Object.defineProperties");
					contracts.assertArgIsNotNullOrUndefined(descriptors);

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 3:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 10;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 8;
					return defineProperty(env, obj, prop, descriptors.getValue(prop));

				case 8:
					context$2$0.next = 3;
					break;

				case 10:
					return context$2$0.abrupt("return", obj);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.defineProperties"));

	objectClass.define("getOwnPropertyDescriptor", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, key) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!confirmObject(obj, "Object.getOwnPropertyDescriptor")) {
						context$2$0.next = 4;
						break;
					}

					context$2$0.next = 3;
					return getOwnPropertyDescriptor(env, obj, key);

				case 3:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.getOwnPropertyDescriptor"));

	objectClass.define("keys", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj);

		var arr = objectFactory.create("Array");
		var index = 0;

		for (var _name in obj.properties) {
			if (obj.properties[_name].enumerable) {
				var value = objectFactory.createPrimitive(_name);
				arr.defineOwnProperty(index++, { configurable: true, enumerable: true, writable: true, value: value }, false, env);
			}
		}

		return arr;
	}, 1, "Object.keys"));

	objectClass.define("getOwnPropertyNames", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.getOwnPropertyNames");

		var arr = objectFactory.create("Array");
		obj.getOwnPropertyKeys().forEach(function (name, index) {
			arr.putValue(index, objectFactory.createPrimitive(name), true, env);
		});

		return arr;
	}, 1, "Object.getOwnPropertyNames"));

	objectClass.define("getPrototypeOf", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.getPrototypeOf")) {
			obj = (0, _utilsNative.toObject)(env, obj, true);
		}

		var objProto = obj.getPrototype();
		return objProto || _typesPrimitiveType.NULL;
	}, 1, "Object.getPrototypeOf"));

	objectClass.define("freeze", objectFactory.createBuiltInFunction(function (obj) {
		if (confirmObject(obj, "Object.freeze")) {
			obj.freeze();
		}

		return obj;
	}, 1, "Object.freeze"));

	objectClass.define("isFrozen", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.isFrozen")) {
			return objectFactory.createPrimitive(true);
		}

		if (obj.isPrimitive) {
			return objectFactory.createPrimitive(true);
		}

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].writable || obj.properties[prop].configurable) {
					return objectFactory.createPrimitive(false);
				}
			}
		}

		return objectFactory.createPrimitive(!obj.extensible);
	}, 1, "Object.isFrozen"));

	objectClass.define("preventExtensions", objectFactory.createBuiltInFunction(function (obj) {
		if (confirmObject(obj, "Object.preventExtensions")) {
			obj.preventExtensions();
		}

		return obj;
	}, 1, "Object.preventExtensions"));

	objectClass.define("isExtensible", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.isExtensible")) {
			return objectFactory.createPrimitive(false);
		}

		return objectFactory.createPrimitive(obj.extensible);
	}, 1, "Object.isExtensible"));

	objectClass.define("seal", objectFactory.createBuiltInFunction(function (obj) {
		if (confirmObject(obj, "Object.seal")) {
			obj.seal();
		}

		obj.seal();
		return obj;
	}, 1, "Object.seal"));

	objectClass.define("isSealed", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.isSealed")) {
			return objectFactory.createPrimitive(true);
		}

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].configurable) {
					return objectFactory.createPrimitive(false);
				}
			}
		}

		return objectFactory.createPrimitive(!obj.extensible);
	}, 1, "Object.isSealed"));

	// function is an object - make sure that it is in the prototype chain
	globalObject.getValue("Function").getPrototype().setPrototype(proto);
	globalObject.define("Object", objectClass);
}

// we only keep a copy of the original getter/setter for use with `getOwnPropertyDescriptor`
},{"../../types/object-type":229,"../../types/primitive-type":230,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],197:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = regexApi;

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function regexApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var regexClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(pattern, flags) {
		var patternString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(pattern && pattern.className === "RegExp")) {
						context$2$0.next = 4;
						break;
					}

					if (!contracts.isUndefined(flags)) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", pattern);

				case 3:
					return context$2$0.abrupt("return", this.raise(new TypeError("Cannot supply flags when constructing one RegExp from another")));

				case 4:
					if (!contracts.isUndefined(pattern)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = "";
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(env, pattern);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					patternString = context$2$0.t0;

					if (!contracts.isUndefined(flags)) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.t1 = "";
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(env, flags);

				case 18:
					context$2$0.t1 = context$2$0.sent;

				case 19:
					flags = context$2$0.t1;
					return context$2$0.abrupt("return", objectFactory.create("RegExp", new RegExp(patternString, flags)));

				case 21:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = regexClass.getValue("prototype");
	proto.className = "RegExp";

	proto.define("test", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
		var stringValue, testValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, str);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInt32)(env, this.node.getValue("lastIndex"));

				case 5:
					this.node.source.lastIndex = context$2$0.sent;
					testValue = this.node.source.test(stringValue);

					this.node.putValue("lastIndex", objectFactory.createPrimitive(this.node.source.lastIndex), true, env);

					return context$2$0.abrupt("return", objectFactory.createPrimitive(testValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "RegExp.prototype.test"));

	proto.define("exec", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
		var stringValue, match, arr, i, ln;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, str);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInt32)(env, this.node.getValue("lastIndex"));

				case 5:
					this.node.source.lastIndex = context$2$0.sent;
					match = this.node.source.exec(stringValue);

					// update the last index from the underlying regex
					this.node.putValue("lastIndex", objectFactory.createPrimitive(this.node.source.lastIndex), true, env);

					if (!match) {
						context$2$0.next = 14;
						break;
					}

					arr = objectFactory.create("Array");

					for (i = 0, ln = match.length; i < ln; i++) {
						arr.putValue(i, objectFactory.createPrimitive(match[i]), true, env);
					}

					// extra properties are added to the array
					arr.putValue("index", objectFactory.createPrimitive(match.index), false, env);
					arr.putValue("input", objectFactory.createPrimitive(match.input), false, env);
					return context$2$0.abrupt("return", arr);

				case 14:
					return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "RegExp.prototype.exec"));

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		return objectFactory.createPrimitive(String(this.node.source));
	}, 0, "RegExp.prototype.toString"));

	proto.define("compile", (0, _utilsNative.toNativeFunction)(env, RegExp.prototype.compile, "RegExp.prototype.compile"));
	proto.defineOwnProperty("lastIndex", { value: objectFactory.createPrimitive(0), writable: true });

	["global", "ignoreCase", "multiline", "source"].forEach(function (name) {
		proto.defineOwnProperty(name, { value: objectFactory.createPrimitive(RegExp.prototype[name]) });
	});

	globalObject.define("RegExp", regexClass);
}

module.exports = exports["default"];

// update underlying regex in case the index was manually updated

// get match from underlying regex
},{"../../types/primitive-type":230,"../../utils/contracts":238,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],198:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = stringApi;

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsAsync = require("../../utils/async");

var protoMethods = ["charAt", "charCodeAt", "concat", "indexOf", "lastIndexOf", "localeCompare", "substr", "toLocaleLowerCase", "toLocaleUpperCase", "toLowerCase", "toUpperCase"];
var slice = Array.prototype.slice;

function stringApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var stringClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!value) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(env, value.getValue());

				case 3:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 7;
					break;

				case 6:
					context$2$0.t0 = "";

				case 7:
					stringValue = context$2$0.t0;

					if (!this.isNew) {
						context$2$0.next = 10;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, stringValue));

				case 10:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue));

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = stringClass.getValue("prototype");

	// prototype can be coerced into an empty string
	proto.value = "";
	proto.className = "String";
	proto.defineOwnProperty("length", { value: objectFactory.createPrimitive(0) });

	proto.define("search", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, underlyingRegex;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					underlyingRegex = undefined;

					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					if (!(regex.className === "RegExp")) {
						context$2$0.next = 9;
						break;
					}

					underlyingRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 9:
					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toString)(env, regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					underlyingRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.search(underlyingRegex)));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.search"));

	proto.define("substring", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var value, length;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotConstructor(this, "substring");

					context$2$0.next = 3;
					return (0, _utilsNative.toPrimitive)(env, this.node, "string");

				case 3:
					value = context$2$0.sent;
					length = value.length;
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, start);

				case 7:
					start = context$2$0.sent;

					if (!contracts.isNullOrUndefined(end)) {
						context$2$0.next = 12;
						break;
					}

					context$2$0.t0 = length;
					context$2$0.next = 15;
					break;

				case 12:
					context$2$0.next = 14;
					return (0, _utilsNative.toInteger)(env, end);

				case 14:
					context$2$0.t0 = context$2$0.sent;

				case 15:
					end = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(value.substring(start, end)));

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.substring"));

	protoMethods.forEach(function (name) {
		var fn = String.prototype[name];
		if (fn) {
			proto.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
				var stringValue,
				    args,
				    args$3$0 = arguments;
				return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
					while (1) switch (context$3$0.prev = context$3$0.next) {
						case 0:
							context$3$0.next = 2;
							return (0, _utilsNative.toString)(env, this.node);

						case 2:
							stringValue = context$3$0.sent;
							return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
								return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
									while (1) switch (context$4$0.prev = context$4$0.next) {
										case 0:
											context$4$0.next = 2;
											return (0, _utilsNative.toPrimitive)(env, arg);

										case 2:
											return context$4$0.abrupt("return", context$4$0.sent);

										case 3:
										case "end":
											return context$4$0.stop();
									}
								}, callee$3$0, this);
							})), "t0", 4);

						case 4:
							args = context$3$0.t0;
							return context$3$0.abrupt("return", objectFactory.createPrimitive(String.prototype[name].apply(stringValue, args)));

						case 6:
						case "end":
							return context$3$0.stop();
					}
				}, callee$2$0, this);
			}), String.prototype[name].length, "String.prototype." + name));
		}
	});

	stringClass.define("fromCharCode", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, charCodes = Array(_len), _key = 0; _key < _len; _key++) {
			charCodes[_key] = arguments[_key];
		}

		var args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(charCodes, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(env, arg);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(String.fromCharCode.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.fromCharCode"));

	proto.define("slice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var stringValue, startValue, endValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(env, start);

				case 5:
					startValue = context$2$0.sent;
					endValue = undefined;

					if (contracts.isNullOrUndefined(end)) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(env, end);

				case 10:
					endValue = context$2$0.sent;

				case 11:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.slice(startValue, endValue)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.slice"));

	proto.define("split", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(separator, limit) {
		var stringValue, limitValue, arr, separatorValue, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;

					separator = separator && separator.getValue();
					limit = limit && limit.getValue();

					if (!contracts.isUndefined(limit)) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.t0 = undefined;
					context$2$0.next = 12;
					break;

				case 9:
					context$2$0.next = 11;
					return (0, _utilsNative.toUInt32)(env, limit);

				case 11:
					context$2$0.t0 = context$2$0.sent;

				case 12:
					limitValue = context$2$0.t0;
					arr = objectFactory.create("Array");

					if (!contracts.isUndefined(separator)) {
						context$2$0.next = 18;
						break;
					}

					arr.putValue(0, objectFactory.createPrimitive(stringValue), false, env);
					context$2$0.next = 28;
					break;

				case 18:
					separatorValue = undefined;

					if (!(separator.className === "RegExp")) {
						context$2$0.next = 23;
						break;
					}

					separatorValue = separator.source;
					context$2$0.next = 26;
					break;

				case 23:
					context$2$0.next = 25;
					return (0, _utilsNative.toString)(env, separator);

				case 25:
					separatorValue = context$2$0.sent;

				case 26:
					result = stringValue.split(separatorValue, limitValue);

					result.forEach(function (value, index) {
						arr.putValue(index, objectFactory.createPrimitive(value), false, env);
					});

				case 28:
					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.split"));

	proto.define("replace", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regexOrSubstr, substrOrFn) {
		var stringValue, matcher, replacer;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					matcher = undefined;

					if (!(regexOrSubstr && regexOrSubstr.className === "RegExp")) {
						context$2$0.next = 8;
						break;
					}

					matcher = regexOrSubstr.source;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(env, regexOrSubstr);

				case 10:
					matcher = context$2$0.sent;

				case 11:
					replacer = undefined;

					if (!(substrOrFn && substrOrFn.type === "function")) {
						context$2$0.next = 16;
						break;
					}

					(function () {
						var callee = substrOrFn.native ? substrOrFn : substrOrFn.node;

						replacer = function () {
							var thisArg = substrOrFn.isStrict() || substrOrFn.isStrict() ? _typesPrimitiveType.UNDEFINED : globalObject;
							var args = slice.call(arguments).map(function (arg) {
								return objectFactory.createPrimitive(arg);
							});
							var replacedValue = (0, _utilsAsync.exhaust)((0, _utilsFunc.execute)(env, substrOrFn, args, thisArg, callee));
							return replacedValue ? (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(env, replacedValue)) : undefined;
						};
					})();

					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(env, substrOrFn);

				case 18:
					replacer = context$2$0.sent;

				case 19:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.replace(matcher, replacer)));

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.replace"));

	proto.define("match", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, actualRegex, match, _ret2;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					actualRegex = undefined;

					if (!(regex && regex.className === "RegExp")) {
						context$2$0.next = 8;
						break;
					}

					actualRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 8:
					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(env, regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					actualRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					match = stringValue.match(actualRegex);

					if (!match) {
						context$2$0.next = 19;
						break;
					}

					_ret2 = (function () {
						var matches = objectFactory.create("Array");

						match.forEach(function (value, index) {
							matches.putValue(index, objectFactory.createPrimitive(value), false, env);
						});

						matches.putValue("index", objectFactory.createPrimitive(match.index), false, env);
						matches.putValue("input", objectFactory.createPrimitive(match.input), false, env);
						return {
							v: matches
						};
					})();

					if (!(typeof _ret2 === "object")) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", _ret2.v);

				case 19:
					return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.match"));

	proto.define("trim", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "String.prototype.trim");

					context$2$0.next = 3;
					return (0, _utilsNative.toPrimitive)(env, this.node, "string");

				case 3:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.trim()));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "String.prototype.trim"));

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "String", "String.prototype.toString");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "String.prototype.toString"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "String", "String.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "String.prototype.valueOf"));

	globalObject.define("String", stringClass);
}

module.exports = exports["default"];

// called as new
},{"../../types/primitive-type":230,"../../utils/async":237,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],199:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _es5Array = require("../../es5/array/");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsFunc = require("../../utils/func");

var _iterator = require("./iterator");

var _iterator2 = _interopRequireDefault(_iterator);

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _typesSymbolType = require("../../types/symbol-type");

exports["default"] = function (env) {
	var marked1$0 = [createArray].map(_regeneratorRuntime.mark);

	var objectFactory = env.objectFactory;
	var arrayClass = env.global.getValue("Array");
	var proto = arrayClass.getValue("prototype");
	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");

	function normalizeIndex(index, length) {
		if (index < 0) {
			return Math.max(length + index, 0);
		}

		return Math.min(index, length);
	}

	function createArray(ctor, source) {
		var args, hasIterator, _length;

		return _regeneratorRuntime.wrap(function createArray$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(ctor === arrayClass || !contracts.isConstructor(ctor))) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createArray());

				case 2:
					args = [];
					hasIterator = source.has(iteratorKey);

					if (hasIterator) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toLength)(env, source);

				case 7:
					_length = context$2$0.sent;

					args.push(_length);

				case 9:
					context$2$0.next = 11;
					return (0, _utilsFunc.construct)(env, ctor, args);

				case 11:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	arrayClass.define("from", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(items, mapFn, thisArg) {
		var mapper, target, it, index, done, current, _it$next, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					thisArg = thisArg || _typesPrimitiveType.UNDEFINED;

					mapper = undefined;

					if (contracts.isUndefined(mapFn)) {
						mapper = function (v) {
							return v;
						};
					} else {
						contracts.assertIsFunction(mapFn, "mapFn");
						mapper = _regeneratorRuntime.mark(function callee$2$0(v, i) {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return (0, _utilsFunc.execute)(env, mapFn, [v, objectFactory.createPrimitive(i)], thisArg, mapFn);

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						});
					}

					context$2$0.next = 5;
					return createArray(this.node, items);

				case 5:
					target = context$2$0.sent;
					it = _iterators2["default"].getIterator(env, items);
					index = 0;
					done = false;

				case 9:
					if (done) {
						context$2$0.next = 28;
						break;
					}

					context$2$0.prev = 10;
					current = undefined;
					_it$next = it.next();
					done = _it$next.done;
					current = _it$next.value;

					if (done) {
						context$2$0.next = 20;
						break;
					}

					context$2$0.next = 18;
					return mapper(current.value || _typesPrimitiveType.UNDEFINED, index);

				case 18:
					value = context$2$0.sent;

					target.putValue(index++, value, true, env);

				case 20:
					context$2$0.next = 26;
					break;

				case 22:
					context$2$0.prev = 22;
					context$2$0.t0 = context$2$0["catch"](10);

					if ("return" in it) {
						it["return"]();
					}

					throw context$2$0.t0;

				case 26:
					context$2$0.next = 9;
					break;

				case 28:

					target.putValue("length", objectFactory.createPrimitive(index), true, env);
					return context$2$0.abrupt("return", target);

				case 30:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[10, 22]]);
	}), 1, "Array.from"));

	arrayClass.define("of", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var length, lengthValue, arr, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(this.node === arrayClass || !contracts.isConstructor(this.node))) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createArray(items));

				case 2:
					length = items.length;
					lengthValue = objectFactory.createPrimitive(length);
					context$2$0.next = 6;
					return (0, _utilsFunc.construct)(env, this.node, [lengthValue]);

				case 6:
					arr = context$2$0.sent;
					i = 0;

					while (i < length) {
						arr.defineOwnProperty(i, { value: items[i], configurable: true, enumerable: true, writable: true }, true, env);
						i++;
					}

					arr.putValue("length", lengthValue, true, env);
					return context$2$0.abrupt("return", arr);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.of"));

	proto.define("copyWithin", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, start, end) {
		var arr, length, to, from, final, count, dir, current;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(env, target);

				case 6:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.t1 = length;
					to = normalizeIndex(context$2$0.t0, context$2$0.t1);
					context$2$0.next = 11;
					return (0, _utilsNative.toInteger)(env, start);

				case 11:
					context$2$0.t2 = context$2$0.sent;
					context$2$0.t3 = length;
					from = normalizeIndex(context$2$0.t2, context$2$0.t3);

					if (!contracts.isUndefined(end)) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t4 = length;
					context$2$0.next = 23;
					break;

				case 18:
					context$2$0.next = 20;
					return (0, _utilsNative.toInteger)(env, end);

				case 20:
					context$2$0.t5 = context$2$0.sent;
					context$2$0.t6 = length;
					context$2$0.t4 = normalizeIndex(context$2$0.t5, context$2$0.t6);

				case 23:
					final = context$2$0.t4;
					count = Math.min(final - from, length - to);
					dir = 1;

					if (from < to && to < from + count) {
						dir = -1;
						from = from + count - 1;
						to = to + count - 1;
					}

					while (count > 0) {
						current = arr.getProperty(from);

						if (current) {
							arr.putValue(to, current.getValue(), true, env);
						} else {
							arr.deleteProperty(to);
						}

						from += dir;
						to += dir;
						count--;
					}

					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.copyWithin"));

	proto.define("fill", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, start, end) {
		var arr, length, k, final;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					if (!start) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, start);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					k = context$2$0.t0;

					if (!contracts.isUndefined(end)) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.t1 = length;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toInteger)(env, end);

				case 18:
					context$2$0.t1 = context$2$0.sent;

				case 19:
					final = context$2$0.t1;

					k = normalizeIndex(k, length);
					final = normalizeIndex(final, length);

					while (k < final) {
						arr.putValue(k++, value, true, env);
					}

					return context$2$0.abrupt("return", arr);

				case 24:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.fill"));

	proto.define("find", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var arr, length, i, propInfo, value, passed;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsFunction(predicate, "predicate");

					// for some reason the spec for the find methods calls empty array slots
					// how that is useful, beats me
					i = 0;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 18;
						break;
					}

					propInfo = arr.getProperty(i);
					value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 11;
					return (0, _es5Array.executeCallback)(env, predicate, { key: i, value: value }, thisArg, arr);

				case 11:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", value);

				case 15:

					i++;
					context$2$0.next = 6;
					break;

				case 18:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.find"));

	proto.define("findIndex", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var arr, length, i, propInfo, value, passed;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsFunction(predicate, "predicate");

					i = 0;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 18;
						break;
					}

					propInfo = arr.getProperty(i);
					value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 11;
					return (0, _es5Array.executeCallback)(env, predicate, { key: i, value: value }, thisArg, arr);

				case 11:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(i));

				case 15:

					i++;
					context$2$0.next = 6;
					break;

				case 18:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(-1));

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.findIndex"));

	(0, _iterator2["default"])(env, proto);
};

module.exports = exports["default"];
},{"../../es5/array/":185,"../../iterators/":213,"../../types/primitive-type":230,"../../types/symbol-type":235,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"./iterator":200,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],200:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _typesSymbolType = require("../../types/symbol-type");

var _utilsAsync = require("../../utils/async");

var _utilsNative = require("../../utils/native");

exports["default"] = function (env, proto) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	var objectFactory = env.objectFactory;

	var iteratorProto = objectFactory.createObject();
	iteratorProto.className = "Array Iterator";

	iteratorProto.define("next", objectFactory.createBuiltInFunction(function () {
		var result = this.node.advance();
		if (result.value) {
			return result.value;
		}

		var obj = objectFactory.createObject();
		obj.define("done", objectFactory.createPrimitive(result.done));
		return obj;
	}, 0, "ArrayIterator.prototype.next"));

	function createIteratorValue(arr, index, kind) {
		var key = undefined;
		if (kind !== "value") {
			key = objectFactory.createPrimitive(index);
			if (kind === "key") {
				return key;
			}
		}

		var propInfo = arr.getProperty(index);
		var value = _typesPrimitiveType.UNDEFINED;

		if (propInfo) {
			value = propInfo.getValue();
		}

		if (kind === "value") {
			return value;
		}

		return objectFactory.createArray([key, value]);
	}

	function getIterator(arr, kind) {
		var done, index, _length, value, result;

		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					done = false;
					index = 0;

				case 2:
					if (done) {
						context$2$0.next = 14;
						break;
					}

					_length = (0, _utilsAsync.exhaust)((0, _utilsNative.toLength)(env, arr));
					value = _typesPrimitiveType.UNDEFINED;

					if (index >= _length) {
						done = true;
					} else {
						value = createIteratorValue(arr, index, kind);
					}

					result = objectFactory.createObject();

					result.define("done", objectFactory.createPrimitive(done));
					result.define("value", value);
					context$2$0.next = 11;
					return result;

				case 11:

					index++;
					context$2$0.next = 2;
					break;

				case 14:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	proto.define("keys", objectFactory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr, "key");
		return objectFactory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.keys"));

	proto.define("entries", objectFactory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr);
		return objectFactory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.entries"));

	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");
	iteratorProto.define(stringTagKey, objectFactory.createPrimitive("Array Iterator"), { writable: false });

	var iteratorFunc = objectFactory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr, "value");
		return objectFactory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.values");

	proto.define("values", iteratorFunc);
	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	proto.define(iteratorKey, iteratorFunc);
};

module.exports = exports["default"];
},{"../../types/primitive-type":230,"../../types/symbol-type":235,"../../utils/async":237,"../../utils/native":240,"babel-runtime/regenerator":26}],201:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _es5 = require("../es5/");

var _es52 = _interopRequireDefault(_es5);

var _number = require("./number/");

var _number2 = _interopRequireDefault(_number);

var _array = require("./array/");

var _array2 = _interopRequireDefault(_array);

var _object = require("./object/");

var _object2 = _interopRequireDefault(_object);

var _symbol = require("./symbol/");

var _symbol2 = _interopRequireDefault(_symbol);

var _set = require("./set/");

var _set2 = _interopRequireDefault(_set);

var _map = require("./map/");

var _map2 = _interopRequireDefault(_map);

var _reflect = require("./reflect/");

var _reflect2 = _interopRequireDefault(_reflect);

var _typesSymbolType = require("../types/symbol-type");

exports["default"] = function (env) {
	(0, _es52["default"])(env);
	(0, _symbol2["default"])(env);

	var objectFactory = env.objectFactory;
	var globalObject = env.global;

	var boolProto = env.global.getValue("Boolean").getValue("prototype");
	boolProto.className = "Object";

	(0, _object2["default"])(env);
	(0, _number2["default"])(env);
	(0, _array2["default"])(env);
	(0, _set2["default"])(env);
	(0, _map2["default"])(env);

	// setup class symbols
	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");
	var speciesKey = _typesSymbolType.SymbolType.getByKey("species");
	["Function", "Number", "Boolean", "Object", "Array", "String", "Date", "RegExp", "JSON"].forEach(function (typeName) {
		var ctor = globalObject.getValue(typeName);
		ctor.define(stringTagKey, objectFactory.createPrimitive(typeName), { writable: false });

		var speciesGetter = function speciesGetter() {
			return ctor;
		};
		var speciesGetterFunc = objectFactory.createGetter(speciesGetter, "[Symbol.species]");
		ctor.define(speciesKey, null, { getter: speciesGetter, get: speciesGetterFunc });
	});

	// update length attributes on built-ins
	var lengthAttr = { configurable: true, enumerable: false, writable: false };
	globalObject.getValue("Function").define("length", objectFactory.createPrimitive(1), lengthAttr);
	globalObject.getValue("Number").define("length", objectFactory.createPrimitive(1), lengthAttr);
	globalObject.getValue("Boolean").define("length", objectFactory.createPrimitive(1), lengthAttr);
	globalObject.getValue("Object").define("length", objectFactory.createPrimitive(1), lengthAttr);
	globalObject.getValue("Array").define("length", objectFactory.createPrimitive(1), lengthAttr);
	globalObject.getValue("String").define("length", objectFactory.createPrimitive(1), lengthAttr);
	globalObject.getValue("Date").define("length", objectFactory.createPrimitive(7), lengthAttr);
	globalObject.getValue("RegExp").define("length", objectFactory.createPrimitive(2), lengthAttr);

	var funcProto = env.global.getValue("Function").getValue("prototype");

	var thrower = function thrower() {
		throw new TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);
	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: false
	};

	funcProto.define("caller", null, prop);
	funcProto.define("arguments", null, prop);

	(0, _reflect2["default"])(env);
};

module.exports = exports["default"];
},{"../es5/":192,"../types/symbol-type":235,"./array/":199,"./map/":202,"./number/":203,"./object/":204,"./reflect/":205,"./set/":206,"./symbol/":207,"babel-runtime/helpers/interop-require-default":23}],202:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsAsync = require("../../utils/async");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsFunc = require("../../utils/func");

exports["default"] = function (env) {
	function assertIsMap(obj, methodName) {
		contracts.assertIsObject(obj, methodName);

		if (!("mapData" in obj)) {
			throw new TypeError("Method " + methodName + " called on incompatible receiver " + obj.className);
		}
	}

	function findIndex(obj, key) {
		for (var i = 0, ln = obj.mapData.length; i < ln; i++) {
			var current = obj.mapData[i];
			if (env.ops.areSameOrZero(key, current.key)) {
				return i;
			}
		}

		return -1;
	}

	var objectFactory = env.objectFactory;

	var mapClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(iterable) {
		var obj, _length, setter, callee, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry, key, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw new TypeError("Constructor Map requires 'new'");

				case 2:
					obj = objectFactory.create("Map");

					if (!iterable) {
						context$2$0.next = 39;
						break;
					}

					contracts.assertIsObject(iterable, "Map");

					context$2$0.next = 7;
					return (0, _utilsNative.toLength)(env, iterable);

				case 7:
					_length = context$2$0.sent;
					setter = obj.getValue("set");

					contracts.assertIsFunction(setter, "set");
					callee = setter.node || setter;
					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 14;
					_iterator = _getIterator(_iterators2["default"].forward(env, iterable, 0, _length));

				case 16:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 25;
						break;
					}

					entry = _step.value;
					key = entry.value.getValue("0");
					value = entry.value.getValue("1");
					context$2$0.next = 22;
					return (0, _utilsFunc.execute)(env, setter, [key, value], obj, callee);

				case 22:
					_iteratorNormalCompletion = true;
					context$2$0.next = 16;
					break;

				case 25:
					context$2$0.next = 31;
					break;

				case 27:
					context$2$0.prev = 27;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError = true;
					_iteratorError = context$2$0.t0;

				case 31:
					context$2$0.prev = 31;
					context$2$0.prev = 32;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 34:
					context$2$0.prev = 34;

					if (!_didIteratorError) {
						context$2$0.next = 37;
						break;
					}

					throw _iteratorError;

				case 37:
					return context$2$0.finish(34);

				case 38:
					return context$2$0.finish(31);

				case 39:
					return context$2$0.abrupt("return", obj);

				case 40:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 27, 31, 39], [32,, 34, 38]]);
	}));

	var proto = mapClass.getValue("prototype");

	proto.define("clear", objectFactory.createBuiltInFunction(function () {
		assertIsMap(this.node, "Map.prototype.clear");
		this.node.mapData = [];
		return _typesPrimitiveType.UNDEFINED;
	}, 0, "Map.prototype.clear"));

	proto.define("delete", objectFactory.createBuiltInFunction(function (key) {
		assertIsMap(this.node, "Map.prototype.delete");
		var index = findIndex(this.node, key);
		if (index >= 0) {
			this.node.mapData.splice(index, 1);
			return objectFactory.createPrimitive(true);
		}

		return objectFactory.createPrimitive(false);
	}, 1, "Map.prototype.delete"));

	proto.define("forEach", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var m;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					assertIsMap(this.node, "Map.prototype.forEach");
					contracts.assertIsFunction(callback, "callback");

					m = this.node;

					thisArg = thisArg || _typesPrimitiveType.UNDEFINED;

					context$2$0.next = 6;
					return (0, _utilsAsync.each)(this.node.mapData, _regeneratorRuntime.mark(function callee$2$0(e) {
						var scope, args;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									scope = env.createScope(thisArg);

									scope.init(callback.node.body);

									args = [e.key, e.value, m];

									scope.loadArgs(callback.node.params, args, callback);

									context$3$0.next = 6;
									return scope.use(_regeneratorRuntime.mark(function callee$3$0() {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													context$4$0.next = 2;
													return env.createExecutionContext(callback.node.body, callback.node).execute();

												case 2:
													return context$4$0.abrupt("return", context$4$0.sent);

												case 3:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 6:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 7:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Map.prototype.forEach"));

	proto.define("set", objectFactory.createBuiltInFunction(function (key, value) {
		assertIsMap(this.node, "Map.prototype.set");

		var index = findIndex(this.node, key);
		if (index >= 0) {
			this.node.mapData[index].value = value;
			return this.node;
		}

		this.node.mapData.push({ key: key, value: value });
		return this.node;
	}, 2, "Map.prototype.set"));

	proto.define("get", objectFactory.createBuiltInFunction(function (key) {
		assertIsMap(this.node, "Map.prototype.get");

		var index = findIndex(this.node, key);
		if (index >= 0) {
			return this.node.mapData[index].value;
		}

		return _typesPrimitiveType.UNDEFINED;
	}, 1, "Map.prototype.get"));

	proto.define("has", objectFactory.createBuiltInFunction(function (key) {
		assertIsMap(this.node, "Map.prototype.has");
		return objectFactory.createPrimitive(findIndex(this.node, key) >= 0);
	}, 1, "Map.prototype.has"));

	env.global.define("Map", mapClass);
};

module.exports = exports["default"];
},{"../../iterators/":213,"../../types/primitive-type":230,"../../utils/async":237,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],203:[function(require,module,exports){
"use strict";

var _Number$MAX_SAFE_INTEGER = require("babel-runtime/core-js/number/max-safe-integer")["default"];

var _Number$MIN_SAFE_INTEGER = require("babel-runtime/core-js/number/min-safe-integer")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Number$EPSILON = require("babel-runtime/core-js/number/epsilon")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function (env) {
	var MAX_SAFE_INTEGER = _Number$MAX_SAFE_INTEGER || 9007199254740991;
	var MIN_SAFE_INTEGER = _Number$MIN_SAFE_INTEGER || -9007199254740991;

	var objectFactory = env.objectFactory;

	function isNumber(value) {
		return value && value.type === "number";
	}

	var numberClass = env.global.getValue("Number");

	numberClass.define("isNaN", objectFactory.createBuiltInFunction(function (value) {
		if (!isNumber(value)) {
			return objectFactory.createPrimitive(false);
		}

		return objectFactory.createPrimitive(isNaN(value.toNative()));
	}, 1, "Number.isNaN"));

	numberClass.define("isFinite", objectFactory.createBuiltInFunction(function (value) {
		if (!isNumber(value)) {
			return objectFactory.createPrimitive(false);
		}

		var numberValue = value.toNative();
		if (isNaN(numberValue) || !isFinite(numberValue)) {
			return objectFactory.createPrimitive(false);
		}

		return objectFactory.createPrimitive(true);
	}, 1, "Number.isFinite"));

	numberClass.define("isInteger", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue, intValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (isNumber(value)) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 2:
					numberValue = value.toNative();

					if (!(isNaN(numberValue) || !isFinite(numberValue))) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 5:
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, value);

				case 7:
					intValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(numberValue === intValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.isInteger"));

	numberClass.define("isSafeInteger", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue, intValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (isNumber(value)) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 2:
					numberValue = value.toNative();

					if (!(isNaN(numberValue) || !isFinite(numberValue))) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 5:
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, value);

				case 7:
					intValue = context$2$0.sent;

					if (!(intValue !== numberValue)) {
						context$2$0.next = 10;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 10:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Math.abs(numberValue) <= MAX_SAFE_INTEGER));

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.isSafeInteger"));

	numberClass.define("parseFloat", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return toString(env, value);

				case 2:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(parseFloat(stringValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.parseFloat"));

	numberClass.define("parseInt", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, radix) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return toString(env, value);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(env, radix, "number");

				case 5:
					radix = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(parseInt(stringValue, radix)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Number.parseInt"));

	// constants
	var frozen = { configurable: false, enumerable: false, writable: false };
	numberClass.define("EPSILON", objectFactory.createPrimitive(_Number$EPSILON || 2.220446049250313e-16), frozen);
	numberClass.define("MAX_SAFE_INTEGER", objectFactory.createPrimitive(MAX_SAFE_INTEGER), frozen);
	numberClass.define("MIN_SAFE_INTEGER", objectFactory.createPrimitive(MIN_SAFE_INTEGER), frozen);

	// prototypes in ES6 cannot be coerced into primitives
	var proto = numberClass.getValue("prototype");
	proto.className = "Object";
};

module.exports = exports["default"];
},{"../../utils/native":240,"babel-runtime/core-js/number/epsilon":5,"babel-runtime/core-js/number/max-safe-integer":6,"babel-runtime/core-js/number/min-safe-integer":7,"babel-runtime/regenerator":26}],204:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _reflect = require("../reflect/");

var _typesSymbolType = require("../../types/symbol-type");

exports["default"] = function (env) {
	var objectFactory = env.objectFactory;
	var objectClass = env.global.getValue("Object");

	objectClass.define("is", objectFactory.createBuiltInFunction(function (a, b) {
		var result = env.ops.areSame(a || _typesPrimitiveType.UNDEFINED, b || _typesPrimitiveType.UNDEFINED);
		return objectFactory.createPrimitive(result);
	}, 2, "Object.is"));

	objectClass.define("assign", objectFactory.createBuiltInFunction(function (target) {
		var to = (0, _utilsNative.toObject)(env, target, true);

		for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			sources[_key - 1] = arguments[_key];
		}

		sources.forEach(function (next) {
			if (!contracts.isNullOrUndefined(next)) {
				var source = (0, _utilsNative.toObject)(env, next);
				for (var key in source.properties) {
					if (source.properties[key].enumerable) {
						to.putValue(key, source.getValue(key), true, env);
					}
				}
			}
		});

		return to;
	}, 2, "Object.assign"));

	objectClass.define("getOwnPropertyNames", objectFactory.createBuiltInFunction(function (obj) {
		var o = (0, _utilsNative.toObject)(env, obj, true);
		var keys = o.getOwnPropertyKeys().map(function (k) {
			return objectFactory.createPrimitive(k);
		});
		return objectFactory.createArray(keys);
	}, 1, "Object.getOwnPropertyNames"));

	objectClass.define("getOwnPropertySymbols", objectFactory.createBuiltInFunction(function (obj) {
		var o = (0, _utilsNative.toObject)(env, obj, true);
		var keys = o.getOwnPropertyKeys("Symbol");
		return objectFactory.createArray(keys);
	}, 1, "Object.getOwnPropertySymbols"));

	objectClass.define("keys", objectFactory.createBuiltInFunction(function (obj) {
		var o = (0, _utilsNative.toObject)(env, obj, true);
		var keys = [];
		for (var key in o.properties) {
			if (o.properties[key].enumerable) {
				keys.push(objectFactory.createPrimitive(key));
			}
		}

		return objectFactory.createArray(keys);
	}, 1, "Object.keys"));

	objectClass.define("setPrototypeOf", objectFactory.createBuiltInFunction(function (target, proto) {
		contracts.assertIsNotNullOrUndefined(target, "setPrototypeOf");
		if (!contracts.isObject(proto) && !contracts.isNull(proto)) {
			throw new TypeError("Object prototype may only be an Object or null");
		}

		if (contracts.isObject(target) && !(0, _reflect.setPrototype)(target, proto)) {
			throw new TypeError(target.className + " is not extensible");
		}

		return target;
	}, 2, "Object.setPrototypeOf"));

	var proto = objectClass.getValue("prototype");
	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");

	function objectToString(obj) {
		var tag = obj.className;

		if (!contracts.isNullOrUndefined(obj)) {
			var tagProperty = obj.getProperty(stringTagKey);
			if (tagProperty) {
				var tagValue = tagProperty.getValue();
				if (tagValue && tagValue.type === "string") {
					tag = tagValue.toNative();
				}
			}
		}

		return objectFactory.createPrimitive("[object " + tag + "]");
	};

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		return objectToString(this.node);
	}, 0, "Object.prototype.toString"));

	proto.define("toLocaleString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotNullOrUndefined(this.node, "Object.prototype.toLocaleString");
		return objectToString(this.node);
	}, 0, "Object.prototype.toLocaleString"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":230,"../../types/symbol-type":235,"../../utils/contracts":238,"../../utils/native":240,"../reflect/":205,"babel-runtime/helpers/interop-require-wildcard":24}],205:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.setPrototype = setPrototype;

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _typesPrimitiveType = require("../../types/primitive-type");

var _es5Object = require("../../es5/object/");

function setPrototype(target, proto) {
	// check whether prototype chain already includes object
	var targetProto = target.getPrototype();
	if (targetProto === proto) {
		return true;
	}

	if (!target.extensible) {
		return false;
	}

	var current = proto;
	while (current) {
		if (current === target) {
			return false;
		}

		current = current.getPrototype();
	}

	target.setPrototype(proto);
	return true;
}

exports["default"] = function (env) {
	var objectFactory = env.objectFactory;
	var globalObject = env.global;

	var reflectClass = objectFactory.createObject();
	reflectClass.define("apply", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, thisArg, argsArray) {
		var args, callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsFunction(target, "target");
					if (argsArray) {
						contracts.assertIsObject(argsArray, "Reflect.apply");
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toArray)(env, argsArray);

				case 4:
					args = context$2$0.sent;
					callee = target.native ? target : target.node;
					context$2$0.next = 8;
					return (0, _utilsFunc.execute)(env, target, args, thisArg, callee);

				case 8:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.apply"));

	reflectClass.define("construct", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, argsArray, newTarget) {
		var args, callee, proto, obj;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsFunction(target, "target");
					if (argsArray) {
						contracts.assertIsObject(argsArray, "Reflect.construct");
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toArray)(env, argsArray);

				case 4:
					args = context$2$0.sent;
					callee = target.node || target;
					proto = newTarget || target;
					obj = objectFactory.createObject(proto);
					context$2$0.next = 10;
					return (0, _utilsFunc.execute)(env, target, args, obj, callee, true);

				case 10:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.construct"));

	reflectClass.define("defineProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey, descriptor) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(target, "Reflect.defineProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, propertyKey);

				case 3:
					key = context$2$0.sent;
					context$2$0.t0 = objectFactory;
					context$2$0.next = 7;
					return (0, _es5Object.defineProperty)(env, target, key, descriptor, false);

				case 7:
					context$2$0.t1 = context$2$0.sent;
					return context$2$0.abrupt("return", context$2$0.t0.createPrimitive.call(context$2$0.t0, context$2$0.t1));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.defineProperty"));

	reflectClass.define("deleteProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(target, "Reflect.deleteProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, propertyKey);

				case 3:
					key = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(target.deleteProperty(key, false)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.deleteProperty"));

	reflectClass.define("get", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey, receiver) {
		var key, property;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(target, "Reflect.get");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, propertyKey);

				case 3:
					key = context$2$0.sent;
					property = target.getProperty(key);

					if (!property) {
						context$2$0.next = 8;
						break;
					}

					property.bind(receiver || target);
					return context$2$0.abrupt("return", property.getValue());

				case 8:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.get"));

	reflectClass.define("getOwnPropertyDescriptor", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(target, "Reflect.getOwnPropertyDescriptor");
					context$2$0.next = 3;
					return (0, _es5Object.getOwnPropertyDescriptor)(env, target, propertyKey);

				case 3:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.getOwnPropertyDescriptor"));

	reflectClass.define("getPrototypeOf", objectFactory.createBuiltInFunction(function (target) {
		contracts.assertIsObject(target, "Reflect.getPrototypeOf");
		return target.getPrototype();
	}, 1, "Reflect.getPrototypeOf"));

	reflectClass.define("has", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(target, "Reflect.has");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, propertyKey);

				case 3:
					key = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(target.has(key)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.has"));

	reflectClass.define("isExtensible", objectFactory.createBuiltInFunction(function (target) {
		contracts.assertIsObject(target, "Reflect.isExtensible");
		return objectFactory.createPrimitive(target.extensible);
	}, 1, "Reflect.isExtensible"));

	reflectClass.define("ownKeys", objectFactory.createBuiltInFunction(function (target) {
		contracts.assertIsObject(target, "Reflect.ownKeys");

		var arr = objectFactory.create("Array");
		var index = 0;

		for (var key in target.properties) {
			var value = objectFactory.createPrimitive(key);
			arr.defineOwnProperty(index++, { configurable: true, enumerable: true, writable: true, value: value }, false, env);
		}

		for (var key in target.symbols) {
			arr.defineOwnProperty(index++, { configurable: true, enumberable: true, writable: true, value: target.symbols[key].key }, false, env);
		}

		return arr;
	}, 1, "Reflect.ownKeys"));

	reflectClass.define("preventExtensions", objectFactory.createBuiltInFunction(function (target) {
		contracts.assertIsObject(target, "Reflect.preventExtensions");
		target.preventExtensions();
		return objectFactory.createPrimitive(true);
	}, 1, "Reflect.preventExtensions"));

	reflectClass.define("set", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey, value, receiver) {
		var key, descriptor, receiverDescriptor, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(target, "Reflect.set");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(env, propertyKey);

				case 3:
					key = context$2$0.sent;

					receiver = receiver || target;

					descriptor = target.getProperty(key);

					if (!descriptor) {
						context$2$0.next = 21;
						break;
					}

					if (!(target !== receiver && receiver.owns(key))) {
						context$2$0.next = 11;
						break;
					}

					receiverDescriptor = receiver.getProperty(key);

					if (receiverDescriptor.dataProperty) {
						context$2$0.next = 11;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 11:
					if (descriptor.dataProperty) {
						context$2$0.next = 15;
						break;
					}

					descriptor.bind(receiver);
					descriptor.setValue(value);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 15:
					if (receiver.owns(key)) {
						context$2$0.next = 17;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(receiver.defineOwnProperty(key, {
						value: value,
						configurable: true,
						enumerable: true,
						writable: true
					}, false, env)));

				case 17:
					if (descriptor.canUpdate({ value: value })) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 19:

					receiver.putValue(key, value, false, env);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 21:
					result = receiver.defineOwnProperty(key, {
						value: value,
						configurable: true,
						enumerable: true,
						writable: true
					}, false, env);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(result));

				case 23:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.set"));

	reflectClass.define("setPrototypeOf", objectFactory.createBuiltInFunction(function (target, proto) {
		contracts.assertIsObject(target, "Reflect.setPrototypeOf");
		if (proto !== _typesPrimitiveType.NULL && proto.type !== "object") {
			throw new TypeError("The prototype must be an object or null");
		}

		return objectFactory.createPrimitive(setPrototype(target, proto));
	}, 2, "Reflect.setPrototypeOf"));

	globalObject.define("Reflect", reflectClass);
};
},{"../../es5/object/":196,"../../types/primitive-type":230,"../../utils/contracts":238,"../../utils/func":239,"../../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],206:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsFunc = require("../../utils/func");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../../utils/async");

exports["default"] = function (env) {
	function assertIsSet(obj, methodName) {
		if (!("setData" in obj)) {
			throw new TypeError("Method " + methodName + " called on incompatible receiver " + obj.className);
		}
	}

	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var setClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(iterable) {
		var obj, _length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw new TypeError("Constructor Set requires 'new'");

				case 2:
					obj = objectFactory.create("Set");

					if (!iterable) {
						context$2$0.next = 34;
						break;
					}

					_length = iterable.getValue("length").toNative();
					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 8;
					_iterator = _getIterator(_iterators2["default"].forward(env, iterable, 0, _length));

				case 10:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 20;
						break;
					}

					entry = _step.value;
					context$2$0.next = 14;
					return (0, _utilsFunc.tryExecute)(env, obj, "add", [entry.value]);

				case 14:
					context$2$0.t0 = context$2$0.sent;

					if (!(context$2$0.t0 === false)) {
						context$2$0.next = 17;
						break;
					}

					throw new TypeError("Property 'add' of object #<Set> is not a function");

				case 17:
					_iteratorNormalCompletion = true;
					context$2$0.next = 10;
					break;

				case 20:
					context$2$0.next = 26;
					break;

				case 22:
					context$2$0.prev = 22;
					context$2$0.t1 = context$2$0["catch"](8);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 26:
					context$2$0.prev = 26;
					context$2$0.prev = 27;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 29:
					context$2$0.prev = 29;

					if (!_didIteratorError) {
						context$2$0.next = 32;
						break;
					}

					throw _iteratorError;

				case 32:
					return context$2$0.finish(29);

				case 33:
					return context$2$0.finish(26);

				case 34:
					return context$2$0.abrupt("return", obj);

				case 35:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 22, 26, 34], [27,, 29, 33]]);
	}), null, { name: "Set" });

	var proto = setClass.getValue("prototype");

	proto.define("add", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.add");

		if (this.node.setData.every(function (e) {
			return !env.ops.areSameOrZero(e, value);
		})) {
			this.node.setData.push(value);
		}

		return this.node;
	}, 1, "Set.prototype.add"));

	proto.define("delete", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.delete");

		var entries = this.node.setData;
		var index = entries.length;

		while (index--) {
			if (env.ops.areSameOrZero(entries[index], value)) {
				entries.splice(index, 1);
				return objectFactory.createPrimitive(true);
			}
		}

		return objectFactory.createPrimitive(false);
	}, 1, "Set.prototype.delete"));

	proto.define("has", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.has");
		var has = this.node.setData.some(function (e) {
			return env.ops.areSameOrZero(e, value);
		});
		return objectFactory.createPrimitive(has);
	}, 1, "Set.prototype.has"));

	proto.define("clear", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.clear");
		this.node.setData = [];
	}, 0, "Set.prototype.clear"));

	proto.define("forEach", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var s;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					assertIsSet(this.node, "Set.prototype.forEach");

					s = this.node;
					context$2$0.next = 4;
					return (0, _utilsAsync.each)(this.node.setData, _regeneratorRuntime.mark(function callee$2$0(e) {
						var scope, args;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									scope = env.createScope(thisArg);

									scope.init(callback.node.body);

									args = [e, e, s];

									scope.loadArgs(callback.node.params, args, callback);

									context$3$0.next = 6;
									return scope.use(_regeneratorRuntime.mark(function callee$3$0() {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													context$4$0.next = 2;
													return env.createExecutionContext(callback.node.body, callback.node).execute();

												case 2:
													return context$4$0.abrupt("return", context$4$0.sent);

												case 3:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 6:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 7:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Set.prototype.forEach"));

	proto.define("values", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.values");
		return objectFactory.createIterator(this.node.values());
	}, 0, "Set.prototype.values"));

	proto.define("keys", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.keys");
		return objectFactory.createIterator(this.node.keys());
	}, 0, "Set.prototype.keys"));

	globalObject.define("Set", setClass);
};

module.exports = exports["default"];
},{"../../iterators":213,"../../utils/async":237,"../../utils/func":239,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/regenerator":26}],207:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _typesSymbolType = require("../../types/symbol-type");

var _typesPrimitiveType = require("../../types/primitive-type");

exports["default"] = function (env) {
	var frozen = { configurable: false, enumerable: false, writable: false };
	var objectFactory = env.objectFactory;

	var symbolClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(desc) {
		var descString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw new TypeError("Symbol is not a constructor");

				case 2:
					context$2$0.next = 4;
					return (0, _utilsNative.toString)(env, desc);

				case 4:
					descString = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.create("Symbol", descString));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}));

	symbolClass.define("for", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var keyString, instance;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, key);

				case 2:
					keyString = context$2$0.sent;
					instance = _typesSymbolType.SymbolType.getByKey(keyString);

					if (!instance) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", instance);

				case 6:
					return context$2$0.abrupt("return", objectFactory.create("Symbol", keyString));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Symbol.for"));

	symbolClass.define("keyFor", objectFactory.createBuiltInFunction(function (sym) {
		return _typesSymbolType.SymbolType.getByInstance(sym) || _typesPrimitiveType.UNDEFINED;
	}, 1, "Symbol.keyFor"));

	var proto = symbolClass.getValue("prototype");
	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		var stringValue = "Symbol(" + this.node.description + ")";
		return objectFactory.createPrimitive(stringValue);
	}));

	function createKnownSymbol(key) {
		var sym = objectFactory.create("Symbol", "@@" + key);

		// add to global registry
		_typesSymbolType.SymbolType.add(key, sym);

		symbolClass.define(key, sym, frozen);
		return sym;
	}

	createKnownSymbol("hasInstance");
	createKnownSymbol("isConcatSpreadable");
	createKnownSymbol("iterator");
	createKnownSymbol("replace");
	createKnownSymbol("species");

	var toStringTagSymbol = createKnownSymbol("toStringTag");
	proto.define(toStringTagSymbol, objectFactory.createPrimitive("Symbol"), { writable: false });

	env.global.define("Symbol", symbolClass);
};

module.exports = exports["default"];
},{"../../types/primitive-type":230,"../../types/symbol-type":235,"../../utils/native":240,"babel-runtime/regenerator":26}],208:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [walk].map(_regeneratorRuntime.mark);
function walk(node) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, n;

	return _regeneratorRuntime.wrap(function walk$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!Array.isArray(node)) {
					context$1$0.next = 27;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 4;
				_iterator = _getIterator(node);

			case 6:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				n = _step.value;
				return context$1$0.delegateYield(walk(n), "t0", 9);

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 6;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t1 = context$1$0["catch"](4);
				_didIteratorError = true;
				_iteratorError = context$1$0.t1;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return");

			case 27:
				context$1$0.next = 29;
				return node;

			case 29:
				context$1$0.t2 = node.type;
				context$1$0.next = context$1$0.t2 === "ArrayExpression" ? 32 : context$1$0.t2 === "AssignmentExpression" ? 35 : context$1$0.t2 === "BinaryExpression" ? 38 : context$1$0.t2 === "LogicalExpression" ? 38 : context$1$0.t2 === "BlockStatement" ? 41 : context$1$0.t2 === "LabeledStatement" ? 41 : context$1$0.t2 === "Program" ? 41 : context$1$0.t2 === "CallExpression" ? 43 : context$1$0.t2 === "NewExpression" ? 43 : context$1$0.t2 === "CatchClause" ? 46 : context$1$0.t2 === "ConditionalExpression" ? 49 : context$1$0.t2 === "IfStatement" ? 49 : context$1$0.t2 === "DoWhileStatement" ? 54 : context$1$0.t2 === "ExpressionStatement" ? 57 : context$1$0.t2 === "ForStatement" ? 59 : context$1$0.t2 === "ForInStatement" ? 67 : context$1$0.t2 === "FunctionDeclaration" ? 71 : context$1$0.t2 === "FunctionExpression" ? 71 : context$1$0.t2 === "MemberExpression" ? 76 : context$1$0.t2 === "ObjectExpression" ? 80 : context$1$0.t2 === "Property" ? 82 : context$1$0.t2 === "ReturnStatement" ? 84 : context$1$0.t2 === "SequenceExpression" ? 87 : context$1$0.t2 === "SwitchStatement" ? 89 : context$1$0.t2 === "SwitchCase" ? 92 : context$1$0.t2 === "ThrowStatement" ? 94 : context$1$0.t2 === "UnaryExpression" ? 94 : context$1$0.t2 === "UpdateExpression" ? 94 : context$1$0.t2 === "TryStatement" ? 96 : context$1$0.t2 === "VariableDeclaration" ? 102 : context$1$0.t2 === "VariableDeclarator" ? 104 : context$1$0.t2 === "WhileStatement" ? 108 : context$1$0.t2 === "WithStatement" ? 111 : context$1$0.t2 === "BreakStatement" ? 114 : context$1$0.t2 === "ContinueStatement" ? 114 : context$1$0.t2 === "EmptyStatement" ? 114 : context$1$0.t2 === "Identifier" ? 114 : context$1$0.t2 === "Literal" ? 114 : context$1$0.t2 === "ThisExpression" ? 114 : 115;
				break;

			case 32:
				if (!node.elements) {
					context$1$0.next = 34;
					break;
				}

				return context$1$0.delegateYield(walk(node.elements), "t3", 34);

			case 34:
				return context$1$0.abrupt("break", 115);

			case 35:
				return context$1$0.delegateYield(walk(node.right), "t4", 36);

			case 36:
				return context$1$0.delegateYield(walk(node.left), "t5", 37);

			case 37:
				return context$1$0.abrupt("break", 115);

			case 38:
				return context$1$0.delegateYield(walk(node.left), "t6", 39);

			case 39:
				return context$1$0.delegateYield(walk(node.right), "t7", 40);

			case 40:
				return context$1$0.abrupt("break", 115);

			case 41:
				return context$1$0.delegateYield(walk(node.body), "t8", 42);

			case 42:
				return context$1$0.abrupt("break", 115);

			case 43:
				return context$1$0.delegateYield(walk(node.callee), "t9", 44);

			case 44:
				return context$1$0.delegateYield(walk(node.arguments), "t10", 45);

			case 45:
				return context$1$0.abrupt("break", 115);

			case 46:
				return context$1$0.delegateYield(walk(node.param), "t11", 47);

			case 47:
				return context$1$0.delegateYield(walk(node.body), "t12", 48);

			case 48:
				return context$1$0.abrupt("break", 115);

			case 49:
				return context$1$0.delegateYield(walk(node.test), "t13", 50);

			case 50:
				return context$1$0.delegateYield(walk(node.consequent), "t14", 51);

			case 51:
				if (!node.alternate) {
					context$1$0.next = 53;
					break;
				}

				return context$1$0.delegateYield(node.alternate, "t15", 53);

			case 53:
				return context$1$0.abrupt("break", 115);

			case 54:
				return context$1$0.delegateYield(walk(node.body), "t16", 55);

			case 55:
				return context$1$0.delegateYield(walk(node.test), "t17", 56);

			case 56:
				return context$1$0.abrupt("break", 115);

			case 57:
				return context$1$0.delegateYield(walk(node.expression), "t18", 58);

			case 58:
				return context$1$0.abrupt("break", 115);

			case 59:
				if (!node.init) {
					context$1$0.next = 61;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t19", 61);

			case 61:
				if (!node.test) {
					context$1$0.next = 63;
					break;
				}

				return context$1$0.delegateYield(walk(node.test), "t20", 63);

			case 63:
				return context$1$0.delegateYield(walk(node.body), "t21", 64);

			case 64:
				if (!node.update) {
					context$1$0.next = 66;
					break;
				}

				return context$1$0.delegateYield(walk(node.update), "t22", 66);

			case 66:
				return context$1$0.abrupt("break", 115);

			case 67:
				return context$1$0.delegateYield(walk(node.right), "t23", 68);

			case 68:
				return context$1$0.delegateYield(walk(node.left), "t24", 69);

			case 69:
				return context$1$0.delegateYield(walk(node.body), "t25", 70);

			case 70:
				return context$1$0.abrupt("break", 115);

			case 71:
				if (!node.id) {
					context$1$0.next = 73;
					break;
				}

				return context$1$0.delegateYield(walk(node.id), "t26", 73);

			case 73:
				return context$1$0.delegateYield(walk(node.params), "t27", 74);

			case 74:
				return context$1$0.delegateYield(walk(node.body), "t28", 75);

			case 75:
				return context$1$0.abrupt("break", 115);

			case 76:
				return context$1$0.delegateYield(walk(node.object), "t29", 77);

			case 77:
				if (!node.computed) {
					context$1$0.next = 79;
					break;
				}

				return context$1$0.delegateYield(walk(node.property), "t30", 79);

			case 79:
				return context$1$0.abrupt("break", 115);

			case 80:
				return context$1$0.delegateYield(walk(node.properties), "t31", 81);

			case 81:
				return context$1$0.abrupt("break", 115);

			case 82:
				return context$1$0.delegateYield(walk(node.value), "t32", 83);

			case 83:
				return context$1$0.abrupt("break", 115);

			case 84:
				if (!node.argument) {
					context$1$0.next = 86;
					break;
				}

				return context$1$0.delegateYield(walk(node.argument), "t33", 86);

			case 86:
				return context$1$0.abrupt("break", 115);

			case 87:
				return context$1$0.delegateYield(walk(node.expressions), "t34", 88);

			case 88:
				return context$1$0.abrupt("break", 115);

			case 89:
				return context$1$0.delegateYield(walk(node.discriminant), "t35", 90);

			case 90:
				return context$1$0.delegateYield(walk(node.cases), "t36", 91);

			case 91:
				return context$1$0.abrupt("break", 115);

			case 92:
				return context$1$0.delegateYield(walk(node.consequent), "t37", 93);

			case 93:
				return context$1$0.abrupt("break", 115);

			case 94:
				return context$1$0.delegateYield(walk(node.argument), "t38", 95);

			case 95:
				return context$1$0.abrupt("break", 115);

			case 96:
				return context$1$0.delegateYield(walk(node.block), "t39", 97);

			case 97:
				if (!node.handler) {
					context$1$0.next = 99;
					break;
				}

				return context$1$0.delegateYield(walk(node.handler), "t40", 99);

			case 99:
				if (!node.finalizer) {
					context$1$0.next = 101;
					break;
				}

				return context$1$0.delegateYield(walk(node.finalizer), "t41", 101);

			case 101:
				return context$1$0.abrupt("break", 115);

			case 102:
				return context$1$0.delegateYield(walk(node.declarations), "t42", 103);

			case 103:
				return context$1$0.abrupt("break", 115);

			case 104:
				return context$1$0.delegateYield(walk(node.id), "t43", 105);

			case 105:
				if (!node.init) {
					context$1$0.next = 107;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t44", 107);

			case 107:
				return context$1$0.abrupt("break", 115);

			case 108:
				return context$1$0.delegateYield(walk(node.test), "t45", 109);

			case 109:
				return context$1$0.delegateYield(walk(node.body), "t46", 110);

			case 110:
				return context$1$0.abrupt("break", 115);

			case 111:
				return context$1$0.delegateYield(walk(node.object), "t47", 112);

			case 112:
				return context$1$0.delegateYield(walk(node.body), "t48", 113);

			case 113:
				return context$1$0.abrupt("break", 115);

			case 114:
				return context$1$0.abrupt("break", 115);

			case 115:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[4, 14, 18, 26], [19,, 21, 25]]);
}

// do nothing

var EstreeWalker = (function () {
	function EstreeWalker(node) {
		_classCallCheck(this, EstreeWalker);

		this.root = node;
	}

	_createClass(EstreeWalker, [{
		key: _Symbol$iterator,
		value: function value() {
			return walk(this.root);
		}
	}], [{
		key: "create",
		value: function create(node) {
			return new EstreeWalker(node);
		}
	}]);

	return EstreeWalker;
})();

exports["default"] = EstreeWalker;
;
module.exports = exports["default"];

// right should be evaluated first

// do nothing else
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/symbol/iterator":16,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/regenerator":26}],209:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("./types/primitive-type");

var _executionResult = require("./execution-result");

var _visitors = require("./visitors");

var _visitors2 = _interopRequireDefault(_visitors);

var ExecutionContext = (function () {
	function ExecutionContext(env, node, callee, isNew) {
		_classCallCheck(this, ExecutionContext);

		this.node = node;
		this.callee = callee;
		this.env = env;
		this.isNew = !!isNew;

		this.label = "";
		this.value = null;
		this.strict = false;
	}

	_createClass(ExecutionContext, [{
		key: "execute",
		value: _regeneratorRuntime.mark(function execute() {
			var executionResult;
			return _regeneratorRuntime.wrap(function execute$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						executionResult = undefined;
						context$2$0.prev = 1;
						context$2$0.next = 4;
						return _visitors2["default"].visit(this);

					case 4:
						executionResult = context$2$0.sent;
						context$2$0.next = 10;
						break;

					case 7:
						context$2$0.prev = 7;
						context$2$0.t0 = context$2$0["catch"](1);

						executionResult = this.raise(context$2$0.t0);

					case 10:
						if (!(executionResult && executionResult.raised)) {
							context$2$0.next = 12;
							break;
						}

						throw this.env.objectFactory.create("Error", executionResult.result);

					case 12:
						return context$2$0.abrupt("return", executionResult || this.empty());

					case 13:
					case "end":
						return context$2$0.stop();
				}
			}, execute, this, [[1, 7]]);
		})
	}, {
		key: "create",
		value: function create(node, callee, isNew) {
			var context = new ExecutionContext(this.env, node, callee || this.callee, isNew);
			context.value = this.value;
			return context;
		}
	}, {
		key: "createLabel",
		value: function createLabel(node, label) {
			var context = this.create(node);
			context.label = label;
			return context;
		}
	}, {
		key: "cancel",
		value: function cancel(label) {
			var result = this.result(this.value, label);
			result.cancel = true;
			return result;
		}
	}, {
		key: "skip",
		value: function skip(label) {
			var result = this.result(this.value, label);
			result.skip = true;
			return result;
		}
	}, {
		key: "raise",
		value: function raise(err) {
			var result = this.result(err);
			result.raised = result.exit = true;
			return result;
		}
	}, {
		key: "exit",
		value: function exit(value) {
			this.callee = null;

			var result = this.result(value);
			result.exit = true;
			return result;
		}
	}, {
		key: "result",
		value: function result(value, name, obj) {
			this.value = value;
			return new _executionResult.ExecutionResult(value, name, obj);
		}
	}, {
		key: "empty",
		value: function empty() {
			return this.result(_typesPrimitiveType.UNDEFINED);
		}
	}]);

	return ExecutionContext;
})();

exports.ExecutionContext = ExecutionContext;
;
},{"./execution-result":210,"./types/primitive-type":230,"./visitors":257,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/regenerator":26}],210:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var ExecutionResult = (function () {
	function ExecutionResult(value, name, obj) {
		_classCallCheck(this, ExecutionResult);

		this.result = value;
		this.name = name;
		this.object = obj;

		this.cancel = false;
		this.cancelled = false;
		this.exit = false;
		this.skip = false;
		this.raised = false;
	}

	_createClass(ExecutionResult, [{
		key: "isCancelled",
		value: function isCancelled() {
			return this.cancel || this.exit || this.raised;
		}
	}, {
		key: "canBreak",
		value: function canBreak() {
			return this.isCancelled() || this.skip;
		}
	}, {
		key: "shouldBreak",
		value: function shouldBreak(context, loop, priorResult) {
			if (this.exit || this.raised) {
				return true;
			}

			if (!this.cancel && !this.skip) {
				return false;
			}

			var breaking = true;
			if (this.name && this.name === context.label) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;

				if (this.cancelled) {
					this.result = priorResult && priorResult.result || this.result;
				}

				return breaking;
			}

			if (loop && !this.name) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;
			}

			this.result = priorResult && priorResult.result || this.result;
			return breaking;
		}
	}]);

	return ExecutionResult;
})();

exports.ExecutionResult = ExecutionResult;
},{"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],211:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

require("./polyfills");

var _env = require("./env");

var _utilsAsync = require("./utils/async");

var SandBoxr = (function () {
	/**
  * Creates a new Sandbox
  * @class
  * @param {AST} ast - The abstract syntax tree to execute.
  * @param {Object} [options] The options to use with the sandbox.
  */

	function SandBoxr(ast) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, SandBoxr);

		this.ast = ast;
		this.options = options;
	}

	/**
  * Executes the abstract syntax tree (AST) against the provided environment (or the default
  * environment if not provided)
  * @param {Environment} [env] - The environment to execute the AST against.
  * @returns {Promise} A promise that resolves with the result of the execution
  */

	_createClass(SandBoxr, [{
		key: "execute",
		value: function execute(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.promisify)(env.createExecutionContext(this.ast).execute()).then(function (res) {
				return res.result;
			});
		}
	}, {
		key: _Symbol$iterator,
		value: function value() {
			return this.step();
		}
	}, {
		key: "step",
		value: function step(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.step)(env.createExecutionContext(this.ast).execute());
		}

		/**
   * Creates an environment instance.
   * @returns {Object} The environment instance.
   */
	}], [{
		key: "createEnvironment",
		value: function createEnvironment() {
			return new _env.Environment();
		}

		/**
   * Creates a new SandBoxr instance.
   * @param {AST} ast - The abstract syntax tree to execute.
   * @param {Object} [options] The options to use with the sandbox.
   * @returns {SandBoxr} A new sandbox.
   */
	}, {
		key: "create",
		value: function create(ast, options) {
			return new SandBoxr(ast, options);
		}
	}]);

	return SandBoxr;
})();

exports.SandBoxr = SandBoxr;
},{"./env":180,"./polyfills":218,"./utils/async":237,"babel-runtime/core-js/symbol/iterator":16,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],212:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator, yieldIndex].map(_regeneratorRuntime.mark);

function ascIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = lo;

			case 1:
				if (!(index < hi)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index++;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = hi;

			case 1:
				if (!(index >= lo)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index--;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function yieldIndex(source, key) {
	var prop, value;
	return _regeneratorRuntime.wrap(function yieldIndex$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				prop = source.getProperty(key);

				if (!prop) {
					context$1$0.next = 5;
					break;
				}

				value = prop.getValue();
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

var ArrayIterator = {
	create: function create(obj, lo, hi, desc) {
		return (desc ? descIterator : ascIterator)(obj, lo, hi);
	}
};

exports["default"] = ArrayIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":26}],213:[function(require,module,exports){
"use strict";

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _stringIterator = require("./string-iterator");

var _stringIterator2 = _interopRequireDefault(_stringIterator);

var _sparseIterator = require("./sparse-iterator");

var _sparseIterator2 = _interopRequireDefault(_sparseIterator);

var _arrayIterator = require("./array-iterator");

var _arrayIterator2 = _interopRequireDefault(_arrayIterator);

var _iterableIterator = require("./iterable-iterator");

var _iterableIterator2 = _interopRequireDefault(_iterableIterator);

var _typesSymbolType = require("../types/symbol-type");

var _utilsNative = require("../utils/native");

var _utilsAsync = require("../utils/async");

var _utilsFunc = require("../utils/func");

require("../polyfills");

var SPARE_ARRAY_DENSITY = 0.8;

function arrayIsSparse(arr, length) {
	var ownPropertyCount = _Object$keys(arr.properties).length;

	// this is just to roughly estimate how dense the array is
	var density = (ownPropertyCount - 1) / length;
	return density < SPARE_ARRAY_DENSITY;
}

var iterate = {
	getIterator: function getIterator(env, obj) {
		var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
		var iterator = obj.getProperty(iteratorKey);
		if (iterator) {
			var fn = iterator.getValue();
			var it = (0, _utilsAsync.exhaust)((0, _utilsFunc.execute)(env, fn, [], obj, fn));
			return _iterableIterator2["default"].create(env, obj, it);
		}

		var length = (0, _utilsAsync.exhaust)((0, _utilsNative.toLength)(env, obj));
		return this.forward(env, obj, 0, length);
	},

	forward: function forward(env, obj, lo, hi) {
		// string will never be dense
		if (obj.className === "String") {
			return _stringIterator2["default"].create(env.objectFactory, obj, lo);
		}

		if (arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi - 1);
		}

		return _arrayIterator2["default"].create(obj, lo, hi);
	},

	reverse: function reverse(env, obj, hi) {
		var lo = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];

		if (obj.className === "String") {
			return _stringIterator2["default"].create(env.objectFactory, obj, hi, true);
		}

		if (arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi, true);
		}

		return _arrayIterator2["default"].create(obj, lo, hi, true);
	}
};

exports["default"] = iterate;
module.exports = exports["default"];
},{"../polyfills":218,"../types/symbol-type":235,"../utils/async":237,"../utils/func":239,"../utils/native":240,"./array-iterator":212,"./iterable-iterator":214,"./sparse-iterator":215,"./string-iterator":216,"babel-runtime/core-js/object/keys":12,"babel-runtime/helpers/interop-require-default":23}],214:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsFunc = require("../utils/func");

var _utilsNative = require("../utils/native");

var _utilsAsync = require("../utils/async");

var _typesPrimitiveType = require("../types/primitive-type");

var IterableIterator = (function () {
	function IterableIterator(env, it) {
		_classCallCheck(this, IterableIterator);

		this.env = env;
		this.currentIndex = 0;
		this.iterator = it;
		this.advancer = it.getValue("next");
	}

	_createClass(IterableIterator, [{
		key: "next",
		value: function next() {
			var result = (0, _utilsAsync.exhaust)((0, _utilsFunc.execute)(this.env, this.advancer, [], this.iterator, this.advancer));
			var value = { key: this.currentIndex++, value: _typesPrimitiveType.UNDEFINED };

			var valueProperty = result.getProperty("value");
			if (valueProperty) {
				value.value = valueProperty.getValue();
			}

			var done = (0, _utilsNative.toBoolean)(result.getValue("done"));
			return { done: done, value: value };
		}
	}, {
		key: "return",
		value: function _return() {
			var propInfo = this.iterator.getProperty("return");
			if (propInfo) {
				var returnFunc = propInfo.getValue();
				return (0, _utilsAsync.exhaust)((0, _utilsFunc.execute)(this.env, returnFunc, [], this.iterator, returnFunc));
			}

			return _typesPrimitiveType.UNDEFINED;
		}
	}], [{
		key: "create",
		value: function create(env, obj, it) {
			return new IterableIterator(env, it);
		}
	}]);

	return IterableIterator;
})();

exports["default"] = IterableIterator;
module.exports = exports["default"];
},{"../types/primitive-type":230,"../utils/async":237,"../utils/func":239,"../utils/native":240,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],215:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

require("../polyfills");

var ASCENDING = function ASCENDING(a, b) {
	return a - b;
};
var DESCENDING = function DESCENDING(a, b) {
	return b - a;
};

var SparseIterator = (function () {
	function SparseIterator(obj, start, end, desc) {
		_classCallCheck(this, SparseIterator);

		this.object = obj;
		this.start = start;
		this.end = end;
		this.asc = !desc;
		this.version = 0;
	}

	_createClass(SparseIterator, [{
		key: _Symbol$iterator,
		value: function value() {
			return this;
		}
	}, {
		key: "reset",
		value: function reset() {
			this.version = 0;
			this.prototypes = [];
			this.props = _Object$create(null);
			this.keys = [];

			var current = this.object;

			while (current) {
				this.prototypes.push(current);
				this.version += current.version;

				for (var _name in current.properties) {
					if (!(_name in this.props) && contracts.isInteger(_name)) {
						var index = Number(_name);

						if (index >= this.start && index <= this.end) {
							this.props[_name] = current.getOwnProperty(_name);
							this.keys.push(index);
						}
					}
				}

				current = current.getPrototype();
			}

			this.keys.sort(this.asc ? ASCENDING : DESCENDING);
		}
	}, {
		key: "next",
		value: function next() {
			if (!this.version || this.shouldReset()) {
				this.reset();
			}

			if (this.keys.length > 0) {
				var key = this.position = this.keys.shift();
				var value = this.props[key].getValue();

				return {
					value: { value: value, key: key },
					done: false
				};
			}

			return {
				done: true
			};
		}
	}, {
		key: "shouldReset",
		value: function shouldReset() {
			var currentVersion = this.prototypes.reduce(function (v, o) {
				return o.version + v;
			}, 0);
			if (currentVersion !== this.version) {
				if (this.asc) {
					this.start = this.position + 1;
				} else {
					this.end = this.position - 1;
				}

				return true;
			}

			return false;
		}
	}], [{
		key: "create",
		value: function create(arr, start, end, desc) {
			return new SparseIterator(arr, start, end, desc);
		}
	}]);

	return SparseIterator;
})();

exports["default"] = SparseIterator;
module.exports = exports["default"];
},{"../polyfills":218,"../utils/contracts":238,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/symbol/iterator":16,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/interop-require-wildcard":24}],216:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator].map(_regeneratorRuntime.mark);
function ascIterator(factory, stringValue, start) {
	var key, _length, value;

	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				key = start, _length = stringValue.length;

			case 1:
				if (!(key < _length)) {
					context$1$0.next = 8;
					break;
				}

				value = factory.createPrimitive(stringValue[key]);
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
				key++;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(factory, stringValue, start) {
	var key, value;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				key = start;

			case 1:
				if (!(key >= 0)) {
					context$1$0.next = 8;
					break;
				}

				value = factory.createPrimitive(stringValue[key]);
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
				key--;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

var StringIterator = {
	create: function create(objectFactory, value, start, desc) {
		var stringValue = value.toNative();
		return (desc ? descIterator : ascIterator)(objectFactory, stringValue, start);
	}
};

exports["default"] = StringIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":26}],217:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.isReserved = isReserved;
exports.isStrictReserved = isStrictReserved;
var keywords = {
	"es5": ["do", "if", "in", "for", "new", "try", "var", "case", "else", "enum", "null", "this", "true", "void", "with", "break", "catch", "class", "const", "false", "super", "throw", "while", "delete", "export", "import", "return", "switch", "typeof", "default", "extends", "finally", "continue", "debugger", "function", "instanceof"],

	"es5strict": ["implements", "let", "private", "public", "interface", "package", "protected", "static", "yield"]
};

function isReserved(name) {
	return keywords.es5.indexOf(name) >= 0;
}

function isStrictReserved(name) {
	return keywords.es5strict.indexOf(name) >= 0;
}
},{}],218:[function(require,module,exports){
"use strict";

require("core-js/fn/string/repeat");

require("core-js/fn/math/sign");

require("core-js/es6/promise");

require("core-js/es6/symbol");
},{"core-js/es6/promise":29,"core-js/es6/symbol":30,"core-js/fn/math/sign":31,"core-js/fn/string/repeat":32}],219:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("./utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function validateAssignment(left, strict) {
	if (strict && left.type === "Identifier") {
		contracts.assertIsValidName(left.name, true);
	}
}

var rules = {
	AssignmentExpression: function AssignmentExpression(node, strict) {
		validateAssignment(node.left, strict);
	},

	CatchClause: function CatchClause(node, strict) {
		contracts.assertIsValidName(node.param.name, strict);
	},

	Identifier: function Identifier(node, strict) {
		contracts.assertIsValidIdentifier(node.name, strict);
	},

	FunctionDeclaration: function FunctionDeclaration(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
		contracts.assertAreValidArguments(node.params, strict);
	},

	FunctionExpression: function FunctionExpression(node, strict) {
		if (node.id) {
			contracts.assertIsValidName(node.id.name, strict);
		}

		contracts.assertAreValidArguments(node.params, strict);
	},

	Literal: function Literal(node, strict) {
		if (strict && node.raw) {
			if (contracts.isOctalLiteral(node.raw, node.value)) {
				throw new SyntaxError("Octal literals are not allowed in strict mode.");
			}
		}
	},

	UpdateExpression: function UpdateExpression(node, strict) {
		validateAssignment(node.argument, strict);
	},

	VariableDeclarator: function VariableDeclarator(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
	},

	WithStatement: function WithStatement(node, strict) {
		if (strict) {
			throw new SyntaxError("Strict mode code may not include a with statement");
		}
	}
};

exports["default"] = rules;
module.exports = exports["default"];
},{"./utils/contracts":238,"babel-runtime/helpers/interop-require-wildcard":24}],220:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ArgumentType = (function (_ObjectType) {
	_inherits(ArgumentType, _ObjectType);

	function ArgumentType(callee) {
		_classCallCheck(this, ArgumentType);

		_get(Object.getPrototypeOf(ArgumentType.prototype), "constructor", this).call(this);
		this.className = "Arguments";
		this.parameterMap = _Object$create(null);
		this.callee = callee;
	}

	_createClass(ArgumentType, [{
		key: "mapProperty",
		value: function mapProperty(index, binding) {
			index = String(index);
			_get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).call(this, index, { configurable: true, enumerable: true, writable: true, value: undefined }, true);
			this.parameterMap[index] = binding;
		}
	}, {
		key: "getProperty",
		value: function getProperty(name) {
			var ownProperty = this.getOwnProperty(name);
			if (ownProperty) {
				return ownProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getProperty", this).call(this, name);
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(name) {
			name = String(name);

			if (name in this.parameterMap) {
				var mappedProperty = this.properties[name];
				var linkedProperty = this.parameterMap[name];

				mappedProperty.value = linkedProperty.getValue();
				mappedProperty.setValue = linkedProperty.setValue.bind(linkedProperty);
				return mappedProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getOwnProperty", this).call(this, name);
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			name = String(name);

			var allowed = _get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).apply(this, arguments);
			if (allowed && name in this.parameterMap) {
				if ("set" in descriptor || "get" in descriptor) {
					delete this.parameterMap[name];
				} else if ("value" in descriptor) {
					this.parameterMap[name].setValue(descriptor.value, throwOnError);
				}

				if ("writable" in descriptor && !descriptor.writable) {
					delete this.parameterMap[name];
				}
			}

			return allowed;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(name, throwOnError) {
			name = String(name);
			if (name in this.parameterMap) {
				delete this.parameterMap[name];
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "deleteProperty", this).apply(this, arguments);
		}
	}]);

	return ArgumentType;
})(_objectType.ObjectType);

exports.ArgumentType = ArgumentType;
},{"./object-type":229,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],221:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [setLength].map(_regeneratorRuntime.mark);

var _objectType = require("./object-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _iterators = require("../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../utils/async");

function setIndex(env, arr, name, descriptor, throwOnError) {
	var index = Number(name);
	var lengthProperty = arr.getProperty("length");
	var lengthValue = lengthProperty.getValue().toNative();

	if (!lengthProperty.canSetValue() && index >= lengthValue || !_objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, false, env)) {

		if (throwOnError) {
			throw new TypeError("Cannot define property: " + name + ", object is not extensible.");
		}

		return false;
	}

	if (index >= lengthValue) {
		var newLength = env.objectFactory.createPrimitive(index + 1);
		arr.defineOwnProperty("length", { value: newLength }, false, env);
	}

	return true;
}

function setLength(env, arr, name, descriptor, throwOnError) {
	var newLengthValue, newLength, currentLength, notWritable, i, succeeded, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key;

	return _regeneratorRuntime.wrap(function setLength$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsNative.toUInt32)(env, descriptor.value);

			case 2:
				newLengthValue = context$1$0.sent;
				context$1$0.t0 = newLengthValue;
				context$1$0.next = 6;
				return (0, _utilsNative.toNumber)(env, descriptor.value);

			case 6:
				context$1$0.t1 = context$1$0.sent;

				if (!(context$1$0.t0 !== context$1$0.t1)) {
					context$1$0.next = 9;
					break;
				}

				throw new RangeError("Array length out of range");

			case 9:

				descriptor.value = env.objectFactory.createPrimitive(newLengthValue);
				newLength = descriptor.value;
				currentLength = arr.getProperty("length").getValue();

				contracts.assertIsValidArrayLength(newLength.value);

				if (!(newLength.value >= currentLength.value)) {
					context$1$0.next = 15;
					break;
				}

				return context$1$0.abrupt("return", _objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, throwOnError));

			case 15:
				if (!(arr.properties.length.writable === false)) {
					context$1$0.next = 19;
					break;
				}

				if (!throwOnError) {
					context$1$0.next = 18;
					break;
				}

				throw new TypeError("Cannot redefine property: length");

			case 18:
				return context$1$0.abrupt("return", false);

			case 19:
				notWritable = "writable" in descriptor && !descriptor.writable;

				if (notWritable) {
					// set to writable in case removing items fails
					descriptor.writable = true;
				}

				i = currentLength.value;

				if (_objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, throwOnError)) {
					context$1$0.next = 24;
					break;
				}

				return context$1$0.abrupt("return", false);

			case 24:
				succeeded = true;

				if (!(i > newLength.value)) {
					context$1$0.next = 55;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 29;
				_iterator = _getIterator(_iterators2["default"].reverse(env, arr, i - 1, newLength.value));

			case 31:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 41;
					break;
				}

				key = _step.value.key;

				if (arr.deleteProperty(key, false)) {
					context$1$0.next = 38;
					break;
				}

				newLength = env.objectFactory.createPrimitive(key + 1);
				arr.defineOwnProperty("length", { value: newLength }, false, env);
				succeeded = false;
				return context$1$0.abrupt("break", 41);

			case 38:
				_iteratorNormalCompletion = true;
				context$1$0.next = 31;
				break;

			case 41:
				context$1$0.next = 47;
				break;

			case 43:
				context$1$0.prev = 43;
				context$1$0.t2 = context$1$0["catch"](29);
				_didIteratorError = true;
				_iteratorError = context$1$0.t2;

			case 47:
				context$1$0.prev = 47;
				context$1$0.prev = 48;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 50:
				context$1$0.prev = 50;

				if (!_didIteratorError) {
					context$1$0.next = 53;
					break;
				}

				throw _iteratorError;

			case 53:
				return context$1$0.finish(50);

			case 54:
				return context$1$0.finish(47);

			case 55:

				if (notWritable) {
					arr.defineOwnProperty("length", { writable: false }, false);
				}

				if (!(!succeeded && throwOnError)) {
					context$1$0.next = 58;
					break;
				}

				throw new TypeError("Cannot redefine property: length");

			case 58:
				return context$1$0.abrupt("return", succeeded);

			case 59:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[29, 43, 47, 55], [48,, 50, 54]]);
}

var ArrayType = (function (_ObjectType) {
	_inherits(ArrayType, _ObjectType);

	function ArrayType() {
		_classCallCheck(this, ArrayType);

		_get(Object.getPrototypeOf(ArrayType.prototype), "constructor", this).call(this);
		this.className = "Array";
	}

	_createClass(ArrayType, [{
		key: "init",
		value: function init(objectFactory) {
			this.defineOwnProperty("length", { value: objectFactory.createPrimitive(0), configurable: false, enumerable: false, writable: true });
		}
	}, {
		key: "putValue",
		value: function putValue(name, value, throwOnError, env) {
			if (name === "length") {
				(0, _utilsAsync.exhaust)(setLength(env, this, name, { value: value }, throwOnError));
				return;
			}

			_get(Object.getPrototypeOf(ArrayType.prototype), "putValue", this).apply(this, arguments);
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError, env) {
			if (contracts.isInteger(name) && contracts.isValidArrayLength(Number(name) + 1) && !this.hasOwnProperty(name)) {
				return setIndex(env, this, name, descriptor, throwOnError);
			}

			if (name === "length" && "length" in this.properties && descriptor && "value" in descriptor) {
				return (0, _utilsAsync.exhaust)(setLength(env, this, name, descriptor, throwOnError));
			}

			return _get(Object.getPrototypeOf(ArrayType.prototype), "defineOwnProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var arr = [];

			// this won't grab properties from the prototype - do we care?
			// it's an edge case but we may want to address it
			for (var index in this.properties) {
				if (this.properties[index].enumerable) {
					arr[Number(index)] = this.getValue(index).toNative();
				}
			}

			return arr;
		}
	}]);

	return ArrayType;
})(_objectType.ObjectType);

exports.ArrayType = ArrayType;
},{"../iterators":213,"../utils/async":237,"../utils/contracts":238,"../utils/native":240,"./object-type":229,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],222:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var DateType = (function (_ObjectType) {
	_inherits(DateType, _ObjectType);

	function DateType(value) {
		_classCallCheck(this, DateType);

		_get(Object.getPrototypeOf(DateType.prototype), "constructor", this).call(this);
		this.value = value;
		this.type = "object";
		this.className = "Date";

		// 11.6.1 Note 1
		// All native ECMAScript objects except Date objects handle the absence of a hint as if the hint
		// Number were given; Date objects handle the absence of a hint as if the hint String were given.
		this.primitiveHint = "string";
	}

	_createClass(DateType, [{
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return DateType;
})(_objectType.ObjectType);

exports.DateType = DateType;
},{"./object-type":229,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],223:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ErrorType = (function (_ObjectType) {
	_inherits(ErrorType, _ObjectType);

	function ErrorType(source) {
		_classCallCheck(this, ErrorType);

		_get(Object.getPrototypeOf(ErrorType.prototype), "constructor", this).call(this);
		this.source = source;
		this.className = "Error";
	}

	_createClass(ErrorType, [{
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return ErrorType;
})(_objectType.ObjectType);

exports.ErrorType = ErrorType;
},{"./object-type":229,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],224:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _propertyDescriptor = require("./property-descriptor");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function getParameterLength(params) {
	for (var i = 0, ln = params.length; i < ln; i++) {
		// parameter length should only include the first "Formal" parameters
		if (params[i].type !== "Identifier") {
			return i;
		}
	}

	return params.length;
}

var FunctionType = (function (_ObjectType) {
	_inherits(FunctionType, _ObjectType);

	function FunctionType(node) {
		_classCallCheck(this, FunctionType);

		_get(Object.getPrototypeOf(FunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.className = "Function";
		this.native = false;
		this.node = node;

		this.arrow = node && node.type === "ArrowFunctionExpression";

		this.boundScope = null;
		this.boundThis = null;
	}

	_createClass(FunctionType, [{
		key: "init",
		value: function init(objectFactory, proto, descriptor, strict) {
			if (strict !== undefined) {
				this.strict = strict;
			}

			// set length property from the number of parameters
			this.defineOwnProperty("length", { value: objectFactory.createPrimitive(getParameterLength(this.node.params)) });
			this.initStrict(objectFactory);

			if (!this.arrow) {
				// functions have a prototype
				proto = proto || objectFactory.createObject();
				this.defineOwnProperty("prototype", { value: proto, writable: true });

				// set the contructor property as an instance of itself
				proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });
			}
		}
	}, {
		key: "initStrict",
		value: function initStrict(objectFactory) {
			// if (this.isStrict()) {
			// 	let throwerProps = objectFactory.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
			// 	this.defineOwnProperty("caller", throwerProps);
			// 	this.defineOwnProperty("arguments", throwerProps);
			// } else {
			// 	this.defineOwnProperty("caller", { value: objectFactory.createPrimitive(undefined) });
			// }
		}
	}, {
		key: "bindThis",
		value: function bindThis(thisArg) {
			this.boundThis = this.boundThis || thisArg;
		}
	}, {
		key: "bindScope",
		value: function bindScope(scope) {
			this.boundScope = scope;
		}
	}, {
		key: "isStrict",
		value: function isStrict() {
			if ("strict" in this) {
				return this.strict;
			}

			if (this.native) {
				return false;
			}

			return this.strict = contracts.isStrictNode(this.node.body.body);
		}
	}, {
		key: "createScope",
		value: function createScope(env, thisArg, isNew) {
			// if a parent scope is defined we need to limit this scope to that scope
			var priorScope = env.current.scope;

			if (this.boundScope) {
				env.setScope(this.boundScope.scope);
			}

			thisArg = this.boundThis || thisArg;
			if (this.arrow) {
				thisArg = env.getThisBinding();
			}

			var scope = env.createScope(thisArg, priorScope);
			scope.priorScope = priorScope;
			return scope;
		}
	}, {
		key: "hasInstance",
		value: function hasInstance(obj) {
			if (obj === this) {
				// object obviously isn't an instance in this case
				return false;
			}

			var visited = [];
			var current = obj;

			var proto = this.getValue("prototype");
			if (contracts.isNullOrUndefined(proto) || !contracts.isObject(proto)) {
				throw new TypeError("Function has non-object prototype in instanceof check");
			}

			while (current) {
				if (visited.indexOf(current) >= 0) {
					return false;
				}

				if (current === proto) {
					return true;
				}

				// keep a stack to avoid circular reference
				visited.push(current);
				current = current.getPrototype();
			}

			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return undefined;
		}
	}]);

	return FunctionType;
})(_objectType.ObjectType);

exports.FunctionType = FunctionType;
},{"../utils/contracts":238,"./object-type":229,"./property-descriptor":231,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-wildcard":24}],225:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var IteratorType = (function (_ObjectType) {
	_inherits(IteratorType, _ObjectType);

	function IteratorType(iterable) {
		var kind = arguments.length <= 1 || arguments[1] === undefined ? "key+value" : arguments[1];

		_classCallCheck(this, IteratorType);

		_get(Object.getPrototypeOf(IteratorType.prototype), "constructor", this).call(this);

		this.iterable = iterable;
		this.position = 0;
		this.className = "Iterator";
		this.kind = kind;
	}

	_createClass(IteratorType, [{
		key: "advance",
		value: function advance() {
			return this.iterable.next();
		}
	}]);

	return IteratorType;
})(_objectType.ObjectType);

exports.IteratorType = IteratorType;
},{"./object-type":229,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],226:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var MapType = (function (_ObjectType) {
	_inherits(MapType, _ObjectType);

	function MapType() {
		_classCallCheck(this, MapType);

		_get(Object.getPrototypeOf(MapType.prototype), "constructor", this).call(this);
		this.mapData = [];
	}

	_createClass(MapType, [{
		key: "init",
		value: function init(objectFactory) {
			var self = this;

			this.defineOwnProperty("size", {
				getter: function getter() {
					return objectFactory.createPrimitive(self.mapData.length);
				},
				get: function get() {}
			});
		}
	}]);

	return MapType;
})(_objectType.ObjectType);

exports.MapType = MapType;
},{"./object-type":229,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],227:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _functionType = require("./function-type");

var _propertyDescriptor = require("./property-descriptor");

var NativeFunctionType = (function (_FunctionType) {
	_inherits(NativeFunctionType, _FunctionType);

	function NativeFunctionType(fn) {
		_classCallCheck(this, NativeFunctionType);

		_get(Object.getPrototypeOf(NativeFunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.native = true;
		this.nativeFunction = fn;
	}

	_createClass(NativeFunctionType, [{
		key: "init",
		value: function init(objectFactory, proto, descriptor) {
			var length = this.nativeFunction.length;
			if ("nativeLength" in this.nativeFunction) {
				length = this.nativeFunction.nativeLength;
			}

			if ("strict" in this.nativeFunction) {
				this.strict = this.nativeFunction.strict;
			}

			this.initStrict(objectFactory);
			this.defineOwnProperty("length", {
				value: objectFactory.createPrimitive(length),
				configurable: false,
				enumerable: false,
				writable: false
			});

			proto = proto || objectFactory.createObject();
			proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });

			descriptor = descriptor || { configurable: false, enumerable: false, writable: true };
			var protoDescriptor = {
				value: proto,
				configurable: descriptor.configurable,
				enumerable: descriptor.enumerable,
				writable: descriptor.writable
			};

			this.defineOwnProperty("prototype", protoDescriptor);
		}
	}]);

	return NativeFunctionType;
})(_functionType.FunctionType);

exports.NativeFunctionType = NativeFunctionType;
},{"./function-type":224,"./property-descriptor":231,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],228:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _primitiveType = require("./primitive-type");

var _functionType = require("./function-type");

var _nativeFunctionType = require("./native-function-type");

var _regexType = require("./regex-type");

var _arrayType = require("./array-type");

var _stringType = require("./string-type");

var _dateType = require("./date-type");

var _errorType = require("./error-type");

var _argumentType = require("./argument-type");

var _setType = require("./set-type");

var _iteratorType = require("./iterator-type");

var _symbolType = require("./symbol-type");

var _mapType = require("./map-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var orphans = _Object$create(null);
var functionNameMatcher = /\.?(\w+)$/;

function setOrphans(scope) {
	var _loop = function (typeName) {
		var parent = scope.getValue(typeName);
		if (parent) {
			orphans[typeName].forEach(function (child) {
				child.setPrototype(parent.getValue("prototype"));
			});

			delete orphans[typeName];
		}
	};

	for (var typeName in orphans) {
		_loop(typeName);
	}

	orphans = _Object$create(null);
}

function setProto(typeName, instance, env) {
	var parent = env.getReference(typeName);
	if (parent.isUnresolved()) {
		// during initialization it is possible for objects to be created
		// before the types have been registered - add a registry of items
		// and these can be filled in when the type is registered
		orphans[typeName] = orphans[typeName] || [];
		orphans[typeName].push(instance);

		return;
	}

	var proto = parent.getValue().getValue("prototype");
	instance.setPrototype(proto);
}

var defaultDescriptor = { configurable: true, enumerable: true, writable: true };
function createDataPropertyDescriptor(value) {
	var _ref = arguments.length <= 1 || arguments[1] === undefined ? defaultDescriptor : arguments[1];

	var _ref$configurable = _ref.configurable;
	var configurable = _ref$configurable === undefined ? true : _ref$configurable;
	var _ref$enumerable = _ref.enumerable;
	var enumerable = _ref$enumerable === undefined ? true : _ref$enumerable;
	var _ref$writable = _ref.writable;
	var writable = _ref$writable === undefined ? true : _ref$writable;

	return { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
}

var ObjectFactory = (function () {
	function ObjectFactory(env) {
		_classCallCheck(this, ObjectFactory);

		this.env = env;
		this.options = env.options;
	}

	_createClass(ObjectFactory, [{
		key: "init",
		value: function init() {
			setOrphans(this.env);
		}

		/**
   * Creates a primitive object based on the provided native value.
   * @param {any} value - The primitive value.
   * @returns {ObjectType} The primitive instance.
   */
	}, {
		key: "createPrimitive",
		value: function createPrimitive(value) {
			return this.create(contracts.getType(value), value);
		}

		/**
   * Creates an object based on the type specified. For a primitive type the second
   * parameter is used as the objects underlying value.
   * @param {String} typeName - The name of the object to create.
   * @param {any} [value] - The primitive value.
   * @returns {ObjectType} The new instance.
   */
	}, {
		key: "create",
		value: function create(typeName, value) {
			// the value is already wrapped in an object
			// this can happen if an exception is rethrown
			if (value && value instanceof _objectType.ObjectType) {
				return value;
			}

			var instance = undefined;

			switch (typeName) {
				case "Null":
					return _primitiveType.NULL;

				case "Undefined":
					return _primitiveType.UNDEFINED;

				case "Symbol":
					instance = new _symbolType.SymbolType(value);
					break;

				case "String":
					instance = new _stringType.StringType(value);
					break;

				case "Number":
				case "Boolean":
					instance = new _primitiveType.PrimitiveType(value);
					break;

				case "Date":
					instance = new _dateType.DateType(value);
					break;

				case "RegExp":
					instance = new _regexType.RegexType(value);
					break;

				case "Array":
					instance = new _arrayType.ArrayType();
					break;

				case "Set":
					instance = new _setType.SetType();
					break;

				case "Map":
					instance = new _mapType.MapType();
					break;

				case "Error":
				case "TypeError":
				case "ReferenceError":
				case "SyntaxError":
				case "RangeError":
				case "URIError":
				case "EvalError":
					instance = new _errorType.ErrorType(value);

					if (value) {
						typeName = value.name || typeName;
						if (value.message) {
							var message = this.createPrimitive(value.message);
							instance.defineOwnProperty("message", createDataPropertyDescriptor(message, { enumerable: false }));
						}
					}

					break;

				default:
					throw new Error("Not a primitive: " + value);
			}

			instance.init(this);
			setProto(typeName, instance, this.env);
			return instance;
		}

		/**
   * Creates an array object.
   * @param {ObjectType[]} [elements] - If provided, the elements will be added to the new array.
   * @returns {ArrayType} The array instance.
   */
	}, {
		key: "createArray",
		value: function createArray(elements) {
			var instance = this.create("Array");

			if (elements) {
				for (var i = 0, ln = elements.length; i < ln; i++) {
					instance.defineOwnProperty(i, createDataPropertyDescriptor(elements[i]), true, this.env);
				}
			}

			return instance;
		}

		/**
   * Creates an object.
   * @param {ObjectType} [proto] - The prototype to use with the new object. If no value is provided
   * the Object prototype will be used. If `null` is passed in, no prototype will be assigned to the
   * new object.
   * @returns {ObjectType} The object instance.
   */
	}, {
		key: "createObject",
		value: function createObject(proto) {
			var instance = new _objectType.ObjectType();

			if (proto !== null) {
				if (proto) {
					instance.setPrototype(proto.getValue("prototype"));
				} else {
					setProto("Object", instance, this.env);
				}
			}

			instance.init(this);
			return instance;
		}
	}, {
		key: "createArguments",
		value: function createArguments(args, callee, strict) {
			var instance = new _argumentType.ArgumentType();
			var objectClass = this.env.global.getValue("Object");

			instance.init(this, objectClass, objectClass.getPrototype());
			instance.setPrototype(objectClass.getValue("prototype"));

			if (strict) {
				var thrower = this.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
				instance.defineOwnProperty("callee", thrower);
				instance.defineOwnProperty("caller", thrower);
			} else {
				instance.defineOwnProperty("callee", {
					configurable: true,
					enumerable: false,
					value: callee,
					writable: true
				});
			}

			return instance;
		}
	}, {
		key: "createIterator",
		value: function createIterator(iterable, proto, kind) {
			var instance = new _iteratorType.IteratorType(iterable, kind);
			instance.setPrototype(proto);
			return instance;
		}
	}, {
		key: "createIteratorResult",
		value: function createIteratorResult(_ref2) {
			var value = _ref2.value;
			var _ref2$done = _ref2.done;
			var done = _ref2$done === undefined ? false : _ref2$done;

			var result = this.createObject();
			result.defineOwnProperty("done", { value: this.createPrimitive(done) });
			result.defineOwnProperty("value", { value: value || _primitiveType.UNDEFINED });
			return result;
		}

		/**
   * Creates a function instance.
   * @param {AST|Function} fnOrNode - The AST or function to be used when the function is called.
   * @param {ObjectType} [proto] - The prototype to use for the function. If no object is provided
   * an empty object is used.
   * @param {Object} [options] - Property values to be used for the prototype.
   * @returns {FunctionType} The function instance.
   */
	}, {
		key: "createFunction",
		value: function createFunction(fnOrNode, proto) {
			var _ref3 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref3$configurable = _ref3.configurable;
			var configurable = _ref3$configurable === undefined ? false : _ref3$configurable;
			var _ref3$enumerable = _ref3.enumerable;
			var enumerable = _ref3$enumerable === undefined ? false : _ref3$enumerable;
			var _ref3$writable = _ref3.writable;
			var writable = _ref3$writable === undefined ? true : _ref3$writable;
			var _ref3$strict = _ref3.strict;
			var strict = _ref3$strict === undefined ? false : _ref3$strict;
			var _ref3$name = _ref3.name;
			var name = _ref3$name === undefined ? "anonymous" : _ref3$name;

			var instance = undefined;

			if (typeof fnOrNode === "function") {
				instance = new _nativeFunctionType.NativeFunctionType(fnOrNode);
			} else {
				instance = new _functionType.FunctionType(fnOrNode);
			}

			instance.init(this, proto, { configurable: configurable, enumerable: enumerable, writable: writable }, strict);
			instance.name = name;

			if (this.options.ecmaVersion > 5) {
				instance.defineOwnProperty("name", { value: this.createPrimitive(name), configurable: true }, true, this.env);
			}

			setProto("Function", instance, this.env);
			return instance;
		}
	}, {
		key: "createGetter",
		value: function createGetter(func, key) {
			return this.createBuiltInFunction(func, 0, "get " + key);
		}
	}, {
		key: "createSetter",
		value: function createSetter(func, key) {
			return this.createBuiltInFunction(func, 1, "set " + key);
		}

		/**
   * Creates a function with no prototype that cannot be instantiated.
   * @param {Function} func - The underlying function.
   * @param {Number} length - The length property of the function.
   * @param {String} funcName - The name of the function.
   * @returns {NativeFunctionType} The function instance.
   */
	}, {
		key: "createBuiltInFunction",
		value: function createBuiltInFunction(func, length, funcName) {
			var instance = new _nativeFunctionType.NativeFunctionType(function () {
				if (this.isNew) {
					throw new TypeError(funcName + " is not a constructor");
				}

				return func.apply(this, arguments);
			});

			setProto("Function", instance, this.env);
			instance.builtIn = true;
			instance.defineOwnProperty("length", { value: this.createPrimitive(length), configurable: true });

			var match = functionNameMatcher.exec(funcName);
			var name = match && match[1] || funcName;

			instance.defineOwnProperty("name", { value: this.createPrimitive(name), configurable: true }, true, this.env);

			return instance;
		}
	}, {
		key: "createThrower",
		value: function createThrower(message, thrower) {
			this.throwers = this.throwers || _Object$create(null);
			if (message in this.throwers) {
				return this.throwers[message];
			}

			thrower = thrower || function () {
				throw new TypeError(message);
			};

			// we want to keep the same instance of the throwers because there
			// are silly tests that check for this
			var throwerInstance = this.createBuiltInFunction(thrower);
			return this.throwers[message] = {
				get: throwerInstance,
				getter: thrower,
				set: throwerInstance,
				setter: thrower,
				enumerable: false,
				configurable: false
			};
		}
	}]);

	return ObjectFactory;
})();

exports.ObjectFactory = ObjectFactory;
},{"../utils/contracts":238,"./argument-type":220,"./array-type":221,"./date-type":222,"./error-type":223,"./function-type":224,"./iterator-type":225,"./map-type":226,"./native-function-type":227,"./object-type":229,"./primitive-type":230,"./regex-type":232,"./set-type":233,"./string-type":234,"./symbol-type":235,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/interop-require-wildcard":24}],229:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propertyDescriptor = require("./property-descriptor");

function isSymbol(key) {
	return key && typeof key !== "string" && key.isSymbol;
}

function getPropertySource(key) {
	return isSymbol(key) ? "symbols" : "properties";
}

var ObjectType = (function () {
	function ObjectType() {
		_classCallCheck(this, ObjectType);

		this.isPrimitive = false;
		this.type = "object";
		this.className = "Object";
		this.extensible = true;
		this.properties = _Object$create(null);
		this.symbols = _Object$create(null);

		this.version = 0;
		this.primitiveHint = "number";
	}

	_createClass(ObjectType, [{
		key: "init",
		value: function init(objectFactory, proto, descriptor) {}
	}, {
		key: "getPrototype",
		value: function getPrototype() {
			return this.proto;
		}
	}, {
		key: "setPrototype",
		value: function setPrototype(proto) {
			this.proto = proto;
			this.version++;
		}
	}, {
		key: "getProperty",
		value: function getProperty(key) {
			var source = getPropertySource(key);
			key = String(key);

			var current = this;
			while (current) {
				if (key in current[source]) {
					return current[source][key].bind(this);
				}

				current = current.getPrototype();
			}

			return undefined;
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(key) {
			return this[getPropertySource(key)][String(key)];
		}
	}, {
		key: "getOwnPropertyKeys",
		value: function getOwnPropertyKeys() {
			var keyType = arguments.length <= 0 || arguments[0] === undefined ? "String" : arguments[0];

			if (keyType === "Symbol") {
				return this.symbols.map(function (desc) {
					return desc.key;
				});
			}

			return _Object$keys(this.properties);
		}
	}, {
		key: "has",
		value: function has(key) {
			return !!this.getProperty(key);
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return String(key) in this[getPropertySource(key)];
		}
	}, {
		key: "putValue",
		value: function putValue(key, value, throwOnError, env) {
			if (this.isPrimitive) {
				return;
			}

			var descriptor = this.getProperty(key);
			if (descriptor) {
				if (!descriptor.canSetValue()) {
					if (throwOnError) {
						throw new TypeError("Cannot assign to read only property '" + key + "' of %s");
					}

					return;
				}

				if (descriptor.dataProperty && !this.owns(key)) {
					this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, {
						value: value,
						configurable: descriptor.configurable,
						enumerable: descriptor.enumerable,
						writable: descriptor.writable
					}, key);

					this.version++;
				} else {
					descriptor.setValue(value);
				}
			} else {
				this.defineOwnProperty(key, { value: value, configurable: true, enumerable: true, writable: true }, throwOnError, env);
			}
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor, throwOnError, env) {
			if (this.isPrimitive) {
				if (throwOnError) {
					throw new TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			var current = this.getOwnProperty(key);
			if (current) {
				if (current.canUpdate(descriptor)) {
					current.update(descriptor);
					return true;
				}

				if (throwOnError) {
					throw new TypeError("Cannot redefine property: " + key);
				}

				return false;
			} else if (!this.extensible) {
				if (throwOnError) {
					throw new TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor, key);
			this.version++;
			return true;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(key, throwOnError) {
			if (this.isPrimitive) {
				return false;
			}

			var source = getPropertySource(key);
			key = String(key);

			if (key in this[source]) {
				if (!this[source][key].configurable) {
					if (throwOnError) {
						throw new TypeError("Cannot delete property: " + key);
					}

					return false;
				}
			}

			this.version++;
			return delete this[source][key];
		}
	}, {
		key: "define",
		value: function define(key, value) {
			var _ref = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref$configurable = _ref.configurable;
			var configurable = _ref$configurable === undefined ? true : _ref$configurable;
			var _ref$enumerable = _ref.enumerable;
			var enumerable = _ref$enumerable === undefined ? false : _ref$enumerable;
			var _ref$writable = _ref.writable;
			var writable = _ref$writable === undefined ? true : _ref$writable;
			var getter = _ref.getter;
			var get = _ref.get;
			var setter = _ref.setter;
			var set = _ref.set;

			// this method is intended for external usage only - it provides a way to define
			// methods and properties and overwrite any existing properties even if they are
			// not configurable

			var descriptor = undefined;
			if (getter || setter) {
				descriptor = { getter: getter, get: get, setter: setter, set: set, configurable: configurable, enumerable: enumerable };
			} else {
				descriptor = { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor, key);
			this.version++;
		}
	}, {
		key: "remove",
		value: function remove(key) {
			// this method is intended for external usage only - it provides a way to remove
			// properties even if they are not normally able to be deleted
			delete this[getPropertySource(key)][String(key)];
			this.version++;
		}
	}, {
		key: "getValue",
		value: function getValue(key) {
			if (arguments.length > 0) {
				return this.getProperty(key).getValue();
			}

			return this;
		}
	}, {
		key: "freeze",
		value: function freeze() {
			for (var prop in this.properties) {
				if (this.properties[prop].dataProperty) {
					this.defineOwnProperty(prop, { writable: false, configurable: false }, true);
				} else {
					this.defineOwnProperty(prop, { configurable: false }, true);
				}
			}

			this.preventExtensions();
		}
	}, {
		key: "preventExtensions",
		value: function preventExtensions() {
			this.extensible = false;
		}
	}, {
		key: "seal",
		value: function seal() {
			for (var prop in this.properties) {
				this.defineOwnProperty(prop, { configurable: false }, true);
			}

			this.preventExtensions();
		}
	}, {
		key: "equals",
		value: function equals(obj) {
			if (this.isPrimitive && obj.isPrimitive) {
				return this.value === obj.value;
			}

			return this === obj;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var unwrapped = {};
			var current = this;

			while (current) {
				for (var _name in current.properties) {
					if (current.properties[_name].enumerable && !(_name in unwrapped)) {
						unwrapped[_name] = current.getValue(_name).toNative();
					}
				}

				current = current.getPrototype();
			}

			return unwrapped;
		}
	}]);

	return ObjectType;
})();

exports.ObjectType = ObjectType;
},{"./property-descriptor":231,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/object/keys":12,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19}],230:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var PrimitiveType = (function (_ObjectType) {
	_inherits(PrimitiveType, _ObjectType);

	function PrimitiveType(value) {
		_classCallCheck(this, PrimitiveType);

		_get(Object.getPrototypeOf(PrimitiveType.prototype), "constructor", this).call(this);

		this.isPrimitive = true;
		this.value = value;
		this.type = typeof value;

		this.className = contracts.getType(value);
	}

	_createClass(PrimitiveType, [{
		key: "getProperty",
		value: function getProperty(name) {
			// can't read properties of null/undefined
			if (this.value == null) {
				throw new TypeError("Cannot read property '" + name + "' of " + this.type);
			}

			return _get(Object.getPrototypeOf(PrimitiveType.prototype), "getProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return PrimitiveType;
})(_objectType.ObjectType);

exports.PrimitiveType = PrimitiveType;
var UNDEFINED = new PrimitiveType(undefined);
exports.UNDEFINED = UNDEFINED;
var NULL = new PrimitiveType(null);
exports.NULL = NULL;
},{"../utils/contracts":238,"./object-type":229,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22,"babel-runtime/helpers/interop-require-wildcard":24}],231:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsOperators = require("../utils/operators");

var ops = _interopRequireWildcard(_utilsOperators);

var _utilsAsync = require("../utils/async");

var defaultDescriptor = {
	configurable: false,
	enumerable: false,
	writable: false
};

var PropertyDescriptor = (function () {
	function PropertyDescriptor(base, config, key) {
		if (config === undefined) config = defaultDescriptor;

		_classCallCheck(this, PropertyDescriptor);

		this.base = base;
		this.configurable = config.configurable || false;
		this.enumerable = config.enumerable || false;
		this.key = key;

		if ("get" in config || "set" in config) {
			this.dataProperty = false;
			this.get = config.get;
			this.getter = config.getter;
			this.set = config.set;
			this.setter = config.setter;
		} else {
			this.writable = config.writable || false;
			this.dataProperty = true;
			this.value = config.value;
		}
	}

	_createClass(PropertyDescriptor, [{
		key: "bind",
		value: function bind(obj) {
			this.base = obj;
			return this;
		}
	}, {
		key: "update",
		value: function update(descriptor) {
			for (var prop in descriptor) {
				if (descriptor.hasOwnProperty(prop)) {
					this[prop] = descriptor[prop];
				}
			}

			if ("get" in descriptor || "set" in descriptor) {
				this.writable = undefined;
				this.dataProperty = false;
				this.value = undefined;
			} else if ("value" in descriptor) {
				this.writable = this.writable === undefined ? false : this.writable;
				this.dataProperty = true;
				this.get = this.getter = this.set = this.setter = undefined;
			}
		}
	}, {
		key: "canUpdate",
		value: function canUpdate(descriptor) {
			if (this.configurable) {
				return true;
			}

			if ("configurable" in descriptor && this.configurable !== descriptor.configurable) {
				return false;
			}

			if ("enumerable" in descriptor && this.enumerable !== descriptor.enumerable) {
				return false;
			}

			if (("get" in descriptor || "set" in descriptor) && this.dataProperty) {
				return false;
			}

			if ("value" in descriptor && !this.dataProperty) {
				return false;
			}

			if (this.dataProperty) {
				if (!this.writable) {
					if (descriptor.writable) {
						return false;
					}

					return !("value" in descriptor) || ops.areSame(this.value, descriptor.value);
				}

				return true;
			}

			if ("get" in descriptor && this.get !== descriptor.get) {
				return false;
			}

			if ("set" in descriptor && this.set !== descriptor.set) {
				return false;
			}

			return true;
		}
	}, {
		key: "getValue",
		value: function getValue() {
			if (this.dataProperty) {
				return this.value;
			}

			if (this.getter) {
				return (0, _utilsAsync.exhaust)(this.getter.call(this.base));
			}

			return undefined;
		}
	}, {
		key: "canSetValue",
		value: function canSetValue() {
			return this.writable || !!this.setter;
		}
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (!this.canSetValue()) {
				return;
			}

			if (this.dataProperty) {
				this.value = value;
			} else if (this.setter) {
				(0, _utilsAsync.exhaust)(this.setter.call(this.base, value));
			}
		}
	}]);

	return PropertyDescriptor;
})();

exports.PropertyDescriptor = PropertyDescriptor;
},{"../utils/async":237,"../utils/operators":241,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/interop-require-wildcard":24}],232:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var RegexType = (function (_ObjectType) {
	_inherits(RegexType, _ObjectType);

	function RegexType(value) {
		_classCallCheck(this, RegexType);

		_get(Object.getPrototypeOf(RegexType.prototype), "constructor", this).call(this);
		this.source = value;
		this.className = "RegExp";
	}

	_createClass(RegexType, [{
		key: "init",
		value: function init(objectFactory) {
			// lastIndex is settable, all others are read-only attributes
			this.defineOwnProperty("lastIndex", { value: objectFactory.createPrimitive(this.source.lastIndex), writable: true });
			this.defineOwnProperty("source", { value: objectFactory.createPrimitive(this.source.source) });
			this.defineOwnProperty("global", { value: objectFactory.createPrimitive(this.source.global) });
			this.defineOwnProperty("ignoreCase", { value: objectFactory.createPrimitive(this.source.ignoreCase) });
			this.defineOwnProperty("multiline", { value: objectFactory.createPrimitive(this.source.multiline) });
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return RegexType;
})(_objectType.ObjectType);

exports.RegexType = RegexType;
},{"./object-type":229,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],233:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var SetType = (function (_ObjectType) {
	_inherits(SetType, _ObjectType);

	function SetType() {
		_classCallCheck(this, SetType);

		_get(Object.getPrototypeOf(SetType.prototype), "constructor", this).call(this);
		this.setData = [];
	}

	_createClass(SetType, [{
		key: "init",
		value: function init(objectFactory) {
			var self = this;

			this.defineOwnProperty("size", {
				getter: function getter() {
					return objectFactory.createPrimitive(self.setData.length);
				},
				get: function get() {}
			});
		}
	}, {
		key: "values",
		value: function values() {
			return this.setData;
		}
	}, {
		key: "keys",
		value: function keys() {
			return this.setData;
		}
	}]);

	return SetType;
})(_objectType.ObjectType);

exports.SetType = SetType;
},{"./object-type":229,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],234:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _primitiveType = require("./primitive-type");

var _propertyDescriptor = require("./property-descriptor");

var StringType = (function (_PrimitiveType) {
	_inherits(StringType, _PrimitiveType);

	function StringType(value) {
		_classCallCheck(this, StringType);

		_get(Object.getPrototypeOf(StringType.prototype), "constructor", this).call(this, value);
	}

	_createClass(StringType, [{
		key: "init",
		value: function init(objectFactory) {
			var length = this.value.length;

			this.properties.length = new _propertyDescriptor.PropertyDescriptor(this, {
				configurable: false,
				enumerable: false,
				writable: false,
				value: objectFactory.createPrimitive(length)
			});

			// todo: do this lazily
			var charAttrs = { writable: false, enumerable: true, configurable: false };
			for (var i = 0; i < length; i++) {
				// we are not using the object factory to avoid circular loop
				var c = new StringType(this.value.charAt(i));
				c.setPrototype(this.getProperty());
				c.define("0", c, charAttrs);

				this.define(i, c, charAttrs);
			}
		}
	}]);

	return StringType;
})(_primitiveType.PrimitiveType);

exports.StringType = StringType;
},{"./primitive-type":230,"./property-descriptor":231,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],235:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var GLOBAL_SYMBOL_REGISTRY = _Object$create(null);
var uid = 0;

var SymbolType = (function (_ObjectType) {
	_inherits(SymbolType, _ObjectType);

	function SymbolType(description) {
		_classCallCheck(this, SymbolType);

		_get(Object.getPrototypeOf(SymbolType.prototype), "constructor", this).call(this);
		this.type = "symbol";
		this.className = "Symbol";
		this.description = description;
		this.uid = uid++;

		// add so we can easily check if an object is a symbol when we care
		this.isSymbol = true;
	}

	_createClass(SymbolType, [{
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			if (throwOnError) {
				throw new TypeError("Cannot assign to read only property '" + name + "' of " + this.toNative());
			}

			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return "Symbol(" + this.description + ")";
		}
	}, {
		key: "toString",
		value: function toString() {
			// this method is here so symbols can be coerced into strings for property lookups
			return "@@" + this.uid;
		}
	}], [{
		key: "add",
		value: function add(key, sym) {
			GLOBAL_SYMBOL_REGISTRY[key] = sym;
		}
	}, {
		key: "getByKey",
		value: function getByKey(key) {
			return GLOBAL_SYMBOL_REGISTRY[key];
		}
	}, {
		key: "getByInstance",
		value: function getByInstance(sym) {
			for (var key in GLOBAL_SYMBOL_REGISTRY) {
				if (sym === GLOBAL_SYMBOL_REGISTRY[key]) {
					return GLOBAL_SYMBOL_REGISTRY[key];
				}
			}

			return undefined;
		}
	}]);

	return SymbolType;
})(_objectType.ObjectType);

exports.SymbolType = SymbolType;
},{"./object-type":229,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/class-call-check":18,"babel-runtime/helpers/create-class":19,"babel-runtime/helpers/get":21,"babel-runtime/helpers/inherits":22}],236:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.declare = declare;
exports.assign = assign;
var marked0$0 = [declare, assign, destructure, handleDefault, destructureArray, getObjectKey, destructureObject].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

var _async = require("./async");

var _native = require("./native");

function declare(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function declare$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(leftNode.type === "Identifier")) {
					context$1$0.next = 5;
					break;
				}

				left = env.createVariable(leftNode.name);

				left.setValue(rightValue);
				context$1$0.next = 7;
				break;

			case 5:
				context$1$0.next = 7;
				return destructure(env, leftNode, rightValue, declare);

			case 7:
				return context$1$0.abrupt("return", rightValue);

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function assign(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function assign$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "Identifier" ? 3 : context$1$0.t0 === "MemberExpression" ? 3 : 8;
				break;

			case 3:
				context$1$0.next = 5;
				return env.createExecutionContext(leftNode).execute();

			case 5:
				left = context$1$0.sent.result;

				left.setValue(rightValue);
				return context$1$0.abrupt("break", 10);

			case 8:
				context$1$0.next = 10;
				return destructure(env, leftNode, rightValue, assign);

			case 10:
				return context$1$0.abrupt("return", rightValue);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function destructure(env, leftNode, rightValue, cb) {
	return _regeneratorRuntime.wrap(function destructure$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "ArrayPattern" ? 3 : context$1$0.t0 === "ObjectPattern" ? 6 : context$1$0.t0 === "AssignmentPattern" ? 9 : 12;
				break;

			case 3:
				context$1$0.next = 5;
				return destructureArray(env, leftNode, rightValue, cb);

			case 5:
				return context$1$0.abrupt("break", 13);

			case 6:
				context$1$0.next = 8;
				return destructureObject(env, leftNode, rightValue, cb);

			case 8:
				return context$1$0.abrupt("break", 13);

			case 9:
				context$1$0.next = 11;
				return handleDefault(env, leftNode, rightValue, cb);

			case 11:
				return context$1$0.abrupt("break", 13);

			case 12:
				throw new Error(leftNode.type + " not implemented");

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function handleDefault(env, left, rightValue, cb) {
	var defaultValue;
	return _regeneratorRuntime.wrap(function handleDefault$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(rightValue === _typesPrimitiveType.UNDEFINED)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(left.right).execute();

			case 3:
				defaultValue = context$1$0.sent;

				rightValue = defaultValue.result.getValue();

			case 5:
				context$1$0.next = 7;
				return cb(env, left.left, rightValue);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function destructureArray(env, pattern, arr, cb) {
	return _regeneratorRuntime.wrap(function destructureArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.elements, _regeneratorRuntime.mark(function callee$1$0(current, index) {
					var propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								propInfo = arr.getProperty(index);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 4;
								return cb(env, current, value);

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function getObjectKey(env, keyNode) {
	var key;
	return _regeneratorRuntime.wrap(function getObjectKey$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!keyNode.computed) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(keyNode).execute();

			case 3:
				key = context$1$0.sent.result.getValue();

				if (!key.isSymbol) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", key);

			case 6:
				context$1$0.next = 8;
				return (0, _native.toString)(env, key);

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
				return context$1$0.abrupt("return", keyNode.name);

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function destructureObject(env, pattern, obj, cb) {
	return _regeneratorRuntime.wrap(function destructureObject$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.properties, _regeneratorRuntime.mark(function callee$1$0(current) {
					var key, propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return getObjectKey(env, current.key);

							case 2:
								key = context$2$0.sent;
								propInfo = obj.getProperty(key);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 7;
								return cb(env, current.value, value);

							case 7:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}
},{"../types/primitive-type":230,"./async":237,"./native":240,"babel-runtime/regenerator":26}],237:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.map = map;
exports.each = each;
exports.step = step;
exports.exhaust = exhaust;
exports.promisify = promisify;
var marked0$0 = [map, each, step].map(_regeneratorRuntime.mark);

require("../polyfills");

var objectOrFunctionTypes = { "object": true, "function": true };
function isObjectOrFunction(obj) {
	return obj && typeof obj in objectOrFunctionTypes;
}

function isThenable(obj) {
	return isObjectOrFunction(obj) && typeof obj.then === "function";
}

function isNextable(obj) {
	return isObjectOrFunction(obj) && typeof obj.next === "function";
}

function map(arr, func) {
	var mapped, i, ln;
	return _regeneratorRuntime.wrap(function map$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				mapped = [];
				i = 0, ln = arr.length;

			case 2:
				if (!(i < ln)) {
					context$1$0.next = 10;
					break;
				}

				context$1$0.t0 = mapped;
				return context$1$0.delegateYield(func(arr[i], i, arr), "t1", 5);

			case 5:
				context$1$0.t2 = context$1$0.t1;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t2);

			case 7:
				i++;
				context$1$0.next = 2;
				break;

			case 10:
				return context$1$0.abrupt("return", mapped);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function each(arr, func) {
	var abort, aborter, i, ln;
	return _regeneratorRuntime.wrap(function each$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				abort = false;

				aborter = function aborter() {
					abort = true;
				};

				i = 0, ln = arr.length;

			case 3:
				if (!(i < ln)) {
					context$1$0.next = 10;
					break;
				}

				return context$1$0.delegateYield(func(arr[i], i, arr, aborter), "t0", 5);

			case 5:
				if (!abort) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("break", 10);

			case 7:
				i++;
				context$1$0.next = 3;
				break;

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function step(it, prev) {
	var result, value;
	return _regeneratorRuntime.wrap(function step$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = it.next(prev);
				value = result.value;

				if (!isNextable(value)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(step(value), "t0", 4);

			case 4:
				context$1$0.next = 9;
				break;

			case 6:
				if (!isThenable(value)) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 9;
				return value.then(function (res) {
					return it;
				});

			case 9:
				if (!result.done) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 13:
				context$1$0.next = 15;
				return step(it, value);

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

/**
 * Fully exhausts an iterator, including delegated generators.
 * Special handling is taken if a Promise is returned, pausing
 * the generator until the promise is resolved.
 *
 * @param {Iterator} [it] - The iterator
 * @param {Object} [prev] - The previous iteration value (internal)
 * @returns {Object|Promise} Returns the final value, or a Promise if
 * at any point in the iteration a Promise is returned.
 */

function exhaust(_x, _x2) {
	var _again = true;

	_function: while (_again) {
		var it = _x,
		    prev = _x2;
		result = value = e = undefined;
		_again = false;

		// sanity check
		if (!isNextable(it)) {
			return it;
		}

		var result = it.next(prev);
		var value = result.value;

		if (isNextable(value)) {
			try {
				value = exhaust(value);
			} catch (err) {
				// cascade the error upstream
				var e = it["throw"](err);
				_x = e.value;
				_x2 = undefined;
				_again = true;
				continue _function;
			}
		}

		if (result.done) {
			return value;
		}

		if (isThenable(value)) {
			return value.then(function (res) {
				return exhaust(it, res);
			}, function (err) {
				return it["throw"](err);
			});
		}

		_x = it;
		_x2 = value;
		_again = true;
		continue _function;
	}
}

/**
 * Normalizes a result into a promise, whether it is a generator, promise,
 * or normal value.
 *
 * @param {Iterator} [it] - The iterator.
 * @returns {Promise} A promise which resolves or rejects based on the result.
 */

function promisify(it) {
	try {
		var result = exhaust(it);
		if (isNextable(result)) {
			return result;
		}

		return _Promise.resolve(result);
	} catch (err) {
		return _Promise.reject(err.toNative());
	}
}
},{"../polyfills":218,"babel-runtime/core-js/promise":14,"babel-runtime/regenerator":26}],238:[function(require,module,exports){
"use strict";

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.assertIsObject = assertIsObject;
exports.assertIsNotNullOrUndefined = assertIsNotNullOrUndefined;
exports.assertArgIsNotNullOrUndefined = assertArgIsNotNullOrUndefined;
exports.assertIsFunction = assertIsFunction;
exports.assertIsNotConstructor = assertIsNotConstructor;
exports.assertIsValidArrayLength = assertIsValidArrayLength;
exports.assertIsValidAssignment = assertIsValidAssignment;
exports.assertIsValidParameterName = assertIsValidParameterName;
exports.assertIsValidName = assertIsValidName;
exports.assertIsNotGeneric = assertIsNotGeneric;
exports.assertIsValidIdentifier = assertIsValidIdentifier;
exports.assertAreValidArguments = assertAreValidArguments;
exports.isValidArrayLength = isValidArrayLength;
exports.isObject = isObject;
exports.isOctalLiteral = isOctalLiteral;
exports.getType = getType;
exports.isNullOrUndefined = isNullOrUndefined;
exports.isUndefined = isUndefined;
exports.isNull = isNull;
exports.isFunction = isFunction;
exports.isConstructor = isConstructor;
exports.isInteger = isInteger;
exports.isStrictNode = isStrictNode;

var _keywords = require("../keywords");

var objectPattern = /\[object (\w+)\]/;
var integerPattern = /^-?\d+$/;
var octalPattern = /^-?0[0-7]/;
var octalEscapePattern = /^([^\\]|\\[^0-7])*\\([0-3][0-7]{1,2}|[4-7][0-7]|[0-7])/;
var useStrictPattern = /^\s*(?:'use strict'|"use strict")\s*;?\s*$/;

function assertIsObject(obj, methodName) {
	if (!isObject(obj)) {
		throw new TypeError(methodName + " called on non-object");
	}
}

function assertIsNotNullOrUndefined(value, methodName) {
	if (isNullOrUndefined(value)) {
		throw new TypeError(methodName + " called on null or undefined");
	}
}

function assertArgIsNotNullOrUndefined(obj) {
	if (isNullOrUndefined(obj)) {
		throw new TypeError("Cannot convert null or undefined to object");
	}
}

function assertIsFunction(obj, argName) {
	if (!isFunction(obj)) {
		throw new TypeError(argName + " is not a function");
	}
}

function assertIsNotConstructor(context, methodName) {
	if (context.isNew) {
		throw new TypeError(methodName + " is not a constructor");
	}
}

function assertIsValidArrayLength(length) {
	if (!isValidArrayLength(length)) {
		throw new RangeError("Invalid array length");
	}
}

function assertIsValidAssignment(left, strict) {
	if (left && !left.isReference) {
		throw new ReferenceError("Invalid left-hand side in assignment");
	}

	if (left && left.base === left.env.global) {
		assertIsValidName(left.name, strict);
	}
}

function assertIsValidParameterName(name, strict) {
	if (/^\d|[;\(\)"']/.test(name)) {
		throw new SyntaxError("Unexpected token in " + name);
	}

	assertIsValidName(name, strict);
}

function assertIsValidName(name, strict) {
	if (strict && (name === "arguments" || name === "eval")) {
		throw new SyntaxError("Unexpected eval or arguments in strict mode");
	}
}

function assertIsNotGeneric(obj, expectedClass, methodName) {
	if (!obj || obj.className !== expectedClass) {
		throw new TypeError(methodName + " is not generic");
	}
}

function assertIsValidIdentifier(name, strict) {
	if ((0, _keywords.isReserved)(name)) {
		throw new SyntaxError("Illegal use of reserved keyword: " + name);
	}

	if (strict && (0, _keywords.isStrictReserved)(name)) {
		throw new SyntaxError("Illegal use of strict mode reserved keyword: " + name);
	}
}

function assertAreValidArguments(params, strict) {
	params.forEach(function (param, index) {
		assertIsValidParameterName(param.name, strict);

		if (strict) {
			if (params.some(function (p, i) {
				return index !== i && param.name === p.name;
			})) {
				throw new SyntaxError("Strict mode function may not have duplicate parameter names");
			}
		}
	});
}

function isValidArrayLength(length) {
	return isInteger(length) && length >= 0 && length < 4294967296;
}

function isObject(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isSymbol) {
		return false;
	}

	if (obj.isPrimitive) {
		return obj.value && obj.type === "object";
	}

	return true;
}

function isOctalLiteral(rawValue, actualValue) {
	if (typeof actualValue === "number" && octalPattern.test(rawValue)) {
		return true;
	}

	if (typeof actualValue === "string") {
		var match = rawValue.match(octalEscapePattern);
		if (match) {
			// \0 is actually not considered an octal
			if (match[2] !== "0" || typeof match[3] !== "undefined") {
				return true;
			}
		}
	}

	return false;
}

function getType(obj) {
	return objectPattern.exec(Object.prototype.toString.call(obj))[1];
}

function isNullOrUndefined(obj) {
	return isUndefined(obj) || isNull(obj);
}

function isUndefined(obj) {
	return !obj || obj.isPrimitive && obj.value === undefined;
}

function isNull(obj) {
	return obj && obj.isPrimitive && obj.value === null;
}

function isFunction(obj) {
	return !!obj && obj.className === "Function";
}

function isConstructor(obj) {
	if (!isFunction(obj)) {
		return false;
	}

	if (obj.arrow || obj.builtIn) {
		return false;
	}

	return true;
}

function isInteger(value) {
	if (typeof value === "string") {
		return integerPattern.test(value);
	}

	if (typeof value === "number") {
		return isFinite(value) && Math.floor(value) === value;
	}

	return false;
}

function isDirective(node) {
	return node.type === "ExpressionStatement" && node.expression.type === "Literal" && typeof node.expression.value === "string";
}

function isStrictNode(nodes) {
	if (Array.isArray(nodes)) {
		var _iteratorNormalCompletion = true;
		var _didIteratorError = false;
		var _iteratorError = undefined;

		try {
			for (var _iterator = _getIterator(nodes), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
				var node = _step.value;

				if (!isDirective(node)) {
					return false;
				}

				if (node.expression.value === "use strict" && useStrictPattern.test(node.expression.raw)) {
					return true;
				}
			}
		} catch (err) {
			_didIteratorError = true;
			_iteratorError = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}
			} finally {
				if (_didIteratorError) {
					throw _iteratorError;
				}
			}
		}
	}

	return false;
}
},{"../keywords":217,"babel-runtime/core-js/get-iterator":3}],239:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.execute = execute;
exports.construct = construct;
exports.call = call;
exports.tryExecute = tryExecute;
var marked0$0 = [execute, construct, call, tryExecute].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function execute(env, fn, args, thisArg, callee, isNew) {
	var f, params, scope, returnResult;
	return _regeneratorRuntime.wrap(function execute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				f = fn.node || fn;
				params = f.params || [];
				scope = fn.createScope(env, thisArg, isNew);
				returnResult = undefined;

				if (isNew) {
					returnResult = thisArg;
				}

				context$1$0.next = 7;
				return scope.loadArgs(params, args, fn);

			case 7:
				scope.init(fn.node && fn.node.body);

				context$1$0.next = 10;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					var executionResult, shouldReturn;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!fn.native) {
									context$2$0.next = 4;
									break;
								}

								context$2$0.next = 3;
								return fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee, isNew), args) || returnResult;

							case 3:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 4:
								context$2$0.next = 6;
								return env.createExecutionContext(fn.node.body, callee, isNew).execute();

							case 6:
								executionResult = context$2$0.sent;
								shouldReturn = fn.arrow || executionResult && executionResult.exit;

								if (!(shouldReturn && executionResult.result)) {
									context$2$0.next = 11;
									break;
								}

								if (!(!isNew || !executionResult.result.isPrimitive)) {
									context$2$0.next = 11;
									break;
								}

								return context$2$0.abrupt("return", executionResult.result);

							case 11:
								return context$2$0.abrupt("return", returnResult);

							case 12:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 10:
				returnResult = context$1$0.sent;
				return context$1$0.abrupt("return", returnResult || _typesPrimitiveType.UNDEFINED);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function construct(env, fn) {
	var args = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
	var obj, callee;
	return _regeneratorRuntime.wrap(function construct$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				obj = env.objectFactory.createObject(fn);
				callee = fn.node || fn;
				context$1$0.next = 4;
				return execute(env, fn, args, obj, callee, true);

			case 4:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function call(env, fn, params, args, thisArg, callee) {
	var scope;
	return _regeneratorRuntime.wrap(function call$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				scope = fn.createScope(env, thisArg, false);
				context$1$0.next = 3;
				return scope.loadArgs(params, args, fn);

			case 3:
				scope.init(fn.node && fn.node.body);

				context$1$0.next = 6;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!fn.native) {
									context$2$0.next = 4;
									break;
								}

								context$2$0.next = 3;
								return fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee), args);

							case 3:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 4:
								context$2$0.next = 6;
								return env.createExecutionContext(fn.node.body, callee).execute();

							case 6:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 7:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function tryExecute(env, obj, name) {
	var args = arguments.length <= 3 || arguments[3] === undefined ? [] : arguments[3];
	var fn, scope, executionResult;
	return _regeneratorRuntime.wrap(function tryExecute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				fn = obj.getProperty(name);

				if (fn) {
					context$1$0.next = 3;
					break;
				}

				return context$1$0.abrupt("return", false);

			case 3:

				fn = fn.getValue();

				if (!(fn && fn.className === "Function")) {
					context$1$0.next = 13;
					break;
				}

				scope = fn.createScope(env, obj);
				context$1$0.next = 8;
				return scope.loadArgs(fn.node && fn.node.params, args, fn);

			case 8:
				scope.init(fn.node && fn.node.body);

				context$1$0.next = 11;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					var result;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!fn.native) {
									context$2$0.next = 4;
									break;
								}

								context$2$0.next = 3;
								return fn.nativeFunction.apply(env.createExecutionContext(obj, obj), args);

							case 3:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 4:
								context$2$0.next = 6;
								return env.createExecutionContext(fn.node.body, fn.node).execute();

							case 6:
								result = context$2$0.sent;
								return context$2$0.abrupt("return", result && result.result);

							case 8:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 11:
				executionResult = context$1$0.sent;
				return context$1$0.abrupt("return", executionResult ? executionResult.getValue() : _typesPrimitiveType.UNDEFINED);

			case 13:
				return context$1$0.abrupt("return", false);

			case 14:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}
},{"../types/primitive-type":230,"babel-runtime/regenerator":26}],240:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Math$sign = require("babel-runtime/core-js/math/sign")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.primitiveToObject = primitiveToObject;
exports.toObject = toObject;
exports.toLength = toLength;
exports.toPropertyKey = toPropertyKey;
exports.toArray = toArray;
exports.toPrimitive = toPrimitive;
exports.toString = toString;
exports.toNumber = toNumber;
exports.toInteger = toInteger;
exports.toInt32 = toInt32;
exports.toUInt32 = toUInt32;
exports.toBoolean = toBoolean;
exports.toNativeFunction = toNativeFunction;
var marked0$0 = [getString, getPrimitive, getValues, toLength, toPropertyKey, toArray, toPrimitive, toString, toNumber, toInteger, toInt32, toUInt32].map(_regeneratorRuntime.mark);

require("../polyfills");

var _utilsFunc = require("../utils/func");

var sign = _Math$sign;
var floor = Math.floor;
var abs = Math.abs;
var MAX_LENGTH = Math.pow(2, 53) - 1;

function getString(env, value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", "undefined");

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", String(value.toNative()));

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(env, value, "toString");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(env, value, "valueOf");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 14:
				throw new TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function getPrimitive(env, value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", value.toNative());

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(env, value, "valueOf");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(env, value, "toString");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 14:
				throw new TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function getValues(env, args) {
	var values, i, ln;
	return _regeneratorRuntime.wrap(function getValues$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				values = [];
				i = 0, ln = args.length;

			case 2:
				if (!(i < ln)) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.t0 = values;
				context$1$0.next = 6;
				return getPrimitive(env, args[i]);

			case 6:
				context$1$0.t1 = context$1$0.sent;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t1);

			case 8:
				i++;
				context$1$0.next = 2;
				break;

			case 11:
				return context$1$0.abrupt("return", values);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function primitiveToObject(env, value) {
	var newValue = env.objectFactory.createPrimitive(value);
	newValue.isPrimitive = false;
	newValue.type = "object";
	return newValue;
}

function toObject(env, obj, throwOnError) {
	// todo: is this ES6 only?
	if (throwOnError && obj.isPrimitive && obj.value == null) {
		throw new TypeError(obj.type + " cannot be converted to an object");
	}

	if (obj.isSymbol) {
		return env.objectFactory.create("Symbol", obj.description);
	}

	if (obj.isPrimitive && obj.value != null && obj.type !== "object") {
		return primitiveToObject(env, obj.value);
	}

	return obj;
}

function toLength(env, obj) {
	var lengthProperty, _length;

	return _regeneratorRuntime.wrap(function toLength$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				lengthProperty = obj.getProperty("length");

				if (!lengthProperty) {
					context$1$0.next = 10;
					break;
				}

				if (!(env.options.ecmaVersion === 5)) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return toUInt32(env, lengthProperty.getValue());

			case 5:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 6:
				context$1$0.next = 8;
				return toInteger(env, lengthProperty.getValue());

			case 8:
				_length = context$1$0.sent;
				return context$1$0.abrupt("return", Math.min(Math.max(_length, 0), MAX_LENGTH));

			case 10:
				return context$1$0.abrupt("return", 0);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function toPropertyKey(env, key) {
	return _regeneratorRuntime.wrap(function toPropertyKey$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!key.isSymbol) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", key);

			case 2:
				context$1$0.next = 4;
				return toString(env, key);

			case 4:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function toArray(env, obj, length) {
	var arr,
	    i,
	    args$1$0 = arguments;
	return _regeneratorRuntime.wrap(function toArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				arr = [];

				if (!obj) {
					context$1$0.next = 8;
					break;
				}

				if (!(args$1$0.length < 3)) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return toLength(env, obj);

			case 5:
				length = context$1$0.sent;

			case 6:
				i = 0;

				while (i < length) {
					if (obj.has(i)) {
						arr[i] = obj.getValue(i);
					}

					i++;
				}

			case 8:
				return context$1$0.abrupt("return", arr);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function toPrimitive(env, obj, preferredType) {
	return _regeneratorRuntime.wrap(function toPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				preferredType = preferredType && preferredType.toLowerCase();
				if (!preferredType && obj) {
					preferredType = obj.primitiveHint;
				}

				if (!(preferredType === "string")) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return getString(env, obj);

			case 5:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 6:
				if (!(obj && obj.isSymbol)) {
					context$1$0.next = 8;
					break;
				}

				throw new TypeError("Cannot convert Symbol to a number");

			case 8:
				context$1$0.next = 10;
				return getPrimitive(env, obj);

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}

function toString(env, obj) {
	return _regeneratorRuntime.wrap(function toString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toPrimitive(env, obj, "string");

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", String(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[7], this);
}

function toNumber(env, obj) {
	return _regeneratorRuntime.wrap(function toNumber$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(!obj || obj.type === "undefined")) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", NaN);

			case 2:
				context$1$0.next = 4;
				return toPrimitive(env, obj, "number");

			case 4:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", Number(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[8], this);
}

function toInteger(env, obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInteger$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toNumber(env, obj);

			case 2:
				value = context$1$0.sent;

				if (!isNaN(value)) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 5:
				if (!(value === 0 || !isFinite(value))) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 7:
				return context$1$0.abrupt("return", sign(value) * floor(abs(value)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[9], this);
}

function toInt32(env, obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInteger(env, obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", isFinite(value) ? value : 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[10], this);
}

function toUInt32(env, obj) {
	var value;
	return _regeneratorRuntime.wrap(function toUInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInt32(env, obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", value >>> 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[11], this);
}

function toBoolean(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isPrimitive) {
		return Boolean(obj.value);
	}

	return true;
}

function toNativeFunction(env, fn, name) {
	return env.objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var scope,
		    args,
		    value,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					scope = this && this.node && this.node.toNative();
					context$2$0.next = 3;
					return getValues(env, args$2$0);

				case 3:
					args = context$2$0.sent;
					value = fn.apply(scope, args);
					return context$2$0.abrupt("return", env.objectFactory.createPrimitive(value));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), fn.length, name);
}

// default case/number
},{"../polyfills":218,"../utils/func":239,"babel-runtime/core-js/math/sign":4,"babel-runtime/regenerator":26}],241:[function(require,module,exports){
"use strict";

var _defineProperty = require("babel-runtime/helpers/define-property")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _ops;

var _native = require("./native");

function neg(value) {
	if (value === undefined) {
		return false;
	}

	return !value;
}

function pos(value) {
	return !!value;
}

var ops = (_ops = {
	// algorithms
	areSame: function areSame(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}

				if (a.value === 0) {
					// this will account for negative zero
					return 1 / a.value === 1 / b.value;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	areSameOrZero: function areSameOrZero(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	coerciveEquals: _regeneratorRuntime.mark(function coerciveEquals(a, b) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function coerciveEquals$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (!(a.isPrimitive && b.isPrimitive)) {
						context$1$0.next = 2;
						break;
					}

					return context$1$0.abrupt("return", a.value == b.value);

				case 2:
					if (!(a.type === "object" && b.type === "object" || a.type === "function" && b.type === "function")) {
						context$1$0.next = 4;
						break;
					}

					return context$1$0.abrupt("return", a === b);

				case 4:
					context$1$0.next = 6;
					return (0, _native.toPrimitive)(this.env, a);

				case 6:
					primitiveA = context$1$0.sent;
					context$1$0.next = 9;
					return (0, _native.toPrimitive)(this.env, b);

				case 9:
					primitiveB = context$1$0.sent;

					if (!(typeof primitiveA === "number" || typeof primitiveB === "number" || (typeof primitiveA === "boolean" || typeof primitiveB === "boolean"))) {
						context$1$0.next = 12;
						break;
					}

					return context$1$0.abrupt("return", Number(primitiveA) === Number(primitiveB));

				case 12:
					if (!(typeof primitiveA === "string")) {
						context$1$0.next = 18;
						break;
					}

					context$1$0.t0 = primitiveA;
					context$1$0.next = 16;
					return (0, _native.toPrimitive)(this.env, b, "string");

				case 16:
					context$1$0.t1 = context$1$0.sent;
					return context$1$0.abrupt("return", context$1$0.t0 === context$1$0.t1);

				case 18:
					if (!(typeof primitiveB === "string")) {
						context$1$0.next = 24;
						break;
					}

					context$1$0.next = 21;
					return (0, _native.toPrimitive)(this.env, a, "string");

				case 21:
					context$1$0.t2 = context$1$0.sent;
					context$1$0.t3 = primitiveB;
					return context$1$0.abrupt("return", context$1$0.t2 === context$1$0.t3);

				case 24:
					return context$1$0.abrupt("return", primitiveA == primitiveB);

				case 25:
				case "end":
					return context$1$0.stop();
			}
		}, coerciveEquals, this);
	}),

	/* eslint-enable eqeqeq */
	strictEquals: function strictEquals(a, b) {
		if (a.isPrimitive && b.isPrimitive) {
			return a.value === b.value;
		}

		if (a.isPrimitive || b.isPrimitive) {
			return false;
		}

		return a === b;
	},

	relationalCompare: _regeneratorRuntime.mark(function relationalCompare(a, b, leftFirst) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function relationalCompare$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					primitiveA = undefined, primitiveB = undefined;

					if (!leftFirst) {
						context$1$0.next = 10;
						break;
					}

					context$1$0.next = 4;
					return (0, _native.toPrimitive)(this.env, a, "number");

				case 4:
					primitiveA = context$1$0.sent;
					context$1$0.next = 7;
					return (0, _native.toPrimitive)(this.env, b, "number");

				case 7:
					primitiveB = context$1$0.sent;
					context$1$0.next = 16;
					break;

				case 10:
					context$1$0.next = 12;
					return (0, _native.toPrimitive)(this.env, b, "number");

				case 12:
					primitiveB = context$1$0.sent;
					context$1$0.next = 15;
					return (0, _native.toPrimitive)(this.env, a, "number");

				case 15:
					primitiveA = context$1$0.sent;

				case 16:
					if (!(typeof primitiveA === "string" && typeof primitiveB === "string")) {
						context$1$0.next = 18;
						break;
					}

					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 18:

					primitiveA = Number(primitiveA);
					primitiveB = Number(primitiveB);

					if (!(isNaN(primitiveA) || isNaN(primitiveB))) {
						context$1$0.next = 22;
						break;
					}

					return context$1$0.abrupt("return", undefined);

				case 22:
					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 23:
				case "end":
					return context$1$0.stop();
			}
		}, relationalCompare, this);
	})

}, _defineProperty(_ops, "==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "===", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "+", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(a.isPrimitive && b.isPrimitive)) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", a.value + b.value);

			case 2:
				context$1$0.next = 4;
				return (0, _native.toPrimitive)(this.env, a);

			case 4:
				a = context$1$0.sent;
				context$1$0.next = 7;
				return (0, _native.toPrimitive)(this.env, b);

			case 7:
				b = context$1$0.sent;
				return context$1$0.abrupt("return", a + b);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "-", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 - context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "/", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 / context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "*", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 * context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "%", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 % context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 << context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >>> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "|", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 | context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "^", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 ^ context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "&", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 & context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "in", _regeneratorRuntime.mark(function _in(a, b) {
	var bString;
	return _regeneratorRuntime.wrap(function _in$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPropertyKey)(this.env, a);

			case 2:
				a = context$1$0.sent;

				if (!b.isPrimitive) {
					context$1$0.next = 8;
					break;
				}

				context$1$0.next = 6;
				return (0, _native.toString)(this.env, b);

			case 6:
				bString = context$1$0.sent;
				throw new TypeError("Cannot use 'in' operator to search for '" + a + "' in " + bString);

			case 8:
				return context$1$0.abrupt("return", b.has(a));

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _in, this);
})), _defineProperty(_ops, "instanceof", function _instanceof(a, b) {
	if (b.type !== "function") {
		throw new TypeError("Expecting a function in instanceof check, but got " + b.type);
	}

	if (a.isPrimitive) {
		return false;
	}

	return b.hasInstance(a);
}), _ops);

exports["default"] = ops;
module.exports = exports["default"];

/* eslint-disable eqeqeq */

// use native implicit comarison
// equality operators

// additive operators

// multiplicative operators

// bitwise shift operators

// relational operators
},{"./native":240,"babel-runtime/helpers/define-property":20,"babel-runtime/regenerator":26}],242:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ArrayExpression;
var marked0$0 = [ArrayExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function ArrayExpression(context) {
	var objectFactory, arr;
	return _regeneratorRuntime.wrap(function ArrayExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				arr = objectFactory.create("Array");

				if (!context.node.elements) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.elements, _regeneratorRuntime.mark(function callee$1$0(element, i) {
					var item;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!element) {
									context$2$0.next = 5;
									break;
								}

								context$2$0.next = 3;
								return context.create(element).execute();

							case 3:
								item = context$2$0.sent.result.getValue();

								arr.defineOwnProperty(i, { value: item, configurable: true, enumerable: true, writable: true }, true, context.env);

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 4);

			case 4:

				arr.putValue("length", objectFactory.createPrimitive(context.node.elements.length), false, context.env);

			case 5:
				return context$1$0.abrupt("return", context.result(arr));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":237,"babel-runtime/regenerator":26}],243:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = AssignmentExpression;
var marked0$0 = [AssignmentExpression].map(_regeneratorRuntime.mark);

var _utilsAssign = require("../utils/assign");

function AssignmentExpression(context) {
	var right, rightValue, left, op, nativeValue;
	return _regeneratorRuntime.wrap(function AssignmentExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.right).execute();

			case 2:
				right = context$1$0.sent.result;
				rightValue = right.getValue();

				if (!(context.node.operator === "=")) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 7;
				return (0, _utilsAssign.assign)(context.env, context.node.left, rightValue);

			case 7:
				context$1$0.next = 17;
				break;

			case 9:
				context$1$0.next = 11;
				return context.create(context.node.left).execute();

			case 11:
				left = context$1$0.sent.result;
				op = context.node.operator.slice(0, -1);
				context$1$0.next = 15;
				return context.env.ops[op](left.getValue(), right.getValue());

			case 15:
				nativeValue = context$1$0.sent;

				left.setValue(context.env.objectFactory.createPrimitive(nativeValue));

			case 17:
				return context$1$0.abrupt("return", context.result(rightValue));

			case 18:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];

// remove equals
},{"../utils/assign":236,"babel-runtime/regenerator":26}],244:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BinaryExpression;
var marked0$0 = [BinaryExpression].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function BinaryExpression(context) {
	var left, leftValue, right, rightValue, op, newValue;
	return _regeneratorRuntime.wrap(function BinaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent.result;
				leftValue = left.getValue() || _typesPrimitiveType.UNDEFINED;
				context$1$0.next = 6;
				return context.create(context.node.right).execute();

			case 6:
				right = context$1$0.sent.result;
				rightValue = right.getValue() || _typesPrimitiveType.UNDEFINED;
				op = context.node.operator;
				context$1$0.next = 11;
				return context.env.ops[op](leftValue, rightValue);

			case 11:
				newValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(newValue)));

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":230,"babel-runtime/regenerator":26}],245:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BlockStatement;
var marked0$0 = [BlockStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function BlockStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function BlockStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;

				if (context.node.type === "Program") {
					context.env.current.init(context.node);
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.body, _regeneratorRuntime.mark(function callee$1$0(node, i, body, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(node).execute();

							case 2:
								result = context$2$0.sent;

								if (result.shouldBreak(context, false, priorResult)) {
									abort();
								}

								priorResult = result;

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":237,"babel-runtime/regenerator":26}],246:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = CallExpression;
var marked0$0 = [CallExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

var _utilsFunc = require("../utils/func");

var _utilsAsync = require("../utils/async");

function assignThis(env, fnMember, fn, isNew, native) {
	if (isNew) {
		// if this is a native contructor we don't care about this
		// otherwise create a new object
		return native ? null : env.objectFactory.createObject(fn);
	}

	if (fnMember instanceof _envPropertyReference.PropertyReference && (!fnMember.unqualified || fnMember.base !== env.global)) {
		return (0, _utilsNative.toObject)(env, fnMember.base);
	}

	return null;
}

function CallExpression(context) {
	var node, isNew, fnMember, fn, args, stringValue, native, thisArg, callee;
	return _regeneratorRuntime.wrap(function CallExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				node = context.node;
				isNew = context.node.type === "NewExpression";
				context$1$0.next = 4;
				return context.create(node.callee).execute();

			case 4:
				fnMember = context$1$0.sent.result;
				fn = fnMember.getValue();
				return context$1$0.delegateYield((0, _utilsAsync.map)(node.arguments, _regeneratorRuntime.mark(function callee$1$0(arg) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(arg).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent.result.getValue());

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 7);

			case 7:
				args = context$1$0.t0;

				if (!(!fn || fn.className !== "Function")) {
					context$1$0.next = 13;
					break;
				}

				context$1$0.next = 11;
				return (0, _utilsNative.toString)(context.env, fn);

			case 11:
				stringValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.raise(new TypeError(stringValue + " not a function")));

			case 13:
				native = fn.native;
				thisArg = assignThis(context.env, fnMember, fn, isNew, native);
				callee = fnMember;

				callee.identifier = fn.name;
				context$1$0.t1 = context;
				context$1$0.next = 20;
				return (0, _utilsFunc.execute)(context.env, fn, args, thisArg, callee, isNew);

			case 20:
				context$1$0.t2 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t1.result.call(context$1$0.t1, context$1$0.t2));

			case 22:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":182,"../utils/async":237,"../utils/func":239,"../utils/native":240,"babel-runtime/regenerator":26}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DebuggerStatement;

function DebuggerStatement(context) {
	if (context.env.options.allowDebugger) {
		/* eslint-disable no-debugger */
		debugger;
		/* eslint-enable no-debugger */
	}

	return context.empty();
}

module.exports = exports["default"];
},{}],248:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DoWhileStatement;
var marked0$0 = [DoWhileStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function DoWhileStatement(context) {
	var result, priorResult, passed;
	return _regeneratorRuntime.wrap(function DoWhileStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;
				passed = true;

				if (!(context.node.type === "WhileStatement")) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.test).execute();

			case 5:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t0);

			case 7:
				if (!passed) {
					context$1$0.next = 20;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.body).execute();

			case 10:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 13:
				context$1$0.next = 15;
				return context.create(context.node.test).execute();

			case 15:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t1);

				priorResult = result;
				context$1$0.next = 7;
				break;

			case 20:
				return context$1$0.abrupt("return", result);

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":240,"babel-runtime/regenerator":26}],249:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = EmptyStatement;

function EmptyStatement(context) {
	return context.empty();
}

module.exports = exports["default"];
},{}],250:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ExpressionStatement;
var marked0$0 = [ExpressionStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ExpressionStatement(context) {
	var executionResult, executionValue;
	return _regeneratorRuntime.wrap(function ExpressionStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.expression).execute();

			case 2:
				executionResult = context$1$0.sent;
				executionValue = executionResult && executionResult.result && executionResult.result.getValue();
				return context$1$0.abrupt("return", context.result(executionValue || _typesPrimitiveType.UNDEFINED));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":230,"babel-runtime/regenerator":26}],251:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForInStatement;
var marked0$0 = [ForInStatement].map(_regeneratorRuntime.mark);

function ForInStatement(context) {
	var left, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl, obj, result, priorResult, visited, prop;

	return _regeneratorRuntime.wrap(function ForInStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				left = undefined;

				if (!(context.node.left.type === "VariableDeclaration")) {
					context$1$0.next = 31;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 5;
				_iterator = _getIterator(context.node.left.declarations);

			case 7:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 15;
					break;
				}

				decl = _step.value;
				context$1$0.next = 11;
				return context.create(decl).execute();

			case 11:
				left = context$1$0.sent.result;

			case 12:
				_iteratorNormalCompletion = true;
				context$1$0.next = 7;
				break;

			case 15:
				context$1$0.next = 21;
				break;

			case 17:
				context$1$0.prev = 17;
				context$1$0.t0 = context$1$0["catch"](5);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 21:
				context$1$0.prev = 21;
				context$1$0.prev = 22;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 24:
				context$1$0.prev = 24;

				if (!_didIteratorError) {
					context$1$0.next = 27;
					break;
				}

				throw _iteratorError;

			case 27:
				return context$1$0.finish(24);

			case 28:
				return context$1$0.finish(21);

			case 29:
				context$1$0.next = 34;
				break;

			case 31:
				context$1$0.next = 33;
				return context.create(context.node.left).execute();

			case 33:
				left = context$1$0.sent.result;

			case 34:
				context$1$0.next = 36;
				return context.create(context.node.right).execute();

			case 36:
				obj = context$1$0.sent.result.getValue();
				result = undefined, priorResult = undefined;
				visited = _Object$create(null);

			case 39:
				if (!obj) {
					context$1$0.next = 57;
					break;
				}

				context$1$0.t1 = _regeneratorRuntime.keys(obj.properties);

			case 41:
				if ((context$1$0.t2 = context$1$0.t1()).done) {
					context$1$0.next = 53;
					break;
				}

				prop = context$1$0.t2.value;

				if (!(obj.properties[prop].enumerable && !visited[prop])) {
					context$1$0.next = 50;
					break;
				}

				left.setValue(context.env.objectFactory.createPrimitive(prop));

				context$1$0.next = 47;
				return context.create(context.node.body).execute();

			case 47:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 50;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 50:

				visited[prop] = true;
				context$1$0.next = 41;
				break;

			case 53:

				priorResult = result;
				obj = obj.getPrototype();
				context$1$0.next = 39;
				break;

			case 57:
				return context$1$0.abrupt("return", result);

			case 58:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[5, 17, 21, 29], [22,, 24, 28]]);
}

module.exports = exports["default"];

// should only be one, but
// need to unwrap the declaration to get it
// todo: this is sloppy - need to revisit

// track visited properties to prevent iterating over shadowed properties, regardless of enumerable flag
// 12.6.4 NOTE: a property of a prototype is not enumerated if it is shadowed because some previous
// object in the prototype chain has a property with the same name. The values of [[Enumerable]] attributes
// are not considered when determining if a property of a prototype object is shadowed by a previous object
// on the prototype chain.
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/object/create":9,"babel-runtime/regenerator":26}],252:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForStatement;
var marked0$0 = [shouldContinue, ForStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function shouldContinue(context) {
	return _regeneratorRuntime.wrap(function shouldContinue$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (context.node.test) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", true);

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.test).execute();

			case 4:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", (0, _utilsNative.toBoolean)(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function ForStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function ForStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.init) {
					context$1$0.next = 3;
					break;
				}

				context$1$0.next = 3;
				return context.create(context.node.init).execute();

			case 3:
				result = undefined, priorResult = undefined;

			case 4:
				context$1$0.next = 6;
				return shouldContinue(context);

			case 6:
				if (!context$1$0.sent) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.next = 9;
				return context.create(context.node.body).execute();

			case 9:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 12;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 12:
				if (!context.node.update) {
					context$1$0.next = 15;
					break;
				}

				context$1$0.next = 15;
				return context.create(context.node.update).execute();

			case 15:

				priorResult = result;
				context$1$0.next = 4;
				break;

			case 18:
				return context$1$0.abrupt("return", result);

			case 19:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];
},{"../utils/native":240,"babel-runtime/regenerator":26}],253:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionDeclaration;

function FunctionDeclaration(context) {
	return context.result(context.env.getValue(context.node.id.name));
}

module.exports = exports["default"];
},{}],254:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionExpression;

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function FunctionExpression(context) {
	var objectFactory = context.env.objectFactory;
	var strict = context.env.isStrict() || contracts.isStrictNode(context.node.body.body);
	var name = context.node.id ? context.node.id.name : "anonymous";

	var func = objectFactory.createFunction(context.node, undefined, { strict: strict, name: name });
	func.bindScope(context.env.current);
	return context.result(func);
}

module.exports = exports["default"];
},{"../utils/contracts":238,"babel-runtime/helpers/interop-require-wildcard":24}],255:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Identifier;

function Identifier(context) {
	var name = context.node.name;

	if (context.callee && context.callee.identifier === name) {
		return context.result(context.callee);
	}

	return context.result(context.env.getReference(context.node.name));
}

module.exports = exports["default"];
},{}],256:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = IfStatement;
var marked0$0 = [IfStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function IfStatement(context) {
	var testValue;
	return _regeneratorRuntime.wrap(function IfStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.test).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();

				if (!(0, _utilsNative.toBoolean)(testValue)) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 6;
				return context.create(context.node.consequent).execute();

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
				if (!context.node.alternate) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.alternate).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":240,"babel-runtime/regenerator":26}],257:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _arrayExpression = require("./array-expression");

var _arrayExpression2 = _interopRequireDefault(_arrayExpression);

var _assignmentExpression = require("./assignment-expression");

var _assignmentExpression2 = _interopRequireDefault(_assignmentExpression);

var _binaryExpression = require("./binary-expression");

var _binaryExpression2 = _interopRequireDefault(_binaryExpression);

var _blockStatement = require("./block-statement");

var _blockStatement2 = _interopRequireDefault(_blockStatement);

var _interruptStatement = require("./interrupt-statement");

var _interruptStatement2 = _interopRequireDefault(_interruptStatement);

var _callExpression = require("./call-expression");

var _callExpression2 = _interopRequireDefault(_callExpression);

var _ifStatement = require("./if-statement");

var _ifStatement2 = _interopRequireDefault(_ifStatement);

var _debuggerStatement = require("./debugger-statement");

var _debuggerStatement2 = _interopRequireDefault(_debuggerStatement);

var _doWhileStatementJs = require("./do-while-statement.js");

var _doWhileStatementJs2 = _interopRequireDefault(_doWhileStatementJs);

var _emptyStatement = require("./empty-statement");

var _emptyStatement2 = _interopRequireDefault(_emptyStatement);

var _expressionStatement = require("./expression-statement");

var _expressionStatement2 = _interopRequireDefault(_expressionStatement);

var _forStatement = require("./for-statement");

var _forStatement2 = _interopRequireDefault(_forStatement);

var _forInStatement = require("./for-in-statement");

var _forInStatement2 = _interopRequireDefault(_forInStatement);

var _functionDeclaration = require("./function-declaration");

var _functionDeclaration2 = _interopRequireDefault(_functionDeclaration);

var _functionExpression = require("./function-expression");

var _functionExpression2 = _interopRequireDefault(_functionExpression);

var _identifier = require("./identifier");

var _identifier2 = _interopRequireDefault(_identifier);

var _labeledStatement = require("./labeled-statement");

var _labeledStatement2 = _interopRequireDefault(_labeledStatement);

var _literal = require("./literal");

var _literal2 = _interopRequireDefault(_literal);

var _logicalExpression = require("./logical-expression");

var _logicalExpression2 = _interopRequireDefault(_logicalExpression);

var _memberExpression = require("./member-expression");

var _memberExpression2 = _interopRequireDefault(_memberExpression);

var _metaProperty = require("./meta-property");

var _metaProperty2 = _interopRequireDefault(_metaProperty);

var _objectExpression = require("./object-expression");

var _objectExpression2 = _interopRequireDefault(_objectExpression);

var _returnStatement = require("./return-statement");

var _returnStatement2 = _interopRequireDefault(_returnStatement);

var _sequenceExpression = require("./sequence-expression");

var _sequenceExpression2 = _interopRequireDefault(_sequenceExpression);

var _switchStatement = require("./switch-statement");

var _switchStatement2 = _interopRequireDefault(_switchStatement);

var _taggedTemplateExpression = require("./tagged-template-expression");

var _taggedTemplateExpression2 = _interopRequireDefault(_taggedTemplateExpression);

var _templateLiteral = require("./template-literal");

var _templateLiteral2 = _interopRequireDefault(_templateLiteral);

var _thisExpression = require("./this-expression");

var _thisExpression2 = _interopRequireDefault(_thisExpression);

var _throwStatement = require("./throw-statement");

var _throwStatement2 = _interopRequireDefault(_throwStatement);

var _tryStatement = require("./try-statement");

var _tryStatement2 = _interopRequireDefault(_tryStatement);

var _unaryExpression = require("./unary-expression");

var _unaryExpression2 = _interopRequireDefault(_unaryExpression);

var _updateExpression = require("./update-expression");

var _updateExpression2 = _interopRequireDefault(_updateExpression);

var _variableDeclaration = require("./variable-declaration");

var _variableDeclaration2 = _interopRequireDefault(_variableDeclaration);

var _variableDeclarator = require("./variable-declarator");

var _variableDeclarator2 = _interopRequireDefault(_variableDeclarator);

var _withStatement = require("./with-statement");

var _withStatement2 = _interopRequireDefault(_withStatement);

var visitors = {
	ArrayExpression: _arrayExpression2["default"],
	AssignmentExpression: _assignmentExpression2["default"],
	BinaryExpression: _binaryExpression2["default"],
	BlockStatement: _blockStatement2["default"],
	BreakStatement: _interruptStatement2["default"],
	CallExpression: _callExpression2["default"],
	ConditionalExpression: _ifStatement2["default"],
	DebuggerStatement: _debuggerStatement2["default"],
	DoWhileStatement: _doWhileStatementJs2["default"],
	EmptyStatement: _emptyStatement2["default"],
	ExpressionStatement: _expressionStatement2["default"],
	ForStatement: _forStatement2["default"],
	ForInStatement: _forInStatement2["default"],
	FunctionDeclaration: _functionDeclaration2["default"],
	FunctionExpression: _functionExpression2["default"],
	Identifier: _identifier2["default"],
	LabeledStatement: _labeledStatement2["default"],
	Literal: _literal2["default"],
	LogicalExpression: _logicalExpression2["default"],
	MemberExpression: _memberExpression2["default"],
	MetaProperty: _metaProperty2["default"],
	ObjectExpression: _objectExpression2["default"],
	ReturnStatement: _returnStatement2["default"],
	SequenceExpression: _sequenceExpression2["default"],
	SwitchStatement: _switchStatement2["default"],
	TaggedTemplateExpression: _taggedTemplateExpression2["default"],
	TemplateLiteral: _templateLiteral2["default"],
	ThisExpression: _thisExpression2["default"],
	ThrowStatement: _throwStatement2["default"],
	TryStatement: _tryStatement2["default"],
	UnaryExpression: _unaryExpression2["default"],
	UpdateExpression: _updateExpression2["default"],
	VariableDeclaration: _variableDeclaration2["default"],
	VariableDeclarator: _variableDeclarator2["default"],
	WithStatement: _withStatement2["default"],

	ArrowFunctionExpression: _functionExpression2["default"],
	ContinueStatement: _interruptStatement2["default"],
	IfStatement: _ifStatement2["default"],
	NewExpression: _callExpression2["default"],
	Program: _blockStatement2["default"],
	WhileStatement: _doWhileStatementJs2["default"]
};

exports["default"] = {
	visit: _regeneratorRuntime.mark(function visit(context) {
		return _regeneratorRuntime.wrap(function visit$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (context.node.type in visitors) {
						context$1$0.next = 2;
						break;
					}

					throw new TypeError("No handler defined for: " + context.node.type);

				case 2:
					context$1$0.next = 4;
					return visitors[context.node.type](context);

				case 4:
					return context$1$0.abrupt("return", context$1$0.sent);

				case 5:
				case "end":
					return context$1$0.stop();
			}
		}, visit, this);
	})
};
module.exports = exports["default"];
},{"./array-expression":242,"./assignment-expression":243,"./binary-expression":244,"./block-statement":245,"./call-expression":246,"./debugger-statement":247,"./do-while-statement.js":248,"./empty-statement":249,"./expression-statement":250,"./for-in-statement":251,"./for-statement":252,"./function-declaration":253,"./function-expression":254,"./identifier":255,"./if-statement":256,"./interrupt-statement":258,"./labeled-statement":259,"./literal":260,"./logical-expression":261,"./member-expression":262,"./meta-property":263,"./object-expression":264,"./return-statement":265,"./sequence-expression":266,"./switch-statement":267,"./tagged-template-expression":268,"./template-literal":269,"./this-expression":270,"./throw-statement":271,"./try-statement":272,"./unary-expression":273,"./update-expression":274,"./variable-declaration":275,"./variable-declarator":276,"./with-statement":277,"babel-runtime/helpers/interop-require-default":23,"babel-runtime/regenerator":26}],258:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = InterruptStatement;

function InterruptStatement(context) {
	var label = undefined;
	if (context.node.label) {
		label = context.node.label.name;
	}

	if (context.node.type === "BreakStatement") {
		return context.cancel(label);
	}

	return context.skip(label);
}

module.exports = exports["default"];
},{}],259:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LabeledStatement;
var marked0$0 = [LabeledStatement].map(_regeneratorRuntime.mark);

function LabeledStatement(context) {
	return _regeneratorRuntime.wrap(function LabeledStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.createLabel(context.node.body, context.node.label.name).execute();

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

;
module.exports = exports["default"];
},{"babel-runtime/regenerator":26}],260:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Literal;

function Literal(context) {
	return context.result(context.env.objectFactory.createPrimitive(context.node.value));
}

module.exports = exports["default"];
},{}],261:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LogicalExpression;
var marked0$0 = [LogicalExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function LogicalExpression(context) {
	var left, passed;
	return _regeneratorRuntime.wrap(function LogicalExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent;
				passed = (0, _utilsNative.toBoolean)(left.result.getValue());

				if (!(passed && context.node.operator === "||")) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 6:
				if (!(!passed && context.node.operator === "&&")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 8:
				context$1$0.next = 10;
				return context.create(context.node.right).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":240,"babel-runtime/regenerator":26}],262:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MemberExpression;
var marked0$0 = [MemberExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function MemberExpression(context) {
	var obj, key, value, id;
	return _regeneratorRuntime.wrap(function MemberExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.object).execute();

			case 2:
				obj = context$1$0.sent.result.getValue();
				key = undefined, value = undefined;

				if (!context.node.computed) {
					context$1$0.next = 17;
					break;
				}

				context$1$0.next = 7;
				return context.create(context.node.property).execute();

			case 7:
				id = context$1$0.sent.result.getValue();

				if (!id.isSymbol) {
					context$1$0.next = 12;
					break;
				}

				// if the identifier is a symbol, keep as is - property reference will handle it accordingly
				key = id;
				context$1$0.next = 15;
				break;

			case 12:
				context$1$0.next = 14;
				return (0, _utilsNative.toString)(context.env, id);

			case 14:
				key = context$1$0.sent;

			case 15:
				context$1$0.next = 18;
				break;

			case 17:
				key = context.node.property.name;

			case 18:

				value = new _envPropertyReference.PropertyReference(key, obj, context.env);
				return context$1$0.abrupt("return", context.result(value));

			case 20:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":182,"../utils/native":240,"babel-runtime/regenerator":26}],263:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MetaProperty;

function MetaProperty(context) {
	throw new Error("Meta properties not yet implemented");
}

module.exports = exports["default"];
},{}],264:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ObjectExpression;
var marked0$0 = [ObjectExpression].map(_regeneratorRuntime.mark);

var _utilsFunc = require("../utils/func");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

function setDescriptor(env, obj, descriptor) {
	var strict = env.isStrict();

	if (descriptor.get) {
		contracts.assertAreValidArguments(descriptor.get.node.params, strict);
		descriptor.getter = _regeneratorRuntime.mark(function callee$1$0() {
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return (0, _utilsFunc.execute)(env, descriptor.get, [], this, descriptor.get.node);

					case 2:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 3:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	if (descriptor.set) {
		contracts.assertAreValidArguments(descriptor.set.node.params, strict);
		descriptor.setter = _regeneratorRuntime.mark(function callee$1$0() {
			var args$2$0 = arguments;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return (0, _utilsFunc.execute)(env, descriptor.set, args$2$0, this, descriptor.set.node);

					case 2:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	obj.defineOwnProperty(descriptor.key, descriptor);
}

function createDescriptor(key, value) {
	return { key: key, value: value, configurable: true, enumerable: true, writable: true };
}

function ObjectExpression(context) {
	var obj, descriptors, prop;
	return _regeneratorRuntime.wrap(function ObjectExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				obj = context.env.objectFactory.createObject();
				descriptors = _Object$create(null);
				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.properties, _regeneratorRuntime.mark(function callee$1$0(property) {
					var value, key, keyValue;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(property.value).execute();

							case 2:
								value = context$2$0.sent.result.getValue();
								key = undefined;

								if (!property.computed) {
									context$2$0.next = 13;
									break;
								}

								context$2$0.next = 7;
								return context.create(property.key).execute();

							case 7:
								keyValue = context$2$0.sent.result.getValue();
								context$2$0.next = 10;
								return (0, _utilsNative.toPropertyKey)(context.env, keyValue);

							case 10:
								key = context$2$0.sent;
								context$2$0.next = 14;
								break;

							case 13:
								key = property.key.name || property.key.value;

							case 14:
								context$2$0.t0 = property.kind;
								context$2$0.next = context$2$0.t0 === "get" ? 17 : context$2$0.t0 === "set" ? 17 : 20;
								break;

							case 17:
								descriptors[name] = descriptors[name] || createDescriptor(key);
								descriptors[name][property.kind] = value;
								return context$2$0.abrupt("break", 22);

							case 20:
								obj.defineOwnProperty(key, createDescriptor(key, value));
								return context$2$0.abrupt("break", 22);

							case 22:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:

				for (prop in descriptors) {
					setDescriptor(context.env, obj, descriptors[prop]);
				}

				return context$1$0.abrupt("return", context.result(obj));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":237,"../utils/contracts":238,"../utils/func":239,"../utils/native":240,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],265:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ReturnStatement;
var marked0$0 = [ReturnStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ReturnStatement(context) {
	return _regeneratorRuntime.wrap(function ReturnStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.argument) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.t0 = context;
				context$1$0.next = 4;
				return context.create(context.node.argument).execute();

			case 4:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context$1$0.t0.exit.call(context$1$0.t0, context$1$0.t1));

			case 6:
				return context$1$0.abrupt("return", context.exit(_typesPrimitiveType.UNDEFINED));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":230,"babel-runtime/regenerator":26}],266:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SequenceExpression;
var marked0$0 = [SequenceExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function SequenceExpression(context) {
	var value;
	return _regeneratorRuntime.wrap(function SequenceExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				value = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent.result.getValue();

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", context.result(value));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":237,"babel-runtime/regenerator":26}],267:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SwitchStatement;
var marked0$0 = [executeStatements, SwitchStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function executeStatements(context, statements) {
	var result;
	return _regeneratorRuntime.wrap(function executeStatements$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(statements, _regeneratorRuntime.mark(function callee$1$0(statement, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(statement).execute();

							case 2:
								result = context$2$0.sent;

								if (result && result.isCancelled()) {
									abort();
								}

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function SwitchStatement(context) {
	var testValue, passed, value, defaultCase, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, current, caseValue;

	return _regeneratorRuntime.wrap(function SwitchStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.discriminant).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();
				passed = false;
				value = undefined, defaultCase = undefined;
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 8;
				_iterator = _getIterator(context.node.cases);

			case 10:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 33;
					break;
				}

				current = _step.value;

				if (passed) {
					context$1$0.next = 23;
					break;
				}

				if (!current.test) {
					context$1$0.next = 21;
					break;
				}

				context$1$0.next = 16;
				return context.create(current.test).execute();

			case 16:
				caseValue = context$1$0.sent.result.getValue();

				if (caseValue.equals(testValue)) {
					context$1$0.next = 19;
					break;
				}

				return context$1$0.abrupt("continue", 30);

			case 19:
				context$1$0.next = 23;
				break;

			case 21:
				// default might not be the last case
				defaultCase = current;
				return context$1$0.abrupt("continue", 30);

			case 23:

				passed = true;
				context$1$0.next = 26;
				return executeStatements(context, current.consequent);

			case 26:
				value = context$1$0.sent;

				if (!(value && value.isCancelled())) {
					context$1$0.next = 30;
					break;
				}

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 30:
				_iteratorNormalCompletion = true;
				context$1$0.next = 10;
				break;

			case 33:
				context$1$0.next = 39;
				break;

			case 35:
				context$1$0.prev = 35;
				context$1$0.t0 = context$1$0["catch"](8);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 39:
				context$1$0.prev = 39;
				context$1$0.prev = 40;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 42:
				context$1$0.prev = 42;

				if (!_didIteratorError) {
					context$1$0.next = 45;
					break;
				}

				throw _iteratorError;

			case 45:
				return context$1$0.finish(42);

			case 46:
				return context$1$0.finish(39);

			case 47:
				if (!(!passed && defaultCase && defaultCase.consequent)) {
					context$1$0.next = 53;
					break;
				}

				context$1$0.next = 50;
				return executeStatements(context, defaultCase.consequent);

			case 50:
				value = context$1$0.sent;

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 53:
				return context$1$0.abrupt("return", value);

			case 54:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this, [[8, 35, 39, 47], [40,, 42, 46]]);
}

module.exports = exports["default"];
},{"../utils/async":237,"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":26}],268:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TaggedTemplateExpression;
var marked0$0 = [TaggedTemplateExpression].map(_regeneratorRuntime.mark);

var _utilsFunc = require("../utils/func");

var _utilsAsync = require("../utils/async");

var templateObjectCache = _Object$create(null);

function buildTemplateObject(env, node) {
	// per spec, template objects are cached
	var key = JSON.stringify(node.quasis.map(function (q) {
		return { cooked: q.value.cooked, raw: q.value.raw };
	}));
	if (key in templateObjectCache) {
		return templateObjectCache[key];
	}

	var objectFactory = env.objectFactory;
	var tag = objectFactory.create("Array");
	var raw = objectFactory.create("Array");
	var quasis = node.quasis;

	for (var i = 0, ln = quasis.length; i < ln; i++) {
		tag.putValue(i, objectFactory.createPrimitive(quasis[i].value.cooked), true, env);
		raw.putValue(i, objectFactory.createPrimitive(quasis[i].value.raw), true, env);
	}

	raw.freeze();
	tag.defineOwnProperty("raw", { value: raw });
	tag.freeze();

	return templateObjectCache[key] = tag;
}

function TaggedTemplateExpression(context) {
	var templateObject, values, callee, func, value;
	return _regeneratorRuntime.wrap(function TaggedTemplateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				templateObject = buildTemplateObject(context.env, context.node.quasi);
				context$1$0.next = 3;
				return (0, _utilsAsync.map)(context.node.quasi.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return value.result.getValue();

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				values = context$1$0.sent;
				context$1$0.next = 6;
				return context.create(context.node.tag).execute();

			case 6:
				callee = context$1$0.sent.result;
				func = callee.getValue();
				context$1$0.next = 10;
				return (0, _utilsFunc.execute)(context.env, func, [templateObject].concat(_toConsumableArray(values)), callee.base, callee);

			case 10:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(value));

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":237,"../utils/func":239,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/to-consumable-array":25,"babel-runtime/regenerator":26}],269:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TemplateLiteral;
var marked0$0 = [TemplateLiteral].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

function TemplateLiteral(context) {
	var values, result, quasis, i, ln;
	return _regeneratorRuntime.wrap(function TemplateLiteral$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsAsync.map)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return (0, _utilsNative.toString)(context.env, value.result.getValue());

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
				values = context$1$0.sent;
				result = [];
				quasis = context.node.quasis;

				for (i = 0, ln = quasis.length; i < ln; i++) {
					result.push(quasis[i].value.cooked);

					if (i < values.length) {
						result.push(values[i]);
					}
				}

				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(result.join(""))));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":237,"../utils/native":240,"babel-runtime/regenerator":26}],270:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThisExpression;

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function ThisExpression(context) {
	var thisArg = context.env.getThisBinding();
	if (contracts.isNullOrUndefined(thisArg) && !context.env.isStrict()) {
		thisArg = context.env.global;
	}

	return context.result(thisArg);
}

module.exports = exports["default"];
},{"../utils/contracts":238,"babel-runtime/helpers/interop-require-wildcard":24}],271:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThrowStatement;
var marked0$0 = [ThrowStatement].map(_regeneratorRuntime.mark);

function ThrowStatement(context) {
	var arg;
	return _regeneratorRuntime.wrap(function ThrowStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.argument).execute();

			case 2:
				arg = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context.raise(arg));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":26}],272:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TryStatement;
var marked0$0 = [executeBlock, TryStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

function executeBlock(context, body, swallow) {
	var result;
	return _regeneratorRuntime.wrap(function executeBlock$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(body, _regeneratorRuntime.mark(function callee$1$0(node, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!swallow) {
									context$2$0.next = 12;
									break;
								}

								context$2$0.prev = 1;
								context$2$0.next = 4;
								return context.create(node).execute();

							case 4:
								result = context$2$0.sent;
								context$2$0.next = 10;
								break;

							case 7:
								context$2$0.prev = 7;
								context$2$0.t0 = context$2$0["catch"](1);

								result = context.raise(context$2$0.t0);

							case 10:
								context$2$0.next = 15;
								break;

							case 12:
								context$2$0.next = 14;
								return context.create(node).execute();

							case 14:
								result = context$2$0.sent;

							case 15:

								if (result.canBreak()) {
									abort();
								}

							case 16:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this, [[1, 7]]);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function TryStatement(context) {
	var result, finalizerResult, errVar, scope;
	return _regeneratorRuntime.wrap(function TryStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return executeBlock(context, context.node.block.body, true);

			case 2:
				result = context$1$0.sent;
				finalizerResult = undefined;

				if (!(result && result.raised)) {
					context$1$0.next = 14;
					break;
				}

				if (!context.node.handler) {
					context$1$0.next = 14;
					break;
				}

				errVar = context.node.handler.param.name;

				contracts.assertIsValidIdentifier(errVar, context.env.isStrict());

				scope = context.env.createScope();

				context.env.createVariable(errVar);
				context.env.putValue(errVar, result.result);

				context$1$0.next = 13;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return executeBlock(context, context.node.handler.body.body, true);

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 13:
				result = context$1$0.sent;

			case 14:
				if (context.node.finalizer) {
					context$1$0.next = 16;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 16:
				if (!context.node.finalizer) {
					context$1$0.next = 22;
					break;
				}

				context$1$0.next = 19;
				return executeBlock(context, context.node.finalizer.body);

			case 19:
				finalizerResult = context$1$0.sent;

				if (!(finalizerResult && finalizerResult.canBreak())) {
					context$1$0.next = 22;
					break;
				}

				return context$1$0.abrupt("return", finalizerResult);

			case 22:
				return context$1$0.abrupt("return", result);

			case 23:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];

// let shouldRaise = false;
// let shouldReturn = false;

// let shouldThrow = result && result.raised;

// if there is no catch OR if an error is raised within the catch we need to pass that on
// if (result && result.raised) {
// 	shouldRaise = true;
// 	// yield result;
// }

// shouldReturn = true;

// if (shouldRaise) {
// 	try {
// 		throw result.result;
// 	} catch (err) {
// 		throw err;
// 	} finally {
// 		if (shouldReturn) {
// 			return finalizerResult;
// 		}
// 	}
// }
},{"../utils/async":237,"../utils/contracts":238,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],273:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UnaryExpression;
var marked0$0 = [UnaryExpression].map(_regeneratorRuntime.mark);

var _envReference = require("../env/reference");

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function UnaryExpression(context) {
	var objectFactory, result, value, newValue, type, deleted, resolved;
	return _regeneratorRuntime.wrap(function UnaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				result = context$1$0.sent.result;
				value = undefined, newValue = undefined;
				context$1$0.t0 = context.node.operator;
				context$1$0.next = context$1$0.t0 === "typeof" ? 8 : context$1$0.t0 === "-" ? 12 : context$1$0.t0 === "+" ? 19 : context$1$0.t0 === "!" ? 26 : context$1$0.t0 === "~" ? 29 : context$1$0.t0 === "delete" ? 36 : context$1$0.t0 === "void" ? 49 : 51;
				break;

			case 8:
				type = undefined;

				if (result instanceof _envReference.Reference && result.isUnresolved()) {
					type = "undefined";
				} else {
					value = result.getValue();
					type = value ? value.type : "undefined";
				}

				newValue = objectFactory.createPrimitive(type);
				return context$1$0.abrupt("break", 52);

			case 12:
				value = result.getValue();
				context$1$0.t1 = objectFactory;
				context$1$0.next = 16;
				return (0, _utilsNative.toNumber)(context.env, value);

			case 16:
				context$1$0.t2 = -context$1$0.sent;
				newValue = context$1$0.t1.createPrimitive.call(context$1$0.t1, context$1$0.t2);
				return context$1$0.abrupt("break", 52);

			case 19:
				value = result.getValue();
				context$1$0.t3 = objectFactory;
				context$1$0.next = 23;
				return (0, _utilsNative.toNumber)(context.env, value);

			case 23:
				context$1$0.t4 = +context$1$0.sent;
				newValue = context$1$0.t3.createPrimitive.call(context$1$0.t3, context$1$0.t4);
				return context$1$0.abrupt("break", 52);

			case 26:
				value = result.getValue();
				newValue = objectFactory.createPrimitive(!(0, _utilsNative.toBoolean)(value));
				return context$1$0.abrupt("break", 52);

			case 29:
				value = result.getValue();
				context$1$0.t5 = objectFactory;
				context$1$0.next = 33;
				return (0, _utilsNative.toInt32)(context.env, value);

			case 33:
				context$1$0.t6 = ~context$1$0.sent;
				newValue = context$1$0.t5.createPrimitive.call(context$1$0.t5, context$1$0.t6);
				return context$1$0.abrupt("break", 52);

			case 36:
				deleted = true;

				if (!(result && result instanceof _envReference.Reference)) {
					context$1$0.next = 45;
					break;
				}

				resolved = !result.isUnresolved();

				if (!context.env.isStrict()) {
					context$1$0.next = 42;
					break;
				}

				if (!(!resolved || !(result instanceof _envPropertyReference.PropertyReference) || result.unqualified)) {
					context$1$0.next = 42;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Delete of an unqualified identifier in strict mode.")));

			case 42:

				if (resolved) {
					deleted = result["delete"]();
				}
				context$1$0.next = 47;
				break;

			case 45:
				if (!context.node.argument.object) {
					context$1$0.next = 47;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new ReferenceError(context.node.argument.object.name + " is not defined")));

			case 47:

				newValue = objectFactory.createPrimitive(deleted);
				return context$1$0.abrupt("break", 52);

			case 49:
				newValue = objectFactory.createPrimitive(undefined);
				return context$1$0.abrupt("break", 52);

			case 51:
				return context$1$0.abrupt("return", context.raise(new SyntaxError("Unknown unary operator: " + context.node.operator)));

			case 52:
				return context$1$0.abrupt("return", context.result(newValue));

			case 53:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":182,"../env/reference":183,"../utils/native":240,"babel-runtime/regenerator":26}],274:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UpdateExpression;
var marked0$0 = [UpdateExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function UpdateExpression(context) {
	var objectFactory, ref, originalValue, newValue, newWrappedValue, returnValue;
	return _regeneratorRuntime.wrap(function UpdateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				ref = context$1$0.sent.result;

				contracts.assertIsValidAssignment(ref, context.env.isStrict());

				context$1$0.next = 7;
				return (0, _utilsNative.toNumber)(context.env, ref.getValue());

			case 7:
				originalValue = context$1$0.sent;
				newValue = originalValue;

				if (context.node.operator === "++") {
					newValue++;
				} else {
					newValue--;
				}

				newWrappedValue = objectFactory.createPrimitive(newValue);

				originalValue = objectFactory.createPrimitive(originalValue);

				returnValue = context.node.prefix ? newWrappedValue : originalValue;

				ref.setValue(newWrappedValue);
				return context$1$0.abrupt("return", context.result(returnValue));

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":238,"../utils/native":240,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}],275:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclaration;
var marked0$0 = [VariableDeclaration].map(_regeneratorRuntime.mark);

function VariableDeclaration(context) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl;

	return _regeneratorRuntime.wrap(function VariableDeclaration$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 3;
				_iterator = _getIterator(context.node.declarations);

			case 5:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				decl = _step.value;
				context$1$0.next = 9;
				return context.create(decl).execute();

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 5;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t0 = context$1$0["catch"](3);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return", context.empty());

			case 27:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[3, 14, 18, 26], [19,, 21, 25]]);
}

module.exports = exports["default"];
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":26}],276:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclarator;
var marked0$0 = [VariableDeclarator].map(_regeneratorRuntime.mark);

function VariableDeclarator(context) {
	var name, value;
	return _regeneratorRuntime.wrap(function VariableDeclarator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				name = context.node.id.name;
				value = undefined;

				if (!context.node.init) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.init).execute();

			case 5:
				value = context$1$0.sent.result;

			case 6:

				// variables have already been hoisted so we just need to initialize them if defined
				if (value) {
					context.env.putValue(name, value.getValue(), context.env.isStrict(), context);
				}

				return context$1$0.abrupt("return", context.result(context.env.getReference(name)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":26}],277:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = WithStatement;
var marked0$0 = [WithStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function WithStatement(context) {
	var obj, scope;
	return _regeneratorRuntime.wrap(function WithStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.env.isStrict()) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Strict mode code may not include a with statement")));

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.object).execute();

			case 4:
				obj = context$1$0.sent.result.getValue();

				if (!contracts.isNullOrUndefined(obj)) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new TypeError(obj.className + " has no properties")));

			case 7:
				scope = context.env.createObjectScope(obj, context.env.getThisBinding());

				scope.init(context.node.body);

				context$1$0.next = 11;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(context.node.body).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 11:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":238,"babel-runtime/helpers/interop-require-wildcard":24,"babel-runtime/regenerator":26}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbWF0aC9zaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9udW1iZXIvZXBzaWxvbi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbnVtYmVyL21heC1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL251bWJlci9taW4tc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9iaW5kLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG8tY29uc3VtYWJsZS1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3IvcnVudGltZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9lczYvcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2VzNi9zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9tYXRoL3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9zdHJpbmcvcmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL251bWJlci9lcHNpbG9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9udW1iZXIvbWF4LXNhZmUtaW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL21pbi1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY2xhc3NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWYuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmVudW0ta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZm9yLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2V0LW5hbWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmh0bWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pbnZva2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXMtYXJyYXktaXRlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmlzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXJhdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQua2V5b2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWl4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnByb3BlcnR5LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnNhbWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaGFyZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc3BlY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnN0cmljdC1uZXcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdXBwb3J0LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YWcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8taW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLWlvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51bnNjb3BlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQud2tzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm1hdGguc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubnVtYmVyLmVwc2lsb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm51bWJlci5tYXgtc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5udW1iZXIubWluLXNhZmUtaW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLmRlZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvJC5saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLnJlZGVmLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLnN0cmluZy1yZXBlYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQudW5zY29wZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcucmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwic3JjL2Vudi9kZWNsYXJhdGl2ZS1lbnZpcm9ubWVudC5qcyIsInNyYy9lbnYvaG9pc3Rlci5qcyIsInNyYy9lbnYvaW5kZXguanMiLCJzcmMvZW52L29iamVjdC1lbnZpcm9ubWVudC5qcyIsInNyYy9lbnYvcHJvcGVydHktcmVmZXJlbmNlLmpzIiwic3JjL2Vudi9yZWZlcmVuY2UuanMiLCJzcmMvZW52L3Njb3BlLmpzIiwic3JjL2VzNS9hcnJheS9pbmRleC5qcyIsInNyYy9lczUvYm9vbGVhbi9pbmRleC5qcyIsInNyYy9lczUvY29uc29sZS9pbmRleC5qcyIsInNyYy9lczUvZGF0ZS9pbmRleC5qcyIsInNyYy9lczUvZXJyb3IvaW5kZXguanMiLCJzcmMvZXM1L2Z1bmN0aW9uL2luZGV4LmpzIiwic3JjL2VzNS9nbG9iYWxzLmpzIiwic3JjL2VzNS9pbmRleC5qcyIsInNyYy9lczUvanNvbi9pbmRleC5qcyIsInNyYy9lczUvbWF0aC9pbmRleC5qcyIsInNyYy9lczUvbnVtYmVyL2luZGV4LmpzIiwic3JjL2VzNS9vYmplY3QvaW5kZXguanMiLCJzcmMvZXM1L3JlZ2V4L2luZGV4LmpzIiwic3JjL2VzNS9zdHJpbmcvaW5kZXguanMiLCJzcmMvZXM2L2FycmF5L2luZGV4LmpzIiwic3JjL2VzNi9hcnJheS9pdGVyYXRvci5qcyIsInNyYy9lczYvaW5kZXguanMiLCJzcmMvZXM2L21hcC9pbmRleC5qcyIsInNyYy9lczYvbnVtYmVyL2luZGV4LmpzIiwic3JjL2VzNi9vYmplY3QvaW5kZXguanMiLCJzcmMvZXM2L3JlZmxlY3QvaW5kZXguanMiLCJzcmMvZXM2L3NldC9pbmRleC5qcyIsInNyYy9lczYvc3ltYm9sL2luZGV4LmpzIiwic3JjL2VzdHJlZS13YWxrZXIuanMiLCJzcmMvZXhlY3V0aW9uLWNvbnRleHQuanMiLCJzcmMvZXhlY3V0aW9uLXJlc3VsdC5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9pdGVyYXRvcnMvYXJyYXktaXRlcmF0b3IuanMiLCJzcmMvaXRlcmF0b3JzL2luZGV4LmpzIiwic3JjL2l0ZXJhdG9ycy9pdGVyYWJsZS1pdGVyYXRvci5qcyIsInNyYy9pdGVyYXRvcnMvc3BhcnNlLWl0ZXJhdG9yLmpzIiwic3JjL2l0ZXJhdG9ycy9zdHJpbmctaXRlcmF0b3IuanMiLCJzcmMva2V5d29yZHMuanMiLCJzcmMvcG9seWZpbGxzLmpzIiwic3JjL3N5bnRheC1ydWxlcy5qcyIsInNyYy90eXBlcy9hcmd1bWVudC10eXBlLmpzIiwic3JjL3R5cGVzL2FycmF5LXR5cGUuanMiLCJzcmMvdHlwZXMvZGF0ZS10eXBlLmpzIiwic3JjL3R5cGVzL2Vycm9yLXR5cGUuanMiLCJzcmMvdHlwZXMvZnVuY3Rpb24tdHlwZS5qcyIsInNyYy90eXBlcy9pdGVyYXRvci10eXBlLmpzIiwic3JjL3R5cGVzL21hcC10eXBlLmpzIiwic3JjL3R5cGVzL25hdGl2ZS1mdW5jdGlvbi10eXBlLmpzIiwic3JjL3R5cGVzL29iamVjdC1mYWN0b3J5LmpzIiwic3JjL3R5cGVzL29iamVjdC10eXBlLmpzIiwic3JjL3R5cGVzL3ByaW1pdGl2ZS10eXBlLmpzIiwic3JjL3R5cGVzL3Byb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJzcmMvdHlwZXMvcmVnZXgtdHlwZS5qcyIsInNyYy90eXBlcy9zZXQtdHlwZS5qcyIsInNyYy90eXBlcy9zdHJpbmctdHlwZS5qcyIsInNyYy90eXBlcy9zeW1ib2wtdHlwZS5qcyIsInNyYy91dGlscy9hc3NpZ24uanMiLCJzcmMvdXRpbHMvYXN5bmMuanMiLCJzcmMvdXRpbHMvY29udHJhY3RzLmpzIiwic3JjL3V0aWxzL2Z1bmMuanMiLCJzcmMvdXRpbHMvbmF0aXZlLmpzIiwic3JjL3V0aWxzL29wZXJhdG9ycy5qcyIsInNyYy92aXNpdG9ycy9hcnJheS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL2Fzc2lnbm1lbnQtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9iaW5hcnktZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9ibG9jay1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvY2FsbC1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL2RlYnVnZ2VyLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9kby13aGlsZS1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZW1wdHktc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2V4cHJlc3Npb24tc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2Zvci1pbi1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZm9yLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9mdW5jdGlvbi1kZWNsYXJhdGlvbi5qcyIsInNyYy92aXNpdG9ycy9mdW5jdGlvbi1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL2lkZW50aWZpZXIuanMiLCJzcmMvdmlzaXRvcnMvaWYtc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2luZGV4LmpzIiwic3JjL3Zpc2l0b3JzL2ludGVycnVwdC1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvbGFiZWxlZC1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvbGl0ZXJhbC5qcyIsInNyYy92aXNpdG9ycy9sb2dpY2FsLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvbWVtYmVyLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvbWV0YS1wcm9wZXJ0eS5qcyIsInNyYy92aXNpdG9ycy9vYmplY3QtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9yZXR1cm4tc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL3NlcXVlbmNlLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvc3dpdGNoLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy90YWdnZWQtdGVtcGxhdGUtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy90ZW1wbGF0ZS1saXRlcmFsLmpzIiwic3JjL3Zpc2l0b3JzL3RoaXMtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy90aHJvdy1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvdHJ5LXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy91bmFyeS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3VwZGF0ZS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3ZhcmlhYmxlLWRlY2xhcmF0aW9uLmpzIiwic3JjL3Zpc2l0b3JzL3ZhcmlhYmxlLWRlY2xhcmF0b3IuanMiLCJzcmMvdmlzaXRvcnMvd2l0aC1zdGF0ZW1lbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcG5CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7Ozs7QUNGQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBOzs7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBOztBQ0FBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNNQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekNBOzs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDelFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9ZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9xQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNySkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcGlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdlFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2paQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0WkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2U0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDelBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2dldC1pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9tYXRoL3NpZ25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL2Vwc2lsb25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL21heC1zYWZlLWludGVnZXJcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL21pbi1zYWZlLWludGVnZXJcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5c1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZDtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblxuICAgICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSkoKTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94Mykge1xuICB2YXIgX2FnYWluID0gdHJ1ZTtcblxuICBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHtcbiAgICB2YXIgb2JqZWN0ID0gX3gsXG4gICAgICAgIHByb3BlcnR5ID0gX3gyLFxuICAgICAgICByZWNlaXZlciA9IF94MztcbiAgICBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkO1xuICAgIF9hZ2FpbiA9IGZhbHNlO1xuICAgIGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuICAgIHZhciBkZXNjID0gX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7XG5cbiAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF94ID0gcGFyZW50O1xuICAgICAgICBfeDIgPSBwcm9wZXJ0eTtcbiAgICAgICAgX3gzID0gcmVjZWl2ZXI7XG4gICAgICAgIF9hZ2FpbiA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlIF9mdW5jdGlvbjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7XG4gICAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGdldHRlciA9IGRlc2MuZ2V0O1xuXG4gICAgICBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JHNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IF9PYmplY3QkY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfT2JqZWN0JHNldFByb3RvdHlwZU9mID8gX09iamVjdCRzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAob2JqKSB7XG4gIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9IGVsc2Uge1xuICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgIGlmIChvYmogIT0gbnVsbCkge1xuICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXdPYmpbXCJkZWZhdWx0XCJdID0gb2JqO1xuICAgIHJldHVybiBuZXdPYmo7XG4gIH1cbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQXJyYXkkZnJvbSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbVwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfQXJyYXkkZnJvbShhcnIpO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8vIFRoaXMgbWV0aG9kIG9mIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdCBuZWVkcyB0byBiZVxuLy8ga2VwdCBpZGVudGljYWwgdG8gdGhlIHdheSBpdCBpcyBvYnRhaW5lZCBpbiBydW50aW1lLmpzXG52YXIgZyA9XG4gIHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDpcbiAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdGhpcztcblxuLy8gVXNlIGBnZXRPd25Qcm9wZXJ0eU5hbWVzYCBiZWNhdXNlIG5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCBjYWxsaW5nXG4vLyBgaGFzT3duUHJvcGVydHlgIG9uIHRoZSBnbG9iYWwgYHNlbGZgIG9iamVjdCBpbiBhIHdvcmtlci4gU2VlICMxODMuXG52YXIgaGFkUnVudGltZSA9IGcucmVnZW5lcmF0b3JSdW50aW1lICYmXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGcpLmluZGV4T2YoXCJyZWdlbmVyYXRvclJ1bnRpbWVcIikgPj0gMDtcblxuLy8gU2F2ZSB0aGUgb2xkIHJlZ2VuZXJhdG9yUnVudGltZSBpbiBjYXNlIGl0IG5lZWRzIHRvIGJlIHJlc3RvcmVkIGxhdGVyLlxudmFyIG9sZFJ1bnRpbWUgPSBoYWRSdW50aW1lICYmIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuXG4vLyBGb3JjZSByZWV2YWx1dGF0aW9uIG9mIHJ1bnRpbWUuanMuXG5nLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9ydW50aW1lXCIpO1xuXG5pZiAoaGFkUnVudGltZSkge1xuICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBydW50aW1lLlxuICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IG9sZFJ1bnRpbWU7XG59IGVsc2Uge1xuICAvLyBSZW1vdmUgdGhlIGdsb2JhbCBwcm9wZXJ0eSBhZGRlZCBieSBydW50aW1lLmpzLlxuICB0cnkge1xuICAgIGRlbGV0ZSBnLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgfSBjYXRjaChlKSB7XG4gICAgZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSB1bmRlZmluZWQ7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBtb2R1bGUuZXhwb3J0cywgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpWVdKbGJDMXlkVzUwYVcxbEwzSmxaMlZ1WlhKaGRHOXlMMmx1WkdWNExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpTHk4Z1ZHaHBjeUJ0WlhSb2IyUWdiMllnYjJKMFlXbHVhVzVuSUdFZ2NtVm1aWEpsYm1ObElIUnZJSFJvWlNCbmJHOWlZV3dnYjJKcVpXTjBJRzVsWldSeklIUnZJR0psWEc0dkx5QnJaWEIwSUdsa1pXNTBhV05oYkNCMGJ5QjBhR1VnZDJGNUlHbDBJR2x6SUc5aWRHRnBibVZrSUdsdUlISjFiblJwYldVdWFuTmNiblpoY2lCbklEMWNiaUFnZEhsd1pXOW1JR2RzYjJKaGJDQTlQVDBnWENKdlltcGxZM1JjSWlBL0lHZHNiMkpoYkNBNlhHNGdJSFI1Y0dWdlppQjNhVzVrYjNjZ1BUMDlJRndpYjJKcVpXTjBYQ0lnUHlCM2FXNWtiM2NnT2x4dUlDQjBlWEJsYjJZZ2MyVnNaaUE5UFQwZ1hDSnZZbXBsWTNSY0lpQS9JSE5sYkdZZ09pQjBhR2x6TzF4dVhHNHZMeUJWYzJVZ1lHZGxkRTkzYmxCeWIzQmxjblI1VG1GdFpYTmdJR0psWTJGMWMyVWdibTkwSUdGc2JDQmljbTkzYzJWeWN5QnpkWEJ3YjNKMElHTmhiR3hwYm1kY2JpOHZJR0JvWVhOUGQyNVFjbTl3WlhKMGVXQWdiMjRnZEdobElHZHNiMkpoYkNCZ2MyVnNabUFnYjJKcVpXTjBJR2x1SUdFZ2QyOXlhMlZ5TGlCVFpXVWdJekU0TXk1Y2JuWmhjaUJvWVdSU2RXNTBhVzFsSUQwZ1p5NXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVWdKaVpjYmlBZ1QySnFaV04wTG1kbGRFOTNibEJ5YjNCbGNuUjVUbUZ0WlhNb1p5a3VhVzVrWlhoUFppaGNJbkpsWjJWdVpYSmhkRzl5VW5WdWRHbHRaVndpS1NBK1BTQXdPMXh1WEc0dkx5QlRZWFpsSUhSb1pTQnZiR1FnY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsSUdsdUlHTmhjMlVnYVhRZ2JtVmxaSE1nZEc4Z1ltVWdjbVZ6ZEc5eVpXUWdiR0YwWlhJdVhHNTJZWElnYjJ4a1VuVnVkR2x0WlNBOUlHaGhaRkoxYm5ScGJXVWdKaVlnWnk1eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVN1hHNWNiaTh2SUVadmNtTmxJSEpsWlhaaGJIVjBZWFJwYjI0Z2IyWWdjblZ1ZEdsdFpTNXFjeTVjYm1jdWNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbElEMGdkVzVrWldacGJtVmtPMXh1WEc1dGIyUjFiR1V1Wlhod2IzSjBjeUE5SUhKbGNYVnBjbVVvWENJdUwzSjFiblJwYldWY0lpazdYRzVjYm1sbUlDaG9ZV1JTZFc1MGFXMWxLU0I3WEc0Z0lDOHZJRkpsYzNSdmNtVWdkR2hsSUc5eWFXZHBibUZzSUhKMWJuUnBiV1V1WEc0Z0lHY3VjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxJRDBnYjJ4a1VuVnVkR2x0WlR0Y2JuMGdaV3h6WlNCN1hHNGdJQzh2SUZKbGJXOTJaU0IwYUdVZ1oyeHZZbUZzSUhCeWIzQmxjblI1SUdGa1pHVmtJR0o1SUhKMWJuUnBiV1V1YW5NdVhHNGdJSFJ5ZVNCN1hHNGdJQ0FnWkdWc1pYUmxJR2N1Y21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTzF4dUlDQjlJR05oZEdOb0tHVXBJSHRjYmlBZ0lDQm5MbkpsWjJWdVpYSmhkRzl5VW5WdWRHbHRaU0E5SUhWdVpHVm1hVzVsWkR0Y2JpQWdmVnh1ZlZ4dVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlIc2dYQ0prWldaaGRXeDBYQ0k2SUcxdlpIVnNaUzVsZUhCdmNuUnpMQ0JmWDJWelRXOWtkV3hsT2lCMGNuVmxJSDA3WEc0aVhYMD0iLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW5cbiAqIGFkZGl0aW9uYWwgZ3JhbnQgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpblxuICogdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX1N5bWJvbCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfUHJvbWlzZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKVtcImRlZmF1bHRcIl07XG5cbiEoZnVuY3Rpb24gKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBfU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX1N5bWJvbCRpdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBnZW5lcmF0b3IgPSBfT2JqZWN0JGNyZWF0ZSgob3V0ZXJGbiB8fCBHZW5lcmF0b3IpLnByb3RvdHlwZSk7XG5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiB8fCBudWxsLCBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSkpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICBnZW5GdW4ucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnRgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLiBTb21lIG1heSBjb25zaWRlciB0aGUgbmFtZSBvZiB0aGlzIG1ldGhvZCB0b29cbiAgLy8gY3V0ZXN5LCBidXQgdGhleSBhcmUgY3VybXVkZ2VvbnMuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIG5ldyBBd2FpdEFyZ3VtZW50KGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQXdhaXRBcmd1bWVudChhcmcpIHtcbiAgICB0aGlzLmFyZyA9IGFyZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgLy8gVGhpcyBpbnZva2UgZnVuY3Rpb24gaXMgd3JpdHRlbiBpbiBhIHN0eWxlIHRoYXQgYXNzdW1lcyBzb21lXG4gICAgLy8gY2FsbGluZyBmdW5jdGlvbiAob3IgUHJvbWlzZSkgd2lsbCBoYW5kbGUgZXhjZXB0aW9ucy5cbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZW5lcmF0b3JbbWV0aG9kXShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudCA/IF9Qcm9taXNlLnJlc29sdmUodmFsdWUuYXJnKS50aGVuKGludm9rZU5leHQsIGludm9rZVRocm93KSA6IF9Qcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgaW52b2tlID0gcHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VOZXh0ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcIm5leHRcIik7XG4gICAgdmFyIGludm9rZVRocm93ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInRocm93XCIpO1xuICAgIHZhciBpbnZva2VSZXR1cm4gPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwicmV0dXJuXCIpO1xuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgZW5xdWV1ZVJlc3VsdCA9XG4gICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pIDogbmV3IF9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUoaW52b2tlKG1ldGhvZCwgYXJnKSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZW5xdWV1ZVJlc3VsdCBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieVxuICAgICAgLy8gbGF0ZXIgaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgcHJldmlvdXNQcm9taXNlID0gZW5xdWV1ZVJlc3VsdFtcImNhdGNoXCJdKGZ1bmN0aW9uIChpZ25vcmVkKSB7fSk7XG5cbiAgICAgIHJldHVybiBlbnF1ZXVlUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIgfHwgbWV0aG9kID09PSBcInRocm93XCIgJiYgZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBBIHJldHVybiBvciB0aHJvdyAod2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIHRocm93XG4gICAgICAgICAgICAvLyBtZXRob2QpIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICB2YXIgcmV0dXJuTWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAocmV0dXJuTWV0aG9kKSB7XG4gICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChyZXR1cm5NZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuICAgICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXR1cm4gbWV0aG9kIHRocmV3IGFuIGV4Y2VwdGlvbiwgbGV0IHRoYXRcbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gcHJldmFpbCBvdmVyIHRoZSBvcmlnaW5hbCByZXR1cm4gb3IgdGhyb3cuXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHRoZSBvdXRlciByZXR1cm4sIG5vdyB0aGF0IHRoZSBkZWxlZ2F0ZVxuICAgICAgICAgICAgICAvLyBpdGVyYXRvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExpa2UgcmV0dXJuaW5nIGdlbmVyYXRvci50aHJvdyh1bmNhdWdodCksIGJ1dCB3aXRob3V0IHRoZVxuICAgICAgICAgICAgLy8gb3ZlcmhlYWQgb2YgYW4gZXh0cmEgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWxlZ2F0ZSBnZW5lcmF0b3IgcmFuIGFuZCBoYW5kbGVkIGl0cyBvd24gZXhjZXB0aW9ucyBzb1xuICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgbWV0aG9kIHdhcywgd2UgY29udGludWUgYXMgaWYgaXQgaXNcbiAgICAgICAgICAvLyBcIm5leHRcIiB3aXRoIGFuIHVuZGVmaW5lZCBhcmcuXG4gICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gYXJnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmRlbGVnYXRlICYmIG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICB0aGlzLnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcbiAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJiAodHlwZSA9PT0gXCJicmVha1wiIHx8IHR5cGUgPT09IFwiY29udGludWVcIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHwgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbi8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdFxuLy8gdXNlIGluZGlyZWN0IGV2YWwgKHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KS5cbnR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOiB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDogdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdW5kZWZpbmVkKTtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aVlXSmxiQzF5ZFc1MGFXMWxMM0psWjJWdVpYSmhkRzl5TDNKMWJuUnBiV1V1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklpOHFLbHh1SUNvZ1EyOXdlWEpwWjJoMElDaGpLU0F5TURFMExDQkdZV05sWW05dmF5d2dTVzVqTGx4dUlDb2dRV3hzSUhKcFoyaDBjeUJ5WlhObGNuWmxaQzVjYmlBcVhHNGdLaUJVYUdseklITnZkWEpqWlNCamIyUmxJR2x6SUd4cFkyVnVjMlZrSUhWdVpHVnlJSFJvWlNCQ1UwUXRjM1I1YkdVZ2JHbGpaVzV6WlNCbWIzVnVaQ0JwYmlCMGFHVmNiaUFxSUdoMGRIQnpPaTh2Y21GM0xtZHBkR2gxWWk1amIyMHZabUZqWldKdmIyc3ZjbVZuWlc1bGNtRjBiM0l2YldGemRHVnlMMHhKUTBWT1UwVWdabWxzWlM0Z1FXNWNiaUFxSUdGa1pHbDBhVzl1WVd3Z1ozSmhiblFnYjJZZ2NHRjBaVzUwSUhKcFoyaDBjeUJqWVc0Z1ltVWdabTkxYm1RZ2FXNGdkR2hsSUZCQlZFVk9WRk1nWm1sc1pTQnBibHh1SUNvZ2RHaGxJSE5oYldVZ1pHbHlaV04wYjNKNUxseHVJQ292WEc1Y2Jsd2lkWE5sSUhOMGNtbGpkRndpTzF4dVhHNTJZWElnWDFONWJXSnZiQ0E5SUhKbGNYVnBjbVVvWENKaVlXSmxiQzF5ZFc1MGFXMWxMMk52Y21VdGFuTXZjM2x0WW05c1hDSXBXMXdpWkdWbVlYVnNkRndpWFR0Y2JseHVkbUZ5SUY5VGVXMWliMndrYVhSbGNtRjBiM0lnUFNCeVpYRjFhWEpsS0Z3aVltRmlaV3d0Y25WdWRHbHRaUzlqYjNKbExXcHpMM041YldKdmJDOXBkR1Z5WVhSdmNsd2lLVnRjSW1SbFptRjFiSFJjSWwwN1hHNWNiblpoY2lCZlQySnFaV04wSkdOeVpXRjBaU0E5SUhKbGNYVnBjbVVvWENKaVlXSmxiQzF5ZFc1MGFXMWxMMk52Y21VdGFuTXZiMkpxWldOMEwyTnlaV0YwWlZ3aUtWdGNJbVJsWm1GMWJIUmNJbDA3WEc1Y2JuWmhjaUJmVUhKdmJXbHpaU0E5SUhKbGNYVnBjbVVvWENKaVlXSmxiQzF5ZFc1MGFXMWxMMk52Y21VdGFuTXZjSEp2YldselpWd2lLVnRjSW1SbFptRjFiSFJjSWwwN1hHNWNiaUVvWm5WdVkzUnBiMjRnS0dkc2IySmhiQ2tnZTF4dUlDQmNJblZ6WlNCemRISnBZM1JjSWp0Y2JseHVJQ0IyWVhJZ2FHRnpUM2R1SUQwZ1QySnFaV04wTG5CeWIzUnZkSGx3WlM1b1lYTlBkMjVRY205d1pYSjBlVHRjYmlBZ2RtRnlJSFZ1WkdWbWFXNWxaRHNnTHk4Z1RXOXlaU0JqYjIxd2NtVnpjMmxpYkdVZ2RHaGhiaUIyYjJsa0lEQXVYRzRnSUhaaGNpQnBkR1Z5WVhSdmNsTjViV0p2YkNBOUlIUjVjR1Z2WmlCZlUzbHRZbTlzSUQwOVBTQmNJbVoxYm1OMGFXOXVYQ0lnSmlZZ1gxTjViV0p2YkNScGRHVnlZWFJ2Y2lCOGZDQmNJa0JBYVhSbGNtRjBiM0pjSWp0Y2JseHVJQ0IyWVhJZ2FXNU5iMlIxYkdVZ1BTQjBlWEJsYjJZZ2JXOWtkV3hsSUQwOVBTQmNJbTlpYW1WamRGd2lPMXh1SUNCMllYSWdjblZ1ZEdsdFpTQTlJR2RzYjJKaGJDNXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVTdYRzRnSUdsbUlDaHlkVzUwYVcxbEtTQjdYRzRnSUNBZ2FXWWdLR2x1VFc5a2RXeGxLU0I3WEc0Z0lDQWdJQ0F2THlCSlppQnlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVWdhWE1nWkdWbWFXNWxaQ0JuYkc5aVlXeHNlU0JoYm1RZ2QyVW5jbVVnYVc0Z1lTQnRiMlIxYkdVc1hHNGdJQ0FnSUNBdkx5QnRZV3RsSUhSb1pTQmxlSEJ2Y25SeklHOWlhbVZqZENCcFpHVnVkR2xqWVd3Z2RHOGdjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxMbHh1SUNBZ0lDQWdiVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQnlkVzUwYVcxbE8xeHVJQ0FnSUgxY2JpQWdJQ0F2THlCRWIyNG5kQ0JpYjNSb1pYSWdaWFpoYkhWaGRHbHVaeUIwYUdVZ2NtVnpkQ0J2WmlCMGFHbHpJR1pwYkdVZ2FXWWdkR2hsSUhKMWJuUnBiV1VnZDJGelhHNGdJQ0FnTHk4Z1lXeHlaV0ZrZVNCa1pXWnBibVZrSUdkc2IySmhiR3g1TGx4dUlDQWdJSEpsZEhWeWJqdGNiaUFnZlZ4dVhHNGdJQzh2SUVSbFptbHVaU0IwYUdVZ2NuVnVkR2x0WlNCbmJHOWlZV3hzZVNBb1lYTWdaWGh3WldOMFpXUWdZbmtnWjJWdVpYSmhkR1ZrSUdOdlpHVXBJR0Z6SUdWcGRHaGxjbHh1SUNBdkx5QnRiMlIxYkdVdVpYaHdiM0owY3lBb2FXWWdkMlVuY21VZ2FXNGdZU0J0YjJSMWJHVXBJRzl5SUdFZ2JtVjNMQ0JsYlhCMGVTQnZZbXBsWTNRdVhHNGdJSEoxYm5ScGJXVWdQU0JuYkc5aVlXd3VjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxJRDBnYVc1TmIyUjFiR1VnUHlCdGIyUjFiR1V1Wlhod2IzSjBjeUE2SUh0OU8xeHVYRzRnSUdaMWJtTjBhVzl1SUhkeVlYQW9hVzV1WlhKR2Jpd2diM1YwWlhKR2Jpd2djMlZzWml3Z2RISjVURzlqYzB4cGMzUXBJSHRjYmlBZ0lDQXZMeUJKWmlCdmRYUmxja1p1SUhCeWIzWnBaR1ZrTENCMGFHVnVJRzkxZEdWeVJtNHVjSEp2ZEc5MGVYQmxJR2x1YzNSaGJtTmxiMllnUjJWdVpYSmhkRzl5TGx4dUlDQWdJSFpoY2lCblpXNWxjbUYwYjNJZ1BTQmZUMkpxWldOMEpHTnlaV0YwWlNnb2IzVjBaWEpHYmlCOGZDQkhaVzVsY21GMGIzSXBMbkJ5YjNSdmRIbHdaU2s3WEc1Y2JpQWdJQ0JuWlc1bGNtRjBiM0l1WDJsdWRtOXJaU0E5SUcxaGEyVkpiblp2YTJWTlpYUm9iMlFvYVc1dVpYSkdiaXdnYzJWc1ppQjhmQ0J1ZFd4c0xDQnVaWGNnUTI5dWRHVjRkQ2gwY25sTWIyTnpUR2x6ZENCOGZDQmJYU2twTzF4dVhHNGdJQ0FnY21WMGRYSnVJR2RsYm1WeVlYUnZjanRjYmlBZ2ZWeHVJQ0J5ZFc1MGFXMWxMbmR5WVhBZ1BTQjNjbUZ3TzF4dVhHNGdJQzh2SUZSeWVTOWpZWFJqYUNCb1pXeHdaWElnZEc4Z2JXbHVhVzFwZW1VZ1pHVnZjSFJwYldsNllYUnBiMjV6TGlCU1pYUjFjbTV6SUdFZ1kyOXRjR3hsZEdsdmJseHVJQ0F2THlCeVpXTnZjbVFnYkdsclpTQmpiMjUwWlhoMExuUnllVVZ1ZEhKcFpYTmJhVjB1WTI5dGNHeGxkR2x2Ymk0Z1ZHaHBjeUJwYm5SbGNtWmhZMlVnWTI5MWJHUmNiaUFnTHk4Z2FHRjJaU0JpWldWdUlDaGhibVFnZDJGeklIQnlaWFpwYjNWemJIa3BJR1JsYzJsbmJtVmtJSFJ2SUhSaGEyVWdZU0JqYkc5emRYSmxJSFJ2SUdKbFhHNGdJQzh2SUdsdWRtOXJaV1FnZDJsMGFHOTFkQ0JoY21kMWJXVnVkSE1zSUdKMWRDQnBiaUJoYkd3Z2RHaGxJR05oYzJWeklIZGxJR05oY21VZ1lXSnZkWFFnZDJWY2JpQWdMeThnWVd4eVpXRmtlU0JvWVhabElHRnVJR1Y0YVhOMGFXNW5JRzFsZEdodlpDQjNaU0IzWVc1MElIUnZJR05oYkd3c0lITnZJSFJvWlhKbEozTWdibThnYm1WbFpGeHVJQ0F2THlCMGJ5QmpjbVZoZEdVZ1lTQnVaWGNnWm5WdVkzUnBiMjRnYjJKcVpXTjBMaUJYWlNCallXNGdaWFpsYmlCblpYUWdZWGRoZVNCM2FYUm9JR0Z6YzNWdGFXNW5YRzRnSUM4dklIUm9aU0J0WlhSb2IyUWdkR0ZyWlhNZ1pYaGhZM1JzZVNCdmJtVWdZWEpuZFcxbGJuUXNJSE5wYm1ObElIUm9ZWFFnYUdGd2NHVnVjeUIwYnlCaVpTQjBjblZsWEc0Z0lDOHZJR2x1SUdWMlpYSjVJR05oYzJVc0lITnZJSGRsSUdSdmJpZDBJR2hoZG1VZ2RHOGdkRzkxWTJnZ2RHaGxJR0Z5WjNWdFpXNTBjeUJ2WW1wbFkzUXVJRlJvWlZ4dUlDQXZMeUJ2Ym14NUlHRmtaR2wwYVc5dVlXd2dZV3hzYjJOaGRHbHZiaUJ5WlhGMWFYSmxaQ0JwY3lCMGFHVWdZMjl0Y0d4bGRHbHZiaUJ5WldOdmNtUXNJSGRvYVdOb1hHNGdJQzh2SUdoaGN5QmhJSE4wWVdKc1pTQnphR0Z3WlNCaGJtUWdjMjhnYUc5d1pXWjFiR3g1SUhOb2IzVnNaQ0JpWlNCamFHVmhjQ0IwYnlCaGJHeHZZMkYwWlM1Y2JpQWdablZ1WTNScGIyNGdkSEo1UTJGMFkyZ29abTRzSUc5aWFpd2dZWEpuS1NCN1hHNGdJQ0FnZEhKNUlIdGNiaUFnSUNBZ0lISmxkSFZ5YmlCN0lIUjVjR1U2SUZ3aWJtOXliV0ZzWENJc0lHRnlaem9nWm00dVkyRnNiQ2h2WW1vc0lHRnlaeWtnZlR0Y2JpQWdJQ0I5SUdOaGRHTm9JQ2hsY25JcElIdGNiaUFnSUNBZ0lISmxkSFZ5YmlCN0lIUjVjR1U2SUZ3aWRHaHliM2RjSWl3Z1lYSm5PaUJsY25JZ2ZUdGNiaUFnSUNCOVhHNGdJSDFjYmx4dUlDQjJZWElnUjJWdVUzUmhkR1ZUZFhOd1pXNWtaV1JUZEdGeWRDQTlJRndpYzNWemNHVnVaR1ZrVTNSaGNuUmNJanRjYmlBZ2RtRnlJRWRsYmxOMFlYUmxVM1Z6Y0dWdVpHVmtXV2xsYkdRZ1BTQmNJbk4xYzNCbGJtUmxaRmxwWld4a1hDSTdYRzRnSUhaaGNpQkhaVzVUZEdGMFpVVjRaV04xZEdsdVp5QTlJRndpWlhobFkzVjBhVzVuWENJN1hHNGdJSFpoY2lCSFpXNVRkR0YwWlVOdmJYQnNaWFJsWkNBOUlGd2lZMjl0Y0d4bGRHVmtYQ0k3WEc1Y2JpQWdMeThnVW1WMGRYSnVhVzVuSUhSb2FYTWdiMkpxWldOMElHWnliMjBnZEdobElHbHVibVZ5Um00Z2FHRnpJSFJvWlNCellXMWxJR1ZtWm1WamRDQmhjMXh1SUNBdkx5QmljbVZoYTJsdVp5QnZkWFFnYjJZZ2RHaGxJR1JwYzNCaGRHTm9JSE4zYVhSamFDQnpkR0YwWlcxbGJuUXVYRzRnSUhaaGNpQkRiMjUwYVc1MVpWTmxiblJwYm1Wc0lEMGdlMzA3WEc1Y2JpQWdMeThnUkhWdGJYa2dZMjl1YzNSeWRXTjBiM0lnWm5WdVkzUnBiMjV6SUhSb1lYUWdkMlVnZFhObElHRnpJSFJvWlNBdVkyOXVjM1J5ZFdOMGIzSWdZVzVrWEc0Z0lDOHZJQzVqYjI1emRISjFZM1J2Y2k1d2NtOTBiM1I1Y0dVZ2NISnZjR1Z5ZEdsbGN5Qm1iM0lnWm5WdVkzUnBiMjV6SUhSb1lYUWdjbVYwZFhKdUlFZGxibVZ5WVhSdmNseHVJQ0F2THlCdlltcGxZM1J6TGlCR2IzSWdablZzYkNCemNHVmpJR052YlhCc2FXRnVZMlVzSUhsdmRTQnRZWGtnZDJsemFDQjBieUJqYjI1bWFXZDFjbVVnZVc5MWNseHVJQ0F2THlCdGFXNXBabWxsY2lCdWIzUWdkRzhnYldGdVoyeGxJSFJvWlNCdVlXMWxjeUJ2WmlCMGFHVnpaU0IwZDI4Z1puVnVZM1JwYjI1ekxseHVJQ0JtZFc1amRHbHZiaUJIWlc1bGNtRjBiM0lvS1NCN2ZWeHVJQ0JtZFc1amRHbHZiaUJIWlc1bGNtRjBiM0pHZFc1amRHbHZiaWdwSUh0OVhHNGdJR1oxYm1OMGFXOXVJRWRsYm1WeVlYUnZja1oxYm1OMGFXOXVVSEp2ZEc5MGVYQmxLQ2tnZTMxY2JseHVJQ0IyWVhJZ1IzQWdQU0JIWlc1bGNtRjBiM0pHZFc1amRHbHZibEJ5YjNSdmRIbHdaUzV3Y205MGIzUjVjR1VnUFNCSFpXNWxjbUYwYjNJdWNISnZkRzkwZVhCbE8xeHVJQ0JIWlc1bGNtRjBiM0pHZFc1amRHbHZiaTV3Y205MGIzUjVjR1VnUFNCSGNDNWpiMjV6ZEhKMVkzUnZjaUE5SUVkbGJtVnlZWFJ2Y2taMWJtTjBhVzl1VUhKdmRHOTBlWEJsTzF4dUlDQkhaVzVsY21GMGIzSkdkVzVqZEdsdmJsQnliM1J2ZEhsd1pTNWpiMjV6ZEhKMVkzUnZjaUE5SUVkbGJtVnlZWFJ2Y2taMWJtTjBhVzl1TzF4dUlDQkhaVzVsY21GMGIzSkdkVzVqZEdsdmJpNWthWE53YkdGNVRtRnRaU0E5SUZ3aVIyVnVaWEpoZEc5eVJuVnVZM1JwYjI1Y0lqdGNibHh1SUNBdkx5QklaV3h3WlhJZ1ptOXlJR1JsWm1sdWFXNW5JSFJvWlNBdWJtVjRkQ3dnTG5Sb2NtOTNMQ0JoYm1RZ0xuSmxkSFZ5YmlCdFpYUm9iMlJ6SUc5bUlIUm9aVnh1SUNBdkx5QkpkR1Z5WVhSdmNpQnBiblJsY21aaFkyVWdhVzRnZEdWeWJYTWdiMllnWVNCemFXNW5iR1VnTGw5cGJuWnZhMlVnYldWMGFHOWtMbHh1SUNCbWRXNWpkR2x2YmlCa1pXWnBibVZKZEdWeVlYUnZjazFsZEdodlpITW9jSEp2ZEc5MGVYQmxLU0I3WEc0Z0lDQWdXMXdpYm1WNGRGd2lMQ0JjSW5Sb2NtOTNYQ0lzSUZ3aWNtVjBkWEp1WENKZExtWnZja1ZoWTJnb1puVnVZM1JwYjI0Z0tHMWxkR2h2WkNrZ2UxeHVJQ0FnSUNBZ2NISnZkRzkwZVhCbFcyMWxkR2h2WkYwZ1BTQm1kVzVqZEdsdmJpQW9ZWEpuS1NCN1hHNGdJQ0FnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMbDlwYm5admEyVW9iV1YwYUc5a0xDQmhjbWNwTzF4dUlDQWdJQ0FnZlR0Y2JpQWdJQ0I5S1R0Y2JpQWdmVnh1WEc0Z0lISjFiblJwYldVdWFYTkhaVzVsY21GMGIzSkdkVzVqZEdsdmJpQTlJR1oxYm1OMGFXOXVJQ2huWlc1R2RXNHBJSHRjYmlBZ0lDQjJZWElnWTNSdmNpQTlJSFI1Y0dWdlppQm5aVzVHZFc0Z1BUMDlJRndpWm5WdVkzUnBiMjVjSWlBbUppQm5aVzVHZFc0dVkyOXVjM1J5ZFdOMGIzSTdYRzRnSUNBZ2NtVjBkWEp1SUdOMGIzSWdQeUJqZEc5eUlEMDlQU0JIWlc1bGNtRjBiM0pHZFc1amRHbHZiaUI4ZkZ4dUlDQWdJQzh2SUVadmNpQjBhR1VnYm1GMGFYWmxJRWRsYm1WeVlYUnZja1oxYm1OMGFXOXVJR052Ym5OMGNuVmpkRzl5TENCMGFHVWdZbVZ6ZENCM1pTQmpZVzVjYmlBZ0lDQXZMeUJrYnlCcGN5QjBieUJqYUdWamF5QnBkSE1nTG01aGJXVWdjSEp2Y0dWeWRIa3VYRzRnSUNBZ0tHTjBiM0l1WkdsemNHeGhlVTVoYldVZ2ZId2dZM1J2Y2k1dVlXMWxLU0E5UFQwZ1hDSkhaVzVsY21GMGIzSkdkVzVqZEdsdmJsd2lJRG9nWm1Gc2MyVTdYRzRnSUgwN1hHNWNiaUFnY25WdWRHbHRaUzV0WVhKcklEMGdablZ1WTNScGIyNGdLR2RsYmtaMWJpa2dlMXh1SUNBZ0lHZGxia1oxYmk1ZlgzQnliM1J2WDE4Z1BTQkhaVzVsY21GMGIzSkdkVzVqZEdsdmJsQnliM1J2ZEhsd1pUdGNiaUFnSUNCblpXNUdkVzR1Y0hKdmRHOTBlWEJsSUQwZ1gwOWlhbVZqZENSamNtVmhkR1VvUjNBcE8xeHVJQ0FnSUhKbGRIVnliaUJuWlc1R2RXNDdYRzRnSUgwN1hHNWNiaUFnTHk4Z1YybDBhR2x1SUhSb1pTQmliMlI1SUc5bUlHRnVlU0JoYzNsdVl5Qm1kVzVqZEdsdmJpd2dZR0YzWVdsMElIaGdJR2x6SUhSeVlXNXpabTl5YldWa0lIUnZYRzRnSUM4dklHQjVhV1ZzWkNCeVpXZGxibVZ5WVhSdmNsSjFiblJwYldVdVlYZHlZWEFvZUNsZ0xDQnpieUIwYUdGMElIUm9aU0J5ZFc1MGFXMWxJR05oYmlCMFpYTjBYRzRnSUM4dklHQjJZV3gxWlNCcGJuTjBZVzVqWlc5bUlFRjNZV2wwUVhKbmRXMWxiblJnSUhSdklHUmxkR1Z5YldsdVpTQnBaaUIwYUdVZ2VXbGxiR1JsWkNCMllXeDFaU0JwYzF4dUlDQXZMeUJ0WldGdWRDQjBieUJpWlNCaGQyRnBkR1ZrTGlCVGIyMWxJRzFoZVNCamIyNXphV1JsY2lCMGFHVWdibUZ0WlNCdlppQjBhR2x6SUcxbGRHaHZaQ0IwYjI5Y2JpQWdMeThnWTNWMFpYTjVMQ0JpZFhRZ2RHaGxlU0JoY21VZ1kzVnliWFZrWjJWdmJuTXVYRzRnSUhKMWJuUnBiV1V1WVhkeVlYQWdQU0JtZFc1amRHbHZiaUFvWVhKbktTQjdYRzRnSUNBZ2NtVjBkWEp1SUc1bGR5QkJkMkZwZEVGeVozVnRaVzUwS0dGeVp5azdYRzRnSUgwN1hHNWNiaUFnWm5WdVkzUnBiMjRnUVhkaGFYUkJjbWQxYldWdWRDaGhjbWNwSUh0Y2JpQWdJQ0IwYUdsekxtRnlaeUE5SUdGeVp6dGNiaUFnZlZ4dVhHNGdJR1oxYm1OMGFXOXVJRUZ6ZVc1alNYUmxjbUYwYjNJb1oyVnVaWEpoZEc5eUtTQjdYRzRnSUNBZ0x5OGdWR2hwY3lCcGJuWnZhMlVnWm5WdVkzUnBiMjRnYVhNZ2QzSnBkSFJsYmlCcGJpQmhJSE4wZVd4bElIUm9ZWFFnWVhOemRXMWxjeUJ6YjIxbFhHNGdJQ0FnTHk4Z1kyRnNiR2x1WnlCbWRXNWpkR2x2YmlBb2IzSWdVSEp2YldselpTa2dkMmxzYkNCb1lXNWtiR1VnWlhoalpYQjBhVzl1Y3k1Y2JpQWdJQ0JtZFc1amRHbHZiaUJwYm5admEyVW9iV1YwYUc5a0xDQmhjbWNwSUh0Y2JpQWdJQ0FnSUhaaGNpQnlaWE4xYkhRZ1BTQm5aVzVsY21GMGIzSmJiV1YwYUc5a1hTaGhjbWNwTzF4dUlDQWdJQ0FnZG1GeUlIWmhiSFZsSUQwZ2NtVnpkV3gwTG5aaGJIVmxPMXh1SUNBZ0lDQWdjbVYwZFhKdUlIWmhiSFZsSUdsdWMzUmhibU5sYjJZZ1FYZGhhWFJCY21kMWJXVnVkQ0EvSUY5UWNtOXRhWE5sTG5KbGMyOXNkbVVvZG1Gc2RXVXVZWEpuS1M1MGFHVnVLR2x1ZG05clpVNWxlSFFzSUdsdWRtOXJaVlJvY205M0tTQTZJRjlRY205dGFYTmxMbkpsYzI5c2RtVW9kbUZzZFdVcExuUm9aVzRvWm5WdVkzUnBiMjRnS0hWdWQzSmhjSEJsWkNrZ2UxeHVJQ0FnSUNBZ0lDQXZMeUJYYUdWdUlHRWdlV2xsYkdSbFpDQlFjbTl0YVhObElHbHpJSEpsYzI5c2RtVmtMQ0JwZEhNZ1ptbHVZV3dnZG1Gc2RXVWdZbVZqYjIxbGMxeHVJQ0FnSUNBZ0lDQXZMeUIwYUdVZ0xuWmhiSFZsSUc5bUlIUm9aU0JRY205dGFYTmxQSHQyWVd4MVpTeGtiMjVsZlQ0Z2NtVnpkV3gwSUdadmNpQjBhR1ZjYmlBZ0lDQWdJQ0FnTHk4Z1kzVnljbVZ1ZENCcGRHVnlZWFJwYjI0dUlFbG1JSFJvWlNCUWNtOXRhWE5sSUdseklISmxhbVZqZEdWa0xDQm9iM2RsZG1WeUxDQjBhR1ZjYmlBZ0lDQWdJQ0FnTHk4Z2NtVnpkV3gwSUdadmNpQjBhR2x6SUdsMFpYSmhkR2x2YmlCM2FXeHNJR0psSUhKbGFtVmpkR1ZrSUhkcGRHZ2dkR2hsSUhOaGJXVmNiaUFnSUNBZ0lDQWdMeThnY21WaGMyOXVMaUJPYjNSbElIUm9ZWFFnY21WcVpXTjBhVzl1Y3lCdlppQjVhV1ZzWkdWa0lGQnliMjFwYzJWeklHRnlaU0J1YjNSY2JpQWdJQ0FnSUNBZ0x5OGdkR2h5YjNkdUlHSmhZMnNnYVc1MGJ5QjBhR1VnWjJWdVpYSmhkRzl5SUdaMWJtTjBhVzl1TENCaGN5QnBjeUIwYUdVZ1kyRnpaVnh1SUNBZ0lDQWdJQ0F2THlCM2FHVnVJR0Z1SUdGM1lXbDBaV1FnVUhKdmJXbHpaU0JwY3lCeVpXcGxZM1JsWkM0Z1ZHaHBjeUJrYVdabVpYSmxibU5sSUdsdVhHNGdJQ0FnSUNBZ0lDOHZJR0psYUdGMmFXOXlJR0psZEhkbFpXNGdlV2xsYkdRZ1lXNWtJR0YzWVdsMElHbHpJR2x0Y0c5eWRHRnVkQ3dnWW1WallYVnpaU0JwZEZ4dUlDQWdJQ0FnSUNBdkx5QmhiR3h2ZDNNZ2RHaGxJR052Ym5OMWJXVnlJSFJ2SUdSbFkybGtaU0IzYUdGMElIUnZJR1J2SUhkcGRHZ2dkR2hsSUhscFpXeGtaV1JjYmlBZ0lDQWdJQ0FnTHk4Z2NtVnFaV04wYVc5dUlDaHpkMkZzYkc5M0lHbDBJR0Z1WkNCamIyNTBhVzUxWlN3Z2JXRnVkV0ZzYkhrZ0xuUm9jbTkzSUdsMElHSmhZMnRjYmlBZ0lDQWdJQ0FnTHk4Z2FXNTBieUIwYUdVZ1oyVnVaWEpoZEc5eUxDQmhZbUZ1Wkc5dUlHbDBaWEpoZEdsdmJpd2dkMmhoZEdWMlpYSXBMaUJYYVhSb1hHNGdJQ0FnSUNBZ0lDOHZJR0YzWVdsMExDQmllU0JqYjI1MGNtRnpkQ3dnZEdobGNtVWdhWE1nYm04Z2IzQndiM0owZFc1cGRIa2dkRzhnWlhoaGJXbHVaU0IwYUdWY2JpQWdJQ0FnSUNBZ0x5OGdjbVZxWldOMGFXOXVJSEpsWVhOdmJpQnZkWFJ6YVdSbElIUm9aU0JuWlc1bGNtRjBiM0lnWm5WdVkzUnBiMjRzSUhOdklIUm9aVnh1SUNBZ0lDQWdJQ0F2THlCdmJteDVJRzl3ZEdsdmJpQnBjeUIwYnlCMGFISnZkeUJwZENCbWNtOXRJSFJvWlNCaGQyRnBkQ0JsZUhCeVpYTnphVzl1TENCaGJtUmNiaUFnSUNBZ0lDQWdMeThnYkdWMElIUm9aU0JuWlc1bGNtRjBiM0lnWm5WdVkzUnBiMjRnYUdGdVpHeGxJSFJvWlNCbGVHTmxjSFJwYjI0dVhHNGdJQ0FnSUNBZ0lISmxjM1ZzZEM1MllXeDFaU0E5SUhWdWQzSmhjSEJsWkR0Y2JpQWdJQ0FnSUNBZ2NtVjBkWEp1SUhKbGMzVnNkRHRjYmlBZ0lDQWdJSDBwTzF4dUlDQWdJSDFjYmx4dUlDQWdJR2xtSUNoMGVYQmxiMllnY0hKdlkyVnpjeUE5UFQwZ1hDSnZZbXBsWTNSY0lpQW1KaUJ3Y205alpYTnpMbVJ2YldGcGJpa2dlMXh1SUNBZ0lDQWdhVzUyYjJ0bElEMGdjSEp2WTJWemN5NWtiMjFoYVc0dVltbHVaQ2hwYm5admEyVXBPMXh1SUNBZ0lIMWNibHh1SUNBZ0lIWmhjaUJwYm5admEyVk9aWGgwSUQwZ2FXNTJiMnRsTG1KcGJtUW9aMlZ1WlhKaGRHOXlMQ0JjSW01bGVIUmNJaWs3WEc0Z0lDQWdkbUZ5SUdsdWRtOXJaVlJvY205M0lEMGdhVzUyYjJ0bExtSnBibVFvWjJWdVpYSmhkRzl5TENCY0luUm9jbTkzWENJcE8xeHVJQ0FnSUhaaGNpQnBiblp2YTJWU1pYUjFjbTRnUFNCcGJuWnZhMlV1WW1sdVpDaG5aVzVsY21GMGIzSXNJRndpY21WMGRYSnVYQ0lwTzF4dUlDQWdJSFpoY2lCd2NtVjJhVzkxYzFCeWIyMXBjMlU3WEc1Y2JpQWdJQ0JtZFc1amRHbHZiaUJsYm5GMVpYVmxLRzFsZEdodlpDd2dZWEpuS1NCN1hHNGdJQ0FnSUNCMllYSWdaVzV4ZFdWMVpWSmxjM1ZzZENBOVhHNGdJQ0FnSUNBdkx5QkpaaUJsYm5GMVpYVmxJR2hoY3lCaVpXVnVJR05oYkd4bFpDQmlaV1p2Y21Vc0lIUm9aVzRnZDJVZ2QyRnVkQ0IwYnlCM1lXbDBJSFZ1ZEdsc1hHNGdJQ0FnSUNBdkx5QmhiR3dnY0hKbGRtbHZkWE1nVUhKdmJXbHpaWE1nYUdGMlpTQmlaV1Z1SUhKbGMyOXNkbVZrSUdKbFptOXlaU0JqWVd4c2FXNW5JR2x1ZG05clpTeGNiaUFnSUNBZ0lDOHZJSE52SUhSb1lYUWdjbVZ6ZFd4MGN5QmhjbVVnWVd4M1lYbHpJR1JsYkdsMlpYSmxaQ0JwYmlCMGFHVWdZMjl5Y21WamRDQnZjbVJsY2k0Z1NXWmNiaUFnSUNBZ0lDOHZJR1Z1Y1hWbGRXVWdhR0Z6SUc1dmRDQmlaV1Z1SUdOaGJHeGxaQ0JpWldadmNtVXNJSFJvWlc0Z2FYUWdhWE1nYVcxd2IzSjBZVzUwSUhSdlhHNGdJQ0FnSUNBdkx5QmpZV3hzSUdsdWRtOXJaU0JwYlcxbFpHbGhkR1ZzZVN3Z2QybDBhRzkxZENCM1lXbDBhVzVuSUc5dUlHRWdZMkZzYkdKaFkyc2dkRzhnWm1seVpTeGNiaUFnSUNBZ0lDOHZJSE52SUhSb1lYUWdkR2hsSUdGemVXNWpJR2RsYm1WeVlYUnZjaUJtZFc1amRHbHZiaUJvWVhNZ2RHaGxJRzl3Y0c5eWRIVnVhWFI1SUhSdklHUnZYRzRnSUNBZ0lDQXZMeUJoYm5rZ2JtVmpaWE56WVhKNUlITmxkSFZ3SUdsdUlHRWdjSEpsWkdsamRHRmliR1VnZDJGNUxpQlVhR2x6SUhCeVpXUnBZM1JoWW1sc2FYUjVYRzRnSUNBZ0lDQXZMeUJwY3lCM2FIa2dkR2hsSUZCeWIyMXBjMlVnWTI5dWMzUnlkV04wYjNJZ2MzbHVZMmh5YjI1dmRYTnNlU0JwYm5admEyVnpJR2wwYzF4dUlDQWdJQ0FnTHk4Z1pYaGxZM1YwYjNJZ1kyRnNiR0poWTJzc0lHRnVaQ0IzYUhrZ1lYTjVibU1nWm5WdVkzUnBiMjV6SUhONWJtTm9jbTl1YjNWemJIbGNiaUFnSUNBZ0lDOHZJR1Y0WldOMWRHVWdZMjlrWlNCaVpXWnZjbVVnZEdobElHWnBjbk4wSUdGM1lXbDBMaUJUYVc1alpTQjNaU0JwYlhCc1pXMWxiblFnYzJsdGNHeGxYRzRnSUNBZ0lDQXZMeUJoYzNsdVl5Qm1kVzVqZEdsdmJuTWdhVzRnZEdWeWJYTWdiMllnWVhONWJtTWdaMlZ1WlhKaGRHOXljeXdnYVhRZ2FYTWdaWE53WldOcFlXeHNlVnh1SUNBZ0lDQWdMeThnYVcxd2IzSjBZVzUwSUhSdklHZGxkQ0IwYUdseklISnBaMmgwTENCbGRtVnVJSFJvYjNWbmFDQnBkQ0J5WlhGMWFYSmxjeUJqWVhKbExseHVJQ0FnSUNBZ2NISmxkbWx2ZFhOUWNtOXRhWE5sSUQ4Z2NISmxkbWx2ZFhOUWNtOXRhWE5sTG5Sb1pXNG9ablZ1WTNScGIyNGdLQ2tnZTF4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnYVc1MmIydGxLRzFsZEdodlpDd2dZWEpuS1R0Y2JpQWdJQ0FnSUgwcElEb2dibVYzSUY5UWNtOXRhWE5sS0daMWJtTjBhVzl1SUNoeVpYTnZiSFpsS1NCN1hHNGdJQ0FnSUNBZ0lISmxjMjlzZG1Vb2FXNTJiMnRsS0cxbGRHaHZaQ3dnWVhKbktTazdYRzRnSUNBZ0lDQjlLVHRjYmx4dUlDQWdJQ0FnTHk4Z1FYWnZhV1FnY0hKdmNHRm5ZWFJwYm1jZ1pXNXhkV1YxWlZKbGMzVnNkQ0JtWVdsc2RYSmxjeUIwYnlCUWNtOXRhWE5sY3lCeVpYUjFjbTVsWkNCaWVWeHVJQ0FnSUNBZ0x5OGdiR0YwWlhJZ2FXNTJiMk5oZEdsdmJuTWdiMllnZEdobElHbDBaWEpoZEc5eUxseHVJQ0FnSUNBZ2NISmxkbWx2ZFhOUWNtOXRhWE5sSUQwZ1pXNXhkV1YxWlZKbGMzVnNkRnRjSW1OaGRHTm9YQ0pkS0daMWJtTjBhVzl1SUNocFoyNXZjbVZrS1NCN2ZTazdYRzVjYmlBZ0lDQWdJSEpsZEhWeWJpQmxibkYxWlhWbFVtVnpkV3gwTzF4dUlDQWdJSDFjYmx4dUlDQWdJQzh2SUVSbFptbHVaU0IwYUdVZ2RXNXBabWxsWkNCb1pXeHdaWElnYldWMGFHOWtJSFJvWVhRZ2FYTWdkWE5sWkNCMGJ5QnBiWEJzWlcxbGJuUWdMbTVsZUhRc1hHNGdJQ0FnTHk4Z0xuUm9jbTkzTENCaGJtUWdMbkpsZEhWeWJpQW9jMlZsSUdSbFptbHVaVWwwWlhKaGRHOXlUV1YwYUc5a2N5a3VYRzRnSUNBZ2RHaHBjeTVmYVc1MmIydGxJRDBnWlc1eGRXVjFaVHRjYmlBZ2ZWeHVYRzRnSUdSbFptbHVaVWwwWlhKaGRHOXlUV1YwYUc5a2N5aEJjM2x1WTBsMFpYSmhkRzl5TG5CeWIzUnZkSGx3WlNrN1hHNWNiaUFnTHk4Z1RtOTBaU0IwYUdGMElITnBiWEJzWlNCaGMzbHVZeUJtZFc1amRHbHZibk1nWVhKbElHbHRjR3hsYldWdWRHVmtJRzl1SUhSdmNDQnZabHh1SUNBdkx5QkJjM2x1WTBsMFpYSmhkRzl5SUc5aWFtVmpkSE03SUhSb1pYa2dhblZ6ZENCeVpYUjFjbTRnWVNCUWNtOXRhWE5sSUdadmNpQjBhR1VnZG1Gc2RXVWdiMlpjYmlBZ0x5OGdkR2hsSUdacGJtRnNJSEpsYzNWc2RDQndjbTlrZFdObFpDQmllU0IwYUdVZ2FYUmxjbUYwYjNJdVhHNGdJSEoxYm5ScGJXVXVZWE41Ym1NZ1BTQm1kVzVqZEdsdmJpQW9hVzV1WlhKR2Jpd2diM1YwWlhKR2Jpd2djMlZzWml3Z2RISjVURzlqYzB4cGMzUXBJSHRjYmlBZ0lDQjJZWElnYVhSbGNpQTlJRzVsZHlCQmMzbHVZMGwwWlhKaGRHOXlLSGR5WVhBb2FXNXVaWEpHYml3Z2IzVjBaWEpHYml3Z2MyVnNaaXdnZEhKNVRHOWpjMHhwYzNRcEtUdGNibHh1SUNBZ0lISmxkSFZ5YmlCeWRXNTBhVzFsTG1selIyVnVaWEpoZEc5eVJuVnVZM1JwYjI0b2IzVjBaWEpHYmlrZ1B5QnBkR1Z5SUM4dklFbG1JRzkxZEdWeVJtNGdhWE1nWVNCblpXNWxjbUYwYjNJc0lISmxkSFZ5YmlCMGFHVWdablZzYkNCcGRHVnlZWFJ2Y2k1Y2JpQWdJQ0E2SUdsMFpYSXVibVY0ZENncExuUm9aVzRvWm5WdVkzUnBiMjRnS0hKbGMzVnNkQ2tnZTF4dUlDQWdJQ0FnY21WMGRYSnVJSEpsYzNWc2RDNWtiMjVsSUQ4Z2NtVnpkV3gwTG5aaGJIVmxJRG9nYVhSbGNpNXVaWGgwS0NrN1hHNGdJQ0FnZlNrN1hHNGdJSDA3WEc1Y2JpQWdablZ1WTNScGIyNGdiV0ZyWlVsdWRtOXJaVTFsZEdodlpDaHBibTVsY2tadUxDQnpaV3htTENCamIyNTBaWGgwS1NCN1hHNGdJQ0FnZG1GeUlITjBZWFJsSUQwZ1IyVnVVM1JoZEdWVGRYTndaVzVrWldSVGRHRnlkRHRjYmx4dUlDQWdJSEpsZEhWeWJpQm1kVzVqZEdsdmJpQnBiblp2YTJVb2JXVjBhRzlrTENCaGNtY3BJSHRjYmlBZ0lDQWdJR2xtSUNoemRHRjBaU0E5UFQwZ1IyVnVVM1JoZEdWRmVHVmpkWFJwYm1jcElIdGNiaUFnSUNBZ0lDQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtGd2lSMlZ1WlhKaGRHOXlJR2x6SUdGc2NtVmhaSGtnY25WdWJtbHVaMXdpS1R0Y2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2FXWWdLSE4wWVhSbElEMDlQU0JIWlc1VGRHRjBaVU52YlhCc1pYUmxaQ2tnZTF4dUlDQWdJQ0FnSUNCcFppQW9iV1YwYUc5a0lEMDlQU0JjSW5Sb2NtOTNYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ0lDQjBhSEp2ZHlCaGNtYzdYRzRnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNBdkx5QkNaU0JtYjNKbmFYWnBibWNzSUhCbGNpQXlOUzR6TGpNdU15NHpJRzltSUhSb1pTQnpjR1ZqT2x4dUlDQWdJQ0FnSUNBdkx5Qm9kSFJ3Y3pvdkwzQmxiM0JzWlM1dGIzcHBiR3hoTG05eVp5OSthbTl5Wlc1a2IzSm1aaTlsY3pZdFpISmhablF1YUhSdGJDTnpaV010WjJWdVpYSmhkRzl5Y21WemRXMWxYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQmtiMjVsVW1WemRXeDBLQ2s3WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUhkb2FXeGxJQ2gwY25WbEtTQjdYRzRnSUNBZ0lDQWdJSFpoY2lCa1pXeGxaMkYwWlNBOUlHTnZiblJsZUhRdVpHVnNaV2RoZEdVN1hHNGdJQ0FnSUNBZ0lHbG1JQ2hrWld4bFoyRjBaU2tnZTF4dUlDQWdJQ0FnSUNBZ0lHbG1JQ2h0WlhSb2IyUWdQVDA5SUZ3aWNtVjBkWEp1WENJZ2ZId2diV1YwYUc5a0lEMDlQU0JjSW5Sb2NtOTNYQ0lnSmlZZ1pHVnNaV2RoZEdVdWFYUmxjbUYwYjNKYmJXVjBhRzlrWFNBOVBUMGdkVzVrWldacGJtVmtLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQXZMeUJCSUhKbGRIVnliaUJ2Y2lCMGFISnZkeUFvZDJobGJpQjBhR1VnWkdWc1pXZGhkR1VnYVhSbGNtRjBiM0lnYUdGeklHNXZJSFJvY205M1hHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCdFpYUm9iMlFwSUdGc2QyRjVjeUIwWlhKdGFXNWhkR1Z6SUhSb1pTQjVhV1ZzWkNvZ2JHOXZjQzVjYmlBZ0lDQWdJQ0FnSUNBZ0lHTnZiblJsZUhRdVpHVnNaV2RoZEdVZ1BTQnVkV3hzTzF4dVhHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCSlppQjBhR1VnWkdWc1pXZGhkR1VnYVhSbGNtRjBiM0lnYUdGeklHRWdjbVYwZFhKdUlHMWxkR2h2WkN3Z1oybDJaU0JwZENCaFhHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCamFHRnVZMlVnZEc4Z1kyeGxZVzRnZFhBdVhHNGdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ2NtVjBkWEp1VFdWMGFHOWtJRDBnWkdWc1pXZGhkR1V1YVhSbGNtRjBiM0piWENKeVpYUjFjbTVjSWwwN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JwWmlBb2NtVjBkWEp1VFdWMGFHOWtLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCeVpXTnZjbVFnUFNCMGNubERZWFJqYUNoeVpYUjFjbTVOWlhSb2IyUXNJR1JsYkdWbllYUmxMbWwwWlhKaGRHOXlMQ0JoY21jcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCcFppQW9jbVZqYjNKa0xuUjVjR1VnUFQwOUlGd2lkR2h5YjNkY0lpa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQzh2SUVsbUlIUm9aU0J5WlhSMWNtNGdiV1YwYUc5a0lIUm9jbVYzSUdGdUlHVjRZMlZ3ZEdsdmJpd2diR1YwSUhSb1lYUmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMeUJsZUdObGNIUnBiMjRnY0hKbGRtRnBiQ0J2ZG1WeUlIUm9aU0J2Y21sbmFXNWhiQ0J5WlhSMWNtNGdiM0lnZEdoeWIzY3VYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiV1YwYUc5a0lEMGdYQ0owYUhKdmQxd2lPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR0Z5WnlBOUlISmxZMjl5WkM1aGNtYzdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZMjl1ZEdsdWRXVTdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tHMWxkR2h2WkNBOVBUMGdYQ0p5WlhSMWNtNWNJaWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0F2THlCRGIyNTBhVzUxWlNCM2FYUm9JSFJvWlNCdmRYUmxjaUJ5WlhSMWNtNHNJRzV2ZHlCMGFHRjBJSFJvWlNCa1pXeGxaMkYwWlZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0F2THlCcGRHVnlZWFJ2Y2lCb1lYTWdZbVZsYmlCMFpYSnRhVzVoZEdWa0xseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCamIyNTBhVzUxWlR0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lDQWdJQ0IyWVhJZ2NtVmpiM0prSUQwZ2RISjVRMkYwWTJnb1pHVnNaV2RoZEdVdWFYUmxjbUYwYjNKYmJXVjBhRzlrWFN3Z1pHVnNaV2RoZEdVdWFYUmxjbUYwYjNJc0lHRnlaeWs3WEc1Y2JpQWdJQ0FnSUNBZ0lDQnBaaUFvY21WamIzSmtMblI1Y0dVZ1BUMDlJRndpZEdoeWIzZGNJaWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl1ZEdWNGRDNWtaV3hsWjJGMFpTQTlJRzUxYkd3N1hHNWNiaUFnSUNBZ0lDQWdJQ0FnSUM4dklFeHBhMlVnY21WMGRYSnVhVzVuSUdkbGJtVnlZWFJ2Y2k1MGFISnZkeWgxYm1OaGRXZG9kQ2tzSUdKMWRDQjNhWFJvYjNWMElIUm9aVnh1SUNBZ0lDQWdJQ0FnSUNBZ0x5OGdiM1psY21obFlXUWdiMllnWVc0Z1pYaDBjbUVnWm5WdVkzUnBiMjRnWTJGc2JDNWNiaUFnSUNBZ0lDQWdJQ0FnSUcxbGRHaHZaQ0E5SUZ3aWRHaHliM2RjSWp0Y2JpQWdJQ0FnSUNBZ0lDQWdJR0Z5WnlBOUlISmxZMjl5WkM1aGNtYzdYRzRnSUNBZ0lDQWdJQ0FnSUNCamIyNTBhVzUxWlR0Y2JpQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNBdkx5QkVaV3hsWjJGMFpTQm5aVzVsY21GMGIzSWdjbUZ1SUdGdVpDQm9ZVzVrYkdWa0lHbDBjeUJ2ZDI0Z1pYaGpaWEIwYVc5dWN5QnpiMXh1SUNBZ0lDQWdJQ0FnSUM4dklISmxaMkZ5Wkd4bGMzTWdiMllnZDJoaGRDQjBhR1VnYldWMGFHOWtJSGRoY3l3Z2QyVWdZMjl1ZEdsdWRXVWdZWE1nYVdZZ2FYUWdhWE5jYmlBZ0lDQWdJQ0FnSUNBdkx5QmNJbTVsZUhSY0lpQjNhWFJvSUdGdUlIVnVaR1ZtYVc1bFpDQmhjbWN1WEc0Z0lDQWdJQ0FnSUNBZ2JXVjBhRzlrSUQwZ1hDSnVaWGgwWENJN1hHNGdJQ0FnSUNBZ0lDQWdZWEpuSUQwZ2RXNWtaV1pwYm1Wa08xeHVYRzRnSUNBZ0lDQWdJQ0FnZG1GeUlHbHVabThnUFNCeVpXTnZjbVF1WVhKbk8xeHVJQ0FnSUNBZ0lDQWdJR2xtSUNocGJtWnZMbVJ2Ym1VcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdOdmJuUmxlSFJiWkdWc1pXZGhkR1V1Y21WemRXeDBUbUZ0WlYwZ1BTQnBibVp2TG5aaGJIVmxPMXh1SUNBZ0lDQWdJQ0FnSUNBZ1kyOXVkR1Y0ZEM1dVpYaDBJRDBnWkdWc1pXZGhkR1V1Ym1WNGRFeHZZenRjYmlBZ0lDQWdJQ0FnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdjM1JoZEdVZ1BTQkhaVzVUZEdGMFpWTjFjM0JsYm1SbFpGbHBaV3hrTzF4dUlDQWdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlHbHVabTg3WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJQ0FnWTI5dWRHVjRkQzVrWld4bFoyRjBaU0E5SUc1MWJHdzdYRzRnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNCcFppQW9iV1YwYUc5a0lEMDlQU0JjSW01bGVIUmNJaWtnZTF4dUlDQWdJQ0FnSUNBZ0lHbG1JQ2h6ZEdGMFpTQTlQVDBnUjJWdVUzUmhkR1ZUZFhOd1pXNWtaV1JaYVdWc1pDa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ1kyOXVkR1Y0ZEM1elpXNTBJRDBnWVhKbk8xeHVJQ0FnSUNBZ0lDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCamIyNTBaWGgwTG5ObGJuUWdQU0IxYm1SbFptbHVaV1E3WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQjlJR1ZzYzJVZ2FXWWdLRzFsZEdodlpDQTlQVDBnWENKMGFISnZkMXdpS1NCN1hHNGdJQ0FnSUNBZ0lDQWdhV1lnS0hOMFlYUmxJRDA5UFNCSFpXNVRkR0YwWlZOMWMzQmxibVJsWkZOMFlYSjBLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnpkR0YwWlNBOUlFZGxibE4wWVhSbFEyOXRjR3hsZEdWa08xeHVJQ0FnSUNBZ0lDQWdJQ0FnZEdoeWIzY2dZWEpuTzF4dUlDQWdJQ0FnSUNBZ0lIMWNibHh1SUNBZ0lDQWdJQ0FnSUdsbUlDaGpiMjUwWlhoMExtUnBjM0JoZEdOb1JYaGpaWEIwYVc5dUtHRnlaeWtwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQzh2SUVsbUlIUm9aU0JrYVhOd1lYUmphR1ZrSUdWNFkyVndkR2x2YmlCM1lYTWdZMkYxWjJoMElHSjVJR0VnWTJGMFkyZ2dZbXh2WTJzc1hHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCMGFHVnVJR3hsZENCMGFHRjBJR05oZEdOb0lHSnNiMk5ySUdoaGJtUnNaU0IwYUdVZ1pYaGpaWEIwYVc5dUlHNXZjbTFoYkd4NUxseHVJQ0FnSUNBZ0lDQWdJQ0FnYldWMGFHOWtJRDBnWENKdVpYaDBYQ0k3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmhjbWNnUFNCMWJtUmxabWx1WldRN1hHNGdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0I5SUdWc2MyVWdhV1lnS0cxbGRHaHZaQ0E5UFQwZ1hDSnlaWFIxY201Y0lpa2dlMXh1SUNBZ0lDQWdJQ0FnSUdOdmJuUmxlSFF1WVdKeWRYQjBLRndpY21WMGRYSnVYQ0lzSUdGeVp5azdYRzRnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNCemRHRjBaU0E5SUVkbGJsTjBZWFJsUlhobFkzVjBhVzVuTzF4dVhHNGdJQ0FnSUNBZ0lIWmhjaUJ5WldOdmNtUWdQU0IwY25sRFlYUmphQ2hwYm01bGNrWnVMQ0J6Wld4bUxDQmpiMjUwWlhoMEtUdGNiaUFnSUNBZ0lDQWdhV1lnS0hKbFkyOXlaQzUwZVhCbElEMDlQU0JjSW01dmNtMWhiRndpS1NCN1hHNGdJQ0FnSUNBZ0lDQWdMeThnU1dZZ1lXNGdaWGhqWlhCMGFXOXVJR2x6SUhSb2NtOTNiaUJtY205dElHbHVibVZ5Um00c0lIZGxJR3hsWVhabElITjBZWFJsSUQwOVBWeHVJQ0FnSUNBZ0lDQWdJQzh2SUVkbGJsTjBZWFJsUlhobFkzVjBhVzVuSUdGdVpDQnNiMjl3SUdKaFkyc2dabTl5SUdGdWIzUm9aWElnYVc1MmIyTmhkR2x2Ymk1Y2JpQWdJQ0FnSUNBZ0lDQnpkR0YwWlNBOUlHTnZiblJsZUhRdVpHOXVaU0EvSUVkbGJsTjBZWFJsUTI5dGNHeGxkR1ZrSURvZ1IyVnVVM1JoZEdWVGRYTndaVzVrWldSWmFXVnNaRHRjYmx4dUlDQWdJQ0FnSUNBZ0lIWmhjaUJwYm1adklEMGdlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RtRnNkV1U2SUhKbFkyOXlaQzVoY21jc1hHNGdJQ0FnSUNBZ0lDQWdJQ0JrYjI1bE9pQmpiMjUwWlhoMExtUnZibVZjYmlBZ0lDQWdJQ0FnSUNCOU8xeHVYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1aGNtY2dQVDA5SUVOdmJuUnBiblZsVTJWdWRHbHVaV3dwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoamIyNTBaWGgwTG1SbGJHVm5ZWFJsSUNZbUlHMWxkR2h2WkNBOVBUMGdYQ0p1WlhoMFhDSXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdMeThnUkdWc2FXSmxjbUYwWld4NUlHWnZjbWRsZENCMGFHVWdiR0Z6ZENCelpXNTBJSFpoYkhWbElITnZJSFJvWVhRZ2QyVWdaRzl1SjNSY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z1lXTmphV1JsYm5SaGJHeDVJSEJoYzNNZ2FYUWdiMjRnZEc4Z2RHaGxJR1JsYkdWbllYUmxMbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQmhjbWNnUFNCMWJtUmxabWx1WldRN1hHNGdJQ0FnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQnBibVp2TzF4dUlDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmU0JsYkhObElHbG1JQ2h5WldOdmNtUXVkSGx3WlNBOVBUMGdYQ0owYUhKdmQxd2lLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2MzUmhkR1VnUFNCSFpXNVRkR0YwWlVOdmJYQnNaWFJsWkR0Y2JpQWdJQ0FnSUNBZ0lDQXZMeUJFYVhOd1lYUmphQ0IwYUdVZ1pYaGpaWEIwYVc5dUlHSjVJR3h2YjNCcGJtY2dZbUZqYXlCaGNtOTFibVFnZEc4Z2RHaGxYRzRnSUNBZ0lDQWdJQ0FnTHk4Z1kyOXVkR1Y0ZEM1a2FYTndZWFJqYUVWNFkyVndkR2x2YmloaGNtY3BJR05oYkd3Z1lXSnZkbVV1WEc0Z0lDQWdJQ0FnSUNBZ2JXVjBhRzlrSUQwZ1hDSjBhSEp2ZDF3aU8xeHVJQ0FnSUNBZ0lDQWdJR0Z5WnlBOUlISmxZMjl5WkM1aGNtYzdYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlPMXh1SUNCOVhHNWNiaUFnTHk4Z1JHVm1hVzVsSUVkbGJtVnlZWFJ2Y2k1d2NtOTBiM1I1Y0dVdWUyNWxlSFFzZEdoeWIzY3NjbVYwZFhKdWZTQnBiaUIwWlhKdGN5QnZaaUIwYUdWY2JpQWdMeThnZFc1cFptbGxaQ0F1WDJsdWRtOXJaU0JvWld4d1pYSWdiV1YwYUc5a0xseHVJQ0JrWldacGJtVkpkR1Z5WVhSdmNrMWxkR2h2WkhNb1IzQXBPMXh1WEc0Z0lFZHdXMmwwWlhKaGRHOXlVM2x0WW05c1hTQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdkR2hwY3p0Y2JpQWdmVHRjYmx4dUlDQkhjQzUwYjFOMGNtbHVaeUE5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnSUNCeVpYUjFjbTRnWENKYmIySnFaV04wSUVkbGJtVnlZWFJ2Y2wxY0lqdGNiaUFnZlR0Y2JseHVJQ0JtZFc1amRHbHZiaUJ3ZFhOb1ZISjVSVzUwY25rb2JHOWpjeWtnZTF4dUlDQWdJSFpoY2lCbGJuUnllU0E5SUhzZ2RISjVURzlqT2lCc2IyTnpXekJkSUgwN1hHNWNiaUFnSUNCcFppQW9NU0JwYmlCc2IyTnpLU0I3WEc0Z0lDQWdJQ0JsYm5SeWVTNWpZWFJqYUV4dll5QTlJR3h2WTNOYk1WMDdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2FXWWdLRElnYVc0Z2JHOWpjeWtnZTF4dUlDQWdJQ0FnWlc1MGNua3VabWx1WVd4c2VVeHZZeUE5SUd4dlkzTmJNbDA3WEc0Z0lDQWdJQ0JsYm5SeWVTNWhablJsY2t4dll5QTlJR3h2WTNOYk0xMDdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2RHaHBjeTUwY25sRmJuUnlhV1Z6TG5CMWMyZ29aVzUwY25rcE8xeHVJQ0I5WEc1Y2JpQWdablZ1WTNScGIyNGdjbVZ6WlhSVWNubEZiblJ5ZVNobGJuUnllU2tnZTF4dUlDQWdJSFpoY2lCeVpXTnZjbVFnUFNCbGJuUnllUzVqYjIxd2JHVjBhVzl1SUh4OElIdDlPMXh1SUNBZ0lISmxZMjl5WkM1MGVYQmxJRDBnWENKdWIzSnRZV3hjSWp0Y2JpQWdJQ0JrWld4bGRHVWdjbVZqYjNKa0xtRnlaenRjYmlBZ0lDQmxiblJ5ZVM1amIyMXdiR1YwYVc5dUlEMGdjbVZqYjNKa08xeHVJQ0I5WEc1Y2JpQWdablZ1WTNScGIyNGdRMjl1ZEdWNGRDaDBjbmxNYjJOelRHbHpkQ2tnZTF4dUlDQWdJQzh2SUZSb1pTQnliMjkwSUdWdWRISjVJRzlpYW1WamRDQW9aV1ptWldOMGFYWmxiSGtnWVNCMGNua2djM1JoZEdWdFpXNTBJSGRwZEdodmRYUWdZU0JqWVhSamFGeHVJQ0FnSUM4dklHOXlJR0VnWm1sdVlXeHNlU0JpYkc5amF5a2daMmwyWlhNZ2RYTWdZU0J3YkdGalpTQjBieUJ6ZEc5eVpTQjJZV3gxWlhNZ2RHaHliM2R1SUdaeWIyMWNiaUFnSUNBdkx5QnNiMk5oZEdsdmJuTWdkMmhsY21VZ2RHaGxjbVVnYVhNZ2JtOGdaVzVqYkc5emFXNW5JSFJ5ZVNCemRHRjBaVzFsYm5RdVhHNGdJQ0FnZEdocGN5NTBjbmxGYm5SeWFXVnpJRDBnVzNzZ2RISjVURzlqT2lCY0luSnZiM1JjSWlCOVhUdGNiaUFnSUNCMGNubE1iMk56VEdsemRDNW1iM0pGWVdOb0tIQjFjMmhVY25sRmJuUnllU3dnZEdocGN5azdYRzRnSUNBZ2RHaHBjeTV5WlhObGRDaDBjblZsS1R0Y2JpQWdmVnh1WEc0Z0lISjFiblJwYldVdWEyVjVjeUE5SUdaMWJtTjBhVzl1SUNodlltcGxZM1FwSUh0Y2JpQWdJQ0IyWVhJZ2EyVjVjeUE5SUZ0ZE8xeHVJQ0FnSUdadmNpQW9kbUZ5SUd0bGVTQnBiaUJ2WW1wbFkzUXBJSHRjYmlBZ0lDQWdJR3RsZVhNdWNIVnphQ2hyWlhrcE8xeHVJQ0FnSUgxY2JpQWdJQ0JyWlhsekxuSmxkbVZ5YzJVb0tUdGNibHh1SUNBZ0lDOHZJRkpoZEdobGNpQjBhR0Z1SUhKbGRIVnlibWx1WnlCaGJpQnZZbXBsWTNRZ2QybDBhQ0JoSUc1bGVIUWdiV1YwYUc5a0xDQjNaU0JyWldWd1hHNGdJQ0FnTHk4Z2RHaHBibWR6SUhOcGJYQnNaU0JoYm1RZ2NtVjBkWEp1SUhSb1pTQnVaWGgwSUdaMWJtTjBhVzl1SUdsMGMyVnNaaTVjYmlBZ0lDQnlaWFIxY200Z1puVnVZM1JwYjI0Z2JtVjRkQ2dwSUh0Y2JpQWdJQ0FnSUhkb2FXeGxJQ2hyWlhsekxteGxibWQwYUNrZ2UxeHVJQ0FnSUNBZ0lDQjJZWElnYTJWNUlEMGdhMlY1Y3k1d2IzQW9LVHRjYmlBZ0lDQWdJQ0FnYVdZZ0tHdGxlU0JwYmlCdlltcGxZM1FwSUh0Y2JpQWdJQ0FnSUNBZ0lDQnVaWGgwTG5aaGJIVmxJRDBnYTJWNU8xeHVJQ0FnSUNBZ0lDQWdJRzVsZUhRdVpHOXVaU0E5SUdaaGJITmxPMXh1SUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJ1WlhoME8xeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQzh2SUZSdklHRjJiMmxrSUdOeVpXRjBhVzVuSUdGdUlHRmtaR2wwYVc5dVlXd2diMkpxWldOMExDQjNaU0JxZFhOMElHaGhibWNnZEdobElDNTJZV3gxWlZ4dUlDQWdJQ0FnTHk4Z1lXNWtJQzVrYjI1bElIQnliM0JsY25ScFpYTWdiMlptSUhSb1pTQnVaWGgwSUdaMWJtTjBhVzl1SUc5aWFtVmpkQ0JwZEhObGJHWXVJRlJvYVhOY2JpQWdJQ0FnSUM4dklHRnNjMjhnWlc1emRYSmxjeUIwYUdGMElIUm9aU0J0YVc1cFptbGxjaUIzYVd4c0lHNXZkQ0JoYm05dWVXMXBlbVVnZEdobElHWjFibU4wYVc5dUxseHVJQ0FnSUNBZ2JtVjRkQzVrYjI1bElEMGdkSEoxWlR0Y2JpQWdJQ0FnSUhKbGRIVnliaUJ1WlhoME8xeHVJQ0FnSUgwN1hHNGdJSDA3WEc1Y2JpQWdablZ1WTNScGIyNGdkbUZzZFdWektHbDBaWEpoWW14bEtTQjdYRzRnSUNBZ2FXWWdLR2wwWlhKaFlteGxLU0I3WEc0Z0lDQWdJQ0IyWVhJZ2FYUmxjbUYwYjNKTlpYUm9iMlFnUFNCcGRHVnlZV0pzWlZ0cGRHVnlZWFJ2Y2xONWJXSnZiRjA3WEc0Z0lDQWdJQ0JwWmlBb2FYUmxjbUYwYjNKTlpYUm9iMlFwSUh0Y2JpQWdJQ0FnSUNBZ2NtVjBkWEp1SUdsMFpYSmhkRzl5VFdWMGFHOWtMbU5oYkd3b2FYUmxjbUZpYkdVcE8xeHVJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQnBaaUFvZEhsd1pXOW1JR2wwWlhKaFlteGxMbTVsZUhRZ1BUMDlJRndpWm5WdVkzUnBiMjVjSWlrZ2UxeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z2FYUmxjbUZpYkdVN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lHbG1JQ2doYVhOT1lVNG9hWFJsY21GaWJHVXViR1Z1WjNSb0tTa2dlMXh1SUNBZ0lDQWdJQ0IyWVhJZ2FTQTlJQzB4TEZ4dUlDQWdJQ0FnSUNBZ0lDQWdibVY0ZENBOUlHWjFibU4wYVc5dUlHNWxlSFFvS1NCN1hHNGdJQ0FnSUNBZ0lDQWdkMmhwYkdVZ0tDc3JhU0E4SUdsMFpYSmhZbXhsTG14bGJtZDBhQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdhV1lnS0doaGMwOTNiaTVqWVd4c0tHbDBaWEpoWW14bExDQnBLU2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J1WlhoMExuWmhiSFZsSUQwZ2FYUmxjbUZpYkdWYmFWMDdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lHNWxlSFF1Wkc5dVpTQTlJR1poYkhObE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYm1WNGREdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNCdVpYaDBMblpoYkhWbElEMGdkVzVrWldacGJtVmtPMXh1SUNBZ0lDQWdJQ0FnSUc1bGVIUXVaRzl1WlNBOUlIUnlkV1U3WEc1Y2JpQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2JtVjRkRHRjYmlBZ0lDQWdJQ0FnZlR0Y2JseHVJQ0FnSUNBZ0lDQnlaWFIxY200Z2JtVjRkQzV1WlhoMElEMGdibVY0ZER0Y2JpQWdJQ0FnSUgxY2JpQWdJQ0I5WEc1Y2JpQWdJQ0F2THlCU1pYUjFjbTRnWVc0Z2FYUmxjbUYwYjNJZ2QybDBhQ0J1YnlCMllXeDFaWE11WEc0Z0lDQWdjbVYwZFhKdUlIc2dibVY0ZERvZ1pHOXVaVkpsYzNWc2RDQjlPMXh1SUNCOVhHNGdJSEoxYm5ScGJXVXVkbUZzZFdWeklEMGdkbUZzZFdWek8xeHVYRzRnSUdaMWJtTjBhVzl1SUdSdmJtVlNaWE4xYkhRb0tTQjdYRzRnSUNBZ2NtVjBkWEp1SUhzZ2RtRnNkV1U2SUhWdVpHVm1hVzVsWkN3Z1pHOXVaVG9nZEhKMVpTQjlPMXh1SUNCOVhHNWNiaUFnUTI5dWRHVjRkQzV3Y205MGIzUjVjR1VnUFNCN1hHNGdJQ0FnWTI5dWMzUnlkV04wYjNJNklFTnZiblJsZUhRc1hHNWNiaUFnSUNCeVpYTmxkRG9nWm5WdVkzUnBiMjRnY21WelpYUW9jMnRwY0ZSbGJYQlNaWE5sZENrZ2UxeHVJQ0FnSUNBZ2RHaHBjeTV3Y21WMklEMGdNRHRjYmlBZ0lDQWdJSFJvYVhNdWJtVjRkQ0E5SURBN1hHNGdJQ0FnSUNCMGFHbHpMbk5sYm5RZ1BTQjFibVJsWm1sdVpXUTdYRzRnSUNBZ0lDQjBhR2x6TG1SdmJtVWdQU0JtWVd4elpUdGNiaUFnSUNBZ0lIUm9hWE11WkdWc1pXZGhkR1VnUFNCdWRXeHNPMXh1WEc0Z0lDQWdJQ0IwYUdsekxuUnllVVZ1ZEhKcFpYTXVabTl5UldGamFDaHlaWE5sZEZSeWVVVnVkSEo1S1R0Y2JseHVJQ0FnSUNBZ2FXWWdLQ0Z6YTJsd1ZHVnRjRkpsYzJWMEtTQjdYRzRnSUNBZ0lDQWdJR1p2Y2lBb2RtRnlJRzVoYldVZ2FXNGdkR2hwY3lrZ2UxeHVJQ0FnSUNBZ0lDQWdJQzh2SUU1dmRDQnpkWEpsSUdGaWIzVjBJSFJvWlNCdmNIUnBiV0ZzSUc5eVpHVnlJRzltSUhSb1pYTmxJR052Ym1ScGRHbHZibk02WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLRzVoYldVdVkyaGhja0YwS0RBcElEMDlQU0JjSW5SY0lpQW1KaUJvWVhOUGQyNHVZMkZzYkNoMGFHbHpMQ0J1WVcxbEtTQW1KaUFoYVhOT1lVNG9LMjVoYldVdWMyeHBZMlVvTVNrcEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpXMjVoYldWZElEMGdkVzVrWldacGJtVmtPMXh1SUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUgwc1hHNWNiaUFnSUNCemRHOXdPaUJtZFc1amRHbHZiaUJ6ZEc5d0tDa2dlMXh1SUNBZ0lDQWdkR2hwY3k1a2IyNWxJRDBnZEhKMVpUdGNibHh1SUNBZ0lDQWdkbUZ5SUhKdmIzUkZiblJ5ZVNBOUlIUm9hWE11ZEhKNVJXNTBjbWxsYzFzd1hUdGNiaUFnSUNBZ0lIWmhjaUJ5YjI5MFVtVmpiM0prSUQwZ2NtOXZkRVZ1ZEhKNUxtTnZiWEJzWlhScGIyNDdYRzRnSUNBZ0lDQnBaaUFvY205dmRGSmxZMjl5WkM1MGVYQmxJRDA5UFNCY0luUm9jbTkzWENJcElIdGNiaUFnSUNBZ0lDQWdkR2h5YjNjZ2NtOXZkRkpsWTI5eVpDNWhjbWM3WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUhKbGRIVnliaUIwYUdsekxuSjJZV3c3WEc0Z0lDQWdmU3hjYmx4dUlDQWdJR1JwYzNCaGRHTm9SWGhqWlhCMGFXOXVPaUJtZFc1amRHbHZiaUJrYVhOd1lYUmphRVY0WTJWd2RHbHZiaWhsZUdObGNIUnBiMjRwSUh0Y2JpQWdJQ0FnSUdsbUlDaDBhR2x6TG1SdmJtVXBJSHRjYmlBZ0lDQWdJQ0FnZEdoeWIzY2daWGhqWlhCMGFXOXVPMXh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0IyWVhJZ1kyOXVkR1Y0ZENBOUlIUm9hWE03WEc0Z0lDQWdJQ0JtZFc1amRHbHZiaUJvWVc1a2JHVW9iRzlqTENCallYVm5hSFFwSUh0Y2JpQWdJQ0FnSUNBZ2NtVmpiM0prTG5SNWNHVWdQU0JjSW5Sb2NtOTNYQ0k3WEc0Z0lDQWdJQ0FnSUhKbFkyOXlaQzVoY21jZ1BTQmxlR05sY0hScGIyNDdYRzRnSUNBZ0lDQWdJR052Ym5SbGVIUXVibVY0ZENBOUlHeHZZenRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJQ0VoWTJGMVoyaDBPMXh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0JtYjNJZ0tIWmhjaUJwSUQwZ2RHaHBjeTUwY25sRmJuUnlhV1Z6TG14bGJtZDBhQ0F0SURFN0lHa2dQajBnTURzZ0xTMXBLU0I3WEc0Z0lDQWdJQ0FnSUhaaGNpQmxiblJ5ZVNBOUlIUm9hWE11ZEhKNVJXNTBjbWxsYzF0cFhUdGNiaUFnSUNBZ0lDQWdkbUZ5SUhKbFkyOXlaQ0E5SUdWdWRISjVMbU52YlhCc1pYUnBiMjQ3WEc1Y2JpQWdJQ0FnSUNBZ2FXWWdLR1Z1ZEhKNUxuUnllVXh2WXlBOVBUMGdYQ0p5YjI5MFhDSXBJSHRjYmlBZ0lDQWdJQ0FnSUNBdkx5QkZlR05sY0hScGIyNGdkR2h5YjNkdUlHOTFkSE5wWkdVZ2IyWWdZVzU1SUhSeWVTQmliRzlqYXlCMGFHRjBJR052ZFd4a0lHaGhibVJzWlZ4dUlDQWdJQ0FnSUNBZ0lDOHZJR2wwTENCemJ5QnpaWFFnZEdobElHTnZiWEJzWlhScGIyNGdkbUZzZFdVZ2IyWWdkR2hsSUdWdWRHbHlaU0JtZFc1amRHbHZiaUIwYjF4dUlDQWdJQ0FnSUNBZ0lDOHZJSFJvY205M0lIUm9aU0JsZUdObGNIUnBiMjR1WEc0Z0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUdoaGJtUnNaU2hjSW1WdVpGd2lLVHRjYmlBZ0lDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNBZ0lHbG1JQ2hsYm5SeWVTNTBjbmxNYjJNZ1BEMGdkR2hwY3k1d2NtVjJLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJR2hoYzBOaGRHTm9JRDBnYUdGelQzZHVMbU5oYkd3b1pXNTBjbmtzSUZ3aVkyRjBZMmhNYjJOY0lpazdYRzRnSUNBZ0lDQWdJQ0FnZG1GeUlHaGhjMFpwYm1Gc2JIa2dQU0JvWVhOUGQyNHVZMkZzYkNobGJuUnllU3dnWENKbWFXNWhiR3g1VEc5alhDSXBPMXh1WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLR2hoYzBOaGRHTm9JQ1ltSUdoaGMwWnBibUZzYkhrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG5CeVpYWWdQQ0JsYm5SeWVTNWpZWFJqYUV4dll5a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2FHRnVaR3hsS0dWdWRISjVMbU5oZEdOb1RHOWpMQ0IwY25WbEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgwZ1pXeHpaU0JwWmlBb2RHaHBjeTV3Y21WMklEd2daVzUwY25rdVptbHVZV3hzZVV4dll5a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2FHRnVaR3hsS0dWdWRISjVMbVpwYm1Gc2JIbE1iMk1wTzF4dUlDQWdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0FnSUgwZ1pXeHpaU0JwWmlBb2FHRnpRMkYwWTJncElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG5CeVpYWWdQQ0JsYm5SeWVTNWpZWFJqYUV4dll5a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2FHRnVaR3hsS0dWdWRISjVMbU5oZEdOb1RHOWpMQ0IwY25WbEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQjlJR1ZzYzJVZ2FXWWdLR2hoYzBacGJtRnNiSGtwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoMGFHbHpMbkJ5WlhZZ1BDQmxiblJ5ZVM1bWFXNWhiR3g1VEc5aktTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCb1lXNWtiR1VvWlc1MGNua3VabWx1WVd4c2VVeHZZeWs3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2loY0luUnllU0J6ZEdGMFpXMWxiblFnZDJsMGFHOTFkQ0JqWVhSamFDQnZjaUJtYVc1aGJHeDVYQ0lwTzF4dUlDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdmVnh1SUNBZ0lIMHNYRzVjYmlBZ0lDQmhZbkoxY0hRNklHWjFibU4wYVc5dUlHRmljblZ3ZENoMGVYQmxMQ0JoY21jcElIdGNiaUFnSUNBZ0lHWnZjaUFvZG1GeUlHa2dQU0IwYUdsekxuUnllVVZ1ZEhKcFpYTXViR1Z1WjNSb0lDMGdNVHNnYVNBK1BTQXdPeUF0TFdrcElIdGNiaUFnSUNBZ0lDQWdkbUZ5SUdWdWRISjVJRDBnZEdocGN5NTBjbmxGYm5SeWFXVnpXMmxkTzF4dUlDQWdJQ0FnSUNCcFppQW9aVzUwY25rdWRISjVURzlqSUR3OUlIUm9hWE11Y0hKbGRpQW1KaUJvWVhOUGQyNHVZMkZzYkNobGJuUnllU3dnWENKbWFXNWhiR3g1VEc5alhDSXBJQ1ltSUhSb2FYTXVjSEpsZGlBOElHVnVkSEo1TG1acGJtRnNiSGxNYjJNcElIdGNiaUFnSUNBZ0lDQWdJQ0IyWVhJZ1ptbHVZV3hzZVVWdWRISjVJRDBnWlc1MGNuazdYRzRnSUNBZ0lDQWdJQ0FnWW5KbFlXczdYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnYVdZZ0tHWnBibUZzYkhsRmJuUnllU0FtSmlBb2RIbHdaU0E5UFQwZ1hDSmljbVZoYTF3aUlIeDhJSFI1Y0dVZ1BUMDlJRndpWTI5dWRHbHVkV1ZjSWlrZ0ppWWdabWx1WVd4c2VVVnVkSEo1TG5SeWVVeHZZeUE4UFNCaGNtY2dKaVlnWVhKbklEdzlJR1pwYm1Gc2JIbEZiblJ5ZVM1bWFXNWhiR3g1VEc5aktTQjdYRzRnSUNBZ0lDQWdJQzh2SUVsbmJtOXlaU0IwYUdVZ1ptbHVZV3hzZVNCbGJuUnllU0JwWmlCamIyNTBjbTlzSUdseklHNXZkQ0JxZFcxd2FXNW5JSFJ2SUdGY2JpQWdJQ0FnSUNBZ0x5OGdiRzlqWVhScGIyNGdiM1YwYzJsa1pTQjBhR1VnZEhKNUwyTmhkR05vSUdKc2IyTnJMbHh1SUNBZ0lDQWdJQ0JtYVc1aGJHeDVSVzUwY25rZ1BTQnVkV3hzTzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCMllYSWdjbVZqYjNKa0lEMGdabWx1WVd4c2VVVnVkSEo1SUQ4Z1ptbHVZV3hzZVVWdWRISjVMbU52YlhCc1pYUnBiMjRnT2lCN2ZUdGNiaUFnSUNBZ0lISmxZMjl5WkM1MGVYQmxJRDBnZEhsd1pUdGNiaUFnSUNBZ0lISmxZMjl5WkM1aGNtY2dQU0JoY21jN1hHNWNiaUFnSUNBZ0lHbG1JQ2htYVc1aGJHeDVSVzUwY25rcElIdGNiaUFnSUNBZ0lDQWdkR2hwY3k1dVpYaDBJRDBnWm1sdVlXeHNlVVZ1ZEhKNUxtWnBibUZzYkhsTWIyTTdYRzRnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG1OdmJYQnNaWFJsS0hKbFkyOXlaQ2s3WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUhKbGRIVnliaUJEYjI1MGFXNTFaVk5sYm5ScGJtVnNPMXh1SUNBZ0lIMHNYRzVjYmlBZ0lDQmpiMjF3YkdWMFpUb2dablZ1WTNScGIyNGdZMjl0Y0d4bGRHVW9jbVZqYjNKa0xDQmhablJsY2t4dll5a2dlMXh1SUNBZ0lDQWdhV1lnS0hKbFkyOXlaQzUwZVhCbElEMDlQU0JjSW5Sb2NtOTNYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHliM2NnY21WamIzSmtMbUZ5Wnp0Y2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2FXWWdLSEpsWTI5eVpDNTBlWEJsSUQwOVBTQmNJbUp5WldGclhDSWdmSHdnY21WamIzSmtMblI1Y0dVZ1BUMDlJRndpWTI5dWRHbHVkV1ZjSWlrZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG01bGVIUWdQU0J5WldOdmNtUXVZWEpuTzF4dUlDQWdJQ0FnZlNCbGJITmxJR2xtSUNoeVpXTnZjbVF1ZEhsd1pTQTlQVDBnWENKeVpYUjFjbTVjSWlrZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG5KMllXd2dQU0J5WldOdmNtUXVZWEpuTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbTVsZUhRZ1BTQmNJbVZ1WkZ3aU8xeHVJQ0FnSUNBZ2ZTQmxiSE5sSUdsbUlDaHlaV052Y21RdWRIbHdaU0E5UFQwZ1hDSnViM0p0WVd4Y0lpQW1KaUJoWm5SbGNreHZZeWtnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMbTVsZUhRZ1BTQmhablJsY2t4dll6dGNiaUFnSUNBZ0lIMWNiaUFnSUNCOUxGeHVYRzRnSUNBZ1ptbHVhWE5vT2lCbWRXNWpkR2x2YmlCbWFXNXBjMmdvWm1sdVlXeHNlVXh2WXlrZ2UxeHVJQ0FnSUNBZ1ptOXlJQ2gyWVhJZ2FTQTlJSFJvYVhNdWRISjVSVzUwY21sbGN5NXNaVzVuZEdnZ0xTQXhPeUJwSUQ0OUlEQTdJQzB0YVNrZ2UxeHVJQ0FnSUNBZ0lDQjJZWElnWlc1MGNua2dQU0IwYUdsekxuUnllVVZ1ZEhKcFpYTmJhVjA3WEc0Z0lDQWdJQ0FnSUdsbUlDaGxiblJ5ZVM1bWFXNWhiR3g1VEc5aklEMDlQU0JtYVc1aGJHeDVURzlqS1NCN1hHNGdJQ0FnSUNBZ0lDQWdkR2hwY3k1amIyMXdiR1YwWlNobGJuUnllUzVqYjIxd2JHVjBhVzl1TENCbGJuUnllUzVoWm5SbGNreHZZeWs3WEc0Z0lDQWdJQ0FnSUNBZ2NtVnpaWFJVY25sRmJuUnllU2hsYm5SeWVTazdYRzRnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJRU52Ym5ScGJuVmxVMlZ1ZEdsdVpXdzdYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlMRnh1WEc0Z0lDQWdYQ0pqWVhSamFGd2lPaUJtZFc1amRHbHZiaUJmWTJGMFkyZ29kSEo1VEc5aktTQjdYRzRnSUNBZ0lDQm1iM0lnS0haaGNpQnBJRDBnZEdocGN5NTBjbmxGYm5SeWFXVnpMbXhsYm1kMGFDQXRJREU3SUdrZ1BqMGdNRHNnTFMxcEtTQjdYRzRnSUNBZ0lDQWdJSFpoY2lCbGJuUnllU0E5SUhSb2FYTXVkSEo1Ulc1MGNtbGxjMXRwWFR0Y2JpQWdJQ0FnSUNBZ2FXWWdLR1Z1ZEhKNUxuUnllVXh2WXlBOVBUMGdkSEo1VEc5aktTQjdYRzRnSUNBZ0lDQWdJQ0FnZG1GeUlISmxZMjl5WkNBOUlHVnVkSEo1TG1OdmJYQnNaWFJwYjI0N1hHNGdJQ0FnSUNBZ0lDQWdhV1lnS0hKbFkyOXlaQzUwZVhCbElEMDlQU0JjSW5Sb2NtOTNYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCMGFISnZkMjRnUFNCeVpXTnZjbVF1WVhKbk8xeHVJQ0FnSUNBZ0lDQWdJQ0FnY21WelpYUlVjbmxGYm5SeWVTaGxiblJ5ZVNrN1hHNGdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUIwYUhKdmQyNDdYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnTHk4Z1ZHaGxJR052Ym5SbGVIUXVZMkYwWTJnZ2JXVjBhRzlrSUcxMWMzUWdiMjVzZVNCaVpTQmpZV3hzWldRZ2QybDBhQ0JoSUd4dlkyRjBhVzl1WEc0Z0lDQWdJQ0F2THlCaGNtZDFiV1Z1ZENCMGFHRjBJR052Y25KbGMzQnZibVJ6SUhSdklHRWdhMjV2ZDI0Z1kyRjBZMmdnWW14dlkyc3VYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb1hDSnBiR3hsWjJGc0lHTmhkR05vSUdGMGRHVnRjSFJjSWlrN1hHNGdJQ0FnZlN4Y2JseHVJQ0FnSUdSbGJHVm5ZWFJsV1dsbGJHUTZJR1oxYm1OMGFXOXVJR1JsYkdWbllYUmxXV2xsYkdRb2FYUmxjbUZpYkdVc0lISmxjM1ZzZEU1aGJXVXNJRzVsZUhSTWIyTXBJSHRjYmlBZ0lDQWdJSFJvYVhNdVpHVnNaV2RoZEdVZ1BTQjdYRzRnSUNBZ0lDQWdJR2wwWlhKaGRHOXlPaUIyWVd4MVpYTW9hWFJsY21GaWJHVXBMRnh1SUNBZ0lDQWdJQ0J5WlhOMWJIUk9ZVzFsT2lCeVpYTjFiSFJPWVcxbExGeHVJQ0FnSUNBZ0lDQnVaWGgwVEc5ak9pQnVaWGgwVEc5alhHNGdJQ0FnSUNCOU8xeHVYRzRnSUNBZ0lDQnlaWFIxY200Z1EyOXVkR2x1ZFdWVFpXNTBhVzVsYkR0Y2JpQWdJQ0I5WEc0Z0lIMDdYRzU5S1NoY2JpOHZJRUZ0YjI1bklIUm9aU0IyWVhKcGIzVnpJSFJ5YVdOcmN5Qm1iM0lnYjJKMFlXbHVhVzVuSUdFZ2NtVm1aWEpsYm1ObElIUnZJSFJvWlNCbmJHOWlZV3hjYmk4dklHOWlhbVZqZEN3Z2RHaHBjeUJ6WldWdGN5QjBieUJpWlNCMGFHVWdiVzl6ZENCeVpXeHBZV0pzWlNCMFpXTm9ibWx4ZFdVZ2RHaGhkQ0JrYjJWeklHNXZkRnh1THk4Z2RYTmxJR2x1WkdseVpXTjBJR1YyWVd3Z0tIZG9hV05vSUhacGIyeGhkR1Z6SUVOdmJuUmxiblFnVTJWamRYSnBkSGtnVUc5c2FXTjVLUzVjYm5SNWNHVnZaaUJuYkc5aVlXd2dQVDA5SUZ3aWIySnFaV04wWENJZ1B5Qm5iRzlpWVd3Z09pQjBlWEJsYjJZZ2QybHVaRzkzSUQwOVBTQmNJbTlpYW1WamRGd2lJRDhnZDJsdVpHOTNJRG9nZEhsd1pXOW1JSE5sYkdZZ1BUMDlJRndpYjJKcVpXTjBYQ0lnUHlCelpXeG1JRG9nZFc1a1pXWnBibVZrS1RzaVhYMD0iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRRdWV1ZTtcbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgY3VycmVudFF1ZXVlW2ldKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xufVxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICBxdWV1ZS5wdXNoKGZ1bik7XG4gICAgaWYgKCFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG4vLyBUT0RPKHNodHlsbWFuKVxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnByb21pc2UnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy8kLmNvcmUnKS5Qcm9taXNlOyIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzLyQuY29yZScpLlN5bWJvbDsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5tYXRoLnNpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5NYXRoLnNpZ247IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLnJlcGVhdCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLlN0cmluZy5yZXBlYXQ7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5hcnJheS5mcm9tJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuQXJyYXkuZnJvbTsiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yJyk7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYubnVtYmVyLmVwc2lsb24nKTtcbm1vZHVsZS5leHBvcnRzID0gTWF0aC5wb3coMiwgLTUyKTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5udW1iZXIubWF4LXNhZmUtaW50ZWdlcicpO1xubW9kdWxlLmV4cG9ydHMgPSAweDFmZmZmZmZmZmZmZmZmOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm51bWJlci5taW4tc2FmZS1pbnRlZ2VyJyk7XG5tb2R1bGUuZXhwb3J0cyA9IC0weDFmZmZmZmZmZmZmZmZmOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3QuYXNzaWduOyIsInZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICQuY3JlYXRlKFAsIEQpO1xufTsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhpdCwga2V5LCBkZXNjKTtcbn07IiwidmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICByZXR1cm4gJC5nZXREZXNjKGl0LCBrZXkpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5rZXlzOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLlN5bWJvbDsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQud2tzJykoJ2l0ZXJhdG9yJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vJC50by1vYmplY3QnKVxuICAsIElPYmplY3QgID0gcmVxdWlyZSgnLi8kLmlvYmplY3QnKVxuICAsIGVudW1LZXlzID0gcmVxdWlyZSgnLi8kLmVudW0ta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBTeW1ib2woKSBpbiBPYmplY3QuYXNzaWduKHt9KTsgLy8gT2JqZWN0LmFzc2lnbiBhdmFpbGFibGUgYW5kIFN5bWJvbCBpcyBuYXRpdmVcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKXsgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KVxuICAgICwgbCA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGkgPSAxO1xuICB3aGlsZShsID4gaSl7XG4gICAgdmFyIFMgICAgICA9IElPYmplY3QoYXJndW1lbnRzW2krK10pXG4gICAgICAsIGtleXMgICA9IGVudW1LZXlzKFMpXG4gICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgICAsIGogICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKGxlbmd0aCA+IGopVFtrZXkgPSBrZXlzW2orK11dID0gU1trZXldO1xuICB9XG4gIHJldHVybiBUO1xufSA6IE9iamVjdC5hc3NpZ247IiwiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuLyQuY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuLyQud2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IChPID0gT2JqZWN0KGl0KSlbVEFHXSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59OyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07IiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi8kLmEtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9IHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIH07XG59OyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgY3R4ID0gZnVuY3Rpb24oZm4sIHRoYXQpe1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG52YXIgJGRlZiA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBrZXksIG93biwgb3V0LCBleHBcbiAgICAsIGlzR2xvYmFsID0gdHlwZSAmICRkZWYuR1xuICAgICwgaXNQcm90byAgPSB0eXBlICYgJGRlZi5QXG4gICAgLCB0YXJnZXQgICA9IGlzR2xvYmFsID8gZ2xvYmFsIDogdHlwZSAmICRkZWYuU1xuICAgICAgICA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGV4cG9ydHMgID0gaXNHbG9iYWwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgaWYoaXNHbG9iYWwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICEodHlwZSAmICRkZWYuRikgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBpZihpc0dsb2JhbCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJylleHAgPSBzb3VyY2Vba2V5XTtcbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIGVsc2UgaWYodHlwZSAmICRkZWYuQiAmJiBvd24pZXhwID0gY3R4KG91dCwgZ2xvYmFsKTtcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIGVsc2UgaWYodHlwZSAmICRkZWYuVyAmJiB0YXJnZXRba2V5XSA9PSBvdXQpIWZ1bmN0aW9uKEMpe1xuICAgICAgZXhwID0gZnVuY3Rpb24ocGFyYW0pe1xuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEMgPyBuZXcgQyhwYXJhbSkgOiBDKHBhcmFtKTtcbiAgICAgIH07XG4gICAgICBleHBbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICB9KG91dCk7XG4gICAgZWxzZSBleHAgPSBpc1Byb3RvICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydFxuICAgIGV4cG9ydHNba2V5XSA9IGV4cDtcbiAgICBpZihpc1Byb3RvKShleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KSlba2V5XSA9IG91dDtcbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZGVmLkYgPSAxOyAgLy8gZm9yY2VkXG4kZGVmLkcgPSAyOyAgLy8gZ2xvYmFsXG4kZGVmLlMgPSA0OyAgLy8gc3RhdGljXG4kZGVmLlAgPSA4OyAgLy8gcHJvdG9cbiRkZWYuQiA9IDE2OyAvLyBiaW5kXG4kZGVmLlcgPSAzMjsgLy8gd3JhcFxubW9kdWxlLmV4cG9ydHMgPSAkZGVmOyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTsiLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyICQgPSByZXF1aXJlKCcuLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIga2V5cyAgICAgICA9ICQuZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSAkLmdldFN5bWJvbHM7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9ICQuaXNFbnVtXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpa2V5cy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsInZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsIGNhbGwgICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuLyQuaXMtYXJyYXktaXRlcicpXG4gICwgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vJC50by1sZW5ndGgnKVxuICAsIGdldEl0ZXJGbiAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0KXtcbiAgdmFyIGl0ZXJGbiA9IGdldEl0ZXJGbihpdGVyYWJsZSlcbiAgICAsIGYgICAgICA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKVxuICAgICwgaW5kZXggID0gMFxuICAgICwgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvcjtcbiAgaWYodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3JcbiAgaWYoaXNBcnJheUl0ZXIoaXRlckZuKSlmb3IobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgIGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgfSBlbHNlIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyApe1xuICAgIGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICB9XG59OyIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b1N0cmluZyAgPSB7fS50b1N0cmluZ1xuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0JylcbiAgLCBnZXROYW1lcyAgPSByZXF1aXJlKCcuLyQnKS5nZXROYW1lcztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuICB0cnkge1xuICAgIHJldHVybiBnZXROYW1lcyhpdCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmdldCA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICBpZih3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJylyZXR1cm4gZ2V0V2luZG93TmFtZXMoaXQpO1xuICByZXR1cm4gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSk7XG59OyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgVU5ERUZJTkVEID0gJ3VuZGVmaW5lZCc7XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9IFVOREVGSU5FRCAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gVU5ERUZJTkVEICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59OyIsInZhciAkICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi8kLnByb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLnN1cHBvcnQtZGVzYycpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsiLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07IiwiLy8gaW5kZXhlZCBvYmplY3QsIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vJC5jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gMCBpbiBPYmplY3QoJ3onKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTsiLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiAoSXRlcmF0b3JzLkFycmF5IHx8IEFycmF5LnByb3RvdHlwZVtJVEVSQVRPUl0pID09PSBpdDtcbn07IiwiLy8gaHR0cDovL2pzcGVyZi5jb20vY29yZS1qcy1pc29iamVjdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gbnVsbCAmJiAodHlwZW9mIGl0ID09ICdvYmplY3QnIHx8IHR5cGVvZiBpdCA9PSAnZnVuY3Rpb24nKTtcbn07IiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoKGUpe1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi8kJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi8kLmhpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAkLmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJykoMSxuZXh0KX0pO1xuICByZXF1aXJlKCcuLyQudGFnJykoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICAgPSByZXF1aXJlKCcuLyQubGlicmFyeScpXG4gICwgJGRlZiAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgJHJlZGVmICAgICAgICAgID0gcmVxdWlyZSgnLi8kLnJlZGVmJylcbiAgLCBoaWRlICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgaGFzICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmhhcycpXG4gICwgU1lNQk9MX0lURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpXG4gICwgQlVHR1kgICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICAgPSAndmFsdWVzJztcbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFKXtcbiAgcmVxdWlyZSgnLi8kLml0ZXItY3JlYXRlJykoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgcHJvdG8gICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgX25hdGl2ZSAgPSBwcm90b1tTWU1CT0xfSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCBfZGVmYXVsdCA9IF9uYXRpdmUgfHwgY3JlYXRlTWV0aG9kKERFRkFVTFQpXG4gICAgLCBtZXRob2RzLCBrZXk7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoX25hdGl2ZSl7XG4gICAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gcmVxdWlyZSgnLi8kJykuZ2V0UHJvdG8oX2RlZmF1bHQuY2FsbChuZXcgQmFzZSkpO1xuICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICByZXF1aXJlKCcuLyQudGFnJykoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgLy8gRkYgZml4XG4gICAgaWYoIUxJQlJBUlkgJiYgaGFzKHByb3RvLCBGRl9JVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgU1lNQk9MX0lURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoIUxJQlJBUlkgfHwgRk9SQ0UpaGlkZShwcm90bywgU1lNQk9MX0lURVJBVE9SLCBfZGVmYXVsdCk7XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gX2RlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICBrZXlzOiAgICBJU19TRVQgICAgICAgICAgICA/IF9kZWZhdWx0IDogY3JlYXRlTWV0aG9kKEtFWVMpLFxuICAgICAgdmFsdWVzOiAgREVGQVVMVCA9PSBWQUxVRVMgPyBfZGVmYXVsdCA6IGNyZWF0ZU1ldGhvZChWQUxVRVMpLFxuICAgICAgZW50cmllczogREVGQVVMVCAhPSBWQUxVRVMgPyBfZGVmYXVsdCA6IGNyZWF0ZU1ldGhvZCgnZW50cmllcycpXG4gICAgfTtcbiAgICBpZihGT1JDRSlmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKSRyZWRlZihwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZGVmKCRkZWYuUCArICRkZWYuRiAqIEJVR0dZLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxufTsiLCJ2YXIgU1lNQk9MX0lURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgU0FGRV9DTE9TSU5HICAgID0gZmFsc2U7XG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bU1lNQk9MX0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIGlmKCFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbU1lNQk9MX0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHNhZmUgPSB0cnVlOyB9O1xuICAgIGFycltTWU1CT0xfSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge307IiwidmFyICRPYmplY3QgPSBPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiAgICAgJE9iamVjdC5jcmVhdGUsXG4gIGdldFByb3RvOiAgICRPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gIGlzRW51bTogICAgIHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICBnZXREZXNjOiAgICAkT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgc2V0RGVzYzogICAgJE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcbiAgc2V0RGVzY3M6ICAgJE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFxuICBnZXRLZXlzOiAgICAkT2JqZWN0LmtleXMsXG4gIGdldE5hbWVzOiAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgZ2V0U3ltYm9sczogJE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gIGVhY2g6ICAgICAgIFtdLmZvckVhY2hcbn07IiwidmFyICQgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwga2V5cyAgID0gJC5nZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHRydWU7IiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxyXG4gICwgbWFjcm90YXNrID0gcmVxdWlyZSgnLi8kLnRhc2snKS5zZXRcclxuICAsIE9ic2VydmVyICA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyXHJcbiAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xyXG4gICwgaXNOb2RlICAgID0gcmVxdWlyZSgnLi8kLmNvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xyXG4gICwgaGVhZCwgbGFzdCwgbm90aWZ5O1xyXG5cclxudmFyIGZsdXNoID0gZnVuY3Rpb24oKXtcclxuICB2YXIgcGFyZW50LCBkb21haW47XHJcbiAgaWYoaXNOb2RlICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpe1xyXG4gICAgcHJvY2Vzcy5kb21haW4gPSBudWxsO1xyXG4gICAgcGFyZW50LmV4aXQoKTtcclxuICB9XHJcbiAgd2hpbGUoaGVhZCl7XHJcbiAgICBkb21haW4gPSBoZWFkLmRvbWFpbjtcclxuICAgIGlmKGRvbWFpbilkb21haW4uZW50ZXIoKTtcclxuICAgIGhlYWQuZm4uY2FsbCgpOyAvLyA8LSBjdXJyZW50bHkgd2UgdXNlIGl0IG9ubHkgZm9yIFByb21pc2UgLSB0cnkgLyBjYXRjaCBub3QgcmVxdWlyZWRcclxuICAgIGlmKGRvbWFpbilkb21haW4uZXhpdCgpO1xyXG4gICAgaGVhZCA9IGhlYWQubmV4dDtcclxuICB9IGxhc3QgPSB1bmRlZmluZWQ7XHJcbiAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xyXG59XHJcblxyXG4vLyBOb2RlLmpzXHJcbmlmKGlzTm9kZSl7XHJcbiAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcclxuICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xyXG4gIH07XHJcbi8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlclxyXG59IGVsc2UgaWYoT2JzZXJ2ZXIpe1xyXG4gIHZhciB0b2dnbGUgPSAxXHJcbiAgICAsIG5vZGUgICA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcclxuICBub3RpZnkgPSBmdW5jdGlvbigpe1xyXG4gICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gLXRvZ2dsZTtcclxuICB9O1xyXG4vLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxyXG4vLyAtIHNldEltbWVkaWF0ZVxyXG4vLyAtIE1lc3NhZ2VDaGFubmVsXHJcbi8vIC0gd2luZG93LnBvc3RNZXNzYWdcclxuLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcclxuLy8gLSBzZXRUaW1lb3V0XHJcbn0gZWxzZSB7XHJcbiAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcclxuICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcclxuICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xyXG4gIH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXNhcChmbil7XHJcbiAgdmFyIHRhc2sgPSB7Zm46IGZuLCBuZXh0OiB1bmRlZmluZWQsIGRvbWFpbjogaXNOb2RlICYmIHByb2Nlc3MuZG9tYWlufTtcclxuICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XHJcbiAgaWYoIWhlYWQpe1xyXG4gICAgaGVhZCA9IHRhc2s7XHJcbiAgICBub3RpZnkoKTtcclxuICB9IGxhc3QgPSB0YXNrO1xyXG59OyIsInZhciAkcmVkZWYgPSByZXF1aXJlKCcuLyQucmVkZWYnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBzcmMpe1xuICBmb3IodmFyIGtleSBpbiBzcmMpJHJlZGVmKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIHJldHVybiB0YXJnZXQ7XG59OyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAgICwgZm4gICA9IChyZXF1aXJlKCcuLyQuY29yZScpLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwICA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZGVmKCRkZWYuUyArICRkZWYuRiAqIHJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5oaWRlJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuaXMgfHwgZnVuY3Rpb24gaXMoeCwgeSl7XG4gIHJldHVybiB4ID09PSB5ID8geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHkgOiB4ICE9IHggJiYgeSAhPSB5O1xufTsiLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgZ2V0RGVzYyAgPSByZXF1aXJlKCcuLyQnKS5nZXREZXNjXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgID8gZnVuY3Rpb24oYnVnZ3ksIHNldCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi8kLmN0eCcpKEZ1bmN0aW9uLmNhbGwsIGdldERlc2MoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgICAgc2V0KHt9LCBbXSk7XG4gICAgICAgIH0gY2F0Y2goZSl7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgICBpZihidWdneSlPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgICByZXR1cm4gTztcbiAgICAgICAgfTtcbiAgICAgIH0oKVxuICAgIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59OyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59OyIsIi8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeClcbm1vZHVsZS5leHBvcnRzID0gTWF0aC5zaWduIHx8IGZ1bmN0aW9uIHNpZ24oeCl7XG4gIHJldHVybiAoeCA9ICt4KSA9PSAwIHx8IHggIT0geCA/IHggOiB4IDwgMCA/IC0xIDogMTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIFNQRUNJRVMgPSByZXF1aXJlKCcuLyQud2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQyl7XG4gIGlmKHJlcXVpcmUoJy4vJC5zdXBwb3J0LWRlc2MnKSAmJiAhKFNQRUNJRVMgaW4gQykpJC5zZXREZXNjKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgQ29uc3RydWN0b3IsIG5hbWUpe1xuICBpZighKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IFR5cGVFcnJvcihuYW1lICsgXCI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhXCIpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi8kLnRvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbFxuICAgICAgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTsiLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuLyQuZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7IiwidmFyIGhhcyAgPSByZXF1aXJlKCcuLyQuaGFzJylcbiAgLCBoaWRlID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsIFRBRyAgPSByZXF1aXJlKCcuLyQud2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG4gIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpaGlkZShpdCwgVEFHLCB0YWcpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgaW52b2tlICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmludm9rZScpXG4gICwgaHRtbCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmh0bWwnKVxuICAsIGNlbCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5kb20tY3JlYXRlJylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIHNldFRhc2sgICAgICAgICAgICA9IGdsb2JhbC5zZXRJbW1lZGlhdGVcbiAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcbiAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcbiAgLCBjb3VudGVyICAgICAgICAgICAgPSAwXG4gICwgcXVldWUgICAgICAgICAgICAgID0ge31cbiAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuICAsIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG4gIHZhciBpZCA9ICt0aGlzO1xuICBpZihxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdG5lciA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYoIXNldFRhc2sgfHwgIWNsZWFyVGFzayl7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pe1xuICAgIHZhciBhcmdzID0gW10sIGkgPSAxO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpe1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZihyZXF1aXJlKCcuLyQuY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHQpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7XG4gICAgfTtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0Jykpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6ICAgc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTsiLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07IiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXHJcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlvYmplY3QnKVxyXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xyXG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcclxufTsiLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpXG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07IiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuLyQuZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07IiwidmFyIHN0b3JlICA9IHJlcXVpcmUoJy4vJC5zaGFyZWQnKSgnd2tzJylcbiAgLCBTeW1ib2wgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJykuU3ltYm9sO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHJlcXVpcmUoJy4vJC51aWQnKSkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTsiLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmNvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl0gfHwgaXRbJ0BAaXRlcmF0b3InXSB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTsiLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JylcbiAgLCBnZXQgICAgICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5jb3JlJykuZ2V0SXRlcmF0b3IgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBpdGVyRm4gPSBnZXQoaXQpO1xuICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIHJldHVybiBhbk9iamVjdChpdGVyRm4uY2FsbChpdCkpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ICAgICAgICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCAkZGVmICAgICAgICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsIHRvT2JqZWN0ICAgID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuLyQuaXRlci1jYWxsJylcbiAgLCBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vJC5pcy1hcnJheS1pdGVyJylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vJC50by1sZW5ndGgnKVxuICAsIGdldEl0ZXJGbiAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXJlcXVpcmUoJy4vJC5pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pe1xuICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKVxuICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheVxuICAgICAgLCBtYXBmbiAgID0gYXJndW1lbnRzWzFdXG4gICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG4gICAgICAsIGluZGV4ICAgPSAwXG4gICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTylcbiAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFyZ3VtZW50c1syXSwgMik7XG4gICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG4gICAgaWYoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpe1xuICAgICAgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4Kyspe1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcihyZXN1bHQgPSBuZXcgQyhsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCkpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIHNldFVuc2NvcGUgPSByZXF1aXJlKCcuLyQudW5zY29wZScpXG4gICwgc3RlcCAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyLXN0ZXAnKVxuICAsIEl0ZXJhdG9ycyAgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJylcbiAgLCB0b0lPYmplY3QgID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi8kLml0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuc2V0VW5zY29wZSgna2V5cycpO1xuc2V0VW5zY29wZSgndmFsdWVzJyk7XG5zZXRVbnNjb3BlKCdlbnRyaWVzJyk7IiwiLy8gMjAuMi4yLjI4IE1hdGguc2lnbih4KVxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5TLCAnTWF0aCcsIHtzaWduOiByZXF1aXJlKCcuLyQuc2lnbicpfSk7IiwiLy8gMjAuMS4yLjEgTnVtYmVyLkVQU0lMT05cbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuXG4kZGVmKCRkZWYuUywgJ051bWJlcicsIHtFUFNJTE9OOiBNYXRoLnBvdygyLCAtNTIpfSk7IiwiLy8gMjAuMS4yLjYgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuXG4kZGVmKCRkZWYuUywgJ051bWJlcicsIHtNQVhfU0FGRV9JTlRFR0VSOiAweDFmZmZmZmZmZmZmZmZmfSk7IiwiLy8gMjAuMS4yLjEwIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSXG52YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcblxuJGRlZigkZGVmLlMsICdOdW1iZXInLCB7TUlOX1NBRkVfSU5URUdFUjogLTB4MWZmZmZmZmZmZmZmZmZ9KTsiLCIvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5TICsgJGRlZi5GLCAnT2JqZWN0Jywge2Fzc2lnbjogcmVxdWlyZSgnLi8kLmFzc2lnbicpfSk7IiwiLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vJC5vYmplY3Qtc2FwJykoJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsIGZ1bmN0aW9uKCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTylcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vJC50by1vYmplY3QnKTtcblxucmVxdWlyZSgnLi8kLm9iamVjdC1zYXAnKSgna2V5cycsIGZ1bmN0aW9uKCRrZXlzKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGtleXMoaXQpe1xuICAgIHJldHVybiAka2V5cyh0b09iamVjdChpdCkpO1xuICB9O1xufSk7IiwiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuJGRlZigkZGVmLlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vJC5zZXQtcHJvdG8nKS5zZXR9KTsiLG51bGwsIid1c2Ugc3RyaWN0JztcbnZhciAkICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBMSUJSQVJZICAgID0gcmVxdWlyZSgnLi8kLmxpYnJhcnknKVxuICAsIGdsb2JhbCAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjdHggICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgY2xhc3NvZiAgICA9IHJlcXVpcmUoJy4vJC5jbGFzc29mJylcbiAgLCAkZGVmICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgaXNPYmplY3QgICA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ICAgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gID0gcmVxdWlyZSgnLi8kLmEtZnVuY3Rpb24nKVxuICAsIHN0cmljdE5ldyAgPSByZXF1aXJlKCcuLyQuc3RyaWN0LW5ldycpXG4gICwgZm9yT2YgICAgICA9IHJlcXVpcmUoJy4vJC5mb3Itb2YnKVxuICAsIHNldFByb3RvICAgPSByZXF1aXJlKCcuLyQuc2V0LXByb3RvJykuc2V0XG4gICwgc2FtZSAgICAgICA9IHJlcXVpcmUoJy4vJC5zYW1lJylcbiAgLCBzcGVjaWVzICAgID0gcmVxdWlyZSgnLi8kLnNwZWNpZXMnKVxuICAsIFNQRUNJRVMgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ3NwZWNpZXMnKVxuICAsIFJFQ09SRCAgICAgPSByZXF1aXJlKCcuLyQudWlkJykoJ3JlY29yZCcpXG4gICwgYXNhcCAgICAgICA9IHJlcXVpcmUoJy4vJC5taWNyb3Rhc2snKVxuICAsIFBST01JU0UgICAgPSAnUHJvbWlzZSdcbiAgLCBwcm9jZXNzICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBpc05vZGUgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcydcbiAgLCBQICAgICAgICAgID0gZ2xvYmFsW1BST01JU0VdXG4gICwgV3JhcHBlcjtcblxudmFyIHRlc3RSZXNvbHZlID0gZnVuY3Rpb24oc3ViKXtcbiAgdmFyIHRlc3QgPSBuZXcgUChmdW5jdGlvbigpe30pO1xuICBpZihzdWIpdGVzdC5jb25zdHJ1Y3RvciA9IE9iamVjdDtcbiAgcmV0dXJuIFAucmVzb2x2ZSh0ZXN0KSA9PT0gdGVzdDtcbn07XG5cbnZhciB1c2VOYXRpdmUgPSBmdW5jdGlvbigpe1xuICB2YXIgd29ya3MgPSBmYWxzZTtcbiAgZnVuY3Rpb24gUDIoeCl7XG4gICAgdmFyIHNlbGYgPSBuZXcgUCh4KTtcbiAgICBzZXRQcm90byhzZWxmLCBQMi5wcm90b3R5cGUpO1xuICAgIHJldHVybiBzZWxmO1xuICB9XG4gIHRyeSB7XG4gICAgd29ya3MgPSBQICYmIFAucmVzb2x2ZSAmJiB0ZXN0UmVzb2x2ZSgpO1xuICAgIHNldFByb3RvKFAyLCBQKTtcbiAgICBQMi5wcm90b3R5cGUgPSAkLmNyZWF0ZShQLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7dmFsdWU6IFAyfX0pO1xuICAgIC8vIGFjdHVhbCBGaXJlZm94IGhhcyBicm9rZW4gc3ViY2xhc3Mgc3VwcG9ydCwgdGVzdCB0aGF0XG4gICAgaWYoIShQMi5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KSBpbnN0YW5jZW9mIFAyKSl7XG4gICAgICB3b3JrcyA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBhY3R1YWwgVjggYnVnLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDE2MlxuICAgIGlmKHdvcmtzICYmIHJlcXVpcmUoJy4vJC5zdXBwb3J0LWRlc2MnKSl7XG4gICAgICB2YXIgdGhlbmFibGVUaGVuR290dGVuID0gZmFsc2U7XG4gICAgICBQLnJlc29sdmUoJC5zZXREZXNjKHt9LCAndGhlbicsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpeyB0aGVuYWJsZVRoZW5Hb3R0ZW4gPSB0cnVlOyB9XG4gICAgICB9KSk7XG4gICAgICB3b3JrcyA9IHRoZW5hYmxlVGhlbkdvdHRlbjtcbiAgICB9XG4gIH0gY2F0Y2goZSl7IHdvcmtzID0gZmFsc2U7IH1cbiAgcmV0dXJuIHdvcmtzO1xufSgpO1xuXG4vLyBoZWxwZXJzXG52YXIgaXNQcm9taXNlID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmICh1c2VOYXRpdmUgPyBjbGFzc29mKGl0KSA9PSAnUHJvbWlzZScgOiBSRUNPUkQgaW4gaXQpO1xufTtcbnZhciBzYW1lQ29uc3RydWN0b3IgPSBmdW5jdGlvbihhLCBiKXtcbiAgLy8gbGlicmFyeSB3cmFwcGVyIHNwZWNpYWwgY2FzZVxuICBpZihMSUJSQVJZICYmIGEgPT09IFAgJiYgYiA9PT0gV3JhcHBlcilyZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHNhbWUoYSwgYik7XG59O1xudmFyIGdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oQyl7XG4gIHZhciBTID0gYW5PYmplY3QoQylbU1BFQ0lFU107XG4gIHJldHVybiBTICE9IHVuZGVmaW5lZCA/IFMgOiBDO1xufTtcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbihyZWNvcmQsIGlzUmVqZWN0KXtcbiAgaWYocmVjb3JkLm4pcmV0dXJuO1xuICByZWNvcmQubiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHJlY29yZC5jO1xuICBhc2FwKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZhbHVlID0gcmVjb3JkLnZcbiAgICAgICwgb2sgICAgPSByZWNvcmQucyA9PSAxXG4gICAgICAsIGkgICAgID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24ocmVhY3Qpe1xuICAgICAgdmFyIGNiID0gb2sgPyByZWFjdC5vayA6IHJlYWN0LmZhaWxcbiAgICAgICAgLCByZXQsIHRoZW47XG4gICAgICB0cnkge1xuICAgICAgICBpZihjYil7XG4gICAgICAgICAgaWYoIW9rKXJlY29yZC5oID0gdHJ1ZTtcbiAgICAgICAgICByZXQgPSBjYiA9PT0gdHJ1ZSA/IHZhbHVlIDogY2IodmFsdWUpO1xuICAgICAgICAgIGlmKHJldCA9PT0gcmVhY3QuUCl7XG4gICAgICAgICAgICByZWFjdC5yZWooVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZih0aGVuID0gaXNUaGVuYWJsZShyZXQpKXtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXQsIHJlYWN0LnJlcywgcmVhY3QucmVqKTtcbiAgICAgICAgICB9IGVsc2UgcmVhY3QucmVzKHJldCk7XG4gICAgICAgIH0gZWxzZSByZWFjdC5yZWoodmFsdWUpO1xuICAgICAgfSBjYXRjaChlcnIpe1xuICAgICAgICByZWFjdC5yZWooZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIGNoYWluLmxlbmd0aCA9IDA7XG4gICAgcmVjb3JkLm4gPSBmYWxzZTtcbiAgICBpZihpc1JlamVjdClzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBpZihpc1VuaGFuZGxlZChyZWNvcmQucCkpe1xuICAgICAgICBpZihpc05vZGUpe1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHJlY29yZC5wKTtcbiAgICAgICAgfSBlbHNlIGlmKGdsb2JhbC5jb25zb2xlICYmIGNvbnNvbGUuZXJyb3Ipe1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSByZWNvcmQuYSA9IHVuZGVmaW5lZDtcbiAgICB9LCAxKTtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIHZhciByZWNvcmQgPSBwcm9taXNlW1JFQ09SRF1cbiAgICAsIGNoYWluICA9IHJlY29yZC5hIHx8IHJlY29yZC5jXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCByZWFjdDtcbiAgaWYocmVjb3JkLmgpcmV0dXJuIGZhbHNlO1xuICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXtcbiAgICByZWFjdCA9IGNoYWluW2krK107XG4gICAgaWYocmVhY3QuZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3QuUCkpcmV0dXJuIGZhbHNlO1xuICB9IHJldHVybiB0cnVlO1xufTtcbnZhciAkcmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcmVjb3JkID0gdGhpcztcbiAgaWYocmVjb3JkLmQpcmV0dXJuO1xuICByZWNvcmQuZCA9IHRydWU7XG4gIHJlY29yZCA9IHJlY29yZC5yIHx8IHJlY29yZDsgLy8gdW53cmFwXG4gIHJlY29yZC52ID0gdmFsdWU7XG4gIHJlY29yZC5zID0gMjtcbiAgcmVjb3JkLmEgPSByZWNvcmQuYy5zbGljZSgpO1xuICBub3RpZnkocmVjb3JkLCB0cnVlKTtcbn07XG52YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciByZWNvcmQgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihyZWNvcmQuZClyZXR1cm47XG4gIHJlY29yZC5kID0gdHJ1ZTtcbiAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZih0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpe1xuICAgICAgYXNhcChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgd3JhcHBlciA9IHtyOiByZWNvcmQsIGQ6IGZhbHNlfTsgLy8gd3JhcFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWNvcmQudiA9IHZhbHVlO1xuICAgICAgcmVjb3JkLnMgPSAxO1xuICAgICAgbm90aWZ5KHJlY29yZCwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaChlKXtcbiAgICAkcmVqZWN0LmNhbGwoe3I6IHJlY29yZCwgZDogZmFsc2V9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYoIXVzZU5hdGl2ZSl7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gIFAgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcbiAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuICAgIHZhciByZWNvcmQgPSB7XG4gICAgICBwOiBzdHJpY3ROZXcodGhpcywgUCwgUFJPTUlTRSksICAgICAgICAgLy8gPC0gcHJvbWlzZVxuICAgICAgYzogW10sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgICAgYTogdW5kZWZpbmVkLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgICBzOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICAgIGQ6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBkb25lXG4gICAgICB2OiB1bmRlZmluZWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gdmFsdWVcbiAgICAgIGg6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBoYW5kbGVkIHJlamVjdGlvblxuICAgICAgbjogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICAgIH07XG4gICAgdGhpc1tSRUNPUkRdID0gcmVjb3JkO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHJlY29yZCwgMSksIGN0eCgkcmVqZWN0LCByZWNvcmQsIDEpKTtcbiAgICB9IGNhdGNoKGVycil7XG4gICAgICAkcmVqZWN0LmNhbGwocmVjb3JkLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgcmVxdWlyZSgnLi8kLm1peCcpKFAucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcbiAgICAgIHZhciBTID0gYW5PYmplY3QoYW5PYmplY3QodGhpcykuY29uc3RydWN0b3IpW1NQRUNJRVNdO1xuICAgICAgdmFyIHJlYWN0ID0ge1xuICAgICAgICBvazogICB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZSxcbiAgICAgICAgZmFpbDogdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAgPyBvblJlamVjdGVkICA6IGZhbHNlXG4gICAgICB9O1xuICAgICAgdmFyIHByb21pc2UgPSByZWFjdC5QID0gbmV3IChTICE9IHVuZGVmaW5lZCA/IFMgOiBQKShmdW5jdGlvbihyZXMsIHJlail7XG4gICAgICAgIHJlYWN0LnJlcyA9IGFGdW5jdGlvbihyZXMpO1xuICAgICAgICByZWFjdC5yZWogPSBhRnVuY3Rpb24ocmVqKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJlY29yZCA9IHRoaXNbUkVDT1JEXTtcbiAgICAgIHJlY29yZC5jLnB1c2gocmVhY3QpO1xuICAgICAgaWYocmVjb3JkLmEpcmVjb3JkLmEucHVzaChyZWFjdCk7XG4gICAgICBpZihyZWNvcmQucylub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCl7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gZXhwb3J0XG4kZGVmKCRkZWYuRyArICRkZWYuVyArICRkZWYuRiAqICF1c2VOYXRpdmUsIHtQcm9taXNlOiBQfSk7XG5yZXF1aXJlKCcuLyQudGFnJykoUCwgUFJPTUlTRSk7XG5zcGVjaWVzKFApO1xuc3BlY2llcyhXcmFwcGVyID0gcmVxdWlyZSgnLi8kLmNvcmUnKVtQUk9NSVNFXSk7XG5cbi8vIHN0YXRpY3NcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXVzZU5hdGl2ZSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKXtcbiAgICByZXR1cm4gbmV3IHRoaXMoZnVuY3Rpb24ocmVzLCByZWopeyByZWoocik7IH0pO1xuICB9XG59KTtcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogKCF1c2VOYXRpdmUgfHwgdGVzdFJlc29sdmUodHJ1ZSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpe1xuICAgIHJldHVybiBpc1Byb21pc2UoeCkgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpXG4gICAgICA/IHggOiBuZXcgdGhpcyhmdW5jdGlvbihyZXMpeyByZXMoeCk7IH0pO1xuICB9XG59KTtcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogISh1c2VOYXRpdmUgJiYgcmVxdWlyZSgnLi8kLml0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7XG4gIFAuYWxsKGl0ZXIpWydjYXRjaCddKGZ1bmN0aW9uKCl7fSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgID0gZ2V0Q29uc3RydWN0b3IodGhpcylcbiAgICAgICwgdmFsdWVzID0gW107XG4gICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uKHJlcywgcmVqKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgdmFsdWVzLnB1c2gsIHZhbHVlcyk7XG4gICAgICB2YXIgcmVtYWluaW5nID0gdmFsdWVzLmxlbmd0aFxuICAgICAgICAsIHJlc3VsdHMgICA9IEFycmF5KHJlbWFpbmluZyk7XG4gICAgICBpZihyZW1haW5pbmcpJC5lYWNoLmNhbGwodmFsdWVzLCBmdW5jdGlvbihwcm9taXNlLCBpbmRleCl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlcyhyZXN1bHRzKTtcbiAgICAgICAgfSwgcmVqKTtcbiAgICAgIH0pO1xuICAgICAgZWxzZSByZXMocmVzdWx0cyk7XG4gICAgfSk7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgPSBnZXRDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24ocmVzLCByZWope1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4ocmVzLCByZWopO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi8kLnN0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuLyQuaXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgJCAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGFzJylcbiAgLCBTVVBQT1JUX0RFU0MgICA9IHJlcXVpcmUoJy4vJC5zdXBwb3J0LWRlc2MnKVxuICAsICRkZWYgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgJHJlZGVmICAgICAgICAgPSByZXF1aXJlKCcuLyQucmVkZWYnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi8kLnNoYXJlZCcpXG4gICwgc2V0VGFnICAgICAgICAgPSByZXF1aXJlKCcuLyQudGFnJylcbiAgLCB1aWQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC51aWQnKVxuICAsIHdrcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLndrcycpXG4gICwga2V5T2YgICAgICAgICAgPSByZXF1aXJlKCcuLyQua2V5b2YnKVxuICAsICRuYW1lcyAgICAgICAgID0gcmVxdWlyZSgnLi8kLmdldC1uYW1lcycpXG4gICwgZW51bUtleXMgICAgICAgPSByZXF1aXJlKCcuLyQuZW51bS1rZXlzJylcbiAgLCBpc09iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuLyQucHJvcGVydHktZGVzYycpXG4gICwgZ2V0RGVzYyAgICAgICAgPSAkLmdldERlc2NcbiAgLCBzZXREZXNjICAgICAgICA9ICQuc2V0RGVzY1xuICAsIF9jcmVhdGUgICAgICAgID0gJC5jcmVhdGVcbiAgLCBnZXROYW1lcyAgICAgICA9ICRuYW1lcy5nZXRcbiAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcbiAgLCBzZXR0ZXIgICAgICAgICA9IGZhbHNlXG4gICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuICAsIGlzRW51bSAgICAgICAgID0gJC5pc0VudW1cbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgdXNlTmF0aXZlICAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3QucHJvdG90eXBlO1xuXG52YXIgc2V0U3ltYm9sRGVzYyA9IFNVUFBPUlRfREVTQyA/IGZ1bmN0aW9uKCl7IC8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZFxuICB0cnkge1xuICAgIHJldHVybiBfY3JlYXRlKHNldERlc2Moe30sIEhJRERFTiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gc2V0RGVzYyh0aGlzLCBISURERU4sIHt2YWx1ZTogZmFsc2V9KVtISURERU5dO1xuICAgICAgfVxuICAgIH0pKVtISURERU5dIHx8IHNldERlc2M7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICAgICAgdmFyIHByb3RvRGVzYyA9IGdldERlc2MoT2JqZWN0UHJvdG8sIGtleSk7XG4gICAgICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gICAgICBzZXREZXNjKGl0LCBrZXksIEQpO1xuICAgICAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylzZXREZXNjKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG4gICAgfTtcbiAgfVxufSgpIDogc2V0RGVzYztcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sLnByb3RvdHlwZSk7XG4gIHN5bS5fayA9IHRhZztcbiAgU1VQUE9SVF9ERVNDICYmIHNldHRlciAmJiBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlzZXREZXNjKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBzZXREZXNjKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcbiAgICAsIGkgICAgPSAwXG4gICAgLCBsID0ga2V5cy5sZW5ndGhcbiAgICAsIGtleTtcbiAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkpO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldXG4gICAgPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgdmFyIEQgPSBnZXREZXNjKGl0ID0gdG9JT2JqZWN0KGl0KSwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOKXJlc3VsdC5wdXNoKGtleSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmKCF1c2VOYXRpdmUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcbiAgICByZXR1cm4gd3JhcCh1aWQoYXJndW1lbnRzWzBdKSk7XG4gIH07XG4gICRyZWRlZigkU3ltYm9sLnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJC5jcmVhdGUgICAgID0gJGNyZWF0ZTtcbiAgJC5pc0VudW0gICAgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICAkLmdldERlc2MgICAgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkLnNldERlc2MgICAgPSAkZGVmaW5lUHJvcGVydHk7XG4gICQuc2V0RGVzY3MgICA9ICRkZWZpbmVQcm9wZXJ0aWVzO1xuICAkLmdldE5hbWVzICAgPSAkbmFtZXMuZ2V0ID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gICQuZ2V0U3ltYm9scyA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYoU1VQUE9SVF9ERVNDICYmICFyZXF1aXJlKCcuLyQubGlicmFyeScpKXtcbiAgICAkcmVkZWYoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cbn1cblxuLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbi8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIGluIG9iamVjdHMgdG8gSlNPTiBhcyBudWxsXG5pZighdXNlTmF0aXZlIHx8IHJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShbe2E6ICRTeW1ib2woKX0sIFskU3ltYm9sKCldXSkgIT0gJ1t7fSxbbnVsbF1dJztcbn0pKSRyZWRlZigkU3ltYm9sLnByb3RvdHlwZSwgJ3RvSlNPTicsIGZ1bmN0aW9uIHRvSlNPTigpe1xuICBpZih1c2VOYXRpdmUgJiYgaXNPYmplY3QodGhpcykpcmV0dXJuIHRoaXM7XG59KTtcblxudmFyIHN5bWJvbFN0YXRpY3MgPSB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn07XG4vLyAxOS40LjIuMiBTeW1ib2wuaGFzSW5zdGFuY2Vcbi8vIDE5LjQuMi4zIFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGVcbi8vIDE5LjQuMi40IFN5bWJvbC5pdGVyYXRvclxuLy8gMTkuNC4yLjYgU3ltYm9sLm1hdGNoXG4vLyAxOS40LjIuOCBTeW1ib2wucmVwbGFjZVxuLy8gMTkuNC4yLjkgU3ltYm9sLnNlYXJjaFxuLy8gMTkuNC4yLjEwIFN5bWJvbC5zcGVjaWVzXG4vLyAxOS40LjIuMTEgU3ltYm9sLnNwbGl0XG4vLyAxOS40LjIuMTIgU3ltYm9sLnRvUHJpbWl0aXZlXG4vLyAxOS40LjIuMTMgU3ltYm9sLnRvU3RyaW5nVGFnXG4vLyAxOS40LjIuMTQgU3ltYm9sLnVuc2NvcGFibGVzXG4kLmVhY2guY2FsbCgoXG4gICAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCwnICtcbiAgICAnc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbiAgKS5zcGxpdCgnLCcpLCBmdW5jdGlvbihpdCl7XG4gICAgdmFyIHN5bSA9IHdrcyhpdCk7XG4gICAgc3ltYm9sU3RhdGljc1tpdF0gPSB1c2VOYXRpdmUgPyBzeW0gOiB3cmFwKHN5bSk7XG4gIH1cbik7XG5cbnNldHRlciA9IHRydWU7XG5cbiRkZWYoJGRlZi5HICsgJGRlZi5XLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbiRkZWYoJGRlZi5TLCAnU3ltYm9sJywgc3ltYm9sU3RhdGljcyk7XG5cbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXVzZU5hdGl2ZSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJyk7XG5JdGVyYXRvcnMuTm9kZUxpc3QgPSBJdGVyYXRvcnMuSFRNTENvbGxlY3Rpb24gPSBJdGVyYXRvcnMuQXJyYXk7IiwidmFyIGdsb2JhbCAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgID0gcmVxdWlyZSgnLi8kLmNvcmUnKVxuICAsIGhpZGUgICAgICAgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgJHJlZGVmICAgICA9IHJlcXVpcmUoJy4vJC5yZWRlZicpXG4gICwgUFJPVE9UWVBFICA9ICdwcm90b3R5cGUnO1xudmFyIGN0eCA9IGZ1bmN0aW9uKGZuLCB0aGF0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xudmFyICRkZWYgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIga2V5LCBvd24sIG91dCwgZXhwXG4gICAgLCBpc0dsb2JhbCA9IHR5cGUgJiAkZGVmLkdcbiAgICAsIGlzUHJvdG8gID0gdHlwZSAmICRkZWYuUFxuICAgICwgdGFyZ2V0ICAgPSBpc0dsb2JhbCA/IGdsb2JhbCA6IHR5cGUgJiAkZGVmLlNcbiAgICAgICAgPyBnbG9iYWxbbmFtZV0gfHwgKGdsb2JhbFtuYW1lXSA9IHt9KSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGV4cG9ydHMgID0gaXNHbG9iYWwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgaWYoaXNHbG9iYWwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICEodHlwZSAmICRkZWYuRikgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSAob3duID8gdGFyZ2V0IDogc291cmNlKVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgaWYodHlwZSAmICRkZWYuQiAmJiBvd24pZXhwID0gY3R4KG91dCwgZ2xvYmFsKTtcbiAgICBlbHNlIGV4cCA9IGlzUHJvdG8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIGlmKHRhcmdldCAmJiAhb3duKSRyZWRlZih0YXJnZXQsIGtleSwgb3V0KTtcbiAgICAvLyBleHBvcnRcbiAgICBpZihleHBvcnRzW2tleV0gIT0gb3V0KWhpZGUoZXhwb3J0cywga2V5LCBleHApO1xuICAgIGlmKGlzUHJvdG8pKGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pKVtrZXldID0gb3V0O1xuICB9XG59O1xuZ2xvYmFsLmNvcmUgPSBjb3JlO1xuLy8gdHlwZSBiaXRtYXBcbiRkZWYuRiA9IDE7ICAvLyBmb3JjZWRcbiRkZWYuRyA9IDI7ICAvLyBnbG9iYWxcbiRkZWYuUyA9IDQ7ICAvLyBzdGF0aWNcbiRkZWYuUCA9IDg7ICAvLyBwcm90b1xuJGRlZi5CID0gMTY7IC8vIGJpbmRcbiRkZWYuVyA9IDMyOyAvLyB3cmFwXG5tb2R1bGUuZXhwb3J0cyA9ICRkZWY7IiwibW9kdWxlLmV4cG9ydHMgPSBmYWxzZTsiLCIvLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZ1xuLy8gZm9yIGNvcnJlY3Qgd29yayB3cmFwcGVkIG1ldGhvZHMgLyBjb25zdHJ1Y3RvcnMgd2l0aCBtZXRob2RzIGxpa2UgTG9EYXNoIGlzTmF0aXZlXG52YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsIFNSQyAgICAgICA9IHJlcXVpcmUoJy4vJC51aWQnKSgnc3JjJylcbiAgLCBUT19TVFJJTkcgPSAndG9TdHJpbmcnXG4gICwgJHRvU3RyaW5nID0gRnVuY3Rpb25bVE9fU1RSSU5HXVxuICAsIFRQTCAgICAgICA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi8kLmNvcmUnKS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpO1xufTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywga2V5LCB2YWwsIHNhZmUpe1xuICBpZih0eXBlb2YgdmFsID09ICdmdW5jdGlvbicpe1xuICAgIGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgICBpZighKCduYW1lJyBpbiB2YWwpKXZhbC5uYW1lID0ga2V5O1xuICB9XG4gIGlmKE8gPT09IGdsb2JhbCl7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGlmKCFzYWZlKWRlbGV0ZSBPW2tleV07XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH1cbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzW1NSQ10gfHwgJHRvU3RyaW5nLmNhbGwodGhpcyk7XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi8kLnRvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVwZWF0KGNvdW50KXtcbiAgdmFyIHN0ciA9IFN0cmluZyhkZWZpbmVkKHRoaXMpKVxuICAgICwgcmVzID0gJydcbiAgICAsIG4gICA9IHRvSW50ZWdlcihjb3VudCk7XG4gIGlmKG4gPCAwIHx8IG4gPT0gSW5maW5pdHkpdGhyb3cgUmFuZ2VFcnJvcihcIkNvdW50IGNhbid0IGJlIG5lZ2F0aXZlXCIpO1xuICBmb3IoO24gPiAwOyAobiA+Pj49IDEpICYmIChzdHIgKz0gc3RyKSlpZihuICYgMSlyZXMgKz0gc3RyO1xuICByZXR1cm4gcmVzO1xufTsiLCIvLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG52YXIgVU5TQ09QQUJMRVMgPSByZXF1aXJlKCcuLyQud2tzJykoJ3Vuc2NvcGFibGVzJyk7XG5pZighKFVOU0NPUEFCTEVTIGluIFtdKSlyZXF1aXJlKCcuLyQuaGlkZScpKEFycmF5LnByb3RvdHlwZSwgVU5TQ09QQUJMRVMsIHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgW11bVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTsiLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKVxuICAsIHRlc3QgICAgPSB7fTtcbnRlc3RbcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpXSA9ICd6JztcbmlmKHRlc3QgKyAnJyAhPSAnW29iamVjdCB6XScpe1xuICByZXF1aXJlKCcuLyQucmVkZWYnKShPYmplY3QucHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiAnW29iamVjdCAnICsgY2xhc3NvZih0aGlzKSArICddJztcbiAgfSwgdHJ1ZSk7XG59IiwidmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5QLCAnU3RyaW5nJywge1xuICAvLyAyMS4xLjMuMTMgU3RyaW5nLnByb3RvdHlwZS5yZXBlYXQoY291bnQpXG4gIHJlcGVhdDogcmVxdWlyZSgnLi8kLnN0cmluZy1yZXBlYXQnKVxufSk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgICAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsIEl0ZXJhdG9ycyAgID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBOTCAgICAgICAgICA9IGdsb2JhbC5Ob2RlTGlzdFxuICAsIEhUQyAgICAgICAgID0gZ2xvYmFsLkhUTUxDb2xsZWN0aW9uXG4gICwgTkxQcm90byAgICAgPSBOTCAmJiBOTC5wcm90b3R5cGVcbiAgLCBIVENQcm90byAgICA9IEhUQyAmJiBIVEMucHJvdG90eXBlXG4gICwgQXJyYXlWYWx1ZXMgPSBJdGVyYXRvcnMuTm9kZUxpc3QgPSBJdGVyYXRvcnMuSFRNTENvbGxlY3Rpb24gPSBJdGVyYXRvcnMuQXJyYXk7XG5pZihOTCAmJiAhKElURVJBVE9SIGluIE5MUHJvdG8pKWhpZGUoTkxQcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbmlmKEhUQyAmJiAhKElURVJBVE9SIGluIEhUQ1Byb3RvKSloaWRlKEhUQ1Byb3RvLCBJVEVSQVRPUiwgQXJyYXlWYWx1ZXMpOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWZlcmVuY2UgPSByZXF1aXJlKFwiLi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdHlwZXNQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIERlY2xhcmF0aXZlRW52aXJvbm1lbnQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBEZWNsYXJhdGl2ZUVudmlyb25tZW50KHBhcmVudCwgdGhpc0FyZywgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY2xhcmF0aXZlRW52aXJvbm1lbnQpO1xuXG5cdFx0dGhpcy5wcm9wZXJ0aWVzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQgJiYgcGFyZW50LnNjb3BlO1xuXHRcdHRoaXMuc3RyaWN0ID0gcGFyZW50LnN0cmljdDtcblx0XHR0aGlzLnRoaXNCaW5kaW5nID0gdGhpc0FyZztcblx0XHR0aGlzLmVudiA9IGVudjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhEZWNsYXJhdGl2ZUVudmlyb25tZW50LCBbe1xuXHRcdGtleTogXCJzZXRQYXJlbnRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0UGFyZW50KHBhcmVudCkge1xuXHRcdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQuc2NvcGUgfHwgcGFyZW50O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRSZWZlcmVuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKGtleSkge1xuXHRcdFx0dmFyIHJlZiA9IG5ldyBfcmVmZXJlbmNlLlJlZmVyZW5jZShrZXksIHRoaXMsIHRoaXMuZW52KTtcblx0XHRcdHJlZi51bnF1YWxpZmllZCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVmO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0cmV0dXJuIGtleSBpbiB0aGlzLnByb3BlcnRpZXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcIm93bnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gb3ducyhrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLmhhcyhrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWxldGVWYXJpYWJsZShrZXkpIHtcblx0XHRcdGlmICghdGhpcy5oYXMoa2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnByb3BlcnRpZXNba2V5XS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWxldGUgdGhpcy5wcm9wZXJ0aWVzW2tleV07XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVmFyaWFibGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVmFyaWFibGUoa2V5KSB7XG5cdFx0XHRpZiAodGhpcy5oYXMoa2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW2tleV07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLnByb3BlcnRpZXNba2V5XSA9IG5ldyBfdHlwZXNQcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHtcblx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZCxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJwdXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwdXRWYWx1ZShrZXksIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmhhcyhrZXkpKSB7XG5cdFx0XHRcdGlmICghdGhpcy5wcm9wZXJ0aWVzW2tleV0ud3JpdGFibGUpIHtcblx0XHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHRvIGltbXV0YWJsZSBiaW5kaW5nOiBcIiArIGtleSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5wcm9wZXJ0aWVzW2tleV0uc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIF9wYXJlbnQ7XG5cblx0XHRcdFx0KF9wYXJlbnQgPSB0aGlzLnBhcmVudCkucHV0VmFsdWUuYXBwbHkoX3BhcmVudCwgYXJndW1lbnRzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoa2V5LCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmhhcyhrZXkpKSB7XG5cdFx0XHRcdGlmICghdGhpcy5wcm9wZXJ0aWVzW2tleV0udmFsdWUpIHtcblx0XHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3Ioa2V5ICsgXCIgaXMgbm90IGRlZmluZWRcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0aGlzLnByb3BlcnRpZXNba2V5XS5nZXRWYWx1ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRUaGlzQmluZGluZ1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRUaGlzQmluZGluZygpIHtcblx0XHRcdHJldHVybiB0aGlzLnRoaXNCaW5kaW5nO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBEZWNsYXJhdGl2ZUVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5EZWNsYXJhdGl2ZUVudmlyb25tZW50ID0gRGVjbGFyYXRpdmVFbnZpcm9ubWVudDsiLCIvLyB0b2RvOiBzd2l0Y2ggdG8gZXN0cmVlLXdhbGtlclxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnZpc2l0ID0gdmlzaXQ7XG5cbmZ1bmN0aW9uIHZpc2l0KG5vZGUsIGNhbGxiYWNrKSB7XG5cdGlmICghbm9kZSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG5cdFx0bm9kZS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXQobiwgY2FsbGJhY2spO1xuXHRcdH0pO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHN3aXRjaCAobm9kZS50eXBlKSB7XG5cdFx0Y2FzZSBcIlByb2dyYW1cIjpcblx0XHRjYXNlIFwiQmxvY2tTdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiQ2F0Y2hDbGF1c2VcIjpcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRG9XaGlsZVN0YXRlbWVudFwiOlxuXHRcdGNhc2UgXCJXaGlsZVN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS50ZXN0LCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkV4cHJlc3Npb25TdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuZXhwcmVzc2lvbiwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRm9yU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmluaXQsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRm9ySW5TdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUubGVmdCwgY2FsbGJhY2spO1xuXHRcdFx0dmlzaXQobm9kZS5ib2R5LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJJZlN0YXRlbWVudFwiOlxuXHRcdFx0Ly8gZG8gbm90IHNjYW4gYHRlc3RgXG5cdFx0XHR2aXNpdChub2RlLmNvbnNlcXVlbnQsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuYWx0ZXJuYXRlLCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJMYWJlbGVkU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIlN3aXRjaFN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5kaXNjcmltaW5hbnQsIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIlN3aXRjaENhc2VcIjpcblx0XHRcdHZpc2l0KG5vZGUuY29uc2VxdWVudCwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiVHJ5U3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmJsb2NrLCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmhhbmRsZXIsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuZmluYWxpemVyLCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJWYXJpYWJsZURlY2xhcmF0aW9uXCI6XG5cdFx0XHR2aXNpdChub2RlLmRlY2xhcmF0aW9ucywgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiOlxuXHRcdGNhc2UgXCJWYXJpYWJsZURlY2xhcmF0b3JcIjpcblx0XHRcdGNhbGxiYWNrKG5vZGUpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRkZWZhdWx0OlxuXHRcdC8vIGlnbm9yZSBhbGwgb3RoZXIgbm9kZXNcblx0fVxufVxuXG47IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRhc3NpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ25cIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2V4ZWN1dGlvbkNvbnRleHQgPSByZXF1aXJlKFwiLi4vZXhlY3V0aW9uLWNvbnRleHRcIik7XG5cbnZhciBfZGVjbGFyYXRpdmVFbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL2RlY2xhcmF0aXZlLWVudmlyb25tZW50XCIpO1xuXG52YXIgX29iamVjdEVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vb2JqZWN0LWVudmlyb25tZW50XCIpO1xuXG52YXIgX3JlZmVyZW5jZSA9IHJlcXVpcmUoXCIuL3JlZmVyZW5jZVwiKTtcblxudmFyIF9lczUgPSByZXF1aXJlKFwiLi4vZXM1XCIpO1xuXG52YXIgX2VzNTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lczUpO1xuXG52YXIgX2VzNiA9IHJlcXVpcmUoXCIuLi9lczZcIik7XG5cbnZhciBfZXM2MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzNik7XG5cbnZhciBfdXRpbHNPcGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vdXRpbHMvb3BlcmF0b3JzXCIpO1xuXG52YXIgX3V0aWxzT3BlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzT3BlcmF0b3JzKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3Njb3BlID0gcmVxdWlyZShcIi4vc2NvcGVcIik7XG5cbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0YWxsb3dEZWJ1Z2dlcjogZmFsc2UsXG5cdHVzZVN0cmljdDogZmFsc2UsXG5cdGVjbWFWZXJzaW9uOiA1XG59O1xuXG52YXIgRW52aXJvbm1lbnQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFbnZpcm9ubWVudCgpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW52aXJvbm1lbnQpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEVudmlyb25tZW50LCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRPcHRpb25zIDogYXJndW1lbnRzWzBdO1xuXG5cdFx0XHQvLyBjbGVhciBzdGF0ZSBpbiBjYXNlIG9mIHJlLWluaXRcblx0XHRcdHRoaXMuY3VycmVudCA9IG51bGw7XG5cdFx0XHR0aGlzLmdsb2JhbFNjb3BlID0gbnVsbDtcblxuXHRcdFx0dGhpcy5vcHRpb25zID0gX09iamVjdCRhc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblx0XHRcdChvcHRpb25zLmVjbWFWZXJzaW9uID09PSA2ID8gX2VzNjJbXCJkZWZhdWx0XCJdIDogX2VzNTJbXCJkZWZhdWx0XCJdKSh0aGlzKTtcblxuXHRcdFx0Ly8gdG9kbzogaW1wcm92ZSB0aGlzXG5cdFx0XHR0aGlzLm9wcyA9IF9PYmplY3QkYXNzaWduKF91dGlsc09wZXJhdG9yczJbXCJkZWZhdWx0XCJdLCBvcHRpb25zLm9wZXJhdG9ycyk7XG5cdFx0XHR0aGlzLm9wcy5lbnYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLm9iamVjdEZhY3RvcnkuaW5pdCgpO1xuXG5cdFx0XHRpZiAob3B0aW9ucy5leGNsdWRlICYmIG9wdGlvbnMuZXhjbHVkZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdG9wdGlvbnMuZXhjbHVkZS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdFx0dmFyIHNlZ21lbnRzID0gbmFtZS5zcGxpdChcIi5cIik7XG5cdFx0XHRcdFx0dmFyIHBhcmVudCA9IF90aGlzLmdsb2JhbDtcblxuXHRcdFx0XHRcdHdoaWxlIChzZWdtZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQuZ2V0VmFsdWUoc2VnbWVudHMuc2hpZnQoKSk7XG5cblx0XHRcdFx0XHRcdC8vIGFwaSBub3QgZGVmaW5lZCAtIGFzc3VtZSB1c2VyIGVycm9yP1xuXHRcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHBhcmVudC5yZW1vdmUoc2VnbWVudHMuc2hpZnQoKSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIEdldHMgYSByZWZlcmVuY2UgZnJvbSB0aGUgZW52aXJvbm1lbnRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgcHJvcGVydHlcclxuICAgKiBAcmV0dXJucyB7UmVmZXJlbmNlfSBUaGUgcmVmZXJlbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImdldFJlZmVyZW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRSZWZlcmVuY2Uoa2V5KSB7XG5cdFx0XHR2YXIgc2NvcGUgPSB0aGlzLmN1cnJlbnQgJiYgdGhpcy5jdXJyZW50LnNjb3BlO1xuXHRcdFx0d2hpbGUgKHNjb3BlKSB7XG5cdFx0XHRcdGlmIChzY29wZS5vd25zKGtleSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gc2NvcGUuZ2V0UmVmZXJlbmNlKGtleSwgdHJ1ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY29wZSA9IHNjb3BlLnBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG5ldyBfcmVmZXJlbmNlLlJlZmVyZW5jZShrZXksIHVuZGVmaW5lZCwgdGhpcyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0UmVmZXJlbmNlKGtleSkuZ2V0VmFsdWUoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicHV0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcHV0VmFsdWUoa2V5LCB2YWx1ZSwgc3RyaWN0KSB7XG5cdFx0XHR0aGlzLmN1cnJlbnQuc2NvcGUucHV0VmFsdWUoa2V5LCB2YWx1ZSwgc3RyaWN0KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnQuc2NvcGUuaGFzKGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVZhcmlhYmxlKGtleSkge1xuXHRcdFx0dGhpcy5jdXJyZW50LnNjb3BlLmRlbGV0ZVZhcmlhYmxlKGtleSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogRGVjbGFyZXMgYSB2YXJpYWJsZSB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIHRoZSBrZXkgb2YgdGhlIHZhcmlhYmxlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbXV0YWJsZV0gLSB3aGV0aGVyIHRoZSB2YXJpYWJsZSBpcyBpbW11dGFibGUgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtQcm9wZXJ0eURlc2NyaXB0b3J9IFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgbmV3IHZhcmlhYmJsZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVWYXJpYWJsZShrZXksIGltbXV0YWJsZSkge1xuXHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyKGtleSwgdGhpcy5pc1N0cmljdCgpKTtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnQuc2NvcGUuY3JlYXRlVmFyaWFibGUoa2V5LCAhaW1tdXRhYmxlKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlIGlzIGluIHN0cmljdCBtb2RlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIGluIHN0cmljdCBtb2RlOyBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiaXNTdHJpY3RcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNTdHJpY3QoKSB7XG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLnVzZVN0cmljdCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHNjb3BlID0gdGhpcy5jdXJyZW50ICYmIHRoaXMuY3VycmVudC5zY29wZTtcblx0XHRcdHdoaWxlIChzY29wZSkge1xuXHRcdFx0XHRpZiAoc2NvcGUuc3RyaWN0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY29wZSA9IHNjb3BlLnBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgYHRoaXNgIG9iamVjdCBmb3IgdGhlIGVudmlyb25tZW50LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3RUeXBlfSBUaGUgYHRoaXNgIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VGhpc0JpbmRpbmdcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VGhpc0JpbmRpbmcoKSB7XG5cdFx0XHR2YXIgdGhpc0FyZyA9IHRoaXMuY3VycmVudC5zY29wZS5nZXRUaGlzQmluZGluZygpO1xuXHRcdFx0aWYgKHRoaXNBcmcpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXNBcmc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmlzU3RyaWN0KCkpIHtcblx0XHRcdFx0cmV0dXJuIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5nbG9iYWw7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUV4ZWN1dGlvbkNvbnRleHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRXhlY3V0aW9uQ29udGV4dChub2RlLCBjYWxsZWUsIGlzTmV3KSB7XG5cdFx0XHRyZXR1cm4gbmV3IF9leGVjdXRpb25Db250ZXh0LkV4ZWN1dGlvbkNvbnRleHQodGhpcywgbm9kZSwgY2FsbGVlLCBpc05ldyk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBkZWNsYXJhdGl2ZSBzY29wZS5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGV9IFt0aGlzQXJnXSAtIFRoZSBgdGhpc2AgYmluZGluZyBmb3IgdGhlIG5ldyBzY29wZS5cclxuICAgKiBAcmV0dXJucyB7U2NvcGV9IFRoZSBuZXcgc2NvcGUuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlU2NvcGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU2NvcGUodGhpc0FyZykge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0U2NvcGUobmV3IF9kZWNsYXJhdGl2ZUVudmlyb25tZW50LkRlY2xhcmF0aXZlRW52aXJvbm1lbnQodGhpcy5jdXJyZW50LCB0aGlzQXJnLCB0aGlzKSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBzY29wZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgb2JqZWN0LiBUaGlzIGlzIHVzZWQgZm9yIHRoZSBgd2l0aGBcclxuICAgKiBzdGF0ZW1lbnQsIGFzIHdlbGwgYXMgdGhlIGdsb2JhbCBzY29wZS5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGV9IG9iaiAtIFRoZSBvYmplY3QgdG8gYmluZCB0aGUgc2NvcGUgdG8uXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSBbdGhpc0FyZ10gLSBUaGUgYHRoaXNgIGJpbmRpbmcgZm9yIHRoZSBuZXcgc2NvcGUuXHJcbiAgICogQHJldHVybnMge1Njb3BlfSBUaGUgbmV3IHNjb3BlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZU9iamVjdFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFNjb3BlKG9iaiwgdGhpc0FyZykge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0U2NvcGUobmV3IF9vYmplY3RFbnZpcm9ubWVudC5PYmplY3RFbnZpcm9ubWVudCh0aGlzLmN1cnJlbnQsIG9iaiwgdGhpc0FyZywgdGhpcykpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIFNldHMgdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICogQHBhcmFtIHtFbnZpcm9ubWVudH0gc2NvcGUgLSBTZXRzIHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxyXG4gICAqIEByZXR1cm5zIHtTY29wZX0gVGhlIGNyZWF0ZWQgc2NvcGUuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwic2V0U2NvcGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0U2NvcGUoc2NvcGUpIHtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnQgPSBuZXcgX3Njb3BlLlNjb3BlKHRoaXMsIHNjb3BlKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRW52aXJvbm1lbnQ7XG59KSgpO1xuXG5leHBvcnRzLkVudmlyb25tZW50ID0gRW52aXJvbm1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3Byb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4vcHJvcGVydHktcmVmZXJlbmNlXCIpO1xuXG52YXIgT2JqZWN0RW52aXJvbm1lbnQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBPYmplY3RFbnZpcm9ubWVudChwYXJlbnQsIG9iaiwgdGhpc0FyZywgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9iamVjdEVudmlyb25tZW50KTtcblxuXHRcdHRoaXMucGFyZW50ID0gcGFyZW50ICYmIHBhcmVudC5zY29wZTtcblx0XHR0aGlzLnN0cmljdCA9IHBhcmVudCAmJiBwYXJlbnQuc3RyaWN0O1xuXHRcdHRoaXMub2JqZWN0ID0gb2JqO1xuXHRcdHRoaXMudGhpc0JpbmRpbmcgPSB0aGlzQXJnIHx8IG9iajtcblx0XHR0aGlzLmVudiA9IGVudjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhPYmplY3RFbnZpcm9ubWVudCwgW3tcblx0XHRrZXk6IFwiZ2V0UmVmZXJlbmNlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFJlZmVyZW5jZShrZXksIHVucXVhbGlmaWVkKSB7XG5cdFx0XHR2YXIgcmVmID0gbmV3IF9wcm9wZXJ0eVJlZmVyZW5jZS5Qcm9wZXJ0eVJlZmVyZW5jZShrZXksIHRoaXMub2JqZWN0LCB0aGlzLmVudik7XG5cdFx0XHRyZWYudW5xdWFsaWZpZWQgPSB1bnF1YWxpZmllZDtcblx0XHRcdHJldHVybiByZWY7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5oYXMoa2V5KSA6IHRoaXMub3ducyhrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJvd25zXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG93bnMoa2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vYmplY3QuaGFzKGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhcmlhYmxlKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0LmdldFByb3BlcnR5KGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVZhcmlhYmxlKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0LmRlbGV0ZVByb3BlcnR5KGtleSwgZmFsc2UpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVWYXJpYWJsZShrZXksIGltbXV0YWJsZSkge1xuXHRcdFx0aWYgKHRoaXMucGFyZW50KSB7XG5cdFx0XHRcdHZhciBfcGFyZW50O1xuXG5cdFx0XHRcdHJldHVybiAoX3BhcmVudCA9IHRoaXMucGFyZW50KS5jcmVhdGVWYXJpYWJsZS5hcHBseShfcGFyZW50LCBhcmd1bWVudHMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5vYmplY3QuZGVmaW5lT3duUHJvcGVydHkoa2V5LCB7XG5cdFx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IGltbXV0YWJsZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdH0sIHRoaXMuZW52LmlzU3RyaWN0KCkpO1xuXG5cdFx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJwdXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwdXRWYWx1ZShrZXksIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCAmJiAhdGhpcy5vYmplY3QuaGFzKGtleSkpIHtcblx0XHRcdFx0dmFyIF9wYXJlbnQyO1xuXG5cdFx0XHRcdChfcGFyZW50MiA9IHRoaXMucGFyZW50KS5wdXRWYWx1ZS5hcHBseShfcGFyZW50MiwgYXJndW1lbnRzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMub2JqZWN0LnB1dFZhbHVlKGtleSwgdmFsdWUsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAoIXRoaXMub3ducyhrZXkpKSB7XG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3Ioa2V5ICsgXCIgaXMgbm90IGRlZmluZWQuXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0LmdldFZhbHVlKGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFRoaXNCaW5kaW5nXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFRoaXNCaW5kaW5nKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudGhpc0JpbmRpbmc7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIE9iamVjdEVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5PYmplY3RFbnZpcm9ubWVudCA9IE9iamVjdEVudmlyb25tZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWZlcmVuY2UgPSByZXF1aXJlKFwiLi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG4vKipcclxuICogQW4gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgYSByZWZlcmVuY2UgdG8gYW4gb2JqZWN0J3MgcHJvcGVydHkuXHJcbiAqL1xuXG52YXIgUHJvcGVydHlSZWZlcmVuY2UgPSAoZnVuY3Rpb24gKF9SZWZlcmVuY2UpIHtcblx0X2luaGVyaXRzKFByb3BlcnR5UmVmZXJlbmNlLCBfUmVmZXJlbmNlKTtcblxuXHRmdW5jdGlvbiBQcm9wZXJ0eVJlZmVyZW5jZShrZXksIG9iamVjdCwgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3BlcnR5UmVmZXJlbmNlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3BlcnR5UmVmZXJlbmNlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzLCBrZXksIG9iamVjdCwgZW52KTtcblx0XHR0aGlzLmlzUHJvcGVydHlSZWZlcmVuY2UgPSB0cnVlO1xuXHR9XG5cblx0LyoqXHJcbiAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcmVmZXJlbmNlLiBJZiB0aGUgcmVmZXJlbmNlIGlzIHVucmVzb2x2ZWQsXHJcbiAgKiBhIFJlZmVyZW5jZUVycm9yIHdpbGwgYmUgdGhyb3duLlxyXG4gICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSB2YWx1ZS5cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhQcm9wZXJ0eVJlZmVyZW5jZSwgW3tcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdFx0XHR2YXIgcHJvcCA9IHRoaXMuYmFzZS5nZXRQcm9wZXJ0eSh0aGlzLmtleSk7XG5cdFx0XHRyZXR1cm4gcHJvcCAmJiBwcm9wLmdldFZhbHVlKCkgfHwgbmV3IF90eXBlc1ByaW1pdGl2ZVR5cGUuUHJpbWl0aXZlVHlwZSgpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIHByb3BlcnR5IG9yIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSB2YWx1ZSBhc3NpZ25tZW50LlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy5iYXNlLmhhcyh0aGlzLmtleSkpIHtcblx0XHRcdFx0dGhpcy5iYXNlLnB1dFZhbHVlKHRoaXMua2V5LCB2YWx1ZSwgdGhpcy5zdHJpY3QsIHRoaXMuZW52KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuYmFzZS5kZWZpbmVPd25Qcm9wZXJ0eSh0aGlzLmtleSwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdGhpcy5zdHJpY3QsIHRoaXMuZW52KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBEZWxldGVzIHRoZSB1bmRlcmx5aW5nIHJlZmVyZW5jZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIHJlc3VsdCBvZiB0aGUgZGVsZXRlIG9wZXJhdGlvbi5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLmJhc2UuZGVsZXRlUHJvcGVydHkodGhpcy5rZXksIHRoaXMuZW52LmlzU3RyaWN0KCkpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSByZWZlcmVuY2UgaXMgcmVzb2x2ZWQgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHJlc29sdmVzOyBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiaXNVbnJlc29sdmVkXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzVW5yZXNvbHZlZCgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUHJvcGVydHlSZWZlcmVuY2U7XG59KShfcmVmZXJlbmNlLlJlZmVyZW5jZSk7XG5cbmV4cG9ydHMuUHJvcGVydHlSZWZlcmVuY2UgPSBQcm9wZXJ0eVJlZmVyZW5jZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgUmVmZXJlbmNlID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gUmVmZXJlbmNlKGtleSwgYmFzZSwgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZmVyZW5jZSk7XG5cblx0XHR0aGlzLmlzUmVmZXJlbmNlID0gdHJ1ZTtcblx0XHR0aGlzLnVucXVhbGlmaWVkID0gZmFsc2U7XG5cblx0XHR0aGlzLmtleSA9IGtleTtcblx0XHR0aGlzLmJhc2UgPSBiYXNlO1xuXHRcdHRoaXMuZW52ID0gZW52O1xuXHRcdHRoaXMuc3RyaWN0ID0gZW52LmlzU3RyaWN0KCk7XG5cdH1cblxuXHQvKipcclxuICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSByZWZlcmVuY2UuIElmIHRoZSByZWZlcmVuY2UgaXMgdW5yZXNvbHZlZCxcclxuICAqIGEgUmVmZXJlbmNlRXJyb3Igd2lsbCBiZSB0aHJvd24uXHJcbiAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIHZhbHVlLlxyXG4gICovXG5cblx0X2NyZWF0ZUNsYXNzKFJlZmVyZW5jZSwgW3tcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdFx0XHRpZiAoIXRoaXMuYmFzZSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IodGhpcy5rZXkgKyBcIiBpcyBub3QgZGVmaW5lZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMuYmFzZS5nZXRWYWx1ZSh0aGlzLmtleSwgdGhpcy5zdHJpY3QpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIHByb3BlcnR5IG9yIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSB2YWx1ZSBhc3NpZ25tZW50LlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy5iYXNlKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmJhc2UucHV0VmFsdWUodGhpcy5rZXksIHZhbHVlLCB0aGlzLnN0cmljdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNoZWNrIGlkZW50aWZpZXIgYmVmb3JlIHN0cmljdFxuXHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyKHRoaXMua2V5LCB0aGlzLnN0cmljdCk7XG5cblx0XHRcdGlmICh0aGlzLnN0cmljdCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IodGhpcy5rZXkgKyBcIiBpcyBub3QgZGVmaW5lZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMuZW52Lmdsb2JhbC5kZWZpbmVPd25Qcm9wZXJ0eSh0aGlzLmtleSwge1xuXHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sIGZhbHNlLCB0aGlzLmVudik7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogRGVsZXRlcyB0aGUgdW5kZXJseWluZyByZWZlcmVuY2UuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFRoZSByZXN1bHQgb2YgdGhlIGRlbGV0ZSBvcGVyYXRpb24uXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoKSB7XG5cdFx0XHRpZiAodGhpcy5iYXNlKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmJhc2UuZGVsZXRlVmFyaWFibGUodGhpcy5rZXkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVmZXJlbmNlIGlzIHJlc29sdmVkIG9yIG5vdC5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiByZXNvbHZlczsgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImlzVW5yZXNvbHZlZFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc1VucmVzb2x2ZWQoKSB7XG5cdFx0XHRyZXR1cm4gIXRoaXMuYmFzZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUmVmZXJlbmNlO1xufSkoKTtcblxuZXhwb3J0cy5SZWZlcmVuY2UgPSBSZWZlcmVuY2U7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9lc3RyZWVXYWxrZXIgPSByZXF1aXJlKFwiLi4vZXN0cmVlLXdhbGtlclwiKTtcblxudmFyIF9lc3RyZWVXYWxrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXN0cmVlV2Fsa2VyKTtcblxudmFyIF9ob2lzdGVyID0gcmVxdWlyZShcIi4vaG9pc3RlclwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3N5bnRheFJ1bGVzID0gcmVxdWlyZShcIi4uL3N5bnRheC1ydWxlc1wiKTtcblxudmFyIF9zeW50YXhSdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW50YXhSdWxlcyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc0Fzc2lnbiA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3NpZ25cIik7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlU3ludGF4KHJvb3QpIHtcblx0dmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0dmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG5cdHRyeSB7XG5cdFx0Zm9yICh2YXIgX2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9lc3RyZWVXYWxrZXIyW1wiZGVmYXVsdFwiXS5jcmVhdGUocm9vdCkpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdFx0XHR2YXIgbm9kZSA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRpZiAobm9kZS50eXBlIGluIF9zeW50YXhSdWxlczJbXCJkZWZhdWx0XCJdKSB7XG5cdFx0XHRcdF9zeW50YXhSdWxlczJbXCJkZWZhdWx0XCJdW25vZGUudHlwZV0obm9kZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0X2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdH0gZmluYWxseSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHR9XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxudmFyIFNjb3BlID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gU2NvcGUoZW52LCBzY29wZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY29wZSk7XG5cblx0XHRlbnYuZ2xvYmFsU2NvcGUgPSBlbnYuZ2xvYmFsU2NvcGUgfHwgdGhpcztcblxuXHRcdHRoaXMuc2NvcGUgPSBzY29wZTtcblx0XHR0aGlzLmVudiA9IGVudjtcblx0XHR0aGlzLnByaW9yU2NvcGUgPSAoZW52LmN1cnJlbnQgfHwgZW52Lmdsb2JhbFNjb3BlKS5zY29wZTtcblx0fVxuXG5cdC8qKlxyXG4gICogSW5pdGlhbGl6ZXMgdGhlIHNjb3BlIGJ5IHZhbGlkYXRpbmcgdGhlIGZ1bmN0aW9uIGJvZHkgYW5kIGhvaXN0aW5nIHZhcmlhYmxlcy5cclxuICAqIEBwYXJhbSB7QVNUfSBub2RlIC0gVGhlIG5vZGUgdG8gYmUgZXhlY3V0ZWQuXHJcbiAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhTY29wZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG5vZGUpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGlmICghbm9kZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbnYgPSB0aGlzLmVudjtcblx0XHRcdHRoaXMuc2NvcGUuc3RyaWN0ID0gY29udHJhY3RzLmlzU3RyaWN0Tm9kZShub2RlLmJvZHkpO1xuXG5cdFx0XHR2YXIgc3RyaWN0ID0gdGhpcy5zY29wZS5zdHJpY3QgfHwgZW52LmlzU3RyaWN0KCk7XG5cdFx0XHRpZiAoc3RyaWN0ICYmIG5vZGUudHlwZSA9PT0gXCJQcm9ncmFtXCIpIHtcblx0XHRcdFx0dmFsaWRhdGVTeW50YXgobm9kZSk7XG5cdFx0XHR9XG5cblx0XHRcdCgwLCBfaG9pc3Rlci52aXNpdCkobm9kZSwgZnVuY3Rpb24gKGRlY2wpIHtcblx0XHRcdFx0dmFyIG5hbWUgPSBkZWNsLm5hbWUgfHwgZGVjbC5pZC5uYW1lO1xuXHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWUobmFtZSwgc3RyaWN0KTtcblxuXHRcdFx0XHR2YXIgdmFsdWUgPSBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0aWYgKGRlY2wudHlwZSA9PT0gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIpIHtcblx0XHRcdFx0XHQvLyBmdW5jdGlvbnMgY2FuIGJlIHVzZWQgYmVmb3JlIHRoZXkgYXJlIGRlZmluZWRcblx0XHRcdFx0XHR2YXIgc3RyaWN0RnVuYyA9IHN0cmljdCB8fCBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGRlY2wuYm9keS5ib2R5KTtcblx0XHRcdFx0XHR2YWx1ZSA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGRlY2wsIHVuZGVmaW5lZCwgeyBzdHJpY3Q6IHN0cmljdEZ1bmMgfSk7XG5cdFx0XHRcdFx0dmFsdWUuYmluZFNjb3BlKF90aGlzKTtcblx0XHRcdFx0fSBlbHNlIGlmIChfdGhpcy5zY29wZS5oYXMobmFtZSkpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgbmV3VmFyID0gZW52LmNyZWF0ZVZhcmlhYmxlKG5hbWUsIHRydWUpO1xuXHRcdFx0XHRuZXdWYXIuc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImxvYWRDb21wbGV4QXJnc1wiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gbG9hZENvbXBsZXhBcmdzKHBhcmFtcywgYXJncywgY2FsbGVlKSB7XG5cdFx0XHR2YXIgZW52LCBzdHJpY3QsIHNjb3BlLCBhcmdJbmRleCwgYXJnTGVuZ3RoO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBsb2FkQ29tcGxleEFyZ3MkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0ZW52ID0gdGhpcy5lbnY7XG5cdFx0XHRcdFx0XHRzdHJpY3QgPSBlbnYuaXNTdHJpY3QoKSB8fCBjYWxsZWUuaXNTdHJpY3QoKTtcblx0XHRcdFx0XHRcdHNjb3BlID0gdGhpcy5jcmVhdGVQYXJhbWV0ZXJTY29wZSgpO1xuXHRcdFx0XHRcdFx0YXJnSW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0YXJnTGVuZ3RoID0gYXJncy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkocGFyYW1zLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMChwYXJhbSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHJlc3QsIHJlc3RJbmRleDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKHBhcmFtLnR5cGUgPT09IFwiUmVzdEVsZW1lbnRcIikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc3QgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN0SW5kZXggPSAwO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIChhcmdJbmRleCA8IGFyZ0xlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc3QucHV0VmFsdWUocmVzdEluZGV4KyssIGFyZ3NbYXJnSW5kZXgrK10gfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIHRydWUsIGVudik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5wdXRWYWx1ZShwYXJhbS5uYW1lLCByZXN0LCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXNzaWduLmRlY2xhcmUpKGVudiwgcGFyYW0sIGFyZ3NbYXJnSW5kZXgrK10gfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIHRydWUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdGNhc2UgNzpcblxuXHRcdFx0XHRcdFx0aWYgKCFjYWxsZWUuYXJyb3cpIHtcblx0XHRcdFx0XHRcdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBwcmVzZXJ2ZSB0aGUgcGFzc2VkIGluIGFyZ3VtZW50cywgZXZlbiBpZiBkZWZhdWx0cyBhcmUgdXNlZCBpbnN0ZWFkXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGFyZ3VtZW50TGlzdCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUFyZ3VtZW50cyhhcmdzLCBjYWxsZWUsIHN0cmljdCk7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUuY3JlYXRlVmFyaWFibGUoXCJhcmd1bWVudHNcIik7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUucHV0VmFsdWUoXCJhcmd1bWVudHNcIiwgYXJndW1lbnRMaXN0KTtcblxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhcmd1bWVudExpc3QuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZ3MubGVuZ3RoKSxcblx0XHRcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHJldHVybiBzY29wZSBiYWNrIHRvIG1haW4gc2NvcGVcblx0XHRcdFx0XHRcdHRoaXMuZW52LnNldFNjb3BlKHRoaXMuc2NvcGUpO1xuXG5cdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGxvYWRDb21wbGV4QXJncywgdGhpcyk7XG5cdFx0fSlcblxuXHRcdC8qKlxyXG4gICAqIExvYWRzIHRoZSBhcmd1bWVudHMgaW50byB0aGUgc2NvcGUgYW5kIGNyZWF0ZXMgdGhlIHNwZWNpYWwgYGFyZ3VtZW50c2Agb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7QVNUW119IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXIgaWRlbnRpZmllcnNcclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGVbXX0gYXJncyAtIFRoZSBhcmd1bWVudCB2YWx1ZXNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uVHlwZX0gY2FsbGVlIC0gVGhlIGZ1bmN0aW9uXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwibG9hZEFyZ3NcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGxvYWRBcmdzKHBhcmFtcywgYXJncywgY2FsbGVlKSB7XG5cdFx0XHR2YXIgZW52LCBzY29wZSwgc3RyaWN0LCBhcmd1bWVudExpc3QsIGFyZ3NMZW5ndGgsIHNob3VsZE1hcCwgX2ksIGxuLCBwYXJhbSwgdmFsdWUsIF9uYW1lLCBkZXNjcmlwdG9yLCBpO1xuXG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGxvYWRBcmdzJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGlmICghKHBhcmFtcyAmJiBwYXJhbXMuc29tZShmdW5jdGlvbiAocCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcC50eXBlICE9PSBcIklkZW50aWZpZXJcIjtcblx0XHRcdFx0XHRcdH0pKSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMubG9hZENvbXBsZXhBcmdzKHBhcmFtcywgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRlbnYgPSB0aGlzLmVudjtcblx0XHRcdFx0XHRcdHNjb3BlID0gdGhpcy5zY29wZTtcblx0XHRcdFx0XHRcdHN0cmljdCA9IGVudi5pc1N0cmljdCgpIHx8IGNhbGxlZS5pc1N0cmljdCgpO1xuXHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0ID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlQXJndW1lbnRzKGFyZ3MsIGNhbGxlZSwgc3RyaWN0KTtcblxuXHRcdFx0XHRcdFx0c2NvcGUuY3JlYXRlVmFyaWFibGUoXCJhcmd1bWVudHNcIik7XG5cdFx0XHRcdFx0XHRzY29wZS5wdXRWYWx1ZShcImFyZ3VtZW50c1wiLCBhcmd1bWVudExpc3QpO1xuXG5cdFx0XHRcdFx0XHRhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGg7XG5cblx0XHRcdFx0XHRcdGlmIChwYXJhbXMpIHtcblx0XHRcdFx0XHRcdFx0c2hvdWxkTWFwID0gIWNhbGxlZS5pc1N0cmljdCgpO1xuXG5cdFx0XHRcdFx0XHRcdGZvciAoX2kgPSAwLCBsbiA9IHBhcmFtcy5sZW5ndGg7IF9pIDwgbG47IF9pKyspIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJhbSA9IHBhcmFtc1tfaV07XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBhcmdzW19pXSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0XHRfbmFtZSA9IHBhcmFtLm5hbWU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoc2hvdWxkTWFwICYmICFzY29wZS5oYXMoX25hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yID0gc2NvcGUuY3JlYXRlVmFyaWFibGUoX25hbWUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoYXJnc0xlbmd0aCA+IF9pKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5tYXBQcm9wZXJ0eShfaSwgZGVzY3JpcHRvcik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFzaG91bGRNYXAgJiYgX2kgPCBhcmdzTGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhcmd1bWVudExpc3QuZGVmaW5lT3duUHJvcGVydHkoX2ksIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWUoX25hbWUsIHN0cmljdCk7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUucHV0VmFsdWUoX25hbWUsIHZhbHVlLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIGp1c3Qgc2V0IHZhbHVlIGlmIGFkZGl0aW9uYWwsIHVubmFtZWQgYXJndW1lbnRzIGFyZSBwYXNzZWQgaW5cblx0XHRcdFx0XHRcdGkgPSBwYXJhbXMgPyBwYXJhbXMubGVuZ3RoIDogMDtcblxuXHRcdFx0XHRcdFx0Zm9yICg7IGkgPCBhcmdzTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KGksIHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogYXJnc1tpXSxcblx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmdzTGVuZ3RoKSxcblx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGxvYWRBcmdzLCB0aGlzKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVBhcmFtZXRlclNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVBhcmFtZXRlclNjb3BlKCkge1xuXHRcdFx0dmFyIHNjb3BlID0gdGhpcy5lbnYuY3JlYXRlU2NvcGUoKTtcblx0XHRcdHNjb3BlLnNjb3BlLnNldFBhcmVudCh0aGlzLnNjb3BlLnBhcmVudCk7XG5cdFx0XHR0aGlzLnNjb3BlLnNldFBhcmVudChzY29wZSk7XG5cdFx0XHRyZXR1cm4gc2NvcGUuc2NvcGU7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogUnVucyB0aGUgcGFzc2VkIGluIGZ1bmN0aW9uIGFuZCBleGl0cyB0aGUgc2NvcGUgd2hlbiB0aGUgZnVuY3Rpb24gY29tcGxldGVzLFxyXG4gICAqIHJldHVybmluZyB0aGUgZW52aXJvbm1lbnQgYmFjayB0byB0aGUgcHJldmlvcyBzdGF0ZS5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbm5lciAtIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlLlxyXG4gICAqIEByZXR1cm5zIHtJdGVyYXRvcn0gVGhlIGZ1bmN0aW9uIHJlc3VsdHNcclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJ1c2VcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHVzZShpbm5lcikge1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdXNlJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAwO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRyZXR1cm4gaW5uZXIoKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdHRoaXMuZXhpdCgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDg7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMCk7XG5cblx0XHRcdFx0XHRcdHRoaXMuZXhpdCgpO1xuXHRcdFx0XHRcdFx0dGhyb3cgY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHVzZSwgdGhpcywgW1swLCA4XV0pO1xuXHRcdH0pXG5cblx0XHQvKipcclxuICAgKiBFeGl0cyB0aGUgc2NvcGUsIHJldHVybmluZyB0aGUgZW52aXJvbm1lbnQgdG8gaXQncyBwcmV2aW91cyBzdGF0ZS5cclxuICAgKiAoVHlwaWNhbGx5IHlvdSB3b3VsZCBjYWxsIGB1c2VgIHdoaWNoIGhhbmRsZXMgZXhpdGluZyB0aGUgc2NvcGUgaXRzZWxmLilcclxuICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJleGl0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGV4aXQoKSB7XG5cdFx0XHR0aGlzLmVudi5zZXRTY29wZSh0aGlzLnByaW9yU2NvcGUpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTY29wZTtcbn0pKCk7XG5cbmV4cG9ydHMuU2NvcGUgPSBTY29wZTtcblxuLy8gY3JlYXRlIGEgdGVtcG9yYXJ5IHNjb3BlIGZvciB0aGUgYXJndW1lbnQgZGVjbGFyYXRpb25zXG5cbi8vIHRvZG86IHRoaXMgbWV0aG9kIGlzIGdldHRpbmcgZmFyIHRvbyBjb21wbGV4IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmdldFN0YXJ0SW5kZXggPSBnZXRTdGFydEluZGV4O1xuZXhwb3J0cy5nZXRFbmRJbmRleCA9IGdldEVuZEluZGV4O1xuZXhwb3J0cy5leGVjdXRlQ2FsbGJhY2sgPSBleGVjdXRlQ2FsbGJhY2s7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGFycmF5QXBpO1xudmFyIG1hcmtlZDAkMCA9IFtleGVjdXRlQ2FsbGJhY2tdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzXCIpO1xuXG52YXIgX2l0ZXJhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcnMpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG5mdW5jdGlvbiBnZXRTdGFydEluZGV4KGluZGV4LCBsZW5ndGgpIHtcblx0aWYgKGluZGV4IDwgMCkge1xuXHRcdHJldHVybiBNYXRoLm1heChsZW5ndGggLSBNYXRoLmFicyhpbmRleCksIDApO1xuXHR9XG5cblx0cmV0dXJuIE1hdGgubWluKGluZGV4IHx8IDAsIGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGdldEVuZEluZGV4KGluZGV4LCBsZW5ndGgpIHtcblx0aWYgKGluZGV4IDwgMCkge1xuXHRcdHJldHVybiBNYXRoLm1heChsZW5ndGggKyBpbmRleCwgMCk7XG5cdH1cblxuXHRyZXR1cm4gTWF0aC5taW4oaW5kZXgsIGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKSB7XG5cdHZhciBzY29wZSwgYXJncztcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2skKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCF0aGlzQXJnKSB7XG5cdFx0XHRcdFx0dGhpc0FyZyA9IGNhbGxiYWNrLmlzU3RyaWN0KCkgPyBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCA6IGVudi5nbG9iYWw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY29wZSA9IGNhbGxiYWNrLmNyZWF0ZVNjb3BlKGVudiwgdGhpc0FyZywgZmFsc2UpO1xuXG5cdFx0XHRcdHNjb3BlLmluaXQoY2FsbGJhY2subm9kZS5ib2R5KTtcblxuXHRcdFx0XHRhcmdzID0gW2VudHJ5LnZhbHVlLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZW50cnkua2V5KSwgYXJyXTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBzY29wZS5sb2FkQXJncyhjYWxsYmFjay5ub2RlLnBhcmFtcywgYXJncywgY2FsbGJhY2spO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0XHRcdHZhciBleGVjdXRpb25SZXN1bHQ7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChjYWxsYmFjay5ub2RlLmJvZHksIGNhbGxiYWNrLm5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghKGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQuZXhpdCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQucmVzdWx0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGFycmF5QXBpKGVudikge1xuXHR2YXIgbWFya2VkMSQwID0gW2V4ZWN1dGVBY2N1bXVsYXRvciwgam9pbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0ZnVuY3Rpb24gZXhlY3V0ZUFjY3VtdWxhdG9yKGNhbGxiYWNrLCBwcmlvclZhbHVlLCBlbnRyeSwgYXJyKSB7XG5cdFx0dmFyIHNjb3BlLCBhcmdzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZUFjY3VtdWxhdG9yJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNjb3BlID0gY2FsbGJhY2suY3JlYXRlU2NvcGUoZW52KTtcblxuXHRcdFx0XHRcdHNjb3BlLmluaXQoY2FsbGJhY2subm9kZS5ib2R5KTtcblxuXHRcdFx0XHRcdGFyZ3MgPSBbcHJpb3JWYWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgZW50cnkudmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVudHJ5LmtleSksIGFycl07XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuIHNjb3BlLmxvYWRBcmdzKGNhbGxiYWNrLm5vZGUucGFyYW1zLCBhcmdzLCBjYWxsYmFjayk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgZXhlY3V0aW9uUmVzdWx0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGNhbGxiYWNrLm5vZGUuYm9keSwgY2FsbGJhY2subm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQzJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5leGl0KSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBtYXJrZWQxJDBbMF0sIHRoaXMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlSW5kZXhQcm9wZXJ0eSh2YWx1ZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHR9O1xuXHR9XG5cblx0dmFyIGFycmF5Q2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGZ1bmN0aW9uIChsZW5ndGgpIHtcblx0XHR2YXIgbmV3QXJyYXkgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBsZW5ndGgudHlwZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoKGFyZ3VtZW50c1swXS52YWx1ZSk7XG5cdFx0XHRcdG5ld0FycmF5LnB1dFZhbHVlKFwibGVuZ3RoXCIsIGxlbmd0aCwgZmFsc2UsIGVudik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHRcdFx0XHRcdG5ld0FycmF5LmRlZmluZU93blByb3BlcnR5KGksIGNyZWF0ZUluZGV4UHJvcGVydHkoYXJndW1lbnRzW2ldKSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3QXJyYXk7XG5cdH0sIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHR2YXIgcHJvdG8gPSBhcnJheUNsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRwcm90by5jbGFzc05hbWUgPSBcIkFycmF5XCI7XG5cdHByb3RvLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0YXJyYXlDbGFzcy5kZWZpbmUoXCJpc0FycmF5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoISEob2JqICYmIG9iai5jbGFzc05hbWUgPT09IFwiQXJyYXlcIikpO1xuXHR9LCAxLCBcIkFycmF5LmlzQXJyYXlcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInB1c2hcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGl0ZW1zID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRpdGVtc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgc3RhcnQsIGksIF9sZW5ndGgsIG5ld0xlbmd0aDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdGFydCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0XHRmb3IgKF9sZW5ndGggPSBpdGVtcy5sZW5ndGg7IGkgPCBfbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWZpbmVPd25Qcm9wZXJ0eShzdGFydCArIGksIGNyZWF0ZUluZGV4UHJvcGVydHkoaXRlbXNbaV0pLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld0xlbmd0aCA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0YXJ0ICsgaSk7XG5cblx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUoXCJsZW5ndGhcIiwgbmV3TGVuZ3RoLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3TGVuZ3RoKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUucHVzaFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicG9wXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBvYmosIGk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdG9iaiA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmIChpID4gMCkge1xuXHRcdFx0XHRcdFx0aS0tO1xuXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5ub2RlLmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0XHRvYmogPSB0aGlzLm5vZGUuZ2V0VmFsdWUoaSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShpLCB0cnVlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaSksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmogfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS5wb3BcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNoaWZ0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBvYmosIGxlbmd0aCwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0b2JqID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0XHRpZiAobGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMubm9kZS5oYXMoaSkpIHtcblx0XHRcdFx0XHRcdFx0b2JqID0gdGhpcy5ub2RlLmdldFZhbHVlKGkpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkoaSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHdoaWxlICgrK2kgPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMubm9kZS5oYXMoaSkpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUoaSAtIDEsIHRoaXMubm9kZS5nZXRWYWx1ZShpKSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkoaSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGxlbmd0aCAtIDEpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShsZW5ndGggPT09IDAgPyAwIDogLS1sZW5ndGgpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJBcnJheS5wcm90b3R5cGUuc2hpZnRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInVuc2hpZnRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdFx0XHRpdGVtc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHRcdH1cblxuXHRcdHZhciBsZW5ndGgsIGFyZ0NvdW50LCBpLCB0b0luZGV4LCBmcm9tSW5kZXgsIG5ld0xlbmd0aDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRhcmdDb3VudCA9IGl0ZW1zLmxlbmd0aDtcblx0XHRcdFx0XHRpID0gbGVuZ3RoO1xuXHRcdFx0XHRcdHRvSW5kZXggPSB1bmRlZmluZWQsIGZyb21JbmRleCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdHdoaWxlIChpID4gMCkge1xuXHRcdFx0XHRcdFx0ZnJvbUluZGV4ID0gaSAtIDE7XG5cdFx0XHRcdFx0XHR0b0luZGV4ID0gaSArIGFyZ0NvdW50IC0gMTtcblxuXHRcdFx0XHRcdFx0aWYgKHRoaXMubm9kZS5oYXMoZnJvbUluZGV4KSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUodG9JbmRleCwgdGhpcy5ub2RlLmdldFZhbHVlKGZyb21JbmRleCksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkodG9JbmRleCwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGktLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgYXJnQ291bnQ7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKGksIGl0ZW1zW2ldLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld0xlbmd0aCA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZ0NvdW50ICsgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShcImxlbmd0aFwiLCBuZXdMZW5ndGgsIHRydWUsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdMZW5ndGgpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUudW5zaGlmdFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic2xpY2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoYmVnaW4sIGVuZCkge1xuXHRcdHZhciBzb3VyY2UsIGxlbmd0aCwgYXJyLCBpbmRleCwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0c291cmNlID0gdGhpcy5ub2RlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIWJlZ2luKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgYmVnaW4pO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSAwO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0YmVnaW4gPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGlmICghKCFlbmQgfHwgZW5kLnR5cGUgPT09IFwidW5kZWZpbmVkXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbmQgPSBsZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCBlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0ZW5kID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXG5cdFx0XHRcdFx0YmVnaW4gPSBnZXRTdGFydEluZGV4KGJlZ2luLCBsZW5ndGgpO1xuXHRcdFx0XHRcdGVuZCA9IGdldEVuZEluZGV4KGVuZCwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdGZvciAoaSA9IGJlZ2luOyBpIDwgZW5kOyBpKyspIHtcblx0XHRcdFx0XHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCsrLCBjcmVhdGVJbmRleFByb3BlcnR5KHNvdXJjZS5nZXRWYWx1ZShpKSksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJBcnJheS5wcm90b3R5cGUuc2xpY2VcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNwbGljZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdGFydCwgZGVsZXRlQ291bnQpIHtcblx0XHRmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGVsZW1lbnRzID0gQXJyYXkoX2xlbjMgPiAyID8gX2xlbjMgLSAyIDogMCksIF9rZXkzID0gMjsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuXHRcdFx0ZWxlbWVudHNbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG5cdFx0fVxuXG5cdFx0dmFyIGxlbmd0aCwgcmVtb3ZlZCwgaywgbmV3Q291bnQsIGk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIHN0YXJ0KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0c3RhcnQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKHN0YXJ0IDwgMCkge1xuXHRcdFx0XHRcdFx0c3RhcnQgPSBNYXRoLm1heChsZW5ndGggKyBzdGFydCwgMCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0YXJ0ID0gTWF0aC5taW4oc3RhcnQsIGxlbmd0aCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIGRlbGV0ZUNvdW50KTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0ZGVsZXRlQ291bnQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKGRlbGV0ZUNvdW50IDwgMCkge1xuXHRcdFx0XHRcdFx0ZGVsZXRlQ291bnQgPSAwO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkZWxldGVDb3VudCA9IE1hdGgubWluKE1hdGgubWF4KGRlbGV0ZUNvdW50LCAwKSwgbGVuZ3RoIC0gc3RhcnQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlbW92ZWQgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdFx0XHRcdGsgPSAwO1xuXG5cdFx0XHRcdFx0d2hpbGUgKGsgPCBkZWxldGVDb3VudCkge1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMubm9kZS5oYXMoayArIHN0YXJ0KSkge1xuXHRcdFx0XHRcdFx0XHRyZW1vdmVkLmRlZmluZU93blByb3BlcnR5KGssIGNyZWF0ZUluZGV4UHJvcGVydHkodGhpcy5ub2RlLmdldFZhbHVlKGsgKyBzdGFydCkpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bmV3Q291bnQgPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0XHRcdFx0XHRpZiAobmV3Q291bnQgPCBkZWxldGVDb3VudCkge1xuXHRcdFx0XHRcdFx0ayA9IHN0YXJ0O1xuXG5cdFx0XHRcdFx0XHR3aGlsZSAoayA8IGxlbmd0aCAtIGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGsgKyBkZWxldGVDb3VudCkpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUoayArIG5ld0NvdW50LCB0aGlzLm5vZGUuZ2V0VmFsdWUoayArIGRlbGV0ZUNvdW50KSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGsgKyBkZWxldGVDb3VudCk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGsgPSBsZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoayA+IGxlbmd0aCAtIGRlbGV0ZUNvdW50ICsgbmV3Q291bnQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KC0tayk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChuZXdDb3VudCA+IGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRrID0gbGVuZ3RoIC0gc3RhcnQ7XG5cdFx0XHRcdFx0XHR3aGlsZSAoayA+IHN0YXJ0KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGsgKyBkZWxldGVDb3VudCAtIDEpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKGsgKyBuZXdDb3VudCAtIDEsIHRoaXMubm9kZS5nZXRWYWx1ZShrICsgZGVsZXRlQ291bnQgLSAxKSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkoayArIG5ld0NvdW50IC0gMSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRrLS07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ayA9IHN0YXJ0O1xuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBuZXdDb3VudDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUoaywgZWxlbWVudHNbaV0sIHRydWUsIGVudik7XG5cdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCAtIGRlbGV0ZUNvdW50ICsgbmV3Q291bnQpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVtb3ZlZCk7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkFycmF5LnByb3RvdHlwZS5zcGxpY2VcIikpO1xuXG5cdGZ1bmN0aW9uIGlzU3ByZWFkYWJsZShvYmopIHtcblx0XHRpZiAoIWNvbnRyYWN0cy5pc09iamVjdChvYmopKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dmFyIGtleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKTtcblx0XHR2YXIgcHJvcEluZm8gPSBvYmouZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRpZiAocHJvcEluZm8pIHtcblx0XHRcdHZhciBzcHJlYWRhYmxlID0gcHJvcEluZm8uZ2V0VmFsdWUoKTtcblx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKHNwcmVhZGFibGUpKSB7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoc3ByZWFkYWJsZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iai5jbGFzc05hbWUgPT09IFwiQXJyYXlcIjtcblx0fVxuXG5cdHByb3RvLmRlZmluZShcImNvbmNhdFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFycmF5cyA9IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG5cdFx0XHRhcnJheXNbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcblx0XHR9XG5cblx0XHR2YXIgbmV3QXJyYXksIGN1cnJlbnQsIGluZGV4LCBpLCBfbGVuZ3RoMjtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRuZXdBcnJheSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRcdFx0XHQvLyBhZGQgXCJ0aGlzXCIgYXJyYXkgdG8gYnVuY2hcblx0XHRcdFx0XHRhcnJheXMudW5zaGlmdCgoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSkpO1xuXG5cdFx0XHRcdFx0Y3VycmVudCA9IHVuZGVmaW5lZCwgaW5kZXggPSAwLCBpID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpZiAoIShhcnJheXMubGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBhcnJheXMuc2hpZnQoKTtcblxuXHRcdFx0XHRcdGlmICghaXNTcHJlYWRhYmxlKGN1cnJlbnQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBjdXJyZW50KTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0X2xlbmd0aDIgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IF9sZW5ndGgyOyBpKyspIHtcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50LmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0XHRuZXdBcnJheS5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCwgY3JlYXRlSW5kZXhQcm9wZXJ0eShjdXJyZW50LmdldFZhbHVlKGkpKSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0bmV3QXJyYXkuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgrKywgY3JlYXRlSW5kZXhQcm9wZXJ0eShjdXJyZW50KSwgdHJ1ZSwgZW52KTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cblx0XHRcdFx0XHRuZXdBcnJheS5wdXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpbmRleCksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5jb25jYXRcIikpO1xuXG5cdGZ1bmN0aW9uIGpvaW4oc2VwYXJhdG9yKSB7XG5cdFx0dmFyIGxlbmd0aCxcblx0XHQgICAgc3RyaW5nVmFsdWVzLFxuXHRcdCAgICBzdHJpbmdWYWx1ZSxcblx0XHQgICAgaSxcblx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBqb2luJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShhcmdzJDIkMC5sZW5ndGggPT09IDAgfHwgc2VwYXJhdG9yID09PSBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBcIixcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHNlcGFyYXRvciwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHNlcGFyYXRvciA9IGNvbnRleHQkMiQwLnQwO1xuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlcyA9IFtdO1xuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0aWYgKCEoaSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gXCJcIjtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlLmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSB0aGlzLm5vZGUuZ2V0VmFsdWUoaSk7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChzdHJpbmdWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gXCJcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgc3RyaW5nVmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cblx0XHRcdFx0XHRzdHJpbmdWYWx1ZXMucHVzaChzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZXMuam9pbihzZXBhcmF0b3IpKSk7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzFdLCB0aGlzKTtcblx0fVxuXG5cdHByb3RvLmRlZmluZShcImpvaW5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oam9pbiwgMSwgXCJBcnJheS5wcm90b3R5cGUuam9pblwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaW5kZXhPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblx0XHR2YXIgbGVuZ3RoLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgbm90Rm91bmQsXG5cdFx0ICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sXG5cdFx0ICAgIF9kaWRJdGVyYXRvckVycm9yLFxuXHRcdCAgICBfaXRlcmF0b3JFcnJvcixcblx0XHQgICAgX2l0ZXJhdG9yLFxuXHRcdCAgICBfc3RlcCxcblx0XHQgICAgX3N0ZXAkdmFsdWUsXG5cdFx0ICAgIGtleSxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNlYXJjaEVsZW1lbnQgPSBzZWFyY2hFbGVtZW50IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShhcmdzJDIkMC5sZW5ndGggPT09IDEpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gMDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgZnJvbUluZGV4KTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGluZGV4ID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0bm90Rm91bmQgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSk7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPT09IDAgfHwgaW5kZXggPj0gbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBub3RGb3VuZCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdGluZGV4ID0gZ2V0U3RhcnRJbmRleChpbmRleCwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDE5O1xuXHRcdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIHRoaXMubm9kZSwgaW5kZXgsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfc3RlcCR2YWx1ZSA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRcdGtleSA9IF9zdGVwJHZhbHVlLmtleTtcblx0XHRcdFx0XHR2YWx1ZSA9IF9zdGVwJHZhbHVlLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFzZWFyY2hFbGVtZW50LmVxdWFscyh2YWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KSk7XG5cblx0XHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDE5KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzc7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzk7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0XHRjYXNlIDQyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzkpO1xuXG5cdFx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNik7XG5cblx0XHRcdFx0Y2FzZSA0NDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG5vdEZvdW5kKTtcblxuXHRcdFx0XHRjYXNlIDQ1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzE5LCAzMiwgMzYsIDQ0XSwgWzM3LCwgMzksIDQzXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuaW5kZXhPZlwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwibGFzdEluZGV4T2ZcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG5cdFx0dmFyIGxlbmd0aCxcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yLFxuXHRcdCAgICBfZGlkSXRlcmF0b3JFcnJvcjIsXG5cdFx0ICAgIF9pdGVyYXRvckVycm9yMixcblx0XHQgICAgX2l0ZXJhdG9yMixcblx0XHQgICAgX3N0ZXAyLFxuXHRcdCAgICBfc3RlcDIkdmFsdWUsXG5cdFx0ICAgIGtleSxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNlYXJjaEVsZW1lbnQgPSBzZWFyY2hFbGVtZW50IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShhcmdzJDIkMC5sZW5ndGggPT09IDEpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gbGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgZnJvbUluZGV4KTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGluZGV4ID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoaW5kZXggPCAwKSB7XG5cdFx0XHRcdFx0XHRpbmRleCA9IGxlbmd0aCAtIE1hdGguYWJzKGluZGV4KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxNjtcblx0XHRcdFx0XHRfaXRlcmF0b3IyID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKGVudiwgdGhpcy5ub2RlLCBpbmRleCkpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfc3RlcDIkdmFsdWUgPSBfc3RlcDIudmFsdWU7XG5cdFx0XHRcdFx0a2V5ID0gX3N0ZXAyJHZhbHVlLmtleTtcblx0XHRcdFx0XHR2YWx1ZSA9IF9zdGVwMiR2YWx1ZS52YWx1ZTtcblxuXHRcdFx0XHRcdGlmICghc2VhcmNoRWxlbWVudC5lcXVhbHModmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSkpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTYpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IyID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAzMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzM7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM0O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3IyW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM2O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yMjtcblxuXHRcdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzYpO1xuXG5cdFx0XHRcdGNhc2UgNDA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMyk7XG5cblx0XHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKC0xKSk7XG5cblx0XHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxNiwgMjksIDMzLCA0MV0sIFszNCwsIDM2LCA0MF1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJmb3JFYWNoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMywgX2RpZEl0ZXJhdG9yRXJyb3IzLCBfaXRlcmF0b3JFcnJvcjMsIF9pdGVyYXRvcjMsIF9zdGVwMywgZW50cnk7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihjYWxsYmFjaywgYXJyKTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDg7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yMyA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAzLnZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUNhbGxiYWNrKGVudiwgY2FsbGJhY2ssIGVudHJ5LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxOTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oOCk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjMgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyMztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjNbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjNbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjY7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yMykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyNik7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDIzKTtcblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzgsIDE5LCAyMywgMzFdLCBbMjQsLCAyNiwgMzBdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJtYXBcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0XHR2YXIgYXJyLCBsZW5ndGgsIG5ld0FycmF5LCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCwgX2RpZEl0ZXJhdG9yRXJyb3I0LCBfaXRlcmF0b3JFcnJvcjQsIF9pdGVyYXRvcjQsIF9zdGVwNCwgZW50cnksIHZhbHVlO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKGFyciwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpO1xuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0bmV3QXJyYXkgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdFx0bmV3QXJyYXkucHV0VmFsdWUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSwgdHJ1ZSwgZW52KTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDExO1xuXHRcdFx0XHRcdF9pdGVyYXRvcjQgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwNC52YWx1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVDYWxsYmFjayhlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdG5ld0FycmF5LmRlZmluZU93blByb3BlcnR5KGVudHJ5LmtleSwgY3JlYXRlSW5kZXhQcm9wZXJ0eSh2YWx1ZSksIHRydWUsIGVudik7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI0O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxMSk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjQgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyODtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjRbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjRbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yNCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3QXJyYXkpO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTEsIDI0LCAyOCwgMzZdLCBbMjksLCAzMSwgMzVdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5tYXBcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImZpbHRlclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgbmV3QXJyYXksIGluZGV4LCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSwgX2RpZEl0ZXJhdG9yRXJyb3I1LCBfaXRlcmF0b3JFcnJvcjUsIF9pdGVyYXRvcjUsIF9zdGVwNSwgZW50cnksIHBhc3NlZDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIik7XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIGFycik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihjYWxsYmFjaywgYXJyKTtcblxuXHRcdFx0XHRcdG5ld0FycmF5ID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTE7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yNSA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXA1LnZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUNhbGxiYWNrKGVudiwgY2FsbGJhY2ssIGVudHJ5LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRpZiAocGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRuZXdBcnJheS5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCsrLCBjcmVhdGVJbmRleFByb3BlcnR5KGVudHJ5LnZhbHVlKSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI1O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxMSk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I1ID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjUgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzA7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjVbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjVbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzI7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yNSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMik7XG5cblx0XHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI5KTtcblxuXHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3QXJyYXkpO1xuXG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTEsIDI1LCAyOSwgMzddLCBbMzAsLCAzMiwgMzZdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImV2ZXJ5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiwgX2RpZEl0ZXJhdG9yRXJyb3I2LCBfaXRlcmF0b3JFcnJvcjYsIF9pdGVyYXRvcjYsIF9zdGVwNiwgZW50cnksIHBhc3NlZDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIkFycmF5LnByb3RvdHlwZS5ldmVyeVwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNiA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNiA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gOTtcblx0XHRcdFx0XHRfaXRlcmF0b3I2ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDYudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmIChwYXNzZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDkpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNiA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I2ID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiAmJiBfaXRlcmF0b3I2W1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3I2W1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMxO1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjYpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yNjtcblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzEpO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyOCk7XG5cblx0XHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpKTtcblxuXHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzksIDI0LCAyOCwgMzZdLCBbMjksLCAzMSwgMzVdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5ldmVyeVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic29tZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjcsIF9kaWRJdGVyYXRvckVycm9yNywgX2l0ZXJhdG9yRXJyb3I3LCBfaXRlcmF0b3I3LCBfc3RlcDcsIGVudHJ5LCBwYXNzZWQ7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRoaXMubm9kZSwgXCJBcnJheS5wcm90b3R5cGUuc29tZVwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjcgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNyA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gOTtcblx0XHRcdFx0XHRfaXRlcmF0b3I3ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNyA9IChfc3RlcDcgPSBfaXRlcmF0b3I3Lm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDcudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmICghcGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDkpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNyA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I3ID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNyAmJiBfaXRlcmF0b3I3W1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3I3W1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMxO1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yNztcblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzEpO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyOCk7XG5cblx0XHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s5LCAyNCwgMjgsIDM2XSwgWzI5LCwgMzEsIDM1XV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuc29tZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicmVkdWNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcblx0XHR2YXIgYXJyLFxuXHRcdCAgICBsZW5ndGgsXG5cdFx0ICAgIGhhc0luaXRpYWxWYWx1ZSxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGhhc0VsZW1lbnRzLFxuXHRcdCAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCxcblx0XHQgICAgX2RpZEl0ZXJhdG9yRXJyb3I4LFxuXHRcdCAgICBfaXRlcmF0b3JFcnJvcjgsXG5cdFx0ICAgIF9pdGVyYXRvcjgsXG5cdFx0ICAgIF9zdGVwOCxcblx0XHQgICAgZW50cnksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0aGFzSW5pdGlhbFZhbHVlID0gZmFsc2U7XG5cdFx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoYXJncyQyJDAubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSBpbml0aWFsVmFsdWU7XG5cdFx0XHRcdFx0XHRoYXNJbml0aWFsVmFsdWUgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGhhc0VsZW1lbnRzID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPiAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjggPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yOCA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yOCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yOCA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjggPSAoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXA4LnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKGhhc0VsZW1lbnRzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRoYXNFbGVtZW50cyA9IHRydWU7XG5cblx0XHRcdFx0XHRpZiAoaGFzSW5pdGlhbFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YWx1ZSA9IGVudHJ5LnZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJjb250aW51ZVwiLCAyNik7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVBY2N1bXVsYXRvcihjYWxsYmFjaywgdmFsdWUsIGVudHJ5LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjggPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTQpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yOCA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I4ID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM2O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCAmJiBfaXRlcmF0b3I4W1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3I4W1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM4O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjgpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0MTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yODtcblxuXHRcdFx0XHRjYXNlIDQxOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzgpO1xuXG5cdFx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNSk7XG5cblx0XHRcdFx0Y2FzZSA0Mzpcblx0XHRcdFx0XHRpZiAoISghaGFzRWxlbWVudHMgJiYgIWhhc0luaXRpYWxWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0NTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSA0Njpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxNCwgMzEsIDM1LCA0M10sIFszNiwsIDM4LCA0Ml1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicmVkdWNlUmlnaHRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuXHRcdHZhciBsZW5ndGgsXG5cdFx0ICAgIGFycixcblx0XHQgICAgYWNjdW11bGF0b3IsXG5cdFx0ICAgIGhhc0luaXRpYWxWYWx1ZSxcblx0XHQgICAgaGFzRWxlbWVudHMsXG5cdFx0ICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb245LFxuXHRcdCAgICBfZGlkSXRlcmF0b3JFcnJvcjksXG5cdFx0ICAgIF9pdGVyYXRvckVycm9yOSxcblx0XHQgICAgX2l0ZXJhdG9yOSxcblx0XHQgICAgX3N0ZXA5LFxuXHRcdCAgICBlbnRyeSxcblx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0XCIpO1xuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0YWNjdW11bGF0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0aGFzSW5pdGlhbFZhbHVlID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoYXJncyQyJDAubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0YWNjdW11bGF0b3IgPSBpbml0aWFsVmFsdWU7XG5cdFx0XHRcdFx0XHRoYXNJbml0aWFsVmFsdWUgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGhhc0VsZW1lbnRzID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPiAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yOSA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yOSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yOSA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0ucmV2ZXJzZShlbnYsIGFyciwgbGVuZ3RoIC0gMSkpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb245ID0gKF9zdGVwOSA9IF9pdGVyYXRvcjkubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwOS52YWx1ZTtcblxuXHRcdFx0XHRcdGlmIChoYXNFbGVtZW50cykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aGFzRWxlbWVudHMgPSB0cnVlO1xuXG5cdFx0XHRcdFx0aWYgKGhhc0luaXRpYWxWYWx1ZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YWNjdW11bGF0b3IgPSBlbnRyeS52YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiY29udGludWVcIiwgMjYpO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQWNjdW11bGF0b3IoY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCBlbnRyeSwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdGFjY3VtdWxhdG9yID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb245ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDE0KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjkgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yOSA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM1O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNjtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgJiYgX2l0ZXJhdG9yOVtcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yOVtcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzODtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3I5KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjk7XG5cblx0XHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM4KTtcblxuXHRcdFx0XHRjYXNlIDQyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzUpO1xuXG5cdFx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdFx0aWYgKCEoIWhhc0VsZW1lbnRzICYmICFoYXNJbml0aWFsVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucmFpc2UobmV3IFR5cGVFcnJvcihcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIikpKTtcblxuXHRcdFx0XHRjYXNlIDQ1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYWNjdW11bGF0b3IpO1xuXG5cdFx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTQsIDMxLCAzNSwgNDNdLCBbMzYsLCAzOCwgNDJdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicmV2ZXJzZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgbGVuZ3RoLCBtaWRkbGUsIGxvd2VyLCB1cHBlciwgdXBwZXJWYWx1ZSwgbG93ZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRtaWRkbGUgPSBNYXRoLmZsb29yKGxlbmd0aCAvIDIpO1xuXHRcdFx0XHRcdGxvd2VyID0gMDtcblx0XHRcdFx0XHR1cHBlciA9IHVuZGVmaW5lZCwgdXBwZXJWYWx1ZSA9IHVuZGVmaW5lZCwgbG93ZXJWYWx1ZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdHdoaWxlIChsb3dlciAhPT0gbWlkZGxlKSB7XG5cdFx0XHRcdFx0XHR1cHBlciA9IGxlbmd0aCAtIGxvd2VyIC0gMTtcblx0XHRcdFx0XHRcdGxvd2VyVmFsdWUgPSB0aGlzLm5vZGUuaGFzKGxvd2VyKSAmJiB0aGlzLm5vZGUuZ2V0VmFsdWUobG93ZXIpO1xuXHRcdFx0XHRcdFx0dXBwZXJWYWx1ZSA9IHRoaXMubm9kZS5oYXModXBwZXIpICYmIHRoaXMubm9kZS5nZXRWYWx1ZSh1cHBlcik7XG5cblx0XHRcdFx0XHRcdGlmICh1cHBlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShsb3dlciwgdXBwZXJWYWx1ZSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGxvd2VyVmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKHVwcGVyLCBsb3dlclZhbHVlLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAodXBwZXJWYWx1ZSAmJiAhbG93ZXJWYWx1ZSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkodXBwZXIpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChsb3dlclZhbHVlICYmICF1cHBlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShsb3dlcik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGxvd2VyKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS5yZXZlcnNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzb3J0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNvbXBhcmVGdW5jdGlvbikge1xuXHRcdHZhciBleGVjdXRpb25Db250ZXh0LCBhcnIsIGxlbmd0aCwgaSwgY29tcGFyZXIsIHNvcnRlZEFycmF5O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRleGVjdXRpb25Db250ZXh0ID0gdGhpcztcblx0XHRcdFx0XHRhcnIgPSB0aGlzLm5vZGU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRjb21wYXJlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQoY29tcGFyZUZ1bmN0aW9uKSkge1xuXHRcdFx0XHRcdFx0Y29tcGFyZXIgPSBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyZXIoYSwgYikge1xuXHRcdFx0XHRcdFx0XHRhID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgYSkpO1xuXHRcdFx0XHRcdFx0XHRiID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgYikpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChhIDwgYikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmIChhID4gYikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb21wYXJlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBzY29wZSA9IGVudi5jcmVhdGVTY29wZShfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cdFx0XHRcdFx0XHRcdHNjb3BlLmluaXQoY29tcGFyZUZ1bmN0aW9uLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0XHRcdFx0KDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHNjb3BlLmxvYWRBcmdzKGNvbXBhcmVGdW5jdGlvbi5ub2RlLnBhcmFtcywgW2EsIGJdLCBjb21wYXJlRnVuY3Rpb24pKTtcblx0XHRcdFx0XHRcdFx0dmFyIGV4ZWN1dGlvblJlc3VsdCA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShzY29wZS51c2UoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoZXhlY3V0aW9uQ29udGV4dC5jcmVhdGUoY29tcGFyZUZ1bmN0aW9uLm5vZGUuYm9keSwgY29tcGFyZUZ1bmN0aW9uLm5vZGUpLmV4ZWN1dGUoKSk7XG5cdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5leGl0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0aW9uUmVzdWx0LnJlc3VsdC5nZXRWYWx1ZSgpLnRvTmF0aXZlKCk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyB0byBhcnJheSwgcnVuIHRoZSB3cmFwcGVkIGNvbXBhcmVyLCB0aGVuIHJlLWFzc2lnbiBpbmRleGVzXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKGVudiwgYXJyLCBsZW5ndGgpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbC5pc1ByaW1pdGl2ZSAmJiBlbC52YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogZWw7XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29tcGFyZXI7XG5cdFx0XHRcdFx0c29ydGVkQXJyYXkgPSBjb250ZXh0JDIkMC5zZW50LlxuXHRcdFx0XHRcdC8vIHVuZGVmaW5lZCBwb3NpdGlvbnMgYXJlIGhhbmRsZWQgYnkgdGhlIHVuZGVybHlpbmcgc29ydCBhbGdvcml0aG0sIHNvIHJlcGxhY2UgdGhlbSB3aXRoIHRoZSByYXcgcHJpbWl0aXZlIHZhbHVlXG5cdFx0XHRcdFx0bWFwKGNvbnRleHQkMiQwLnQwKS5zb3J0KGNvbnRleHQkMiQwLnQxKTtcblxuXHRcdFx0XHRcdHdoaWxlIChpIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRpZiAoaSBpbiBzb3J0ZWRBcnJheSkge1xuXHRcdFx0XHRcdFx0XHRhcnIucHV0VmFsdWUoaSwgc29ydGVkQXJyYXlbaV0sIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YXJyLmRlbGV0ZVByb3BlcnR5KGksIGZhbHNlKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnNvcnRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRvTG9jYWxlU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBsZW5ndGgsIGFyciwgaSwgY3VycmVudDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRhcnIgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRjdXJyZW50ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRpZiAoIShpIDwgbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjdXJyZW50ID0gdGhpcy5ub2RlLmdldFZhbHVlKGkpO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQoY3VycmVudCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFycltpXSA9IFwiXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBlbnY7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKShlbnYsIGN1cnJlbnQsIFwidG9Mb2NhbGVTdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0YXJyW2ldID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDIwOlxuXG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcnIuam9pbigpKSk7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZ1wiKSk7XG5cblx0Ly8gdG9kbzogdGhpcyBpcyBhIGJpdCBoYWNreSAtIHRvU3RyaW5nIHdpbGwgY2FsbCBqb2luIGlmIGF2YWlsYWJsZSBwZXIgc3BlYyxcblx0Ly8gYnV0IHdpbGwgY2FsbCBPYmplY3QuLnRvU3RyaW5nIGlmIG5vdFxuXHRwcm90by5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihqb2luLCAwLCBcIkFycmF5LnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJBcnJheVwiLCBhcnJheUNsYXNzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBib29sZWFuQXBpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBib29sZWFuQXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgYm9vbGVhbkNsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0dmFyIGJvb2xlYW5WYWx1ZSA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShvYmopO1xuXG5cdFx0Ly8gY2FsbGVkIGFzIG5ld1xuXHRcdGlmICh0aGlzLmlzTmV3KSB7XG5cdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS5wcmltaXRpdmVUb09iamVjdCkoZW52LCBib29sZWFuVmFsdWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkJvb2xlYW5cIiwgYm9vbGVhblZhbHVlKTtcblx0fSwgbnVsbCwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHZhciBwcm90byA9IGJvb2xlYW5DbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJCb29sZWFuXCI7XG5cdHByb3RvLnZhbHVlID0gZmFsc2U7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIkJvb2xlYW5cIiwgXCJCb29sZWFuLnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nKHRoaXMubm9kZS52YWx1ZSkpO1xuXHR9LCAwLCBcIkJvb2xlYW4ucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJCb29sZWFuXCIsIFwiQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZlwiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlKTtcblx0fSwgMCwgXCJCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mXCIpKTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiQm9vbGVhblwiLCBib29sZWFuQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbnNvbGVBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBtZXRob2RzID0gW1wibG9nXCIsIFwiaW5mb1wiLCBcImVycm9yXCIsIFwid2FyblwiXTtcblxuZnVuY3Rpb24gY29uc29sZUFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBjb25zb2xlQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGNvbnNvbGVDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0XHRhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3RyaW5nVmFsdWVzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGFyZ3MsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZXMgPSBjb250ZXh0JDMkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRjb25zb2xlW25hbWVdLmFwcGx5KGNvbnNvbGUsIF90b0NvbnN1bWFibGVBcnJheShzdHJpbmdWYWx1ZXMpKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHR9KSwgMSwgXCJjb25zb2xlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiY29uc29sZVwiLCBjb25zb2xlQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9iaW5kID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9iaW5kXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRhdGVBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBzdGF0aWNNZXRob2RzID0gW1wibm93XCJdO1xudmFyIHByb3RvTWV0aG9kcyA9IFtcImdldERhdGVcIiwgXCJnZXREYXlcIiwgXCJnZXRGdWxsWWVhclwiLCBcImdldEhvdXJzXCIsIFwiZ2V0TWlsbGlzZWNvbmRzXCIsIFwiZ2V0TWludXRlc1wiLCBcImdldE1vbnRoXCIsIFwiZ2V0TWlsbGlzZWNvbmRzXCIsIFwiZ2V0TWludXRlc1wiLCBcImdldE1vbnRoXCIsIFwiZ2V0U2Vjb25kc1wiLCBcImdldFRpbWVcIiwgXCJnZXRUaW1lem9uZU9mZnNldFwiLCBcImdldFVUQ0RheVwiLCBcImdldFVUQ0RhdGVcIiwgXCJnZXRVVENGdWxsWWVhclwiLCBcImdldFVUQ0hvdXJzXCIsIFwiZ2V0VVRDTWlsbGlzZWNvbmRzXCIsIFwiZ2V0VVRDTWludXRlc1wiLCBcImdldFVUQ01vbnRoXCIsIFwiZ2V0VVRDU2Vjb25kc1wiLCBcImdldFllYXJcIiwgXCJ0b0RhdGVTdHJpbmdcIiwgXCJ0b0dNVFN0cmluZ1wiLCBcInRvSVNPU3RyaW5nXCIsIFwidG9KU09OXCIsIFwidG9Mb2NhbGVTdHJpbmdcIiwgXCJ0b0xvY2FsZURhdGVTdHJpbmdcIiwgXCJ0b0xvY2FsZVRpbWVTdHJpbmdcIiwgXCJ0b1N0cmluZ1wiLCBcInRvVGltZVN0cmluZ1wiLCBcInRvVVRDU3RyaW5nXCJdO1xudmFyIHNldHRlcnMgPSBbXCJzZXREYXRlXCIsIFwic2V0RnVsbFllYXJcIiwgXCJzZXRIb3Vyc1wiLCBcInNldE1pbGxpc2Vjb25kc1wiLCBcInNldE1pbnV0ZXNcIiwgXCJzZXRNb250aFwiLCBcInNldFNlY29uZHNcIiwgXCJzZXRUaW1lXCIsIFwic2V0VVRDRGF0ZVwiLCBcInNldFVUQ0Z1bGxZZWFyXCIsIFwic2V0VVRDSG91cnNcIiwgXCJzZXRVVENNaWxsaXNlY29uZHNcIiwgXCJzZXRVVENNaW51dGVzXCIsIFwic2V0VVRDTW9udGhcIiwgXCJzZXRVVENTZWNvbmRzXCIsIFwic2V0WWVhclwiXTtcblxuZnVuY3Rpb24gZGF0ZUFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIGRhdGVDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocDEsIHAyLCBwMywgcDQsIHA1LCBwNiwgcDcpIHtcblx0XHR2YXIgZGF0ZVZhbHVlLFxuXHRcdCAgICBhcmdzLFxuXHRcdCAgICBwcmltaXRpdmVWYWx1ZSxcblx0XHQgICAgaSxcblx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IHVuZGVmaW5lZCwgYXJncyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IFtdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0aWYgKCEoYXJncyQyJDAubGVuZ3RoID09PSAxKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFwMS5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IFtwMS52YWx1ZV07XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHAxKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBwcmltaXRpdmVWYWx1ZSAhPT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBwMSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblxuXHRcdFx0XHRcdGFyZ3MgPSBbcHJpbWl0aXZlVmFsdWVdO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncyQyJDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGVudiwgYXJnLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpLCBcInQwXCIsIDIxKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBhcmdzLmxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gY29udGV4dCQyJDAudDEgPT09IDAgPyAyNiA6IGNvbnRleHQkMiQwLnQxID09PSAxID8gMjggOiAzMDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImJyZWFrXCIsIDM0KTtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IG5ldyBEYXRlKGFyZ3NbMF0pO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAzNCk7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0XHRpID0gYXJncy5sZW5ndGg7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSA8IDcpIHtcblx0XHRcdFx0XHRcdC8vIGRlZmF1bHQgZGF5IHRvIDEsIGFsbCBvdGhlcnMgdG8gMFxuXHRcdFx0XHRcdFx0YXJnc1tpKytdID0gaSA9PT0gMyA/IDEgOiAwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IG5ldyAoX2JpbmQuYXBwbHkoRGF0ZSwgW251bGxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKSkoKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMzQpO1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkRhdGVcIiwgZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IERhdGUuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBudWxsLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0ZGF0ZUNsYXNzLmRlZmluZShcInBhcnNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBkYXRlVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHZhbHVlLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IERhdGUucGFyc2Uoc3RyaW5nVmFsdWUpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRGF0ZS5wcm90b3R5cGUucGFyc2VcIikpO1xuXG5cdGRhdGVDbGFzcy5kZWZpbmUoXCJVVENcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIGFyZ3MsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDIkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCBhcmcsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSksIFwidDBcIiwgMSk7XG5cblx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3MpKSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDcsIFwiRGF0ZS5wcm90b3R5cGUuVVRDXCIpKTtcblxuXHR2YXIgcHJvdG8gPSBkYXRlQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRGF0ZVwiO1xuXHRwcm90by52YWx1ZSA9IG5ldyBEYXRlKDApO1xuXG5cdHN0YXRpY01ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGRhdGVDbGFzcy5kZWZpbmUobmFtZSwgKDAsIF91dGlsc05hdGl2ZS50b05hdGl2ZUZ1bmN0aW9uKShlbnYsIERhdGVbbmFtZV0sIFwiRGF0ZS5cIiArIG5hbWUpKTtcblx0fSk7XG5cblx0cHJvdG9NZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRwcm90by5kZWZpbmUobmFtZSwgKDAsIF91dGlsc05hdGl2ZS50b05hdGl2ZUZ1bmN0aW9uKShlbnYsIERhdGUucHJvdG90eXBlW25hbWVdLCBcIkRhdGUucHJvdG90eXBlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRzZXR0ZXJzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHR2YXIgbWFya2VkMiQwID0gW3NldHRlcl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cblx0XHRmdW5jdGlvbiBzZXR0ZXIoKSB7XG5cdFx0XHR2YXIgYXJncyxcblx0XHRcdCAgICBhcmdzJDMkMCA9IGFyZ3VtZW50cztcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc2V0dGVyJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5tYXApKGFyZ3MkMyQwLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDMkMChhcmcpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMyQwJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNCQwLnByZXYgPSBjb250ZXh0JDQkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCBhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMyQwLnQwO1xuXG5cdFx0XHRcdFx0XHREYXRlLnByb3RvdHlwZVtuYW1lXS5hcHBseSh0aGlzLm5vZGUudmFsdWUsIGFyZ3MpO1xuXG5cdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIG1hcmtlZDIkMFswXSwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKHNldHRlciwgRGF0ZS5wcm90b3R5cGVbbmFtZV0ubGVuZ3RoLCBcIkRhdGUucHJvdG90eXBlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlLnZhbHVlT2YoKSk7XG5cdH0sIDAsIFwiRGF0ZS5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkRhdGVcIiwgZGF0ZUNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZXJyb3JBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBlcnJvclR5cGVzID0gW1wiVHlwZUVycm9yXCIsIFwiUmVmZXJlbmNlRXJyb3JcIiwgXCJTeW50YXhFcnJvclwiLCBcIlJhbmdlRXJyb3JcIiwgXCJVUklFcnJvclwiLCBcIkV2YWxFcnJvclwiXTtcblxuZnVuY3Rpb24gZXJyb3JBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBlcnJvckNsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChtZXNzYWdlKSB7XG5cdFx0dmFyIG1lc3NhZ2VTdHJpbmc7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdG1lc3NhZ2VTdHJpbmcgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKG1lc3NhZ2UpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIG1lc3NhZ2UpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkVycm9yXCIsIG5ldyBFcnJvcihtZXNzYWdlU3RyaW5nKSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBudWxsLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0dmFyIHByb3RvID0gZXJyb3JDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJFcnJvclwiO1xuXHRwcm90by5kZWZpbmUoXCJuYW1lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiRXJyb3JcIikpO1xuXHRwcm90by5kZWZpbmUoXCJtZXNzYWdlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgbmFtZSwgbXNnO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRuYW1lID0gdGhpcy5ub2RlLmdldFZhbHVlKFwibmFtZVwiKTtcblx0XHRcdFx0XHRtc2cgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMubm9kZS5oYXMoXCJtZXNzYWdlXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHRoaXMubm9kZS5nZXRWYWx1ZShcIm1lc3NhZ2VcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRtc2cgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IG5hbWU7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRleHQkMiQwLnQwKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgbmFtZSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRuYW1lID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoIShuYW1lICYmIG1zZykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTdHJpbmdcIiwgbmFtZSArIFwiOiBcIiArIG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN0cmluZ1wiLCBuYW1lIHx8IG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJFcnJvci5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJFcnJvclwiLCBlcnJvckNsYXNzKTtcblxuXHRlcnJvclR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yVHlwZSkge1xuXHRcdHZhciBlcnJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAobWVzc2FnZSkge1xuXHRcdFx0dmFyIG1lc3NhZ2VTdHJpbmcsIG5hdGl2ZUVycm9yO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgbWVzc2FnZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdG5hdGl2ZUVycm9yID0gbmV3IGdsb2JhbFtlcnJvclR5cGVdKG1lc3NhZ2VTdHJpbmcpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShlcnJvclR5cGUsIG5hdGl2ZUVycm9yKSk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRcdHZhciB0eXBlUHJvdG8gPSBlcnJDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0XHR0eXBlUHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlcnJvclR5cGUpKTtcblxuXHRcdC8vIGFkZCB0byBwcm90b3R5cGUgY2hhaW4gdG8gcmVwcmVzZW50IGluaGVyaXRhbmNlXG5cdFx0dHlwZVByb3RvLnNldFByb3RvdHlwZShwcm90byk7XG5cblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKGVycm9yVHlwZSwgZXJyQ2xhc3MpO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5OeVl5OWxjelV2WlhKeWIzSXZhVzVrWlhndWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklsd2lkWE5sSUhOMGNtbGpkRndpTzF4dVhHNTJZWElnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eVhDSXBXMXdpWkdWbVlYVnNkRndpWFR0Y2JseHVkbUZ5SUY5cGJuUmxjbTl3VW1WeGRXbHlaVmRwYkdSallYSmtJRDBnY21WeGRXbHlaU2hjSW1KaFltVnNMWEoxYm5ScGJXVXZhR1ZzY0dWeWN5OXBiblJsY205d0xYSmxjWFZwY21VdGQybHNaR05oY21SY0lpbGJYQ0prWldaaGRXeDBYQ0pkTzF4dVhHNVBZbXBsWTNRdVpHVm1hVzVsVUhKdmNHVnlkSGtvWlhod2IzSjBjeXdnWENKZlgyVnpUVzlrZFd4bFhDSXNJSHRjYmx4MGRtRnNkV1U2SUhSeWRXVmNibjBwTzF4dVpYaHdiM0owYzF0Y0ltUmxabUYxYkhSY0lsMGdQU0JsY25KdmNrRndhVHRjYmx4dWRtRnlJRjkxZEdsc2MwNWhkR2wyWlNBOUlISmxjWFZwY21Vb1hDSXVMaTh1TGk5MWRHbHNjeTl1WVhScGRtVmNJaWs3WEc1Y2JuWmhjaUJmZFhScGJITkRiMjUwY21GamRITWdQU0J5WlhGMWFYSmxLRndpTGk0dkxpNHZkWFJwYkhNdlkyOXVkSEpoWTNSelhDSXBPMXh1WEc1MllYSWdZMjl1ZEhKaFkzUnpJRDBnWDJsdWRHVnliM0JTWlhGMWFYSmxWMmxzWkdOaGNtUW9YM1YwYVd4elEyOXVkSEpoWTNSektUdGNibHh1ZG1GeUlHVnljbTl5Vkhsd1pYTWdQU0JiWENKVWVYQmxSWEp5YjNKY0lpd2dYQ0pTWldabGNtVnVZMlZGY25KdmNsd2lMQ0JjSWxONWJuUmhlRVZ5Y205eVhDSXNJRndpVW1GdVoyVkZjbkp2Y2x3aUxDQmNJbFZTU1VWeWNtOXlYQ0lzSUZ3aVJYWmhiRVZ5Y205eVhDSmRPMXh1WEc1bWRXNWpkR2x2YmlCbGNuSnZja0Z3YVNobGJuWXBJSHRjYmx4MGRtRnlJR2RzYjJKaGJFOWlhbVZqZENBOUlHVnVkaTVuYkc5aVlXdzdYRzVjZEhaaGNpQnZZbXBsWTNSR1lXTjBiM0o1SUQwZ1pXNTJMbTlpYW1WamRFWmhZM1J2Y25rN1hHNWNibHgwZG1GeUlHVnljbTl5UTJ4aGMzTWdQU0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlVaMWJtTjBhVzl1S0Y5eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVdWJXRnlheWhtZFc1amRHbHZiaUJqWVd4c1pXVWtNU1F3S0cxbGMzTmhaMlVwSUh0Y2JseDBYSFIyWVhJZ2JXVnpjMkZuWlZOMGNtbHVaenRjYmx4MFhIUnlaWFIxY200Z1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTNTNjbUZ3S0daMWJtTjBhVzl1SUdOaGJHeGxaU1F4SkRBa0tHTnZiblJsZUhRa01pUXdLU0I3WEc1Y2RGeDBYSFIzYUdsc1pTQW9NU2tnYzNkcGRHTm9JQ2hqYjI1MFpYaDBKRElrTUM1d2NtVjJJRDBnWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ2tnZTF4dVhIUmNkRngwWEhSallYTmxJREE2WEc1Y2RGeDBYSFJjZEZ4MGJXVnpjMkZuWlZOMGNtbHVaeUE5SUhWdVpHVm1hVzVsWkR0Y2JseHVYSFJjZEZ4MFhIUmNkR2xtSUNoamIyNTBjbUZqZEhNdWFYTk9kV3hzVDNKVmJtUmxabWx1WldRb2JXVnpjMkZuWlNrcElIdGNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBMU8xeHVYSFJjZEZ4MFhIUmNkRngwWW5KbFlXczdYRzVjZEZ4MFhIUmNkRngwZlZ4dVhHNWNkRngwWEhSY2RGeDBZMjl1ZEdWNGRDUXlKREF1Ym1WNGRDQTlJRFE3WEc1Y2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUNnd0xDQmZkWFJwYkhOT1lYUnBkbVV1ZEc5VGRISnBibWNwS0dWdWRpd2diV1Z6YzJGblpTazdYRzVjYmx4MFhIUmNkRngwWTJGelpTQTBPbHh1WEhSY2RGeDBYSFJjZEcxbGMzTmhaMlZUZEhKcGJtY2dQU0JqYjI1MFpYaDBKRElrTUM1elpXNTBPMXh1WEc1Y2RGeDBYSFJjZEdOaGMyVWdOVHBjYmx4MFhIUmNkRngwWEhSeVpYUjFjbTRnWTI5dWRHVjRkQ1F5SkRBdVlXSnlkWEIwS0Z3aWNtVjBkWEp1WENJc0lHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxLRndpUlhKeWIzSmNJaXdnYm1WM0lFVnljbTl5S0cxbGMzTmhaMlZUZEhKcGJtY3BLU2s3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0EyT2x4dVhIUmNkRngwWEhSallYTmxJRndpWlc1a1hDSTZYRzVjZEZ4MFhIUmNkRngwY21WMGRYSnVJR052Ym5SbGVIUWtNaVF3TG5OMGIzQW9LVHRjYmx4MFhIUmNkSDFjYmx4MFhIUjlMQ0JqWVd4c1pXVWtNU1F3TENCMGFHbHpLVHRjYmx4MGZTa3NJRzUxYkd3c0lIc2dZMjl1Wm1sbmRYSmhZbXhsT2lCbVlXeHpaU3dnWlc1MWJXVnlZV0pzWlRvZ1ptRnNjMlVzSUhkeWFYUmhZbXhsT2lCbVlXeHpaU0I5S1R0Y2JseHVYSFIyWVhJZ2NISnZkRzhnUFNCbGNuSnZja05zWVhOekxtZGxkRlpoYkhWbEtGd2ljSEp2ZEc5MGVYQmxYQ0lwTzF4dVhIUndjbTkwYnk1amJHRnpjMDVoYldVZ1BTQmNJa1Z5Y205eVhDSTdYRzVjZEhCeWIzUnZMbVJsWm1sdVpTaGNJbTVoYldWY0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZRY21sdGFYUnBkbVVvWENKRmNuSnZjbHdpS1NrN1hHNWNkSEJ5YjNSdkxtUmxabWx1WlNoY0ltMWxjM05oWjJWY0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZRY21sdGFYUnBkbVVvWENKY0lpa3BPMXh1WEc1Y2RIQnliM1J2TG1SbFptbHVaU2hjSW5SdlUzUnlhVzVuWENJc0lHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxRblZwYkhSSmJrWjFibU4wYVc5dUtGOXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVXViV0Z5YXlobWRXNWpkR2x2YmlCallXeHNaV1VrTVNRd0tDa2dlMXh1WEhSY2RIWmhjaUJ1WVcxbExDQnRjMmM3WEc1Y2RGeDBjbVYwZFhKdUlGOXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVXVkM0poY0NobWRXNWpkR2x2YmlCallXeHNaV1VrTVNRd0pDaGpiMjUwWlhoMEpESWtNQ2tnZTF4dVhIUmNkRngwZDJocGJHVWdLREVwSUhOM2FYUmphQ0FvWTI5dWRHVjRkQ1F5SkRBdWNISmxkaUE5SUdOdmJuUmxlSFFrTWlRd0xtNWxlSFFwSUh0Y2JseDBYSFJjZEZ4MFkyRnpaU0F3T2x4dVhIUmNkRngwWEhSY2RHNWhiV1VnUFNCMGFHbHpMbTV2WkdVdVoyVjBWbUZzZFdVb1hDSnVZVzFsWENJcE8xeHVYSFJjZEZ4MFhIUmNkRzF6WnlBOUlIVnVaR1ZtYVc1bFpEdGNibHh1WEhSY2RGeDBYSFJjZEdsbUlDZ2hkR2hwY3k1dWIyUmxMbWhoY3loY0ltMWxjM05oWjJWY0lpa3BJSHRjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMbTVsZUhRZ1BTQTJPMXh1WEhSY2RGeDBYSFJjZEZ4MFluSmxZV3M3WEc1Y2RGeDBYSFJjZEZ4MGZWeHVYRzVjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ0E5SURVN1hHNWNkRngwWEhSY2RGeDBjbVYwZFhKdUlDZ3dMQ0JmZFhScGJITk9ZWFJwZG1VdWRHOVRkSEpwYm1jcEtHVnVkaXdnZEdocGN5NXViMlJsTG1kbGRGWmhiSFZsS0Z3aWJXVnpjMkZuWlZ3aUtTazdYRzVjYmx4MFhIUmNkRngwWTJGelpTQTFPbHh1WEhSY2RGeDBYSFJjZEcxelp5QTlJR052Ym5SbGVIUWtNaVF3TG5ObGJuUTdYRzVjYmx4MFhIUmNkRngwWTJGelpTQTJPbHh1WEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xuUXdJRDBnYm1GdFpUdGNibHh1WEhSY2RGeDBYSFJjZEdsbUlDZ2hZMjl1ZEdWNGRDUXlKREF1ZERBcElIdGNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBeE1UdGNibHgwWEhSY2RGeDBYSFJjZEdKeVpXRnJPMXh1WEhSY2RGeDBYSFJjZEgxY2JseHVYSFJjZEZ4MFhIUmNkR052Ym5SbGVIUWtNaVF3TG01bGVIUWdQU0F4TUR0Y2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z0tEQXNJRjkxZEdsc2MwNWhkR2wyWlM1MGIxTjBjbWx1Wnlrb1pXNTJMQ0J1WVcxbEtUdGNibHh1WEhSY2RGeDBYSFJqWVhObElERXdPbHh1WEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xuUXdJRDBnWTI5dWRHVjRkQ1F5SkRBdWMyVnVkRHRjYmx4dVhIUmNkRngwWEhSallYTmxJREV4T2x4dVhIUmNkRngwWEhSY2RHNWhiV1VnUFNCamIyNTBaWGgwSkRJa01DNTBNRHRjYmx4dVhIUmNkRngwWEhSY2RHbG1JQ2doS0c1aGJXVWdKaVlnYlhObktTa2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFkyOXVkR1Y0ZENReUpEQXVibVY0ZENBOUlERTBPMXh1WEhSY2RGeDBYSFJjZEZ4MFluSmxZV3M3WEc1Y2RGeDBYSFJjZEZ4MGZWeHVYRzVjZEZ4MFhIUmNkRngwY21WMGRYSnVJR052Ym5SbGVIUWtNaVF3TG1GaWNuVndkQ2hjSW5KbGRIVnlibHdpTENCdlltcGxZM1JHWVdOMGIzSjVMbU55WldGMFpTaGNJbE4wY21sdVoxd2lMQ0J1WVcxbElDc2dYQ0k2SUZ3aUlDc2diWE5uS1NrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBeE5EcGNibHgwWEhSY2RGeDBYSFJ5WlhSMWNtNGdZMjl1ZEdWNGRDUXlKREF1WVdKeWRYQjBLRndpY21WMGRYSnVYQ0lzSUc5aWFtVmpkRVpoWTNSdmNua3VZM0psWVhSbEtGd2lVM1J5YVc1blhDSXNJRzVoYldVZ2ZId2diWE5uS1NrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBeE5UcGNibHgwWEhSY2RGeDBZMkZ6WlNCY0ltVnVaRndpT2x4dVhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRJa01DNXpkRzl3S0NrN1hHNWNkRngwWEhSOVhHNWNkRngwZlN3Z1kyRnNiR1ZsSkRFa01Dd2dkR2hwY3lrN1hHNWNkSDBwTENBd0xDQmNJa1Z5Y205eUxuQnliM1J2ZEhsd1pTNTBiMU4wY21sdVoxd2lLU2s3WEc1Y2JseDBaMnh2WW1Gc1QySnFaV04wTG1SbFptbHVaU2hjSWtWeWNtOXlYQ0lzSUdWeWNtOXlRMnhoYzNNcE8xeHVYRzVjZEdWeWNtOXlWSGx3WlhNdVptOXlSV0ZqYUNobWRXNWpkR2x2YmlBb1pYSnliM0pVZVhCbEtTQjdYRzVjZEZ4MGRtRnlJR1Z5Y2tOc1lYTnpJRDBnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdWR2RXNWpkR2x2YmloZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExtMWhjbXNvWm5WdVkzUnBiMjRnWTJGc2JHVmxKRElrTUNodFpYTnpZV2RsS1NCN1hHNWNkRngwWEhSMllYSWdiV1Z6YzJGblpWTjBjbWx1Wnl3Z2JtRjBhWFpsUlhKeWIzSTdYRzVjZEZ4MFhIUnlaWFIxY200Z1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTNTNjbUZ3S0daMWJtTjBhVzl1SUdOaGJHeGxaU1F5SkRBa0tHTnZiblJsZUhRa015UXdLU0I3WEc1Y2RGeDBYSFJjZEhkb2FXeGxJQ2d4S1NCemQybDBZMmdnS0dOdmJuUmxlSFFrTXlRd0xuQnlaWFlnUFNCamIyNTBaWGgwSkRNa01DNXVaWGgwS1NCN1hHNWNkRngwWEhSY2RGeDBZMkZ6WlNBd09seHVYSFJjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F6SkRBdWJtVjRkQ0E5SURJN1hHNWNkRngwWEhSY2RGeDBYSFJ5WlhSMWNtNGdLREFzSUY5MWRHbHNjMDVoZEdsMlpTNTBiMU4wY21sdVp5a29aVzUyTENCdFpYTnpZV2RsS1R0Y2JseHVYSFJjZEZ4MFhIUmNkR05oYzJVZ01qcGNibHgwWEhSY2RGeDBYSFJjZEcxbGMzTmhaMlZUZEhKcGJtY2dQU0JqYjI1MFpYaDBKRE1rTUM1elpXNTBPMXh1WEhSY2RGeDBYSFJjZEZ4MGJtRjBhWFpsUlhKeWIzSWdQU0J1WlhjZ1oyeHZZbUZzVzJWeWNtOXlWSGx3WlYwb2JXVnpjMkZuWlZOMGNtbHVaeWs3WEc1Y2RGeDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENRekpEQXVZV0p5ZFhCMEtGd2ljbVYwZFhKdVhDSXNJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsS0dWeWNtOXlWSGx3WlN3Z2JtRjBhWFpsUlhKeWIzSXBLVHRjYmx4dVhIUmNkRngwWEhSY2RHTmhjMlVnTlRwY2JseDBYSFJjZEZ4MFhIUmpZWE5sSUZ3aVpXNWtYQ0k2WEc1Y2RGeDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENRekpEQXVjM1J2Y0NncE8xeHVYSFJjZEZ4MFhIUjlYRzVjZEZ4MFhIUjlMQ0JqWVd4c1pXVWtNaVF3TENCMGFHbHpLVHRjYmx4MFhIUjlLU3dnYm5Wc2JDd2dleUJqYjI1bWFXZDFjbUZpYkdVNklHWmhiSE5sTENCbGJuVnRaWEpoWW14bE9pQm1ZV3h6WlN3Z2QzSnBkR0ZpYkdVNklHWmhiSE5sSUgwcE8xeHVYRzVjZEZ4MGRtRnlJSFI1Y0dWUWNtOTBieUE5SUdWeWNrTnNZWE56TG1kbGRGWmhiSFZsS0Z3aWNISnZkRzkwZVhCbFhDSXBPMXh1WEhSY2RIUjVjR1ZRY205MGJ5NWtaV1pwYm1Vb1hDSnVZVzFsWENJc0lHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxVSEpwYldsMGFYWmxLR1Z5Y205eVZIbHdaU2twTzF4dVhHNWNkRngwTHk4Z1lXUmtJSFJ2SUhCeWIzUnZkSGx3WlNCamFHRnBiaUIwYnlCeVpYQnlaWE5sYm5RZ2FXNW9aWEpwZEdGdVkyVmNibHgwWEhSMGVYQmxVSEp2ZEc4dWMyVjBVSEp2ZEc5MGVYQmxLSEJ5YjNSdktUdGNibHh1WEhSY2RHZHNiMkpoYkU5aWFtVmpkQzVrWldacGJtVW9aWEp5YjNKVWVYQmxMQ0JsY25KRGJHRnpjeWs3WEc1Y2RIMHBPMXh1ZlZ4dVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlHVjRjRzl5ZEhOYlhDSmtaV1poZFd4MFhDSmRPeUpkZlE9PSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbkFwaTtcblxudmFyIF90eXBlc05hdGl2ZUZ1bmN0aW9uVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9uYXRpdmUtZnVuY3Rpb24tdHlwZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gZGVmaW5lVGhpcyhlbnYsIGZuLCB0aGlzQXJnKSB7XG5cdGlmIChmbi5idWlsdEluIHx8IGZuLmlzU3RyaWN0KCkpIHtcblx0XHRyZXR1cm4gdGhpc0FyZyB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0fVxuXG5cdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQodGhpc0FyZykpIHtcblx0XHRyZXR1cm4gZW52Lmdsb2JhbDtcblx0fVxuXG5cdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXNBcmcpO1xufVxuXG52YXIgZnJvemVuID0geyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cbmZ1bmN0aW9uIGZ1bmN0aW9uQXBpKGVudikge1xuXHR2YXIgb3B0aW9ucyA9IGVudi5vcHRpb25zO1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgZnVuY0NsYXNzID0gdW5kZWZpbmVkO1xuXG5cdHZhciBmdW5jQ3RvciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBmdW5jQ3RvcigpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0YXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgZnVuY0luc3RhbmNlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZnVuY0N0b3IkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0ZnVuY0luc3RhbmNlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEob3B0aW9ucy5wYXJzZXIgJiYgYXJncy5sZW5ndGggPiAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdHZhciBib2R5LCBwYXJhbXMsIGJvZHlTdHJpbmcsIGFzdCwgY2FsbGVlLCB1c2VyTm9kZSwgc3RyaWN0LCB3cmFwcGVkRnVuYztcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRib2R5ID0gYXJncy5wb3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdHBhcmFtcyA9IFwiXCI7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZ3MubGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDMkMChhcmcsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGwoYXJnKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVW5leHBlY3RlZCB0b2tlbiBudWxsXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKGFyZykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLnQwID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLnQwID0gY29udGV4dCQ0JDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkNCQwLnQwKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0cGFyYW1zID0gY29udGV4dCQzJDAuc2VudC5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIHRoZSBzcGVjIGFsbG93cyBwYXJhbWV0ZXJzIHRvIGJlIGNvbW1hLWRlbGltaXRlZCwgc28gd2Ugd2lsbCBqb2luIGFuZCBzcGxpdCBhZ2FpbiBjb21tYVxuXHRcdFx0XHRcdFx0XHRcdFx0am9pbihcIixcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIGJvZHkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0XHRcdFx0Ym9keVN0cmluZyA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRhc3QgPSBvcHRpb25zLnBhcnNlcihcIihmdW5jdGlvbihcIiArIHBhcmFtcyArIFwiKXtcIiArIGJvZHlTdHJpbmcgKyBcIn0pLmFwcGx5KCR0aGlzLCRhcmdzKTtcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYWxsZWUgPSBhc3QuYm9keVswXS5leHByZXNzaW9uLmNhbGxlZS5vYmplY3Q7XG5cdFx0XHRcdFx0XHRcdFx0XHR1c2VyTm9kZSA9IGNhbGxlZS5ib2R5LmJvZHk7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdHJpY3QgPSBjb250cmFjdHMuaXNTdHJpY3ROb2RlKHVzZXJOb2RlKTtcblx0XHRcdFx0XHRcdFx0XHRcdHdyYXBwZWRGdW5jID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHdyYXBwZWRGdW5jKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdGhpc0FyZyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICRhcmdzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgZXhlY3V0aW9uUmVzdWx0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgYXJncyQ0JDAgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gd3JhcHBlZEZ1bmMkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdChmdW5jSW5zdGFuY2UpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSB0aGlzLm5vZGU7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXNBcmcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBzdHJpY3QgPyBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCA6IGdsb2JhbE9iamVjdDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmVudi5jcmVhdGVWYXJpYWJsZShcIiR0aGlzXCIpLnNldFZhbHVlKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRhcmdzID0gdGhpcy5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheShhcmdzJDQkMCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5lbnYuY3JlYXRlVmFyaWFibGUoXCIkYXJnc1wiKS5zZXRWYWx1ZSgkYXJncyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChhc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDQkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpc0FyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgd3JhcHBlZEZ1bmMsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHdyYXBwZWRGdW5jLm5hdGl2ZUxlbmd0aCA9IGNhbGxlZS5wYXJhbXMubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JhcHBlZEZ1bmMuc3RyaWN0ID0gc3RyaWN0O1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY0luc3RhbmNlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbih3cmFwcGVkRnVuYywgdW5kZWZpbmVkLCB7IHN0cmljdDogc3RyaWN0IH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY0luc3RhbmNlLmJpbmRTY29wZShlbnYuZ2xvYmFsU2NvcGUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCBfdGhpcyk7XG5cdFx0XHRcdFx0fSkoKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGZ1bmNJbnN0YW5jZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY3Rpb24gKCkge30pO1xuXG5cdFx0XHRcdGNhc2UgNjpcblxuXHRcdFx0XHRcdGZ1bmNJbnN0YW5jZS5wdXRWYWx1ZShcImNvbnN0cnVjdG9yXCIsIGZ1bmNDbGFzcyk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmdW5jSW5zdGFuY2UpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgZnVuY0N0b3IsIHRoaXMpO1xuXHR9KTtcblxuXHQvLyB0aGUgcHJvdG90eXBlIG9mIGEgZnVuY3Rpb24gaXMgYWN0dWFsbHkgY2FsbGFibGUgYW5kIGV2YWx1YXRlcyBhcyBhIGZ1bmN0aW9uXG5cdHZhciBwcm90byA9IG5ldyBfdHlwZXNOYXRpdmVGdW5jdGlvblR5cGUuTmF0aXZlRnVuY3Rpb25UeXBlKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0cmV0dXJuIHRoaXMucmFpc2UobmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RveXBlIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH0pO1xuXG5cdGZ1bmNDdG9yLm5hdGl2ZUxlbmd0aCA9IDE7XG5cdGZ1bmNDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY0N0b3IsIHByb3RvLCBmcm96ZW4pO1xuXHRmdW5jQ2xhc3MucHV0VmFsdWUoXCJjb25zdHJ1Y3RvclwiLCBmdW5jQ2xhc3MpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJGdW5jdGlvblwiLCBmdW5jQ2xhc3MpO1xuXG5cdHByb3RvLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0aWYgKGVudi5vcHRpb25zLmVjbWFWZXJzaW9uID4gNSkge1xuXHRcdHByb3RvLmRlZmluZShcIm5hbWVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJcIiksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHR9XG5cblx0Ly8gZnVuY3Rpb24gaXRzZWxmIGlzIGEgZnVuY3Rpb25cblx0ZnVuY0NsYXNzLnNldFByb3RvdHlwZShwcm90byk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLm5vZGUubmF0aXZlKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJmdW5jdGlvbiAoKSB7IFtuYXRpdmUgY29kZV0gfVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJmdW5jdGlvbiAoKSB7IFt1c2VyIGNvZGVdIH1cIik7XG5cdH0sIDAsIFwiRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJjYWxsXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRoaXNBcmcpIHtcblx0XHRmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdFx0XHRhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHRcdH1cblxuXHRcdHZhciBjYWxsZWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNhbGxlZSA9IHRoaXMubm9kZS5uYXRpdmUgPyB0aGlzLm5vZGUgOiB0aGlzLm5vZGUubm9kZTtcblxuXHRcdFx0XHRcdHRoaXNBcmcgPSBkZWZpbmVUaGlzKGVudiwgdGhpcy5ub2RlLCB0aGlzQXJnKTtcblx0XHRcdFx0XHR0aGlzLm5vZGUuYmluZFRoaXModGhpc0FyZyk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHRoaXMubm9kZSwgYXJncywgdGhpc0FyZywgY2FsbGVlKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRnVuY3Rpb24ucHJvdG90eXBlLmNhbGxcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImFwcGx5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRoaXNBcmcsIGFyZ3NBcnJheSkge1xuXHRcdHZhciBhcmdzLCBjYWxsZWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghYXJnc0FycmF5KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghKGFyZ3NBcnJheS5jbGFzc05hbWUgIT09IFwiQXJndW1lbnRzXCIgJiYgYXJnc0FycmF5LmNsYXNzTmFtZSAhPT0gXCJBcnJheVwiICYmIGFyZ3NBcnJheS5jbGFzc05hbWUgIT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnJhaXNlKG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbGlzdCB3YXMgd3JvbmcgdHlwZVwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KShlbnYsIGFyZ3NBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNhbGxlZSA9IHRoaXMubm9kZS5uYXRpdmUgPyB0aGlzLm5vZGUgOiB0aGlzLm5vZGUubm9kZTtcblxuXHRcdFx0XHRcdHRoaXNBcmcgPSBkZWZpbmVUaGlzKGVudiwgdGhpcy5ub2RlLCB0aGlzQXJnKTtcblx0XHRcdFx0XHR0aGlzLm5vZGUuYmluZFRoaXModGhpc0FyZyk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHRoaXMubm9kZSwgYXJncywgdGhpc0FyZywgY2FsbGVlKSwgXCJ0MFwiLCAxMCk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJiaW5kXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRoaXNBcmcpIHtcblx0XHRmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG5cdFx0XHRhcmdzW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdO1xuXHRcdH1cblxuXHRcdHZhciBmbiwgY2FsbGVlLCBwYXJhbXMsIG5hdGl2ZUZ1bmMsIGJvdW5kRnVuYywgX3Rocm93ZXI7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Zm4gPSB0aGlzLm5vZGU7XG5cdFx0XHRcdFx0Y2FsbGVlID0gZm4ubmF0aXZlID8gZm4gOiBmbi5ub2RlO1xuXHRcdFx0XHRcdHBhcmFtcyA9IGNhbGxlZS5wYXJhbXMgfHwgW107XG5cblx0XHRcdFx0XHR0aGlzQXJnID0gZGVmaW5lVGhpcyhlbnYsIHRoaXMubm9kZSwgdGhpc0FyZyk7XG5cblx0XHRcdFx0XHRuYXRpdmVGdW5jID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIG5hdGl2ZUZ1bmMoKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFkZGl0aW9uYWxBcmdzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcblx0XHRcdFx0XHRcdFx0YWRkaXRpb25hbEFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIG1lcmdlZEFyZ3M7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIG5hdGl2ZUZ1bmMkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0bWVyZ2VkQXJncyA9IGFyZ3MuY29uY2F0KGFkZGl0aW9uYWxBcmdzKTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgZm4sIG1lcmdlZEFyZ3MsIHRoaXNBcmcsIGNhbGxlZSwgdGhpcy5pc05ldyksIFwidDBcIiwgMik7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnQwKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBuYXRpdmVGdW5jLCB0aGlzKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdG5hdGl2ZUZ1bmMubmF0aXZlTGVuZ3RoID0gTWF0aC5tYXgocGFyYW1zLmxlbmd0aCAtIGFyZ3MubGVuZ3RoLCAwKTtcblx0XHRcdFx0XHRuYXRpdmVGdW5jLnN0cmljdCA9IGVudi5pc1N0cmljdCgpIHx8ICFmbi5uYXRpdmUgJiYgY29udHJhY3RzLmlzU3RyaWN0Tm9kZShmbi5ub2RlLmJvZHkuYm9keSk7XG5cblx0XHRcdFx0XHRib3VuZEZ1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKG5hdGl2ZUZ1bmMpO1xuXG5cdFx0XHRcdFx0Ym91bmRGdW5jLmJpbmRTY29wZSh0aGlzLmVudi5jdXJyZW50KTtcblx0XHRcdFx0XHRib3VuZEZ1bmMuYmluZFRoaXModGhpc0FyZyk7XG5cblx0XHRcdFx0XHRpZiAoIW5hdGl2ZUZ1bmMuc3RyaWN0KSB7XG5cdFx0XHRcdFx0XHRib3VuZEZ1bmMucmVtb3ZlKFwiY2FsbGVyXCIpO1xuXHRcdFx0XHRcdFx0Ym91bmRGdW5jLnJlbW92ZShcImFyZ3VtZW50c1wiKTtcblxuXHRcdFx0XHRcdFx0Ly8gdGhlc2Ugd2lsbCBiZSBhZGRlZCBpbiBzdHJpY3QgbW9kZSwgYnV0IHNob3VsZCBhbHdheXMgYmUgaGVyZSBmb3IgYm91bmQgZnVuY3Rpb25zXG5cdFx0XHRcdFx0XHRfdGhyb3dlciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlVGhyb3dlcihcIidjYWxsZXInLCAnY2FsbGVlJywgYW5kICdhcmd1bWVudHMnIHByb3BlcnRpZXMgbWF5IG5vdCBiZSBhY2Nlc3NlZCBvbiBzdHJpY3QgbW9kZSBmdW5jdGlvbnMgb3IgdGhlIGFyZ3VtZW50cyBvYmplY3RzIGZvciBjYWxscyB0byB0aGVtXCIpO1xuXG5cdFx0XHRcdFx0XHRib3VuZEZ1bmMuZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZXJcIiwgX3Rocm93ZXIpO1xuXHRcdFx0XHRcdFx0Ym91bmRGdW5jLmRlZmluZU93blByb3BlcnR5KFwiYXJndW1lbnRzXCIsIF90aHJvd2VyKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGJvdW5kRnVuYyk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXCIpKTtcblxuXHR2YXIgdGhyb3dlciA9IGZ1bmN0aW9uIHRocm93ZXIoKSB7XG5cdFx0aWYgKHRoaXMuaXNTdHJpY3QoKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIidjYWxsZXInLCAnY2FsbGVlJywgYW5kICdhcmd1bWVudHMnIHByb3BlcnRpZXMgbWF5IG5vdCBiZSBhY2Nlc3NlZCBvbiBzdHJpY3QgbW9kZSBmdW5jdGlvbnMgb3IgdGhlIGFyZ3VtZW50cyBvYmplY3RzIGZvciBjYWxscyB0byB0aGVtXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH07XG5cblx0dmFyIHRocm93ZXJGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24odGhyb3dlcik7XG5cblx0dmFyIHByb3AgPSB7XG5cdFx0Z2V0OiB0aHJvd2VyRnVuYyxcblx0XHRnZXR0ZXI6IHRocm93ZXIsXG5cdFx0c2V0OiB0aHJvd2VyRnVuYyxcblx0XHRzZXR0ZXI6IHRocm93ZXIsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0Y29uZmlndXJhYmxlOiBmYWxzZVxuXHR9O1xuXG5cdHByb3RvLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVyXCIsIHByb3AsIGZhbHNlLCBlbnYpO1xuXHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlZVwiLCBwcm9wLCBmYWxzZSwgZW52KTtcblx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkoXCJhcmd1bWVudHNcIiwgcHJvcCwgZmFsc2UsIGVudik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfZW52UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBvcHRpb25zID0gZW52Lm9wdGlvbnM7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkluZmluaXR5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKEluZmluaXR5KSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJOYU5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0W1wicGFyc2VGbG9hdFwiLCBcImRlY29kZVVSSVwiLCBcImVuY29kZVVSSVwiLCBcImRlY29kZVVSSUNvbXBvbmVudFwiLCBcImVuY29kZVVSSUNvbXBvbmVudFwiLCBcImVzY2FwZVwiLCBcInVuZXNjYXBlXCJdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKHZhbHVlKSB7XG5cdFx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB2YWx1ZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGdsb2JhbFtuYW1lXShzdHJpbmdWYWx1ZSkpKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHR9KSwgMSwgbmFtZSkpO1xuXHR9KTtcblxuXHRbXCJpc05hTlwiLCBcImlzRmluaXRlXCJdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKG5hbWUsICgwLCBfdXRpbHNOYXRpdmUudG9OYXRpdmVGdW5jdGlvbikoZW52LCBnbG9iYWxbbmFtZV0sIG5hbWUpKTtcblx0fSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcInBhcnNlSW50XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlLCByYWRpeCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgdmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGVudiwgcmFkaXgsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyYWRpeCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShwYXJzZUludChzdHJpbmdWYWx1ZSwgcmFkaXgpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwicGFyc2VJbnRcIikpO1xuXG5cdGlmIChvcHRpb25zLnBhcnNlcikge1xuXHRcdHZhciBldmFsRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNvZGUpIHtcblx0XHRcdHZhciBkaXJlY3RDYWxsLCBhc3QsIHN0cmljdFNjb3BlLCBzdHJpY3RDb2RlLCBjdXJyZW50R2xvYmFsLCBzY29wZSwgdGhpc0FyZywgZXhlY3V0aW9uUmVzdWx0O1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGlmIChjb2RlKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRpZiAoIShjb2RlLnR5cGUgIT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb2RlKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdGRpcmVjdENhbGwgPSB0aGlzLmNhbGxlZSBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlICYmIHRoaXMuY2FsbGVlLmJhc2UgPT09IGdsb2JhbE9iamVjdDtcblx0XHRcdFx0XHRcdGFzdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA2O1xuXG5cdFx0XHRcdFx0XHRhc3QgPSBvcHRpb25zLnBhcnNlcihjb2RlLnZhbHVlKTtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSg2KTtcblxuXHRcdFx0XHRcdFx0aWYgKCEoY29udGV4dCQyJDAudDAgaW5zdGFuY2VvZiBTeW50YXhFcnJvciAmJiAvYXNzaWduaW5nIHRvIHJ2YWx1ZS9pLnRlc3QoY29udGV4dCQyJDAudDAubWVzc2FnZSkpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkludmFsaWQgbGVmdC1oYW5kIHNpZGUgaW4gYXNzaWdubWVudFwiKTtcblxuXHRcdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0XHR0aHJvdyBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0XHRzdHJpY3RTY29wZSA9IGVudi5pc1N0cmljdCgpO1xuXHRcdFx0XHRcdFx0c3RyaWN0Q29kZSA9IHN0cmljdFNjb3BlIHx8IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUoYXN0LmJvZHkpO1xuXHRcdFx0XHRcdFx0Y3VycmVudEdsb2JhbCA9IGVudi5jdXJyZW50LnNjb3BlLnBhcmVudCA9PT0gZW52Lmdsb2JhbFNjb3BlLnNjb3BlO1xuXHRcdFx0XHRcdFx0c2NvcGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdC8vIHVzZSB0aGUgc2FtZSBzY29wZSB1bmxlc3MgdGhpcyBpcyBhbiBcImluZGlyZWN0XCIgY2FsbFxuXHRcdFx0XHRcdFx0Ly8gaW4gd2hpY2ggY2FzZSB3ZSB1c2UgdGhlIGdsb2JhbCBzY29wZVxuXHRcdFx0XHRcdFx0aWYgKGRpcmVjdENhbGwpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdENvZGUpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdFNjb3BlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gY3VycmVudEdsb2JhbCA/IGdsb2JhbE9iamVjdCA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gZW52LmdldFRoaXNCaW5kaW5nKCkgfHwgZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZVNjb3BlKHRoaXNBcmcpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGVudi5jdXJyZW50LnNjb3BlLnBhcmVudCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGVudi5nbG9iYWxTY29wZS5zY29wZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChzdHJpY3RDb2RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUoZ2xvYmFsT2JqZWN0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChhc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCA/IGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s2LCAxMF1dKTtcblx0XHR9KSwgMSwgXCJldmFsXCIpO1xuXG5cdFx0Z2xvYmFsT2JqZWN0LmRlZmluZShcImV2YWxcIiwgZXZhbEZ1bmMpO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyBoYWNrIGJlY2F1c2UgYWNvcm4gdGhyb3dzIHN5bnRheCBlcnJvclxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbk55WXk5bGN6VXZaMnh2WW1Gc2N5NXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SmNJblZ6WlNCemRISnBZM1JjSWp0Y2JseHVkbUZ5SUY5eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVZ1BTQnlaWEYxYVhKbEtGd2lZbUZpWld3dGNuVnVkR2x0WlM5eVpXZGxibVZ5WVhSdmNsd2lLVnRjSW1SbFptRjFiSFJjSWwwN1hHNWNiblpoY2lCZmFXNTBaWEp2Y0ZKbGNYVnBjbVZYYVd4a1kyRnlaQ0E5SUhKbGNYVnBjbVVvWENKaVlXSmxiQzF5ZFc1MGFXMWxMMmhsYkhCbGNuTXZhVzUwWlhKdmNDMXlaWEYxYVhKbExYZHBiR1JqWVhKa1hDSXBXMXdpWkdWbVlYVnNkRndpWFR0Y2JseHVUMkpxWldOMExtUmxabWx1WlZCeWIzQmxjblI1S0dWNGNHOXlkSE1zSUZ3aVgxOWxjMDF2WkhWc1pWd2lMQ0I3WEc1Y2RIWmhiSFZsT2lCMGNuVmxYRzU5S1R0Y2JseHVkbUZ5SUY5MWRHbHNjMDVoZEdsMlpTQTlJSEpsY1hWcGNtVW9YQ0l1TGk5MWRHbHNjeTl1WVhScGRtVmNJaWs3WEc1Y2JuWmhjaUJmZFhScGJITkRiMjUwY21GamRITWdQU0J5WlhGMWFYSmxLRndpTGk0dmRYUnBiSE12WTI5dWRISmhZM1J6WENJcE8xeHVYRzUyWVhJZ1kyOXVkSEpoWTNSeklEMGdYMmx1ZEdWeWIzQlNaWEYxYVhKbFYybHNaR05oY21Rb1gzVjBhV3h6UTI5dWRISmhZM1J6S1R0Y2JseHVkbUZ5SUY5bGJuWlNaV1psY21WdVkyVWdQU0J5WlhGMWFYSmxLRndpTGk0dlpXNTJMM0psWm1WeVpXNWpaVndpS1R0Y2JseHVkbUZ5SUY5MGVYQmxjMUJ5YVcxcGRHbDJaVlI1Y0dVZ1BTQnlaWEYxYVhKbEtGd2lMaTR2ZEhsd1pYTXZjSEpwYldsMGFYWmxMWFI1Y0dWY0lpazdYRzVjYm1WNGNHOXlkSE5iWENKa1pXWmhkV3gwWENKZElEMGdablZ1WTNScGIyNGdLR1Z1ZGlrZ2UxeHVYSFIyWVhJZ1oyeHZZbUZzVDJKcVpXTjBJRDBnWlc1MkxtZHNiMkpoYkR0Y2JseDBkbUZ5SUc5aWFtVmpkRVpoWTNSdmNua2dQU0JsYm5ZdWIySnFaV04wUm1GamRHOXllVHRjYmx4MGRtRnlJRzl3ZEdsdmJuTWdQU0JsYm5ZdWIzQjBhVzl1Y3p0Y2JseHVYSFJuYkc5aVlXeFBZbXBsWTNRdVpHVm1hVzVsS0Z3aVNXNW1hVzVwZEhsY0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZRY21sdGFYUnBkbVVvU1c1bWFXNXBkSGtwTENCN0lHTnZibVpwWjNWeVlXSnNaVG9nWm1Gc2MyVXNJSGR5YVhSaFlteGxPaUJtWVd4elpTQjlLVHRjYmx4MFoyeHZZbUZzVDJKcVpXTjBMbVJsWm1sdVpTaGNJazVoVGx3aUxDQnZZbXBsWTNSR1lXTjBiM0o1TG1OeVpXRjBaVkJ5YVcxcGRHbDJaU2hPWVU0cExDQjdJR052Ym1acFozVnlZV0pzWlRvZ1ptRnNjMlVzSUhkeWFYUmhZbXhsT2lCbVlXeHpaU0I5S1R0Y2JseHVYSFJiWENKd1lYSnpaVVpzYjJGMFhDSXNJRndpWkdWamIyUmxWVkpKWENJc0lGd2laVzVqYjJSbFZWSkpYQ0lzSUZ3aVpHVmpiMlJsVlZKSlEyOXRjRzl1Wlc1MFhDSXNJRndpWlc1amIyUmxWVkpKUTI5dGNHOXVaVzUwWENJc0lGd2laWE5qWVhCbFhDSXNJRndpZFc1bGMyTmhjR1ZjSWwwdVptOXlSV0ZqYUNobWRXNWpkR2x2YmlBb2JtRnRaU2tnZTF4dVhIUmNkR2RzYjJKaGJFOWlhbVZqZEM1a1pXWnBibVVvYm1GdFpTd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZDZFdsc2RFbHVSblZ1WTNScGIyNG9YM0psWjJWdVpYSmhkRzl5VW5WdWRHbHRaUzV0WVhKcktHWjFibU4wYVc5dUlHTmhiR3hsWlNReUpEQW9kbUZzZFdVcElIdGNibHgwWEhSY2RIWmhjaUJ6ZEhKcGJtZFdZV3gxWlR0Y2JseDBYSFJjZEhKbGRIVnliaUJmY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTG5keVlYQW9ablZ1WTNScGIyNGdZMkZzYkdWbEpESWtNQ1FvWTI5dWRHVjRkQ1F6SkRBcElIdGNibHgwWEhSY2RGeDBkMmhwYkdVZ0tERXBJSE4zYVhSamFDQW9ZMjl1ZEdWNGRDUXpKREF1Y0hKbGRpQTlJR052Ym5SbGVIUWtNeVF3TG01bGVIUXBJSHRjYmx4MFhIUmNkRngwWEhSallYTmxJREE2WEc1Y2RGeDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpETWtNQzV1WlhoMElEMGdNanRjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlBb01Dd2dYM1YwYVd4elRtRjBhWFpsTG5SdlUzUnlhVzVuS1NobGJuWXNJSFpoYkhWbEtUdGNibHh1WEhSY2RGeDBYSFJjZEdOaGMyVWdNanBjYmx4MFhIUmNkRngwWEhSY2RITjBjbWx1WjFaaGJIVmxJRDBnWTI5dWRHVjRkQ1F6SkRBdWMyVnVkRHRjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRNa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZRY21sdGFYUnBkbVVvWjJ4dlltRnNXMjVoYldWZEtITjBjbWx1WjFaaGJIVmxLU2twTzF4dVhHNWNkRngwWEhSY2RGeDBZMkZ6WlNBME9seHVYSFJjZEZ4MFhIUmNkR05oYzJVZ1hDSmxibVJjSWpwY2JseDBYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpETWtNQzV6ZEc5d0tDazdYRzVjZEZ4MFhIUmNkSDFjYmx4MFhIUmNkSDBzSUdOaGJHeGxaU1F5SkRBc0lIUm9hWE1wTzF4dVhIUmNkSDBwTENBeExDQnVZVzFsS1NrN1hHNWNkSDBwTzF4dVhHNWNkRnRjSW1selRtRk9YQ0lzSUZ3aWFYTkdhVzVwZEdWY0lsMHVabTl5UldGamFDaG1kVzVqZEdsdmJpQW9ibUZ0WlNrZ2UxeHVYSFJjZEdkc2IySmhiRTlpYW1WamRDNWtaV1pwYm1Vb2JtRnRaU3dnS0RBc0lGOTFkR2xzYzA1aGRHbDJaUzUwYjA1aGRHbDJaVVoxYm1OMGFXOXVLU2hsYm5Zc0lHZHNiMkpoYkZ0dVlXMWxYU3dnYm1GdFpTa3BPMXh1WEhSOUtUdGNibHh1WEhSbmJHOWlZV3hQWW1wbFkzUXVaR1ZtYVc1bEtGd2ljR0Z5YzJWSmJuUmNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdWQ2RXbHNkRWx1Um5WdVkzUnBiMjRvWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1dFlYSnJLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXhKREFvZG1Gc2RXVXNJSEpoWkdsNEtTQjdYRzVjZEZ4MGRtRnlJSE4wY21sdVoxWmhiSFZsTzF4dVhIUmNkSEpsZEhWeWJpQmZjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxMbmR5WVhBb1puVnVZM1JwYjI0Z1kyRnNiR1ZsSkRFa01DUW9ZMjl1ZEdWNGRDUXlKREFwSUh0Y2JseDBYSFJjZEhkb2FXeGxJQ2d4S1NCemQybDBZMmdnS0dOdmJuUmxlSFFrTWlRd0xuQnlaWFlnUFNCamIyNTBaWGgwSkRJa01DNXVaWGgwS1NCN1hHNWNkRngwWEhSY2RHTmhjMlVnTURwY2JseDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzV1WlhoMElEMGdNanRjYmx4MFhIUmNkRngwWEhSeVpYUjFjbTRnS0RBc0lGOTFkR2xzYzA1aGRHbDJaUzUwYjFOMGNtbHVaeWtvWlc1MkxDQjJZV3gxWlNrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBeU9seHVYSFJjZEZ4MFhIUmNkSE4wY21sdVoxWmhiSFZsSUQwZ1kyOXVkR1Y0ZENReUpEQXVjMlZ1ZER0Y2JseDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzV1WlhoMElEMGdOVHRjYmx4MFhIUmNkRngwWEhSeVpYUjFjbTRnS0RBc0lGOTFkR2xzYzA1aGRHbDJaUzUwYjFCeWFXMXBkR2wyWlNrb1pXNTJMQ0J5WVdScGVDd2dYQ0p1ZFcxaVpYSmNJaWs3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0ExT2x4dVhIUmNkRngwWEhSY2RISmhaR2w0SUQwZ1kyOXVkR1Y0ZENReUpEQXVjMlZ1ZER0Y2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENReUpEQXVZV0p5ZFhCMEtGd2ljbVYwZFhKdVhDSXNJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsVUhKcGJXbDBhWFpsS0hCaGNuTmxTVzUwS0hOMGNtbHVaMVpoYkhWbExDQnlZV1JwZUNrcEtUdGNibHh1WEhSY2RGeDBYSFJqWVhObElEYzZYRzVjZEZ4MFhIUmNkR05oYzJVZ1hDSmxibVJjSWpwY2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENReUpEQXVjM1J2Y0NncE8xeHVYSFJjZEZ4MGZWeHVYSFJjZEgwc0lHTmhiR3hsWlNReEpEQXNJSFJvYVhNcE8xeHVYSFI5S1N3Z01pd2dYQ0p3WVhKelpVbHVkRndpS1NrN1hHNWNibHgwYVdZZ0tHOXdkR2x2Ym5NdWNHRnljMlZ5S1NCN1hHNWNkRngwZG1GeUlHVjJZV3hHZFc1aklEMGdiMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZDZFdsc2RFbHVSblZ1WTNScGIyNG9YM0psWjJWdVpYSmhkRzl5VW5WdWRHbHRaUzV0WVhKcktHWjFibU4wYVc5dUlHTmhiR3hsWlNReEpEQW9ZMjlrWlNrZ2UxeHVYSFJjZEZ4MGRtRnlJR1JwY21WamRFTmhiR3dzSUdGemRDd2djM1J5YVdOMFUyTnZjR1VzSUhOMGNtbGpkRU52WkdVc0lHTjFjbkpsYm5SSGJHOWlZV3dzSUhOamIzQmxMQ0IwYUdselFYSm5MQ0JsZUdWamRYUnBiMjVTWlhOMWJIUTdYRzVjZEZ4MFhIUnlaWFIxY200Z1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTNTNjbUZ3S0daMWJtTjBhVzl1SUdOaGJHeGxaU1F4SkRBa0tHTnZiblJsZUhRa01pUXdLU0I3WEc1Y2RGeDBYSFJjZEhkb2FXeGxJQ2d4S1NCemQybDBZMmdnS0dOdmJuUmxlSFFrTWlRd0xuQnlaWFlnUFNCamIyNTBaWGgwSkRJa01DNXVaWGgwS1NCN1hHNWNkRngwWEhSY2RGeDBZMkZ6WlNBd09seHVYSFJjZEZ4MFhIUmNkRngwYVdZZ0tHTnZaR1VwSUh0Y2JseDBYSFJjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ0E5SURJN1hHNWNkRngwWEhSY2RGeDBYSFJjZEdKeVpXRnJPMXh1WEhSY2RGeDBYSFJjZEZ4MGZWeHVYRzVjZEZ4MFhIUmNkRngwWEhSeVpYUjFjbTRnWTI5dWRHVjRkQ1F5SkRBdVlXSnlkWEIwS0Z3aWNtVjBkWEp1WENJc0lGOTBlWEJsYzFCeWFXMXBkR2wyWlZSNWNHVXVWVTVFUlVaSlRrVkVLVHRjYmx4dVhIUmNkRngwWEhSY2RHTmhjMlVnTWpwY2JseDBYSFJjZEZ4MFhIUmNkR2xtSUNnaEtHTnZaR1V1ZEhsd1pTQWhQVDBnWENKemRISnBibWRjSWlrcElIdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFkyOXVkR1Y0ZENReUpEQXVibVY0ZENBOUlEUTdYRzVjZEZ4MFhIUmNkRngwWEhSY2RHSnlaV0ZyTzF4dVhIUmNkRngwWEhSY2RGeDBmVnh1WEc1Y2RGeDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENReUpEQXVZV0p5ZFhCMEtGd2ljbVYwZFhKdVhDSXNJR052WkdVcE8xeHVYRzVjZEZ4MFhIUmNkRngwWTJGelpTQTBPbHh1WEhSY2RGeDBYSFJjZEZ4MFpHbHlaV04wUTJGc2JDQTlJSFJvYVhNdVkyRnNiR1ZsSUdsdWMzUmhibU5sYjJZZ1gyVnVkbEpsWm1WeVpXNWpaUzVTWldabGNtVnVZMlVnSmlZZ2RHaHBjeTVqWVd4c1pXVXVZbUZ6WlNBOVBUMGdaMnh2WW1Gc1QySnFaV04wTzF4dVhIUmNkRngwWEhSY2RGeDBZWE4wSUQwZ2RXNWtaV1pwYm1Wa08xeHVYSFJjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWNISmxkaUE5SURZN1hHNWNibHgwWEhSY2RGeDBYSFJjZEdGemRDQTlJRzl3ZEdsdmJuTXVjR0Z5YzJWeUtHTnZaR1V1ZG1Gc2RXVXBPMXh1WEhSY2RGeDBYSFJjZEZ4MFkyOXVkR1Y0ZENReUpEQXVibVY0ZENBOUlERTFPMXh1WEhSY2RGeDBYSFJjZEZ4MFluSmxZV3M3WEc1Y2JseDBYSFJjZEZ4MFhIUmpZWE5sSURFd09seHVYSFJjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWNISmxkaUE5SURFd08xeHVYSFJjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWREQWdQU0JqYjI1MFpYaDBKRElrTUZ0Y0ltTmhkR05vWENKZEtEWXBPMXh1WEc1Y2RGeDBYSFJjZEZ4MFhIUnBaaUFvSVNoamIyNTBaWGgwSkRJa01DNTBNQ0JwYm5OMFlXNWpaVzltSUZONWJuUmhlRVZ5Y205eUlDWW1JQzloYzNOcFoyNXBibWNnZEc4Z2NuWmhiSFZsTDJrdWRHVnpkQ2hqYjI1MFpYaDBKRElrTUM1ME1DNXRaWE56WVdkbEtTa3BJSHRjYmx4MFhIUmNkRngwWEhSY2RGeDBZMjl1ZEdWNGRDUXlKREF1Ym1WNGRDQTlJREUwTzF4dVhIUmNkRngwWEhSY2RGeDBYSFJpY21WaGF6dGNibHgwWEhSY2RGeDBYSFJjZEgxY2JseHVYSFJjZEZ4MFhIUmNkRngwZEdoeWIzY2dibVYzSUZKbFptVnlaVzVqWlVWeWNtOXlLRndpU1c1MllXeHBaQ0JzWldaMExXaGhibVFnYzJsa1pTQnBiaUJoYzNOcFoyNXRaVzUwWENJcE8xeHVYRzVjZEZ4MFhIUmNkRngwWTJGelpTQXhORHBjYmx4MFhIUmNkRngwWEhSY2RIUm9jbTkzSUdOdmJuUmxlSFFrTWlRd0xuUXdPMXh1WEc1Y2RGeDBYSFJjZEZ4MFkyRnpaU0F4TlRwY2JseDBYSFJjZEZ4MFhIUmNkSE4wY21samRGTmpiM0JsSUQwZ1pXNTJMbWx6VTNSeWFXTjBLQ2s3WEc1Y2RGeDBYSFJjZEZ4MFhIUnpkSEpwWTNSRGIyUmxJRDBnYzNSeWFXTjBVMk52Y0dVZ2ZId2dZMjl1ZEhKaFkzUnpMbWx6VTNSeWFXTjBUbTlrWlNoaGMzUXVZbTlrZVNrN1hHNWNkRngwWEhSY2RGeDBYSFJqZFhKeVpXNTBSMnh2WW1Gc0lEMGdaVzUyTG1OMWNuSmxiblF1YzJOdmNHVXVjR0Z5Wlc1MElEMDlQU0JsYm5ZdVoyeHZZbUZzVTJOdmNHVXVjMk52Y0dVN1hHNWNkRngwWEhSY2RGeDBYSFJ6WTI5d1pTQTlJSFZ1WkdWbWFXNWxaRHRjYmx4dVhIUmNkRngwWEhSY2RGeDBMeThnZFhObElIUm9aU0J6WVcxbElITmpiM0JsSUhWdWJHVnpjeUIwYUdseklHbHpJR0Z1SUZ3aWFXNWthWEpsWTNSY0lpQmpZV3hzWEc1Y2RGeDBYSFJjZEZ4MFhIUXZMeUJwYmlCM2FHbGphQ0JqWVhObElIZGxJSFZ6WlNCMGFHVWdaMnh2WW1Gc0lITmpiM0JsWEc1Y2RGeDBYSFJjZEZ4MFhIUnBaaUFvWkdseVpXTjBRMkZzYkNrZ2UxeHVYSFJjZEZ4MFhIUmNkRngwWEhScFppQW9jM1J5YVdOMFEyOWtaU2tnZTF4dVhIUmNkRngwWEhSY2RGeDBYSFJjZEhSb2FYTkJjbWNnUFNCMWJtUmxabWx1WldRN1hHNWNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUnBaaUFvYzNSeWFXTjBVMk52Y0dVcElIdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUmNkSFJvYVhOQmNtY2dQU0JqZFhKeVpXNTBSMnh2WW1Gc0lEOGdaMnh2WW1Gc1QySnFaV04wSURvZ1gzUjVjR1Z6VUhKcGJXbDBhWFpsVkhsd1pTNVZUa1JGUmtsT1JVUTdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBmU0JsYkhObElIdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUmNkSFJvYVhOQmNtY2dQU0JsYm5ZdVoyVjBWR2hwYzBKcGJtUnBibWNvS1NCOGZDQm5iRzlpWVd4UFltcGxZM1E3WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkRngwZlZ4dVhHNWNkRngwWEhSY2RGeDBYSFJjZEZ4MGMyTnZjR1VnUFNCbGJuWXVZM0psWVhSbFUyTnZjR1VvZEdocGMwRnlaeWs3WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkSDBnWld4elpTQjdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBjMk52Y0dVZ1BTQmxibll1YzJWMFUyTnZjR1VvWlc1MkxtTjFjbkpsYm5RdWMyTnZjR1V1Y0dGeVpXNTBLVHRjYmx4MFhIUmNkRngwWEhSY2RGeDBmVnh1WEhSY2RGeDBYSFJjZEZ4MGZTQmxiSE5sSUh0Y2JseDBYSFJjZEZ4MFhIUmNkRngwYzJOdmNHVWdQU0JsYm5ZdWMyVjBVMk52Y0dVb1pXNTJMbWRzYjJKaGJGTmpiM0JsTG5OamIzQmxLVHRjYmx4MFhIUmNkRngwWEhSY2RGeDBhV1lnS0hOMGNtbGpkRU52WkdVcElIdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUnpZMjl3WlNBOUlHVnVkaTVqY21WaGRHVlRZMjl3WlNobmJHOWlZV3hQWW1wbFkzUXBPMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUjlYRzVjZEZ4MFhIUmNkRngwWEhSOVhHNWNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBeU1qdGNibHgwWEhSY2RGeDBYSFJjZEhKbGRIVnliaUJ6WTI5d1pTNTFjMlVvWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1dFlYSnJLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXlKREFvS1NCN1hHNWNkRngwWEhSY2RGeDBYSFJjZEhKbGRIVnliaUJmY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTG5keVlYQW9ablZ1WTNScGIyNGdZMkZzYkdWbEpESWtNQ1FvWTI5dWRHVjRkQ1F6SkRBcElIdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpETWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXpKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwWTJGelpTQXdPbHh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRNa01DNXVaWGgwSUQwZ01qdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwY21WMGRYSnVJR1Z1ZGk1amNtVmhkR1ZGZUdWamRYUnBiMjVEYjI1MFpYaDBLR0Z6ZENrdVpYaGxZM1YwWlNncE8xeHVYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFJqWVhObElESTZYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFJjZEhKbGRIVnliaUJqYjI1MFpYaDBKRE1rTUM1aFluSjFjSFFvWENKeVpYUjFjbTVjSWl3Z1kyOXVkR1Y0ZENRekpEQXVjMlZ1ZENrN1hHNWNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUmNkR05oYzJVZ016cGNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUmNkR05oYzJVZ1hDSmxibVJjSWpwY2JseDBYSFJjZEZ4MFhIUmNkRngwWEhSY2RGeDBjbVYwZFhKdUlHTnZiblJsZUhRa015UXdMbk4wYjNBb0tUdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUjlYRzVjZEZ4MFhIUmNkRngwWEhSY2RIMHNJR05oYkd4bFpTUXlKREFzSUhSb2FYTXBPMXh1WEhSY2RGeDBYSFJjZEZ4MGZTa3BPMXh1WEc1Y2RGeDBYSFJjZEZ4MFkyRnpaU0F5TWpwY2JseDBYSFJjZEZ4MFhIUmNkR1Y0WldOMWRHbHZibEpsYzNWc2RDQTlJR052Ym5SbGVIUWtNaVF3TG5ObGJuUTdYRzVjZEZ4MFhIUmNkRngwWEhSeVpYUjFjbTRnWTI5dWRHVjRkQ1F5SkRBdVlXSnlkWEIwS0Z3aWNtVjBkWEp1WENJc0lHVjRaV04xZEdsdmJsSmxjM1ZzZENBbUppQmxlR1ZqZFhScGIyNVNaWE4xYkhRdWNtVnpkV3gwSUQ4Z1pYaGxZM1YwYVc5dVVtVnpkV3gwTG5KbGMzVnNkQzVuWlhSV1lXeDFaU2dwSURvZ1gzUjVjR1Z6VUhKcGJXbDBhWFpsVkhsd1pTNVZUa1JGUmtsT1JVUXBPMXh1WEc1Y2RGeDBYSFJjZEZ4MFkyRnpaU0F5TkRwY2JseDBYSFJjZEZ4MFhIUmpZWE5sSUZ3aVpXNWtYQ0k2WEc1Y2RGeDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENReUpEQXVjM1J2Y0NncE8xeHVYSFJjZEZ4MFhIUjlYRzVjZEZ4MFhIUjlMQ0JqWVd4c1pXVWtNU1F3TENCMGFHbHpMQ0JiV3pZc0lERXdYVjBwTzF4dVhIUmNkSDBwTENBeExDQmNJbVYyWVd4Y0lpazdYRzVjYmx4MFhIUm5iRzlpWVd4UFltcGxZM1F1WkdWbWFXNWxLRndpWlhaaGJGd2lMQ0JsZG1Gc1JuVnVZeWs3WEc1Y2RIMWNibjA3WEc1Y2JtMXZaSFZzWlM1bGVIQnZjblJ6SUQwZ1pYaHdiM0owYzF0Y0ltUmxabUYxYkhSY0lsMDdYRzVjYmk4dklHaGhZMnNnWW1WallYVnpaU0JoWTI5eWJpQjBhSEp2ZDNNZ2MzbHVkR0Y0SUdWeWNtOXlJbDE5IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGVjbWE1MTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdHlwZXNPYmplY3RGYWN0b3J5ID0gcmVxdWlyZShcIi4uL3R5cGVzL29iamVjdC1mYWN0b3J5XCIpO1xuXG52YXIgX251bWJlciA9IHJlcXVpcmUoXCIuL251bWJlci9cIik7XG5cbnZhciBfbnVtYmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlcik7XG5cbnZhciBfc3RyaW5nID0gcmVxdWlyZShcIi4vc3RyaW5nL1wiKTtcblxudmFyIF9zdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nKTtcblxudmFyIF9mdW5jdGlvbiA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uL1wiKTtcblxudmFyIF9mdW5jdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mdW5jdGlvbik7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZShcIi4vb2JqZWN0L1wiKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9ib29sZWFuID0gcmVxdWlyZShcIi4vYm9vbGVhbi9cIik7XG5cbnZhciBfYm9vbGVhbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ib29sZWFuKTtcblxudmFyIF9kYXRlID0gcmVxdWlyZShcIi4vZGF0ZS9cIik7XG5cbnZhciBfZGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlKTtcblxudmFyIF9hcnJheSA9IHJlcXVpcmUoXCIuL2FycmF5L1wiKTtcblxudmFyIF9hcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoXCIuL21hdGgvXCIpO1xuXG52YXIgX21hdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0aCk7XG5cbnZhciBfcmVnZXggPSByZXF1aXJlKFwiLi9yZWdleC9cIik7XG5cbnZhciBfcmVnZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZXgpO1xuXG52YXIgX2Vycm9yID0gcmVxdWlyZShcIi4vZXJyb3IvXCIpO1xuXG52YXIgX2Vycm9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Vycm9yKTtcblxudmFyIF9qc29uID0gcmVxdWlyZShcIi4vanNvbi9cIik7XG5cbnZhciBfanNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qc29uKTtcblxudmFyIF9jb25zb2xlID0gcmVxdWlyZShcIi4vY29uc29sZS9cIik7XG5cbnZhciBfY29uc29sZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zb2xlKTtcblxudmFyIF9nbG9iYWxzID0gcmVxdWlyZShcIi4vZ2xvYmFsc1wiKTtcblxudmFyIF9nbG9iYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsb2JhbHMpO1xuXG52YXIgZnJvemVuID0geyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cbmZ1bmN0aW9uIGVjbWE1MShlbnYpIHtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeSA9IG5ldyBfdHlwZXNPYmplY3RGYWN0b3J5Lk9iamVjdEZhY3RvcnkoZW52KTtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWwgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdGVudi5jcmVhdGVPYmplY3RTY29wZShnbG9iYWxPYmplY3QpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJ1bmRlZmluZWRcIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIGZyb3plbik7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJudWxsXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCwgZnJvemVuKTtcblxuXHQvLyB0b2RvOiBub2RlIHZzIGJyb3dzZXIgLSBkbyB3ZSBjYXJlP1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwid2luZG93XCIsIGdsb2JhbE9iamVjdCwgZnJvemVuKTtcblxuXHQoMCwgX2Z1bmN0aW9uMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfb2JqZWN0MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfYXJyYXkyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9ib29sZWFuMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfbnVtYmVyMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfc3RyaW5nMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfZGF0ZTJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX3JlZ2V4MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfbWF0aDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2Vycm9yMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfanNvbjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2NvbnNvbGUyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9nbG9iYWxzMltcImRlZmF1bHRcIl0pKGVudik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGpzb25BcGk7XG52YXIgbWFya2VkMCQwID0gW3NlcmlhbGl6ZU9iamVjdCwgc2VyaWFsaXplQXJyYXksIHNlcmlhbGl6ZSwgY3JlYXRlUmVwbGFjZXIsIGdldFNwYWNlciwgZGVzZXJpYWxpemVdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgcHJpbWl0aXZlcyA9IHtcblx0XCJTdHJpbmdcIjogdHJ1ZSxcblx0XCJOdW1iZXJcIjogdHJ1ZSxcblx0XCJCb29sZWFuXCI6IHRydWUsXG5cdFwiRGF0ZVwiOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZXModmFsdWVzLCBnYXAsIGRlcHRoKSB7XG5cdGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHRpZiAoIWdhcCkge1xuXHRcdHJldHVybiB2YWx1ZXMuam9pbihcIixcIik7XG5cdH1cblxuXHR2YXIgaW5kZW50ID0gXCJcXG5cIiArIGdhcC5yZXBlYXQoZGVwdGgpO1xuXHR2YXIgam9pbmVkVmFsdWVzID0gdmFsdWVzLmpvaW4oaW5kZW50ICsgXCIsXCIpO1xuXG5cdC8vIHJlbW92ZSBpbmRlbnQgb24gY2xvc2luZ1xuXHRyZXR1cm4gaW5kZW50ICsgam9pbmVkVmFsdWVzICsgXCJcXG5cIiArIGdhcC5yZXBlYXQoZGVwdGggLSAxKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplUHJpbWl0aXZlKHZhbHVlKSB7XG5cdHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZU9iamVjdChlbnYsIHN0YWNrLCBvYmosIHJlcGxhY2VyLCBnYXAsIGRlcHRoKSB7XG5cdHZhciBjb2xvbiwgdmFsdWVzLCB2YWx1ZSwgcHJvcDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXJpYWxpemVPYmplY3QkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29sb24gPSBnYXAgPyBcIjogXCIgOiBcIjpcIjtcblx0XHRcdFx0dmFsdWVzID0gW107XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyhvYmoucHJvcGVydGllcyk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0aWYgKChjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnQwKCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRwcm9wID0gY29udGV4dCQxJDAudDEudmFsdWU7XG5cblx0XHRcdFx0aWYgKCFvYmoucHJvcGVydGllc1twcm9wXS5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdHJldHVybiByZXBsYWNlcihvYmosIHByb3AsIG9iai5nZXRWYWx1ZShwcm9wKSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSB2YWx1ZXM7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQzID0gc2VyaWFsaXplUHJpbWl0aXZlKHByb3ApICsgY29sb247XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0cmV0dXJuIHNlcmlhbGl6ZShlbnYsIHN0YWNrLCB2YWx1ZSwgcmVwbGFjZXIsIGdhcCwgZGVwdGgpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50NCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ1ID0gY29udGV4dCQxJDAudDMgKyBjb250ZXh0JDEkMC50NDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDIucHVzaC5jYWxsKGNvbnRleHQkMSQwLnQyLCBjb250ZXh0JDEkMC50NSk7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIntcIiArIGZvcm1hdFZhbHVlcyh2YWx1ZXMsIGdhcCwgZGVwdGgsIGdhcCwgZGVwdGgpICsgXCJ9XCIpO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQXJyYXkoZW52LCBzdGFjaywgYXJyLCByZXBsYWNlciwgZ2FwLCBkZXB0aCkge1xuXHR2YXIgbGVuZ3RoLCB2YWx1ZXMsIGksIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHNlcmlhbGl6ZUFycmF5JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGxlbmd0aCA9IGFyci5nZXRWYWx1ZShcImxlbmd0aFwiKS50b05hdGl2ZSgpO1xuXHRcdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aWYgKCEoaSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRpZiAoIWFyci5oYXMoaSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gcmVwbGFjZXIoYXJyLCBTdHJpbmcoaSksIGFyci5nZXRWYWx1ZShpKSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGlmICghY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHVuZGVmaW5lZCBwb3NpdGlvbnMgYXJlIHJlcGxhY2VkIHdpdGggbnVsbFxuXHRcdFx0XHR2YWx1ZXMucHVzaChcIm51bGxcIik7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gdmFsdWVzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdHJldHVybiBzZXJpYWxpemUoZW52LCBzdGFjaywgdmFsdWUsIHJlcGxhY2VyKTtcblxuXHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MC5wdXNoLmNhbGwoY29udGV4dCQxJDAudDAsIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgXCJbXCIgKyBmb3JtYXRWYWx1ZXModmFsdWVzLCBnYXAsIGRlcHRoKSArIFwiXVwiKTtcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShlbnYsIHN0YWNrLCBvYmosIHJlcGxhY2VyLCBnYXAsIGRlcHRoKSB7XG5cdHZhciBqc29uU3RyaW5nLCBqc29uUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHNlcmlhbGl6ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAob2JqKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHNlcmlhbGl6ZVByaW1pdGl2ZSgpKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRpZiAoIShvYmouaXNQcmltaXRpdmUgfHwgb2JqLmNsYXNzTmFtZSBpbiBwcmltaXRpdmVzKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBzZXJpYWxpemVQcmltaXRpdmUob2JqLnZhbHVlKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0aWYgKCEob2JqLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB1bmRlZmluZWQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkoZW52LCBvYmosIFwidG9KU09OXCIpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGpzb25TdHJpbmcgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghanNvblN0cmluZykge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgc2VyaWFsaXplUHJpbWl0aXZlKGpzb25TdHJpbmcudmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0aWYgKCEoc3RhY2suaW5kZXhPZihvYmopID49IDApKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT05cIik7XG5cblx0XHRcdGNhc2UgMTM6XG5cblx0XHRcdFx0ZGVwdGgrKztcblx0XHRcdFx0c3RhY2sucHVzaChvYmopO1xuXG5cdFx0XHRcdGpzb25SZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCEob2JqLmNsYXNzTmFtZSA9PT0gXCJBcnJheVwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxOTtcblx0XHRcdFx0cmV0dXJuIHNlcmlhbGl6ZUFycmF5KGVudiwgc3RhY2ssIG9iaiwgcmVwbGFjZXIpO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRqc29uUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplT2JqZWN0KGVudiwgc3RhY2ssIG9iaiwgcmVwbGFjZXIsIGdhcCwgZGVwdGgpO1xuXG5cdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRqc29uUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0Y2FzZSAyNTpcblxuXHRcdFx0XHRkZXB0aC0tO1xuXHRcdFx0XHRzdGFjay5wb3AoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBqc29uUmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAyODpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlcGxhY2VyKGVudiwgcmVwbGFjZXIpIHtcblx0dmFyIF9yZXQ7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjcmVhdGVSZXBsYWNlciQoY29udGV4dCQxJDApIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFyZXBsYWNlcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEocmVwbGFjZXIuY2xhc3NOYW1lID09PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGhvbGRlciwga2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdHZhciBhcmdzLCBjYWxsZWU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSksIHZhbHVlXTtcblx0XHRcdFx0XHRcdFx0XHRjYWxsZWUgPSByZXBsYWNlci5uYXRpdmUgPyByZXBsYWNlciA6IHJlcGxhY2VyLm5vZGU7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgcmVwbGFjZXIsIGFyZ3MsIGhvbGRlciwgY2FsbGVlKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aWYgKCEocmVwbGFjZXIuY2xhc3NOYW1lID09PSBcIkFycmF5XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHR2YXIgYXJyLCBrZXlzO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KShlbnYsIHJlcGxhY2VyKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0YXJyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcnIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZy5jbGFzc05hbWUgPT09IFwiU3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZy5jbGFzc05hbWUgPT09IFwiTnVtYmVyXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAudDAgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcoY29udGV4dCQzJDAudDApKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0fSkpLCBcInQwXCIsIDQpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRrZXlzID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2OiBmdW5jdGlvbiAoaG9sZGVyLCBrZXksIHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFsbG93IGVtcHR5IGtleSAtIHRoaXMgd2lsbCBiZSBmcm9tIHRoZSByb290XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICgha2V5IHx8IGtleXMuaW5kZXhPZihrZXkpID49IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgX3RoaXMpO1xuXHRcdFx0XHR9KSgpLCBcInQwXCIsIDUpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdF9yZXQgPSBjb250ZXh0JDEkMC50MDtcblxuXHRcdFx0XHRpZiAoISh0eXBlb2YgX3JldCA9PT0gXCJvYmplY3RcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3JldC52KTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGZ1bmN0aW9uIChob2xkZXIsIGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbM10sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXRTcGFjZXIoZW52LCBzcGFjZXIpIHtcblx0dmFyIGNvdW50LCBnYXA7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0U3BhY2VyJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghc3BhY2VyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEoc3BhY2VyLmNsYXNzTmFtZSA9PT0gXCJOdW1iZXJcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IE1hdGg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBzcGFjZXIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y291bnQgPSBjb250ZXh0JDEkMC50MC5mbG9vci5jYWxsKGNvbnRleHQkMSQwLnQwLCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdFx0Y291bnQgPSBNYXRoLm1heChNYXRoLm1pbigxMCwgY291bnQpLCAwKTtcblxuXHRcdFx0XHRpZiAoIShjb3VudCA+IDApKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIiBcIi5yZXBlYXQoY291bnQpKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIlwiKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0aWYgKCEoc3BhY2VyLmNsYXNzTmFtZSA9PT0gXCJTdHJpbmdcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHNwYWNlcik7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdGdhcCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZ2FwLnN1YnN0cigwLCAxMCkpO1xuXG5cdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIFwiXCIpO1xuXG5cdFx0XHRjYXNlIDE3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzRdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzZXJpYWxpemUoZW52LCB2YWx1ZSwgcmV2aXZlcikge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSwgdmFsdWVUeXBlLCBhcnIsIGksIGxuLCBlbGVtZW50LCBlbGVtZW50VmFsdWUsIG9iaiwgcHJvcFZhbHVlLCBwcm9wO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGRlc2VyaWFsaXplJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0dmFsdWVUeXBlID0gY29udHJhY3RzLmdldFR5cGUodmFsdWUpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IHZhbHVlVHlwZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IGNvbnRleHQkMSQwLnQwID09PSBcIlVuZGVmaW5lZFwiID8gNSA6IGNvbnRleHQkMSQwLnQwID09PSBcIk51bGxcIiA/IDUgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJTdHJpbmdcIiA/IDUgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJOdW1iZXJcIiA/IDUgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJCb29sZWFuXCIgPyA1IDogY29udGV4dCQxJDAudDAgPT09IFwiQXJyYXlcIiA/IDYgOiAzMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZSh2YWx1ZVR5cGUsIHZhbHVlKSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0YXJyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblx0XHRcdFx0aSA9IDAsIGxuID0gdmFsdWUubGVuZ3RoO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGlmICghKGkgPCBsbikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbGVtZW50ID0gdmFsdWVbaV07XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gYXJyO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MiA9IFN0cmluZyhpKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRyZXR1cm4gZGVzZXJpYWxpemUoZW52LCBlbGVtZW50LCByZXZpdmVyKTtcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDMgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdHJldHVybiByZXZpdmVyKGNvbnRleHQkMSQwLnQxLCBjb250ZXh0JDEkMC50MiwgY29udGV4dCQxJDAudDMpO1xuXG5cdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRlbGVtZW50VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQoZWxlbWVudFZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ0ID0gYXJyO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NSA9IGk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMztcblx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKGVudiwgZWxlbWVudCk7XG5cblx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ2ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDcgPSB7XG5cdFx0XHRcdFx0dmFsdWU6IGNvbnRleHQkMSQwLnQ2LFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ4ID0gZW52O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NC5kZWZpbmVPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHQkMSQwLnQ0LCBjb250ZXh0JDEkMC50NSwgY29udGV4dCQxJDAudDcsIHRydWUsIGNvbnRleHQkMSQwLnQ4KTtcblxuXHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0b2JqID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0cHJvcFZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50OSA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdGlmICgoY29udGV4dCQxJDAudDEwID0gY29udGV4dCQxJDAudDkoKSkuZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0ODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHByb3AgPSBjb250ZXh0JDEkMC50MTAudmFsdWU7XG5cblx0XHRcdFx0aWYgKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Njtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxMSA9IG9iajtcblx0XHRcdFx0Y29udGV4dCQxJDAudDEyID0gcHJvcDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRyZXR1cm4gZGVzZXJpYWxpemUoZW52LCB2YWx1ZVtwcm9wXSwgcmV2aXZlcik7XG5cblx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxMyA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0NDtcblx0XHRcdFx0cmV0dXJuIHJldml2ZXIoY29udGV4dCQxJDAudDExLCBjb250ZXh0JDEkMC50MTIsIGNvbnRleHQkMSQwLnQxMyk7XG5cblx0XHRcdGNhc2UgNDQ6XG5cdFx0XHRcdHByb3BWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQocHJvcFZhbHVlKSkge1xuXHRcdFx0XHRcdG9iai5kZWZpbmVPd25Qcm9wZXJ0eShwcm9wLCB7IHZhbHVlOiBwcm9wVmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRjYXNlIDQ2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDQ4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iaik7XG5cblx0XHRcdGNhc2UgNDk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZXZpdmVyKGVudiwgcmV2aXZlcikge1xuXHRpZiAocmV2aXZlciAmJiByZXZpdmVyLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiKSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGhvbGRlciwga2V5LCB2YWx1ZSkge1xuXHRcdFx0dmFyIGFyZ3MsIGNhbGxlZTtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRhcmdzID0gW2Vudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpLCB2YWx1ZV07XG5cdFx0XHRcdFx0XHRjYWxsZWUgPSByZXZpdmVyLm5hdGl2ZSA/IHJldml2ZXIgOiByZXZpdmVyLm5vZGU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHJldml2ZXIsIGFyZ3MsIGhvbGRlciwgY2FsbGVlKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChob2xkZXIsIGtleSwgdmFsdWUpIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH07XG59XG5cbmZ1bmN0aW9uIGpzb25BcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBqc29uQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRqc29uQ2xhc3MuY2xhc3NOYW1lID0gXCJKU09OXCI7XG5cblx0anNvbkNsYXNzLmRlZmluZShcInN0cmluZ2lmeVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChvYmosIHJlcGxhY2VyLCBzcGFjZXIpIHtcblx0XHR2YXIgc3RhY2s7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiBjcmVhdGVSZXBsYWNlcihlbnYsIHJlcGxhY2VyKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0cmVwbGFjZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiBnZXRTcGFjZXIoZW52LCBzcGFjZXIpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRzcGFjZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiByZXBsYWNlcihvYmosIFwiXCIsIG9iaik7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdG9iaiA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChvYmopKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHN0YWNrID0gW107XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKGVudiwgc3RhY2ssIG9iaiwgcmVwbGFjZXIsIHNwYWNlciwgMCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MC5jcmVhdGVQcmltaXRpdmUuY2FsbChjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDMsIFwiSlNPTi5zdHJpbmdpZnlcIikpO1xuXG5cdGpzb25DbGFzcy5kZWZpbmUoXCJwYXJzZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdHIsIHJldml2ZXIpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHBhcnNlZE9iamVjdCwgZGVzZXJpYWxpemVkT2JqZWN0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXZpdmVyID0gY3JlYXRlUmV2aXZlcihlbnYsIHJldml2ZXIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgc3RyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhcnNlZE9iamVjdCA9IEpTT04ucGFyc2Uoc3RyaW5nVmFsdWUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiBkZXNlcmlhbGl6ZShlbnYsIHBhcnNlZE9iamVjdCwgcmV2aXZlcik7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdGRlc2VyaWFsaXplZE9iamVjdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiByZXZpdmVyKGRlc2VyaWFsaXplZE9iamVjdCwgXCJcIiwgZGVzZXJpYWxpemVkT2JqZWN0KSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkpTT04ucGFyc2VcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJKU09OXCIsIGpzb25DbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHRoZXNlIGFyZSB0aGUgb25seSB0eXBlcyBzdXBwb3J0ZWQgYnkgSlNPTi5wYXJzZSAtIHNhZCBmYWNlLi4uXG5cbi8vIHJ1biBhdCB0aGUgdG9wIHZhbHVlIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1hdGhBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgY29uc3RhbnRzID0gW1wiRVwiLCBcIkxOMTBcIiwgXCJMTjJcIiwgXCJMT0cxMEVcIiwgXCJMT0cyRVwiLCBcIlBJXCIsIFwiU1FSVDFfMlwiLCBcIlNRUlQyXCJdO1xudmFyIG1ldGhvZHMgPSBbXCJhYnNcIiwgXCJhY29zXCIsIFwiYXNpblwiLCBcImF0YW5cIiwgXCJhdGFuMlwiLCBcImNlaWxcIiwgXCJjb3NcIiwgXCJleHBcIiwgXCJmbG9vclwiLCBcImxvZ1wiLCBcIm1heFwiLCBcIm1pblwiLCBcInBvd1wiLCBcInJhbmRvbVwiLCBcInJvdW5kXCIsIFwic2luXCIsIFwic3FydFwiLCBcInRhblwiXTtcblxuZnVuY3Rpb24gbWF0aEFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIG1hdGhDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdG1hdGhDbGFzcy5jbGFzc05hbWUgPSBcIk1hdGhcIjtcblxuXHRjb25zdGFudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdG1hdGhDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTWF0aFtuYW1lXSksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0fSk7XG5cblx0bWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0bWF0aENsYXNzLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgTWF0aFtuYW1lXSwgXCJNYXRoLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiTWF0aFwiLCBtYXRoQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBudW1iZXJBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBjb25zdGFudHMgPSBbXCJNQVhfVkFMVUVcIiwgXCJNSU5fVkFMVUVcIiwgXCJOYU5cIiwgXCJORUdBVElWRV9JTkZJTklUWVwiLCBcIlBPU0lUSVZFX0lORklOSVRZXCJdO1xudmFyIHByb3RvTWV0aG9kcyA9IFtcInRvRXhwb25lbnRpYWxcIiwgXCJ0b1ByZWNpc2lvblwiLCBcInRvTG9jYWxlU3RyaW5nXCJdO1xuXG5mdW5jdGlvbiBudW1iZXJBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBudW1iZXJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqKSB7XG5cdFx0dmFyIG51bWJlclZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCBvYmosIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBOdW1iZXIoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLmlzTmV3KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgKDAsIF91dGlsc05hdGl2ZS5wcmltaXRpdmVUb09iamVjdCkoZW52LCBudW1iZXJWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiTnVtYmVyXCIsIG51bWJlclZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHR2YXIgcHJvdG8gPSBudW1iZXJDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJOdW1iZXJcIjtcblx0cHJvdG8udmFsdWUgPSAwO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHJhZGl4KSB7XG5cdFx0dmFyIHJhZGl4VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIk51bWJlclwiLCBcIk51bWJlci5wcm90b3R5cGUudG9TdHJpbmdcIik7XG5cblx0XHRcdFx0XHRyYWRpeFZhbHVlID0gMTA7XG5cblx0XHRcdFx0XHRpZiAoIXJhZGl4KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHJhZGl4LCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmFkaXhWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShyYWRpeFZhbHVlIDwgMiB8fCByYWRpeFZhbHVlID4gMzYpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgUmFuZ2VFcnJvcihcInRvU3RyaW5nKCkgcmFkaXggYXJndW1lbnQgbXVzdCBiZSBiZXR3ZWVuIDIgYW5kIDM2XCIpKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlID09IG51bGwgPyBcIjBcIiA6IHRoaXMubm9kZS52YWx1ZS50b1N0cmluZyhyYWRpeFZhbHVlKSkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIk51bWJlci5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRvRml4ZWRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZnJhY3Rpb25EaWdpdHMpIHtcblx0XHR2YXIgZGlnaXRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJOdW1iZXJcIiwgXCJOdW1iZXIucHJvdG90eXBlLnRvRml4ZWRcIik7XG5cblx0XHRcdFx0XHRkaWdpdHMgPSAwO1xuXG5cdFx0XHRcdFx0aWYgKCFmcmFjdGlvbkRpZ2l0cykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBmcmFjdGlvbkRpZ2l0cyk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGRpZ2l0cyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkLmNhbGwodGhpcy5ub2RlLnZhbHVlLCBkaWdpdHMpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJOdW1iZXJcIiwgXCJOdW1iZXIucHJvdG90eXBlLnZhbHVlT2ZcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZSA9PSBudWxsID8gMCA6IHRoaXMubm9kZS52YWx1ZSk7XG5cdH0sIDAsIFwiTnVtYmVyLnByb3RvdHlwZS52YWx1ZU9mXCIpKTtcblxuXHRjb25zdGFudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdG51bWJlckNsYXNzLmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOdW1iZXJbbmFtZV0pLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cdH0pO1xuXG5cdHByb3RvTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0dmFyIGZuID0gTnVtYmVyLnByb3RvdHlwZVtuYW1lXTtcblx0XHRpZiAoZm4pIHtcblx0XHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBtZXRob2ROYW1lID0gXCJOdW1iZXIucHJvdG90eXBlLlwiICsgbmFtZTtcblx0XHRcdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJOdW1iZXJcIiwgbWV0aG9kTmFtZSk7XG5cdFx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZuLmNhbGwodGhpcy5ub2RlLnZhbHVlKSk7XG5cdFx0XHRcdH0sIGZuLmxlbmd0aCwgbWV0aG9kTmFtZSkpO1xuXHRcdFx0fSkoKTtcblx0XHR9XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJOdW1iZXJcIiwgbnVtYmVyQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5O1xuZXhwb3J0cy5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG9iamVjdEFwaTtcbnZhciBtYXJrZWQwJDAgPSBbZGVmaW5lUHJvcGVydHksIGdldE93blByb3BlcnR5RGVzY3JpcHRvcl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdHlwZXNPYmplY3RUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxuZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoZW52LCBvYmosIG5hbWUsIGRlc2NyaXB0b3IpIHtcblx0dmFyIHRocm93T25FcnJvciA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbNF07XG5cdHZhciBzdHJpbmdWYWx1ZSwgb3B0aW9ucztcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSQoY29udGV4dCQxJDApIHtcblx0XHR2YXIgX3RoaXMyID0gdGhpcztcblxuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmIChjb250cmFjdHMuaXNPYmplY3QoZGVzY3JpcHRvcikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0b3B0aW9ucyA9IHt9O1xuXG5cdFx0XHRcdGlmICghZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0dmFyIGhhc1ZhbHVlLCBoYXNHZXR0ZXIsIGhhc1NldHRlciwgY3VycmVudFNjb3BlO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRoYXNWYWx1ZSA9IGRlc2NyaXB0b3IuaGFzKFwidmFsdWVcIik7XG5cdFx0XHRcdFx0XHRcdFx0aGFzR2V0dGVyID0gZGVzY3JpcHRvci5oYXMoXCJnZXRcIik7XG5cdFx0XHRcdFx0XHRcdFx0aGFzU2V0dGVyID0gZGVzY3JpcHRvci5oYXMoXCJzZXRcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoISgoaGFzVmFsdWUgfHwgZGVzY3JpcHRvci5oYXMoXCJ3cml0YWJsZVwiKSkgJiYgKGhhc0dldHRlciB8fCBoYXNTZXR0ZXIpKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBwcm9wZXJ0eS4gQSBwcm9wZXJ0eSBjYW5ub3QgYm90aCBoYXZlIGFjY2Vzc29ycyBhbmQgYmUgd3JpdGFibGUgb3IgaGF2ZSBhIHZhbHVlXCIpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblxuXHRcdFx0XHRcdFx0XHRcdFtcIndyaXRhYmxlXCIsIFwiZW51bWVyYWJsZVwiLCBcImNvbmZpZ3VyYWJsZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZGVzY3JpcHRvci5oYXMocHJvcCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGF0dHJWYWx1ZSA9IGRlc2NyaXB0b3IuZ2V0VmFsdWUocHJvcCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnNbcHJvcF0gPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoYXR0clZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRTY29wZSA9IGVudi5jdXJyZW50LnNjb3BlO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFoYXNHZXR0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZ2V0dGVyLCBzdHJpbmdWYWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXR0ZXIgPSBkZXNjcmlwdG9yLmdldFZhbHVlKFwiZ2V0XCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShnZXR0ZXIuaXNQcmltaXRpdmUgJiYgZ2V0dGVyLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5nZXQgPSBvcHRpb25zLmdldHRlciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoZ2V0dGVyLmNsYXNzTmFtZSAhPT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIGdldHRlcik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbjogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLmdldCA9IGdldHRlcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuZ2V0dGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzY29wZSwgdGhpc0FyZztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMyQwJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNCQwLnByZXYgPSBjb250ZXh0JDQkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGN1cnJlbnRTY29wZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBnZXR0ZXIuaXNTdHJpY3QoKSA/IHRoaXMgOiAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDQkMCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgZ2V0UmVzdWx0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDQkMCQoY29udGV4dCQ1JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNSQwLnByZXYgPSBjb250ZXh0JDUkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDUkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuY2FsbCkoZW52LCBnZXR0ZXIsIGdldHRlci5ub2RlLnBhcmFtcywgW10sIHRoaXNBcmcsIGdldHRlci5ub2RlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0UmVzdWx0ID0gY29udGV4dCQ1JDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ1JDAuYWJydXB0KFwicmV0dXJuXCIsIGdldFJlc3VsdCAmJiBnZXRSZXN1bHQuZXhpdCA/IGdldFJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ1JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQ0JDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgX3RoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdH0pKCksIFwidDBcIiwgOSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdFx0XHRcdGlmICghaGFzU2V0dGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBzZXR0ZXIsIHN0cmluZ1ZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNldHRlciA9IGRlc2NyaXB0b3IuZ2V0VmFsdWUoXCJzZXRcIikgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKHNldHRlci5pc1ByaW1pdGl2ZSAmJiBzZXR0ZXIudmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLnNldCA9IG9wdGlvbnMuc2V0dGVyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShzZXR0ZXIuY2xhc3NOYW1lICE9PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgc2V0dGVyKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJTZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uOiBcIiArIHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuc2V0ID0gc2V0dGVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5zZXR0ZXIgPSBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDMkMCh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2NvcGUsIHRoaXNBcmc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5zZXRTY29wZShjdXJyZW50U2NvcGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gc2V0dGVyLmlzU3RyaWN0KCkgPyB0aGlzIDogKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQ0JDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkNCQwJChjb250ZXh0JDUkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ1JDAucHJldiA9IGNvbnRleHQkNSQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHNldHRlciwgW3ZhbHVlXSwgdGhpc0FyZywgc2V0dGVyLm5vZGUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ1JDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ1JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQ0JDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgX3RoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdH0pKCksIFwidDFcIiwgMTEpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTE6XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzVmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMudmFsdWUgPSBkZXNjcmlwdG9yLmdldFZhbHVlKFwidmFsdWVcIikgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIF90aGlzMik7XG5cdFx0XHRcdH0pKCksIFwidDBcIiwgOCk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBvYmouZGVmaW5lT3duUHJvcGVydHkobmFtZSwgb3B0aW9ucywgdGhyb3dPbkVycm9yLCBlbnYpKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVudiwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuXHR2YXIga2V5LCBkZXNjcmlwdG9yLCByZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShlbnYsIHByb3BlcnR5S2V5KTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRrZXkgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghdGFyZ2V0Lm93bnMoa2V5KSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlc2NyaXB0b3IgPSB0YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0cmVzdWx0ID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0XHRcdFx0aWYgKGRlc2NyaXB0b3IuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1dFZhbHVlKFwidmFsdWVcIiwgZGVzY3JpcHRvci52YWx1ZSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0cmVzdWx0LnB1dFZhbHVlKFwid3JpdGFibGVcIiwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3Iud3JpdGFibGUpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXN1bHQucHV0VmFsdWUoXCJnZXRcIiwgZGVzY3JpcHRvci5nZXQgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdHJlc3VsdC5wdXRWYWx1ZShcInNldFwiLCBkZXNjcmlwdG9yLnNldCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgZmFsc2UsIGVudik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQucHV0VmFsdWUoXCJlbnVtZXJhYmxlXCIsIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShkZXNjcmlwdG9yLmVudW1lcmFibGUpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0cmVzdWx0LnB1dFZhbHVlKFwiY29uZmlndXJhYmxlXCIsIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSksIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0QXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHRmdW5jdGlvbiBjb25maXJtT2JqZWN0KG9iaiwgbWV0aG9kTmFtZSkge1xuXHRcdGlmIChjb250cmFjdHMuaXNPYmplY3Qob2JqKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKGVudi5vcHRpb25zLmVjbWFWZXJzaW9uID4gNSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO1xuXHR9XG5cblx0dmFyIHByb3RvID0gbmV3IF90eXBlc09iamVjdFR5cGUuT2JqZWN0VHlwZSgpO1xuXHR2YXIgb2JqZWN0Q2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0aWYgKHZhbHVlLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRcdGlmICh2YWx1ZS52YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgb2JqZWN0V3JhcHBlciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlLnZhbHVlKTtcblx0XHRcdFx0b2JqZWN0V3JhcHBlci50eXBlID0gXCJvYmplY3RcIjtcblx0XHRcdFx0b2JqZWN0V3JhcHBlci5pc1ByaW1pdGl2ZSA9IGZhbHNlO1xuXHRcdFx0XHRyZXR1cm4gb2JqZWN0V3JhcHBlcjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbiBqdXN0IHJldHVyblxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHR9LCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHByb3RvLmRlZmluZShcImhhc093blByb3BlcnR5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGtleSkge1xuXHRcdHZhciBrO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkoZW52LCBrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS5vd25zKGspKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlLCB0cnVlKTtcblx0fSwgMCwgXCJPYmplY3QucHJvdG90eXBlLnZhbHVlT2ZcIikpO1xuXG5cdHZhciB0b1N0cmluZ0Z1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9IHRoaXMubm9kZSA/IHRoaXMubm9kZS5jbGFzc05hbWUgOiBcIlVuZGVmaW5lZFwiO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIltvYmplY3QgXCIgKyBjbGFzc05hbWUgKyBcIl1cIik7XG5cdH0sIDAsIFwiT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblxuXHQvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID09PSBPYmplY3QucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIHRvU3RyaW5nRnVuYyk7XG5cdHByb3RvLmRlZmluZShcInRvTG9jYWxlU3RyaW5nXCIsIHRvU3RyaW5nRnVuYyk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaXNQcm90b3R5cGVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRoaXMubm9kZSwgXCJPYmplY3QuaXNQcm90b3R5cGVPZlwiKTtcblxuXHRcdHZhciBjdXJyZW50ID0gb2JqO1xuXHRcdHdoaWxlIChjdXJyZW50KSB7XG5cdFx0XHRpZiAodGhpcy5ub2RlID09PSBjdXJyZW50KSB7XG5cdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IGN1cnJlbnQuZ2V0UHJvdG90eXBlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKTtcblx0fSwgMSwgXCJPYmplY3QuaXNQcm90b3R5cGVPZlwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicHJvcGVydHlJc0VudW1lcmFibGVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoa2V5KSB7XG5cdFx0dmFyIGssIGRlc2NyaXB0b3I7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlXCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkoZW52LCBrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRkZXNjcmlwdG9yID0gdGhpcy5ub2RlLmdldE93blByb3BlcnR5KGspO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoISEoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGUpKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJjcmVhdGVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocGFyZW50LCBkZXNjcmlwdG9ycykge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgb2JqLCBwcm9wO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShwYXJlbnQgJiYgcGFyZW50LmlzUHJpbWl0aXZlICYmIHBhcmVudC52YWx1ZSAhPT0gbnVsbCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgcGFyZW50KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiT2JqZWN0IHByb3RvdHlwZSBtYXkgb25seSBiZSBhbiBPYmplY3Qgb3IgbnVsbDogXCIgKyBzdHJpbmdWYWx1ZSkpKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0aWYgKCEoZGVzY3JpcHRvcnMgJiYgZGVzY3JpcHRvcnMuaXNQcmltaXRpdmUgJiYgZGVzY3JpcHRvcnMudmFsdWUgPT09IG51bGwpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgbnVsbCBvciB1bmRlZmluZWQgdG8gb2JqZWN0XCIpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdG9iaiA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0XHRcdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdFx0XHRvYmouc2V0UHJvdG90eXBlKHBhcmVudCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFkZXNjcmlwdG9ycykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXMoZGVzY3JpcHRvcnMucHJvcGVydGllcyk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpZiAoKGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAudDAoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMiQwLnQxLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzW3Byb3BdLmVudW1lcmFibGUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRyZXR1cm4gZGVmaW5lUHJvcGVydHkoZW52LCBvYmosIHByb3AsIGRlc2NyaXB0b3JzLmdldFZhbHVlKHByb3ApKTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiT2JqZWN0LmNyZWF0ZVwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZGVmaW5lUHJvcGVydHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqLCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuXHRcdHZhciBrZXk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmosIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5XCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKGVudiwgcHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiBkZWZpbmVQcm9wZXJ0eShlbnYsIG9iaiwga2V5LCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAzLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eVwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZGVmaW5lUHJvcGVydGllc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChvYmosIGRlc2NyaXB0b3JzKSB7XG5cdFx0dmFyIHByb3A7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmosIFwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcIik7XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydEFyZ0lzTm90TnVsbE9yVW5kZWZpbmVkKGRlc2NyaXB0b3JzKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gX3JlZ2VuZXJhdG9yUnVudGltZS5rZXlzKGRlc2NyaXB0b3JzLnByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpZiAoKGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAudDAoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMiQwLnQxLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzW3Byb3BdLmVudW1lcmFibGUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuIGRlZmluZVByb3BlcnR5KGVudiwgb2JqLCBwcm9wLCBkZXNjcmlwdG9ycy5nZXRWYWx1ZShwcm9wKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG9iaiwga2V5KSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghY29uZmlybU9iamVjdChvYmosIFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVudiwgb2JqLCBrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImtleXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmopO1xuXG5cdFx0dmFyIGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGZvciAodmFyIF9uYW1lIGluIG9iai5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRpZiAob2JqLnByb3BlcnRpZXNbX25hbWVdLmVudW1lcmFibGUpIHtcblx0XHRcdFx0dmFyIHZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoX25hbWUpO1xuXHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgrKywgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSwgZmFsc2UsIGVudik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFycjtcblx0fSwgMSwgXCJPYmplY3Qua2V5c1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KG9iaiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1wiKTtcblxuXHRcdHZhciBhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eUtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpbmRleCkge1xuXHRcdFx0YXJyLnB1dFZhbHVlKGluZGV4LCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShuYW1lKSwgdHJ1ZSwgZW52KTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBhcnI7XG5cdH0sIDEsIFwiT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImdldFByb3RvdHlwZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoIWNvbmZpcm1PYmplY3Qob2JqLCBcIk9iamVjdC5nZXRQcm90b3R5cGVPZlwiKSkge1xuXHRcdFx0b2JqID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCBvYmosIHRydWUpO1xuXHRcdH1cblxuXHRcdHZhciBvYmpQcm90byA9IG9iai5nZXRQcm90b3R5cGUoKTtcblx0XHRyZXR1cm4gb2JqUHJvdG8gfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5OVUxMO1xuXHR9LCAxLCBcIk9iamVjdC5nZXRQcm90b3R5cGVPZlwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZnJlZXplXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoY29uZmlybU9iamVjdChvYmosIFwiT2JqZWN0LmZyZWV6ZVwiKSkge1xuXHRcdFx0b2JqLmZyZWV6ZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sIDEsIFwiT2JqZWN0LmZyZWV6ZVwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiaXNGcm96ZW5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGlmICghY29uZmlybU9iamVjdChvYmosIFwiT2JqZWN0LmlzRnJvemVuXCIpKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSk7XG5cdFx0fVxuXG5cdFx0aWYgKG9iai5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpO1xuXHRcdH1cblxuXHRcdGlmICghb2JqLmV4dGVuc2libGUpIHtcblx0XHRcdGZvciAodmFyIHByb3AgaW4gb2JqLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0aWYgKG9iai5wcm9wZXJ0aWVzW3Byb3BdLndyaXRhYmxlIHx8IG9iai5wcm9wZXJ0aWVzW3Byb3BdLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoIW9iai5leHRlbnNpYmxlKTtcblx0fSwgMSwgXCJPYmplY3QuaXNGcm96ZW5cIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcInByZXZlbnRFeHRlbnNpb25zXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoY29uZmlybU9iamVjdChvYmosIFwiT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zXCIpKSB7XG5cdFx0XHRvYmoucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiaXNFeHRlbnNpYmxlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoIWNvbmZpcm1PYmplY3Qob2JqLCBcIk9iamVjdC5pc0V4dGVuc2libGVcIikpIHtcblx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG9iai5leHRlbnNpYmxlKTtcblx0fSwgMSwgXCJPYmplY3QuaXNFeHRlbnNpYmxlXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJzZWFsXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoY29uZmlybU9iamVjdChvYmosIFwiT2JqZWN0LnNlYWxcIikpIHtcblx0XHRcdG9iai5zZWFsKCk7XG5cdFx0fVxuXG5cdFx0b2JqLnNlYWwoKTtcblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5zZWFsXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJpc1NlYWxlZFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKCFjb25maXJtT2JqZWN0KG9iaiwgXCJPYmplY3QuaXNTZWFsZWRcIikpIHtcblx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAoIW9iai5leHRlbnNpYmxlKSB7XG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIG9iai5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGlmIChvYmoucHJvcGVydGllc1twcm9wXS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCFvYmouZXh0ZW5zaWJsZSk7XG5cdH0sIDEsIFwiT2JqZWN0LmlzU2VhbGVkXCIpKTtcblxuXHQvLyBmdW5jdGlvbiBpcyBhbiBvYmplY3QgLSBtYWtlIHN1cmUgdGhhdCBpdCBpcyBpbiB0aGUgcHJvdG90eXBlIGNoYWluXG5cdGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIkZ1bmN0aW9uXCIpLmdldFByb3RvdHlwZSgpLnNldFByb3RvdHlwZShwcm90byk7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJPYmplY3RcIiwgb2JqZWN0Q2xhc3MpO1xufVxuXG4vLyB3ZSBvbmx5IGtlZXAgYSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBnZXR0ZXIvc2V0dGVyIGZvciB1c2Ugd2l0aCBgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSByZWdleEFwaTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIHJlZ2V4QXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgcmVnZXhDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocGF0dGVybiwgZmxhZ3MpIHtcblx0XHR2YXIgcGF0dGVyblN0cmluZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCEocGF0dGVybiAmJiBwYXR0ZXJuLmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQoZmxhZ3MpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcGF0dGVybik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHN1cHBseSBmbGFncyB3aGVuIGNvbnN0cnVjdGluZyBvbmUgUmVnRXhwIGZyb20gYW5vdGhlclwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChwYXR0ZXJuKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IFwiXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgcGF0dGVybik7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRwYXR0ZXJuU3RyaW5nID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChmbGFncykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gXCJcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgZmxhZ3MpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0ZmxhZ3MgPSBjb250ZXh0JDIkMC50MTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiUmVnRXhwXCIsIG5ldyBSZWdFeHAocGF0dGVyblN0cmluZywgZmxhZ3MpKSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBudWxsLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0dmFyIHByb3RvID0gcmVnZXhDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJSZWdFeHBcIjtcblxuXHRwcm90by5kZWZpbmUoXCJ0ZXN0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0cikge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgdGVzdFZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBzdHIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnQzMikoZW52LCB0aGlzLm5vZGUuZ2V0VmFsdWUoXCJsYXN0SW5kZXhcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHR0aGlzLm5vZGUuc291cmNlLmxhc3RJbmRleCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0dGVzdFZhbHVlID0gdGhpcy5ub2RlLnNvdXJjZS50ZXN0KHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShcImxhc3RJbmRleFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUuc291cmNlLmxhc3RJbmRleCksIHRydWUsIGVudik7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRlc3RWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlJlZ0V4cC5wcm90b3R5cGUudGVzdFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZXhlY1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdHIpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIG1hdGNoLCBhcnIsIGksIGxuO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBzdHIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnQzMikoZW52LCB0aGlzLm5vZGUuZ2V0VmFsdWUoXCJsYXN0SW5kZXhcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHR0aGlzLm5vZGUuc291cmNlLmxhc3RJbmRleCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0bWF0Y2ggPSB0aGlzLm5vZGUuc291cmNlLmV4ZWMoc3RyaW5nVmFsdWUpO1xuXG5cdFx0XHRcdFx0Ly8gdXBkYXRlIHRoZSBsYXN0IGluZGV4IGZyb20gdGhlIHVuZGVybHlpbmcgcmVnZXhcblx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUoXCJsYXN0SW5kZXhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnNvdXJjZS5sYXN0SW5kZXgpLCB0cnVlLCBlbnYpO1xuXG5cdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0XHRcdGZvciAoaSA9IDAsIGxuID0gbWF0Y2gubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHRcdFx0XHRcdFx0YXJyLnB1dFZhbHVlKGksIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG1hdGNoW2ldKSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBleHRyYSBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byB0aGUgYXJyYXlcblx0XHRcdFx0XHRhcnIucHV0VmFsdWUoXCJpbmRleFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShtYXRjaC5pbmRleCksIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdGFyci5wdXRWYWx1ZShcImlucHV0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG1hdGNoLmlucHV0KSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLk5VTEwpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJSZWdFeHAucHJvdG90eXBlLmV4ZWNcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nKHRoaXMubm9kZS5zb3VyY2UpKTtcblx0fSwgMCwgXCJSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJjb21waWxlXCIsICgwLCBfdXRpbHNOYXRpdmUudG9OYXRpdmVGdW5jdGlvbikoZW52LCBSZWdFeHAucHJvdG90eXBlLmNvbXBpbGUsIFwiUmVnRXhwLnByb3RvdHlwZS5jb21waWxlXCIpKTtcblx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkoXCJsYXN0SW5kZXhcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCksIHdyaXRhYmxlOiB0cnVlIH0pO1xuXG5cdFtcImdsb2JhbFwiLCBcImlnbm9yZUNhc2VcIiwgXCJtdWx0aWxpbmVcIiwgXCJzb3VyY2VcIl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdHByb3RvLmRlZmluZU93blByb3BlcnR5KG5hbWUsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFJlZ0V4cC5wcm90b3R5cGVbbmFtZV0pIH0pO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiUmVnRXhwXCIsIHJlZ2V4Q2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyB1cGRhdGUgdW5kZXJseWluZyByZWdleCBpbiBjYXNlIHRoZSBpbmRleCB3YXMgbWFudWFsbHkgdXBkYXRlZFxuXG4vLyBnZXQgbWF0Y2ggZnJvbSB1bmRlcmx5aW5nIHJlZ2V4IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHN0cmluZ0FwaTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIHByb3RvTWV0aG9kcyA9IFtcImNoYXJBdFwiLCBcImNoYXJDb2RlQXRcIiwgXCJjb25jYXRcIiwgXCJpbmRleE9mXCIsIFwibGFzdEluZGV4T2ZcIiwgXCJsb2NhbGVDb21wYXJlXCIsIFwic3Vic3RyXCIsIFwidG9Mb2NhbGVMb3dlckNhc2VcIiwgXCJ0b0xvY2FsZVVwcGVyQ2FzZVwiLCBcInRvTG93ZXJDYXNlXCIsIFwidG9VcHBlckNhc2VcIl07XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbmZ1bmN0aW9uIHN0cmluZ0FwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHN0cmluZ0NsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCF2YWx1ZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB2YWx1ZS5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IFwiXCI7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgKDAsIF91dGlsc05hdGl2ZS5wcmltaXRpdmVUb09iamVjdCkoZW52LCBzdHJpbmdWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgbnVsbCwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHZhciBwcm90byA9IHN0cmluZ0NsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXG5cdC8vIHByb3RvdHlwZSBjYW4gYmUgY29lcmNlZCBpbnRvIGFuIGVtcHR5IHN0cmluZ1xuXHRwcm90by52YWx1ZSA9IFwiXCI7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiU3RyaW5nXCI7XG5cdHByb3RvLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDApIH0pO1xuXG5cdHByb3RvLmRlZmluZShcInNlYXJjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChyZWdleCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgdW5kZXJseWluZ1JlZ2V4O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0dW5kZXJseWluZ1JlZ2V4ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCFyZWdleCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCEocmVnZXguY2xhc3NOYW1lID09PSBcIlJlZ0V4cFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR1bmRlcmx5aW5nUmVnZXggPSByZWdleC5zb3VyY2U7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IFJlZ0V4cDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgcmVnZXgpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHVuZGVybHlpbmdSZWdleCA9IG5ldyBjb250ZXh0JDIkMC50MChjb250ZXh0JDIkMC50MSk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlLnNlYXJjaCh1bmRlcmx5aW5nUmVnZXgpKSk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUuc2VhcmNoXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzdWJzdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RhcnQsIGVuZCkge1xuXHRcdHZhciB2YWx1ZSwgbGVuZ3RoO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RDb25zdHJ1Y3Rvcih0aGlzLCBcInN1YnN0cmluZ1wiKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHRoaXMubm9kZSwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIHN0YXJ0KTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0c3RhcnQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQoZW5kKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBsZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCBlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0ZW5kID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCkpKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5zdWJzdHJpbmdcIikpO1xuXG5cdHByb3RvTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0dmFyIGZuID0gU3RyaW5nLnByb3RvdHlwZVtuYW1lXTtcblx0XHRpZiAoZm4pIHtcblx0XHRcdHByb3RvLmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0dmFyIHN0cmluZ1ZhbHVlLFxuXHRcdFx0XHQgICAgYXJncyxcblx0XHRcdFx0ICAgIGFyZ3MkMyQwID0gYXJndW1lbnRzO1xuXHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDMkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMyQwJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMyQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0fSkpLCBcInQwXCIsIDQpO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDMkMC50MDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShTdHJpbmcucHJvdG90eXBlW25hbWVdLmFwcGx5KHN0cmluZ1ZhbHVlLCBhcmdzKSkpO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdH0pLCBTdHJpbmcucHJvdG90eXBlW25hbWVdLmxlbmd0aCwgXCJTdHJpbmcucHJvdG90eXBlLlwiICsgbmFtZSkpO1xuXHRcdH1cblx0fSk7XG5cblx0c3RyaW5nQ2xhc3MuZGVmaW5lKFwiZnJvbUNoYXJDb2RlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjaGFyQ29kZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdGNoYXJDb2Rlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgYXJncztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoY2hhckNvZGVzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMChhcmcpIHtcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKSwgXCJ0MFwiLCAxKTtcblxuXHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMiQwLnQwO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBhcmdzKSkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5mcm9tQ2hhckNvZGVcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNsaWNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0YXJ0LCBlbmQpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIHN0YXJ0KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0c3RhcnRWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0ZW5kVmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKGVuZCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgZW5kKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGVuZFZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUuc2xpY2Uoc3RhcnRWYWx1ZSwgZW5kVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlN0cmluZy5wcm90b3R5cGUuc2xpY2VcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNwbGl0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHNlcGFyYXRvciwgbGltaXQpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIGxpbWl0VmFsdWUsIGFyciwgc2VwYXJhdG9yVmFsdWUsIHJlc3VsdDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0c2VwYXJhdG9yID0gc2VwYXJhdG9yICYmIHNlcGFyYXRvci5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdGxpbWl0ID0gbGltaXQgJiYgbGltaXQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKGxpbWl0KSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1VJbnQzMikoZW52LCBsaW1pdCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRsaW1pdFZhbHVlID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0YXJyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKHNlcGFyYXRvcikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyci5wdXRWYWx1ZSgwLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZSksIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHNlcGFyYXRvclZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEoc2VwYXJhdG9yLmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHNlcGFyYXRvclZhbHVlID0gc2VwYXJhdG9yLnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgc2VwYXJhdG9yKTtcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdHNlcGFyYXRvclZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdHJlc3VsdCA9IHN0cmluZ1ZhbHVlLnNwbGl0KHNlcGFyYXRvclZhbHVlLCBsaW1pdFZhbHVlKTtcblxuXHRcdFx0XHRcdHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdGFyci5wdXRWYWx1ZShpbmRleCwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5zcGxpdFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicmVwbGFjZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChyZWdleE9yU3Vic3RyLCBzdWJzdHJPckZuKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBtYXRjaGVyLCByZXBsYWNlcjtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdG1hdGNoZXIgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShyZWdleE9yU3Vic3RyICYmIHJlZ2V4T3JTdWJzdHIuY2xhc3NOYW1lID09PSBcIlJlZ0V4cFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRtYXRjaGVyID0gcmVnZXhPclN1YnN0ci5zb3VyY2U7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgcmVnZXhPclN1YnN0cik7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRtYXRjaGVyID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHJlcGxhY2VyID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEoc3Vic3RyT3JGbiAmJiBzdWJzdHJPckZuLnR5cGUgPT09IFwiZnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgY2FsbGVlID0gc3Vic3RyT3JGbi5uYXRpdmUgPyBzdWJzdHJPckZuIDogc3Vic3RyT3JGbi5ub2RlO1xuXG5cdFx0XHRcdFx0XHRyZXBsYWNlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoaXNBcmcgPSBzdWJzdHJPckZuLmlzU3RyaWN0KCkgfHwgc3Vic3RyT3JGbi5pc1N0cmljdCgpID8gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBnbG9iYWxPYmplY3Q7XG5cdFx0XHRcdFx0XHRcdHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpLm1hcChmdW5jdGlvbiAoYXJnKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZyk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR2YXIgcmVwbGFjZWRWYWx1ZSA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHN1YnN0ck9yRm4sIGFyZ3MsIHRoaXNBcmcsIGNhbGxlZSkpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVwbGFjZWRWYWx1ZSA/ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHJlcGxhY2VkVmFsdWUpKSA6IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBzdWJzdHJPckZuKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHJlcGxhY2VyID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUucmVwbGFjZShtYXRjaGVyLCByZXBsYWNlcikpKTtcblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJtYXRjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChyZWdleCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgYWN0dWFsUmVnZXgsIG1hdGNoLCBfcmV0MjtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YWN0dWFsUmVnZXggPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShyZWdleCAmJiByZWdleC5jbGFzc05hbWUgPT09IFwiUmVnRXhwXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFjdHVhbFJlZ2V4ID0gcmVnZXguc291cmNlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0aWYgKCFyZWdleCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBSZWdFeHA7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHJlZ2V4KTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRhY3R1YWxSZWdleCA9IG5ldyBjb250ZXh0JDIkMC50MChjb250ZXh0JDIkMC50MSk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRtYXRjaCA9IHN0cmluZ1ZhbHVlLm1hdGNoKGFjdHVhbFJlZ2V4KTtcblxuXHRcdFx0XHRcdGlmICghbWF0Y2gpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9yZXQyID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciBtYXRjaGVzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0XHRcdFx0bWF0Y2guZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXMucHV0VmFsdWUoaW5kZXgsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlKSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0bWF0Y2hlcy5wdXRWYWx1ZShcImluZGV4XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG1hdGNoLmluZGV4KSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0XHRtYXRjaGVzLnB1dFZhbHVlKFwiaW5wdXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2guaW5wdXQpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHY6IG1hdGNoZXNcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBfcmV0MiA9PT0gXCJvYmplY3RcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3JldDIudik7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCk7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUubWF0Y2hcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRyaW1cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUudHJpbVwiKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHRoaXMubm9kZSwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlLnRyaW0oKSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIlN0cmluZy5wcm90b3R5cGUudHJpbVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIlN0cmluZ1wiLCBcIlN0cmluZy5wcm90b3R5cGUudG9TdHJpbmdcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZSk7XG5cdH0sIDAsIFwiU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzTm90R2VuZXJpYyh0aGlzLm5vZGUsIFwiU3RyaW5nXCIsIFwiU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mXCIpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUudmFsdWUpO1xuXHR9LCAwLCBcIlN0cmluZy5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIlN0cmluZ1wiLCBzdHJpbmdDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIGNhbGxlZCBhcyBuZXciLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZXM1QXJyYXkgPSByZXF1aXJlKFwiLi4vLi4vZXM1L2FycmF5L1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9ycy9cIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi9pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgbWFya2VkMSQwID0gW2NyZWF0ZUFycmF5XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXHR2YXIgYXJyYXlDbGFzcyA9IGVudi5nbG9iYWwuZ2V0VmFsdWUoXCJBcnJheVwiKTtcblx0dmFyIHByb3RvID0gYXJyYXlDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0dmFyIGl0ZXJhdG9yS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwiaXRlcmF0b3JcIik7XG5cblx0ZnVuY3Rpb24gbm9ybWFsaXplSW5kZXgoaW5kZXgsIGxlbmd0aCkge1xuXHRcdGlmIChpbmRleCA8IDApIHtcblx0XHRcdHJldHVybiBNYXRoLm1heChsZW5ndGggKyBpbmRleCwgMCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIE1hdGgubWluKGluZGV4LCBsZW5ndGgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlQXJyYXkoY3Rvciwgc291cmNlKSB7XG5cdFx0dmFyIGFyZ3MsIGhhc0l0ZXJhdG9yLCBfbGVuZ3RoO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjcmVhdGVBcnJheSQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShjdG9yID09PSBhcnJheUNsYXNzIHx8ICFjb250cmFjdHMuaXNDb25zdHJ1Y3RvcihjdG9yKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUFycmF5KCkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRhcmdzID0gW107XG5cdFx0XHRcdFx0aGFzSXRlcmF0b3IgPSBzb3VyY2UuaGFzKGl0ZXJhdG9yS2V5KTtcblxuXHRcdFx0XHRcdGlmIChoYXNJdGVyYXRvcikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBzb3VyY2UpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRfbGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGFyZ3MucHVzaChfbGVuZ3RoKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy5jb25zdHJ1Y3QpKGVudiwgY3RvciwgYXJncyk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFswXSwgdGhpcyk7XG5cdH1cblxuXHRhcnJheUNsYXNzLmRlZmluZShcImZyb21cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoaXRlbXMsIG1hcEZuLCB0aGlzQXJnKSB7XG5cdFx0dmFyIG1hcHBlciwgdGFyZ2V0LCBpdCwgaW5kZXgsIGRvbmUsIGN1cnJlbnQsIF9pdCRuZXh0LCB2YWx1ZTtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHR0aGlzQXJnID0gdGhpc0FyZyB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRcdG1hcHBlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQobWFwRm4pKSB7XG5cdFx0XHRcdFx0XHRtYXBwZXIgPSBmdW5jdGlvbiAodikge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdjtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKG1hcEZuLCBcIm1hcEZuXCIpO1xuXHRcdFx0XHRcdFx0bWFwcGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAodiwgaSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIG1hcEZuLCBbdiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaSldLCB0aGlzQXJnLCBtYXBGbik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gY3JlYXRlQXJyYXkodGhpcy5ub2RlLCBpdGVtcyk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHRhcmdldCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0aXQgPSBfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZ2V0SXRlcmF0b3IoZW52LCBpdGVtcyk7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdGRvbmUgPSBmYWxzZTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMDtcblx0XHRcdFx0XHRjdXJyZW50ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdF9pdCRuZXh0ID0gaXQubmV4dCgpO1xuXHRcdFx0XHRcdGRvbmUgPSBfaXQkbmV4dC5kb25lO1xuXHRcdFx0XHRcdGN1cnJlbnQgPSBfaXQkbmV4dC52YWx1ZTtcblxuXHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0cmV0dXJuIG1hcHBlcihjdXJyZW50LnZhbHVlIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCBpbmRleCk7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHR0YXJnZXQucHV0VmFsdWUoaW5kZXgrKywgdmFsdWUsIHRydWUsIGVudik7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDEwKTtcblxuXHRcdFx0XHRcdGlmIChcInJldHVyblwiIGluIGl0KSB7XG5cdFx0XHRcdFx0XHRpdFtcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyODpcblxuXHRcdFx0XHRcdHRhcmdldC5wdXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpbmRleCksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0YXJnZXQpO1xuXG5cdFx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTAsIDIyXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5mcm9tXCIpKTtcblxuXHRhcnJheUNsYXNzLmRlZmluZShcIm9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0aXRlbXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIGxlbmd0aCwgbGVuZ3RoVmFsdWUsIGFyciwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCEodGhpcy5ub2RlID09PSBhcnJheUNsYXNzIHx8ICFjb250cmFjdHMuaXNDb25zdHJ1Y3Rvcih0aGlzLm5vZGUpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoaXRlbXMpKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuXHRcdFx0XHRcdGxlbmd0aFZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuY29uc3RydWN0KShlbnYsIHRoaXMubm9kZSwgW2xlbmd0aFZhbHVlXSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGFyciA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdFx0YXJyLmRlZmluZU93blByb3BlcnR5KGksIHsgdmFsdWU6IGl0ZW1zW2ldLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sIHRydWUsIGVudik7XG5cdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJyLnB1dFZhbHVlKFwibGVuZ3RoXCIsIGxlbmd0aFZhbHVlLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDAsIFwiQXJyYXkub2ZcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImNvcHlXaXRoaW5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBzdGFydCwgZW5kKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCB0bywgZnJvbSwgZmluYWwsIGNvdW50LCBkaXIsIGN1cnJlbnQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCB0YXJnZXQpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBsZW5ndGg7XG5cdFx0XHRcdFx0dG8gPSBub3JtYWxpemVJbmRleChjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQzID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGZyb20gPSBub3JtYWxpemVJbmRleChjb250ZXh0JDIkMC50MiwgY29udGV4dCQyJDAudDMpO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQoZW5kKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDQgPSBsZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCBlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ2ID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ0ID0gbm9ybWFsaXplSW5kZXgoY29udGV4dCQyJDAudDUsIGNvbnRleHQkMiQwLnQ2KTtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGZpbmFsID0gY29udGV4dCQyJDAudDQ7XG5cdFx0XHRcdFx0Y291bnQgPSBNYXRoLm1pbihmaW5hbCAtIGZyb20sIGxlbmd0aCAtIHRvKTtcblx0XHRcdFx0XHRkaXIgPSAxO1xuXG5cdFx0XHRcdFx0aWYgKGZyb20gPCB0byAmJiB0byA8IGZyb20gKyBjb3VudCkge1xuXHRcdFx0XHRcdFx0ZGlyID0gLTE7XG5cdFx0XHRcdFx0XHRmcm9tID0gZnJvbSArIGNvdW50IC0gMTtcblx0XHRcdFx0XHRcdHRvID0gdG8gKyBjb3VudCAtIDE7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0d2hpbGUgKGNvdW50ID4gMCkge1xuXHRcdFx0XHRcdFx0Y3VycmVudCA9IGFyci5nZXRQcm9wZXJ0eShmcm9tKTtcblxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnQpIHtcblx0XHRcdFx0XHRcdFx0YXJyLnB1dFZhbHVlKHRvLCBjdXJyZW50LmdldFZhbHVlKCksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhcnIuZGVsZXRlUHJvcGVydHkodG8pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmcm9tICs9IGRpcjtcblx0XHRcdFx0XHRcdHRvICs9IGRpcjtcblx0XHRcdFx0XHRcdGNvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJBcnJheS5wcm90b3R5cGUuY29weVdpdGhpblwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZmlsbFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgaywgZmluYWw7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCFzdGFydCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIHN0YXJ0KTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gMDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGsgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKGVuZCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgZW5kKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdGZpbmFsID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0XHRrID0gbm9ybWFsaXplSW5kZXgoaywgbGVuZ3RoKTtcblx0XHRcdFx0XHRmaW5hbCA9IG5vcm1hbGl6ZUluZGV4KGZpbmFsLCBsZW5ndGgpO1xuXG5cdFx0XHRcdFx0d2hpbGUgKGsgPCBmaW5hbCkge1xuXHRcdFx0XHRcdFx0YXJyLnB1dFZhbHVlKGsrKywgdmFsdWUsIHRydWUsIGVudik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuZmlsbFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZmluZFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcblx0XHR2YXIgYXJyLCBsZW5ndGgsIGksIHByb3BJbmZvLCB2YWx1ZSwgcGFzc2VkO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKHByZWRpY2F0ZSwgXCJwcmVkaWNhdGVcIik7XG5cblx0XHRcdFx0XHQvLyBmb3Igc29tZSByZWFzb24gdGhlIHNwZWMgZm9yIHRoZSBmaW5kIG1ldGhvZHMgY2FsbHMgZW1wdHkgYXJyYXkgc2xvdHNcblx0XHRcdFx0XHQvLyBob3cgdGhhdCBpcyB1c2VmdWwsIGJlYXRzIG1lXG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGlmICghKGkgPCBsZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwcm9wSW5mbyA9IGFyci5nZXRQcm9wZXJ0eShpKTtcblx0XHRcdFx0XHR2YWx1ZSA9IHByb3BJbmZvID8gcHJvcEluZm8uZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9lczVBcnJheS5leGVjdXRlQ2FsbGJhY2spKGVudiwgcHJlZGljYXRlLCB7IGtleTogaSwgdmFsdWU6IHZhbHVlIH0sIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmICghcGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5maW5kXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJmaW5kSW5kZXhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocHJlZGljYXRlLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBpLCBwcm9wSW5mbywgdmFsdWUsIHBhc3NlZDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihwcmVkaWNhdGUsIFwicHJlZGljYXRlXCIpO1xuXG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGlmICghKGkgPCBsZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwcm9wSW5mbyA9IGFyci5nZXRQcm9wZXJ0eShpKTtcblx0XHRcdFx0XHR2YWx1ZSA9IHByb3BJbmZvID8gcHJvcEluZm8uZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9lczVBcnJheS5leGVjdXRlQ2FsbGJhY2spKGVudiwgcHJlZGljYXRlLCB7IGtleTogaSwgdmFsdWU6IHZhbHVlIH0sIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmICghcGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGkpKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSkpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuZmluZEluZGV4XCIpKTtcblxuXHQoMCwgX2l0ZXJhdG9yMltcImRlZmF1bHRcIl0pKGVudiwgcHJvdG8pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52LCBwcm90bykge1xuXHR2YXIgbWFya2VkMSQwID0gW2dldEl0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBpdGVyYXRvclByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0aXRlcmF0b3JQcm90by5jbGFzc05hbWUgPSBcIkFycmF5IEl0ZXJhdG9yXCI7XG5cblx0aXRlcmF0b3JQcm90by5kZWZpbmUoXCJuZXh0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgcmVzdWx0ID0gdGhpcy5ub2RlLmFkdmFuY2UoKTtcblx0XHRpZiAocmVzdWx0LnZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0LnZhbHVlO1xuXHRcdH1cblxuXHRcdHZhciBvYmogPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdG9iai5kZWZpbmUoXCJkb25lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHJlc3VsdC5kb25lKSk7XG5cdFx0cmV0dXJuIG9iajtcblx0fSwgMCwgXCJBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0XCIpKTtcblxuXHRmdW5jdGlvbiBjcmVhdGVJdGVyYXRvclZhbHVlKGFyciwgaW5kZXgsIGtpbmQpIHtcblx0XHR2YXIga2V5ID0gdW5kZWZpbmVkO1xuXHRcdGlmIChraW5kICE9PSBcInZhbHVlXCIpIHtcblx0XHRcdGtleSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGluZGV4KTtcblx0XHRcdGlmIChraW5kID09PSBcImtleVwiKSB7XG5cdFx0XHRcdHJldHVybiBrZXk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHByb3BJbmZvID0gYXJyLmdldFByb3BlcnR5KGluZGV4KTtcblx0XHR2YXIgdmFsdWUgPSBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdGlmIChwcm9wSW5mbykge1xuXHRcdFx0dmFsdWUgPSBwcm9wSW5mby5nZXRWYWx1ZSgpO1xuXHRcdH1cblxuXHRcdGlmIChraW5kID09PSBcInZhbHVlXCIpIHtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheShba2V5LCB2YWx1ZV0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0SXRlcmF0b3IoYXJyLCBraW5kKSB7XG5cdFx0dmFyIGRvbmUsIGluZGV4LCBfbGVuZ3RoLCB2YWx1ZSwgcmVzdWx0O1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRJdGVyYXRvciQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRkb25lID0gZmFsc2U7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2xlbmd0aCA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIGFycikpO1xuXHRcdFx0XHRcdHZhbHVlID0gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0XHRpZiAoaW5kZXggPj0gX2xlbmd0aCkge1xuXHRcdFx0XHRcdFx0ZG9uZSA9IHRydWU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gY3JlYXRlSXRlcmF0b3JWYWx1ZShhcnIsIGluZGV4LCBraW5kKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXN1bHQgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdFx0XHRcdFx0cmVzdWx0LmRlZmluZShcImRvbmVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZG9uZSkpO1xuXHRcdFx0XHRcdHJlc3VsdC5kZWZpbmUoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblxuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzBdLCB0aGlzKTtcblx0fVxuXG5cdHByb3RvLmRlZmluZShcImtleXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciBhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSwgdHJ1ZSk7XG5cdFx0dmFyIGl0ID0gZ2V0SXRlcmF0b3IoYXJyLCBcImtleVwiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvcihpdCwgaXRlcmF0b3JQcm90byk7XG5cdH0sIDAsIFwiQXJyYXkucHJvdG90eXBlLmtleXNcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImVudHJpZXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciBhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSwgdHJ1ZSk7XG5cdFx0dmFyIGl0ID0gZ2V0SXRlcmF0b3IoYXJyKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvcihpdCwgaXRlcmF0b3JQcm90byk7XG5cdH0sIDAsIFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIikpO1xuXG5cdHZhciBzdHJpbmdUYWdLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJ0b1N0cmluZ1RhZ1wiKTtcblx0aXRlcmF0b3JQcm90by5kZWZpbmUoc3RyaW5nVGFnS2V5LCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIkFycmF5IEl0ZXJhdG9yXCIpLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHR2YXIgaXRlcmF0b3JGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciBhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSwgdHJ1ZSk7XG5cdFx0dmFyIGl0ID0gZ2V0SXRlcmF0b3IoYXJyLCBcInZhbHVlXCIpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKGl0LCBpdGVyYXRvclByb3RvKTtcblx0fSwgMCwgXCJBcnJheS5wcm90b3R5cGUudmFsdWVzXCIpO1xuXG5cdHByb3RvLmRlZmluZShcInZhbHVlc1wiLCBpdGVyYXRvckZ1bmMpO1xuXHR2YXIgaXRlcmF0b3JLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJpdGVyYXRvclwiKTtcblx0cHJvdG8uZGVmaW5lKGl0ZXJhdG9yS2V5LCBpdGVyYXRvckZ1bmMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9lczUgPSByZXF1aXJlKFwiLi4vZXM1L1wiKTtcblxudmFyIF9lczUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXM1KTtcblxudmFyIF9udW1iZXIgPSByZXF1aXJlKFwiLi9udW1iZXIvXCIpO1xuXG52YXIgX251bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXIpO1xuXG52YXIgX2FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXkvXCIpO1xuXG52YXIgX2FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5KTtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKFwiLi9vYmplY3QvXCIpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuL3N5bWJvbC9cIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfc2V0ID0gcmVxdWlyZShcIi4vc2V0L1wiKTtcblxudmFyIF9zZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0KTtcblxudmFyIF9tYXAgPSByZXF1aXJlKFwiLi9tYXAvXCIpO1xuXG52YXIgX21hcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXApO1xuXG52YXIgX3JlZmxlY3QgPSByZXF1aXJlKFwiLi9yZWZsZWN0L1wiKTtcblxudmFyIF9yZWZsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3QpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdCgwLCBfZXM1MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfc3ltYm9sMltcImRlZmF1bHRcIl0pKGVudik7XG5cblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cblx0dmFyIGJvb2xQcm90byA9IGVudi5nbG9iYWwuZ2V0VmFsdWUoXCJCb29sZWFuXCIpLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRib29sUHJvdG8uY2xhc3NOYW1lID0gXCJPYmplY3RcIjtcblxuXHQoMCwgX29iamVjdDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX251bWJlcjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2FycmF5MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfc2V0MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfbWFwMltcImRlZmF1bHRcIl0pKGVudik7XG5cblx0Ly8gc2V0dXAgY2xhc3Mgc3ltYm9sc1xuXHR2YXIgc3RyaW5nVGFnS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwidG9TdHJpbmdUYWdcIik7XG5cdHZhciBzcGVjaWVzS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwic3BlY2llc1wiKTtcblx0W1wiRnVuY3Rpb25cIiwgXCJOdW1iZXJcIiwgXCJCb29sZWFuXCIsIFwiT2JqZWN0XCIsIFwiQXJyYXlcIiwgXCJTdHJpbmdcIiwgXCJEYXRlXCIsIFwiUmVnRXhwXCIsIFwiSlNPTlwiXS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlTmFtZSkge1xuXHRcdHZhciBjdG9yID0gZ2xvYmFsT2JqZWN0LmdldFZhbHVlKHR5cGVOYW1lKTtcblx0XHRjdG9yLmRlZmluZShzdHJpbmdUYWdLZXksIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHR5cGVOYW1lKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0XHR2YXIgc3BlY2llc0dldHRlciA9IGZ1bmN0aW9uIHNwZWNpZXNHZXR0ZXIoKSB7XG5cdFx0XHRyZXR1cm4gY3Rvcjtcblx0XHR9O1xuXHRcdHZhciBzcGVjaWVzR2V0dGVyRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlR2V0dGVyKHNwZWNpZXNHZXR0ZXIsIFwiW1N5bWJvbC5zcGVjaWVzXVwiKTtcblx0XHRjdG9yLmRlZmluZShzcGVjaWVzS2V5LCBudWxsLCB7IGdldHRlcjogc3BlY2llc0dldHRlciwgZ2V0OiBzcGVjaWVzR2V0dGVyRnVuYyB9KTtcblx0fSk7XG5cblx0Ly8gdXBkYXRlIGxlbmd0aCBhdHRyaWJ1dGVzIG9uIGJ1aWx0LWluc1xuXHR2YXIgbGVuZ3RoQXR0ciA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cdGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIkZ1bmN0aW9uXCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgxKSwgbGVuZ3RoQXR0cik7XG5cdGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIk51bWJlclwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSksIGxlbmd0aEF0dHIpO1xuXHRnbG9iYWxPYmplY3QuZ2V0VmFsdWUoXCJCb29sZWFuXCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgxKSwgbGVuZ3RoQXR0cik7XG5cdGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIk9iamVjdFwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSksIGxlbmd0aEF0dHIpO1xuXHRnbG9iYWxPYmplY3QuZ2V0VmFsdWUoXCJBcnJheVwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSksIGxlbmd0aEF0dHIpO1xuXHRnbG9iYWxPYmplY3QuZ2V0VmFsdWUoXCJTdHJpbmdcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDEpLCBsZW5ndGhBdHRyKTtcblx0Z2xvYmFsT2JqZWN0LmdldFZhbHVlKFwiRGF0ZVwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoNyksIGxlbmd0aEF0dHIpO1xuXHRnbG9iYWxPYmplY3QuZ2V0VmFsdWUoXCJSZWdFeHBcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDIpLCBsZW5ndGhBdHRyKTtcblxuXHR2YXIgZnVuY1Byb3RvID0gZW52Lmdsb2JhbC5nZXRWYWx1ZShcIkZ1bmN0aW9uXCIpLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXG5cdHZhciB0aHJvd2VyID0gZnVuY3Rpb24gdGhyb3dlcigpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ2NhbGxlcicsICdjYWxsZWUnLCBhbmQgJ2FyZ3VtZW50cycgcHJvcGVydGllcyBtYXkgbm90IGJlIGFjY2Vzc2VkIG9uIHN0cmljdCBtb2RlIGZ1bmN0aW9ucyBvciB0aGUgYXJndW1lbnRzIG9iamVjdHMgZm9yIGNhbGxzIHRvIHRoZW1cIik7XG5cdH07XG5cblx0dmFyIHRocm93ZXJGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24odGhyb3dlcik7XG5cdHZhciBwcm9wID0ge1xuXHRcdGdldDogdGhyb3dlckZ1bmMsXG5cdFx0Z2V0dGVyOiB0aHJvd2VyLFxuXHRcdHNldDogdGhyb3dlckZ1bmMsXG5cdFx0c2V0dGVyOiB0aHJvd2VyLFxuXHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdGNvbmZpZ3VyYWJsZTogZmFsc2Vcblx0fTtcblxuXHRmdW5jUHJvdG8uZGVmaW5lKFwiY2FsbGVyXCIsIG51bGwsIHByb3ApO1xuXHRmdW5jUHJvdG8uZGVmaW5lKFwiYXJndW1lbnRzXCIsIG51bGwsIHByb3ApO1xuXG5cdCgwLCBfcmVmbGVjdDJbXCJkZWZhdWx0XCJdKShlbnYpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzL1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdGZ1bmN0aW9uIGFzc2VydElzTWFwKG9iaiwgbWV0aG9kTmFtZSkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmosIG1ldGhvZE5hbWUpO1xuXG5cdFx0aWYgKCEoXCJtYXBEYXRhXCIgaW4gb2JqKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIk1ldGhvZCBcIiArIG1ldGhvZE5hbWUgKyBcIiBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyIFwiICsgb2JqLmNsYXNzTmFtZSk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZmluZEluZGV4KG9iaiwga2V5KSB7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxuID0gb2JqLm1hcERhdGEubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHRcdFx0dmFyIGN1cnJlbnQgPSBvYmoubWFwRGF0YVtpXTtcblx0XHRcdGlmIChlbnYub3BzLmFyZVNhbWVPclplcm8oa2V5LCBjdXJyZW50LmtleSkpIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIC0xO1xuXHR9XG5cblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgbWFwQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGl0ZXJhYmxlKSB7XG5cdFx0dmFyIG9iaiwgX2xlbmd0aCwgc2V0dGVyLCBjYWxsZWUsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnksIGtleSwgdmFsdWU7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnN0cnVjdG9yIE1hcCByZXF1aXJlcyAnbmV3J1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0b2JqID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJNYXBcIik7XG5cblx0XHRcdFx0XHRpZiAoIWl0ZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QoaXRlcmFibGUsIFwiTWFwXCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgaXRlcmFibGUpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRfbGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRzZXR0ZXIgPSBvYmouZ2V0VmFsdWUoXCJzZXRcIik7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihzZXR0ZXIsIFwic2V0XCIpO1xuXHRcdFx0XHRcdGNhbGxlZSA9IHNldHRlci5ub2RlIHx8IHNldHRlcjtcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxNDtcblx0XHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBpdGVyYWJsZSwgMCwgX2xlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRcdGtleSA9IGVudHJ5LnZhbHVlLmdldFZhbHVlKFwiMFwiKTtcblx0XHRcdFx0XHR2YWx1ZSA9IGVudHJ5LnZhbHVlLmdldFZhbHVlKFwiMVwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgc2V0dGVyLCBba2V5LCB2YWx1ZV0sIG9iaiwgY2FsbGVlKTtcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTQpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMxO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMjtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNDtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNCk7XG5cblx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDMxKTtcblxuXHRcdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqKTtcblxuXHRcdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzE0LCAyNywgMzEsIDM5XSwgWzMyLCwgMzQsIDM4XV0pO1xuXHR9KSk7XG5cblx0dmFyIHByb3RvID0gbWFwQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cblx0cHJvdG8uZGVmaW5lKFwiY2xlYXJcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGFzc2VydElzTWFwKHRoaXMubm9kZSwgXCJNYXAucHJvdG90eXBlLmNsZWFyXCIpO1xuXHRcdHRoaXMubm9kZS5tYXBEYXRhID0gW107XG5cdFx0cmV0dXJuIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHR9LCAwLCBcIk1hcC5wcm90b3R5cGUuY2xlYXJcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImRlbGV0ZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoa2V5KSB7XG5cdFx0YXNzZXJ0SXNNYXAodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUuZGVsZXRlXCIpO1xuXHRcdHZhciBpbmRleCA9IGZpbmRJbmRleCh0aGlzLm5vZGUsIGtleSk7XG5cdFx0aWYgKGluZGV4ID49IDApIHtcblx0XHRcdHRoaXMubm9kZS5tYXBEYXRhLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKTtcblx0fSwgMSwgXCJNYXAucHJvdG90eXBlLmRlbGV0ZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZm9yRWFjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBtO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRhc3NlcnRJc01hcCh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5mb3JFYWNoXCIpO1xuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBcImNhbGxiYWNrXCIpO1xuXG5cdFx0XHRcdFx0bSA9IHRoaXMubm9kZTtcblxuXHRcdFx0XHRcdHRoaXNBcmcgPSB0aGlzQXJnIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5lYWNoKSh0aGlzLm5vZGUubWFwRGF0YSwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoZSkge1xuXHRcdFx0XHRcdFx0dmFyIHNjb3BlLCBhcmdzO1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZVNjb3BlKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5pbml0KGNhbGxiYWNrLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbZS5rZXksIGUudmFsdWUsIG1dO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5sb2FkQXJncyhjYWxsYmFjay5ub2RlLnBhcmFtcywgYXJncywgY2FsbGJhY2spO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGNhbGxiYWNrLm5vZGUuYm9keSwgY2FsbGJhY2subm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTWFwLnByb3RvdHlwZS5mb3JFYWNoXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzZXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcblx0XHRhc3NlcnRJc01hcCh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5zZXRcIik7XG5cblx0XHR2YXIgaW5kZXggPSBmaW5kSW5kZXgodGhpcy5ub2RlLCBrZXkpO1xuXHRcdGlmIChpbmRleCA+PSAwKSB7XG5cdFx0XHR0aGlzLm5vZGUubWFwRGF0YVtpbmRleF0udmFsdWUgPSB2YWx1ZTtcblx0XHRcdHJldHVybiB0aGlzLm5vZGU7XG5cdFx0fVxuXG5cdFx0dGhpcy5ub2RlLm1hcERhdGEucHVzaCh7IGtleToga2V5LCB2YWx1ZTogdmFsdWUgfSk7XG5cdFx0cmV0dXJuIHRoaXMubm9kZTtcblx0fSwgMiwgXCJNYXAucHJvdG90eXBlLnNldFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZ2V0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRhc3NlcnRJc01hcCh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5nZXRcIik7XG5cblx0XHR2YXIgaW5kZXggPSBmaW5kSW5kZXgodGhpcy5ub2RlLCBrZXkpO1xuXHRcdGlmIChpbmRleCA+PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ub2RlLm1hcERhdGFbaW5kZXhdLnZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0fSwgMSwgXCJNYXAucHJvdG90eXBlLmdldFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaGFzXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRhc3NlcnRJc01hcCh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5oYXNcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZpbmRJbmRleCh0aGlzLm5vZGUsIGtleSkgPj0gMCk7XG5cdH0sIDEsIFwiTWFwLnByb3RvdHlwZS5oYXNcIikpO1xuXG5cdGVudi5nbG9iYWwuZGVmaW5lKFwiTWFwXCIsIG1hcENsYXNzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfTnVtYmVyJE1BWF9TQUZFX0lOVEVHRVIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL251bWJlci9tYXgtc2FmZS1pbnRlZ2VyXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9OdW1iZXIkTUlOX1NBRkVfSU5URUdFUiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvbnVtYmVyL21pbi1zYWZlLWludGVnZXJcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9OdW1iZXIkRVBTSUxPTiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvbnVtYmVyL2Vwc2lsb25cIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdHZhciBNQVhfU0FGRV9JTlRFR0VSID0gX051bWJlciRNQVhfU0FGRV9JTlRFR0VSIHx8IDkwMDcxOTkyNTQ3NDA5OTE7XG5cdHZhciBNSU5fU0FGRV9JTlRFR0VSID0gX051bWJlciRNSU5fU0FGRV9JTlRFR0VSIHx8IC05MDA3MTk5MjU0NzQwOTkxO1xuXG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0ZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcblx0XHRyZXR1cm4gdmFsdWUgJiYgdmFsdWUudHlwZSA9PT0gXCJudW1iZXJcIjtcblx0fVxuXG5cdHZhciBudW1iZXJDbGFzcyA9IGVudi5nbG9iYWwuZ2V0VmFsdWUoXCJOdW1iZXJcIik7XG5cblx0bnVtYmVyQ2xhc3MuZGVmaW5lKFwiaXNOYU5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKCFpc051bWJlcih2YWx1ZSkpIHtcblx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGlzTmFOKHZhbHVlLnRvTmF0aXZlKCkpKTtcblx0fSwgMSwgXCJOdW1iZXIuaXNOYU5cIikpO1xuXG5cdG51bWJlckNsYXNzLmRlZmluZShcImlzRmluaXRlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cdFx0aWYgKGlzTmFOKG51bWJlclZhbHVlKSB8fCAhaXNGaW5pdGUobnVtYmVyVmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0fSwgMSwgXCJOdW1iZXIuaXNGaW5pdGVcIikpO1xuXG5cdG51bWJlckNsYXNzLmRlZmluZShcImlzSW50ZWdlclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZSwgaW50VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmIChpc051bWJlcih2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRudW1iZXJWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cblx0XHRcdFx0XHRpZiAoIShpc05hTihudW1iZXJWYWx1ZSkgfHwgIWlzRmluaXRlKG51bWJlclZhbHVlKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgdmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRpbnRWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShudW1iZXJWYWx1ZSA9PT0gaW50VmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJOdW1iZXIuaXNJbnRlZ2VyXCIpKTtcblxuXHRudW1iZXJDbGFzcy5kZWZpbmUoXCJpc1NhZmVJbnRlZ2VyXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIG51bWJlclZhbHVlLCBpbnRWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdG51bWJlclZhbHVlID0gdmFsdWUudG9OYXRpdmUoKTtcblxuXHRcdFx0XHRcdGlmICghKGlzTmFOKG51bWJlclZhbHVlKSB8fCAhaXNGaW5pdGUobnVtYmVyVmFsdWUpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCB2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdGludFZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKGludFZhbHVlICE9PSBudW1iZXJWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTWF0aC5hYnMobnVtYmVyVmFsdWUpIDw9IE1BWF9TQUZFX0lOVEVHRVIpKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTnVtYmVyLmlzU2FmZUludGVnZXJcIikpO1xuXG5cdG51bWJlckNsYXNzLmRlZmluZShcInBhcnNlRmxvYXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiB0b1N0cmluZyhlbnYsIHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocGFyc2VGbG9hdChzdHJpbmdWYWx1ZSkpKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJOdW1iZXIucGFyc2VGbG9hdFwiKSk7XG5cblx0bnVtYmVyQ2xhc3MuZGVmaW5lKFwicGFyc2VJbnRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUsIHJhZGl4KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gdG9TdHJpbmcoZW52LCB2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCByYWRpeCwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJhZGl4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHBhcnNlSW50KHN0cmluZ1ZhbHVlLCByYWRpeCkpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJOdW1iZXIucGFyc2VJbnRcIikpO1xuXG5cdC8vIGNvbnN0YW50c1xuXHR2YXIgZnJvemVuID0geyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cdG51bWJlckNsYXNzLmRlZmluZShcIkVQU0lMT05cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoX051bWJlciRFUFNJTE9OIHx8IDIuMjIwNDQ2MDQ5MjUwMzEzZS0xNiksIGZyb3plbik7XG5cdG51bWJlckNsYXNzLmRlZmluZShcIk1BWF9TQUZFX0lOVEVHRVJcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTUFYX1NBRkVfSU5URUdFUiksIGZyb3plbik7XG5cdG51bWJlckNsYXNzLmRlZmluZShcIk1JTl9TQUZFX0lOVEVHRVJcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTUlOX1NBRkVfSU5URUdFUiksIGZyb3plbik7XG5cblx0Ly8gcHJvdG90eXBlcyBpbiBFUzYgY2Fubm90IGJlIGNvZXJjZWQgaW50byBwcmltaXRpdmVzXG5cdHZhciBwcm90byA9IG51bWJlckNsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRwcm90by5jbGFzc05hbWUgPSBcIk9iamVjdFwiO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF9yZWZsZWN0ID0gcmVxdWlyZShcIi4uL3JlZmxlY3QvXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBvYmplY3RDbGFzcyA9IGVudi5nbG9iYWwuZ2V0VmFsdWUoXCJPYmplY3RcIik7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiaXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKGEsIGIpIHtcblx0XHR2YXIgcmVzdWx0ID0gZW52Lm9wcy5hcmVTYW1lKGEgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIGIgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXN1bHQpO1xuXHR9LCAyLCBcIk9iamVjdC5pc1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiYXNzaWduXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0XHR2YXIgdG8gPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRhcmdldCwgdHJ1ZSk7XG5cblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc291cmNlcyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdHNvdXJjZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAobmV4dCkge1xuXHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQobmV4dCkpIHtcblx0XHRcdFx0dmFyIHNvdXJjZSA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgbmV4dCk7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBzb3VyY2UucHJvcGVydGllcykge1xuXHRcdFx0XHRcdGlmIChzb3VyY2UucHJvcGVydGllc1trZXldLmVudW1lcmFibGUpIHtcblx0XHRcdFx0XHRcdHRvLnB1dFZhbHVlKGtleSwgc291cmNlLmdldFZhbHVlKGtleSksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdG87XG5cdH0sIDIsIFwiT2JqZWN0LmFzc2lnblwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0dmFyIG8gPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIG9iaiwgdHJ1ZSk7XG5cdFx0dmFyIGtleXMgPSBvLmdldE93blByb3BlcnR5S2V5cygpLm1hcChmdW5jdGlvbiAoaykge1xuXHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGspO1xuXHRcdH0pO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZUFycmF5KGtleXMpO1xuXHR9LCAxLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdHZhciBvID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCBvYmosIHRydWUpO1xuXHRcdHZhciBrZXlzID0gby5nZXRPd25Qcm9wZXJ0eUtleXMoXCJTeW1ib2xcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoa2V5cyk7XG5cdH0sIDEsIFwiT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwia2V5c1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0dmFyIG8gPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIG9iaiwgdHJ1ZSk7XG5cdFx0dmFyIGtleXMgPSBbXTtcblx0XHRmb3IgKHZhciBrZXkgaW4gby5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRpZiAoby5wcm9wZXJ0aWVzW2tleV0uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRrZXlzLnB1c2gob2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoa2V5cyk7XG5cdH0sIDEsIFwiT2JqZWN0LmtleXNcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcInNldFByb3RvdHlwZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQsIHByb3RvKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRhcmdldCwgXCJzZXRQcm90b3R5cGVPZlwiKTtcblx0XHRpZiAoIWNvbnRyYWN0cy5pc09iamVjdChwcm90bykgJiYgIWNvbnRyYWN0cy5pc051bGwocHJvdG8pKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IHByb3RvdHlwZSBtYXkgb25seSBiZSBhbiBPYmplY3Qgb3IgbnVsbFwiKTtcblx0XHR9XG5cblx0XHRpZiAoY29udHJhY3RzLmlzT2JqZWN0KHRhcmdldCkgJiYgISgwLCBfcmVmbGVjdC5zZXRQcm90b3R5cGUpKHRhcmdldCwgcHJvdG8pKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKHRhcmdldC5jbGFzc05hbWUgKyBcIiBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9LCAyLCBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiKSk7XG5cblx0dmFyIHByb3RvID0gb2JqZWN0Q2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHZhciBzdHJpbmdUYWdLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJ0b1N0cmluZ1RhZ1wiKTtcblxuXHRmdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvYmopIHtcblx0XHR2YXIgdGFnID0gb2JqLmNsYXNzTmFtZTtcblxuXHRcdGlmICghY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKG9iaikpIHtcblx0XHRcdHZhciB0YWdQcm9wZXJ0eSA9IG9iai5nZXRQcm9wZXJ0eShzdHJpbmdUYWdLZXkpO1xuXHRcdFx0aWYgKHRhZ1Byb3BlcnR5KSB7XG5cdFx0XHRcdHZhciB0YWdWYWx1ZSA9IHRhZ1Byb3BlcnR5LmdldFZhbHVlKCk7XG5cdFx0XHRcdGlmICh0YWdWYWx1ZSAmJiB0YWdWYWx1ZS50eXBlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0dGFnID0gdGFnVmFsdWUudG9OYXRpdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIltvYmplY3QgXCIgKyB0YWcgKyBcIl1cIik7XG5cdH07XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBvYmplY3RUb1N0cmluZyh0aGlzLm5vZGUpO1xuXHR9LCAwLCBcIk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRvTG9jYWxlU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIk9iamVjdC5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmdcIik7XG5cdFx0cmV0dXJuIG9iamVjdFRvU3RyaW5nKHRoaXMubm9kZSk7XG5cdH0sIDAsIFwiT2JqZWN0LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZ1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zZXRQcm90b3R5cGUgPSBzZXRQcm90b3R5cGU7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2VzNU9iamVjdCA9IHJlcXVpcmUoXCIuLi8uLi9lczUvb2JqZWN0L1wiKTtcblxuZnVuY3Rpb24gc2V0UHJvdG90eXBlKHRhcmdldCwgcHJvdG8pIHtcblx0Ly8gY2hlY2sgd2hldGhlciBwcm90b3R5cGUgY2hhaW4gYWxyZWFkeSBpbmNsdWRlcyBvYmplY3Rcblx0dmFyIHRhcmdldFByb3RvID0gdGFyZ2V0LmdldFByb3RvdHlwZSgpO1xuXHRpZiAodGFyZ2V0UHJvdG8gPT09IHByb3RvKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIXRhcmdldC5leHRlbnNpYmxlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0dmFyIGN1cnJlbnQgPSBwcm90bztcblx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRpZiAoY3VycmVudCA9PT0gdGFyZ2V0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Y3VycmVudCA9IGN1cnJlbnQuZ2V0UHJvdG90eXBlKCk7XG5cdH1cblxuXHR0YXJnZXQuc2V0UHJvdG90eXBlKHByb3RvKTtcblx0cmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblxuXHR2YXIgcmVmbGVjdENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cmVmbGVjdENsYXNzLmRlZmluZShcImFwcGx5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgdGhpc0FyZywgYXJnc0FycmF5KSB7XG5cdFx0dmFyIGFyZ3MsIGNhbGxlZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24odGFyZ2V0LCBcInRhcmdldFwiKTtcblx0XHRcdFx0XHRpZiAoYXJnc0FycmF5KSB7XG5cdFx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QoYXJnc0FycmF5LCBcIlJlZmxlY3QuYXBwbHlcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9BcnJheSkoZW52LCBhcmdzQXJyYXkpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjYWxsZWUgPSB0YXJnZXQubmF0aXZlID8gdGFyZ2V0IDogdGFyZ2V0Lm5vZGU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgdGFyZ2V0LCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAzLCBcIlJlZmxlY3QuYXBwbHlcIikpO1xuXG5cdHJlZmxlY3RDbGFzcy5kZWZpbmUoXCJjb25zdHJ1Y3RcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBhcmdzQXJyYXksIG5ld1RhcmdldCkge1xuXHRcdHZhciBhcmdzLCBjYWxsZWUsIHByb3RvLCBvYmo7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKHRhcmdldCwgXCJ0YXJnZXRcIik7XG5cdFx0XHRcdFx0aWYgKGFyZ3NBcnJheSkge1xuXHRcdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KGFyZ3NBcnJheSwgXCJSZWZsZWN0LmNvbnN0cnVjdFwiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KShlbnYsIGFyZ3NBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNhbGxlZSA9IHRhcmdldC5ub2RlIHx8IHRhcmdldDtcblx0XHRcdFx0XHRwcm90byA9IG5ld1RhcmdldCB8fCB0YXJnZXQ7XG5cdFx0XHRcdFx0b2JqID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QocHJvdG8pO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCB0YXJnZXQsIGFyZ3MsIG9iaiwgY2FsbGVlLCB0cnVlKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlJlZmxlY3QuY29uc3RydWN0XCIpKTtcblxuXHRyZWZsZWN0Q2xhc3MuZGVmaW5lKFwiZGVmaW5lUHJvcGVydHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuXHRcdHZhciBrZXk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdCh0YXJnZXQsIFwiUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eVwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShlbnYsIHByb3BlcnR5S2V5KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0a2V5ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IG9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfZXM1T2JqZWN0LmRlZmluZVByb3BlcnR5KShlbnYsIHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLCBmYWxzZSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnQwLmNyZWF0ZVByaW1pdGl2ZS5jYWxsKGNvbnRleHQkMiQwLnQwLCBjb250ZXh0JDIkMC50MSkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAzLCBcIlJlZmxlY3QuZGVmaW5lUHJvcGVydHlcIikpO1xuXG5cdHJlZmxlY3RDbGFzcy5kZWZpbmUoXCJkZWxldGVQcm9wZXJ0eVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG5cdFx0dmFyIGtleTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KHRhcmdldCwgXCJSZWZsZWN0LmRlbGV0ZVByb3BlcnR5XCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKGVudiwgcHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGFyZ2V0LmRlbGV0ZVByb3BlcnR5KGtleSwgZmFsc2UpKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiUmVmbGVjdC5kZWxldGVQcm9wZXJ0eVwiKSk7XG5cblx0cmVmbGVjdENsYXNzLmRlZmluZShcImdldFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHByb3BlcnR5S2V5LCByZWNlaXZlcikge1xuXHRcdHZhciBrZXksIHByb3BlcnR5O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QodGFyZ2V0LCBcIlJlZmxlY3QuZ2V0XCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKGVudiwgcHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHByb3BlcnR5ID0gdGFyZ2V0LmdldFByb3BlcnR5KGtleSk7XG5cblx0XHRcdFx0XHRpZiAoIXByb3BlcnR5KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHByb3BlcnR5LmJpbmQocmVjZWl2ZXIgfHwgdGFyZ2V0KTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHByb3BlcnR5LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWZsZWN0LmdldFwiKSk7XG5cblx0cmVmbGVjdENsYXNzLmRlZmluZShcImdldE93blByb3BlcnR5RGVzY3JpcHRvclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdCh0YXJnZXQsIFwiUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfZXM1T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcikoZW52LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKSk7XG5cblx0cmVmbGVjdENsYXNzLmRlZmluZShcImdldFByb3RvdHlwZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QodGFyZ2V0LCBcIlJlZmxlY3QuZ2V0UHJvdG90eXBlT2ZcIik7XG5cdFx0cmV0dXJuIHRhcmdldC5nZXRQcm90b3R5cGUoKTtcblx0fSwgMSwgXCJSZWZsZWN0LmdldFByb3RvdHlwZU9mXCIpKTtcblxuXHRyZWZsZWN0Q2xhc3MuZGVmaW5lKFwiaGFzXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcblx0XHR2YXIga2V5O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QodGFyZ2V0LCBcIlJlZmxlY3QuaGFzXCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKGVudiwgcHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGFyZ2V0LmhhcyhrZXkpKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiUmVmbGVjdC5oYXNcIikpO1xuXG5cdHJlZmxlY3RDbGFzcy5kZWZpbmUoXCJpc0V4dGVuc2libGVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdCh0YXJnZXQsIFwiUmVmbGVjdC5pc0V4dGVuc2libGVcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRhcmdldC5leHRlbnNpYmxlKTtcblx0fSwgMSwgXCJSZWZsZWN0LmlzRXh0ZW5zaWJsZVwiKSk7XG5cblx0cmVmbGVjdENsYXNzLmRlZmluZShcIm93bktleXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdCh0YXJnZXQsIFwiUmVmbGVjdC5vd25LZXlzXCIpO1xuXG5cdFx0dmFyIGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGZvciAodmFyIGtleSBpbiB0YXJnZXQucHJvcGVydGllcykge1xuXHRcdFx0dmFyIHZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KTtcblx0XHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCsrLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9LCBmYWxzZSwgZW52KTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gdGFyZ2V0LnN5bWJvbHMpIHtcblx0XHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCsrLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWJlcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdGFyZ2V0LnN5bWJvbHNba2V5XS5rZXkgfSwgZmFsc2UsIGVudik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFycjtcblx0fSwgMSwgXCJSZWZsZWN0Lm93bktleXNcIikpO1xuXG5cdHJlZmxlY3RDbGFzcy5kZWZpbmUoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KHRhcmdldCwgXCJSZWZsZWN0LnByZXZlbnRFeHRlbnNpb25zXCIpO1xuXHRcdHRhcmdldC5wcmV2ZW50RXh0ZW5zaW9ucygpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0fSwgMSwgXCJSZWZsZWN0LnByZXZlbnRFeHRlbnNpb25zXCIpKTtcblxuXHRyZWZsZWN0Q2xhc3MuZGVmaW5lKFwic2V0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgcHJvcGVydHlLZXksIHZhbHVlLCByZWNlaXZlcikge1xuXHRcdHZhciBrZXksIGRlc2NyaXB0b3IsIHJlY2VpdmVyRGVzY3JpcHRvciwgcmVzdWx0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QodGFyZ2V0LCBcIlJlZmxlY3Quc2V0XCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKGVudiwgcHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0cmVjZWl2ZXIgPSByZWNlaXZlciB8fCB0YXJnZXQ7XG5cblx0XHRcdFx0XHRkZXNjcmlwdG9yID0gdGFyZ2V0LmdldFByb3BlcnR5KGtleSk7XG5cblx0XHRcdFx0XHRpZiAoIWRlc2NyaXB0b3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghKHRhcmdldCAhPT0gcmVjZWl2ZXIgJiYgcmVjZWl2ZXIub3ducyhrZXkpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVjZWl2ZXJEZXNjcmlwdG9yID0gcmVjZWl2ZXIuZ2V0UHJvcGVydHkoa2V5KTtcblxuXHRcdFx0XHRcdGlmIChyZWNlaXZlckRlc2NyaXB0b3IuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpZiAoZGVzY3JpcHRvci5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGRlc2NyaXB0b3IuYmluZChyZWNlaXZlcik7XG5cdFx0XHRcdFx0ZGVzY3JpcHRvci5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKSk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRpZiAocmVjZWl2ZXIub3ducyhrZXkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHJlY2VpdmVyLmRlZmluZU93blByb3BlcnR5KGtleSwge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSwgZmFsc2UsIGVudikpKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdGlmIChkZXNjcmlwdG9yLmNhblVwZGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cblx0XHRcdFx0XHRyZWNlaXZlci5wdXRWYWx1ZShrZXksIHZhbHVlLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRcdHJlc3VsdCA9IHJlY2VpdmVyLmRlZmluZU93blByb3BlcnR5KGtleSwge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXN1bHQpKTtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDMsIFwiUmVmbGVjdC5zZXRcIikpO1xuXG5cdHJlZmxlY3RDbGFzcy5kZWZpbmUoXCJzZXRQcm90b3R5cGVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0LCBwcm90bykge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdCh0YXJnZXQsIFwiUmVmbGVjdC5zZXRQcm90b3R5cGVPZlwiKTtcblx0XHRpZiAocHJvdG8gIT09IF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCAmJiBwcm90by50eXBlICE9PSBcIm9iamVjdFwiKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHByb3RvdHlwZSBtdXN0IGJlIGFuIG9iamVjdCBvciBudWxsXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzZXRQcm90b3R5cGUodGFyZ2V0LCBwcm90bykpO1xuXHR9LCAyLCBcIlJlZmxlY3Quc2V0UHJvdG90eXBlT2ZcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJSZWZsZWN0XCIsIHJlZmxlY3RDbGFzcyk7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzXCIpO1xuXG52YXIgX2l0ZXJhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcnMpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHRmdW5jdGlvbiBhc3NlcnRJc1NldChvYmosIG1ldGhvZE5hbWUpIHtcblx0XHRpZiAoIShcInNldERhdGFcIiBpbiBvYmopKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWV0aG9kIFwiICsgbWV0aG9kTmFtZSArIFwiIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXIgXCIgKyBvYmouY2xhc3NOYW1lKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgc2V0Q2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGl0ZXJhYmxlKSB7XG5cdFx0dmFyIG9iaiwgX2xlbmd0aCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBlbnRyeTtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgU2V0IHJlcXVpcmVzICduZXcnXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRvYmogPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlNldFwiKTtcblxuXHRcdFx0XHRcdGlmICghaXRlcmFibGUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9sZW5ndGggPSBpdGVyYWJsZS5nZXRWYWx1ZShcImxlbmd0aFwiKS50b05hdGl2ZSgpO1xuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDg7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgaXRlcmFibGUsIDAsIF9sZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcC52YWx1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLnRyeUV4ZWN1dGUpKGVudiwgb2JqLCBcImFkZFwiLCBbZW50cnkudmFsdWVdKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKGNvbnRleHQkMiQwLnQwID09PSBmYWxzZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9wZXJ0eSAnYWRkJyBvZiBvYmplY3QgIzxTZXQ+IGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDIyO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSg4KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjc7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0XHRjYXNlIDMyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjkpO1xuXG5cdFx0XHRcdGNhc2UgMzM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyNik7XG5cblx0XHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iaik7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s4LCAyMiwgMjYsIDM0XSwgWzI3LCwgMjksIDMzXV0pO1xuXHR9KSwgbnVsbCwgeyBuYW1lOiBcIlNldFwiIH0pO1xuXG5cdHZhciBwcm90byA9IHNldENsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXG5cdHByb3RvLmRlZmluZShcImFkZFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5hZGRcIik7XG5cblx0XHRpZiAodGhpcy5ub2RlLnNldERhdGEuZXZlcnkoZnVuY3Rpb24gKGUpIHtcblx0XHRcdHJldHVybiAhZW52Lm9wcy5hcmVTYW1lT3JaZXJvKGUsIHZhbHVlKTtcblx0XHR9KSkge1xuXHRcdFx0dGhpcy5ub2RlLnNldERhdGEucHVzaCh2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubm9kZTtcblx0fSwgMSwgXCJTZXQucHJvdG90eXBlLmFkZFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZGVsZXRlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGFzc2VydElzU2V0KHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmRlbGV0ZVwiKTtcblxuXHRcdHZhciBlbnRyaWVzID0gdGhpcy5ub2RlLnNldERhdGE7XG5cdFx0dmFyIGluZGV4ID0gZW50cmllcy5sZW5ndGg7XG5cblx0XHR3aGlsZSAoaW5kZXgtLSkge1xuXHRcdFx0aWYgKGVudi5vcHMuYXJlU2FtZU9yWmVybyhlbnRyaWVzW2luZGV4XSwgdmFsdWUpKSB7XG5cdFx0XHRcdGVudHJpZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdH0sIDEsIFwiU2V0LnByb3RvdHlwZS5kZWxldGVcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImhhc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5oYXNcIik7XG5cdFx0dmFyIGhhcyA9IHRoaXMubm9kZS5zZXREYXRhLnNvbWUoZnVuY3Rpb24gKGUpIHtcblx0XHRcdHJldHVybiBlbnYub3BzLmFyZVNhbWVPclplcm8oZSwgdmFsdWUpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShoYXMpO1xuXHR9LCAxLCBcIlNldC5wcm90b3R5cGUuaGFzXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJjbGVhclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0YXNzZXJ0SXNTZXQodGhpcy5ub2RlLCBcIlNldC5wcm90b3R5cGUuY2xlYXJcIik7XG5cdFx0dGhpcy5ub2RlLnNldERhdGEgPSBbXTtcblx0fSwgMCwgXCJTZXQucHJvdG90eXBlLmNsZWFyXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJmb3JFYWNoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIHM7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFzc2VydElzU2V0KHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmZvckVhY2hcIik7XG5cblx0XHRcdFx0XHRzID0gdGhpcy5ub2RlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkodGhpcy5ub2RlLnNldERhdGEsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGUpIHtcblx0XHRcdFx0XHRcdHZhciBzY29wZSwgYXJncztcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVTY29wZSh0aGlzQXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuaW5pdChjYWxsYmFjay5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gW2UsIGUsIHNdO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5sb2FkQXJncyhjYWxsYmFjay5ub2RlLnBhcmFtcywgYXJncywgY2FsbGJhY2spO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGNhbGxiYWNrLm5vZGUuYm9keSwgY2FsbGJhY2subm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU2V0LnByb3RvdHlwZS5mb3JFYWNoXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGFzc2VydElzU2V0KHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLnZhbHVlc1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvcih0aGlzLm5vZGUudmFsdWVzKCkpO1xuXHR9LCAwLCBcIlNldC5wcm90b3R5cGUudmFsdWVzXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJrZXlzXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5rZXlzXCIpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKHRoaXMubm9kZS5rZXlzKCkpO1xuXHR9LCAwLCBcIlNldC5wcm90b3R5cGUua2V5c1wiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIlNldFwiLCBzZXRDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdHZhciBmcm96ZW4gPSB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfTtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgc3ltYm9sQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGRlc2MpIHtcblx0XHR2YXIgZGVzY1N0cmluZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCF0aGlzLmlzTmV3KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIGRlc2MpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRkZXNjU3RyaW5nID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3ltYm9sXCIsIGRlc2NTdHJpbmcpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSk7XG5cblx0c3ltYm9sQ2xhc3MuZGVmaW5lKFwiZm9yXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGtleSkge1xuXHRcdHZhciBrZXlTdHJpbmcsIGluc3RhbmNlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRrZXlTdHJpbmcgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGluc3RhbmNlID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KGtleVN0cmluZyk7XG5cblx0XHRcdFx0XHRpZiAoIWluc3RhbmNlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgaW5zdGFuY2UpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3ltYm9sXCIsIGtleVN0cmluZykpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN5bWJvbC5mb3JcIikpO1xuXG5cdHN5bWJvbENsYXNzLmRlZmluZShcImtleUZvclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoc3ltKSB7XG5cdFx0cmV0dXJuIF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUluc3RhbmNlKHN5bSkgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH0sIDEsIFwiU3ltYm9sLmtleUZvclwiKSk7XG5cblx0dmFyIHByb3RvID0gc3ltYm9sQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUgPSBcIlN5bWJvbChcIiArIHRoaXMubm9kZS5kZXNjcmlwdGlvbiArIFwiKVwiO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZSk7XG5cdH0pKTtcblxuXHRmdW5jdGlvbiBjcmVhdGVLbm93blN5bWJvbChrZXkpIHtcblx0XHR2YXIgc3ltID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTeW1ib2xcIiwgXCJAQFwiICsga2V5KTtcblxuXHRcdC8vIGFkZCB0byBnbG9iYWwgcmVnaXN0cnlcblx0XHRfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuYWRkKGtleSwgc3ltKTtcblxuXHRcdHN5bWJvbENsYXNzLmRlZmluZShrZXksIHN5bSwgZnJvemVuKTtcblx0XHRyZXR1cm4gc3ltO1xuXHR9XG5cblx0Y3JlYXRlS25vd25TeW1ib2woXCJoYXNJbnN0YW5jZVwiKTtcblx0Y3JlYXRlS25vd25TeW1ib2woXCJpc0NvbmNhdFNwcmVhZGFibGVcIik7XG5cdGNyZWF0ZUtub3duU3ltYm9sKFwiaXRlcmF0b3JcIik7XG5cdGNyZWF0ZUtub3duU3ltYm9sKFwicmVwbGFjZVwiKTtcblx0Y3JlYXRlS25vd25TeW1ib2woXCJzcGVjaWVzXCIpO1xuXG5cdHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9IGNyZWF0ZUtub3duU3ltYm9sKFwidG9TdHJpbmdUYWdcIik7XG5cdHByb3RvLmRlZmluZSh0b1N0cmluZ1RhZ1N5bWJvbCwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJTeW1ib2xcIiksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdGVudi5nbG9iYWwuZGVmaW5lKFwiU3ltYm9sXCIsIHN5bWJvbENsYXNzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW3dhbGtdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuZnVuY3Rpb24gd2Fsayhub2RlKSB7XG5cdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIG47XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB3YWxrJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghQXJyYXkuaXNBcnJheShub2RlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQ7XG5cdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihub2RlKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobiksIFwidDBcIiwgOSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDE0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwW1wiY2F0Y2hcIl0oNCk7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDEkMC50MTtcblxuXHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDE4O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTk7XG5cblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyMTtcblxuXHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMjEpO1xuXG5cdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDE4KTtcblxuXHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiKTtcblxuXHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblxuXHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBub2RlLnR5cGU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSBjb250ZXh0JDEkMC50MiA9PT0gXCJBcnJheUV4cHJlc3Npb25cIiA/IDMyIDogY29udGV4dCQxJDAudDIgPT09IFwiQXNzaWdubWVudEV4cHJlc3Npb25cIiA/IDM1IDogY29udGV4dCQxJDAudDIgPT09IFwiQmluYXJ5RXhwcmVzc2lvblwiID8gMzggOiBjb250ZXh0JDEkMC50MiA9PT0gXCJMb2dpY2FsRXhwcmVzc2lvblwiID8gMzggOiBjb250ZXh0JDEkMC50MiA9PT0gXCJCbG9ja1N0YXRlbWVudFwiID8gNDEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJMYWJlbGVkU3RhdGVtZW50XCIgPyA0MSA6IGNvbnRleHQkMSQwLnQyID09PSBcIlByb2dyYW1cIiA/IDQxIDogY29udGV4dCQxJDAudDIgPT09IFwiQ2FsbEV4cHJlc3Npb25cIiA/IDQzIDogY29udGV4dCQxJDAudDIgPT09IFwiTmV3RXhwcmVzc2lvblwiID8gNDMgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJDYXRjaENsYXVzZVwiID8gNDYgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJDb25kaXRpb25hbEV4cHJlc3Npb25cIiA/IDQ5IDogY29udGV4dCQxJDAudDIgPT09IFwiSWZTdGF0ZW1lbnRcIiA/IDQ5IDogY29udGV4dCQxJDAudDIgPT09IFwiRG9XaGlsZVN0YXRlbWVudFwiID8gNTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJFeHByZXNzaW9uU3RhdGVtZW50XCIgPyA1NyA6IGNvbnRleHQkMSQwLnQyID09PSBcIkZvclN0YXRlbWVudFwiID8gNTkgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJGb3JJblN0YXRlbWVudFwiID8gNjcgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIgPyA3MSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkZ1bmN0aW9uRXhwcmVzc2lvblwiID8gNzEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJNZW1iZXJFeHByZXNzaW9uXCIgPyA3NiA6IGNvbnRleHQkMSQwLnQyID09PSBcIk9iamVjdEV4cHJlc3Npb25cIiA/IDgwIDogY29udGV4dCQxJDAudDIgPT09IFwiUHJvcGVydHlcIiA/IDgyIDogY29udGV4dCQxJDAudDIgPT09IFwiUmV0dXJuU3RhdGVtZW50XCIgPyA4NCA6IGNvbnRleHQkMSQwLnQyID09PSBcIlNlcXVlbmNlRXhwcmVzc2lvblwiID8gODcgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJTd2l0Y2hTdGF0ZW1lbnRcIiA/IDg5IDogY29udGV4dCQxJDAudDIgPT09IFwiU3dpdGNoQ2FzZVwiID8gOTIgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJUaHJvd1N0YXRlbWVudFwiID8gOTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJVbmFyeUV4cHJlc3Npb25cIiA/IDk0IDogY29udGV4dCQxJDAudDIgPT09IFwiVXBkYXRlRXhwcmVzc2lvblwiID8gOTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJUcnlTdGF0ZW1lbnRcIiA/IDk2IDogY29udGV4dCQxJDAudDIgPT09IFwiVmFyaWFibGVEZWNsYXJhdGlvblwiID8gMTAyIDogY29udGV4dCQxJDAudDIgPT09IFwiVmFyaWFibGVEZWNsYXJhdG9yXCIgPyAxMDQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJXaGlsZVN0YXRlbWVudFwiID8gMTA4IDogY29udGV4dCQxJDAudDIgPT09IFwiV2l0aFN0YXRlbWVudFwiID8gMTExIDogY29udGV4dCQxJDAudDIgPT09IFwiQnJlYWtTdGF0ZW1lbnRcIiA/IDExNCA6IGNvbnRleHQkMSQwLnQyID09PSBcIkNvbnRpbnVlU3RhdGVtZW50XCIgPyAxMTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJFbXB0eVN0YXRlbWVudFwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiSWRlbnRpZmllclwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiTGl0ZXJhbFwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiVGhpc0V4cHJlc3Npb25cIiA/IDExNCA6IDExNTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzI6XG5cdFx0XHRcdGlmICghbm9kZS5lbGVtZW50cykge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5lbGVtZW50cyksIFwidDNcIiwgMzQpO1xuXG5cdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnJpZ2h0KSwgXCJ0NFwiLCAzNik7XG5cblx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5sZWZ0KSwgXCJ0NVwiLCAzNyk7XG5cblx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUubGVmdCksIFwidDZcIiwgMzkpO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucmlnaHQpLCBcInQ3XCIsIDQwKTtcblxuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0OFwiLCA0Mik7XG5cblx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDQzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuY2FsbGVlKSwgXCJ0OVwiLCA0NCk7XG5cblx0XHRcdGNhc2UgNDQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5hcmd1bWVudHMpLCBcInQxMFwiLCA0NSk7XG5cblx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDQ2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucGFyYW0pLCBcInQxMVwiLCA0Nyk7XG5cblx0XHRcdGNhc2UgNDc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MTJcIiwgNDgpO1xuXG5cdFx0XHRjYXNlIDQ4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA0OTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnRlc3QpLCBcInQxM1wiLCA1MCk7XG5cblx0XHRcdGNhc2UgNTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5jb25zZXF1ZW50KSwgXCJ0MTRcIiwgNTEpO1xuXG5cdFx0XHRjYXNlIDUxOlxuXHRcdFx0XHRpZiAoIW5vZGUuYWx0ZXJuYXRlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQobm9kZS5hbHRlcm5hdGUsIFwidDE1XCIsIDUzKTtcblxuXHRcdFx0Y2FzZSA1Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MTZcIiwgNTUpO1xuXG5cdFx0XHRjYXNlIDU1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudGVzdCksIFwidDE3XCIsIDU2KTtcblxuXHRcdFx0Y2FzZSA1Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNTc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5leHByZXNzaW9uKSwgXCJ0MThcIiwgNTgpO1xuXG5cdFx0XHRjYXNlIDU4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA1OTpcblx0XHRcdFx0aWYgKCFub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaW5pdCksIFwidDE5XCIsIDYxKTtcblxuXHRcdFx0Y2FzZSA2MTpcblx0XHRcdFx0aWYgKCFub2RlLnRlc3QpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudGVzdCksIFwidDIwXCIsIDYzKTtcblxuXHRcdFx0Y2FzZSA2Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQyMVwiLCA2NCk7XG5cblx0XHRcdGNhc2UgNjQ6XG5cdFx0XHRcdGlmICghbm9kZS51cGRhdGUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudXBkYXRlKSwgXCJ0MjJcIiwgNjYpO1xuXG5cdFx0XHRjYXNlIDY2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA2Nzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnJpZ2h0KSwgXCJ0MjNcIiwgNjgpO1xuXG5cdFx0XHRjYXNlIDY4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUubGVmdCksIFwidDI0XCIsIDY5KTtcblxuXHRcdFx0Y2FzZSA2OTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQyNVwiLCA3MCk7XG5cblx0XHRcdGNhc2UgNzA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDcxOlxuXHRcdFx0XHRpZiAoIW5vZGUuaWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNzM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaWQpLCBcInQyNlwiLCA3Myk7XG5cblx0XHRcdGNhc2UgNzM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5wYXJhbXMpLCBcInQyN1wiLCA3NCk7XG5cblx0XHRcdGNhc2UgNzQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MjhcIiwgNzUpO1xuXG5cdFx0XHRjYXNlIDc1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA3Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLm9iamVjdCksIFwidDI5XCIsIDc3KTtcblxuXHRcdFx0Y2FzZSA3Nzpcblx0XHRcdFx0aWYgKCFub2RlLmNvbXB1dGVkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnByb3BlcnR5KSwgXCJ0MzBcIiwgNzkpO1xuXG5cdFx0XHRjYXNlIDc5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA4MDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnByb3BlcnRpZXMpLCBcInQzMVwiLCA4MSk7XG5cblx0XHRcdGNhc2UgODE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDgyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudmFsdWUpLCBcInQzMlwiLCA4Myk7XG5cblx0XHRcdGNhc2UgODM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDg0OlxuXHRcdFx0XHRpZiAoIW5vZGUuYXJndW1lbnQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYXJndW1lbnQpLCBcInQzM1wiLCA4Nik7XG5cblx0XHRcdGNhc2UgODY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDg3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZXhwcmVzc2lvbnMpLCBcInQzNFwiLCA4OCk7XG5cblx0XHRcdGNhc2UgODg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDg5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZGlzY3JpbWluYW50KSwgXCJ0MzVcIiwgOTApO1xuXG5cdFx0XHRjYXNlIDkwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuY2FzZXMpLCBcInQzNlwiLCA5MSk7XG5cblx0XHRcdGNhc2UgOTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDkyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuY29uc2VxdWVudCksIFwidDM3XCIsIDkzKTtcblxuXHRcdFx0Y2FzZSA5Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgOTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5hcmd1bWVudCksIFwidDM4XCIsIDk1KTtcblxuXHRcdFx0Y2FzZSA5NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgOTY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ibG9jayksIFwidDM5XCIsIDk3KTtcblxuXHRcdFx0Y2FzZSA5Nzpcblx0XHRcdFx0aWYgKCFub2RlLmhhbmRsZXIpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaGFuZGxlciksIFwidDQwXCIsIDk5KTtcblxuXHRcdFx0Y2FzZSA5OTpcblx0XHRcdFx0aWYgKCFub2RlLmZpbmFsaXplcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZmluYWxpemVyKSwgXCJ0NDFcIiwgMTAxKTtcblxuXHRcdFx0Y2FzZSAxMDE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDEwMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmRlY2xhcmF0aW9ucyksIFwidDQyXCIsIDEwMyk7XG5cblx0XHRcdGNhc2UgMTAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMDQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5pZCksIFwidDQzXCIsIDEwNSk7XG5cblx0XHRcdGNhc2UgMTA1OlxuXHRcdFx0XHRpZiAoIW5vZGUuaW5pdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaW5pdCksIFwidDQ0XCIsIDEwNyk7XG5cblx0XHRcdGNhc2UgMTA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS50ZXN0KSwgXCJ0NDVcIiwgMTA5KTtcblxuXHRcdFx0Y2FzZSAxMDk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0NDZcIiwgMTEwKTtcblxuXHRcdFx0Y2FzZSAxMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDExMTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLm9iamVjdCksIFwidDQ3XCIsIDExMik7XG5cblx0XHRcdGNhc2UgMTEyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDQ4XCIsIDExMyk7XG5cblx0XHRcdGNhc2UgMTEzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDExNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcywgW1s0LCAxNCwgMTgsIDI2XSwgWzE5LCwgMjEsIDI1XV0pO1xufVxuXG4vLyBkbyBub3RoaW5nXG5cbnZhciBFc3RyZWVXYWxrZXIgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFc3RyZWVXYWxrZXIobm9kZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFc3RyZWVXYWxrZXIpO1xuXG5cdFx0dGhpcy5yb290ID0gbm9kZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhFc3RyZWVXYWxrZXIsIFt7XG5cdFx0a2V5OiBfU3ltYm9sJGl0ZXJhdG9yLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcblx0XHRcdHJldHVybiB3YWxrKHRoaXMucm9vdCk7XG5cdFx0fVxuXHR9XSwgW3tcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShub2RlKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEVzdHJlZVdhbGtlcihub2RlKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRXN0cmVlV2Fsa2VyO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFc3RyZWVXYWxrZXI7XG47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyByaWdodCBzaG91bGQgYmUgZXZhbHVhdGVkIGZpcnN0XG5cbi8vIGRvIG5vdGhpbmcgZWxzZSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZXhlY3V0aW9uUmVzdWx0ID0gcmVxdWlyZShcIi4vZXhlY3V0aW9uLXJlc3VsdFwiKTtcblxudmFyIF92aXNpdG9ycyA9IHJlcXVpcmUoXCIuL3Zpc2l0b3JzXCIpO1xuXG52YXIgX3Zpc2l0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Zpc2l0b3JzKTtcblxudmFyIEV4ZWN1dGlvbkNvbnRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFeGVjdXRpb25Db250ZXh0KGVudiwgbm9kZSwgY2FsbGVlLCBpc05ldykge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFeGVjdXRpb25Db250ZXh0KTtcblxuXHRcdHRoaXMubm9kZSA9IG5vZGU7XG5cdFx0dGhpcy5jYWxsZWUgPSBjYWxsZWU7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5pc05ldyA9ICEhaXNOZXc7XG5cblx0XHR0aGlzLmxhYmVsID0gXCJcIjtcblx0XHR0aGlzLnZhbHVlID0gbnVsbDtcblx0XHR0aGlzLnN0cmljdCA9IGZhbHNlO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEV4ZWN1dGlvbkNvbnRleHQsIFt7XG5cdFx0a2V5OiBcImV4ZWN1dGVcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGV4ZWN1dGUoKSB7XG5cdFx0XHR2YXIgZXhlY3V0aW9uUmVzdWx0O1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBleGVjdXRlJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3Zpc2l0b3JzMltcImRlZmF1bHRcIl0udmlzaXQodGhpcyk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gNztcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxKTtcblxuXHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gdGhpcy5yYWlzZShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0aWYgKCEoZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yYWlzZWQpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRocm93IHRoaXMuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlKFwiRXJyb3JcIiwgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCk7XG5cblx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgfHwgdGhpcy5lbXB0eSgpKTtcblxuXHRcdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgZXhlY3V0ZSwgdGhpcywgW1sxLCA3XV0pO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShub2RlLCBjYWxsZWUsIGlzTmV3KSB7XG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBFeGVjdXRpb25Db250ZXh0KHRoaXMuZW52LCBub2RlLCBjYWxsZWUgfHwgdGhpcy5jYWxsZWUsIGlzTmV3KTtcblx0XHRcdGNvbnRleHQudmFsdWUgPSB0aGlzLnZhbHVlO1xuXHRcdFx0cmV0dXJuIGNvbnRleHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUxhYmVsXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKG5vZGUsIGxhYmVsKSB7XG5cdFx0XHR2YXIgY29udGV4dCA9IHRoaXMuY3JlYXRlKG5vZGUpO1xuXHRcdFx0Y29udGV4dC5sYWJlbCA9IGxhYmVsO1xuXHRcdFx0cmV0dXJuIGNvbnRleHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhbmNlbFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjYW5jZWwobGFiZWwpIHtcblx0XHRcdHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdCh0aGlzLnZhbHVlLCBsYWJlbCk7XG5cdFx0XHRyZXN1bHQuY2FuY2VsID0gdHJ1ZTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNraXBcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2tpcChsYWJlbCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0KHRoaXMudmFsdWUsIGxhYmVsKTtcblx0XHRcdHJlc3VsdC5za2lwID0gdHJ1ZTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJhaXNlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJhaXNlKGVycikge1xuXHRcdFx0dmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0KGVycik7XG5cdFx0XHRyZXN1bHQucmFpc2VkID0gcmVzdWx0LmV4aXQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZXhpdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBleGl0KHZhbHVlKSB7XG5cdFx0XHR0aGlzLmNhbGxlZSA9IG51bGw7XG5cblx0XHRcdHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdCh2YWx1ZSk7XG5cdFx0XHRyZXN1bHQuZXhpdCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJyZXN1bHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcmVzdWx0KHZhbHVlLCBuYW1lLCBvYmopIHtcblx0XHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHRcdHJldHVybiBuZXcgX2V4ZWN1dGlvblJlc3VsdC5FeGVjdXRpb25SZXN1bHQodmFsdWUsIG5hbWUsIG9iaik7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImVtcHR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucmVzdWx0KF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRXhlY3V0aW9uQ29udGV4dDtcbn0pKCk7XG5cbmV4cG9ydHMuRXhlY3V0aW9uQ29udGV4dCA9IEV4ZWN1dGlvbkNvbnRleHQ7XG47IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgRXhlY3V0aW9uUmVzdWx0ID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gRXhlY3V0aW9uUmVzdWx0KHZhbHVlLCBuYW1lLCBvYmopIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhlY3V0aW9uUmVzdWx0KTtcblxuXHRcdHRoaXMucmVzdWx0ID0gdmFsdWU7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblxuXHRcdHRoaXMuY2FuY2VsID0gZmFsc2U7XG5cdFx0dGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcblx0XHR0aGlzLmV4aXQgPSBmYWxzZTtcblx0XHR0aGlzLnNraXAgPSBmYWxzZTtcblx0XHR0aGlzLnJhaXNlZCA9IGZhbHNlO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEV4ZWN1dGlvblJlc3VsdCwgW3tcblx0XHRrZXk6IFwiaXNDYW5jZWxsZWRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNDYW5jZWxsZWQoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jYW5jZWwgfHwgdGhpcy5leGl0IHx8IHRoaXMucmFpc2VkO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjYW5CcmVha1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjYW5CcmVhaygpIHtcblx0XHRcdHJldHVybiB0aGlzLmlzQ2FuY2VsbGVkKCkgfHwgdGhpcy5za2lwO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzaG91bGRCcmVha1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzaG91bGRCcmVhayhjb250ZXh0LCBsb29wLCBwcmlvclJlc3VsdCkge1xuXHRcdFx0aWYgKHRoaXMuZXhpdCB8fCB0aGlzLnJhaXNlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLmNhbmNlbCAmJiAhdGhpcy5za2lwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGJyZWFraW5nID0gdHJ1ZTtcblx0XHRcdGlmICh0aGlzLm5hbWUgJiYgdGhpcy5uYW1lID09PSBjb250ZXh0LmxhYmVsKSB7XG5cdFx0XHRcdGJyZWFraW5nID0gdGhpcy5jYW5jZWxsZWQgPSB0aGlzLmNhbmNlbDtcblx0XHRcdFx0dGhpcy5jYW5jZWwgPSB0aGlzLnNraXAgPSBmYWxzZTtcblxuXHRcdFx0XHRpZiAodGhpcy5jYW5jZWxsZWQpIHtcblx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IHByaW9yUmVzdWx0ICYmIHByaW9yUmVzdWx0LnJlc3VsdCB8fCB0aGlzLnJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBicmVha2luZztcblx0XHRcdH1cblxuXHRcdFx0aWYgKGxvb3AgJiYgIXRoaXMubmFtZSkge1xuXHRcdFx0XHRicmVha2luZyA9IHRoaXMuY2FuY2VsbGVkID0gdGhpcy5jYW5jZWw7XG5cdFx0XHRcdHRoaXMuY2FuY2VsID0gdGhpcy5za2lwID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucmVzdWx0ID0gcHJpb3JSZXN1bHQgJiYgcHJpb3JSZXN1bHQucmVzdWx0IHx8IHRoaXMucmVzdWx0O1xuXHRcdFx0cmV0dXJuIGJyZWFraW5nO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBFeGVjdXRpb25SZXN1bHQ7XG59KSgpO1xuXG5leHBvcnRzLkV4ZWN1dGlvblJlc3VsdCA9IEV4ZWN1dGlvblJlc3VsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG5yZXF1aXJlKFwiLi9wb2x5ZmlsbHNcIik7XG5cbnZhciBfZW52ID0gcmVxdWlyZShcIi4vZW52XCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi91dGlscy9hc3luY1wiKTtcblxudmFyIFNhbmRCb3hyID0gKGZ1bmN0aW9uICgpIHtcblx0LyoqXHJcbiAgKiBDcmVhdGVzIGEgbmV3IFNhbmRib3hcclxuICAqIEBjbGFzc1xyXG4gICogQHBhcmFtIHtBU1R9IGFzdCAtIFRoZSBhYnN0cmFjdCBzeW50YXggdHJlZSB0byBleGVjdXRlLlxyXG4gICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyB0byB1c2Ugd2l0aCB0aGUgc2FuZGJveC5cclxuICAqL1xuXG5cdGZ1bmN0aW9uIFNhbmRCb3hyKGFzdCkge1xuXHRcdHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2FuZEJveHIpO1xuXG5cdFx0dGhpcy5hc3QgPSBhc3Q7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0fVxuXG5cdC8qKlxyXG4gICogRXhlY3V0ZXMgdGhlIGFic3RyYWN0IHN5bnRheCB0cmVlIChBU1QpIGFnYWluc3QgdGhlIHByb3ZpZGVkIGVudmlyb25tZW50IChvciB0aGUgZGVmYXVsdFxyXG4gICogZW52aXJvbm1lbnQgaWYgbm90IHByb3ZpZGVkKVxyXG4gICogQHBhcmFtIHtFbnZpcm9ubWVudH0gW2Vudl0gLSBUaGUgZW52aXJvbm1lbnQgdG8gZXhlY3V0ZSB0aGUgQVNUIGFnYWluc3QuXHJcbiAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBleGVjdXRpb25cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhTYW5kQm94ciwgW3tcblx0XHRrZXk6IFwiZXhlY3V0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlKGVudikge1xuXHRcdFx0aWYgKCFlbnYpIHtcblx0XHRcdFx0ZW52ID0gU2FuZEJveHIuY3JlYXRlRW52aXJvbm1lbnQoKTtcblx0XHRcdFx0ZW52LmluaXQodGhpcy5vcHRpb25zKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5wcm9taXNpZnkpKGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KHRoaXMuYXN0KS5leGVjdXRlKCkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRyZXR1cm4gcmVzLnJlc3VsdDtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogX1N5bWJvbCRpdGVyYXRvcixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdGVwKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInN0ZXBcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc3RlcChlbnYpIHtcblx0XHRcdGlmICghZW52KSB7XG5cdFx0XHRcdGVudiA9IFNhbmRCb3hyLmNyZWF0ZUVudmlyb25tZW50KCk7XG5cdFx0XHRcdGVudi5pbml0KHRoaXMub3B0aW9ucyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuc3RlcCkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpcy5hc3QpLmV4ZWN1dGUoKSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhbiBlbnZpcm9ubWVudCBpbnN0YW5jZS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZW52aXJvbm1lbnQgaW5zdGFuY2UuXHJcbiAgICovXG5cdH1dLCBbe1xuXHRcdGtleTogXCJjcmVhdGVFbnZpcm9ubWVudFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVFbnZpcm9ubWVudCgpIHtcblx0XHRcdHJldHVybiBuZXcgX2Vudi5FbnZpcm9ubWVudCgpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuZEJveHIgaW5zdGFuY2UuXHJcbiAgICogQHBhcmFtIHtBU1R9IGFzdCAtIFRoZSBhYnN0cmFjdCBzeW50YXggdHJlZSB0byBleGVjdXRlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgdG8gdXNlIHdpdGggdGhlIHNhbmRib3guXHJcbiAgICogQHJldHVybnMge1NhbmRCb3hyfSBBIG5ldyBzYW5kYm94LlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoYXN0LCBvcHRpb25zKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFNhbmRCb3hyKGFzdCwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFNhbmRCb3hyO1xufSkoKTtcblxuZXhwb3J0cy5TYW5kQm94ciA9IFNhbmRCb3hyOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbnZhciBtYXJrZWQwJDAgPSBbYXNjSXRlcmF0b3IsIGRlc2NJdGVyYXRvciwgeWllbGRJbmRleF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIGFzY0l0ZXJhdG9yKHNvdXJjZSwgbG8sIGhpKSB7XG5cdHZhciBpbmRleDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBhc2NJdGVyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpbmRleCA9IGxvO1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGlmICghKGluZGV4IDwgaGkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh5aWVsZEluZGV4KHNvdXJjZSwgaW5kZXgpLCBcInQwXCIsIDMpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzY0l0ZXJhdG9yKHNvdXJjZSwgbG8sIGhpKSB7XG5cdHZhciBpbmRleDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXNjSXRlcmF0b3IkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aW5kZXggPSBoaTtcblxuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRpZiAoIShpbmRleCA+PSBsbykpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHlpZWxkSW5kZXgoc291cmNlLCBpbmRleCksIFwidDBcIiwgMyk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB5aWVsZEluZGV4KHNvdXJjZSwga2V5KSB7XG5cdHZhciBwcm9wLCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB5aWVsZEluZGV4JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHByb3AgPSBzb3VyY2UuZ2V0UHJvcGVydHkoa2V5KTtcblxuXHRcdFx0XHRpZiAoIXByb3ApIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0gcHJvcC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBrZXk6IGtleSB9O1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMl0sIHRoaXMpO1xufVxuXG52YXIgQXJyYXlJdGVyYXRvciA9IHtcblx0Y3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUob2JqLCBsbywgaGksIGRlc2MpIHtcblx0XHRyZXR1cm4gKGRlc2MgPyBkZXNjSXRlcmF0b3IgOiBhc2NJdGVyYXRvcikob2JqLCBsbywgaGkpO1xuXHR9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEFycmF5SXRlcmF0b3I7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRrZXlzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfc3RyaW5nSXRlcmF0b3IgPSByZXF1aXJlKFwiLi9zdHJpbmctaXRlcmF0b3JcIik7XG5cbnZhciBfc3RyaW5nSXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nSXRlcmF0b3IpO1xuXG52YXIgX3NwYXJzZUl0ZXJhdG9yID0gcmVxdWlyZShcIi4vc3BhcnNlLWl0ZXJhdG9yXCIpO1xuXG52YXIgX3NwYXJzZUl0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NwYXJzZUl0ZXJhdG9yKTtcblxudmFyIF9hcnJheUl0ZXJhdG9yID0gcmVxdWlyZShcIi4vYXJyYXktaXRlcmF0b3JcIik7XG5cbnZhciBfYXJyYXlJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUl0ZXJhdG9yKTtcblxudmFyIF9pdGVyYWJsZUl0ZXJhdG9yID0gcmVxdWlyZShcIi4vaXRlcmFibGUtaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmFibGVJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYWJsZUl0ZXJhdG9yKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2Z1bmNcIik7XG5cbnJlcXVpcmUoXCIuLi9wb2x5ZmlsbHNcIik7XG5cbnZhciBTUEFSRV9BUlJBWV9ERU5TSVRZID0gMC44O1xuXG5mdW5jdGlvbiBhcnJheUlzU3BhcnNlKGFyciwgbGVuZ3RoKSB7XG5cdHZhciBvd25Qcm9wZXJ0eUNvdW50ID0gX09iamVjdCRrZXlzKGFyci5wcm9wZXJ0aWVzKS5sZW5ndGg7XG5cblx0Ly8gdGhpcyBpcyBqdXN0IHRvIHJvdWdobHkgZXN0aW1hdGUgaG93IGRlbnNlIHRoZSBhcnJheSBpc1xuXHR2YXIgZGVuc2l0eSA9IChvd25Qcm9wZXJ0eUNvdW50IC0gMSkgLyBsZW5ndGg7XG5cdHJldHVybiBkZW5zaXR5IDwgU1BBUkVfQVJSQVlfREVOU0lUWTtcbn1cblxudmFyIGl0ZXJhdGUgPSB7XG5cdGdldEl0ZXJhdG9yOiBmdW5jdGlvbiBnZXRJdGVyYXRvcihlbnYsIG9iaikge1xuXHRcdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXHRcdHZhciBpdGVyYXRvciA9IG9iai5nZXRQcm9wZXJ0eShpdGVyYXRvcktleSk7XG5cdFx0aWYgKGl0ZXJhdG9yKSB7XG5cdFx0XHR2YXIgZm4gPSBpdGVyYXRvci5nZXRWYWx1ZSgpO1xuXHRcdFx0dmFyIGl0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgZm4sIFtdLCBvYmosIGZuKSk7XG5cdFx0XHRyZXR1cm4gX2l0ZXJhYmxlSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUoZW52LCBvYmosIGl0KTtcblx0XHR9XG5cblx0XHR2YXIgbGVuZ3RoID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgb2JqKSk7XG5cdFx0cmV0dXJuIHRoaXMuZm9yd2FyZChlbnYsIG9iaiwgMCwgbGVuZ3RoKTtcblx0fSxcblxuXHRmb3J3YXJkOiBmdW5jdGlvbiBmb3J3YXJkKGVudiwgb2JqLCBsbywgaGkpIHtcblx0XHQvLyBzdHJpbmcgd2lsbCBuZXZlciBiZSBkZW5zZVxuXHRcdGlmIChvYmouY2xhc3NOYW1lID09PSBcIlN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gX3N0cmluZ0l0ZXJhdG9yMltcImRlZmF1bHRcIl0uY3JlYXRlKGVudi5vYmplY3RGYWN0b3J5LCBvYmosIGxvKTtcblx0XHR9XG5cblx0XHRpZiAoYXJyYXlJc1NwYXJzZShvYmosIGhpKSkge1xuXHRcdFx0cmV0dXJuIF9zcGFyc2VJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShvYmosIGxvLCBoaSAtIDEpO1xuXHRcdH1cblxuXHRcdHJldHVybiBfYXJyYXlJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShvYmosIGxvLCBoaSk7XG5cdH0sXG5cblx0cmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZShlbnYsIG9iaiwgaGkpIHtcblx0XHR2YXIgbG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzNdO1xuXG5cdFx0aWYgKG9iai5jbGFzc05hbWUgPT09IFwiU3RyaW5nXCIpIHtcblx0XHRcdHJldHVybiBfc3RyaW5nSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUoZW52Lm9iamVjdEZhY3RvcnksIG9iaiwgaGksIHRydWUpO1xuXHRcdH1cblxuXHRcdGlmIChhcnJheUlzU3BhcnNlKG9iaiwgaGkpKSB7XG5cdFx0XHRyZXR1cm4gX3NwYXJzZUl0ZXJhdG9yMltcImRlZmF1bHRcIl0uY3JlYXRlKG9iaiwgbG8sIGhpLCB0cnVlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX2FycmF5SXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbywgaGksIHRydWUpO1xuXHR9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGl0ZXJhdGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBJdGVyYWJsZUl0ZXJhdG9yID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gSXRlcmFibGVJdGVyYXRvcihlbnYsIGl0KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZXJhYmxlSXRlcmF0b3IpO1xuXG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5jdXJyZW50SW5kZXggPSAwO1xuXHRcdHRoaXMuaXRlcmF0b3IgPSBpdDtcblx0XHR0aGlzLmFkdmFuY2VyID0gaXQuZ2V0VmFsdWUoXCJuZXh0XCIpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEl0ZXJhYmxlSXRlcmF0b3IsIFt7XG5cdFx0a2V5OiBcIm5leHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gbmV4dCgpIHtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkodGhpcy5lbnYsIHRoaXMuYWR2YW5jZXIsIFtdLCB0aGlzLml0ZXJhdG9yLCB0aGlzLmFkdmFuY2VyKSk7XG5cdFx0XHR2YXIgdmFsdWUgPSB7IGtleTogdGhpcy5jdXJyZW50SW5kZXgrKywgdmFsdWU6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEIH07XG5cblx0XHRcdHZhciB2YWx1ZVByb3BlcnR5ID0gcmVzdWx0LmdldFByb3BlcnR5KFwidmFsdWVcIik7XG5cdFx0XHRpZiAodmFsdWVQcm9wZXJ0eSkge1xuXHRcdFx0XHR2YWx1ZS52YWx1ZSA9IHZhbHVlUHJvcGVydHkuZ2V0VmFsdWUoKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGRvbmUgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikocmVzdWx0LmdldFZhbHVlKFwiZG9uZVwiKSk7XG5cdFx0XHRyZXR1cm4geyBkb25lOiBkb25lLCB2YWx1ZTogdmFsdWUgfTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmV0dXJuXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIF9yZXR1cm4oKSB7XG5cdFx0XHR2YXIgcHJvcEluZm8gPSB0aGlzLml0ZXJhdG9yLmdldFByb3BlcnR5KFwicmV0dXJuXCIpO1xuXHRcdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHRcdHZhciByZXR1cm5GdW5jID0gcHJvcEluZm8uZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKSh0aGlzLmVudiwgcmV0dXJuRnVuYywgW10sIHRoaXMuaXRlcmF0b3IsIHJldHVybkZ1bmMpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdH1cblx0fV0sIFt7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoZW52LCBvYmosIGl0KSB7XG5cdFx0XHRyZXR1cm4gbmV3IEl0ZXJhYmxlSXRlcmF0b3IoZW52LCBpdCk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEl0ZXJhYmxlSXRlcmF0b3I7XG59KSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEl0ZXJhYmxlSXRlcmF0b3I7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgQVNDRU5ESU5HID0gZnVuY3Rpb24gQVNDRU5ESU5HKGEsIGIpIHtcblx0cmV0dXJuIGEgLSBiO1xufTtcbnZhciBERVNDRU5ESU5HID0gZnVuY3Rpb24gREVTQ0VORElORyhhLCBiKSB7XG5cdHJldHVybiBiIC0gYTtcbn07XG5cbnZhciBTcGFyc2VJdGVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIFNwYXJzZUl0ZXJhdG9yKG9iaiwgc3RhcnQsIGVuZCwgZGVzYykge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcGFyc2VJdGVyYXRvcik7XG5cblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy5hc2MgPSAhZGVzYztcblx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFNwYXJzZUl0ZXJhdG9yLCBbe1xuXHRcdGtleTogX1N5bWJvbCRpdGVyYXRvcixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmVzZXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHRcdFx0dGhpcy5wcm90b3R5cGVzID0gW107XG5cdFx0XHR0aGlzLnByb3BzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHR0aGlzLmtleXMgPSBbXTtcblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLm9iamVjdDtcblxuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0dGhpcy5wcm90b3R5cGVzLnB1c2goY3VycmVudCk7XG5cdFx0XHRcdHRoaXMudmVyc2lvbiArPSBjdXJyZW50LnZlcnNpb247XG5cblx0XHRcdFx0Zm9yICh2YXIgX25hbWUgaW4gY3VycmVudC5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0aWYgKCEoX25hbWUgaW4gdGhpcy5wcm9wcykgJiYgY29udHJhY3RzLmlzSW50ZWdlcihfbmFtZSkpIHtcblx0XHRcdFx0XHRcdHZhciBpbmRleCA9IE51bWJlcihfbmFtZSk7XG5cblx0XHRcdFx0XHRcdGlmIChpbmRleCA+PSB0aGlzLnN0YXJ0ICYmIGluZGV4IDw9IHRoaXMuZW5kKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucHJvcHNbX25hbWVdID0gY3VycmVudC5nZXRPd25Qcm9wZXJ0eShfbmFtZSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMua2V5cy5wdXNoKGluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5rZXlzLnNvcnQodGhpcy5hc2MgPyBBU0NFTkRJTkcgOiBERVNDRU5ESU5HKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwibmV4dFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBuZXh0KCkge1xuXHRcdFx0aWYgKCF0aGlzLnZlcnNpb24gfHwgdGhpcy5zaG91bGRSZXNldCgpKSB7XG5cdFx0XHRcdHRoaXMucmVzZXQoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMua2V5cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBrZXkgPSB0aGlzLnBvc2l0aW9uID0gdGhpcy5rZXlzLnNoaWZ0KCk7XG5cdFx0XHRcdHZhciB2YWx1ZSA9IHRoaXMucHJvcHNba2V5XS5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dmFsdWU6IHsgdmFsdWU6IHZhbHVlLCBrZXk6IGtleSB9LFxuXHRcdFx0XHRcdGRvbmU6IGZhbHNlXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGRvbmU6IHRydWVcblx0XHRcdH07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNob3VsZFJlc2V0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNob3VsZFJlc2V0KCkge1xuXHRcdFx0dmFyIGN1cnJlbnRWZXJzaW9uID0gdGhpcy5wcm90b3R5cGVzLnJlZHVjZShmdW5jdGlvbiAodiwgbykge1xuXHRcdFx0XHRyZXR1cm4gby52ZXJzaW9uICsgdjtcblx0XHRcdH0sIDApO1xuXHRcdFx0aWYgKGN1cnJlbnRWZXJzaW9uICE9PSB0aGlzLnZlcnNpb24pIHtcblx0XHRcdFx0aWYgKHRoaXMuYXNjKSB7XG5cdFx0XHRcdFx0dGhpcy5zdGFydCA9IHRoaXMucG9zaXRpb24gKyAxO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuZW5kID0gdGhpcy5wb3NpdGlvbiAtIDE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fV0sIFt7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoYXJyLCBzdGFydCwgZW5kLCBkZXNjKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFNwYXJzZUl0ZXJhdG9yKGFyciwgc3RhcnQsIGVuZCwgZGVzYyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFNwYXJzZUl0ZXJhdG9yO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTcGFyc2VJdGVyYXRvcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xudmFyIG1hcmtlZDAkMCA9IFthc2NJdGVyYXRvciwgZGVzY0l0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcbmZ1bmN0aW9uIGFzY0l0ZXJhdG9yKGZhY3RvcnksIHN0cmluZ1ZhbHVlLCBzdGFydCkge1xuXHR2YXIga2V5LCBfbGVuZ3RoLCB2YWx1ZTtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGFzY0l0ZXJhdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGtleSA9IHN0YXJ0LCBfbGVuZ3RoID0gc3RyaW5nVmFsdWUubGVuZ3RoO1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGlmICghKGtleSA8IF9sZW5ndGgpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZSA9IGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlW2tleV0pO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBrZXk6IGtleSB9O1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGtleSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc2NJdGVyYXRvcihmYWN0b3J5LCBzdHJpbmdWYWx1ZSwgc3RhcnQpIHtcblx0dmFyIGtleSwgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzY0l0ZXJhdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGtleSA9IHN0YXJ0O1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGlmICghKGtleSA+PSAwKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFsdWUgPSBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZVtrZXldKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwga2V5OiBrZXkgfTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRrZXktLTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG52YXIgU3RyaW5nSXRlcmF0b3IgPSB7XG5cdGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKG9iamVjdEZhY3RvcnksIHZhbHVlLCBzdGFydCwgZGVzYykge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cdFx0cmV0dXJuIChkZXNjID8gZGVzY0l0ZXJhdG9yIDogYXNjSXRlcmF0b3IpKG9iamVjdEZhY3RvcnksIHN0cmluZ1ZhbHVlLCBzdGFydCk7XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU3RyaW5nSXRlcmF0b3I7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5pc1Jlc2VydmVkID0gaXNSZXNlcnZlZDtcbmV4cG9ydHMuaXNTdHJpY3RSZXNlcnZlZCA9IGlzU3RyaWN0UmVzZXJ2ZWQ7XG52YXIga2V5d29yZHMgPSB7XG5cdFwiZXM1XCI6IFtcImRvXCIsIFwiaWZcIiwgXCJpblwiLCBcImZvclwiLCBcIm5ld1wiLCBcInRyeVwiLCBcInZhclwiLCBcImNhc2VcIiwgXCJlbHNlXCIsIFwiZW51bVwiLCBcIm51bGxcIiwgXCJ0aGlzXCIsIFwidHJ1ZVwiLCBcInZvaWRcIiwgXCJ3aXRoXCIsIFwiYnJlYWtcIiwgXCJjYXRjaFwiLCBcImNsYXNzXCIsIFwiY29uc3RcIiwgXCJmYWxzZVwiLCBcInN1cGVyXCIsIFwidGhyb3dcIiwgXCJ3aGlsZVwiLCBcImRlbGV0ZVwiLCBcImV4cG9ydFwiLCBcImltcG9ydFwiLCBcInJldHVyblwiLCBcInN3aXRjaFwiLCBcInR5cGVvZlwiLCBcImRlZmF1bHRcIiwgXCJleHRlbmRzXCIsIFwiZmluYWxseVwiLCBcImNvbnRpbnVlXCIsIFwiZGVidWdnZXJcIiwgXCJmdW5jdGlvblwiLCBcImluc3RhbmNlb2ZcIl0sXG5cblx0XCJlczVzdHJpY3RcIjogW1wiaW1wbGVtZW50c1wiLCBcImxldFwiLCBcInByaXZhdGVcIiwgXCJwdWJsaWNcIiwgXCJpbnRlcmZhY2VcIiwgXCJwYWNrYWdlXCIsIFwicHJvdGVjdGVkXCIsIFwic3RhdGljXCIsIFwieWllbGRcIl1cbn07XG5cbmZ1bmN0aW9uIGlzUmVzZXJ2ZWQobmFtZSkge1xuXHRyZXR1cm4ga2V5d29yZHMuZXM1LmluZGV4T2YobmFtZSkgPj0gMDtcbn1cblxuZnVuY3Rpb24gaXNTdHJpY3RSZXNlcnZlZChuYW1lKSB7XG5cdHJldHVybiBrZXl3b3Jkcy5lczVzdHJpY3QuaW5kZXhPZihuYW1lKSA+PSAwO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9mbi9zdHJpbmcvcmVwZWF0XCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9mbi9tYXRoL3NpZ25cIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL2VzNi9wcm9taXNlXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9lczYvc3ltYm9sXCIpOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUFzc2lnbm1lbnQobGVmdCwgc3RyaWN0KSB7XG5cdGlmIChzdHJpY3QgJiYgbGVmdC50eXBlID09PSBcIklkZW50aWZpZXJcIikge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShsZWZ0Lm5hbWUsIHRydWUpO1xuXHR9XG59XG5cbnZhciBydWxlcyA9IHtcblx0QXNzaWdubWVudEV4cHJlc3Npb246IGZ1bmN0aW9uIEFzc2lnbm1lbnRFeHByZXNzaW9uKG5vZGUsIHN0cmljdCkge1xuXHRcdHZhbGlkYXRlQXNzaWdubWVudChub2RlLmxlZnQsIHN0cmljdCk7XG5cdH0sXG5cblx0Q2F0Y2hDbGF1c2U6IGZ1bmN0aW9uIENhdGNoQ2xhdXNlKG5vZGUsIHN0cmljdCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShub2RlLnBhcmFtLm5hbWUsIHN0cmljdCk7XG5cdH0sXG5cblx0SWRlbnRpZmllcjogZnVuY3Rpb24gSWRlbnRpZmllcihub2RlLCBzdHJpY3QpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIobm9kZS5uYW1lLCBzdHJpY3QpO1xuXHR9LFxuXG5cdEZ1bmN0aW9uRGVjbGFyYXRpb246IGZ1bmN0aW9uIEZ1bmN0aW9uRGVjbGFyYXRpb24obm9kZSwgc3RyaWN0KSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWROYW1lKG5vZGUuaWQubmFtZSwgc3RyaWN0KTtcblx0XHRjb250cmFjdHMuYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMobm9kZS5wYXJhbXMsIHN0cmljdCk7XG5cdH0sXG5cblx0RnVuY3Rpb25FeHByZXNzaW9uOiBmdW5jdGlvbiBGdW5jdGlvbkV4cHJlc3Npb24obm9kZSwgc3RyaWN0KSB7XG5cdFx0aWYgKG5vZGUuaWQpIHtcblx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShub2RlLmlkLm5hbWUsIHN0cmljdCk7XG5cdFx0fVxuXG5cdFx0Y29udHJhY3RzLmFzc2VydEFyZVZhbGlkQXJndW1lbnRzKG5vZGUucGFyYW1zLCBzdHJpY3QpO1xuXHR9LFxuXG5cdExpdGVyYWw6IGZ1bmN0aW9uIExpdGVyYWwobm9kZSwgc3RyaWN0KSB7XG5cdFx0aWYgKHN0cmljdCAmJiBub2RlLnJhdykge1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc09jdGFsTGl0ZXJhbChub2RlLnJhdywgbm9kZS52YWx1ZSkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiT2N0YWwgbGl0ZXJhbHMgYXJlIG5vdCBhbGxvd2VkIGluIHN0cmljdCBtb2RlLlwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0VXBkYXRlRXhwcmVzc2lvbjogZnVuY3Rpb24gVXBkYXRlRXhwcmVzc2lvbihub2RlLCBzdHJpY3QpIHtcblx0XHR2YWxpZGF0ZUFzc2lnbm1lbnQobm9kZS5hcmd1bWVudCwgc3RyaWN0KTtcblx0fSxcblxuXHRWYXJpYWJsZURlY2xhcmF0b3I6IGZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRvcihub2RlLCBzdHJpY3QpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZE5hbWUobm9kZS5pZC5uYW1lLCBzdHJpY3QpO1xuXHR9LFxuXG5cdFdpdGhTdGF0ZW1lbnQ6IGZ1bmN0aW9uIFdpdGhTdGF0ZW1lbnQobm9kZSwgc3RyaWN0KSB7XG5cdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiU3RyaWN0IG1vZGUgY29kZSBtYXkgbm90IGluY2x1ZGUgYSB3aXRoIHN0YXRlbWVudFwiKTtcblx0XHR9XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcnVsZXM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBBcmd1bWVudFR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhBcmd1bWVudFR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBBcmd1bWVudFR5cGUoY2FsbGVlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFyZ3VtZW50VHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcmd1bWVudFR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJBcmd1bWVudHNcIjtcblx0XHR0aGlzLnBhcmFtZXRlck1hcCA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdHRoaXMuY2FsbGVlID0gY2FsbGVlO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEFyZ3VtZW50VHlwZSwgW3tcblx0XHRrZXk6IFwibWFwUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gbWFwUHJvcGVydHkoaW5kZXgsIGJpbmRpbmcpIHtcblx0XHRcdGluZGV4ID0gU3RyaW5nKGluZGV4KTtcblx0XHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImRlZmluZU93blByb3BlcnR5XCIsIHRoaXMpLmNhbGwodGhpcywgaW5kZXgsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9LCB0cnVlKTtcblx0XHRcdHRoaXMucGFyYW1ldGVyTWFwW2luZGV4XSA9IGJpbmRpbmc7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KG5hbWUpIHtcblx0XHRcdHZhciBvd25Qcm9wZXJ0eSA9IHRoaXMuZ2V0T3duUHJvcGVydHkobmFtZSk7XG5cdFx0XHRpZiAob3duUHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIG93blByb3BlcnR5O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZ2V0UHJvcGVydHlcIiwgdGhpcykuY2FsbCh0aGlzLCBuYW1lKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHkobmFtZSkge1xuXHRcdFx0bmFtZSA9IFN0cmluZyhuYW1lKTtcblxuXHRcdFx0aWYgKG5hbWUgaW4gdGhpcy5wYXJhbWV0ZXJNYXApIHtcblx0XHRcdFx0dmFyIG1hcHBlZFByb3BlcnR5ID0gdGhpcy5wcm9wZXJ0aWVzW25hbWVdO1xuXHRcdFx0XHR2YXIgbGlua2VkUHJvcGVydHkgPSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblxuXHRcdFx0XHRtYXBwZWRQcm9wZXJ0eS52YWx1ZSA9IGxpbmtlZFByb3BlcnR5LmdldFZhbHVlKCk7XG5cdFx0XHRcdG1hcHBlZFByb3BlcnR5LnNldFZhbHVlID0gbGlua2VkUHJvcGVydHkuc2V0VmFsdWUuYmluZChsaW5rZWRQcm9wZXJ0eSk7XG5cdFx0XHRcdHJldHVybiBtYXBwZWRQcm9wZXJ0eTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImdldE93blByb3BlcnR5XCIsIHRoaXMpLmNhbGwodGhpcywgbmFtZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlZmluZU93blByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZU93blByb3BlcnR5KG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHRcdFx0bmFtZSA9IFN0cmluZyhuYW1lKTtcblxuXHRcdFx0dmFyIGFsbG93ZWQgPSBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcmd1bWVudFR5cGUucHJvdG90eXBlKSwgXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0aWYgKGFsbG93ZWQgJiYgbmFtZSBpbiB0aGlzLnBhcmFtZXRlck1hcCkge1xuXHRcdFx0XHRpZiAoXCJzZXRcIiBpbiBkZXNjcmlwdG9yIHx8IFwiZ2V0XCIgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblx0XHRcdFx0fSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdHRoaXMucGFyYW1ldGVyTWFwW25hbWVdLnNldFZhbHVlKGRlc2NyaXB0b3IudmFsdWUsIHRocm93T25FcnJvcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXCJ3cml0YWJsZVwiIGluIGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3Iud3JpdGFibGUpIHtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5wYXJhbWV0ZXJNYXBbbmFtZV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFsbG93ZWQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KG5hbWUsIHRocm93T25FcnJvcikge1xuXHRcdFx0bmFtZSA9IFN0cmluZyhuYW1lKTtcblx0XHRcdGlmIChuYW1lIGluIHRoaXMucGFyYW1ldGVyTWFwKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImRlbGV0ZVByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEFyZ3VtZW50VHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkFyZ3VtZW50VHlwZSA9IEFyZ3VtZW50VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW3NldExlbmd0aF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX2l0ZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi9pdGVyYXRvcnNcIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gc2V0SW5kZXgoZW52LCBhcnIsIG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHR2YXIgaW5kZXggPSBOdW1iZXIobmFtZSk7XG5cdHZhciBsZW5ndGhQcm9wZXJ0eSA9IGFyci5nZXRQcm9wZXJ0eShcImxlbmd0aFwiKTtcblx0dmFyIGxlbmd0aFZhbHVlID0gbGVuZ3RoUHJvcGVydHkuZ2V0VmFsdWUoKS50b05hdGl2ZSgpO1xuXG5cdGlmICghbGVuZ3RoUHJvcGVydHkuY2FuU2V0VmFsdWUoKSAmJiBpbmRleCA+PSBsZW5ndGhWYWx1ZSB8fCAhX29iamVjdFR5cGUuT2JqZWN0VHlwZS5wcm90b3R5cGUuZGVmaW5lT3duUHJvcGVydHkuY2FsbChhcnIsIG5hbWUsIGRlc2NyaXB0b3IsIGZhbHNlLCBlbnYpKSB7XG5cblx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGRlZmluZSBwcm9wZXJ0eTogXCIgKyBuYW1lICsgXCIsIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZS5cIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKGluZGV4ID49IGxlbmd0aFZhbHVlKSB7XG5cdFx0dmFyIG5ld0xlbmd0aCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpbmRleCArIDEpO1xuXHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHZhbHVlOiBuZXdMZW5ndGggfSwgZmFsc2UsIGVudik7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0TGVuZ3RoKGVudiwgYXJyLCBuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpIHtcblx0dmFyIG5ld0xlbmd0aFZhbHVlLCBuZXdMZW5ndGgsIGN1cnJlbnRMZW5ndGgsIG5vdFdyaXRhYmxlLCBpLCBzdWNjZWVkZWQsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwga2V5O1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc2V0TGVuZ3RoJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1VJbnQzMikoZW52LCBkZXNjcmlwdG9yLnZhbHVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRuZXdMZW5ndGhWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gbmV3TGVuZ3RoVmFsdWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBkZXNjcmlwdG9yLnZhbHVlKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEoY29udGV4dCQxJDAudDAgIT09IGNvbnRleHQkMSQwLnQxKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBcnJheSBsZW5ndGggb3V0IG9mIHJhbmdlXCIpO1xuXG5cdFx0XHRjYXNlIDk6XG5cblx0XHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShuZXdMZW5ndGhWYWx1ZSk7XG5cdFx0XHRcdG5ld0xlbmd0aCA9IGRlc2NyaXB0b3IudmFsdWU7XG5cdFx0XHRcdGN1cnJlbnRMZW5ndGggPSBhcnIuZ2V0UHJvcGVydHkoXCJsZW5ndGhcIikuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoKG5ld0xlbmd0aC52YWx1ZSk7XG5cblx0XHRcdFx0aWYgKCEobmV3TGVuZ3RoLnZhbHVlID49IGN1cnJlbnRMZW5ndGgudmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBfb2JqZWN0VHlwZS5PYmplY3RUeXBlLnByb3RvdHlwZS5kZWZpbmVPd25Qcm9wZXJ0eS5jYWxsKGFyciwgbmFtZSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSk7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGlmICghKGFyci5wcm9wZXJ0aWVzLmxlbmd0aC53cml0YWJsZSA9PT0gZmFsc2UpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCF0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlZGVmaW5lIHByb3BlcnR5OiBsZW5ndGhcIik7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRub3RXcml0YWJsZSA9IFwid3JpdGFibGVcIiBpbiBkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLndyaXRhYmxlO1xuXG5cdFx0XHRcdGlmIChub3RXcml0YWJsZSkge1xuXHRcdFx0XHRcdC8vIHNldCB0byB3cml0YWJsZSBpbiBjYXNlIHJlbW92aW5nIGl0ZW1zIGZhaWxzXG5cdFx0XHRcdFx0ZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpID0gY3VycmVudExlbmd0aC52YWx1ZTtcblxuXHRcdFx0XHRpZiAoX29iamVjdFR5cGUuT2JqZWN0VHlwZS5wcm90b3R5cGUuZGVmaW5lT3duUHJvcGVydHkuY2FsbChhcnIsIG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhbHNlKTtcblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0c3VjY2VlZGVkID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoIShpID4gbmV3TGVuZ3RoLnZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1NTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDI5O1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLnJldmVyc2UoZW52LCBhcnIsIGkgLSAxLCBuZXdMZW5ndGgudmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0a2V5ID0gX3N0ZXAudmFsdWUua2V5O1xuXG5cdFx0XHRcdGlmIChhcnIuZGVsZXRlUHJvcGVydHkoa2V5LCBmYWxzZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuZXdMZW5ndGggPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5ICsgMSk7XG5cdFx0XHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHZhbHVlOiBuZXdMZW5ndGggfSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdHN1Y2NlZWRlZCA9IGZhbHNlO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNDEpO1xuXG5cdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ3O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA0Mzpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MiA9IGNvbnRleHQkMSQwW1wiY2F0Y2hcIl0oMjkpO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQxJDAudDI7XG5cblx0XHRcdGNhc2UgNDc6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0Nztcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQ4O1xuXG5cdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRjYXNlIDUwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gNTA7XG5cblx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1Mztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRjYXNlIDUzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDUwKTtcblxuXHRcdFx0Y2FzZSA1NDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCg0Nyk7XG5cblx0XHRcdGNhc2UgNTU6XG5cblx0XHRcdFx0aWYgKG5vdFdyaXRhYmxlKSB7XG5cdFx0XHRcdFx0YXJyLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0sIGZhbHNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghKCFzdWNjZWVkZWQgJiYgdGhyb3dPbkVycm9yKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1ODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6IGxlbmd0aFwiKTtcblxuXHRcdFx0Y2FzZSA1ODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBzdWNjZWVkZWQpO1xuXG5cdFx0XHRjYXNlIDU5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzLCBbWzI5LCA0MywgNDcsIDU1XSwgWzQ4LCwgNTAsIDU0XV0pO1xufVxuXG52YXIgQXJyYXlUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoQXJyYXlUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gQXJyYXlUeXBlKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcnJheVR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJyYXlUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IFwiQXJyYXlcIjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhBcnJheVR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChvYmplY3RGYWN0b3J5KSB7XG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDApLCBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUgfSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInB1dFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHB1dFZhbHVlKG5hbWUsIHZhbHVlLCB0aHJvd09uRXJyb3IsIGVudikge1xuXHRcdFx0aWYgKG5hbWUgPT09IFwibGVuZ3RoXCIpIHtcblx0XHRcdFx0KDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHNldExlbmd0aChlbnYsIHRoaXMsIG5hbWUsIHsgdmFsdWU6IHZhbHVlIH0sIHRocm93T25FcnJvcikpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFycmF5VHlwZS5wcm90b3R5cGUpLCBcInB1dFZhbHVlXCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlZmluZU93blByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZU93blByb3BlcnR5KG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvciwgZW52KSB7XG5cdFx0XHRpZiAoY29udHJhY3RzLmlzSW50ZWdlcihuYW1lKSAmJiBjb250cmFjdHMuaXNWYWxpZEFycmF5TGVuZ3RoKE51bWJlcihuYW1lKSArIDEpICYmICF0aGlzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBzZXRJbmRleChlbnYsIHRoaXMsIG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuYW1lID09PSBcImxlbmd0aFwiICYmIFwibGVuZ3RoXCIgaW4gdGhpcy5wcm9wZXJ0aWVzICYmIGRlc2NyaXB0b3IgJiYgXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShzZXRMZW5ndGgoZW52LCB0aGlzLCBuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFycmF5VHlwZS5wcm90b3R5cGUpLCBcImRlZmluZU93blByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0dmFyIGFyciA9IFtdO1xuXG5cdFx0XHQvLyB0aGlzIHdvbid0IGdyYWIgcHJvcGVydGllcyBmcm9tIHRoZSBwcm90b3R5cGUgLSBkbyB3ZSBjYXJlP1xuXHRcdFx0Ly8gaXQncyBhbiBlZGdlIGNhc2UgYnV0IHdlIG1heSB3YW50IHRvIGFkZHJlc3MgaXRcblx0XHRcdGZvciAodmFyIGluZGV4IGluIHRoaXMucHJvcGVydGllcykge1xuXHRcdFx0XHRpZiAodGhpcy5wcm9wZXJ0aWVzW2luZGV4XS5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0YXJyW051bWJlcihpbmRleCldID0gdGhpcy5nZXRWYWx1ZShpbmRleCkudG9OYXRpdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYXJyO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBBcnJheVR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5BcnJheVR5cGUgPSBBcnJheVR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIERhdGVUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoRGF0ZVR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBEYXRlVHlwZSh2YWx1ZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXRlVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudHlwZSA9IFwib2JqZWN0XCI7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkRhdGVcIjtcblxuXHRcdC8vIDExLjYuMSBOb3RlIDFcblx0XHQvLyBBbGwgbmF0aXZlIEVDTUFTY3JpcHQgb2JqZWN0cyBleGNlcHQgRGF0ZSBvYmplY3RzIGhhbmRsZSB0aGUgYWJzZW5jZSBvZiBhIGhpbnQgYXMgaWYgdGhlIGhpbnRcblx0XHQvLyBOdW1iZXIgd2VyZSBnaXZlbjsgRGF0ZSBvYmplY3RzIGhhbmRsZSB0aGUgYWJzZW5jZSBvZiBhIGhpbnQgYXMgaWYgdGhlIGhpbnQgU3RyaW5nIHdlcmUgZ2l2ZW4uXG5cdFx0dGhpcy5wcmltaXRpdmVIaW50ID0gXCJzdHJpbmdcIjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhEYXRlVHlwZSwgW3tcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRGF0ZVR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5EYXRlVHlwZSA9IERhdGVUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBFcnJvclR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhFcnJvclR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBFcnJvclR5cGUoc291cmNlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVycm9yVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihFcnJvclR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuc291cmNlID0gc291cmNlO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJFcnJvclwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEVycm9yVHlwZSwgW3tcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zb3VyY2U7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEVycm9yVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkVycm9yVHlwZSA9IEVycm9yVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfcHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4vcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJMZW5ndGgocGFyYW1zKSB7XG5cdGZvciAodmFyIGkgPSAwLCBsbiA9IHBhcmFtcy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0Ly8gcGFyYW1ldGVyIGxlbmd0aCBzaG91bGQgb25seSBpbmNsdWRlIHRoZSBmaXJzdCBcIkZvcm1hbFwiIHBhcmFtZXRlcnNcblx0XHRpZiAocGFyYW1zW2ldLnR5cGUgIT09IFwiSWRlbnRpZmllclwiKSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcGFyYW1zLmxlbmd0aDtcbn1cblxudmFyIEZ1bmN0aW9uVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKEZ1bmN0aW9uVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIEZ1bmN0aW9uVHlwZShub2RlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZ1bmN0aW9uVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvblR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMudHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IFwiRnVuY3Rpb25cIjtcblx0XHR0aGlzLm5hdGl2ZSA9IGZhbHNlO1xuXHRcdHRoaXMubm9kZSA9IG5vZGU7XG5cblx0XHR0aGlzLmFycm93ID0gbm9kZSAmJiBub2RlLnR5cGUgPT09IFwiQXJyb3dGdW5jdGlvbkV4cHJlc3Npb25cIjtcblxuXHRcdHRoaXMuYm91bmRTY29wZSA9IG51bGw7XG5cdFx0dGhpcy5ib3VuZFRoaXMgPSBudWxsO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEZ1bmN0aW9uVHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG9iamVjdEZhY3RvcnksIHByb3RvLCBkZXNjcmlwdG9yLCBzdHJpY3QpIHtcblx0XHRcdGlmIChzdHJpY3QgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLnN0cmljdCA9IHN0cmljdDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc2V0IGxlbmd0aCBwcm9wZXJ0eSBmcm9tIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVyc1xuXHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShnZXRQYXJhbWV0ZXJMZW5ndGgodGhpcy5ub2RlLnBhcmFtcykpIH0pO1xuXHRcdFx0dGhpcy5pbml0U3RyaWN0KG9iamVjdEZhY3RvcnkpO1xuXG5cdFx0XHRpZiAoIXRoaXMuYXJyb3cpIHtcblx0XHRcdFx0Ly8gZnVuY3Rpb25zIGhhdmUgYSBwcm90b3R5cGVcblx0XHRcdFx0cHJvdG8gPSBwcm90byB8fCBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwicHJvdG90eXBlXCIsIHsgdmFsdWU6IHByb3RvLCB3cml0YWJsZTogdHJ1ZSB9KTtcblxuXHRcdFx0XHQvLyBzZXQgdGhlIGNvbnRydWN0b3IgcHJvcGVydHkgYXMgYW4gaW5zdGFuY2Ugb2YgaXRzZWxmXG5cdFx0XHRcdHByb3RvLnByb3BlcnRpZXMuY29uc3RydWN0b3IgPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImluaXRTdHJpY3RcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdFN0cmljdChvYmplY3RGYWN0b3J5KSB7XG5cdFx0XHQvLyBpZiAodGhpcy5pc1N0cmljdCgpKSB7XG5cdFx0XHQvLyBcdGxldCB0aHJvd2VyUHJvcHMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVRocm93ZXIoXCInY2FsbGVyJywgJ2NhbGxlZScsIGFuZCAnYXJndW1lbnRzJyBwcm9wZXJ0aWVzIG1heSBub3QgYmUgYWNjZXNzZWQgb24gc3RyaWN0IG1vZGUgZnVuY3Rpb25zIG9yIHRoZSBhcmd1bWVudHMgb2JqZWN0cyBmb3IgY2FsbHMgdG8gdGhlbVwiKTtcblx0XHRcdC8vIFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlclwiLCB0aHJvd2VyUHJvcHMpO1xuXHRcdFx0Ly8gXHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwiYXJndW1lbnRzXCIsIHRocm93ZXJQcm9wcyk7XG5cdFx0XHQvLyB9IGVsc2Uge1xuXHRcdFx0Ly8gXHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVyXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHVuZGVmaW5lZCkgfSk7XG5cdFx0XHQvLyB9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImJpbmRUaGlzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmRUaGlzKHRoaXNBcmcpIHtcblx0XHRcdHRoaXMuYm91bmRUaGlzID0gdGhpcy5ib3VuZFRoaXMgfHwgdGhpc0FyZztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiYmluZFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmRTY29wZShzY29wZSkge1xuXHRcdFx0dGhpcy5ib3VuZFNjb3BlID0gc2NvcGU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImlzU3RyaWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzU3RyaWN0KCkge1xuXHRcdFx0aWYgKFwic3RyaWN0XCIgaW4gdGhpcykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zdHJpY3Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLnN0cmljdCA9IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUodGhpcy5ub2RlLmJvZHkuYm9keSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVNjb3BlKGVudiwgdGhpc0FyZywgaXNOZXcpIHtcblx0XHRcdC8vIGlmIGEgcGFyZW50IHNjb3BlIGlzIGRlZmluZWQgd2UgbmVlZCB0byBsaW1pdCB0aGlzIHNjb3BlIHRvIHRoYXQgc2NvcGVcblx0XHRcdHZhciBwcmlvclNjb3BlID0gZW52LmN1cnJlbnQuc2NvcGU7XG5cblx0XHRcdGlmICh0aGlzLmJvdW5kU2NvcGUpIHtcblx0XHRcdFx0ZW52LnNldFNjb3BlKHRoaXMuYm91bmRTY29wZS5zY29wZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXNBcmcgPSB0aGlzLmJvdW5kVGhpcyB8fCB0aGlzQXJnO1xuXHRcdFx0aWYgKHRoaXMuYXJyb3cpIHtcblx0XHRcdFx0dGhpc0FyZyA9IGVudi5nZXRUaGlzQmluZGluZygpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUodGhpc0FyZywgcHJpb3JTY29wZSk7XG5cdFx0XHRzY29wZS5wcmlvclNjb3BlID0gcHJpb3JTY29wZTtcblx0XHRcdHJldHVybiBzY29wZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzSW5zdGFuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzSW5zdGFuY2Uob2JqKSB7XG5cdFx0XHRpZiAob2JqID09PSB0aGlzKSB7XG5cdFx0XHRcdC8vIG9iamVjdCBvYnZpb3VzbHkgaXNuJ3QgYW4gaW5zdGFuY2UgaW4gdGhpcyBjYXNlXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHZpc2l0ZWQgPSBbXTtcblx0XHRcdHZhciBjdXJyZW50ID0gb2JqO1xuXG5cdFx0XHR2YXIgcHJvdG8gPSB0aGlzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChwcm90bykgfHwgIWNvbnRyYWN0cy5pc09iamVjdChwcm90bykpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGhhcyBub24tb2JqZWN0IHByb3RvdHlwZSBpbiBpbnN0YW5jZW9mIGNoZWNrXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHR3aGlsZSAoY3VycmVudCkge1xuXHRcdFx0XHRpZiAodmlzaXRlZC5pbmRleE9mKGN1cnJlbnQpID49IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudCA9PT0gcHJvdG8pIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGtlZXAgYSBzdGFjayB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2Vcblx0XHRcdFx0dmlzaXRlZC5wdXNoKGN1cnJlbnQpO1xuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEZ1bmN0aW9uVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkZ1bmN0aW9uVHlwZSA9IEZ1bmN0aW9uVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgSXRlcmF0b3JUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoSXRlcmF0b3JUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gSXRlcmF0b3JUeXBlKGl0ZXJhYmxlKSB7XG5cdFx0dmFyIGtpbmQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBcImtleSt2YWx1ZVwiIDogYXJndW1lbnRzWzFdO1xuXG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZXJhdG9yVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihJdGVyYXRvclR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXG5cdFx0dGhpcy5pdGVyYWJsZSA9IGl0ZXJhYmxlO1xuXHRcdHRoaXMucG9zaXRpb24gPSAwO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJJdGVyYXRvclwiO1xuXHRcdHRoaXMua2luZCA9IGtpbmQ7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoSXRlcmF0b3JUeXBlLCBbe1xuXHRcdGtleTogXCJhZHZhbmNlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGFkdmFuY2UoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5pdGVyYWJsZS5uZXh0KCk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEl0ZXJhdG9yVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkl0ZXJhdG9yVHlwZSA9IEl0ZXJhdG9yVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgTWFwVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKE1hcFR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBNYXBUeXBlKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXBUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKE1hcFR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMubWFwRGF0YSA9IFtdO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE1hcFR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChvYmplY3RGYWN0b3J5KSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJzaXplXCIsIHtcblx0XHRcdFx0Z2V0dGVyOiBmdW5jdGlvbiBnZXR0ZXIoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHNlbGYubWFwRGF0YS5sZW5ndGgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uIGdldCgpIHt9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gTWFwVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLk1hcFR5cGUgPSBNYXBUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9mdW5jdGlvblR5cGUgPSByZXF1aXJlKFwiLi9mdW5jdGlvbi10eXBlXCIpO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBOYXRpdmVGdW5jdGlvblR5cGUgPSAoZnVuY3Rpb24gKF9GdW5jdGlvblR5cGUpIHtcblx0X2luaGVyaXRzKE5hdGl2ZUZ1bmN0aW9uVHlwZSwgX0Z1bmN0aW9uVHlwZSk7XG5cblx0ZnVuY3Rpb24gTmF0aXZlRnVuY3Rpb25UeXBlKGZuKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5hdGl2ZUZ1bmN0aW9uVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihOYXRpdmVGdW5jdGlvblR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMudHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0XHR0aGlzLm5hdGl2ZSA9IHRydWU7XG5cdFx0dGhpcy5uYXRpdmVGdW5jdGlvbiA9IGZuO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE5hdGl2ZUZ1bmN0aW9uVHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG9iamVjdEZhY3RvcnksIHByb3RvLCBkZXNjcmlwdG9yKSB7XG5cdFx0XHR2YXIgbGVuZ3RoID0gdGhpcy5uYXRpdmVGdW5jdGlvbi5sZW5ndGg7XG5cdFx0XHRpZiAoXCJuYXRpdmVMZW5ndGhcIiBpbiB0aGlzLm5hdGl2ZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdGxlbmd0aCA9IHRoaXMubmF0aXZlRnVuY3Rpb24ubmF0aXZlTGVuZ3RoO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJzdHJpY3RcIiBpbiB0aGlzLm5hdGl2ZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdHRoaXMuc3RyaWN0ID0gdGhpcy5uYXRpdmVGdW5jdGlvbi5zdHJpY3Q7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuaW5pdFN0cmljdChvYmplY3RGYWN0b3J5KTtcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwge1xuXHRcdFx0XHR2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiBmYWxzZVxuXHRcdFx0fSk7XG5cblx0XHRcdHByb3RvID0gcHJvdG8gfHwgb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdHByb3RvLnByb3BlcnRpZXMuY29uc3RydWN0b3IgPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMgfSk7XG5cblx0XHRcdGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9yIHx8IHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlIH07XG5cdFx0XHR2YXIgcHJvdG9EZXNjcmlwdG9yID0ge1xuXHRcdFx0XHR2YWx1ZTogcHJvdG8sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcblx0XHRcdFx0d3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGVcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJwcm90b3R5cGVcIiwgcHJvdG9EZXNjcmlwdG9yKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gTmF0aXZlRnVuY3Rpb25UeXBlO1xufSkoX2Z1bmN0aW9uVHlwZS5GdW5jdGlvblR5cGUpO1xuXG5leHBvcnRzLk5hdGl2ZUZ1bmN0aW9uVHlwZSA9IE5hdGl2ZUZ1bmN0aW9uVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfcHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2Z1bmN0aW9uVHlwZSA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLXR5cGVcIik7XG5cbnZhciBfbmF0aXZlRnVuY3Rpb25UeXBlID0gcmVxdWlyZShcIi4vbmF0aXZlLWZ1bmN0aW9uLXR5cGVcIik7XG5cbnZhciBfcmVnZXhUeXBlID0gcmVxdWlyZShcIi4vcmVnZXgtdHlwZVwiKTtcblxudmFyIF9hcnJheVR5cGUgPSByZXF1aXJlKFwiLi9hcnJheS10eXBlXCIpO1xuXG52YXIgX3N0cmluZ1R5cGUgPSByZXF1aXJlKFwiLi9zdHJpbmctdHlwZVwiKTtcblxudmFyIF9kYXRlVHlwZSA9IHJlcXVpcmUoXCIuL2RhdGUtdHlwZVwiKTtcblxudmFyIF9lcnJvclR5cGUgPSByZXF1aXJlKFwiLi9lcnJvci10eXBlXCIpO1xuXG52YXIgX2FyZ3VtZW50VHlwZSA9IHJlcXVpcmUoXCIuL2FyZ3VtZW50LXR5cGVcIik7XG5cbnZhciBfc2V0VHlwZSA9IHJlcXVpcmUoXCIuL3NldC10eXBlXCIpO1xuXG52YXIgX2l0ZXJhdG9yVHlwZSA9IHJlcXVpcmUoXCIuL2l0ZXJhdG9yLXR5cGVcIik7XG5cbnZhciBfc3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX21hcFR5cGUgPSByZXF1aXJlKFwiLi9tYXAtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgb3JwaGFucyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xudmFyIGZ1bmN0aW9uTmFtZU1hdGNoZXIgPSAvXFwuPyhcXHcrKSQvO1xuXG5mdW5jdGlvbiBzZXRPcnBoYW5zKHNjb3BlKSB7XG5cdHZhciBfbG9vcCA9IGZ1bmN0aW9uICh0eXBlTmFtZSkge1xuXHRcdHZhciBwYXJlbnQgPSBzY29wZS5nZXRWYWx1ZSh0eXBlTmFtZSk7XG5cdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0b3JwaGFuc1t0eXBlTmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcblx0XHRcdFx0Y2hpbGQuc2V0UHJvdG90eXBlKHBhcmVudC5nZXRWYWx1ZShcInByb3RvdHlwZVwiKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZGVsZXRlIG9ycGhhbnNbdHlwZU5hbWVdO1xuXHRcdH1cblx0fTtcblxuXHRmb3IgKHZhciB0eXBlTmFtZSBpbiBvcnBoYW5zKSB7XG5cdFx0X2xvb3AodHlwZU5hbWUpO1xuXHR9XG5cblx0b3JwaGFucyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xufVxuXG5mdW5jdGlvbiBzZXRQcm90byh0eXBlTmFtZSwgaW5zdGFuY2UsIGVudikge1xuXHR2YXIgcGFyZW50ID0gZW52LmdldFJlZmVyZW5jZSh0eXBlTmFtZSk7XG5cdGlmIChwYXJlbnQuaXNVbnJlc29sdmVkKCkpIHtcblx0XHQvLyBkdXJpbmcgaW5pdGlhbGl6YXRpb24gaXQgaXMgcG9zc2libGUgZm9yIG9iamVjdHMgdG8gYmUgY3JlYXRlZFxuXHRcdC8vIGJlZm9yZSB0aGUgdHlwZXMgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgLSBhZGQgYSByZWdpc3RyeSBvZiBpdGVtc1xuXHRcdC8vIGFuZCB0aGVzZSBjYW4gYmUgZmlsbGVkIGluIHdoZW4gdGhlIHR5cGUgaXMgcmVnaXN0ZXJlZFxuXHRcdG9ycGhhbnNbdHlwZU5hbWVdID0gb3JwaGFuc1t0eXBlTmFtZV0gfHwgW107XG5cdFx0b3JwaGFuc1t0eXBlTmFtZV0ucHVzaChpbnN0YW5jZSk7XG5cblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgcHJvdG8gPSBwYXJlbnQuZ2V0VmFsdWUoKS5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0aW5zdGFuY2Uuc2V0UHJvdG90eXBlKHByb3RvKTtcbn1cblxudmFyIGRlZmF1bHREZXNjcmlwdG9yID0geyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH07XG5mdW5jdGlvbiBjcmVhdGVEYXRhUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlKSB7XG5cdHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdERlc2NyaXB0b3IgOiBhcmd1bWVudHNbMV07XG5cblx0dmFyIF9yZWYkY29uZmlndXJhYmxlID0gX3JlZi5jb25maWd1cmFibGU7XG5cdHZhciBjb25maWd1cmFibGUgPSBfcmVmJGNvbmZpZ3VyYWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkY29uZmlndXJhYmxlO1xuXHR2YXIgX3JlZiRlbnVtZXJhYmxlID0gX3JlZi5lbnVtZXJhYmxlO1xuXHR2YXIgZW51bWVyYWJsZSA9IF9yZWYkZW51bWVyYWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkZW51bWVyYWJsZTtcblx0dmFyIF9yZWYkd3JpdGFibGUgPSBfcmVmLndyaXRhYmxlO1xuXHR2YXIgd3JpdGFibGUgPSBfcmVmJHdyaXRhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiR3cml0YWJsZTtcblxuXHRyZXR1cm4geyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLCBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLCB3cml0YWJsZTogd3JpdGFibGUgfTtcbn1cblxudmFyIE9iamVjdEZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBPYmplY3RGYWN0b3J5KGVudikge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYmplY3RGYWN0b3J5KTtcblxuXHRcdHRoaXMuZW52ID0gZW52O1xuXHRcdHRoaXMub3B0aW9ucyA9IGVudi5vcHRpb25zO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE9iamVjdEZhY3RvcnksIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcdHNldE9ycGhhbnModGhpcy5lbnYpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBwcmltaXRpdmUgb2JqZWN0IGJhc2VkIG9uIHRoZSBwcm92aWRlZCBuYXRpdmUgdmFsdWUuXHJcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlIC0gVGhlIHByaW1pdGl2ZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIHByaW1pdGl2ZSBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVQcmltaXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlKHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGUoY29udHJhY3RzLmdldFR5cGUodmFsdWUpLCB2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhbiBvYmplY3QgYmFzZWQgb24gdGhlIHR5cGUgc3BlY2lmaWVkLiBGb3IgYSBwcmltaXRpdmUgdHlwZSB0aGUgc2Vjb25kXHJcbiAgICogcGFyYW1ldGVyIGlzIHVzZWQgYXMgdGhlIG9iamVjdHMgdW5kZXJseWluZyB2YWx1ZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgb2JqZWN0IHRvIGNyZWF0ZS5cclxuICAgKiBAcGFyYW0ge2FueX0gW3ZhbHVlXSAtIFRoZSBwcmltaXRpdmUgdmFsdWUuXHJcbiAgICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSBuZXcgaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSh0eXBlTmFtZSwgdmFsdWUpIHtcblx0XHRcdC8vIHRoZSB2YWx1ZSBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gYW4gb2JqZWN0XG5cdFx0XHQvLyB0aGlzIGNhbiBoYXBwZW4gaWYgYW4gZXhjZXB0aW9uIGlzIHJldGhyb3duXG5cdFx0XHRpZiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBfb2JqZWN0VHlwZS5PYmplY3RUeXBlKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGluc3RhbmNlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRzd2l0Y2ggKHR5cGVOYW1lKSB7XG5cdFx0XHRcdGNhc2UgXCJOdWxsXCI6XG5cdFx0XHRcdFx0cmV0dXJuIF9wcmltaXRpdmVUeXBlLk5VTEw7XG5cblx0XHRcdFx0Y2FzZSBcIlVuZGVmaW5lZFwiOlxuXHRcdFx0XHRcdHJldHVybiBfcHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0Y2FzZSBcIlN5bWJvbFwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9zeW1ib2xUeXBlLlN5bWJvbFR5cGUodmFsdWUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJTdHJpbmdcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfc3RyaW5nVHlwZS5TdHJpbmdUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiTnVtYmVyXCI6XG5cdFx0XHRcdGNhc2UgXCJCb29sZWFuXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX3ByaW1pdGl2ZVR5cGUuUHJpbWl0aXZlVHlwZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIkRhdGVcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfZGF0ZVR5cGUuRGF0ZVR5cGUodmFsdWUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJSZWdFeHBcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfcmVnZXhUeXBlLlJlZ2V4VHlwZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIkFycmF5XCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX2FycmF5VHlwZS5BcnJheVR5cGUoKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiU2V0XCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX3NldFR5cGUuU2V0VHlwZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJNYXBcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfbWFwVHlwZS5NYXBUeXBlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIkVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJUeXBlRXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIlJlZmVyZW5jZUVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJTeW50YXhFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiUmFuZ2VFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiVVJJRXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIkV2YWxFcnJvclwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9lcnJvclR5cGUuRXJyb3JUeXBlKHZhbHVlKTtcblxuXHRcdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0dHlwZU5hbWUgPSB2YWx1ZS5uYW1lIHx8IHR5cGVOYW1lO1xuXHRcdFx0XHRcdFx0aWYgKHZhbHVlLm1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdFx0dmFyIG1lc3NhZ2UgPSB0aGlzLmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZS5tZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJtZXNzYWdlXCIsIGNyZWF0ZURhdGFQcm9wZXJ0eURlc2NyaXB0b3IobWVzc2FnZSwgeyBlbnVtZXJhYmxlOiBmYWxzZSB9KSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBwcmltaXRpdmU6IFwiICsgdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnN0YW5jZS5pbml0KHRoaXMpO1xuXHRcdFx0c2V0UHJvdG8odHlwZU5hbWUsIGluc3RhbmNlLCB0aGlzLmVudik7XG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlW119IFtlbGVtZW50c10gLSBJZiBwcm92aWRlZCwgdGhlIGVsZW1lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIG5ldyBhcnJheS5cclxuICAgKiBAcmV0dXJucyB7QXJyYXlUeXBlfSBUaGUgYXJyYXkgaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlQXJyYXlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQXJyYXkoZWxlbWVudHMpIHtcblx0XHRcdHZhciBpbnN0YW5jZSA9IHRoaXMuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRcdGlmIChlbGVtZW50cykge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbG4gPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoaSwgY3JlYXRlRGF0YVByb3BlcnR5RGVzY3JpcHRvcihlbGVtZW50c1tpXSksIHRydWUsIHRoaXMuZW52KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhbiBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSBbcHJvdG9dIC0gVGhlIHByb3RvdHlwZSB0byB1c2Ugd2l0aCB0aGUgbmV3IG9iamVjdC4gSWYgbm8gdmFsdWUgaXMgcHJvdmlkZWRcclxuICAgKiB0aGUgT2JqZWN0IHByb3RvdHlwZSB3aWxsIGJlIHVzZWQuIElmIGBudWxsYCBpcyBwYXNzZWQgaW4sIG5vIHByb3RvdHlwZSB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZVxyXG4gICAqIG5ldyBvYmplY3QuXHJcbiAgICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSBvYmplY3QgaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlT2JqZWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChwcm90bykge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9vYmplY3RUeXBlLk9iamVjdFR5cGUoKTtcblxuXHRcdFx0aWYgKHByb3RvICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChwcm90bykge1xuXHRcdFx0XHRcdGluc3RhbmNlLnNldFByb3RvdHlwZShwcm90by5nZXRWYWx1ZShcInByb3RvdHlwZVwiKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2V0UHJvdG8oXCJPYmplY3RcIiwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpbnN0YW5jZS5pbml0KHRoaXMpO1xuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVBcmd1bWVudHNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQXJndW1lbnRzKGFyZ3MsIGNhbGxlZSwgc3RyaWN0KSB7XG5cdFx0XHR2YXIgaW5zdGFuY2UgPSBuZXcgX2FyZ3VtZW50VHlwZS5Bcmd1bWVudFR5cGUoKTtcblx0XHRcdHZhciBvYmplY3RDbGFzcyA9IHRoaXMuZW52Lmdsb2JhbC5nZXRWYWx1ZShcIk9iamVjdFwiKTtcblxuXHRcdFx0aW5zdGFuY2UuaW5pdCh0aGlzLCBvYmplY3RDbGFzcywgb2JqZWN0Q2xhc3MuZ2V0UHJvdG90eXBlKCkpO1xuXHRcdFx0aW5zdGFuY2Uuc2V0UHJvdG90eXBlKG9iamVjdENsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpKTtcblxuXHRcdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0XHR2YXIgdGhyb3dlciA9IHRoaXMuY3JlYXRlVGhyb3dlcihcIidjYWxsZXInLCAnY2FsbGVlJywgYW5kICdhcmd1bWVudHMnIHByb3BlcnRpZXMgbWF5IG5vdCBiZSBhY2Nlc3NlZCBvbiBzdHJpY3QgbW9kZSBmdW5jdGlvbnMgb3IgdGhlIGFyZ3VtZW50cyBvYmplY3RzIGZvciBjYWxscyB0byB0aGVtXCIpO1xuXHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlZVwiLCB0aHJvd2VyKTtcblx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZXJcIiwgdGhyb3dlcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlZVwiLCB7XG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdHZhbHVlOiBjYWxsZWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlSXRlcmF0b3JcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlSXRlcmF0b3IoaXRlcmFibGUsIHByb3RvLCBraW5kKSB7XG5cdFx0XHR2YXIgaW5zdGFuY2UgPSBuZXcgX2l0ZXJhdG9yVHlwZS5JdGVyYXRvclR5cGUoaXRlcmFibGUsIGtpbmQpO1xuXHRcdFx0aW5zdGFuY2Uuc2V0UHJvdG90eXBlKHByb3RvKTtcblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlSXRlcmF0b3JSZXN1bHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlSXRlcmF0b3JSZXN1bHQoX3JlZjIpIHtcblx0XHRcdHZhciB2YWx1ZSA9IF9yZWYyLnZhbHVlO1xuXHRcdFx0dmFyIF9yZWYyJGRvbmUgPSBfcmVmMi5kb25lO1xuXHRcdFx0dmFyIGRvbmUgPSBfcmVmMiRkb25lID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYyJGRvbmU7XG5cblx0XHRcdHZhciByZXN1bHQgPSB0aGlzLmNyZWF0ZU9iamVjdCgpO1xuXHRcdFx0cmVzdWx0LmRlZmluZU93blByb3BlcnR5KFwiZG9uZVwiLCB7IHZhbHVlOiB0aGlzLmNyZWF0ZVByaW1pdGl2ZShkb25lKSB9KTtcblx0XHRcdHJlc3VsdC5kZWZpbmVPd25Qcm9wZXJ0eShcInZhbHVlXCIsIHsgdmFsdWU6IHZhbHVlIHx8IF9wcmltaXRpdmVUeXBlLlVOREVGSU5FRCB9KTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGluc3RhbmNlLlxyXG4gICAqIEBwYXJhbSB7QVNUfEZ1bmN0aW9ufSBmbk9yTm9kZSAtIFRoZSBBU1Qgb3IgZnVuY3Rpb24gdG8gYmUgdXNlZCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSBbcHJvdG9dIC0gVGhlIHByb3RvdHlwZSB0byB1c2UgZm9yIHRoZSBmdW5jdGlvbi4gSWYgbm8gb2JqZWN0IGlzIHByb3ZpZGVkXHJcbiAgICogYW4gZW1wdHkgb2JqZWN0IGlzIHVzZWQuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFByb3BlcnR5IHZhbHVlcyB0byBiZSB1c2VkIGZvciB0aGUgcHJvdG90eXBlLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvblR5cGV9IFRoZSBmdW5jdGlvbiBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVGdW5jdGlvblwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvbihmbk9yTm9kZSwgcHJvdG8pIHtcblx0XHRcdHZhciBfcmVmMyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzJdO1xuXG5cdFx0XHR2YXIgX3JlZjMkY29uZmlndXJhYmxlID0gX3JlZjMuY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIGNvbmZpZ3VyYWJsZSA9IF9yZWYzJGNvbmZpZ3VyYWJsZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMyRjb25maWd1cmFibGU7XG5cdFx0XHR2YXIgX3JlZjMkZW51bWVyYWJsZSA9IF9yZWYzLmVudW1lcmFibGU7XG5cdFx0XHR2YXIgZW51bWVyYWJsZSA9IF9yZWYzJGVudW1lcmFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZjMkZW51bWVyYWJsZTtcblx0XHRcdHZhciBfcmVmMyR3cml0YWJsZSA9IF9yZWYzLndyaXRhYmxlO1xuXHRcdFx0dmFyIHdyaXRhYmxlID0gX3JlZjMkd3JpdGFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmMyR3cml0YWJsZTtcblx0XHRcdHZhciBfcmVmMyRzdHJpY3QgPSBfcmVmMy5zdHJpY3Q7XG5cdFx0XHR2YXIgc3RyaWN0ID0gX3JlZjMkc3RyaWN0ID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYzJHN0cmljdDtcblx0XHRcdHZhciBfcmVmMyRuYW1lID0gX3JlZjMubmFtZTtcblx0XHRcdHZhciBuYW1lID0gX3JlZjMkbmFtZSA9PT0gdW5kZWZpbmVkID8gXCJhbm9ueW1vdXNcIiA6IF9yZWYzJG5hbWU7XG5cblx0XHRcdHZhciBpbnN0YW5jZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKHR5cGVvZiBmbk9yTm9kZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRcdGluc3RhbmNlID0gbmV3IF9uYXRpdmVGdW5jdGlvblR5cGUuTmF0aXZlRnVuY3Rpb25UeXBlKGZuT3JOb2RlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGluc3RhbmNlID0gbmV3IF9mdW5jdGlvblR5cGUuRnVuY3Rpb25UeXBlKGZuT3JOb2RlKTtcblx0XHRcdH1cblxuXHRcdFx0aW5zdGFuY2UuaW5pdCh0aGlzLCBwcm90bywgeyBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSwgZW51bWVyYWJsZTogZW51bWVyYWJsZSwgd3JpdGFibGU6IHdyaXRhYmxlIH0sIHN0cmljdCk7XG5cdFx0XHRpbnN0YW5jZS5uYW1lID0gbmFtZTtcblxuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5lY21hVmVyc2lvbiA+IDUpIHtcblx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJuYW1lXCIsIHsgdmFsdWU6IHRoaXMuY3JlYXRlUHJpbWl0aXZlKG5hbWUpLCBjb25maWd1cmFibGU6IHRydWUgfSwgdHJ1ZSwgdGhpcy5lbnYpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRQcm90byhcIkZ1bmN0aW9uXCIsIGluc3RhbmNlLCB0aGlzLmVudik7XG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUdldHRlclwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVHZXR0ZXIoZnVuYywga2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuYywgMCwgXCJnZXQgXCIgKyBrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVTZXR0ZXJcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU2V0dGVyKGZ1bmMsIGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmMsIDEsIFwic2V0IFwiICsga2V5KTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gd2l0aCBubyBwcm90b3R5cGUgdGhhdCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBUaGUgdW5kZXJseWluZyBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIC0gVGhlIGxlbmd0aCBwcm9wZXJ0eSBvZiB0aGUgZnVuY3Rpb24uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZ1bmNOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxyXG4gICAqIEByZXR1cm5zIHtOYXRpdmVGdW5jdGlvblR5cGV9IFRoZSBmdW5jdGlvbiBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVCdWlsdEluRnVuY3Rpb25cIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmMsIGxlbmd0aCwgZnVuY05hbWUpIHtcblx0XHRcdHZhciBpbnN0YW5jZSA9IG5ldyBfbmF0aXZlRnVuY3Rpb25UeXBlLk5hdGl2ZUZ1bmN0aW9uVHlwZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICh0aGlzLmlzTmV3KSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihmdW5jTmFtZSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRzZXRQcm90byhcIkZ1bmN0aW9uXCIsIGluc3RhbmNlLCB0aGlzLmVudik7XG5cdFx0XHRpbnN0YW5jZS5idWlsdEluID0gdHJ1ZTtcblx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IHRoaXMuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCksIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcblxuXHRcdFx0dmFyIG1hdGNoID0gZnVuY3Rpb25OYW1lTWF0Y2hlci5leGVjKGZ1bmNOYW1lKTtcblx0XHRcdHZhciBuYW1lID0gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgZnVuY05hbWU7XG5cblx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwibmFtZVwiLCB7IHZhbHVlOiB0aGlzLmNyZWF0ZVByaW1pdGl2ZShuYW1lKSwgY29uZmlndXJhYmxlOiB0cnVlIH0sIHRydWUsIHRoaXMuZW52KTtcblxuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVUaHJvd2VyXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVRocm93ZXIobWVzc2FnZSwgdGhyb3dlcikge1xuXHRcdFx0dGhpcy50aHJvd2VycyA9IHRoaXMudGhyb3dlcnMgfHwgX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHRpZiAobWVzc2FnZSBpbiB0aGlzLnRocm93ZXJzKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRocm93ZXJzW21lc3NhZ2VdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aHJvd2VyID0gdGhyb3dlciB8fCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IobWVzc2FnZSk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyB3ZSB3YW50IHRvIGtlZXAgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgdGhlIHRocm93ZXJzIGJlY2F1c2UgdGhlcmVcblx0XHRcdC8vIGFyZSBzaWxseSB0ZXN0cyB0aGF0IGNoZWNrIGZvciB0aGlzXG5cdFx0XHR2YXIgdGhyb3dlckluc3RhbmNlID0gdGhpcy5jcmVhdGVCdWlsdEluRnVuY3Rpb24odGhyb3dlcik7XG5cdFx0XHRyZXR1cm4gdGhpcy50aHJvd2Vyc1ttZXNzYWdlXSA9IHtcblx0XHRcdFx0Z2V0OiB0aHJvd2VySW5zdGFuY2UsXG5cdFx0XHRcdGdldHRlcjogdGhyb3dlcixcblx0XHRcdFx0c2V0OiB0aHJvd2VySW5zdGFuY2UsXG5cdFx0XHRcdHNldHRlcjogdGhyb3dlcixcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2Vcblx0XHRcdH07XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIE9iamVjdEZhY3Rvcnk7XG59KSgpO1xuXG5leHBvcnRzLk9iamVjdEZhY3RvcnkgPSBPYmplY3RGYWN0b3J5OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3Qka2V5cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGtleSkge1xuXHRyZXR1cm4ga2V5ICYmIHR5cGVvZiBrZXkgIT09IFwic3RyaW5nXCIgJiYga2V5LmlzU3ltYm9sO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eVNvdXJjZShrZXkpIHtcblx0cmV0dXJuIGlzU3ltYm9sKGtleSkgPyBcInN5bWJvbHNcIiA6IFwicHJvcGVydGllc1wiO1xufVxuXG52YXIgT2JqZWN0VHlwZSA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIE9iamVjdFR5cGUoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9iamVjdFR5cGUpO1xuXG5cdFx0dGhpcy5pc1ByaW1pdGl2ZSA9IGZhbHNlO1xuXHRcdHRoaXMudHlwZSA9IFwib2JqZWN0XCI7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIk9iamVjdFwiO1xuXHRcdHRoaXMuZXh0ZW5zaWJsZSA9IHRydWU7XG5cdFx0dGhpcy5wcm9wZXJ0aWVzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy5zeW1ib2xzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cblx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHRcdHRoaXMucHJpbWl0aXZlSGludCA9IFwibnVtYmVyXCI7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoT2JqZWN0VHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG9iamVjdEZhY3RvcnksIHByb3RvLCBkZXNjcmlwdG9yKSB7fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3RvdHlwZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRQcm90b3R5cGUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm90bztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0UHJvdG90eXBlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFByb3RvdHlwZShwcm90bykge1xuXHRcdFx0dGhpcy5wcm90byA9IHByb3RvO1xuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KGtleSkge1xuXHRcdFx0dmFyIHNvdXJjZSA9IGdldFByb3BlcnR5U291cmNlKGtleSk7XG5cdFx0XHRrZXkgPSBTdHJpbmcoa2V5KTtcblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzO1xuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0aWYgKGtleSBpbiBjdXJyZW50W3NvdXJjZV0pIHtcblx0XHRcdFx0XHRyZXR1cm4gY3VycmVudFtzb3VyY2VdW2tleV0uYmluZCh0aGlzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eShrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlLZXlzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5S2V5cygpIHtcblx0XHRcdHZhciBrZXlUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gXCJTdHJpbmdcIiA6IGFyZ3VtZW50c1swXTtcblxuXHRcdFx0aWYgKGtleVR5cGUgPT09IFwiU3ltYm9sXCIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc3ltYm9scy5tYXAoZnVuY3Rpb24gKGRlc2MpIHtcblx0XHRcdFx0XHRyZXR1cm4gZGVzYy5rZXk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX09iamVjdCRrZXlzKHRoaXMucHJvcGVydGllcyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cdFx0XHRyZXR1cm4gISF0aGlzLmdldFByb3BlcnR5KGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcIm93bnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gb3ducyhrZXkpIHtcblx0XHRcdHJldHVybiBTdHJpbmcoa2V5KSBpbiB0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJwdXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwdXRWYWx1ZShrZXksIHZhbHVlLCB0aHJvd09uRXJyb3IsIGVudikge1xuXHRcdFx0aWYgKHRoaXMuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdGlmIChkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdGlmICghZGVzY3JpcHRvci5jYW5TZXRWYWx1ZSgpKSB7XG5cdFx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5IHByb3BlcnR5ICdcIiArIGtleSArIFwiJyBvZiAlc1wiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGVzY3JpcHRvci5kYXRhUHJvcGVydHkgJiYgIXRoaXMub3ducyhrZXkpKSB7XG5cdFx0XHRcdFx0dGhpc1tnZXRQcm9wZXJ0eVNvdXJjZShrZXkpXVtTdHJpbmcoa2V5KV0gPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlXG5cdFx0XHRcdFx0fSwga2V5KTtcblxuXHRcdFx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlc2NyaXB0b3Iuc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KGtleSwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdGhyb3dPbkVycm9yLCBlbnYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWZpbmVPd25Qcm9wZXJ0eShrZXksIGRlc2NyaXB0b3IsIHRocm93T25FcnJvciwgZW52KSB7XG5cdFx0XHRpZiAodGhpcy5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBkZWZpbmUgcHJvcGVydHk6IFwiICsga2V5ICsgXCIsIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLmdldE93blByb3BlcnR5KGtleSk7XG5cdFx0XHRpZiAoY3VycmVudCkge1xuXHRcdFx0XHRpZiAoY3VycmVudC5jYW5VcGRhdGUoZGVzY3JpcHRvcikpIHtcblx0XHRcdFx0XHRjdXJyZW50LnVwZGF0ZShkZXNjcmlwdG9yKTtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlZGVmaW5lIHByb3BlcnR5OiBcIiArIGtleSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLmV4dGVuc2libGUpIHtcblx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgZGVmaW5lIHByb3BlcnR5OiBcIiArIGtleSArIFwiLCBvYmplY3QgaXMgbm90IGV4dGVuc2libGVcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXNbZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KV1bU3RyaW5nKGtleSldID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIGRlc2NyaXB0b3IsIGtleSk7XG5cdFx0XHR0aGlzLnZlcnNpb24rKztcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVQcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWxldGVQcm9wZXJ0eShrZXksIHRocm93T25FcnJvcikge1xuXHRcdFx0aWYgKHRoaXMuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc291cmNlID0gZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KTtcblx0XHRcdGtleSA9IFN0cmluZyhrZXkpO1xuXG5cdFx0XHRpZiAoa2V5IGluIHRoaXNbc291cmNlXSkge1xuXHRcdFx0XHRpZiAoIXRoaXNbc291cmNlXVtrZXldLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgZGVsZXRlIHByb3BlcnR5OiBcIiArIGtleSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdFx0cmV0dXJuIGRlbGV0ZSB0aGlzW3NvdXJjZV1ba2V5XTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVmaW5lXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZShrZXksIHZhbHVlKSB7XG5cdFx0XHR2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzJdO1xuXG5cdFx0XHR2YXIgX3JlZiRjb25maWd1cmFibGUgPSBfcmVmLmNvbmZpZ3VyYWJsZTtcblx0XHRcdHZhciBjb25maWd1cmFibGUgPSBfcmVmJGNvbmZpZ3VyYWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIF9yZWYkZW51bWVyYWJsZSA9IF9yZWYuZW51bWVyYWJsZTtcblx0XHRcdHZhciBlbnVtZXJhYmxlID0gX3JlZiRlbnVtZXJhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkZW51bWVyYWJsZTtcblx0XHRcdHZhciBfcmVmJHdyaXRhYmxlID0gX3JlZi53cml0YWJsZTtcblx0XHRcdHZhciB3cml0YWJsZSA9IF9yZWYkd3JpdGFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJHdyaXRhYmxlO1xuXHRcdFx0dmFyIGdldHRlciA9IF9yZWYuZ2V0dGVyO1xuXHRcdFx0dmFyIGdldCA9IF9yZWYuZ2V0O1xuXHRcdFx0dmFyIHNldHRlciA9IF9yZWYuc2V0dGVyO1xuXHRcdFx0dmFyIHNldCA9IF9yZWYuc2V0O1xuXG5cdFx0XHQvLyB0aGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgdXNhZ2Ugb25seSAtIGl0IHByb3ZpZGVzIGEgd2F5IHRvIGRlZmluZVxuXHRcdFx0Ly8gbWV0aG9kcyBhbmQgcHJvcGVydGllcyBhbmQgb3ZlcndyaXRlIGFueSBleGlzdGluZyBwcm9wZXJ0aWVzIGV2ZW4gaWYgdGhleSBhcmVcblx0XHRcdC8vIG5vdCBjb25maWd1cmFibGVcblxuXHRcdFx0dmFyIGRlc2NyaXB0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRpZiAoZ2V0dGVyIHx8IHNldHRlcikge1xuXHRcdFx0XHRkZXNjcmlwdG9yID0geyBnZXR0ZXI6IGdldHRlciwgZ2V0OiBnZXQsIHNldHRlcjogc2V0dGVyLCBzZXQ6IHNldCwgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsIGVudW1lcmFibGU6IGVudW1lcmFibGUgfTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlc2NyaXB0b3IgPSB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIHdyaXRhYmxlOiB3cml0YWJsZSB9O1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXSA9IG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBkZXNjcmlwdG9yLCBrZXkpO1xuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJlbW92ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG5cdFx0XHQvLyB0aGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgdXNhZ2Ugb25seSAtIGl0IHByb3ZpZGVzIGEgd2F5IHRvIHJlbW92ZVxuXHRcdFx0Ly8gcHJvcGVydGllcyBldmVuIGlmIHRoZXkgYXJlIG5vdCBub3JtYWxseSBhYmxlIHRvIGJlIGRlbGV0ZWRcblx0XHRcdGRlbGV0ZSB0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXTtcblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShrZXkpIHtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShrZXkpLmdldFZhbHVlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJmcmVlemVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZnJlZXplKCkge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiB0aGlzLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0aWYgKHRoaXMucHJvcGVydGllc1twcm9wXS5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KHByb3AsIHsgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlIH0sIHRydWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkocHJvcCwgeyBjb25maWd1cmFibGU6IGZhbHNlIH0sIHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicHJldmVudEV4dGVuc2lvbnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMoKSB7XG5cdFx0XHR0aGlzLmV4dGVuc2libGUgPSBmYWxzZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2VhbFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZWFsKCkge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiB0aGlzLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShwcm9wLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UgfSwgdHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZXF1YWxzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGVxdWFscyhvYmopIHtcblx0XHRcdGlmICh0aGlzLmlzUHJpbWl0aXZlICYmIG9iai5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWx1ZSA9PT0gb2JqLnZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcyA9PT0gb2JqO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHZhciB1bndyYXBwZWQgPSB7fTtcblx0XHRcdHZhciBjdXJyZW50ID0gdGhpcztcblxuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0Zm9yICh2YXIgX25hbWUgaW4gY3VycmVudC5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnQucHJvcGVydGllc1tfbmFtZV0uZW51bWVyYWJsZSAmJiAhKF9uYW1lIGluIHVud3JhcHBlZCkpIHtcblx0XHRcdFx0XHRcdHVud3JhcHBlZFtfbmFtZV0gPSBjdXJyZW50LmdldFZhbHVlKF9uYW1lKS50b05hdGl2ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW53cmFwcGVkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBPYmplY3RUeXBlO1xufSkoKTtcblxuZXhwb3J0cy5PYmplY3RUeXBlID0gT2JqZWN0VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIFByaW1pdGl2ZVR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhQcmltaXRpdmVUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gUHJpbWl0aXZlVHlwZSh2YWx1ZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcmltaXRpdmVUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByaW1pdGl2ZVR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXG5cdFx0dGhpcy5pc1ByaW1pdGl2ZSA9IHRydWU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdHRoaXMuY2xhc3NOYW1lID0gY29udHJhY3RzLmdldFR5cGUodmFsdWUpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFByaW1pdGl2ZVR5cGUsIFt7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KG5hbWUpIHtcblx0XHRcdC8vIGNhbid0IHJlYWQgcHJvcGVydGllcyBvZiBudWxsL3VuZGVmaW5lZFxuXHRcdFx0aWYgKHRoaXMudmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJvcGVydHkgJ1wiICsgbmFtZSArIFwiJyBvZiBcIiArIHRoaXMudHlwZSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihQcmltaXRpdmVUeXBlLnByb3RvdHlwZSksIFwiZ2V0UHJvcGVydHlcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUHJpbWl0aXZlVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLlByaW1pdGl2ZVR5cGUgPSBQcmltaXRpdmVUeXBlO1xudmFyIFVOREVGSU5FRCA9IG5ldyBQcmltaXRpdmVUeXBlKHVuZGVmaW5lZCk7XG5leHBvcnRzLlVOREVGSU5FRCA9IFVOREVGSU5FRDtcbnZhciBOVUxMID0gbmV3IFByaW1pdGl2ZVR5cGUobnVsbCk7XG5leHBvcnRzLk5VTEwgPSBOVUxMOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzT3BlcmF0b3JzID0gcmVxdWlyZShcIi4uL3V0aWxzL29wZXJhdG9yc1wiKTtcblxudmFyIG9wcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc09wZXJhdG9ycyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIGRlZmF1bHREZXNjcmlwdG9yID0ge1xuXHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0d3JpdGFibGU6IGZhbHNlXG59O1xuXG52YXIgUHJvcGVydHlEZXNjcmlwdG9yID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIGNvbmZpZywga2V5KSB7XG5cdFx0aWYgKGNvbmZpZyA9PT0gdW5kZWZpbmVkKSBjb25maWcgPSBkZWZhdWx0RGVzY3JpcHRvcjtcblxuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG5cdFx0dGhpcy5iYXNlID0gYmFzZTtcblx0XHR0aGlzLmNvbmZpZ3VyYWJsZSA9IGNvbmZpZy5jb25maWd1cmFibGUgfHwgZmFsc2U7XG5cdFx0dGhpcy5lbnVtZXJhYmxlID0gY29uZmlnLmVudW1lcmFibGUgfHwgZmFsc2U7XG5cdFx0dGhpcy5rZXkgPSBrZXk7XG5cblx0XHRpZiAoXCJnZXRcIiBpbiBjb25maWcgfHwgXCJzZXRcIiBpbiBjb25maWcpIHtcblx0XHRcdHRoaXMuZGF0YVByb3BlcnR5ID0gZmFsc2U7XG5cdFx0XHR0aGlzLmdldCA9IGNvbmZpZy5nZXQ7XG5cdFx0XHR0aGlzLmdldHRlciA9IGNvbmZpZy5nZXR0ZXI7XG5cdFx0XHR0aGlzLnNldCA9IGNvbmZpZy5zZXQ7XG5cdFx0XHR0aGlzLnNldHRlciA9IGNvbmZpZy5zZXR0ZXI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMud3JpdGFibGUgPSBjb25maWcud3JpdGFibGUgfHwgZmFsc2U7XG5cdFx0XHR0aGlzLmRhdGFQcm9wZXJ0eSA9IHRydWU7XG5cdFx0XHR0aGlzLnZhbHVlID0gY29uZmlnLnZhbHVlO1xuXHRcdH1cblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhQcm9wZXJ0eURlc2NyaXB0b3IsIFt7XG5cdFx0a2V5OiBcImJpbmRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gYmluZChvYmopIHtcblx0XHRcdHRoaXMuYmFzZSA9IG9iajtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ1cGRhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGRlc2NyaXB0b3IpIHtcblx0XHRcdGZvciAodmFyIHByb3AgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHRpZiAoZGVzY3JpcHRvci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuXHRcdFx0XHRcdHRoaXNbcHJvcF0gPSBkZXNjcmlwdG9yW3Byb3BdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcImdldFwiIGluIGRlc2NyaXB0b3IgfHwgXCJzZXRcIiBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdHRoaXMud3JpdGFibGUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHRoaXMuZGF0YVByb3BlcnR5ID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdHRoaXMud3JpdGFibGUgPSB0aGlzLndyaXRhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRoaXMud3JpdGFibGU7XG5cdFx0XHRcdHRoaXMuZGF0YVByb3BlcnR5ID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5nZXQgPSB0aGlzLmdldHRlciA9IHRoaXMuc2V0ID0gdGhpcy5zZXR0ZXIgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhblVwZGF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjYW5VcGRhdGUoZGVzY3JpcHRvcikge1xuXHRcdFx0aWYgKHRoaXMuY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJjb25maWd1cmFibGVcIiBpbiBkZXNjcmlwdG9yICYmIHRoaXMuY29uZmlndXJhYmxlICE9PSBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcImVudW1lcmFibGVcIiBpbiBkZXNjcmlwdG9yICYmIHRoaXMuZW51bWVyYWJsZSAhPT0gZGVzY3JpcHRvci5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKChcImdldFwiIGluIGRlc2NyaXB0b3IgfHwgXCJzZXRcIiBpbiBkZXNjcmlwdG9yKSAmJiB0aGlzLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvciAmJiAhdGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0aWYgKCF0aGlzLndyaXRhYmxlKSB7XG5cdFx0XHRcdFx0aWYgKGRlc2NyaXB0b3Iud3JpdGFibGUpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gIShcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgfHwgb3BzLmFyZVNhbWUodGhpcy52YWx1ZSwgZGVzY3JpcHRvci52YWx1ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwiZ2V0XCIgaW4gZGVzY3JpcHRvciAmJiB0aGlzLmdldCAhPT0gZGVzY3JpcHRvci5nZXQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJzZXRcIiBpbiBkZXNjcmlwdG9yICYmIHRoaXMuc2V0ICE9PSBkZXNjcmlwdG9yLnNldCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcblx0XHRcdGlmICh0aGlzLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZ2V0dGVyKSB7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkodGhpcy5nZXR0ZXIuY2FsbCh0aGlzLmJhc2UpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY2FuU2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY2FuU2V0VmFsdWUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy53cml0YWJsZSB8fCAhIXRoaXMuc2V0dGVyO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0aWYgKCF0aGlzLmNhblNldFZhbHVlKCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnNldHRlcikge1xuXHRcdFx0XHQoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkodGhpcy5zZXR0ZXIuY2FsbCh0aGlzLmJhc2UsIHZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFByb3BlcnR5RGVzY3JpcHRvcjtcbn0pKCk7XG5cbmV4cG9ydHMuUHJvcGVydHlEZXNjcmlwdG9yID0gUHJvcGVydHlEZXNjcmlwdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBSZWdleFR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhSZWdleFR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBSZWdleFR5cGUodmFsdWUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVnZXhUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlZ2V4VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5zb3VyY2UgPSB2YWx1ZTtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IFwiUmVnRXhwXCI7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoUmVnZXhUeXBlLCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQob2JqZWN0RmFjdG9yeSkge1xuXHRcdFx0Ly8gbGFzdEluZGV4IGlzIHNldHRhYmxlLCBhbGwgb3RoZXJzIGFyZSByZWFkLW9ubHkgYXR0cmlidXRlc1xuXHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImxhc3RJbmRleFwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLnNvdXJjZS5sYXN0SW5kZXgpLCB3cml0YWJsZTogdHJ1ZSB9KTtcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJzb3VyY2VcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5zb3VyY2Uuc291cmNlKSB9KTtcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJnbG9iYWxcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5zb3VyY2UuZ2xvYmFsKSB9KTtcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJpZ25vcmVDYXNlXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMuc291cmNlLmlnbm9yZUNhc2UpIH0pO1xuXHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcIm11bHRpbGluZVwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLnNvdXJjZS5tdWx0aWxpbmUpIH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLnNvdXJjZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUmVnZXhUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuUmVnZXhUeXBlID0gUmVnZXhUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBTZXRUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoU2V0VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFNldFR5cGUoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNldFR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2V0VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5zZXREYXRhID0gW107XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoU2V0VHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG9iamVjdEZhY3RvcnkpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcInNpemVcIiwge1xuXHRcdFx0XHRnZXR0ZXI6IGZ1bmN0aW9uIGdldHRlcigpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc2VsZi5zZXREYXRhLmxlbmd0aCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGdldDogZnVuY3Rpb24gZ2V0KCkge31cblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ2YWx1ZXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWVzKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0RGF0YTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwia2V5c1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBrZXlzKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0RGF0YTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gU2V0VHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLlNldFR5cGUgPSBTZXRUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfcHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4vcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIFN0cmluZ1R5cGUgPSAoZnVuY3Rpb24gKF9QcmltaXRpdmVUeXBlKSB7XG5cdF9pbmhlcml0cyhTdHJpbmdUeXBlLCBfUHJpbWl0aXZlVHlwZSk7XG5cblx0ZnVuY3Rpb24gU3RyaW5nVHlwZSh2YWx1ZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHJpbmdUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0cmluZ1R5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMsIHZhbHVlKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhTdHJpbmdUeXBlLCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQob2JqZWN0RmFjdG9yeSkge1xuXHRcdFx0dmFyIGxlbmd0aCA9IHRoaXMudmFsdWUubGVuZ3RoO1xuXG5cdFx0XHR0aGlzLnByb3BlcnRpZXMubGVuZ3RoID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHtcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiBmYWxzZSxcblx0XHRcdFx0dmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aClcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyB0b2RvOiBkbyB0aGlzIGxhemlseVxuXHRcdFx0dmFyIGNoYXJBdHRycyA9IHsgd3JpdGFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlIH07XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdC8vIHdlIGFyZSBub3QgdXNpbmcgdGhlIG9iamVjdCBmYWN0b3J5IHRvIGF2b2lkIGNpcmN1bGFyIGxvb3Bcblx0XHRcdFx0dmFyIGMgPSBuZXcgU3RyaW5nVHlwZSh0aGlzLnZhbHVlLmNoYXJBdChpKSk7XG5cdFx0XHRcdGMuc2V0UHJvdG90eXBlKHRoaXMuZ2V0UHJvcGVydHkoKSk7XG5cdFx0XHRcdGMuZGVmaW5lKFwiMFwiLCBjLCBjaGFyQXR0cnMpO1xuXG5cdFx0XHRcdHRoaXMuZGVmaW5lKGksIGMsIGNoYXJBdHRycyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFN0cmluZ1R5cGU7XG59KShfcHJpbWl0aXZlVHlwZS5QcmltaXRpdmVUeXBlKTtcblxuZXhwb3J0cy5TdHJpbmdUeXBlID0gU3RyaW5nVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgR0xPQkFMX1NZTUJPTF9SRUdJU1RSWSA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xudmFyIHVpZCA9IDA7XG5cbnZhciBTeW1ib2xUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoU3ltYm9sVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFN5bWJvbFR5cGUoZGVzY3JpcHRpb24pIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ltYm9sVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTeW1ib2xUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnR5cGUgPSBcInN5bWJvbFwiO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJTeW1ib2xcIjtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cdFx0dGhpcy51aWQgPSB1aWQrKztcblxuXHRcdC8vIGFkZCBzbyB3ZSBjYW4gZWFzaWx5IGNoZWNrIGlmIGFuIG9iamVjdCBpcyBhIHN5bWJvbCB3aGVuIHdlIGNhcmVcblx0XHR0aGlzLmlzU3ltYm9sID0gdHJ1ZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhTeW1ib2xUeXBlLCBbe1xuXHRcdGtleTogXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWZpbmVPd25Qcm9wZXJ0eShuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5IHByb3BlcnR5ICdcIiArIG5hbWUgKyBcIicgb2YgXCIgKyB0aGlzLnRvTmF0aXZlKCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIFwiU3ltYm9sKFwiICsgdGhpcy5kZXNjcmlwdGlvbiArIFwiKVwiO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b1N0cmluZ1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRcdC8vIHRoaXMgbWV0aG9kIGlzIGhlcmUgc28gc3ltYm9scyBjYW4gYmUgY29lcmNlZCBpbnRvIHN0cmluZ3MgZm9yIHByb3BlcnR5IGxvb2t1cHNcblx0XHRcdHJldHVybiBcIkBAXCIgKyB0aGlzLnVpZDtcblx0XHR9XG5cdH1dLCBbe1xuXHRcdGtleTogXCJhZGRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gYWRkKGtleSwgc3ltKSB7XG5cdFx0XHRHTE9CQUxfU1lNQk9MX1JFR0lTVFJZW2tleV0gPSBzeW07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldEJ5S2V5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldEJ5S2V5KGtleSkge1xuXHRcdFx0cmV0dXJuIEdMT0JBTF9TWU1CT0xfUkVHSVNUUllba2V5XTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0QnlJbnN0YW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRCeUluc3RhbmNlKHN5bSkge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIEdMT0JBTF9TWU1CT0xfUkVHSVNUUlkpIHtcblx0XHRcdFx0aWYgKHN5bSA9PT0gR0xPQkFMX1NZTUJPTF9SRUdJU1RSWVtrZXldKSB7XG5cdFx0XHRcdFx0cmV0dXJuIEdMT0JBTF9TWU1CT0xfUkVHSVNUUllba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTeW1ib2xUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuU3ltYm9sVHlwZSA9IFN5bWJvbFR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWNsYXJlID0gZGVjbGFyZTtcbmV4cG9ydHMuYXNzaWduID0gYXNzaWduO1xudmFyIG1hcmtlZDAkMCA9IFtkZWNsYXJlLCBhc3NpZ24sIGRlc3RydWN0dXJlLCBoYW5kbGVEZWZhdWx0LCBkZXN0cnVjdHVyZUFycmF5LCBnZXRPYmplY3RLZXksIGRlc3RydWN0dXJlT2JqZWN0XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfYXN5bmMgPSByZXF1aXJlKFwiLi9hc3luY1wiKTtcblxudmFyIF9uYXRpdmUgPSByZXF1aXJlKFwiLi9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIGRlY2xhcmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSkge1xuXHR2YXIgbGVmdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZWNsYXJlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghKGxlZnROb2RlLnR5cGUgPT09IFwiSWRlbnRpZmllclwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGVmdCA9IGVudi5jcmVhdGVWYXJpYWJsZShsZWZ0Tm9kZS5uYW1lKTtcblxuXHRcdFx0XHRsZWZ0LnNldFZhbHVlKHJpZ2h0VmFsdWUpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBkZXN0cnVjdHVyZShlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBkZWNsYXJlKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBhc3NpZ24oZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSkge1xuXHR2YXIgbGVmdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBhc3NpZ24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBsZWZ0Tm9kZS50eXBlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gY29udGV4dCQxJDAudDAgPT09IFwiSWRlbnRpZmllclwiID8gMyA6IGNvbnRleHQkMSQwLnQwID09PSBcIk1lbWJlckV4cHJlc3Npb25cIiA/IDMgOiA4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGxlZnROb2RlKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRcdGxlZnQuc2V0VmFsdWUocmlnaHRWYWx1ZSk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMCk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gZGVzdHJ1Y3R1cmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgYXNzaWduKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByaWdodFZhbHVlKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc3RydWN0dXJlKGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUsIGNiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzdHJ1Y3R1cmUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBsZWZ0Tm9kZS50eXBlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gY29udGV4dCQxJDAudDAgPT09IFwiQXJyYXlQYXR0ZXJuXCIgPyAzIDogY29udGV4dCQxJDAudDAgPT09IFwiT2JqZWN0UGF0dGVyblwiID8gNiA6IGNvbnRleHQkMSQwLnQwID09PSBcIkFzc2lnbm1lbnRQYXR0ZXJuXCIgPyA5IDogMTI7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gZGVzdHJ1Y3R1cmVBcnJheShlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBjYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDEzKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0cmV0dXJuIGRlc3RydWN0dXJlT2JqZWN0KGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUsIGNiKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTMpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIGhhbmRsZURlZmF1bHQoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgY2IpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTMpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IobGVmdE5vZGUudHlwZSArIFwiIG5vdCBpbXBsZW1lbnRlZFwiKTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlZmF1bHQoZW52LCBsZWZ0LCByaWdodFZhbHVlLCBjYikge1xuXHR2YXIgZGVmYXVsdFZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGhhbmRsZURlZmF1bHQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCEocmlnaHRWYWx1ZSA9PT0gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGxlZnQucmlnaHQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRkZWZhdWx0VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdHJpZ2h0VmFsdWUgPSBkZWZhdWx0VmFsdWUucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBjYihlbnYsIGxlZnQubGVmdCwgcmlnaHRWYWx1ZSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFszXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc3RydWN0dXJlQXJyYXkoZW52LCBwYXR0ZXJuLCBhcnIsIGNiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzdHJ1Y3R1cmVBcnJheSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfYXN5bmMuZWFjaCkocGF0dGVybi5lbGVtZW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY3VycmVudCwgaW5kZXgpIHtcblx0XHRcdFx0XHR2YXIgcHJvcEluZm8sIHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRwcm9wSW5mbyA9IGFyci5nZXRQcm9wZXJ0eShpbmRleCk7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwcm9wSW5mbyA/IHByb3BJbmZvLmdldFZhbHVlKCkgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IoZW52LCBjdXJyZW50LCB2YWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXRPYmplY3RLZXkoZW52LCBrZXlOb2RlKSB7XG5cdHZhciBrZXk7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0T2JqZWN0S2V5JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICgha2V5Tm9kZS5jb21wdXRlZCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChrZXlOb2RlKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0a2V5ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRpZiAoIWtleS5pc1N5bWJvbCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBrZXkpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9TdHJpbmcpKGVudiwga2V5KTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5Tm9kZS5uYW1lKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFs1XSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc3RydWN0dXJlT2JqZWN0KGVudiwgcGF0dGVybiwgb2JqLCBjYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGRlc3RydWN0dXJlT2JqZWN0JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9hc3luYy5lYWNoKShwYXR0ZXJuLnByb3BlcnRpZXMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGN1cnJlbnQpIHtcblx0XHRcdFx0XHR2YXIga2V5LCBwcm9wSW5mbywgdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBnZXRPYmplY3RLZXkoZW52LCBjdXJyZW50LmtleSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdGtleSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0cHJvcEluZm8gPSBvYmouZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHByb3BJbmZvID8gcHJvcEluZm8uZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjYihlbnYsIGN1cnJlbnQudmFsdWUsIHZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFs2XSwgdGhpcyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1Byb21pc2UgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2VcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5tYXAgPSBtYXA7XG5leHBvcnRzLmVhY2ggPSBlYWNoO1xuZXhwb3J0cy5zdGVwID0gc3RlcDtcbmV4cG9ydHMuZXhoYXVzdCA9IGV4aGF1c3Q7XG5leHBvcnRzLnByb21pc2lmeSA9IHByb21pc2lmeTtcbnZhciBtYXJrZWQwJDAgPSBbbWFwLCBlYWNoLCBzdGVwXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxucmVxdWlyZShcIi4uL3BvbHlmaWxsc1wiKTtcblxudmFyIG9iamVjdE9yRnVuY3Rpb25UeXBlcyA9IHsgXCJvYmplY3RcIjogdHJ1ZSwgXCJmdW5jdGlvblwiOiB0cnVlIH07XG5mdW5jdGlvbiBpc09iamVjdE9yRnVuY3Rpb24ob2JqKSB7XG5cdHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiBpbiBvYmplY3RPckZ1bmN0aW9uVHlwZXM7XG59XG5cbmZ1bmN0aW9uIGlzVGhlbmFibGUob2JqKSB7XG5cdHJldHVybiBpc09iamVjdE9yRnVuY3Rpb24ob2JqKSAmJiB0eXBlb2Ygb2JqLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuZnVuY3Rpb24gaXNOZXh0YWJsZShvYmopIHtcblx0cmV0dXJuIGlzT2JqZWN0T3JGdW5jdGlvbihvYmopICYmIHR5cGVvZiBvYmoubmV4dCA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG5mdW5jdGlvbiBtYXAoYXJyLCBmdW5jKSB7XG5cdHZhciBtYXBwZWQsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIG1hcCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRtYXBwZWQgPSBbXTtcblx0XHRcdFx0aSA9IDAsIGxuID0gYXJyLmxlbmd0aDtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRpZiAoIShpIDwgbG4pKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBtYXBwZWQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKGZ1bmMoYXJyW2ldLCBpLCBhcnIpLCBcInQxXCIsIDUpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gY29udGV4dCQxJDAudDE7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwLnB1c2guY2FsbChjb250ZXh0JDEkMC50MCwgY29udGV4dCQxJDAudDIpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG1hcHBlZCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBlYWNoKGFyciwgZnVuYykge1xuXHR2YXIgYWJvcnQsIGFib3J0ZXIsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGVhY2gkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0YWJvcnQgPSBmYWxzZTtcblxuXHRcdFx0XHRhYm9ydGVyID0gZnVuY3Rpb24gYWJvcnRlcigpIHtcblx0XHRcdFx0XHRhYm9ydCA9IHRydWU7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aSA9IDAsIGxuID0gYXJyLmxlbmd0aDtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRpZiAoIShpIDwgbG4pKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoZnVuYyhhcnJbaV0sIGksIGFyciwgYWJvcnRlciksIFwidDBcIiwgNSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aWYgKCFhYm9ydCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDEwKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpKys7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHN0ZXAoaXQsIHByZXYpIHtcblx0dmFyIHJlc3VsdCwgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc3RlcCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRyZXN1bHQgPSBpdC5uZXh0KHByZXYpO1xuXHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblxuXHRcdFx0XHRpZiAoIWlzTmV4dGFibGUodmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChzdGVwKHZhbHVlKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0aWYgKCFpc1RoZW5hYmxlKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdHJldHVybiB2YWx1ZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gaXQ7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGlmICghcmVzdWx0LmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRyZXR1cm4gc3RlcChpdCwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzJdLCB0aGlzKTtcbn1cblxuLyoqXHJcbiAqIEZ1bGx5IGV4aGF1c3RzIGFuIGl0ZXJhdG9yLCBpbmNsdWRpbmcgZGVsZWdhdGVkIGdlbmVyYXRvcnMuXHJcbiAqIFNwZWNpYWwgaGFuZGxpbmcgaXMgdGFrZW4gaWYgYSBQcm9taXNlIGlzIHJldHVybmVkLCBwYXVzaW5nXHJcbiAqIHRoZSBnZW5lcmF0b3IgdW50aWwgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SXRlcmF0b3J9IFtpdF0gLSBUaGUgaXRlcmF0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IFtwcmV2XSAtIFRoZSBwcmV2aW91cyBpdGVyYXRpb24gdmFsdWUgKGludGVybmFsKVxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fFByb21pc2V9IFJldHVybnMgdGhlIGZpbmFsIHZhbHVlLCBvciBhIFByb21pc2UgaWZcclxuICogYXQgYW55IHBvaW50IGluIHRoZSBpdGVyYXRpb24gYSBQcm9taXNlIGlzIHJldHVybmVkLlxyXG4gKi9cblxuZnVuY3Rpb24gZXhoYXVzdChfeCwgX3gyKSB7XG5cdHZhciBfYWdhaW4gPSB0cnVlO1xuXG5cdF9mdW5jdGlvbjogd2hpbGUgKF9hZ2Fpbikge1xuXHRcdHZhciBpdCA9IF94LFxuXHRcdCAgICBwcmV2ID0gX3gyO1xuXHRcdHJlc3VsdCA9IHZhbHVlID0gZSA9IHVuZGVmaW5lZDtcblx0XHRfYWdhaW4gPSBmYWxzZTtcblxuXHRcdC8vIHNhbml0eSBjaGVja1xuXHRcdGlmICghaXNOZXh0YWJsZShpdCkpIHtcblx0XHRcdHJldHVybiBpdDtcblx0XHR9XG5cblx0XHR2YXIgcmVzdWx0ID0gaXQubmV4dChwcmV2KTtcblx0XHR2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG5cblx0XHRpZiAoaXNOZXh0YWJsZSh2YWx1ZSkpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhbHVlID0gZXhoYXVzdCh2YWx1ZSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Ly8gY2FzY2FkZSB0aGUgZXJyb3IgdXBzdHJlYW1cblx0XHRcdFx0dmFyIGUgPSBpdFtcInRocm93XCJdKGVycik7XG5cdFx0XHRcdF94ID0gZS52YWx1ZTtcblx0XHRcdFx0X3gyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRfYWdhaW4gPSB0cnVlO1xuXHRcdFx0XHRjb250aW51ZSBfZnVuY3Rpb247XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHJlc3VsdC5kb25lKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKGlzVGhlbmFibGUodmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdHJldHVybiBleGhhdXN0KGl0LCByZXMpO1xuXHRcdFx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0XHRyZXR1cm4gaXRbXCJ0aHJvd1wiXShlcnIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0X3ggPSBpdDtcblx0XHRfeDIgPSB2YWx1ZTtcblx0XHRfYWdhaW4gPSB0cnVlO1xuXHRcdGNvbnRpbnVlIF9mdW5jdGlvbjtcblx0fVxufVxuXG4vKipcclxuICogTm9ybWFsaXplcyBhIHJlc3VsdCBpbnRvIGEgcHJvbWlzZSwgd2hldGhlciBpdCBpcyBhIGdlbmVyYXRvciwgcHJvbWlzZSxcclxuICogb3Igbm9ybWFsIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0l0ZXJhdG9yfSBbaXRdIC0gVGhlIGl0ZXJhdG9yLlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIG9yIHJlamVjdHMgYmFzZWQgb24gdGhlIHJlc3VsdC5cclxuICovXG5cbmZ1bmN0aW9uIHByb21pc2lmeShpdCkge1xuXHR0cnkge1xuXHRcdHZhciByZXN1bHQgPSBleGhhdXN0KGl0KTtcblx0XHRpZiAoaXNOZXh0YWJsZShyZXN1bHQpKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdHJldHVybiBfUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHJldHVybiBfUHJvbWlzZS5yZWplY3QoZXJyLnRvTmF0aXZlKCkpO1xuXHR9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmFzc2VydElzT2JqZWN0ID0gYXNzZXJ0SXNPYmplY3Q7XG5leHBvcnRzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkID0gYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQ7XG5leHBvcnRzLmFzc2VydEFyZ0lzTm90TnVsbE9yVW5kZWZpbmVkID0gYXNzZXJ0QXJnSXNOb3ROdWxsT3JVbmRlZmluZWQ7XG5leHBvcnRzLmFzc2VydElzRnVuY3Rpb24gPSBhc3NlcnRJc0Z1bmN0aW9uO1xuZXhwb3J0cy5hc3NlcnRJc05vdENvbnN0cnVjdG9yID0gYXNzZXJ0SXNOb3RDb25zdHJ1Y3RvcjtcbmV4cG9ydHMuYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoID0gYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoO1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkQXNzaWdubWVudCA9IGFzc2VydElzVmFsaWRBc3NpZ25tZW50O1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZSA9IGFzc2VydElzVmFsaWRQYXJhbWV0ZXJOYW1lO1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkTmFtZSA9IGFzc2VydElzVmFsaWROYW1lO1xuZXhwb3J0cy5hc3NlcnRJc05vdEdlbmVyaWMgPSBhc3NlcnRJc05vdEdlbmVyaWM7XG5leHBvcnRzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyID0gYXNzZXJ0SXNWYWxpZElkZW50aWZpZXI7XG5leHBvcnRzLmFzc2VydEFyZVZhbGlkQXJndW1lbnRzID0gYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHM7XG5leHBvcnRzLmlzVmFsaWRBcnJheUxlbmd0aCA9IGlzVmFsaWRBcnJheUxlbmd0aDtcbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbmV4cG9ydHMuaXNPY3RhbExpdGVyYWwgPSBpc09jdGFsTGl0ZXJhbDtcbmV4cG9ydHMuZ2V0VHlwZSA9IGdldFR5cGU7XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5leHBvcnRzLmlzQ29uc3RydWN0b3IgPSBpc0NvbnN0cnVjdG9yO1xuZXhwb3J0cy5pc0ludGVnZXIgPSBpc0ludGVnZXI7XG5leHBvcnRzLmlzU3RyaWN0Tm9kZSA9IGlzU3RyaWN0Tm9kZTtcblxudmFyIF9rZXl3b3JkcyA9IHJlcXVpcmUoXCIuLi9rZXl3b3Jkc1wiKTtcblxudmFyIG9iamVjdFBhdHRlcm4gPSAvXFxbb2JqZWN0IChcXHcrKVxcXS87XG52YXIgaW50ZWdlclBhdHRlcm4gPSAvXi0/XFxkKyQvO1xudmFyIG9jdGFsUGF0dGVybiA9IC9eLT8wWzAtN10vO1xudmFyIG9jdGFsRXNjYXBlUGF0dGVybiA9IC9eKFteXFxcXF18XFxcXFteMC03XSkqXFxcXChbMC0zXVswLTddezEsMn18WzQtN11bMC03XXxbMC03XSkvO1xudmFyIHVzZVN0cmljdFBhdHRlcm4gPSAvXlxccyooPzondXNlIHN0cmljdCd8XCJ1c2Ugc3RyaWN0XCIpXFxzKjs/XFxzKiQvO1xuXG5mdW5jdGlvbiBhc3NlcnRJc09iamVjdChvYmosIG1ldGhvZE5hbWUpIHtcblx0aWYgKCFpc09iamVjdChvYmopKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgY2FsbGVkIG9uIG5vbi1vYmplY3RcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodmFsdWUsIG1ldGhvZE5hbWUpIHtcblx0aWYgKGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZFwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRBcmdJc05vdE51bGxPclVuZGVmaW5lZChvYmopIHtcblx0aWYgKGlzTnVsbE9yVW5kZWZpbmVkKG9iaikpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgbnVsbCBvciB1bmRlZmluZWQgdG8gb2JqZWN0XCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzRnVuY3Rpb24ob2JqLCBhcmdOYW1lKSB7XG5cdGlmICghaXNGdW5jdGlvbihvYmopKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihhcmdOYW1lICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNOb3RDb25zdHJ1Y3Rvcihjb250ZXh0LCBtZXRob2ROYW1lKSB7XG5cdGlmIChjb250ZXh0LmlzTmV3KSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoKGxlbmd0aCkge1xuXHRpZiAoIWlzVmFsaWRBcnJheUxlbmd0aChsZW5ndGgpKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGFycmF5IGxlbmd0aFwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1ZhbGlkQXNzaWdubWVudChsZWZ0LCBzdHJpY3QpIHtcblx0aWYgKGxlZnQgJiYgIWxlZnQuaXNSZWZlcmVuY2UpIHtcblx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIGluIGFzc2lnbm1lbnRcIik7XG5cdH1cblxuXHRpZiAobGVmdCAmJiBsZWZ0LmJhc2UgPT09IGxlZnQuZW52Lmdsb2JhbCkge1xuXHRcdGFzc2VydElzVmFsaWROYW1lKGxlZnQubmFtZSwgc3RyaWN0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZShuYW1lLCBzdHJpY3QpIHtcblx0aWYgKC9eXFxkfFs7XFwoXFwpXCInXS8udGVzdChuYW1lKSkge1xuXHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gaW4gXCIgKyBuYW1lKTtcblx0fVxuXG5cdGFzc2VydElzVmFsaWROYW1lKG5hbWUsIHN0cmljdCk7XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzVmFsaWROYW1lKG5hbWUsIHN0cmljdCkge1xuXHRpZiAoc3RyaWN0ICYmIChuYW1lID09PSBcImFyZ3VtZW50c1wiIHx8IG5hbWUgPT09IFwiZXZhbFwiKSkge1xuXHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgZXZhbCBvciBhcmd1bWVudHMgaW4gc3RyaWN0IG1vZGVcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNOb3RHZW5lcmljKG9iaiwgZXhwZWN0ZWRDbGFzcywgbWV0aG9kTmFtZSkge1xuXHRpZiAoIW9iaiB8fCBvYmouY2xhc3NOYW1lICE9PSBleHBlY3RlZENsYXNzKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgaXMgbm90IGdlbmVyaWNcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIobmFtZSwgc3RyaWN0KSB7XG5cdGlmICgoMCwgX2tleXdvcmRzLmlzUmVzZXJ2ZWQpKG5hbWUpKSB7XG5cdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiSWxsZWdhbCB1c2Ugb2YgcmVzZXJ2ZWQga2V5d29yZDogXCIgKyBuYW1lKTtcblx0fVxuXG5cdGlmIChzdHJpY3QgJiYgKDAsIF9rZXl3b3Jkcy5pc1N0cmljdFJlc2VydmVkKShuYW1lKSkge1xuXHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIklsbGVnYWwgdXNlIG9mIHN0cmljdCBtb2RlIHJlc2VydmVkIGtleXdvcmQ6IFwiICsgbmFtZSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMocGFyYW1zLCBzdHJpY3QpIHtcblx0cGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtLCBpbmRleCkge1xuXHRcdGFzc2VydElzVmFsaWRQYXJhbWV0ZXJOYW1lKHBhcmFtLm5hbWUsIHN0cmljdCk7XG5cblx0XHRpZiAoc3RyaWN0KSB7XG5cdFx0XHRpZiAocGFyYW1zLnNvbWUoZnVuY3Rpb24gKHAsIGkpIHtcblx0XHRcdFx0cmV0dXJuIGluZGV4ICE9PSBpICYmIHBhcmFtLm5hbWUgPT09IHAubmFtZTtcblx0XHRcdH0pKSB7XG5cdFx0XHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlN0cmljdCBtb2RlIGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBkdXBsaWNhdGUgcGFyYW1ldGVyIG5hbWVzXCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRBcnJheUxlbmd0aChsZW5ndGgpIHtcblx0cmV0dXJuIGlzSW50ZWdlcihsZW5ndGgpICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8IDQyOTQ5NjcyOTY7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuXHRpZiAoIW9iaikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChvYmouaXNTeW1ib2wpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAob2JqLmlzUHJpbWl0aXZlKSB7XG5cdFx0cmV0dXJuIG9iai52YWx1ZSAmJiBvYmoudHlwZSA9PT0gXCJvYmplY3RcIjtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc09jdGFsTGl0ZXJhbChyYXdWYWx1ZSwgYWN0dWFsVmFsdWUpIHtcblx0aWYgKHR5cGVvZiBhY3R1YWxWYWx1ZSA9PT0gXCJudW1iZXJcIiAmJiBvY3RhbFBhdHRlcm4udGVzdChyYXdWYWx1ZSkpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICh0eXBlb2YgYWN0dWFsVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHR2YXIgbWF0Y2ggPSByYXdWYWx1ZS5tYXRjaChvY3RhbEVzY2FwZVBhdHRlcm4pO1xuXHRcdGlmIChtYXRjaCkge1xuXHRcdFx0Ly8gXFwwIGlzIGFjdHVhbGx5IG5vdCBjb25zaWRlcmVkIGFuIG9jdGFsXG5cdFx0XHRpZiAobWF0Y2hbMl0gIT09IFwiMFwiIHx8IHR5cGVvZiBtYXRjaFszXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFR5cGUob2JqKSB7XG5cdHJldHVybiBvYmplY3RQYXR0ZXJuLmV4ZWMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpWzFdO1xufVxuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChvYmopIHtcblx0cmV0dXJuIGlzVW5kZWZpbmVkKG9iaikgfHwgaXNOdWxsKG9iaik7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuXHRyZXR1cm4gIW9iaiB8fCBvYmouaXNQcmltaXRpdmUgJiYgb2JqLnZhbHVlID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTnVsbChvYmopIHtcblx0cmV0dXJuIG9iaiAmJiBvYmouaXNQcmltaXRpdmUgJiYgb2JqLnZhbHVlID09PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuXHRyZXR1cm4gISFvYmogJiYgb2JqLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiO1xufVxuXG5mdW5jdGlvbiBpc0NvbnN0cnVjdG9yKG9iaikge1xuXHRpZiAoIWlzRnVuY3Rpb24ob2JqKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChvYmouYXJyb3cgfHwgb2JqLmJ1aWx0SW4pIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gaW50ZWdlclBhdHRlcm4udGVzdCh2YWx1ZSk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG5cdFx0cmV0dXJuIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlKG5vZGUpIHtcblx0cmV0dXJuIG5vZGUudHlwZSA9PT0gXCJFeHByZXNzaW9uU3RhdGVtZW50XCIgJiYgbm9kZS5leHByZXNzaW9uLnR5cGUgPT09IFwiTGl0ZXJhbFwiICYmIHR5cGVvZiBub2RlLmV4cHJlc3Npb24udmFsdWUgPT09IFwic3RyaW5nXCI7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaWN0Tm9kZShub2Rlcykge1xuXHRpZiAoQXJyYXkuaXNBcnJheShub2RlcykpIHtcblx0XHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0dmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0dmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGZvciAodmFyIF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihub2RlcyksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0XHRcdFx0dmFyIG5vZGUgPSBfc3RlcC52YWx1ZTtcblxuXHRcdFx0XHRpZiAoIWlzRGlyZWN0aXZlKG5vZGUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5vZGUuZXhwcmVzc2lvbi52YWx1ZSA9PT0gXCJ1c2Ugc3RyaWN0XCIgJiYgdXNlU3RyaWN0UGF0dGVybi50ZXN0KG5vZGUuZXhwcmVzc2lvbi5yYXcpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZXhlY3V0ZSA9IGV4ZWN1dGU7XG5leHBvcnRzLmNvbnN0cnVjdCA9IGNvbnN0cnVjdDtcbmV4cG9ydHMuY2FsbCA9IGNhbGw7XG5leHBvcnRzLnRyeUV4ZWN1dGUgPSB0cnlFeGVjdXRlO1xudmFyIG1hcmtlZDAkMCA9IFtleGVjdXRlLCBjb25zdHJ1Y3QsIGNhbGwsIHRyeUV4ZWN1dGVdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZnVuY3Rpb24gZXhlY3V0ZShlbnYsIGZuLCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUsIGlzTmV3KSB7XG5cdHZhciBmLCBwYXJhbXMsIHNjb3BlLCByZXR1cm5SZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRmID0gZm4ubm9kZSB8fCBmbjtcblx0XHRcdFx0cGFyYW1zID0gZi5wYXJhbXMgfHwgW107XG5cdFx0XHRcdHNjb3BlID0gZm4uY3JlYXRlU2NvcGUoZW52LCB0aGlzQXJnLCBpc05ldyk7XG5cdFx0XHRcdHJldHVyblJlc3VsdCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRpZiAoaXNOZXcpIHtcblx0XHRcdFx0XHRyZXR1cm5SZXN1bHQgPSB0aGlzQXJnO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBzY29wZS5sb2FkQXJncyhwYXJhbXMsIGFyZ3MsIGZuKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRzY29wZS5pbml0KGZuLm5vZGUgJiYgZm4ubm9kZS5ib2R5KTtcblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0dmFyIGV4ZWN1dGlvblJlc3VsdCwgc2hvdWxkUmV0dXJuO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWZuLm5hdGl2ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZm4ubmF0aXZlRnVuY3Rpb24uYXBwbHkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpc0FyZywgY2FsbGVlLCBpc05ldyksIGFyZ3MpIHx8IHJldHVyblJlc3VsdDtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGZuLm5vZGUuYm9keSwgY2FsbGVlLCBpc05ldykuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdHNob3VsZFJldHVybiA9IGZuLmFycm93IHx8IGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQuZXhpdDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghKHNob3VsZFJldHVybiAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0KSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCEoIWlzTmV3IHx8ICFleGVjdXRpb25SZXN1bHQucmVzdWx0LmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQucmVzdWx0KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmV0dXJuUmVzdWx0KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm5SZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJldHVyblJlc3VsdCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3QoZW52LCBmbikge1xuXHR2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzJdO1xuXHR2YXIgb2JqLCBjYWxsZWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY29uc3RydWN0JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iaiA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdChmbik7XG5cdFx0XHRcdGNhbGxlZSA9IGZuLm5vZGUgfHwgZm47XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZShlbnYsIGZuLCBhcmdzLCBvYmosIGNhbGxlZSwgdHJ1ZSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gY2FsbChlbnYsIGZuLCBwYXJhbXMsIGFyZ3MsIHRoaXNBcmcsIGNhbGxlZSkge1xuXHR2YXIgc2NvcGU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRzY29wZSA9IGZuLmNyZWF0ZVNjb3BlKGVudiwgdGhpc0FyZywgZmFsc2UpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIHNjb3BlLmxvYWRBcmdzKHBhcmFtcywgYXJncywgZm4pO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHNjb3BlLmluaXQoZm4ubm9kZSAmJiBmbi5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWZuLm5hdGl2ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZm4ubmF0aXZlRnVuY3Rpb24uYXBwbHkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpc0FyZywgY2FsbGVlKSwgYXJncyk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChmbi5ub2RlLmJvZHksIGNhbGxlZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMl0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0cnlFeGVjdXRlKGVudiwgb2JqLCBuYW1lKSB7XG5cdHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbM107XG5cdHZhciBmbiwgc2NvcGUsIGV4ZWN1dGlvblJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0cnlFeGVjdXRlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGZuID0gb2JqLmdldFByb3BlcnR5KG5hbWUpO1xuXG5cdFx0XHRcdGlmIChmbikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMzpcblxuXHRcdFx0XHRmbiA9IGZuLmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCEoZm4gJiYgZm4uY2xhc3NOYW1lID09PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2NvcGUgPSBmbi5jcmVhdGVTY29wZShlbnYsIG9iaik7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUubG9hZEFyZ3MoZm4ubm9kZSAmJiBmbi5ub2RlLnBhcmFtcywgYXJncywgZm4pO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHNjb3BlLmluaXQoZm4ubm9kZSAmJiBmbi5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWZuLm5hdGl2ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZm4ubmF0aXZlRnVuY3Rpb24uYXBwbHkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQob2JqLCBvYmopLCBhcmdzKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGZuLm5vZGUuYm9keSwgZm4ubm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0ICYmIHJlc3VsdC5yZXN1bHQpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgPyBleGVjdXRpb25SZXN1bHQuZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbM10sIHRoaXMpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9NYXRoJHNpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL21hdGgvc2lnblwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnByaW1pdGl2ZVRvT2JqZWN0ID0gcHJpbWl0aXZlVG9PYmplY3Q7XG5leHBvcnRzLnRvT2JqZWN0ID0gdG9PYmplY3Q7XG5leHBvcnRzLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG5leHBvcnRzLnRvUHJvcGVydHlLZXkgPSB0b1Byb3BlcnR5S2V5O1xuZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcbmV4cG9ydHMudG9QcmltaXRpdmUgPSB0b1ByaW1pdGl2ZTtcbmV4cG9ydHMudG9TdHJpbmcgPSB0b1N0cmluZztcbmV4cG9ydHMudG9OdW1iZXIgPSB0b051bWJlcjtcbmV4cG9ydHMudG9JbnRlZ2VyID0gdG9JbnRlZ2VyO1xuZXhwb3J0cy50b0ludDMyID0gdG9JbnQzMjtcbmV4cG9ydHMudG9VSW50MzIgPSB0b1VJbnQzMjtcbmV4cG9ydHMudG9Cb29sZWFuID0gdG9Cb29sZWFuO1xuZXhwb3J0cy50b05hdGl2ZUZ1bmN0aW9uID0gdG9OYXRpdmVGdW5jdGlvbjtcbnZhciBtYXJrZWQwJDAgPSBbZ2V0U3RyaW5nLCBnZXRQcmltaXRpdmUsIGdldFZhbHVlcywgdG9MZW5ndGgsIHRvUHJvcGVydHlLZXksIHRvQXJyYXksIHRvUHJpbWl0aXZlLCB0b1N0cmluZywgdG9OdW1iZXIsIHRvSW50ZWdlciwgdG9JbnQzMiwgdG9VSW50MzJdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgc2lnbiA9IF9NYXRoJHNpZ247XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIE1BWF9MRU5HVEggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuXG5mdW5jdGlvbiBnZXRTdHJpbmcoZW52LCB2YWx1ZSkge1xuXHR2YXIgcHJpbWl0aXZlVmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0U3RyaW5nJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcInVuZGVmaW5lZFwiKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRpZiAoIXZhbHVlLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIFN0cmluZyh2YWx1ZS50b05hdGl2ZSgpKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKShlbnYsIHZhbHVlLCBcInRvU3RyaW5nXCIpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgU3RyaW5nKHByaW1pdGl2ZVZhbHVlLnZhbHVlKSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkoZW52LCB2YWx1ZSwgXCJ2YWx1ZU9mXCIpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocHJpbWl0aXZlVmFsdWUgJiYgcHJpbWl0aXZlVmFsdWUuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcocHJpbWl0aXZlVmFsdWUudmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUuXCIpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpbWl0aXZlKGVudiwgdmFsdWUpIHtcblx0dmFyIHByaW1pdGl2ZVZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFByaW1pdGl2ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgMCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCF2YWx1ZS5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZS50b05hdGl2ZSgpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLnRyeUV4ZWN1dGUpKGVudiwgdmFsdWUsIFwidmFsdWVPZlwiKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocHJpbWl0aXZlVmFsdWUgJiYgcHJpbWl0aXZlVmFsdWUuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZVZhbHVlLnRvTmF0aXZlKCkpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLnRyeUV4ZWN1dGUpKGVudiwgdmFsdWUsIFwidG9TdHJpbmdcIik7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZVZhbHVlLnRvTmF0aXZlKCkpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZXMoZW52LCBhcmdzKSB7XG5cdHZhciB2YWx1ZXMsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFZhbHVlcyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdFx0aSA9IDAsIGxuID0gYXJncy5sZW5ndGg7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCEoaSA8IGxuKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gdmFsdWVzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGdldFByaW1pdGl2ZShlbnYsIGFyZ3NbaV0pO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAucHVzaC5jYWxsKGNvbnRleHQkMSQwLnQwLCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWVzKTtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHByaW1pdGl2ZVRvT2JqZWN0KGVudiwgdmFsdWUpIHtcblx0dmFyIG5ld1ZhbHVlID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlKTtcblx0bmV3VmFsdWUuaXNQcmltaXRpdmUgPSBmYWxzZTtcblx0bmV3VmFsdWUudHlwZSA9IFwib2JqZWN0XCI7XG5cdHJldHVybiBuZXdWYWx1ZTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QoZW52LCBvYmosIHRocm93T25FcnJvcikge1xuXHQvLyB0b2RvOiBpcyB0aGlzIEVTNiBvbmx5P1xuXHRpZiAodGhyb3dPbkVycm9yICYmIG9iai5pc1ByaW1pdGl2ZSAmJiBvYmoudmFsdWUgPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3Iob2JqLnR5cGUgKyBcIiBjYW5ub3QgYmUgY29udmVydGVkIHRvIGFuIG9iamVjdFwiKTtcblx0fVxuXG5cdGlmIChvYmouaXNTeW1ib2wpIHtcblx0XHRyZXR1cm4gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3ltYm9sXCIsIG9iai5kZXNjcmlwdGlvbik7XG5cdH1cblxuXHRpZiAob2JqLmlzUHJpbWl0aXZlICYmIG9iai52YWx1ZSAhPSBudWxsICYmIG9iai50eXBlICE9PSBcIm9iamVjdFwiKSB7XG5cdFx0cmV0dXJuIHByaW1pdGl2ZVRvT2JqZWN0KGVudiwgb2JqLnZhbHVlKTtcblx0fVxuXG5cdHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHRvTGVuZ3RoKGVudiwgb2JqKSB7XG5cdHZhciBsZW5ndGhQcm9wZXJ0eSwgX2xlbmd0aDtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvTGVuZ3RoJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGxlbmd0aFByb3BlcnR5ID0gb2JqLmdldFByb3BlcnR5KFwibGVuZ3RoXCIpO1xuXG5cdFx0XHRcdGlmICghbGVuZ3RoUHJvcGVydHkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShlbnYub3B0aW9ucy5lY21hVmVyc2lvbiA9PT0gNSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gdG9VSW50MzIoZW52LCBsZW5ndGhQcm9wZXJ0eS5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gdG9JbnRlZ2VyKGVudiwgbGVuZ3RoUHJvcGVydHkuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0X2xlbmd0aCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgTWF0aC5taW4oTWF0aC5tYXgoX2xlbmd0aCwgMCksIE1BWF9MRU5HVEgpKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAwKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFszXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvUHJvcGVydHlLZXkoZW52LCBrZXkpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b1Byb3BlcnR5S2V5JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICgha2V5LmlzU3ltYm9sKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGtleSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdHJldHVybiB0b1N0cmluZyhlbnYsIGtleSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzRdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShlbnYsIG9iaiwgbGVuZ3RoKSB7XG5cdHZhciBhcnIsXG5cdCAgICBpLFxuXHQgICAgYXJncyQxJDAgPSBhcmd1bWVudHM7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9BcnJheSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRhcnIgPSBbXTtcblxuXHRcdFx0XHRpZiAoIW9iaikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEoYXJncyQxJDAubGVuZ3RoIDwgMykpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gdG9MZW5ndGgoZW52LCBvYmopO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0d2hpbGUgKGkgPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRpZiAob2JqLmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0YXJyW2ldID0gb2JqLmdldFZhbHVlKGkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGkrKztcblx0XHRcdFx0fVxuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzVdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9QcmltaXRpdmUoZW52LCBvYmosIHByZWZlcnJlZFR5cGUpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b1ByaW1pdGl2ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRwcmVmZXJyZWRUeXBlID0gcHJlZmVycmVkVHlwZSAmJiBwcmVmZXJyZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdGlmICghcHJlZmVycmVkVHlwZSAmJiBvYmopIHtcblx0XHRcdFx0XHRwcmVmZXJyZWRUeXBlID0gb2JqLnByaW1pdGl2ZUhpbnQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShwcmVmZXJyZWRUeXBlID09PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiBnZXRTdHJpbmcoZW52LCBvYmopO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0aWYgKCEob2JqICYmIG9iai5pc1N5bWJvbCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBTeW1ib2wgdG8gYSBudW1iZXJcIik7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gZ2V0UHJpbWl0aXZlKGVudiwgb2JqKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFs2XSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvU3RyaW5nKGVudiwgb2JqKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9TdHJpbmckKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b1ByaW1pdGl2ZShlbnYsIG9iaiwgXCJzdHJpbmdcIik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIFN0cmluZyhjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbN10sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b051bWJlcihlbnYsIG9iaikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvTnVtYmVyJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghKCFvYmogfHwgb2JqLnR5cGUgPT09IFwidW5kZWZpbmVkXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIE5hTik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdHJldHVybiB0b1ByaW1pdGl2ZShlbnYsIG9iaiwgXCJudW1iZXJcIik7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIE51bWJlcihjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbOF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b0ludGVnZXIoZW52LCBvYmopIHtcblx0dmFyIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvSW50ZWdlciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRvTnVtYmVyKGVudiwgb2JqKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCFpc05hTih2YWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgMCk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aWYgKCEodmFsdWUgPT09IDAgfHwgIWlzRmluaXRlKHZhbHVlKSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgc2lnbih2YWx1ZSkgKiBmbG9vcihhYnModmFsdWUpKSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFs5XSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvSW50MzIoZW52LCBvYmopIHtcblx0dmFyIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvSW50MzIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b0ludGVnZXIoZW52LCBvYmopO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBpc0Zpbml0ZSh2YWx1ZSkgPyB2YWx1ZSA6IDApO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMTBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9VSW50MzIoZW52LCBvYmopIHtcblx0dmFyIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvVUludDMyJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdG9JbnQzMihlbnYsIG9iaik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlID4+PiAwKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzExXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvQm9vbGVhbihvYmopIHtcblx0aWYgKCFvYmopIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAob2JqLmlzUHJpbWl0aXZlKSB7XG5cdFx0cmV0dXJuIEJvb2xlYW4ob2JqLnZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB0b05hdGl2ZUZ1bmN0aW9uKGVudiwgZm4sIG5hbWUpIHtcblx0cmV0dXJuIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgc2NvcGUsXG5cdFx0ICAgIGFyZ3MsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0c2NvcGUgPSB0aGlzICYmIHRoaXMubm9kZSAmJiB0aGlzLm5vZGUudG9OYXRpdmUoKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gZ2V0VmFsdWVzKGVudiwgYXJncyQyJDApO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR2YWx1ZSA9IGZuLmFwcGx5KHNjb3BlLCBhcmdzKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBmbi5sZW5ndGgsIG5hbWUpO1xufVxuXG4vLyBkZWZhdWx0IGNhc2UvbnVtYmVyIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZS1wcm9wZXJ0eVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29wcztcblxudmFyIF9uYXRpdmUgPSByZXF1aXJlKFwiLi9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIG5lZyh2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiAhdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHBvcyh2YWx1ZSkge1xuXHRyZXR1cm4gISF2YWx1ZTtcbn1cblxudmFyIG9wcyA9IChfb3BzID0ge1xuXHQvLyBhbGdvcml0aG1zXG5cdGFyZVNhbWU6IGZ1bmN0aW9uIGFyZVNhbWUoYSwgYikge1xuXHRcdGlmIChhLnR5cGUgIT09IGIudHlwZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpIHtcblx0XHRcdGlmIChhLnZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhLnR5cGUgPT09IFwibnVtYmVyXCIpIHtcblx0XHRcdFx0aWYgKGlzTmFOKGEudmFsdWUpICYmIGlzTmFOKGIudmFsdWUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYS52YWx1ZSA9PT0gMCkge1xuXHRcdFx0XHRcdC8vIHRoaXMgd2lsbCBhY2NvdW50IGZvciBuZWdhdGl2ZSB6ZXJvXG5cdFx0XHRcdFx0cmV0dXJuIDEgLyBhLnZhbHVlID09PSAxIC8gYi52YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYS52YWx1ZSA9PT0gYi52YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYSA9PT0gYjtcblx0fSxcblxuXHRhcmVTYW1lT3JaZXJvOiBmdW5jdGlvbiBhcmVTYW1lT3JaZXJvKGEsIGIpIHtcblx0XHRpZiAoYS50eXBlICE9PSBiLnR5cGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoYS5pc1ByaW1pdGl2ZSAmJiBiLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRpZiAoYS52YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYS50eXBlID09PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdGlmIChpc05hTihhLnZhbHVlKSAmJiBpc05hTihiLnZhbHVlKSkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhLnZhbHVlID09PSBiLnZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhID09PSBiO1xuXHR9LFxuXG5cdGNvZXJjaXZlRXF1YWxzOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY29lcmNpdmVFcXVhbHMoYSwgYikge1xuXHRcdHZhciBwcmltaXRpdmVBLCBwcmltaXRpdmVCO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY29lcmNpdmVFcXVhbHMkKGNvbnRleHQkMSQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCEoYS5pc1ByaW1pdGl2ZSAmJiBiLmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGEudmFsdWUgPT0gYi52YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGlmICghKGEudHlwZSA9PT0gXCJvYmplY3RcIiAmJiBiLnR5cGUgPT09IFwib2JqZWN0XCIgfHwgYS50eXBlID09PSBcImZ1bmN0aW9uXCIgJiYgYi50eXBlID09PSBcImZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYSA9PT0gYik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRwcmltaXRpdmVBID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQiA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoISh0eXBlb2YgcHJpbWl0aXZlQSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgcHJpbWl0aXZlQiA9PT0gXCJudW1iZXJcIiB8fCAodHlwZW9mIHByaW1pdGl2ZUEgPT09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiBwcmltaXRpdmVCID09PSBcImJvb2xlYW5cIikpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIE51bWJlcihwcmltaXRpdmVBKSA9PT0gTnVtYmVyKHByaW1pdGl2ZUIpKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBwcmltaXRpdmVBID09PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBwcmltaXRpdmVBO1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwID09PSBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRpZiAoISh0eXBlb2YgcHJpbWl0aXZlQiA9PT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC50MyA9IHByaW1pdGl2ZUI7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MiA9PT0gY29udGV4dCQxJDAudDMpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwcmltaXRpdmVBID09IHByaW1pdGl2ZUIpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNvZXJjaXZlRXF1YWxzLCB0aGlzKTtcblx0fSksXG5cblx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0c3RyaWN0RXF1YWxzOiBmdW5jdGlvbiBzdHJpY3RFcXVhbHMoYSwgYikge1xuXHRcdGlmIChhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpIHtcblx0XHRcdHJldHVybiBhLnZhbHVlID09PSBiLnZhbHVlO1xuXHRcdH1cblxuXHRcdGlmIChhLmlzUHJpbWl0aXZlIHx8IGIuaXNQcmltaXRpdmUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYSA9PT0gYjtcblx0fSxcblxuXHRyZWxhdGlvbmFsQ29tcGFyZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHJlbGF0aW9uYWxDb21wYXJlKGEsIGIsIGxlZnRGaXJzdCkge1xuXHRcdHZhciBwcmltaXRpdmVBLCBwcmltaXRpdmVCO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gcmVsYXRpb25hbENvbXBhcmUkKGNvbnRleHQkMSQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQSA9IHVuZGVmaW5lZCwgcHJpbWl0aXZlQiA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghbGVmdEZpcnN0KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKSh0aGlzLmVudiwgYiwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdHByaW1pdGl2ZUIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdHByaW1pdGl2ZUIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdHByaW1pdGl2ZUEgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIHByaW1pdGl2ZUEgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHByaW1pdGl2ZUIgPT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZUEgPCBwcmltaXRpdmVCKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXG5cdFx0XHRcdFx0cHJpbWl0aXZlQSA9IE51bWJlcihwcmltaXRpdmVBKTtcblx0XHRcdFx0XHRwcmltaXRpdmVCID0gTnVtYmVyKHByaW1pdGl2ZUIpO1xuXG5cdFx0XHRcdFx0aWYgKCEoaXNOYU4ocHJpbWl0aXZlQSkgfHwgaXNOYU4ocHJpbWl0aXZlQikpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHVuZGVmaW5lZCk7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZUEgPCBwcmltaXRpdmVCKTtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCByZWxhdGlvbmFsQ29tcGFyZSwgdGhpcyk7XG5cdH0pXG5cbn0sIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIj09XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb2VyY2l2ZUVxdWFscyhhLCBiKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiIT1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvZXJjaXZlRXF1YWxzKGEsIGIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgIWNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPT09XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zdHJpY3RFcXVhbHMoYSwgYik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIiE9PVwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc3RyaWN0RXF1YWxzKGEsIGIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgIWNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiK1wiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIShhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGEudmFsdWUgKyBiLnZhbHVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKSh0aGlzLmVudiwgYSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0YSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRiID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBhICsgYik7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCItXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgLSBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIvXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgLyBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIqXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgKiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIlXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgJSBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI8PFwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKSh0aGlzLmVudiwgYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKSh0aGlzLmVudiwgYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwIDw8IGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIj4+XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgPj4gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPj4+XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgPj4+IGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcInxcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKSh0aGlzLmVudiwgYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgfCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCJeXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKSh0aGlzLmVudiwgYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwIF4gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiJlwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAmIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIjxcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnJlbGF0aW9uYWxDb21wYXJlKGEsIGIsIHRydWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwb3MoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIjw9XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZWxhdGlvbmFsQ29tcGFyZShiLCBhLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG5lZyhjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPlwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMucmVsYXRpb25hbENvbXBhcmUoYiwgYSwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwb3MoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIj49XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZWxhdGlvbmFsQ29tcGFyZShhLCBiLCB0cnVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmVnKGNvbnRleHQkMSQwLnQwKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCJpblwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2luKGEsIGIpIHtcblx0dmFyIGJTdHJpbmc7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2luJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9Qcm9wZXJ0eUtleSkodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGEgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1N0cmluZykodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGJTdHJpbmcgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIHRvIHNlYXJjaCBmb3IgJ1wiICsgYSArIFwiJyBpbiBcIiArIGJTdHJpbmcpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYi5oYXMoYSkpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfaW4sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCJpbnN0YW5jZW9mXCIsIGZ1bmN0aW9uIF9pbnN0YW5jZW9mKGEsIGIpIHtcblx0aWYgKGIudHlwZSAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGluZyBhIGZ1bmN0aW9uIGluIGluc3RhbmNlb2YgY2hlY2ssIGJ1dCBnb3QgXCIgKyBiLnR5cGUpO1xuXHR9XG5cblx0aWYgKGEuaXNQcmltaXRpdmUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gYi5oYXNJbnN0YW5jZShhKTtcbn0pLCBfb3BzKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBvcHM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cblxuLy8gdXNlIG5hdGl2ZSBpbXBsaWNpdCBjb21hcmlzb25cbi8vIGVxdWFsaXR5IG9wZXJhdG9yc1xuXG4vLyBhZGRpdGl2ZSBvcGVyYXRvcnNcblxuLy8gbXVsdGlwbGljYXRpdmUgb3BlcmF0b3JzXG5cbi8vIGJpdHdpc2Ugc2hpZnQgb3BlcmF0b3JzXG5cbi8vIHJlbGF0aW9uYWwgb3BlcmF0b3JzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBBcnJheUV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW0FycmF5RXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gQXJyYXlFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iamVjdEZhY3RvcnksIGFycjtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBBcnJheUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0b2JqZWN0RmFjdG9yeSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuZWxlbWVudHMpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5lYWNoKShjb250ZXh0Lm5vZGUuZWxlbWVudHMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGVsZW1lbnQsIGkpIHtcblx0XHRcdFx0XHR2YXIgaXRlbTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFlbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShlbGVtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0gPSBjb250ZXh0JDIkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0YXJyLmRlZmluZU93blByb3BlcnR5KGksIHsgdmFsdWU6IGl0ZW0sIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdHJ1ZSwgY29udGV4dC5lbnYpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0Y2FzZSA0OlxuXG5cdFx0XHRcdGFyci5wdXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShjb250ZXh0Lm5vZGUuZWxlbWVudHMubGVuZ3RoKSwgZmFsc2UsIGNvbnRleHQuZW52KTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KGFycikpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQXNzaWdubWVudEV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW0Fzc2lnbm1lbnRFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0Fzc2lnbiA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3NpZ25cIik7XG5cbmZ1bmN0aW9uIEFzc2lnbm1lbnRFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIHJpZ2h0LCByaWdodFZhbHVlLCBsZWZ0LCBvcCwgbmF0aXZlVmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gQXNzaWdubWVudEV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUucmlnaHQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyaWdodCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXHRcdFx0XHRyaWdodFZhbHVlID0gcmlnaHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRpZiAoIShjb250ZXh0Lm5vZGUub3BlcmF0b3IgPT09IFwiPVwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXNzaWduLmFzc2lnbikoY29udGV4dC5lbnYsIGNvbnRleHQubm9kZS5sZWZ0LCByaWdodFZhbHVlKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5sZWZ0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0b3AgPSBjb250ZXh0Lm5vZGUub3BlcmF0b3Iuc2xpY2UoMCwgLTEpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmVudi5vcHNbb3BdKGxlZnQuZ2V0VmFsdWUoKSwgcmlnaHQuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdG5hdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRsZWZ0LnNldFZhbHVlKGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG5hdGl2ZVZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQocmlnaHRWYWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gcmVtb3ZlIGVxdWFscyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQmluYXJ5RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbQmluYXJ5RXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5mdW5jdGlvbiBCaW5hcnlFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIGxlZnQsIGxlZnRWYWx1ZSwgcmlnaHQsIHJpZ2h0VmFsdWUsIG9wLCBuZXdWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBCaW5hcnlFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmxlZnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRsZWZ0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdGxlZnRWYWx1ZSA9IGxlZnQuZ2V0VmFsdWUoKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUucmlnaHQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRyaWdodCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXHRcdFx0XHRyaWdodFZhbHVlID0gcmlnaHQuZ2V0VmFsdWUoKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0b3AgPSBjb250ZXh0Lm5vZGUub3BlcmF0b3I7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZW52Lm9wc1tvcF0obGVmdFZhbHVlLCByaWdodFZhbHVlKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0bmV3VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG5ld1ZhbHVlKSkpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEJsb2NrU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtCbG9ja1N0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gQmxvY2tTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgcmVzdWx0LCBwcmlvclJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBCbG9ja1N0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRyZXN1bHQgPSB1bmRlZmluZWQsIHByaW9yUmVzdWx0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmIChjb250ZXh0Lm5vZGUudHlwZSA9PT0gXCJQcm9ncmFtXCIpIHtcblx0XHRcdFx0XHRjb250ZXh0LmVudi5jdXJyZW50LmluaXQoY29udGV4dC5ub2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5lYWNoKShjb250ZXh0Lm5vZGUuYm9keSwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobm9kZSwgaSwgYm9keSwgYWJvcnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKG5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgZmFsc2UsIHByaW9yUmVzdWx0KSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRwcmlvclJlc3VsdCA9IHJlc3VsdDtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSksIFwidDBcIiwgMyk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsbEV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW0NhbGxFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF9lbnZQcm9wZXJ0eVJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcHJvcGVydHktcmVmZXJlbmNlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBhc3NpZ25UaGlzKGVudiwgZm5NZW1iZXIsIGZuLCBpc05ldywgbmF0aXZlKSB7XG5cdGlmIChpc05ldykge1xuXHRcdC8vIGlmIHRoaXMgaXMgYSBuYXRpdmUgY29udHJ1Y3RvciB3ZSBkb24ndCBjYXJlIGFib3V0IHRoaXNcblx0XHQvLyBvdGhlcndpc2UgY3JlYXRlIGEgbmV3IG9iamVjdFxuXHRcdHJldHVybiBuYXRpdmUgPyBudWxsIDogZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KGZuKTtcblx0fVxuXG5cdGlmIChmbk1lbWJlciBpbnN0YW5jZW9mIF9lbnZQcm9wZXJ0eVJlZmVyZW5jZS5Qcm9wZXJ0eVJlZmVyZW5jZSAmJiAoIWZuTWVtYmVyLnVucXVhbGlmaWVkIHx8IGZuTWVtYmVyLmJhc2UgIT09IGVudi5nbG9iYWwpKSB7XG5cdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgZm5NZW1iZXIuYmFzZSk7XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gQ2FsbEV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgbm9kZSwgaXNOZXcsIGZuTWVtYmVyLCBmbiwgYXJncywgc3RyaW5nVmFsdWUsIG5hdGl2ZSwgdGhpc0FyZywgY2FsbGVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIENhbGxFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG5vZGUgPSBjb250ZXh0Lm5vZGU7XG5cdFx0XHRcdGlzTmV3ID0gY29udGV4dC5ub2RlLnR5cGUgPT09IFwiTmV3RXhwcmVzc2lvblwiO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKG5vZGUuY2FsbGVlKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Zm5NZW1iZXIgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0Zm4gPSBmbk1lbWJlci5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShub2RlLmFyZ3VtZW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoYXJnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShhcmcpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSksIFwidDBcIiwgNyk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0YXJncyA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRcdGlmICghKCFmbiB8fCBmbi5jbGFzc05hbWUgIT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShjb250ZXh0LmVudiwgZm4pO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgVHlwZUVycm9yKHN0cmluZ1ZhbHVlICsgXCIgbm90IGEgZnVuY3Rpb25cIikpKTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0bmF0aXZlID0gZm4ubmF0aXZlO1xuXHRcdFx0XHR0aGlzQXJnID0gYXNzaWduVGhpcyhjb250ZXh0LmVudiwgZm5NZW1iZXIsIGZuLCBpc05ldywgbmF0aXZlKTtcblx0XHRcdFx0Y2FsbGVlID0gZm5NZW1iZXI7XG5cblx0XHRcdFx0Y2FsbGVlLmlkZW50aWZpZXIgPSBmbi5uYW1lO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMDtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGNvbnRleHQuZW52LCBmbiwgYXJncywgdGhpc0FyZywgY2FsbGVlLCBpc05ldyk7XG5cblx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MS5yZXN1bHQuY2FsbChjb250ZXh0JDEkMC50MSwgY29udGV4dCQxJDAudDIpKTtcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERlYnVnZ2VyU3RhdGVtZW50O1xuXG5mdW5jdGlvbiBEZWJ1Z2dlclN0YXRlbWVudChjb250ZXh0KSB7XG5cdGlmIChjb250ZXh0LmVudi5vcHRpb25zLmFsbG93RGVidWdnZXIpIHtcblx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1kZWJ1Z2dlciAqL1xuXHRcdGRlYnVnZ2VyO1xuXHRcdC8qIGVzbGludC1lbmFibGUgbm8tZGVidWdnZXIgKi9cblx0fVxuXG5cdHJldHVybiBjb250ZXh0LmVtcHR5KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEb1doaWxlU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtEb1doaWxlU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIERvV2hpbGVTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgcmVzdWx0LCBwcmlvclJlc3VsdCwgcGFzc2VkO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIERvV2hpbGVTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0cmVzdWx0ID0gdW5kZWZpbmVkLCBwcmlvclJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0cGFzc2VkID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoIShjb250ZXh0Lm5vZGUudHlwZSA9PT0gXCJXaGlsZVN0YXRlbWVudFwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMSQwLnQwKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpZiAoIXBhc3NlZCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCB0cnVlLCBwcmlvclJlc3VsdCkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdFx0cHJpb3JSZXN1bHQgPSByZXN1bHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRW1wdHlTdGF0ZW1lbnQ7XG5cbmZ1bmN0aW9uIEVtcHR5U3RhdGVtZW50KGNvbnRleHQpIHtcblx0cmV0dXJuIGNvbnRleHQuZW1wdHkoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEV4cHJlc3Npb25TdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0V4cHJlc3Npb25TdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZnVuY3Rpb24gRXhwcmVzc2lvblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBleGVjdXRpb25SZXN1bHQsIGV4ZWN1dGlvblZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEV4cHJlc3Npb25TdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuZXhwcmVzc2lvbikuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGV4ZWN1dGlvblZhbHVlID0gZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KGV4ZWN1dGlvblZhbHVlIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGb3JJblN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbRm9ySW5TdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5mdW5jdGlvbiBGb3JJblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBsZWZ0LCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGRlY2wsIG9iaiwgcmVzdWx0LCBwcmlvclJlc3VsdCwgdmlzaXRlZCwgcHJvcDtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEZvckluU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGxlZnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCEoY29udGV4dC5ub2RlLmxlZnQudHlwZSA9PT0gXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gNTtcblx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKGNvbnRleHQubm9kZS5sZWZ0LmRlY2xhcmF0aW9ucyk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVjbCA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShkZWNsKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDE3O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwW1wiY2F0Y2hcIl0oNSk7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDEkMC50MDtcblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIxO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjI7XG5cblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyNDtcblxuXHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMjQpO1xuXG5cdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDIxKTtcblxuXHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmxlZnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzMzpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUucmlnaHQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0b2JqID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmVzdWx0ID0gdW5kZWZpbmVkLCBwcmlvclJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0dmlzaXRlZCA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRpZiAoIW9iaikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1Nztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gX3JlZ2VuZXJhdG9yUnVudGltZS5rZXlzKG9iai5wcm9wZXJ0aWVzKTtcblxuXHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0aWYgKChjb250ZXh0JDEkMC50MiA9IGNvbnRleHQkMSQwLnQxKCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRwcm9wID0gY29udGV4dCQxJDAudDIudmFsdWU7XG5cblx0XHRcdFx0aWYgKCEob2JqLnByb3BlcnRpZXNbcHJvcF0uZW51bWVyYWJsZSAmJiAhdmlzaXRlZFtwcm9wXSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZWZ0LnNldFZhbHVlKGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHByb3ApKTtcblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDc7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYm9keSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHJlc3VsdCAmJiByZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgdHJ1ZSwgcHJpb3JSZXN1bHQpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1MDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSA1MDpcblxuXHRcdFx0XHR2aXNpdGVkW3Byb3BdID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA1MzpcblxuXHRcdFx0XHRwcmlvclJlc3VsdCA9IHJlc3VsdDtcblx0XHRcdFx0b2JqID0gb2JqLmdldFByb3RvdHlwZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDU3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbNSwgMTcsIDIxLCAyOV0sIFsyMiwsIDI0LCAyOF1dKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gc2hvdWxkIG9ubHkgYmUgb25lLCBidXRcbi8vIG5lZWQgdG8gdW53cmFwIHRoZSBkZWNsYXJhdGlvbiB0byBnZXQgaXRcbi8vIHRvZG86IHRoaXMgaXMgc2xvcHB5IC0gbmVlZCB0byByZXZpc2l0XG5cbi8vIHRyYWNrIHZpc2l0ZWQgcHJvcGVydGllcyB0byBwcmV2ZW50IGl0ZXJhdGluZyBvdmVyIHNoYWRvd2VkIHByb3BlcnRpZXMsIHJlZ2FyZGxlc3Mgb2YgZW51bWVyYWJsZSBmbGFnXG4vLyAxMi42LjQgTk9URTogYSBwcm9wZXJ0eSBvZiBhIHByb3RvdHlwZSBpcyBub3QgZW51bWVyYXRlZCBpZiBpdCBpcyDigJxzaGFkb3dlZOKAnSBiZWNhdXNlIHNvbWUgcHJldmlvdXNcbi8vIG9iamVjdCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIHNhbWUgbmFtZS4gVGhlIHZhbHVlcyBvZiBbW0VudW1lcmFibGVdXSBhdHRyaWJ1dGVzXG4vLyBhcmUgbm90IGNvbnNpZGVyZWQgd2hlbiBkZXRlcm1pbmluZyBpZiBhIHByb3BlcnR5IG9mIGEgcHJvdG90eXBlIG9iamVjdCBpcyBzaGFkb3dlZCBieSBhIHByZXZpb3VzIG9iamVjdFxuLy8gb24gdGhlIHByb3RvdHlwZSBjaGFpbi4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZvclN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbc2hvdWxkQ29udGludWUsIEZvclN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBzaG91bGRDb250aW51ZShjb250ZXh0KSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc2hvdWxkQ29udGludWUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS50ZXN0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHRydWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMSQwLnQwKSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIEZvclN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciByZXN1bHQsIHByaW9yUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEZvclN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5pbml0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5pbml0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmVzdWx0ID0gdW5kZWZpbmVkLCBwcmlvclJlc3VsdCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIHNob3VsZENvbnRpbnVlKGNvbnRleHQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGlmICghY29udGV4dCQxJDAuc2VudCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmJvZHkpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHJlc3VsdCAmJiByZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgdHJ1ZSwgcHJpb3JSZXN1bHQpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUudXBkYXRlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnVwZGF0ZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXG5cdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZ1bmN0aW9uRGVjbGFyYXRpb247XG5cbmZ1bmN0aW9uIEZ1bmN0aW9uRGVjbGFyYXRpb24oY29udGV4dCkge1xuXHRyZXR1cm4gY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYuZ2V0VmFsdWUoY29udGV4dC5ub2RlLmlkLm5hbWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGdW5jdGlvbkV4cHJlc3Npb247XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gRnVuY3Rpb25FeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5O1xuXHR2YXIgc3RyaWN0ID0gY29udGV4dC5lbnYuaXNTdHJpY3QoKSB8fCBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGNvbnRleHQubm9kZS5ib2R5LmJvZHkpO1xuXHR2YXIgbmFtZSA9IGNvbnRleHQubm9kZS5pZCA/IGNvbnRleHQubm9kZS5pZC5uYW1lIDogXCJhbm9ueW1vdXNcIjtcblxuXHR2YXIgZnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oY29udGV4dC5ub2RlLCB1bmRlZmluZWQsIHsgc3RyaWN0OiBzdHJpY3QsIG5hbWU6IG5hbWUgfSk7XG5cdGZ1bmMuYmluZFNjb3BlKGNvbnRleHQuZW52LmN1cnJlbnQpO1xuXHRyZXR1cm4gY29udGV4dC5yZXN1bHQoZnVuYyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IElkZW50aWZpZXI7XG5cbmZ1bmN0aW9uIElkZW50aWZpZXIoY29udGV4dCkge1xuXHR2YXIgbmFtZSA9IGNvbnRleHQubm9kZS5uYW1lO1xuXG5cdGlmIChjb250ZXh0LmNhbGxlZSAmJiBjb250ZXh0LmNhbGxlZS5pZGVudGlmaWVyID09PSBuYW1lKSB7XG5cdFx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuY2FsbGVlKTtcblx0fVxuXG5cdHJldHVybiBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5nZXRSZWZlcmVuY2UoY29udGV4dC5ub2RlLm5hbWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IElmU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtJZlN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBJZlN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciB0ZXN0VmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gSWZTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHRlc3RWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikodGVzdFZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuY29uc2VxdWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuYWx0ZXJuYXRlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFsdGVybmF0ZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfYXJyYXlFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vYXJyYXktZXhwcmVzc2lvblwiKTtcblxudmFyIF9hcnJheUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlFeHByZXNzaW9uKTtcblxudmFyIF9hc3NpZ25tZW50RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2Fzc2lnbm1lbnQtZXhwcmVzc2lvblwiKTtcblxudmFyIF9hc3NpZ25tZW50RXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ25tZW50RXhwcmVzc2lvbik7XG5cbnZhciBfYmluYXJ5RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2JpbmFyeS1leHByZXNzaW9uXCIpO1xuXG52YXIgX2JpbmFyeUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluYXJ5RXhwcmVzc2lvbik7XG5cbnZhciBfYmxvY2tTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9ibG9jay1zdGF0ZW1lbnRcIik7XG5cbnZhciBfYmxvY2tTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmxvY2tTdGF0ZW1lbnQpO1xuXG52YXIgX2ludGVycnVwdFN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2ludGVycnVwdC1zdGF0ZW1lbnRcIik7XG5cbnZhciBfaW50ZXJydXB0U3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVycnVwdFN0YXRlbWVudCk7XG5cbnZhciBfY2FsbEV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9jYWxsLWV4cHJlc3Npb25cIik7XG5cbnZhciBfY2FsbEV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsbEV4cHJlc3Npb24pO1xuXG52YXIgX2lmU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vaWYtc3RhdGVtZW50XCIpO1xuXG52YXIgX2lmU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lmU3RhdGVtZW50KTtcblxudmFyIF9kZWJ1Z2dlclN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2RlYnVnZ2VyLXN0YXRlbWVudFwiKTtcblxudmFyIF9kZWJ1Z2dlclN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Z2dlclN0YXRlbWVudCk7XG5cbnZhciBfZG9XaGlsZVN0YXRlbWVudEpzID0gcmVxdWlyZShcIi4vZG8td2hpbGUtc3RhdGVtZW50LmpzXCIpO1xuXG52YXIgX2RvV2hpbGVTdGF0ZW1lbnRKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb1doaWxlU3RhdGVtZW50SnMpO1xuXG52YXIgX2VtcHR5U3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZW1wdHktc3RhdGVtZW50XCIpO1xuXG52YXIgX2VtcHR5U3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VtcHR5U3RhdGVtZW50KTtcblxudmFyIF9leHByZXNzaW9uU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZXhwcmVzc2lvbi1zdGF0ZW1lbnRcIik7XG5cbnZhciBfZXhwcmVzc2lvblN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHByZXNzaW9uU3RhdGVtZW50KTtcblxudmFyIF9mb3JTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9mb3Itc3RhdGVtZW50XCIpO1xuXG52YXIgX2ZvclN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JTdGF0ZW1lbnQpO1xuXG52YXIgX2ZvckluU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZm9yLWluLXN0YXRlbWVudFwiKTtcblxudmFyIF9mb3JJblN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JJblN0YXRlbWVudCk7XG5cbnZhciBfZnVuY3Rpb25EZWNsYXJhdGlvbiA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLWRlY2xhcmF0aW9uXCIpO1xuXG52YXIgX2Z1bmN0aW9uRGVjbGFyYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnVuY3Rpb25EZWNsYXJhdGlvbik7XG5cbnZhciBfZnVuY3Rpb25FeHByZXNzaW9uID0gcmVxdWlyZShcIi4vZnVuY3Rpb24tZXhwcmVzc2lvblwiKTtcblxudmFyIF9mdW5jdGlvbkV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnVuY3Rpb25FeHByZXNzaW9uKTtcblxudmFyIF9pZGVudGlmaWVyID0gcmVxdWlyZShcIi4vaWRlbnRpZmllclwiKTtcblxudmFyIF9pZGVudGlmaWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lkZW50aWZpZXIpO1xuXG52YXIgX2xhYmVsZWRTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9sYWJlbGVkLXN0YXRlbWVudFwiKTtcblxudmFyIF9sYWJlbGVkU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xhYmVsZWRTdGF0ZW1lbnQpO1xuXG52YXIgX2xpdGVyYWwgPSByZXF1aXJlKFwiLi9saXRlcmFsXCIpO1xuXG52YXIgX2xpdGVyYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGl0ZXJhbCk7XG5cbnZhciBfbG9naWNhbEV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9sb2dpY2FsLWV4cHJlc3Npb25cIik7XG5cbnZhciBfbG9naWNhbEV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9naWNhbEV4cHJlc3Npb24pO1xuXG52YXIgX21lbWJlckV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9tZW1iZXItZXhwcmVzc2lvblwiKTtcblxudmFyIF9tZW1iZXJFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lbWJlckV4cHJlc3Npb24pO1xuXG52YXIgX21ldGFQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuL21ldGEtcHJvcGVydHlcIik7XG5cbnZhciBfbWV0YVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ldGFQcm9wZXJ0eSk7XG5cbnZhciBfb2JqZWN0RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL29iamVjdC1leHByZXNzaW9uXCIpO1xuXG52YXIgX29iamVjdEV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0RXhwcmVzc2lvbik7XG5cbnZhciBfcmV0dXJuU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vcmV0dXJuLXN0YXRlbWVudFwiKTtcblxudmFyIF9yZXR1cm5TdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmV0dXJuU3RhdGVtZW50KTtcblxudmFyIF9zZXF1ZW5jZUV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9zZXF1ZW5jZS1leHByZXNzaW9uXCIpO1xuXG52YXIgX3NlcXVlbmNlRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXF1ZW5jZUV4cHJlc3Npb24pO1xuXG52YXIgX3N3aXRjaFN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL3N3aXRjaC1zdGF0ZW1lbnRcIik7XG5cbnZhciBfc3dpdGNoU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N3aXRjaFN0YXRlbWVudCk7XG5cbnZhciBfdGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vdGFnZ2VkLXRlbXBsYXRlLWV4cHJlc3Npb25cIik7XG5cbnZhciBfdGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbik7XG5cbnZhciBfdGVtcGxhdGVMaXRlcmFsID0gcmVxdWlyZShcIi4vdGVtcGxhdGUtbGl0ZXJhbFwiKTtcblxudmFyIF90ZW1wbGF0ZUxpdGVyYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGVtcGxhdGVMaXRlcmFsKTtcblxudmFyIF90aGlzRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL3RoaXMtZXhwcmVzc2lvblwiKTtcblxudmFyIF90aGlzRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aGlzRXhwcmVzc2lvbik7XG5cbnZhciBfdGhyb3dTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi90aHJvdy1zdGF0ZW1lbnRcIik7XG5cbnZhciBfdGhyb3dTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyb3dTdGF0ZW1lbnQpO1xuXG52YXIgX3RyeVN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL3RyeS1zdGF0ZW1lbnRcIik7XG5cbnZhciBfdHJ5U3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyeVN0YXRlbWVudCk7XG5cbnZhciBfdW5hcnlFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vdW5hcnktZXhwcmVzc2lvblwiKTtcblxudmFyIF91bmFyeUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5hcnlFeHByZXNzaW9uKTtcblxudmFyIF91cGRhdGVFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vdXBkYXRlLWV4cHJlc3Npb25cIik7XG5cbnZhciBfdXBkYXRlRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cGRhdGVFeHByZXNzaW9uKTtcblxudmFyIF92YXJpYWJsZURlY2xhcmF0aW9uID0gcmVxdWlyZShcIi4vdmFyaWFibGUtZGVjbGFyYXRpb25cIik7XG5cbnZhciBfdmFyaWFibGVEZWNsYXJhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YXJpYWJsZURlY2xhcmF0aW9uKTtcblxudmFyIF92YXJpYWJsZURlY2xhcmF0b3IgPSByZXF1aXJlKFwiLi92YXJpYWJsZS1kZWNsYXJhdG9yXCIpO1xuXG52YXIgX3ZhcmlhYmxlRGVjbGFyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YXJpYWJsZURlY2xhcmF0b3IpO1xuXG52YXIgX3dpdGhTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi93aXRoLXN0YXRlbWVudFwiKTtcblxudmFyIF93aXRoU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhTdGF0ZW1lbnQpO1xuXG52YXIgdmlzaXRvcnMgPSB7XG5cdEFycmF5RXhwcmVzc2lvbjogX2FycmF5RXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRBc3NpZ25tZW50RXhwcmVzc2lvbjogX2Fzc2lnbm1lbnRFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdEJpbmFyeUV4cHJlc3Npb246IF9iaW5hcnlFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdEJsb2NrU3RhdGVtZW50OiBfYmxvY2tTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0QnJlYWtTdGF0ZW1lbnQ6IF9pbnRlcnJ1cHRTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0Q2FsbEV4cHJlc3Npb246IF9jYWxsRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRDb25kaXRpb25hbEV4cHJlc3Npb246IF9pZlN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHREZWJ1Z2dlclN0YXRlbWVudDogX2RlYnVnZ2VyU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdERvV2hpbGVTdGF0ZW1lbnQ6IF9kb1doaWxlU3RhdGVtZW50SnMyW1wiZGVmYXVsdFwiXSxcblx0RW1wdHlTdGF0ZW1lbnQ6IF9lbXB0eVN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRFeHByZXNzaW9uU3RhdGVtZW50OiBfZXhwcmVzc2lvblN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRGb3JTdGF0ZW1lbnQ6IF9mb3JTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0Rm9ySW5TdGF0ZW1lbnQ6IF9mb3JJblN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRGdW5jdGlvbkRlY2xhcmF0aW9uOiBfZnVuY3Rpb25EZWNsYXJhdGlvbjJbXCJkZWZhdWx0XCJdLFxuXHRGdW5jdGlvbkV4cHJlc3Npb246IF9mdW5jdGlvbkV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0SWRlbnRpZmllcjogX2lkZW50aWZpZXIyW1wiZGVmYXVsdFwiXSxcblx0TGFiZWxlZFN0YXRlbWVudDogX2xhYmVsZWRTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0TGl0ZXJhbDogX2xpdGVyYWwyW1wiZGVmYXVsdFwiXSxcblx0TG9naWNhbEV4cHJlc3Npb246IF9sb2dpY2FsRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRNZW1iZXJFeHByZXNzaW9uOiBfbWVtYmVyRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRNZXRhUHJvcGVydHk6IF9tZXRhUHJvcGVydHkyW1wiZGVmYXVsdFwiXSxcblx0T2JqZWN0RXhwcmVzc2lvbjogX29iamVjdEV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0UmV0dXJuU3RhdGVtZW50OiBfcmV0dXJuU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdFNlcXVlbmNlRXhwcmVzc2lvbjogX3NlcXVlbmNlRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRTd2l0Y2hTdGF0ZW1lbnQ6IF9zd2l0Y2hTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0VGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uOiBfdGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFRlbXBsYXRlTGl0ZXJhbDogX3RlbXBsYXRlTGl0ZXJhbDJbXCJkZWZhdWx0XCJdLFxuXHRUaGlzRXhwcmVzc2lvbjogX3RoaXNFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFRocm93U3RhdGVtZW50OiBfdGhyb3dTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0VHJ5U3RhdGVtZW50OiBfdHJ5U3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdFVuYXJ5RXhwcmVzc2lvbjogX3VuYXJ5RXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRVcGRhdGVFeHByZXNzaW9uOiBfdXBkYXRlRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRWYXJpYWJsZURlY2xhcmF0aW9uOiBfdmFyaWFibGVEZWNsYXJhdGlvbjJbXCJkZWZhdWx0XCJdLFxuXHRWYXJpYWJsZURlY2xhcmF0b3I6IF92YXJpYWJsZURlY2xhcmF0b3IyW1wiZGVmYXVsdFwiXSxcblx0V2l0aFN0YXRlbWVudDogX3dpdGhTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblxuXHRBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbjogX2Z1bmN0aW9uRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRDb250aW51ZVN0YXRlbWVudDogX2ludGVycnVwdFN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRJZlN0YXRlbWVudDogX2lmU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdE5ld0V4cHJlc3Npb246IF9jYWxsRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRQcm9ncmFtOiBfYmxvY2tTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0V2hpbGVTdGF0ZW1lbnQ6IF9kb1doaWxlU3RhdGVtZW50SnMyW1wiZGVmYXVsdFwiXVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdHZpc2l0OiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gdmlzaXQoY29udGV4dCkge1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdmlzaXQkKGNvbnRleHQkMSQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS50eXBlIGluIHZpc2l0b3JzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBoYW5kbGVyIGRlZmluZWQgZm9yOiBcIiArIGNvbnRleHQubm9kZS50eXBlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuIHZpc2l0b3JzW2NvbnRleHQubm9kZS50eXBlXShjb250ZXh0KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIHZpc2l0LCB0aGlzKTtcblx0fSlcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBJbnRlcnJ1cHRTdGF0ZW1lbnQ7XG5cbmZ1bmN0aW9uIEludGVycnVwdFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBsYWJlbCA9IHVuZGVmaW5lZDtcblx0aWYgKGNvbnRleHQubm9kZS5sYWJlbCkge1xuXHRcdGxhYmVsID0gY29udGV4dC5ub2RlLmxhYmVsLm5hbWU7XG5cdH1cblxuXHRpZiAoY29udGV4dC5ub2RlLnR5cGUgPT09IFwiQnJlYWtTdGF0ZW1lbnRcIikge1xuXHRcdHJldHVybiBjb250ZXh0LmNhbmNlbChsYWJlbCk7XG5cdH1cblxuXHRyZXR1cm4gY29udGV4dC5za2lwKGxhYmVsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IExhYmVsZWRTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0xhYmVsZWRTdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5mdW5jdGlvbiBMYWJlbGVkU3RhdGVtZW50KGNvbnRleHQpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBMYWJlbGVkU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGVMYWJlbChjb250ZXh0Lm5vZGUuYm9keSwgY29udGV4dC5ub2RlLmxhYmVsLm5hbWUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBMaXRlcmFsO1xuXG5mdW5jdGlvbiBMaXRlcmFsKGNvbnRleHQpIHtcblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGNvbnRleHQubm9kZS52YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTG9naWNhbEV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW0xvZ2ljYWxFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIExvZ2ljYWxFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIGxlZnQsIHBhc3NlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBMb2dpY2FsRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5sZWZ0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShsZWZ0LnJlc3VsdC5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRpZiAoIShwYXNzZWQgJiYgY29udGV4dC5ub2RlLm9wZXJhdG9yID09PSBcInx8XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGxlZnQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGlmICghKCFwYXNzZWQgJiYgY29udGV4dC5ub2RlLm9wZXJhdG9yID09PSBcIiYmXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGxlZnQpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1lbWJlckV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW01lbWJlckV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBNZW1iZXJFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iaiwga2V5LCB2YWx1ZSwgaWQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gTWVtYmVyRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5vYmplY3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRvYmogPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRrZXkgPSB1bmRlZmluZWQsIHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmNvbXB1dGVkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUucHJvcGVydHkpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpZCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFpZC5pc1N5bWJvbCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIHRoZSBpZGVudGlmaWVyIGlzIGEgc3ltYm9sLCBrZWVwIGFzIGlzIC0gcHJvcGVydHkgcmVmZXJlbmNlIHdpbGwgaGFuZGxlIGl0IGFjY29yZGluZ2x5XG5cdFx0XHRcdGtleSA9IGlkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShjb250ZXh0LmVudiwgaWQpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRrZXkgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRrZXkgPSBjb250ZXh0Lm5vZGUucHJvcGVydHkubmFtZTtcblxuXHRcdFx0Y2FzZSAxODpcblxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBfZW52UHJvcGVydHlSZWZlcmVuY2UuUHJvcGVydHlSZWZlcmVuY2Uoa2V5LCBvYmosIGNvbnRleHQuZW52KTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdCh2YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDIwOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTWV0YVByb3BlcnR5O1xuXG5mdW5jdGlvbiBNZXRhUHJvcGVydHkoY29udGV4dCkge1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJNZXRhIHByb3BlcnRpZXMgbm90IHlldCBpbXBsZW1lbnRlZFwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT2JqZWN0RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbT2JqZWN0RXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gc2V0RGVzY3JpcHRvcihlbnYsIG9iaiwgZGVzY3JpcHRvcikge1xuXHR2YXIgc3RyaWN0ID0gZW52LmlzU3RyaWN0KCk7XG5cblx0aWYgKGRlc2NyaXB0b3IuZ2V0KSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydEFyZVZhbGlkQXJndW1lbnRzKGRlc2NyaXB0b3IuZ2V0Lm5vZGUucGFyYW1zLCBzdHJpY3QpO1xuXHRcdGRlc2NyaXB0b3IuZ2V0dGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCBkZXNjcmlwdG9yLmdldCwgW10sIHRoaXMsIGRlc2NyaXB0b3IuZ2V0Lm5vZGUpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmIChkZXNjcmlwdG9yLnNldCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRBcmVWYWxpZEFyZ3VtZW50cyhkZXNjcmlwdG9yLnNldC5ub2RlLnBhcmFtcywgc3RyaWN0KTtcblx0XHRkZXNjcmlwdG9yLnNldHRlciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0dmFyIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgZGVzY3JpcHRvci5zZXQsIGFyZ3MkMiQwLCB0aGlzLCBkZXNjcmlwdG9yLnNldC5ub2RlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHR9KTtcblx0fVxuXG5cdG9iai5kZWZpbmVPd25Qcm9wZXJ0eShkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlc2NyaXB0b3Ioa2V5LCB2YWx1ZSkge1xuXHRyZXR1cm4geyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH07XG59XG5cbmZ1bmN0aW9uIE9iamVjdEV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqLCBkZXNjcmlwdG9ycywgcHJvcDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBPYmplY3RFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdFx0XHRcdGRlc2NyaXB0b3JzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5lYWNoKShjb250ZXh0Lm5vZGUucHJvcGVydGllcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocHJvcGVydHkpIHtcblx0XHRcdFx0XHR2YXIgdmFsdWUsIGtleSwga2V5VmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShwcm9wZXJ0eS52YWx1ZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0XHRcdFx0a2V5ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFwcm9wZXJ0eS5jb21wdXRlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKHByb3BlcnR5LmtleSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRrZXlWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKGNvbnRleHQuZW52LCBrZXlWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdFx0XHRcdGtleSA9IHByb3BlcnR5LmtleS5uYW1lIHx8IHByb3BlcnR5LmtleS52YWx1ZTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gcHJvcGVydHkua2luZDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gY29udGV4dCQyJDAudDAgPT09IFwiZ2V0XCIgPyAxNyA6IGNvbnRleHQkMiQwLnQwID09PSBcInNldFwiID8gMTcgOiAyMDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3JzW25hbWVdID0gZGVzY3JpcHRvcnNbbmFtZV0gfHwgY3JlYXRlRGVzY3JpcHRvcihrZXkpO1xuXHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3JzW25hbWVdW3Byb3BlcnR5LmtpbmRdID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImJyZWFrXCIsIDIyKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRcdFx0XHRcdG9iai5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIGNyZWF0ZURlc2NyaXB0b3Ioa2V5LCB2YWx1ZSkpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAyMik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXG5cdFx0XHRcdGZvciAocHJvcCBpbiBkZXNjcmlwdG9ycykge1xuXHRcdFx0XHRcdHNldERlc2NyaXB0b3IoY29udGV4dC5lbnYsIG9iaiwgZGVzY3JpcHRvcnNbcHJvcF0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChvYmopKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJldHVyblN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbUmV0dXJuU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIFJldHVyblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gUmV0dXJuU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmFyZ3VtZW50KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwLmV4aXQuY2FsbChjb250ZXh0JDEkMC50MCwgY29udGV4dCQxJDAudDEpKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuZXhpdChfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VxdWVuY2VFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtTZXF1ZW5jZUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIFNlcXVlbmNlRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBTZXF1ZW5jZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoZXhwcikuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQodmFsdWUpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN3aXRjaFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbZXhlY3V0ZVN0YXRlbWVudHMsIFN3aXRjaFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gZXhlY3V0ZVN0YXRlbWVudHMoY29udGV4dCwgc3RhdGVtZW50cykge1xuXHR2YXIgcmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGVTdGF0ZW1lbnRzJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkoc3RhdGVtZW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RhdGVtZW50LCBpLCBhbGwsIGFib3J0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShzdGF0ZW1lbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0LmlzQ2FuY2VsbGVkKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIFN3aXRjaFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciB0ZXN0VmFsdWUsIHBhc3NlZCwgdmFsdWUsIGRlZmF1bHRDYXNlLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGN1cnJlbnQsIGNhc2VWYWx1ZTtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFN3aXRjaFN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5kaXNjcmltaW5hbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR0ZXN0VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRwYXNzZWQgPSBmYWxzZTtcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQsIGRlZmF1bHRDYXNlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA4O1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmNhc2VzKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudCA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRcdGlmIChwYXNzZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWN1cnJlbnQudGVzdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGN1cnJlbnQudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRjYXNlVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmIChjYXNlVmFsdWUuZXF1YWxzKHRlc3RWYWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiY29udGludWVcIiwgMzApO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHQvLyBkZWZhdWx0IG1pZ2h0IG5vdCBiZSB0aGUgbGFzdCBjYXNlXG5cdFx0XHRcdGRlZmF1bHRDYXNlID0gY3VycmVudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImNvbnRpbnVlXCIsIDMwKTtcblxuXHRcdFx0Y2FzZSAyMzpcblxuXHRcdFx0XHRwYXNzZWQgPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlU3RhdGVtZW50cyhjb250ZXh0LCBjdXJyZW50LmNvbnNlcXVlbnQpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEodmFsdWUgJiYgdmFsdWUuaXNDYW5jZWxsZWQoKSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSg4KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0MDtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQyO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCg0Mik7XG5cblx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMzkpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRpZiAoISghcGFzc2VkICYmIGRlZmF1bHRDYXNlICYmIGRlZmF1bHRDYXNlLmNvbnNlcXVlbnQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUwO1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZVN0YXRlbWVudHMoY29udGV4dCwgZGVmYXVsdENhc2UuY29uc2VxdWVudCk7XG5cblx0XHRcdGNhc2UgNTA6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgNTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDU0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzLCBbWzgsIDM1LCAzOSwgNDddLCBbNDAsLCA0MiwgNDZdXSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvLWNvbnN1bWFibGUtYXJyYXlcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciB0ZW1wbGF0ZU9iamVjdENhY2hlID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIGJ1aWxkVGVtcGxhdGVPYmplY3QoZW52LCBub2RlKSB7XG5cdC8vIHBlciBzcGVjLCB0ZW1wbGF0ZSBvYmplY3RzIGFyZSBjYWNoZWRcblx0dmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KG5vZGUucXVhc2lzLm1hcChmdW5jdGlvbiAocSkge1xuXHRcdHJldHVybiB7IGNvb2tlZDogcS52YWx1ZS5jb29rZWQsIHJhdzogcS52YWx1ZS5yYXcgfTtcblx0fSkpO1xuXHRpZiAoa2V5IGluIHRlbXBsYXRlT2JqZWN0Q2FjaGUpIHtcblx0XHRyZXR1cm4gdGVtcGxhdGVPYmplY3RDYWNoZVtrZXldO1xuXHR9XG5cblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIHRhZyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdHZhciByYXcgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHR2YXIgcXVhc2lzID0gbm9kZS5xdWFzaXM7XG5cblx0Zm9yICh2YXIgaSA9IDAsIGxuID0gcXVhc2lzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHR0YWcucHV0VmFsdWUoaSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocXVhc2lzW2ldLnZhbHVlLmNvb2tlZCksIHRydWUsIGVudik7XG5cdFx0cmF3LnB1dFZhbHVlKGksIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHF1YXNpc1tpXS52YWx1ZS5yYXcpLCB0cnVlLCBlbnYpO1xuXHR9XG5cblx0cmF3LmZyZWV6ZSgpO1xuXHR0YWcuZGVmaW5lT3duUHJvcGVydHkoXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pO1xuXHR0YWcuZnJlZXplKCk7XG5cblx0cmV0dXJuIHRlbXBsYXRlT2JqZWN0Q2FjaGVba2V5XSA9IHRhZztcbn1cblxuZnVuY3Rpb24gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIHRlbXBsYXRlT2JqZWN0LCB2YWx1ZXMsIGNhbGxlZSwgZnVuYywgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHRlbXBsYXRlT2JqZWN0ID0gYnVpbGRUZW1wbGF0ZU9iamVjdChjb250ZXh0LmVudiwgY29udGV4dC5ub2RlLnF1YXNpKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMubWFwKShjb250ZXh0Lm5vZGUucXVhc2kuZXhwcmVzc2lvbnMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGV4cHIpIHtcblx0XHRcdFx0XHR2YXIgdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShleHByKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWUucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHZhbHVlcyA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRhZykuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhbGxlZSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXHRcdFx0XHRmdW5jID0gY2FsbGVlLmdldFZhbHVlKCk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGNvbnRleHQuZW52LCBmdW5jLCBbdGVtcGxhdGVPYmplY3RdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVzKSksIGNhbGxlZS5iYXNlLCBjYWxsZWUpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQodmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUZW1wbGF0ZUxpdGVyYWw7XG52YXIgbWFya2VkMCQwID0gW1RlbXBsYXRlTGl0ZXJhbF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbChjb250ZXh0KSB7XG5cdHZhciB2YWx1ZXMsIHJlc3VsdCwgcXVhc2lzLCBpLCBsbjtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUZW1wbGF0ZUxpdGVyYWwkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMubWFwKShjb250ZXh0Lm5vZGUuZXhwcmVzc2lvbnMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGV4cHIpIHtcblx0XHRcdFx0XHR2YXIgdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShleHByKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoY29udGV4dC5lbnYsIHZhbHVlLnJlc3VsdC5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dmFsdWVzID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmVzdWx0ID0gW107XG5cdFx0XHRcdHF1YXNpcyA9IGNvbnRleHQubm9kZS5xdWFzaXM7XG5cblx0XHRcdFx0Zm9yIChpID0gMCwgbG4gPSBxdWFzaXMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKHF1YXNpc1tpXS52YWx1ZS5jb29rZWQpO1xuXG5cdFx0XHRcdFx0aWYgKGkgPCB2YWx1ZXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQucHVzaCh2YWx1ZXNbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocmVzdWx0LmpvaW4oXCJcIikpKSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGhpc0V4cHJlc3Npb247XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gVGhpc0V4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgdGhpc0FyZyA9IGNvbnRleHQuZW52LmdldFRoaXNCaW5kaW5nKCk7XG5cdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQodGhpc0FyZykgJiYgIWNvbnRleHQuZW52LmlzU3RyaWN0KCkpIHtcblx0XHR0aGlzQXJnID0gY29udGV4dC5lbnYuZ2xvYmFsO1xuXHR9XG5cblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KHRoaXNBcmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGhyb3dTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW1Rocm93U3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuZnVuY3Rpb24gVGhyb3dTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgYXJnO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFRocm93U3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0YXJnID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKGFyZykpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUcnlTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW2V4ZWN1dGVCbG9jaywgVHJ5U3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIGV4ZWN1dGVCbG9jayhjb250ZXh0LCBib2R5LCBzd2FsbG93KSB7XG5cdHZhciByZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZUJsb2NrJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkoYm9keSwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobm9kZSwgaSwgYWxsLCBhYm9ydCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXN3YWxsb3cpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShub2RlKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gNztcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMSk7XG5cblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0LnJhaXNlKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE1OlxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdC5jYW5CcmVhaygpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzEsIDddXSk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIFRyeVN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciByZXN1bHQsIGZpbmFsaXplclJlc3VsdCwgZXJyVmFyLCBzY29wZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUcnlTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlQmxvY2soY29udGV4dCwgY29udGV4dC5ub2RlLmJsb2NrLmJvZHksIHRydWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGZpbmFsaXplclJlc3VsdCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRpZiAoIShyZXN1bHQgJiYgcmVzdWx0LnJhaXNlZCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5oYW5kbGVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZXJyVmFyID0gY29udGV4dC5ub2RlLmhhbmRsZXIucGFyYW0ubmFtZTtcblxuXHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIoZXJyVmFyLCBjb250ZXh0LmVudi5pc1N0cmljdCgpKTtcblxuXHRcdFx0XHRzY29wZSA9IGNvbnRleHQuZW52LmNyZWF0ZVNjb3BlKCk7XG5cblx0XHRcdFx0Y29udGV4dC5lbnYuY3JlYXRlVmFyaWFibGUoZXJyVmFyKTtcblx0XHRcdFx0Y29udGV4dC5lbnYucHV0VmFsdWUoZXJyVmFyLCByZXN1bHQucmVzdWx0KTtcblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBleGVjdXRlQmxvY2soY29udGV4dCwgY29udGV4dC5ub2RlLmhhbmRsZXIuYm9keS5ib2R5LCB0cnVlKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdGlmIChjb250ZXh0Lm5vZGUuZmluYWxpemVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5maW5hbGl6ZXIpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlQmxvY2soY29udGV4dCwgY29udGV4dC5ub2RlLmZpbmFsaXplci5ib2R5KTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0ZmluYWxpemVyUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShmaW5hbGl6ZXJSZXN1bHQgJiYgZmluYWxpemVyUmVzdWx0LmNhbkJyZWFrKCkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBmaW5hbGl6ZXJSZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgMjM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyBsZXQgc2hvdWxkUmFpc2UgPSBmYWxzZTtcbi8vIGxldCBzaG91bGRSZXR1cm4gPSBmYWxzZTtcblxuLy8gbGV0IHNob3VsZFRocm93ID0gcmVzdWx0ICYmIHJlc3VsdC5yYWlzZWQ7XG5cbi8vIGlmIHRoZXJlIGlzIG5vIGNhdGNoIE9SIGlmIGFuIGVycm9yIGlzIHJhaXNlZCB3aXRoaW4gdGhlIGNhdGNoIHdlIG5lZWQgdG8gcGFzcyB0aGF0IG9uXG4vLyBpZiAocmVzdWx0ICYmIHJlc3VsdC5yYWlzZWQpIHtcbi8vIFx0c2hvdWxkUmFpc2UgPSB0cnVlO1xuLy8gXHQvLyB5aWVsZCByZXN1bHQ7XG4vLyB9XG5cbi8vIHNob3VsZFJldHVybiA9IHRydWU7XG5cbi8vIGlmIChzaG91bGRSYWlzZSkge1xuLy8gXHR0cnkge1xuLy8gXHRcdHRocm93IHJlc3VsdC5yZXN1bHQ7XG4vLyBcdH0gY2F0Y2ggKGVycikge1xuLy8gXHRcdHRocm93IGVycjtcbi8vIFx0fSBmaW5hbGx5IHtcbi8vIFx0XHRpZiAoc2hvdWxkUmV0dXJuKSB7XG4vLyBcdFx0XHRyZXR1cm4gZmluYWxpemVyUmVzdWx0O1xuLy8gXHRcdH1cbi8vIFx0fVxuLy8gfSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVW5hcnlFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtVbmFyeUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcmVmZXJlbmNlXCIpO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBVbmFyeUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSwgcmVzdWx0LCB2YWx1ZSwgbmV3VmFsdWUsIHR5cGUsIGRlbGV0ZWQsIHJlc29sdmVkO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFVuYXJ5RXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRvYmplY3RGYWN0b3J5ID0gY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYXJndW1lbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQsIG5ld1ZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQubm9kZS5vcGVyYXRvcjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IGNvbnRleHQkMSQwLnQwID09PSBcInR5cGVvZlwiID8gOCA6IGNvbnRleHQkMSQwLnQwID09PSBcIi1cIiA/IDEyIDogY29udGV4dCQxJDAudDAgPT09IFwiK1wiID8gMTkgOiBjb250ZXh0JDEkMC50MCA9PT0gXCIhXCIgPyAyNiA6IGNvbnRleHQkMSQwLnQwID09PSBcIn5cIiA/IDI5IDogY29udGV4dCQxJDAudDAgPT09IFwiZGVsZXRlXCIgPyAzNiA6IGNvbnRleHQkMSQwLnQwID09PSBcInZvaWRcIiA/IDQ5IDogNTE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKHJlc3VsdCBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlICYmIHJlc3VsdC5pc1VucmVzb2x2ZWQoKSkge1xuXHRcdFx0XHRcdHR5cGUgPSBcInVuZGVmaW5lZFwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhbHVlID0gcmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0dHlwZSA9IHZhbHVlID8gdmFsdWUudHlwZSA6IFwidW5kZWZpbmVkXCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuZXdWYWx1ZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHR5cGUpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IG9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKGNvbnRleHQuZW52LCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gLWNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDEuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDEsIGNvbnRleHQkMSQwLnQyKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDMgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShjb250ZXh0LmVudiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50NCA9ICtjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRuZXdWYWx1ZSA9IGNvbnRleHQkMSQwLnQzLmNyZWF0ZVByaW1pdGl2ZS5jYWxsKGNvbnRleHQkMSQwLnQzLCBjb250ZXh0JDEkMC50NCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdHZhbHVlID0gcmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdG5ld1ZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoISgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKSh2YWx1ZSkpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NSA9IG9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzMztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnQzMikoY29udGV4dC5lbnYsIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAzMzpcblx0XHRcdFx0Y29udGV4dCQxJDAudDYgPSB+Y29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0bmV3VmFsdWUgPSBjb250ZXh0JDEkMC50NS5jcmVhdGVQcmltaXRpdmUuY2FsbChjb250ZXh0JDEkMC50NSwgY29udGV4dCQxJDAudDYpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRkZWxldGVkID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoIShyZXN1bHQgJiYgcmVzdWx0IGluc3RhbmNlb2YgX2VudlJlZmVyZW5jZS5SZWZlcmVuY2UpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzb2x2ZWQgPSAhcmVzdWx0LmlzVW5yZXNvbHZlZCgpO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5lbnYuaXNTdHJpY3QoKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Mjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghKCFyZXNvbHZlZCB8fCAhKHJlc3VsdCBpbnN0YW5jZW9mIF9lbnZQcm9wZXJ0eVJlZmVyZW5jZS5Qcm9wZXJ0eVJlZmVyZW5jZSkgfHwgcmVzdWx0LnVucXVhbGlmaWVkKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Mjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgU3ludGF4RXJyb3IoXCJEZWxldGUgb2YgYW4gdW5xdWFsaWZpZWQgaWRlbnRpZmllciBpbiBzdHJpY3QgbW9kZS5cIikpKTtcblxuXHRcdFx0Y2FzZSA0MjpcblxuXHRcdFx0XHRpZiAocmVzb2x2ZWQpIHtcblx0XHRcdFx0XHRkZWxldGVkID0gcmVzdWx0W1wiZGVsZXRlXCJdKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ3O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuYXJndW1lbnQub2JqZWN0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBSZWZlcmVuY2VFcnJvcihjb250ZXh0Lm5vZGUuYXJndW1lbnQub2JqZWN0Lm5hbWUgKyBcIiBpcyBub3QgZGVmaW5lZFwiKSkpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXG5cdFx0XHRcdG5ld1ZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVsZXRlZCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgNDk6XG5cdFx0XHRcdG5ld1ZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodW5kZWZpbmVkKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSA1MTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBTeW50YXhFcnJvcihcIlVua25vd24gdW5hcnkgb3BlcmF0b3I6IFwiICsgY29udGV4dC5ub2RlLm9wZXJhdG9yKSkpO1xuXG5cdFx0XHRjYXNlIDUyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KG5ld1ZhbHVlKSk7XG5cblx0XHRcdGNhc2UgNTM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBVcGRhdGVFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtVcGRhdGVFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gVXBkYXRlRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBvYmplY3RGYWN0b3J5LCByZWYsIG9yaWdpbmFsVmFsdWUsIG5ld1ZhbHVlLCBuZXdXcmFwcGVkVmFsdWUsIHJldHVyblZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFVwZGF0ZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0b2JqZWN0RmFjdG9yeSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmVmID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cblx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRBc3NpZ25tZW50KHJlZiwgY29udGV4dC5lbnYuaXNTdHJpY3QoKSk7XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShjb250ZXh0LmVudiwgcmVmLmdldFZhbHVlKCkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRuZXdWYWx1ZSA9IG9yaWdpbmFsVmFsdWU7XG5cblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS5vcGVyYXRvciA9PT0gXCIrK1wiKSB7XG5cdFx0XHRcdFx0bmV3VmFsdWUrKztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXdWYWx1ZS0tO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3V3JhcHBlZFZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3VmFsdWUpO1xuXG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShvcmlnaW5hbFZhbHVlKTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IGNvbnRleHQubm9kZS5wcmVmaXggPyBuZXdXcmFwcGVkVmFsdWUgOiBvcmlnaW5hbFZhbHVlO1xuXG5cdFx0XHRcdHJlZi5zZXRWYWx1ZShuZXdXcmFwcGVkVmFsdWUpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KHJldHVyblZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVmFyaWFibGVEZWNsYXJhdGlvbjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdGlvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRpb24oY29udGV4dCkge1xuXHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBkZWNsO1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdGlvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAzO1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmRlY2xhcmF0aW9ucyk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVjbCA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGRlY2wpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSgzKTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxOTtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIxO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgyMSk7XG5cblx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMTgpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuZW1wdHkoKSk7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbMywgMTQsIDE4LCAyNl0sIFsxOSwsIDIxLCAyNV1dKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFZhcmlhYmxlRGVjbGFyYXRvcjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdG9yKGNvbnRleHQpIHtcblx0dmFyIG5hbWUsIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRuYW1lID0gY29udGV4dC5ub2RlLmlkLm5hbWU7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmluaXQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRjYXNlIDY6XG5cblx0XHRcdFx0Ly8gdmFyaWFibGVzIGhhdmUgYWxyZWFkeSBiZWVuIGhvaXN0ZWQgc28gd2UganVzdCBuZWVkIHRvIGluaXRpYWxpemUgdGhlbSBpZiBkZWZpbmVkXG5cdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQuZW52LnB1dFZhbHVlKG5hbWUsIHZhbHVlLmdldFZhbHVlKCksIGNvbnRleHQuZW52LmlzU3RyaWN0KCksIGNvbnRleHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5nZXRSZWZlcmVuY2UobmFtZSkpKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gV2l0aFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbV2l0aFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gV2l0aFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBvYmosIHNjb3BlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFdpdGhTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFjb250ZXh0LmVudi5pc1N0cmljdCgpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFN5bnRheEVycm9yKFwiU3RyaWN0IG1vZGUgY29kZSBtYXkgbm90IGluY2x1ZGUgYSB3aXRoIHN0YXRlbWVudFwiKSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLm9iamVjdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQob2JqKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBUeXBlRXJyb3Iob2JqLmNsYXNzTmFtZSArIFwiIGhhcyBubyBwcm9wZXJ0aWVzXCIpKSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0c2NvcGUgPSBjb250ZXh0LmVudi5jcmVhdGVPYmplY3RTY29wZShvYmosIGNvbnRleHQuZW52LmdldFRoaXNCaW5kaW5nKCkpO1xuXG5cdFx0XHRcdHNjb3BlLmluaXQoY29udGV4dC5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiXX0=
