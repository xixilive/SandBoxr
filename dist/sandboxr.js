(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SandBoxr = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _src = require("./src");

exports["default"] = _src.SandBoxr;
module.exports = exports["default"];
},{"./src":293}],2:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/array/from"), __esModule: true };
},{"core-js/library/fn/array/from":38}],3:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/get-iterator"), __esModule: true };
},{"core-js/library/fn/get-iterator":39}],4:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/math/clz32"), __esModule: true };
},{"core-js/library/fn/math/clz32":40}],5:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/math/fround"), __esModule: true };
},{"core-js/library/fn/math/fround":41}],6:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/math/imul"), __esModule: true };
},{"core-js/library/fn/math/imul":42}],7:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/math/sign"), __esModule: true };
},{"core-js/library/fn/math/sign":43}],8:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/epsilon"), __esModule: true };
},{"core-js/library/fn/number/epsilon":44}],9:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/max-safe-integer"), __esModule: true };
},{"core-js/library/fn/number/max-safe-integer":45}],10:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/min-safe-integer"), __esModule: true };
},{"core-js/library/fn/number/min-safe-integer":46}],11:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/assign"), __esModule: true };
},{"core-js/library/fn/object/assign":47}],12:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/create"), __esModule: true };
},{"core-js/library/fn/object/create":48}],13:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/define-property"), __esModule: true };
},{"core-js/library/fn/object/define-property":49}],14:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/get-own-property-descriptor"), __esModule: true };
},{"core-js/library/fn/object/get-own-property-descriptor":50}],15:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/keys"), __esModule: true };
},{"core-js/library/fn/object/keys":51}],16:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/set-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/set-prototype-of":52}],17:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/promise"), __esModule: true };
},{"core-js/library/fn/promise":53}],18:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/string/from-code-point"), __esModule: true };
},{"core-js/library/fn/string/from-code-point":54}],19:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol"), __esModule: true };
},{"core-js/library/fn/symbol":56}],20:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/for"), __esModule: true };
},{"core-js/library/fn/symbol/for":55}],21:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/iterator"), __esModule: true };
},{"core-js/library/fn/symbol/iterator":57}],22:[function(require,module,exports){
"use strict";

exports["default"] = Function.prototype.bind;
exports.__esModule = true;
},{}],23:[function(require,module,exports){
"use strict";

exports["default"] = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

exports.__esModule = true;
},{}],24:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;

      _Object$defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
})();

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":13}],25:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = function (obj, key, value) {
  if (key in obj) {
    _Object$defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":13}],26:[function(require,module,exports){
"use strict";

var _Object$getOwnPropertyDescriptor = require("babel-runtime/core-js/object/get-own-property-descriptor")["default"];

exports["default"] = function get(_x, _x2, _x3) {
  var _again = true;

  _function: while (_again) {
    var object = _x,
        property = _x2,
        receiver = _x3;
    desc = parent = getter = undefined;
    _again = false;
    if (object === null) object = Function.prototype;

    var desc = _Object$getOwnPropertyDescriptor(object, property);

    if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);

      if (parent === null) {
        return undefined;
      } else {
        _x = parent;
        _x2 = property;
        _x3 = receiver;
        _again = true;
        continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;

      if (getter === undefined) {
        return undefined;
      }

      return getter.call(receiver);
    }
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/get-own-property-descriptor":14}],27:[function(require,module,exports){
"use strict";

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Object$setPrototypeOf = require("babel-runtime/core-js/object/set-prototype-of")["default"];

exports["default"] = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = _Object$create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/create":12,"babel-runtime/core-js/object/set-prototype-of":16}],28:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
};

exports.__esModule = true;
},{}],29:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};

    if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }

    newObj["default"] = obj;
    return newObj;
  }
};

exports.__esModule = true;
},{}],30:[function(require,module,exports){
"use strict";

var _Array$from = require("babel-runtime/core-js/array/from")["default"];

exports["default"] = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return _Array$from(arr);
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/array/from":2}],31:[function(require,module,exports){
(function (global){
// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g =
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this;

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = require("./runtime");

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}

module.exports = { "default": module.exports, __esModule: true };

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlXG4vLyBrZXB0IGlkZW50aWNhbCB0byB0aGUgd2F5IGl0IGlzIG9idGFpbmVkIGluIHJ1bnRpbWUuanNcbnZhciBnID1cbiAgdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOlxuICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB0aGlzO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IG1vZHVsZS5leHBvcnRzLCBfX2VzTW9kdWxlOiB0cnVlIH07XG4iXX0=
},{"./runtime":32}],32:[function(require,module,exports){
(function (process,global){
/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */

"use strict";

var _Symbol = require("babel-runtime/core-js/symbol")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

!(function (global) {
  "use strict";

  var hasOwn = Object.prototype.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var iteratorSymbol = typeof _Symbol === "function" && _Symbol$iterator || "@@iterator";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided, then outerFn.prototype instanceof Generator.
    var generator = _Object$create((outerFn || Generator).prototype);

    generator._invoke = makeInvokeMethod(innerFn, self || null, new Context(tryLocsList || []));

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function (method) {
      prototype[method] = function (arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function (genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor ? ctor === GeneratorFunction ||
    // For the native GeneratorFunction constructor, the best we can
    // do is to check its .name property.
    (ctor.displayName || ctor.name) === "GeneratorFunction" : false;
  };

  runtime.mark = function (genFun) {
    genFun.__proto__ = GeneratorFunctionPrototype;
    genFun.prototype = _Object$create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `value instanceof AwaitArgument` to determine if the yielded value is
  // meant to be awaited. Some may consider the name of this method too
  // cutesy, but they are curmudgeons.
  runtime.awrap = function (arg) {
    return new AwaitArgument(arg);
  };

  function AwaitArgument(arg) {
    this.arg = arg;
  }

  function AsyncIterator(generator) {
    // This invoke function is written in a style that assumes some
    // calling function (or Promise) will handle exceptions.
    function invoke(method, arg) {
      var result = generator[method](arg);
      var value = result.value;
      return value instanceof AwaitArgument ? _Promise.resolve(value.arg).then(invokeNext, invokeThrow) : _Promise.resolve(value).then(function (unwrapped) {
        // When a yielded Promise is resolved, its final value becomes
        // the .value of the Promise<{value,done}> result for the
        // current iteration. If the Promise is rejected, however, the
        // result for this iteration will be rejected with the same
        // reason. Note that rejections of yielded Promises are not
        // thrown back into the generator function, as is the case
        // when an awaited Promise is rejected. This difference in
        // behavior between yield and await is important, because it
        // allows the consumer to decide what to do with the yielded
        // rejection (swallow it and continue, manually .throw it back
        // into the generator, abandon iteration, whatever). With
        // await, by contrast, there is no opportunity to examine the
        // rejection reason outside the generator function, so the
        // only option is to throw it from the await expression, and
        // let the generator function handle the exception.
        result.value = unwrapped;
        return result;
      });
    }

    if (typeof process === "object" && process.domain) {
      invoke = process.domain.bind(invoke);
    }

    var invokeNext = invoke.bind(generator, "next");
    var invokeThrow = invoke.bind(generator, "throw");
    var invokeReturn = invoke.bind(generator, "return");
    var previousPromise;

    function enqueue(method, arg) {
      var enqueueResult =
      // If enqueue has been called before, then we want to wait until
      // all previous Promises have been resolved before calling invoke,
      // so that results are always delivered in the correct order. If
      // enqueue has not been called before, then it is important to
      // call invoke immediately, without waiting on a callback to fire,
      // so that the async generator function has the opportunity to do
      // any necessary setup in a predictable way. This predictability
      // is why the Promise constructor synchronously invokes its
      // executor callback, and why async functions synchronously
      // execute code before the first await. Since we implement simple
      // async functions in terms of async generators, it is especially
      // important to get this right, even though it requires care.
      previousPromise ? previousPromise.then(function () {
        return invoke(method, arg);
      }) : new _Promise(function (resolve) {
        resolve(invoke(method, arg));
      });

      // Avoid propagating enqueueResult failures to Promises returned by
      // later invocations of the iterator.
      previousPromise = enqueueResult["catch"](function (ignored) {});

      return enqueueResult;
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function (innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));

    return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.
    : iter.next().then(function (result) {
      return result.done ? result.value : iter.next();
    });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          if (method === "return" || method === "throw" && delegate.iterator[method] === undefined) {
            // A return or throw (when the delegate iterator has no throw
            // method) always terminates the yield* loop.
            context.delegate = null;

            // If the delegate iterator has a return method, give it a
            // chance to clean up.
            var returnMethod = delegate.iterator["return"];
            if (returnMethod) {
              var record = tryCatch(returnMethod, delegate.iterator, arg);
              if (record.type === "throw") {
                // If the return method threw an exception, let that
                // exception prevail over the original return or throw.
                method = "throw";
                arg = record.arg;
                continue;
              }
            }

            if (method === "return") {
              // Continue with the outer return, now that the delegate
              // iterator has been terminated.
              continue;
            }
          }

          var record = tryCatch(delegate.iterator[method], delegate.iterator, arg);

          if (record.type === "throw") {
            context.delegate = null;

            // Like returning generator.throw(uncaught), but without the
            // overhead of an extra function call.
            method = "throw";
            arg = record.arg;
            continue;
          }

          // Delegate generator ran and handled its own exceptions so
          // regardless of what the method was, we continue as if it is
          // "next" with an undefined arg.
          method = "next";
          arg = undefined;

          var info = record.arg;
          if (info.done) {
            context[delegate.resultName] = info.value;
            context.next = delegate.nextLoc;
          } else {
            state = GenStateSuspendedYield;
            return info;
          }

          context.delegate = null;
        }

        if (method === "next") {
          if (state === GenStateSuspendedYield) {
            context.sent = arg;
          } else {
            context.sent = undefined;
          }
        } else if (method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw arg;
          }

          if (context.dispatchException(arg)) {
            // If the dispatched exception was caught by a catch block,
            // then let that catch block handle the exception normally.
            method = "next";
            arg = undefined;
          }
        } else if (method === "return") {
          context.abrupt("return", arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done ? GenStateCompleted : GenStateSuspendedYield;

          var info = {
            value: record.arg,
            done: context.done
          };

          if (record.arg === ContinueSentinel) {
            if (context.delegate && method === "next") {
              // Deliberately forget the last sent value so that we don't
              // accidentally pass it on to the delegate.
              arg = undefined;
            }
          } else {
            return info;
          }
        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(arg) call above.
          method = "throw";
          arg = record.arg;
        }
      }
    };
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[iteratorSymbol] = function () {
    return this;
  };

  Gp.toString = function () {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function (object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1,
            next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function reset(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      this.sent = undefined;
      this.done = false;
      this.delegate = null;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function stop() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function dispatchException(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;
        return !!caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }
          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function abrupt(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.next = finallyEntry.finallyLoc;
      } else {
        this.complete(record);
      }

      return ContinueSentinel;
    },

    complete: function complete(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" || record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = record.arg;
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }
    },

    finish: function finish(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function _catch(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function delegateYield(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      return ContinueSentinel;
    }
  };
})(
// Among the various tricks for obtaining a reference to the global
// object, this seems to be the most reliable technique that does not
// use indirect eval (which violates Content Security Policy).
typeof global === "object" ? global : typeof window === "object" ? window : typeof self === "object" ? self : undefined);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW5cbiAqIGFkZGl0aW9uYWwgZ3JhbnQgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpblxuICogdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX1N5bWJvbCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfUHJvbWlzZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKVtcImRlZmF1bHRcIl07XG5cbiEoZnVuY3Rpb24gKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBfU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX1N5bWJvbCRpdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBnZW5lcmF0b3IgPSBfT2JqZWN0JGNyZWF0ZSgob3V0ZXJGbiB8fCBHZW5lcmF0b3IpLnByb3RvdHlwZSk7XG5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiB8fCBudWxsLCBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSkpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICBnZW5GdW4ucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnRgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLiBTb21lIG1heSBjb25zaWRlciB0aGUgbmFtZSBvZiB0aGlzIG1ldGhvZCB0b29cbiAgLy8gY3V0ZXN5LCBidXQgdGhleSBhcmUgY3VybXVkZ2VvbnMuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIG5ldyBBd2FpdEFyZ3VtZW50KGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQXdhaXRBcmd1bWVudChhcmcpIHtcbiAgICB0aGlzLmFyZyA9IGFyZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgLy8gVGhpcyBpbnZva2UgZnVuY3Rpb24gaXMgd3JpdHRlbiBpbiBhIHN0eWxlIHRoYXQgYXNzdW1lcyBzb21lXG4gICAgLy8gY2FsbGluZyBmdW5jdGlvbiAob3IgUHJvbWlzZSkgd2lsbCBoYW5kbGUgZXhjZXB0aW9ucy5cbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZW5lcmF0b3JbbWV0aG9kXShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudCA/IF9Qcm9taXNlLnJlc29sdmUodmFsdWUuYXJnKS50aGVuKGludm9rZU5leHQsIGludm9rZVRocm93KSA6IF9Qcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgaW52b2tlID0gcHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VOZXh0ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcIm5leHRcIik7XG4gICAgdmFyIGludm9rZVRocm93ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInRocm93XCIpO1xuICAgIHZhciBpbnZva2VSZXR1cm4gPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwicmV0dXJuXCIpO1xuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgZW5xdWV1ZVJlc3VsdCA9XG4gICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pIDogbmV3IF9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUoaW52b2tlKG1ldGhvZCwgYXJnKSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZW5xdWV1ZVJlc3VsdCBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieVxuICAgICAgLy8gbGF0ZXIgaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgcHJldmlvdXNQcm9taXNlID0gZW5xdWV1ZVJlc3VsdFtcImNhdGNoXCJdKGZ1bmN0aW9uIChpZ25vcmVkKSB7fSk7XG5cbiAgICAgIHJldHVybiBlbnF1ZXVlUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIgfHwgbWV0aG9kID09PSBcInRocm93XCIgJiYgZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBBIHJldHVybiBvciB0aHJvdyAod2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIHRocm93XG4gICAgICAgICAgICAvLyBtZXRob2QpIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICB2YXIgcmV0dXJuTWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAocmV0dXJuTWV0aG9kKSB7XG4gICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChyZXR1cm5NZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuICAgICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXR1cm4gbWV0aG9kIHRocmV3IGFuIGV4Y2VwdGlvbiwgbGV0IHRoYXRcbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gcHJldmFpbCBvdmVyIHRoZSBvcmlnaW5hbCByZXR1cm4gb3IgdGhyb3cuXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHRoZSBvdXRlciByZXR1cm4sIG5vdyB0aGF0IHRoZSBkZWxlZ2F0ZVxuICAgICAgICAgICAgICAvLyBpdGVyYXRvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExpa2UgcmV0dXJuaW5nIGdlbmVyYXRvci50aHJvdyh1bmNhdWdodCksIGJ1dCB3aXRob3V0IHRoZVxuICAgICAgICAgICAgLy8gb3ZlcmhlYWQgb2YgYW4gZXh0cmEgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWxlZ2F0ZSBnZW5lcmF0b3IgcmFuIGFuZCBoYW5kbGVkIGl0cyBvd24gZXhjZXB0aW9ucyBzb1xuICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgbWV0aG9kIHdhcywgd2UgY29udGludWUgYXMgaWYgaXQgaXNcbiAgICAgICAgICAvLyBcIm5leHRcIiB3aXRoIGFuIHVuZGVmaW5lZCBhcmcuXG4gICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gYXJnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmRlbGVnYXRlICYmIG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICB0aGlzLnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcbiAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJiAodHlwZSA9PT0gXCJicmVha1wiIHx8IHR5cGUgPT09IFwiY29udGludWVcIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHwgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbi8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdFxuLy8gdXNlIGluZGlyZWN0IGV2YWwgKHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KS5cbnR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOiB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDogdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdW5kZWZpbmVkKTsiXX0=
},{"_process":33,"babel-runtime/core-js/object/create":12,"babel-runtime/core-js/promise":17,"babel-runtime/core-js/symbol":19,"babel-runtime/core-js/symbol/iterator":21}],33:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;

function drainQueue() {
    if (draining) {
        return;
    }
    draining = true;
    var currentQueue;
    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        var i = -1;
        while (++i < len) {
            currentQueue[i]();
        }
        len = queue.length;
    }
    draining = false;
}
process.nextTick = function (fun) {
    queue.push(fun);
    if (!draining) {
        setTimeout(drainQueue, 0);
    }
};

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],34:[function(require,module,exports){
require('../modules/es6.object.to-string');
require('../modules/es6.string.iterator');
require('../modules/web.dom.iterable');
require('../modules/es6.promise');
module.exports = require('../modules/$.core').Promise;
},{"../modules/$.core":137,"../modules/es6.object.to-string":187,"../modules/es6.promise":188,"../modules/es6.string.iterator":189,"../modules/web.dom.iterable":192}],35:[function(require,module,exports){
require('../modules/es6.symbol');
module.exports = require('../modules/$.core').Symbol;
},{"../modules/$.core":137,"../modules/es6.symbol":191}],36:[function(require,module,exports){
require('../../modules/es6.math.sign');
module.exports = require('../../modules/$.core').Math.sign;
},{"../../modules/$.core":137,"../../modules/es6.math.sign":186}],37:[function(require,module,exports){
require('../../modules/es6.string.repeat');
module.exports = require('../../modules/$.core').String.repeat;
},{"../../modules/$.core":137,"../../modules/es6.string.repeat":190}],38:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/es6.array.from');
module.exports = require('../../modules/$.core').Array.from;
},{"../../modules/$.core":63,"../../modules/es6.array.from":114,"../../modules/es6.string.iterator":130}],39:[function(require,module,exports){
require('../modules/web.dom.iterable');
require('../modules/es6.string.iterator');
module.exports = require('../modules/core.get-iterator');
},{"../modules/core.get-iterator":113,"../modules/es6.string.iterator":130,"../modules/web.dom.iterable":132}],40:[function(require,module,exports){
require('../../modules/es6.math.clz32');
module.exports = require('../../modules/$.core').Math.clz32;
},{"../../modules/$.core":63,"../../modules/es6.math.clz32":116}],41:[function(require,module,exports){
require('../../modules/es6.math.fround');
module.exports = require('../../modules/$.core').Math.fround;
},{"../../modules/$.core":63,"../../modules/es6.math.fround":117}],42:[function(require,module,exports){
require('../../modules/es6.math.imul');
module.exports = require('../../modules/$.core').Math.imul;
},{"../../modules/$.core":63,"../../modules/es6.math.imul":118}],43:[function(require,module,exports){
arguments[4][36][0].apply(exports,arguments)
},{"../../modules/$.core":63,"../../modules/es6.math.sign":119,"dup":36}],44:[function(require,module,exports){
require('../../modules/es6.number.epsilon');
module.exports = Math.pow(2, -52);
},{"../../modules/es6.number.epsilon":120}],45:[function(require,module,exports){
require('../../modules/es6.number.max-safe-integer');
module.exports = 0x1fffffffffffff;
},{"../../modules/es6.number.max-safe-integer":121}],46:[function(require,module,exports){
require('../../modules/es6.number.min-safe-integer');
module.exports = -0x1fffffffffffff;
},{"../../modules/es6.number.min-safe-integer":122}],47:[function(require,module,exports){
require('../../modules/es6.object.assign');
module.exports = require('../../modules/$.core').Object.assign;
},{"../../modules/$.core":63,"../../modules/es6.object.assign":123}],48:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function create(P, D){
  return $.create(P, D);
};
},{"../../modules/$":86}],49:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function defineProperty(it, key, desc){
  return $.setDesc(it, key, desc);
};
},{"../../modules/$":86}],50:[function(require,module,exports){
var $ = require('../../modules/$');
require('../../modules/es6.object.get-own-property-descriptor');
module.exports = function getOwnPropertyDescriptor(it, key){
  return $.getDesc(it, key);
};
},{"../../modules/$":86,"../../modules/es6.object.get-own-property-descriptor":124}],51:[function(require,module,exports){
require('../../modules/es6.object.keys');
module.exports = require('../../modules/$.core').Object.keys;
},{"../../modules/$.core":63,"../../modules/es6.object.keys":125}],52:[function(require,module,exports){
require('../../modules/es6.object.set-prototype-of');
module.exports = require('../../modules/$.core').Object.setPrototypeOf;
},{"../../modules/$.core":63,"../../modules/es6.object.set-prototype-of":126}],53:[function(require,module,exports){
arguments[4][34][0].apply(exports,arguments)
},{"../modules/$.core":63,"../modules/es6.object.to-string":127,"../modules/es6.promise":128,"../modules/es6.string.iterator":130,"../modules/web.dom.iterable":132,"dup":34}],54:[function(require,module,exports){
require('../../modules/es6.string.from-code-point');
module.exports = require('../../modules/$.core').String.fromCodePoint;
},{"../../modules/$.core":63,"../../modules/es6.string.from-code-point":129}],55:[function(require,module,exports){
require('../../modules/es6.symbol');
module.exports = require('../../modules/$.core').Symbol['for'];
},{"../../modules/$.core":63,"../../modules/es6.symbol":131}],56:[function(require,module,exports){
require('../../modules/es6.symbol');
module.exports = require('../../modules/$.core').Symbol;
},{"../../modules/$.core":63,"../../modules/es6.symbol":131}],57:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/web.dom.iterable');
module.exports = require('../../modules/$.wks')('iterator');
},{"../../modules/$.wks":111,"../../modules/es6.string.iterator":130,"../../modules/web.dom.iterable":132}],58:[function(require,module,exports){
module.exports = function(it){
  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
  return it;
};
},{}],59:[function(require,module,exports){
var isObject = require('./$.is-object');
module.exports = function(it){
  if(!isObject(it))throw TypeError(it + ' is not an object!');
  return it;
};
},{"./$.is-object":79}],60:[function(require,module,exports){
// 19.1.2.1 Object.assign(target, source, ...)
var toObject = require('./$.to-object')
  , IObject  = require('./$.iobject')
  , enumKeys = require('./$.enum-keys');

module.exports = require('./$.fails')(function(){
  return Symbol() in Object.assign({}); // Object.assign available and Symbol is native
}) ? function assign(target, source){   // eslint-disable-line no-unused-vars
  var T = toObject(target)
    , l = arguments.length
    , i = 1;
  while(l > i){
    var S      = IObject(arguments[i++])
      , keys   = enumKeys(S)
      , length = keys.length
      , j      = 0
      , key;
    while(length > j)T[key = keys[j++]] = S[key];
  }
  return T;
} : Object.assign;
},{"./$.enum-keys":68,"./$.fails":69,"./$.iobject":77,"./$.to-object":108}],61:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./$.cof')
  , TAG = require('./$.wks')('toStringTag')
  // ES3 wrong here
  , ARG = cof(function(){ return arguments; }()) == 'Arguments';

module.exports = function(it){
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};
},{"./$.cof":62,"./$.wks":111}],62:[function(require,module,exports){
var toString = {}.toString;

module.exports = function(it){
  return toString.call(it).slice(8, -1);
};
},{}],63:[function(require,module,exports){
var core = module.exports = {};
if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef
},{}],64:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./$.a-function');
module.exports = function(fn, that, length){
  aFunction(fn);
  if(that === undefined)return fn;
  switch(length){
    case 1: return function(a){
      return fn.call(that, a);
    };
    case 2: return function(a, b){
      return fn.call(that, a, b);
    };
    case 3: return function(a, b, c){
      return fn.call(that, a, b, c);
    };
  } return function(/* ...args */){
      return fn.apply(that, arguments);
    };
};
},{"./$.a-function":58}],65:[function(require,module,exports){
var global    = require('./$.global')
  , core      = require('./$.core')
  , PROTOTYPE = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    if(own && key in exports)continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    if(isGlobal && typeof target[key] != 'function')exp = source[key];
    // bind timers to global for call from export context
    else if(type & $def.B && own)exp = ctx(out, global);
    // wrap global constructors for prevent change them in library
    else if(type & $def.W && target[key] == out)!function(C){
      exp = function(param){
        return this instanceof C ? new C(param) : C(param);
      };
      exp[PROTOTYPE] = C[PROTOTYPE];
    }(out);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export
    exports[key] = exp;
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":63,"./$.global":72}],66:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function(it){
  if(it == undefined)throw TypeError("Can't call method on  " + it);
  return it;
};
},{}],67:[function(require,module,exports){
var isObject = require('./$.is-object')
  , document = require('./$.global').document
  // in old IE typeof document.createElement is 'object'
  , is = isObject(document) && isObject(document.createElement);
module.exports = function(it){
  return is ? document.createElement(it) : {};
};
},{"./$.global":72,"./$.is-object":79}],68:[function(require,module,exports){
// all enumerable object keys, includes symbols
var $ = require('./$');
module.exports = function(it){
  var keys       = $.getKeys(it)
    , getSymbols = $.getSymbols;
  if(getSymbols){
    var symbols = getSymbols(it)
      , isEnum  = $.isEnum
      , i       = 0
      , key;
    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);
  }
  return keys;
};
},{"./$":86}],69:[function(require,module,exports){
module.exports = function(exec){
  try {
    return !!exec();
  } catch(e){
    return true;
  }
};
},{}],70:[function(require,module,exports){
var ctx         = require('./$.ctx')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , anObject    = require('./$.an-object')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
module.exports = function(iterable, entries, fn, that){
  var iterFn = getIterFn(iterable)
    , f      = ctx(fn, that, entries ? 2 : 1)
    , index  = 0
    , length, step, iterator;
  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){
    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){
    call(iterator, f, step.value, entries);
  }
};
},{"./$.an-object":59,"./$.ctx":64,"./$.is-array-iter":78,"./$.iter-call":80,"./$.to-length":107,"./core.get-iterator-method":112}],71:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toString  = {}.toString
  , toIObject = require('./$.to-iobject')
  , getNames  = require('./$').getNames;

var windowNames = typeof window == 'object' && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function(it){
  try {
    return getNames(it);
  } catch(e){
    return windowNames.slice();
  }
};

module.exports.get = function getOwnPropertyNames(it){
  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);
  return getNames(toIObject(it));
};
},{"./$":86,"./$.to-iobject":106}],72:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var UNDEFINED = 'undefined';
var global = module.exports = typeof window != UNDEFINED && window.Math == Math
  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();
if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef
},{}],73:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function(it, key){
  return hasOwnProperty.call(it, key);
};
},{}],74:[function(require,module,exports){
var $          = require('./$')
  , createDesc = require('./$.property-desc');
module.exports = require('./$.support-desc') ? function(object, key, value){
  return $.setDesc(object, key, createDesc(1, value));
} : function(object, key, value){
  object[key] = value;
  return object;
};
},{"./$":86,"./$.property-desc":92,"./$.support-desc":101}],75:[function(require,module,exports){
module.exports = require('./$.global').document && document.documentElement;
},{"./$.global":72}],76:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function(fn, args, that){
  var un = that === undefined;
  switch(args.length){
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return              fn.apply(that, args);
};
},{}],77:[function(require,module,exports){
// indexed object, fallback for non-array-like ES3 strings
var cof = require('./$.cof');
module.exports = 0 in Object('z') ? Object : function(it){
  return cof(it) == 'String' ? it.split('') : Object(it);
};
},{"./$.cof":62}],78:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./$.iterators')
  , ITERATOR  = require('./$.wks')('iterator');
module.exports = function(it){
  return (Iterators.Array || Array.prototype[ITERATOR]) === it;
};
},{"./$.iterators":85,"./$.wks":111}],79:[function(require,module,exports){
// http://jsperf.com/core-js-isobject
module.exports = function(it){
  return it !== null && (typeof it == 'object' || typeof it == 'function');
};
},{}],80:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./$.an-object');
module.exports = function(iterator, fn, value, entries){
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch(e){
    var ret = iterator['return'];
    if(ret !== undefined)anObject(ret.call(iterator));
    throw e;
  }
};
},{"./$.an-object":59}],81:[function(require,module,exports){
'use strict';
var $ = require('./$')
  , IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });

module.exports = function(Constructor, NAME, next){
  Constructor.prototype = $.create(IteratorPrototype, {next: require('./$.property-desc')(1,next)});
  require('./$.tag')(Constructor, NAME + ' Iterator');
};
},{"./$":86,"./$.hide":74,"./$.property-desc":92,"./$.tag":102,"./$.wks":111}],82:[function(require,module,exports){
'use strict';
var LIBRARY         = require('./$.library')
  , $def            = require('./$.def')
  , $redef          = require('./$.redef')
  , hide            = require('./$.hide')
  , has             = require('./$.has')
  , SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , Iterators       = require('./$.iterators')
  , BUGGY           = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`
  , FF_ITERATOR     = '@@iterator'
  , KEYS            = 'keys'
  , VALUES          = 'values';
var returnThis = function(){ return this; };
module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){
  require('./$.iter-create')(Constructor, NAME, next);
  var createMethod = function(kind){
    switch(kind){
      case KEYS: return function keys(){ return new Constructor(this, kind); };
      case VALUES: return function values(){ return new Constructor(this, kind); };
    } return function entries(){ return new Constructor(this, kind); };
  };
  var TAG      = NAME + ' Iterator'
    , proto    = Base.prototype
    , _native  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]
    , _default = _native || createMethod(DEFAULT)
    , methods, key;
  // Fix native
  if(_native){
    var IteratorPrototype = require('./$').getProto(_default.call(new Base));
    // Set @@toStringTag to native iterators
    require('./$.tag')(IteratorPrototype, TAG, true);
    // FF fix
    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, SYMBOL_ITERATOR, returnThis);
  }
  // Define iterator
  if(!LIBRARY || FORCE)hide(proto, SYMBOL_ITERATOR, _default);
  // Plug for library
  Iterators[NAME] = _default;
  Iterators[TAG]  = returnThis;
  if(DEFAULT){
    methods = {
      keys:    IS_SET            ? _default : createMethod(KEYS),
      values:  DEFAULT == VALUES ? _default : createMethod(VALUES),
      entries: DEFAULT != VALUES ? _default : createMethod('entries')
    };
    if(FORCE)for(key in methods){
      if(!(key in proto))$redef(proto, key, methods[key]);
    } else $def($def.P + $def.F * BUGGY, NAME, methods);
  }
};
},{"./$":86,"./$.def":65,"./$.has":73,"./$.hide":74,"./$.iter-create":81,"./$.iterators":85,"./$.library":88,"./$.redef":93,"./$.tag":102,"./$.wks":111}],83:[function(require,module,exports){
var SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , SAFE_CLOSING    = false;
try {
  var riter = [7][SYMBOL_ITERATOR]();
  riter['return'] = function(){ SAFE_CLOSING = true; };
  Array.from(riter, function(){ throw 2; });
} catch(e){ /* empty */ }
module.exports = function(exec){
  if(!SAFE_CLOSING)return false;
  var safe = false;
  try {
    var arr  = [7]
      , iter = arr[SYMBOL_ITERATOR]();
    iter.next = function(){ safe = true; };
    arr[SYMBOL_ITERATOR] = function(){ return iter; };
    exec(arr);
  } catch(e){ /* empty */ }
  return safe;
};
},{"./$.wks":111}],84:[function(require,module,exports){
module.exports = function(done, value){
  return {value: value, done: !!done};
};
},{}],85:[function(require,module,exports){
module.exports = {};
},{}],86:[function(require,module,exports){
var $Object = Object;
module.exports = {
  create:     $Object.create,
  getProto:   $Object.getPrototypeOf,
  isEnum:     {}.propertyIsEnumerable,
  getDesc:    $Object.getOwnPropertyDescriptor,
  setDesc:    $Object.defineProperty,
  setDescs:   $Object.defineProperties,
  getKeys:    $Object.keys,
  getNames:   $Object.getOwnPropertyNames,
  getSymbols: $Object.getOwnPropertySymbols,
  each:       [].forEach
};
},{}],87:[function(require,module,exports){
var $         = require('./$')
  , toIObject = require('./$.to-iobject');
module.exports = function(object, el){
  var O      = toIObject(object)
    , keys   = $.getKeys(O)
    , length = keys.length
    , index  = 0
    , key;
  while(length > index)if(O[key = keys[index++]] === el)return key;
};
},{"./$":86,"./$.to-iobject":106}],88:[function(require,module,exports){
module.exports = true;
},{}],89:[function(require,module,exports){
var global    = require('./$.global')
  , macrotask = require('./$.task').set
  , Observer  = global.MutationObserver || global.WebKitMutationObserver
  , process   = global.process
  , isNode    = require('./$.cof')(process) == 'process'
  , head, last, notify;

var flush = function(){
  var parent, domain;
  if(isNode && (parent = process.domain)){
    process.domain = null;
    parent.exit();
  }
  while(head){
    domain = head.domain;
    if(domain)domain.enter();
    head.fn.call(); // <- currently we use it only for Promise - try / catch not required
    if(domain)domain.exit();
    head = head.next;
  } last = undefined;
  if(parent)parent.enter();
}

// Node.js
if(isNode){
  notify = function(){
    process.nextTick(flush);
  };
// browsers with MutationObserver
} else if(Observer){
  var toggle = 1
    , node   = document.createTextNode('');
  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new
  notify = function(){
    node.data = toggle = -toggle;
  };
// for other environments - macrotask based on:
// - setImmediate
// - MessageChannel
// - window.postMessag
// - onreadystatechange
// - setTimeout
} else {
  notify = function(){
    // strange IE + webpack dev server bug - use .call(global)
    macrotask.call(global, flush);
  };
}

module.exports = function asap(fn){
  var task = {fn: fn, next: undefined, domain: isNode && process.domain};
  if(last)last.next = task;
  if(!head){
    head = task;
    notify();
  } last = task;
};
},{"./$.cof":62,"./$.global":72,"./$.task":103}],90:[function(require,module,exports){
var $redef = require('./$.redef');
module.exports = function(target, src){
  for(var key in src)$redef(target, key, src[key]);
  return target;
};
},{"./$.redef":93}],91:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
module.exports = function(KEY, exec){
  var $def = require('./$.def')
    , fn   = (require('./$.core').Object || {})[KEY] || Object[KEY]
    , exp  = {};
  exp[KEY] = exec(fn);
  $def($def.S + $def.F * require('./$.fails')(function(){ fn(1); }), 'Object', exp);
};
},{"./$.core":63,"./$.def":65,"./$.fails":69}],92:[function(require,module,exports){
module.exports = function(bitmap, value){
  return {
    enumerable  : !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable    : !(bitmap & 4),
    value       : value
  };
};
},{}],93:[function(require,module,exports){
module.exports = require('./$.hide');
},{"./$.hide":74}],94:[function(require,module,exports){
module.exports = Object.is || function is(x, y){
  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
};
},{}],95:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var getDesc  = require('./$').getDesc
  , isObject = require('./$.is-object')
  , anObject = require('./$.an-object');
var check = function(O, proto){
  anObject(O);
  if(!isObject(proto) && proto !== null)throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} // eslint-disable-line
    ? function(buggy, set){
        try {
          set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);
          set({}, []);
        } catch(e){ buggy = true; }
        return function setPrototypeOf(O, proto){
          check(O, proto);
          if(buggy)O.__proto__ = proto;
          else set(O, proto);
          return O;
        };
      }()
    : undefined),
  check: check
};
},{"./$":86,"./$.an-object":59,"./$.ctx":64,"./$.is-object":79}],96:[function(require,module,exports){
var global = require('./$.global')
  , SHARED = '__core-js_shared__'
  , store  = global[SHARED] || (global[SHARED] = {});
module.exports = function(key){
  return store[key] || (store[key] = {});
};
},{"./$.global":72}],97:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
module.exports = Math.sign || function sign(x){
  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
};
},{}],98:[function(require,module,exports){
'use strict';
var $       = require('./$')
  , SPECIES = require('./$.wks')('species');
module.exports = function(C){
  if(require('./$.support-desc') && !(SPECIES in C))$.setDesc(C, SPECIES, {
    configurable: true,
    get: function(){ return this; }
  });
};
},{"./$":86,"./$.support-desc":101,"./$.wks":111}],99:[function(require,module,exports){
module.exports = function(it, Constructor, name){
  if(!(it instanceof Constructor))throw TypeError(name + ": use the 'new' operator!");
  return it;
};
},{}],100:[function(require,module,exports){
// true  -> String#at
// false -> String#codePointAt
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');
module.exports = function(TO_STRING){
  return function(that, pos){
    var s = String(defined(that))
      , i = toInteger(pos)
      , l = s.length
      , a, b;
    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l
      || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
        ? TO_STRING ? s.charAt(i) : a
        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};
},{"./$.defined":66,"./$.to-integer":105}],101:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./$.fails')(function(){
  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
});
},{"./$.fails":69}],102:[function(require,module,exports){
var has  = require('./$.has')
  , hide = require('./$.hide')
  , TAG  = require('./$.wks')('toStringTag');

module.exports = function(it, tag, stat){
  if(it && !has(it = stat ? it : it.prototype, TAG))hide(it, TAG, tag);
};
},{"./$.has":73,"./$.hide":74,"./$.wks":111}],103:[function(require,module,exports){
'use strict';
var ctx                = require('./$.ctx')
  , invoke             = require('./$.invoke')
  , html               = require('./$.html')
  , cel                = require('./$.dom-create')
  , global             = require('./$.global')
  , process            = global.process
  , setTask            = global.setImmediate
  , clearTask          = global.clearImmediate
  , MessageChannel     = global.MessageChannel
  , counter            = 0
  , queue              = {}
  , ONREADYSTATECHANGE = 'onreadystatechange'
  , defer, channel, port;
var run = function(){
  var id = +this;
  if(queue.hasOwnProperty(id)){
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listner = function(event){
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if(!setTask || !clearTask){
  setTask = function setImmediate(fn){
    var args = [], i = 1;
    while(arguments.length > i)args.push(arguments[i++]);
    queue[++counter] = function(){
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id){
    delete queue[id];
  };
  // Node.js 0.8-
  if(require('./$.cof')(process) == 'process'){
    defer = function(id){
      process.nextTick(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if(MessageChannel){
    channel = new MessageChannel;
    port    = channel.port2;
    channel.port1.onmessage = listner;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScript){
    defer = function(id){
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listner, false);
  // IE8-
  } else if(ONREADYSTATECHANGE in cel('script')){
    defer = function(id){
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function(id){
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set:   setTask,
  clear: clearTask
};
},{"./$.cof":62,"./$.ctx":64,"./$.dom-create":67,"./$.global":72,"./$.html":75,"./$.invoke":76}],104:[function(require,module,exports){
var toInteger = require('./$.to-integer')
  , max       = Math.max
  , min       = Math.min;
module.exports = function(index, length){
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};
},{"./$.to-integer":105}],105:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil  = Math.ceil
  , floor = Math.floor;
module.exports = function(it){
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};
},{}],106:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./$.iobject')
  , defined = require('./$.defined');
module.exports = function(it){
  return IObject(defined(it));
};
},{"./$.defined":66,"./$.iobject":77}],107:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./$.to-integer')
  , min       = Math.min;
module.exports = function(it){
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};
},{"./$.to-integer":105}],108:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./$.defined');
module.exports = function(it){
  return Object(defined(it));
};
},{"./$.defined":66}],109:[function(require,module,exports){
var id = 0
  , px = Math.random();
module.exports = function(key){
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};
},{}],110:[function(require,module,exports){
module.exports = function(){ /* empty */ };
},{}],111:[function(require,module,exports){
var store  = require('./$.shared')('wks')
  , Symbol = require('./$.global').Symbol;
module.exports = function(name){
  return store[name] || (store[name] =
    Symbol && Symbol[name] || (Symbol || require('./$.uid'))('Symbol.' + name));
};
},{"./$.global":72,"./$.shared":96,"./$.uid":109}],112:[function(require,module,exports){
var classof   = require('./$.classof')
  , ITERATOR  = require('./$.wks')('iterator')
  , Iterators = require('./$.iterators');
module.exports = require('./$.core').getIteratorMethod = function(it){
  if(it != undefined)return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];
};
},{"./$.classof":61,"./$.core":63,"./$.iterators":85,"./$.wks":111}],113:[function(require,module,exports){
var anObject = require('./$.an-object')
  , get      = require('./core.get-iterator-method');
module.exports = require('./$.core').getIterator = function(it){
  var iterFn = get(it);
  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};
},{"./$.an-object":59,"./$.core":63,"./core.get-iterator-method":112}],114:[function(require,module,exports){
'use strict';
var ctx         = require('./$.ctx')
  , $def        = require('./$.def')
  , toObject    = require('./$.to-object')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
$def($def.S + $def.F * !require('./$.iter-detect')(function(iter){ Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){
    var O       = toObject(arrayLike)
      , C       = typeof this == 'function' ? this : Array
      , mapfn   = arguments[1]
      , mapping = mapfn !== undefined
      , index   = 0
      , iterFn  = getIterFn(O)
      , length, result, step, iterator;
    if(mapping)mapfn = ctx(mapfn, arguments[2], 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){
      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){
        result[index] = mapping ? call(iterator, mapfn, [step.value, index], true) : step.value;
      }
    } else {
      for(result = new C(length = toLength(O.length)); length > index; index++){
        result[index] = mapping ? mapfn(O[index], index) : O[index];
      }
    }
    result.length = index;
    return result;
  }
});
},{"./$.ctx":64,"./$.def":65,"./$.is-array-iter":78,"./$.iter-call":80,"./$.iter-detect":83,"./$.to-length":107,"./$.to-object":108,"./core.get-iterator-method":112}],115:[function(require,module,exports){
'use strict';
var setUnscope = require('./$.unscope')
  , step       = require('./$.iter-step')
  , Iterators  = require('./$.iterators')
  , toIObject  = require('./$.to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
require('./$.iter-define')(Array, 'Array', function(iterated, kind){
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , kind  = this._k
    , index = this._i++;
  if(!O || index >= O.length){
    this._t = undefined;
    return step(1);
  }
  if(kind == 'keys'  )return step(0, index);
  if(kind == 'values')return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

setUnscope('keys');
setUnscope('values');
setUnscope('entries');
},{"./$.iter-define":82,"./$.iter-step":84,"./$.iterators":85,"./$.to-iobject":106,"./$.unscope":110}],116:[function(require,module,exports){
// 20.2.2.11 Math.clz32(x)
var $def = require('./$.def');

$def($def.S, 'Math', {
  clz32: function clz32(x){
    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;
  }
});
},{"./$.def":65}],117:[function(require,module,exports){
// 20.2.2.16 Math.fround(x)
var $def  = require('./$.def')
  , sign  = require('./$.sign')
  , pow   = Math.pow
  , EPSILON   = pow(2, -52)
  , EPSILON32 = pow(2, -23)
  , MAX32     = pow(2, 127) * (2 - EPSILON32)
  , MIN32     = pow(2, -126);

var roundTiesToEven = function(n){
  return n + 1 / EPSILON - 1 / EPSILON;
};


$def($def.S, 'Math', {
  fround: function fround(x){
    var $abs  = Math.abs(x)
      , $sign = sign(x)
      , a, result;
    if($abs < MIN32)return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
    a = (1 + EPSILON32 / EPSILON) * $abs;
    result = a - (a - $abs);
    if(result > MAX32 || result != result)return $sign * Infinity;
    return $sign * result;
  }
});
},{"./$.def":65,"./$.sign":97}],118:[function(require,module,exports){
// 20.2.2.18 Math.imul(x, y)
var $def = require('./$.def');

// WebKit fails with big numbers
$def($def.S + $def.F * require('./$.fails')(function(){
  return Math.imul(0xffffffff, 5) != -5;
}), 'Math', {
  imul: function imul(x, y){
    var UINT16 = 0xffff
      , xn = +x
      , yn = +y
      , xl = UINT16 & xn
      , yl = UINT16 & yn;
    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
  }
});
},{"./$.def":65,"./$.fails":69}],119:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
var $def = require('./$.def');

$def($def.S, 'Math', {sign: require('./$.sign')});
},{"./$.def":65,"./$.sign":97}],120:[function(require,module,exports){
// 20.1.2.1 Number.EPSILON
var $def = require('./$.def');

$def($def.S, 'Number', {EPSILON: Math.pow(2, -52)});
},{"./$.def":65}],121:[function(require,module,exports){
// 20.1.2.6 Number.MAX_SAFE_INTEGER
var $def = require('./$.def');

$def($def.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});
},{"./$.def":65}],122:[function(require,module,exports){
// 20.1.2.10 Number.MIN_SAFE_INTEGER
var $def = require('./$.def');

$def($def.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});
},{"./$.def":65}],123:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $def = require('./$.def');

$def($def.S + $def.F, 'Object', {assign: require('./$.assign')});
},{"./$.assign":60,"./$.def":65}],124:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./$.to-iobject');

require('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){
  return function getOwnPropertyDescriptor(it, key){
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});
},{"./$.object-sap":91,"./$.to-iobject":106}],125:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./$.to-object');

require('./$.object-sap')('keys', function($keys){
  return function keys(it){
    return $keys(toObject(it));
  };
});
},{"./$.object-sap":91,"./$.to-object":108}],126:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $def = require('./$.def');
$def($def.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});
},{"./$.def":65,"./$.set-proto":95}],127:[function(require,module,exports){

},{}],128:[function(require,module,exports){
'use strict';
var $          = require('./$')
  , LIBRARY    = require('./$.library')
  , global     = require('./$.global')
  , ctx        = require('./$.ctx')
  , classof    = require('./$.classof')
  , $def       = require('./$.def')
  , isObject   = require('./$.is-object')
  , anObject   = require('./$.an-object')
  , aFunction  = require('./$.a-function')
  , strictNew  = require('./$.strict-new')
  , forOf      = require('./$.for-of')
  , setProto   = require('./$.set-proto').set
  , same       = require('./$.same')
  , species    = require('./$.species')
  , SPECIES    = require('./$.wks')('species')
  , RECORD     = require('./$.uid')('record')
  , asap       = require('./$.microtask')
  , PROMISE    = 'Promise'
  , process    = global.process
  , isNode     = classof(process) == 'process'
  , P          = global[PROMISE]
  , Wrapper;

var testResolve = function(sub){
  var test = new P(function(){});
  if(sub)test.constructor = Object;
  return P.resolve(test) === test;
};

var useNative = function(){
  var works = false;
  function P2(x){
    var self = new P(x);
    setProto(self, P2.prototype);
    return self;
  }
  try {
    works = P && P.resolve && testResolve();
    setProto(P2, P);
    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});
    // actual Firefox has broken subclass support, test that
    if(!(P2.resolve(5).then(function(){}) instanceof P2)){
      works = false;
    }
    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162
    if(works && require('./$.support-desc')){
      var thenableThenGotten = false;
      P.resolve($.setDesc({}, 'then', {
        get: function(){ thenableThenGotten = true; }
      }));
      works = thenableThenGotten;
    }
  } catch(e){ works = false; }
  return works;
}();

// helpers
var isPromise = function(it){
  return isObject(it) && (useNative ? classof(it) == 'Promise' : RECORD in it);
};
var sameConstructor = function(a, b){
  // library wrapper special case
  if(LIBRARY && a === P && b === Wrapper)return true;
  return same(a, b);
};
var getConstructor = function(C){
  var S = anObject(C)[SPECIES];
  return S != undefined ? S : C;
};
var isThenable = function(it){
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function(record, isReject){
  if(record.n)return;
  record.n = true;
  var chain = record.c;
  asap(function(){
    var value = record.v
      , ok    = record.s == 1
      , i     = 0;
    var run = function(react){
      var cb = ok ? react.ok : react.fail
        , ret, then;
      try {
        if(cb){
          if(!ok)record.h = true;
          ret = cb === true ? value : cb(value);
          if(ret === react.P){
            react.rej(TypeError('Promise-chain cycle'));
          } else if(then = isThenable(ret)){
            then.call(ret, react.res, react.rej);
          } else react.res(ret);
        } else react.rej(value);
      } catch(err){
        react.rej(err);
      }
    };
    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach
    chain.length = 0;
    record.n = false;
    if(isReject)setTimeout(function(){
      if(isUnhandled(record.p)){
        if(isNode){
          process.emit('unhandledRejection', value, record.p);
        } else if(global.console && console.error){
          console.error('Unhandled promise rejection', value);
        }
      } record.a = undefined;
    }, 1);
  });
};
var isUnhandled = function(promise){
  var record = promise[RECORD]
    , chain  = record.a || record.c
    , i      = 0
    , react;
  if(record.h)return false;
  while(chain.length > i){
    react = chain[i++];
    if(react.fail || !isUnhandled(react.P))return false;
  } return true;
};
var $reject = function(value){
  var record = this;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  record.v = value;
  record.s = 2;
  record.a = record.c.slice();
  notify(record, true);
};
var $resolve = function(value){
  var record = this
    , then;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  try {
    if(then = isThenable(value)){
      asap(function(){
        var wrapper = {r: record, d: false}; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch(e){
          $reject.call(wrapper, e);
        }
      });
    } else {
      record.v = value;
      record.s = 1;
      notify(record, false);
    }
  } catch(e){
    $reject.call({r: record, d: false}, e); // wrap
  }
};

// constructor polyfill
if(!useNative){
  // 25.4.3.1 Promise(executor)
  P = function Promise(executor){
    aFunction(executor);
    var record = {
      p: strictNew(this, P, PROMISE),         // <- promise
      c: [],                                  // <- awaiting reactions
      a: undefined,                           // <- checked in isUnhandled reactions
      s: 0,                                   // <- state
      d: false,                               // <- done
      v: undefined,                           // <- value
      h: false,                               // <- handled rejection
      n: false                                // <- notify
    };
    this[RECORD] = record;
    try {
      executor(ctx($resolve, record, 1), ctx($reject, record, 1));
    } catch(err){
      $reject.call(record, err);
    }
  };
  require('./$.mix')(P.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected){
      var S = anObject(anObject(this).constructor)[SPECIES];
      var react = {
        ok:   typeof onFulfilled == 'function' ? onFulfilled : true,
        fail: typeof onRejected == 'function'  ? onRejected  : false
      };
      var promise = react.P = new (S != undefined ? S : P)(function(res, rej){
        react.res = aFunction(res);
        react.rej = aFunction(rej);
      });
      var record = this[RECORD];
      record.c.push(react);
      if(record.a)record.a.push(react);
      if(record.s)notify(record, false);
      return promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function(onRejected){
      return this.then(undefined, onRejected);
    }
  });
}

// export
$def($def.G + $def.W + $def.F * !useNative, {Promise: P});
require('./$.tag')(P, PROMISE);
species(P);
species(Wrapper = require('./$.core')[PROMISE]);

// statics
$def($def.S + $def.F * !useNative, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r){
    return new this(function(res, rej){ rej(r); });
  }
});
$def($def.S + $def.F * (!useNative || testResolve(true)), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x){
    return isPromise(x) && sameConstructor(x.constructor, this)
      ? x : new this(function(res){ res(x); });
  }
});
$def($def.S + $def.F * !(useNative && require('./$.iter-detect')(function(iter){
  P.all(iter)['catch'](function(){});
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable){
    var C      = getConstructor(this)
      , values = [];
    return new C(function(res, rej){
      forOf(iterable, false, values.push, values);
      var remaining = values.length
        , results   = Array(remaining);
      if(remaining)$.each.call(values, function(promise, index){
        C.resolve(promise).then(function(value){
          results[index] = value;
          --remaining || res(results);
        }, rej);
      });
      else res(results);
    });
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable){
    var C = getConstructor(this);
    return new C(function(res, rej){
      forOf(iterable, false, function(promise){
        C.resolve(promise).then(res, rej);
      });
    });
  }
});
},{"./$":86,"./$.a-function":58,"./$.an-object":59,"./$.classof":61,"./$.core":63,"./$.ctx":64,"./$.def":65,"./$.for-of":70,"./$.global":72,"./$.is-object":79,"./$.iter-detect":83,"./$.library":88,"./$.microtask":89,"./$.mix":90,"./$.same":94,"./$.set-proto":95,"./$.species":98,"./$.strict-new":99,"./$.support-desc":101,"./$.tag":102,"./$.uid":109,"./$.wks":111}],129:[function(require,module,exports){
var $def    = require('./$.def')
  , toIndex = require('./$.to-index')
  , fromCharCode = String.fromCharCode
  , $fromCodePoint = String.fromCodePoint;

// length should be 1, old FF problem
$def($def.S + $def.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
  // 21.1.2.2 String.fromCodePoint(...codePoints)
  fromCodePoint: function fromCodePoint(x){ // eslint-disable-line no-unused-vars
    var res = []
      , len = arguments.length
      , i   = 0
      , code;
    while(len > i){
      code = +arguments[i++];
      if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');
      res.push(code < 0x10000
        ? fromCharCode(code)
        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
      );
    } return res.join('');
  }
});
},{"./$.def":65,"./$.to-index":104}],130:[function(require,module,exports){
'use strict';
var $at  = require('./$.string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./$.iter-define')(String, 'String', function(iterated){
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , index = this._i
    , point;
  if(index >= O.length)return {value: undefined, done: true};
  point = $at(O, index);
  this._i += point.length;
  return {value: point, done: false};
});
},{"./$.iter-define":82,"./$.string-at":100}],131:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var $              = require('./$')
  , global         = require('./$.global')
  , has            = require('./$.has')
  , SUPPORT_DESC   = require('./$.support-desc')
  , $def           = require('./$.def')
  , $redef         = require('./$.redef')
  , shared         = require('./$.shared')
  , setTag         = require('./$.tag')
  , uid            = require('./$.uid')
  , wks            = require('./$.wks')
  , keyOf          = require('./$.keyof')
  , $names         = require('./$.get-names')
  , enumKeys       = require('./$.enum-keys')
  , isObject       = require('./$.is-object')
  , anObject       = require('./$.an-object')
  , toIObject      = require('./$.to-iobject')
  , createDesc     = require('./$.property-desc')
  , getDesc        = $.getDesc
  , setDesc        = $.setDesc
  , _create        = $.create
  , getNames       = $names.get
  , $Symbol        = global.Symbol
  , setter         = false
  , HIDDEN         = wks('_hidden')
  , isEnum         = $.isEnum
  , SymbolRegistry = shared('symbol-registry')
  , AllSymbols     = shared('symbols')
  , useNative      = typeof $Symbol == 'function'
  , ObjectProto    = Object.prototype;

var setSymbolDesc = SUPPORT_DESC ? function(){ // fallback for old Android
  try {
    return _create(setDesc({}, HIDDEN, {
      get: function(){
        return setDesc(this, HIDDEN, {value: false})[HIDDEN];
      }
    }))[HIDDEN] || setDesc;
  } catch(e){
    return function(it, key, D){
      var protoDesc = getDesc(ObjectProto, key);
      if(protoDesc)delete ObjectProto[key];
      setDesc(it, key, D);
      if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);
    };
  }
}() : setDesc;

var wrap = function(tag){
  var sym = AllSymbols[tag] = _create($Symbol.prototype);
  sym._k = tag;
  SUPPORT_DESC && setter && setSymbolDesc(ObjectProto, tag, {
    configurable: true,
    set: function(value){
      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    }
  });
  return sym;
};

var $defineProperty = function defineProperty(it, key, D){
  if(D && has(AllSymbols, key)){
    if(!D.enumerable){
      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;
      D = _create(D, {enumerable: createDesc(0, false)});
    } return setSymbolDesc(it, key, D);
  } return setDesc(it, key, D);
};
var $defineProperties = function defineProperties(it, P){
  anObject(it);
  var keys = enumKeys(P = toIObject(P))
    , i    = 0
    , l = keys.length
    , key;
  while(l > i)$defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P){
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key){
  var E = isEnum.call(this, key);
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]
    ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){
  var D = getDesc(it = toIObject(it), key);
  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);
  return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);
  return result;
};

// 19.4.1.1 Symbol([description])
if(!useNative){
  $Symbol = function Symbol(){
    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor');
    return wrap(uid(arguments[0]));
  };
  $redef($Symbol.prototype, 'toString', function toString(){
    return this._k;
  });

  $.create     = $create;
  $.isEnum     = $propertyIsEnumerable;
  $.getDesc    = $getOwnPropertyDescriptor;
  $.setDesc    = $defineProperty;
  $.setDescs   = $defineProperties;
  $.getNames   = $names.get = $getOwnPropertyNames;
  $.getSymbols = $getOwnPropertySymbols;

  if(SUPPORT_DESC && !require('./$.library')){
    $redef(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }
}

// MS Edge converts symbol values to JSON as {}
// WebKit converts symbol values in objects to JSON as null
if(!useNative || require('./$.fails')(function(){
  return JSON.stringify([{a: $Symbol()}, [$Symbol()]]) != '[{},[null]]';
}))$redef($Symbol.prototype, 'toJSON', function toJSON(){
  if(useNative && isObject(this))return this;
});

var symbolStatics = {
  // 19.4.2.1 Symbol.for(key)
  'for': function(key){
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(key){
    return keyOf(SymbolRegistry, key);
  },
  useSetter: function(){ setter = true; },
  useSimple: function(){ setter = false; }
};
// 19.4.2.2 Symbol.hasInstance
// 19.4.2.3 Symbol.isConcatSpreadable
// 19.4.2.4 Symbol.iterator
// 19.4.2.6 Symbol.match
// 19.4.2.8 Symbol.replace
// 19.4.2.9 Symbol.search
// 19.4.2.10 Symbol.species
// 19.4.2.11 Symbol.split
// 19.4.2.12 Symbol.toPrimitive
// 19.4.2.13 Symbol.toStringTag
// 19.4.2.14 Symbol.unscopables
$.each.call((
    'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +
    'species,split,toPrimitive,toStringTag,unscopables'
  ).split(','), function(it){
    var sym = wks(it);
    symbolStatics[it] = useNative ? sym : wrap(sym);
  }
);

setter = true;

$def($def.G + $def.W, {Symbol: $Symbol});

$def($def.S, 'Symbol', symbolStatics);

$def($def.S + $def.F * !useNative, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 19.4.3.5 Symbol.prototype[@@toStringTag]
setTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setTag(global.JSON, 'JSON', true);
},{"./$":86,"./$.an-object":59,"./$.def":65,"./$.enum-keys":68,"./$.fails":69,"./$.get-names":71,"./$.global":72,"./$.has":73,"./$.is-object":79,"./$.keyof":87,"./$.library":88,"./$.property-desc":92,"./$.redef":93,"./$.shared":96,"./$.support-desc":101,"./$.tag":102,"./$.to-iobject":106,"./$.uid":109,"./$.wks":111}],132:[function(require,module,exports){
require('./es6.array.iterator');
var Iterators = require('./$.iterators');
Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
},{"./$.iterators":85,"./es6.array.iterator":115}],133:[function(require,module,exports){
arguments[4][58][0].apply(exports,arguments)
},{"dup":58}],134:[function(require,module,exports){
arguments[4][59][0].apply(exports,arguments)
},{"./$.is-object":153,"dup":59}],135:[function(require,module,exports){
arguments[4][61][0].apply(exports,arguments)
},{"./$.cof":136,"./$.wks":183,"dup":61}],136:[function(require,module,exports){
arguments[4][62][0].apply(exports,arguments)
},{"dup":62}],137:[function(require,module,exports){
arguments[4][63][0].apply(exports,arguments)
},{"dup":63}],138:[function(require,module,exports){
arguments[4][64][0].apply(exports,arguments)
},{"./$.a-function":133,"dup":64}],139:[function(require,module,exports){
var global     = require('./$.global')
  , core       = require('./$.core')
  , hide       = require('./$.hide')
  , $redef     = require('./$.redef')
  , PROTOTYPE  = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    if(type & $def.B && own)exp = ctx(out, global);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if(target && !own)$redef(target, key, out);
    // export
    if(exports[key] != out)hide(exports, key, exp);
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
global.core = core;
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":137,"./$.global":146,"./$.hide":148,"./$.redef":166}],140:[function(require,module,exports){
arguments[4][66][0].apply(exports,arguments)
},{"dup":66}],141:[function(require,module,exports){
arguments[4][67][0].apply(exports,arguments)
},{"./$.global":146,"./$.is-object":153,"dup":67}],142:[function(require,module,exports){
arguments[4][68][0].apply(exports,arguments)
},{"./$":160,"dup":68}],143:[function(require,module,exports){
arguments[4][69][0].apply(exports,arguments)
},{"dup":69}],144:[function(require,module,exports){
arguments[4][70][0].apply(exports,arguments)
},{"./$.an-object":134,"./$.ctx":138,"./$.is-array-iter":152,"./$.iter-call":154,"./$.to-length":180,"./core.get-iterator-method":184,"dup":70}],145:[function(require,module,exports){
arguments[4][71][0].apply(exports,arguments)
},{"./$":160,"./$.to-iobject":179,"dup":71}],146:[function(require,module,exports){
arguments[4][72][0].apply(exports,arguments)
},{"dup":72}],147:[function(require,module,exports){
arguments[4][73][0].apply(exports,arguments)
},{"dup":73}],148:[function(require,module,exports){
arguments[4][74][0].apply(exports,arguments)
},{"./$":160,"./$.property-desc":165,"./$.support-desc":175,"dup":74}],149:[function(require,module,exports){
arguments[4][75][0].apply(exports,arguments)
},{"./$.global":146,"dup":75}],150:[function(require,module,exports){
arguments[4][76][0].apply(exports,arguments)
},{"dup":76}],151:[function(require,module,exports){
arguments[4][77][0].apply(exports,arguments)
},{"./$.cof":136,"dup":77}],152:[function(require,module,exports){
arguments[4][78][0].apply(exports,arguments)
},{"./$.iterators":159,"./$.wks":183,"dup":78}],153:[function(require,module,exports){
arguments[4][79][0].apply(exports,arguments)
},{"dup":79}],154:[function(require,module,exports){
arguments[4][80][0].apply(exports,arguments)
},{"./$.an-object":134,"dup":80}],155:[function(require,module,exports){
arguments[4][81][0].apply(exports,arguments)
},{"./$":160,"./$.hide":148,"./$.property-desc":165,"./$.tag":176,"./$.wks":183,"dup":81}],156:[function(require,module,exports){
arguments[4][82][0].apply(exports,arguments)
},{"./$":160,"./$.def":139,"./$.has":147,"./$.hide":148,"./$.iter-create":155,"./$.iterators":159,"./$.library":162,"./$.redef":166,"./$.tag":176,"./$.wks":183,"dup":82}],157:[function(require,module,exports){
arguments[4][83][0].apply(exports,arguments)
},{"./$.wks":183,"dup":83}],158:[function(require,module,exports){
arguments[4][84][0].apply(exports,arguments)
},{"dup":84}],159:[function(require,module,exports){
arguments[4][85][0].apply(exports,arguments)
},{"dup":85}],160:[function(require,module,exports){
arguments[4][86][0].apply(exports,arguments)
},{"dup":86}],161:[function(require,module,exports){
arguments[4][87][0].apply(exports,arguments)
},{"./$":160,"./$.to-iobject":179,"dup":87}],162:[function(require,module,exports){
module.exports = false;
},{}],163:[function(require,module,exports){
arguments[4][89][0].apply(exports,arguments)
},{"./$.cof":136,"./$.global":146,"./$.task":177,"dup":89}],164:[function(require,module,exports){
arguments[4][90][0].apply(exports,arguments)
},{"./$.redef":166,"dup":90}],165:[function(require,module,exports){
arguments[4][92][0].apply(exports,arguments)
},{"dup":92}],166:[function(require,module,exports){
// add fake Function#toString
// for correct work wrapped methods / constructors with methods like LoDash isNative
var global    = require('./$.global')
  , hide      = require('./$.hide')
  , SRC       = require('./$.uid')('src')
  , TO_STRING = 'toString'
  , $toString = Function[TO_STRING]
  , TPL       = ('' + $toString).split(TO_STRING);

require('./$.core').inspectSource = function(it){
  return $toString.call(it);
};

(module.exports = function(O, key, val, safe){
  if(typeof val == 'function'){
    hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
    if(!('name' in val))val.name = key;
  }
  if(O === global){
    O[key] = val;
  } else {
    if(!safe)delete O[key];
    hide(O, key, val);
  }
})(Function.prototype, TO_STRING, function toString(){
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});
},{"./$.core":137,"./$.global":146,"./$.hide":148,"./$.uid":181}],167:[function(require,module,exports){
arguments[4][94][0].apply(exports,arguments)
},{"dup":94}],168:[function(require,module,exports){
arguments[4][95][0].apply(exports,arguments)
},{"./$":160,"./$.an-object":134,"./$.ctx":138,"./$.is-object":153,"dup":95}],169:[function(require,module,exports){
arguments[4][96][0].apply(exports,arguments)
},{"./$.global":146,"dup":96}],170:[function(require,module,exports){
arguments[4][97][0].apply(exports,arguments)
},{"dup":97}],171:[function(require,module,exports){
arguments[4][98][0].apply(exports,arguments)
},{"./$":160,"./$.support-desc":175,"./$.wks":183,"dup":98}],172:[function(require,module,exports){
arguments[4][99][0].apply(exports,arguments)
},{"dup":99}],173:[function(require,module,exports){
arguments[4][100][0].apply(exports,arguments)
},{"./$.defined":140,"./$.to-integer":178,"dup":100}],174:[function(require,module,exports){
'use strict';
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');

module.exports = function repeat(count){
  var str = String(defined(this))
    , res = ''
    , n   = toInteger(count);
  if(n < 0 || n == Infinity)throw RangeError("Count can't be negative");
  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;
  return res;
};
},{"./$.defined":140,"./$.to-integer":178}],175:[function(require,module,exports){
arguments[4][101][0].apply(exports,arguments)
},{"./$.fails":143,"dup":101}],176:[function(require,module,exports){
arguments[4][102][0].apply(exports,arguments)
},{"./$.has":147,"./$.hide":148,"./$.wks":183,"dup":102}],177:[function(require,module,exports){
arguments[4][103][0].apply(exports,arguments)
},{"./$.cof":136,"./$.ctx":138,"./$.dom-create":141,"./$.global":146,"./$.html":149,"./$.invoke":150,"dup":103}],178:[function(require,module,exports){
arguments[4][105][0].apply(exports,arguments)
},{"dup":105}],179:[function(require,module,exports){
arguments[4][106][0].apply(exports,arguments)
},{"./$.defined":140,"./$.iobject":151,"dup":106}],180:[function(require,module,exports){
arguments[4][107][0].apply(exports,arguments)
},{"./$.to-integer":178,"dup":107}],181:[function(require,module,exports){
arguments[4][109][0].apply(exports,arguments)
},{"dup":109}],182:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./$.wks')('unscopables');
if(!(UNSCOPABLES in []))require('./$.hide')(Array.prototype, UNSCOPABLES, {});
module.exports = function(key){
  [][UNSCOPABLES][key] = true;
};
},{"./$.hide":148,"./$.wks":183}],183:[function(require,module,exports){
arguments[4][111][0].apply(exports,arguments)
},{"./$.global":146,"./$.shared":169,"./$.uid":181,"dup":111}],184:[function(require,module,exports){
arguments[4][112][0].apply(exports,arguments)
},{"./$.classof":135,"./$.core":137,"./$.iterators":159,"./$.wks":183,"dup":112}],185:[function(require,module,exports){
arguments[4][115][0].apply(exports,arguments)
},{"./$.iter-define":156,"./$.iter-step":158,"./$.iterators":159,"./$.to-iobject":179,"./$.unscope":182,"dup":115}],186:[function(require,module,exports){
arguments[4][119][0].apply(exports,arguments)
},{"./$.def":139,"./$.sign":170,"dup":119}],187:[function(require,module,exports){
'use strict';
// 19.1.3.6 Object.prototype.toString()
var classof = require('./$.classof')
  , test    = {};
test[require('./$.wks')('toStringTag')] = 'z';
if(test + '' != '[object z]'){
  require('./$.redef')(Object.prototype, 'toString', function toString(){
    return '[object ' + classof(this) + ']';
  }, true);
}
},{"./$.classof":135,"./$.redef":166,"./$.wks":183}],188:[function(require,module,exports){
arguments[4][128][0].apply(exports,arguments)
},{"./$":160,"./$.a-function":133,"./$.an-object":134,"./$.classof":135,"./$.core":137,"./$.ctx":138,"./$.def":139,"./$.for-of":144,"./$.global":146,"./$.is-object":153,"./$.iter-detect":157,"./$.library":162,"./$.microtask":163,"./$.mix":164,"./$.same":167,"./$.set-proto":168,"./$.species":171,"./$.strict-new":172,"./$.support-desc":175,"./$.tag":176,"./$.uid":181,"./$.wks":183,"dup":128}],189:[function(require,module,exports){
arguments[4][130][0].apply(exports,arguments)
},{"./$.iter-define":156,"./$.string-at":173,"dup":130}],190:[function(require,module,exports){
var $def = require('./$.def');

$def($def.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./$.string-repeat')
});
},{"./$.def":139,"./$.string-repeat":174}],191:[function(require,module,exports){
arguments[4][131][0].apply(exports,arguments)
},{"./$":160,"./$.an-object":134,"./$.def":139,"./$.enum-keys":142,"./$.fails":143,"./$.get-names":145,"./$.global":146,"./$.has":147,"./$.is-object":153,"./$.keyof":161,"./$.library":162,"./$.property-desc":165,"./$.redef":166,"./$.shared":169,"./$.support-desc":175,"./$.tag":176,"./$.to-iobject":179,"./$.uid":181,"./$.wks":183,"dup":131}],192:[function(require,module,exports){
require('./es6.array.iterator');
var global      = require('./$.global')
  , hide        = require('./$.hide')
  , Iterators   = require('./$.iterators')
  , ITERATOR    = require('./$.wks')('iterator')
  , NL          = global.NodeList
  , HTC         = global.HTMLCollection
  , NLProto     = NL && NL.prototype
  , HTCProto    = HTC && HTC.prototype
  , ArrayValues = Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
if(NL && !(ITERATOR in NLProto))hide(NLProto, ITERATOR, ArrayValues);
if(HTC && !(ITERATOR in HTCProto))hide(HTCProto, ITERATOR, ArrayValues);
},{"./$.global":146,"./$.hide":148,"./$.iterators":159,"./$.wks":183,"./es6.array.iterator":185}],193:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPropertyDescriptor = require("../types/property-descriptor");

var DeclarativeEnvironment = (function () {
	function DeclarativeEnvironment(parent, thisArg, env) {
		_classCallCheck(this, DeclarativeEnvironment);

		this.properties = _Object$create(null);
		this.parent = parent && parent.scope;
		this.strict = parent.strict;
		this.thisBinding = thisArg;
		this.env = env;
	}

	_createClass(DeclarativeEnvironment, [{
		key: "setParent",
		value: function setParent(parent) {
			this.parent = parent.scope || parent;
		}
	}, {
		key: "getReference",
		value: function getReference(key) {
			var ref = new _reference.Reference(key, this, this.env);
			ref.unqualified = true;
			return ref;
		}
	}, {
		key: "has",
		value: function has(key) {
			return key in this.properties;
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.has(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			if (!this.has(key)) {
				return true;
			}

			if (!this.properties[key].configurable) {
				return false;
			}

			delete this.properties[key];
			return true;
		}
	}, {
		key: "createVariable",
		value: function createVariable(key) {
			if (this.has(key)) {
				return this.properties[key];
			}

			return this.properties[key] = new _typesPropertyDescriptor.PropertyDescriptor(this, {
				value: undefined,
				configurable: false,
				enumerable: true,
				writable: true
			});
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, throwOnError) {
			if (this.has(key)) {
				if (!this.properties[key].writable) {
					if (throwOnError) {
						throw new TypeError("Cannot write to immutable binding: " + key);
					}

					return false;
				}

				this.properties[key].setValue(value);
				return true;
			} else {
				var _parent;

				return (_parent = this.parent).setValue.apply(_parent, arguments);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(key, throwOnError) {
			if (this.has(key)) {
				if (!this.properties[key].value) {
					if (throwOnError) {
						throw new ReferenceError(key + " is not defined");
					}

					return undefined;
				}

				return this.properties[key].getValue();
			}
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return DeclarativeEnvironment;
})();

exports.DeclarativeEnvironment = DeclarativeEnvironment;
},{"../types/property-descriptor":313,"./reference":198,"babel-runtime/core-js/object/create":12,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24}],194:[function(require,module,exports){
// todo: switch to estree-walker
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.visit = visit;

function visit(node, callback) {
	if (!node) {
		return;
	}

	if (Array.isArray(node)) {
		node.forEach(function (n) {
			return visit(n, callback);
		});
		return;
	}

	switch (node.type) {
		case "Program":
		case "BlockStatement":
			visit(node.body, callback);
			break;

		case "CatchClause":
			visit(node.body, callback);
			break;

		case "DoWhileStatement":
		case "WhileStatement":
			visit(node.test, callback);
			visit(node.body, callback);
			break;

		case "ExpressionStatement":
			visit(node.expression, callback);
			break;

		case "ForStatement":
			visit(node.init, callback);
			visit(node.body, callback);
			break;

		case "ForInStatement":
			visit(node.left, callback);
			visit(node.body, callback);
			break;

		case "IfStatement":
			// do not scan `test`
			visit(node.consequent, callback);
			visit(node.alternate, callback);
			break;

		case "LabeledStatement":
			visit(node.body, callback);
			break;

		case "SwitchStatement":
			visit(node.discriminant, callback);
			break;

		case "SwitchCase":
			visit(node.consequent, callback);
			break;

		case "TryStatement":
			visit(node.block, callback);
			visit(node.handler, callback);
			visit(node.finalizer, callback);
			break;

		case "VariableDeclaration":
			visit(node.declarations, callback);
			break;

		case "FunctionDeclaration":
		case "VariableDeclarator":
			callback(node);
			break;

		default:
		// ignore all other nodes
	}
}

;
},{}],195:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$assign = require("babel-runtime/core-js/object/assign")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _executionContext = require("../execution-context");

var _declarativeEnvironment = require("./declarative-environment");

var _objectEnvironment = require("./object-environment");

var _reference = require("./reference");

var _es5 = require("../es5");

var _es52 = _interopRequireDefault(_es5);

var _es6 = require("../es6");

var _es62 = _interopRequireDefault(_es6);

var _utilsOperators = require("../utils/operators");

var _utilsOperators2 = _interopRequireDefault(_utilsOperators);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _scope = require("./scope");

var defaultOptions = {
	allowDebugger: false,
	useStrict: false,
	ecmaVersion: 5
};

var Environment = (function () {
	function Environment() {
		_classCallCheck(this, Environment);
	}

	_createClass(Environment, [{
		key: "init",
		value: function init() {
			var _this = this;

			var options = arguments.length <= 0 || arguments[0] === undefined ? defaultOptions : arguments[0];

			// clear state in case of re-init
			this.current = null;
			this.globalScope = null;

			this.options = _Object$assign({}, defaultOptions, options);
			(options.ecmaVersion === 6 ? _es62["default"] : _es52["default"])(this);

			// todo: improve this
			this.ops = _Object$assign(_utilsOperators2["default"], options.operators);
			this.ops.env = this;

			this.objectFactory.init();

			if (options.exclude && options.exclude.length > 0) {
				options.exclude.forEach(function (name) {
					var segments = name.split(".");
					var parent = _this.global;

					while (segments.length > 1) {
						parent = parent.getValue(segments.shift());

						// api not defined - assume user error?
						if (!parent) {
							return;
						}
					}

					parent.remove(segments.shift());
				});
			}
		}

		/**
   * Gets a reference from the environment
   * @param {String} key - The key of the property
   * @returns {Reference} The reference.
   */
	}, {
		key: "getReference",
		value: function getReference(key) {
			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.owns(key)) {
					return scope.getReference(key, true);
				}

				scope = scope.parent;
			}

			return new _reference.Reference(key, undefined, this);
		}
	}, {
		key: "getValue",
		value: function getValue(key) {
			return this.getReference(key).getValue();
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, strict) {
			this.current.scope.setValue(key, value, strict);
		}
	}, {
		key: "has",
		value: function has(key) {
			return this.current.scope.has(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			this.current.scope.deleteVariable(key);
		}

		/**
   * Declares a variable within the current scope.
   * @param {String} key - the key of the variable.
   * @param {Boolean} [immutable] - whether the variable is immutable or not.
   * @returns {PropertyDescriptor} The property descriptor for the new variabble.
   */
	}, {
		key: "createVariable",
		value: function createVariable(key, immutable) {
			contracts.assertIsValidIdentifier(key, this.isStrict());
			return this.current.scope.createVariable(key, !immutable);
		}

		/**
   * Indicates whether the current lexical scope is in strict mode.
   * @returns {Boolean} true if in strict mode; false otherwise.
   */
	}, {
		key: "isStrict",
		value: function isStrict() {
			if (this.options.useStrict) {
				return true;
			}

			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.strict) {
					return true;
				}

				scope = scope.parent;
			}

			return false;
		}

		/**
   * Gets the current `this` object for the environment.
   * @returns {ObjectType} The `this` object for the current scope.
   */
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			var thisArg = this.current.scope.getThisBinding();
			if (thisArg) {
				return thisArg;
			}

			if (this.isStrict()) {
				return _typesPrimitiveType.UNDEFINED;
			}

			return this.global;
		}
	}, {
		key: "createExecutionContext",
		value: function createExecutionContext(node, callee, isNew) {
			return new _executionContext.ExecutionContext(this, node, callee, isNew);
		}

		/**
   * Creates a new declarative scope.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createScope",
		value: function createScope(thisArg) {
			return this.setScope(new _declarativeEnvironment.DeclarativeEnvironment(this.current, thisArg, this));
		}

		/**
   * Creates a new scope based on the provided object. This is used for the `with`
   * statement, as well as the global scope.
   * @param {ObjectType} obj - The object to bind the scope to.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createObjectScope",
		value: function createObjectScope(obj, thisArg) {
			return this.setScope(new _objectEnvironment.ObjectEnvironment(this.current, obj, thisArg, this));
		}
	}, {
		key: "createExecutionScope",
		value: function createExecutionScope(fn, thisArg) {
			var priorScope = this.current.scope;

			// if a parent scope is defined we need to limit this scope to that scope
			if (fn.boundScope) {
				this.setScope(fn.boundScope.scope);
			}

			thisArg = fn.boundThis || thisArg;
			if (fn.arrow) {
				thisArg = this.getThisBinding();
			}

			var scope = this.createScope(thisArg, priorScope);
			scope.priorScope = priorScope;
			return scope;
		}

		/**
   * Sets the current scope.
   * @param {Environment} scope - Sets the current environment.
   * @returns {Scope} The created scope.
   */
	}, {
		key: "setScope",
		value: function setScope(scope) {
			return this.current = new _scope.Scope(this, scope);
		}
	}]);

	return Environment;
})();

exports.Environment = Environment;
},{"../es5":207,"../es6":224,"../execution-context":291,"../types/primitive-type":312,"../utils/contracts":321,"../utils/operators":324,"./declarative-environment":193,"./object-environment":196,"./reference":198,"./scope":199,"babel-runtime/core-js/object/assign":11,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/helpers/interop-require-wildcard":29}],196:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propertyReference = require("./property-reference");

var ObjectEnvironment = (function () {
	function ObjectEnvironment(parent, obj, thisArg, env) {
		_classCallCheck(this, ObjectEnvironment);

		this.parent = parent && parent.scope;
		this.strict = parent && parent.strict;
		this.object = obj;
		this.thisBinding = thisArg || obj;
		this.env = env;
	}

	_createClass(ObjectEnvironment, [{
		key: "getReference",
		value: function getReference(key, unqualified) {
			var ref = new _propertyReference.PropertyReference(key, this.object, this.env);
			ref.unqualified = unqualified;
			return ref;
		}
	}, {
		key: "has",
		value: function has(key) {
			return this.parent ? this.parent.has(key) : this.owns(key);
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.object.has(key);
		}
	}, {
		key: "getVariable",
		value: function getVariable(key) {
			return this.object.getProperty(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			return this.object.deleteProperty(key, false);
		}
	}, {
		key: "createVariable",
		value: function createVariable(key, immutable) {
			if (this.parent) {
				var _parent;

				return (_parent = this.parent).createVariable.apply(_parent, arguments);
			}

			this.object.defineOwnProperty(key, {
				value: undefined,
				configurable: immutable,
				enumerable: true,
				writable: true
			}, this.env.isStrict());

			return this.object.getProperty(key);
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, throwOnError) {
			if (this.parent && !this.object.has(key)) {
				var _parent2;

				(_parent2 = this.parent).setValue.apply(_parent2, arguments);
			} else {
				this.object.setValue(key, value, throwOnError);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(key, throwOnError) {
			if (!this.owns(key)) {
				if (throwOnError) {
					throw new ReferenceError(key + " is not defined.");
				}

				return undefined;
			}

			return this.object.getValue(key);
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return ObjectEnvironment;
})();

exports.ObjectEnvironment = ObjectEnvironment;
},{"./property-reference":197,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24}],197:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPrimitiveType = require("../types/primitive-type");

/**
 * An object which represents a reference to an object's property.
 */

var PropertyReference = (function (_Reference) {
	_inherits(PropertyReference, _Reference);

	function PropertyReference(key, object, env) {
		_classCallCheck(this, PropertyReference);

		_get(Object.getPrototypeOf(PropertyReference.prototype), "constructor", this).call(this, key, object, env);
		this.isPropertyReference = true;
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(PropertyReference, [{
		key: "getValue",
		value: function getValue() {
			var prop = this.base.getProperty(this.key);
			return prop && prop.getValue() || new _typesPrimitiveType.PrimitiveType();
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value) {
			var result = this.base.setValue(this.key, value);
			if (!result && this.isStrict()) {
				throw new TypeError("Cannot assign to read only property '" + this.key + "'");
			}

			return result;
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			return this.base.deleteProperty(this.key, this.env.isStrict());
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return false;
		}
	}]);

	return PropertyReference;
})(_reference.Reference);

exports.PropertyReference = PropertyReference;
},{"../types/primitive-type":312,"./reference":198,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],198:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var Reference = (function () {
	function Reference(key, base, env) {
		_classCallCheck(this, Reference);

		this.isReference = true;
		this.unqualified = false;

		this.key = key;
		this.base = base;
		this.env = env;
		this.strict = env.isStrict();
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(Reference, [{
		key: "getValue",
		value: function getValue() {
			if (!this.base) {
				throw new ReferenceError(this.key + " is not defined");
			}

			return this.base.getValue(this.key, this.strict);
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (this.base) {
				if (!this.base.setValue(this.key, value) && this.strict) {
					throw new TypeError();
				}

				return true;
			}

			// check identifier before strict
			contracts.assertIsValidIdentifier(this.key, this.strict);

			if (this.strict) {
				throw new ReferenceError(this.key + " is not defined");
			}

			return this.env.global.defineOwnProperty(this.key, {
				value: value,
				configurable: true,
				enumerable: true,
				writable: true
			}, false, this.env);
		}
	}, {
		key: "isStrict",
		value: function isStrict() {
			return this.strict || this.env.isStrict();
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			if (this.base) {
				return this.base.deleteVariable(this.key);
			}

			return true;
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return !this.base;
		}
	}]);

	return Reference;
})();

exports.Reference = Reference;
},{"../utils/contracts":321,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-wildcard":29}],199:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _estreeWalker = require("../estree-walker");

var _estreeWalker2 = _interopRequireDefault(_estreeWalker);

var _hoister = require("./hoister");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _syntaxRules = require("../syntax-rules");

var _syntaxRules2 = _interopRequireDefault(_syntaxRules);

var _utilsAsync = require("../utils/async");

var _utilsAssign = require("../utils/assign");

function validateSyntax(root) {
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = _getIterator(_estreeWalker2["default"].create(root)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var node = _step.value;

			if (node.type in _syntaxRules2["default"]) {
				_syntaxRules2["default"][node.type](node, true);
			}
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator["return"]) {
				_iterator["return"]();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}
}

var Scope = (function () {
	function Scope(env, scope) {
		_classCallCheck(this, Scope);

		env.globalScope = env.globalScope || this;

		this.scope = scope;
		this.env = env;
		this.priorScope = (env.current || env.globalScope).scope;
	}

	/**
  * Initializes the scope by validating the function body and hoisting variables.
  * @param {AST} node - The node to be executed.
  * @returns {void}
  */

	_createClass(Scope, [{
		key: "init",
		value: function init(node) {
			var _this = this;

			if (!node) {
				return;
			}

			var env = this.env;
			this.scope.strict = contracts.isStrictNode(node.body);

			var strict = this.scope.strict || env.isStrict();
			if (strict && node.type === "Program") {
				validateSyntax(node);
			}

			(0, _hoister.visit)(node, function (decl) {
				var name = decl.name || decl.id.name;
				contracts.assertIsValidParameterName(name, strict);

				var value = _typesPrimitiveType.UNDEFINED;
				if (decl.type === "FunctionDeclaration") {
					// functions can be used before they are defined
					var strictFunc = strict || contracts.isStrictNode(decl.body.body);
					value = env.objectFactory.createFunction(decl, undefined, { strict: strictFunc });
					value.bindScope(_this);
				} else if (_this.scope.has(name)) {
					return;
				}

				var newVar = env.createVariable(name, true);
				newVar.setValue(value);
			});
		}
	}, {
		key: "loadComplexArgs",
		value: _regeneratorRuntime.mark(function loadComplexArgs(params, args, callee) {
			var env, strict, scope, argIndex, argLength;
			return _regeneratorRuntime.wrap(function loadComplexArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						env = this.env;
						strict = env.isStrict() || contracts.isStrictNode(callee.node);
						scope = this.createParameterScope();
						argIndex = 0;
						argLength = args.length;
						context$2$0.next = 7;
						return (0, _utilsAsync.each)(params, _regeneratorRuntime.mark(function callee$2$0(param, index) {
							var rest, restIndex;
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										if (!(param.type === "RestElement")) {
											context$3$0.next = 7;
											break;
										}

										rest = env.objectFactory.createArray();
										restIndex = 0;

										while (argIndex < argLength) {
											rest.setValue(restIndex++, args[argIndex++] || _typesPrimitiveType.UNDEFINED);
										}

										scope.setValue(param.name, rest);
										context$3$0.next = 9;
										break;

									case 7:
										context$3$0.next = 9;
										return (0, _utilsAssign.declare)(env, param, args[argIndex++] || _typesPrimitiveType.UNDEFINED, true);

									case 9:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 7:

						if (!callee.arrow) {
							(function () {
								// preserve the passed in arguments, even if defaults are used instead
								var argumentList = env.objectFactory.createArguments(args, callee, strict);
								scope.createVariable("arguments");
								scope.setValue("arguments", argumentList);

								args.forEach(function (value, index) {
									argumentList.defineOwnProperty(index, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								});

								argumentList.defineOwnProperty("length", {
									value: env.objectFactory.createPrimitive(args.length),
									configurable: true,
									writable: true
								});
							})();
						}

						// return scope back to main scope
						this.env.setScope(this.scope);

					case 9:
					case "end":
						return context$2$0.stop();
				}
			}, loadComplexArgs, this);
		})

		/**
   * Loads the arguments into the scope and creates the special `arguments` object.
   * @param {AST[]} params - The parameter identifiers
   * @param {ObjectType[]} args - The argument values
   * @param {FunctionType} callee - The function
   * @returns {void}
   */
	}, {
		key: "loadArgs",
		value: _regeneratorRuntime.mark(function loadArgs(params, args, callee) {
			var env, scope, strictCallee, strict, argumentList, argsLength, shouldMap, _i, ln, param, value, _name, descriptor, i;

			return _regeneratorRuntime.wrap(function loadArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (!(params && params.some(function (p) {
							return p.type !== "Identifier";
						}))) {
							context$2$0.next = 4;
							break;
						}

						context$2$0.next = 3;
						return this.loadComplexArgs(params, args, callee);

					case 3:
						return context$2$0.abrupt("return");

					case 4:
						env = this.env;
						scope = this.scope;
						strictCallee = contracts.isStrictNode(callee.node);
						strict = env.isStrict() || strictCallee;
						argumentList = env.objectFactory.createArguments(args, callee, strict);

						scope.createVariable("arguments");
						scope.setValue("arguments", argumentList);

						argsLength = args.length;

						if (params) {
							shouldMap = !strictCallee;

							for (_i = 0, ln = params.length; _i < ln; _i++) {
								param = params[_i];
								value = args[_i] || _typesPrimitiveType.UNDEFINED;
								_name = param.name;

								if (shouldMap && !scope.has(_name)) {
									descriptor = scope.createVariable(_name);

									if (argsLength > _i) {
										argumentList.mapProperty(_i, descriptor);
									}
								}

								if (!shouldMap && _i < argsLength) {
									argumentList.defineOwnProperty(_i, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								}

								contracts.assertIsValidParameterName(_name, strict);
								scope.setValue(_name, value);
							}
						}

						// just set value if additional, unnamed arguments are passed in
						i = params ? params.length : 0;

						for (; i < argsLength; i++) {
							argumentList.defineOwnProperty(i, {
								value: args[i],
								configurable: true,
								enumerable: true,
								writable: true
							});
						}

						argumentList.defineOwnProperty("length", {
							value: env.objectFactory.createPrimitive(argsLength),
							configurable: true,
							writable: true
						});

					case 16:
					case "end":
						return context$2$0.stop();
				}
			}, loadArgs, this);
		})
	}, {
		key: "createParameterScope",
		value: function createParameterScope() {
			var scope = this.env.createScope();
			scope.scope.setParent(this.scope.parent);
			this.scope.setParent(scope);
			return scope.scope;
		}

		/**
   * Runs the passed in function and exits the scope when the function completes,
   * returning the environment back to the previos state.
   * @param {Function} inner - The function to execute.
   * @returns {Iterator} The function results
   */
	}, {
		key: "use",
		value: _regeneratorRuntime.mark(function use(inner) {
			var result;
			return _regeneratorRuntime.wrap(function use$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.prev = 0;
						context$2$0.next = 3;
						return inner();

					case 3:
						result = context$2$0.sent;

						this.exit();
						return context$2$0.abrupt("return", result);

					case 8:
						context$2$0.prev = 8;
						context$2$0.t0 = context$2$0["catch"](0);

						this.exit();
						throw context$2$0.t0;

					case 12:
					case "end":
						return context$2$0.stop();
				}
			}, use, this, [[0, 8]]);
		})

		/**
   * Exits the scope, returning the environment to it's previous state.
   * (Typically you would call `use` which handles exiting the scope itself.)
   * @returns {void}
   */
	}, {
		key: "exit",
		value: function exit() {
			this.env.setScope(this.priorScope);
		}
	}]);

	return Scope;
})();

exports.Scope = Scope;

// create a temporary scope for the argument declarations

// todo: this method is getting far too complex
},{"../estree-walker":290,"../syntax-rules":301,"../types/primitive-type":312,"../utils/assign":319,"../utils/async":320,"../utils/contracts":321,"./hoister":194,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],200:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getStartIndex = getStartIndex;
exports.getEndIndex = getEndIndex;
exports.executeCallback = executeCallback;
exports["default"] = arrayApi;
var marked0$0 = [executeCallback].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../../utils/async");

var _typesSymbolType = require("../../types/symbol-type");

function getStartIndex(index, length) {
	if (index < 0) {
		return Math.max(length - Math.abs(index), 0);
	}

	return Math.min(index || 0, length);
}

function getEndIndex(index, length) {
	if (index < 0) {
		return Math.max(length + index, 0);
	}

	return Math.min(index, length);
}

function executeCallback(env, callback, entry, thisArg, arr) {
	var scope, args;
	return _regeneratorRuntime.wrap(function executeCallback$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!thisArg) {
					thisArg = callback.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;
				}

				scope = env.createExecutionScope(callback, thisArg);

				scope.init(callback.node.body);

				args = [entry.value, env.objectFactory.createPrimitive(entry.key), arr];
				context$1$0.next = 6;
				return scope.loadArgs(callback.node.params, args, callback);

			case 6:
				context$1$0.next = 8;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					var executionResult;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return env.createExecutionContext(callback.node.body, callback.node).execute();

							case 2:
								executionResult = context$2$0.sent;

								if (!(executionResult && executionResult.exit)) {
									context$2$0.next = 5;
									break;
								}

								return context$2$0.abrupt("return", executionResult.result || _typesPrimitiveType.UNDEFINED);

							case 5:
								return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function arrayApi(env) {
	var marked1$0 = [executeAccumulator, join].map(_regeneratorRuntime.mark);

	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	function executeAccumulator(callback, priorValue, entry, arr) {
		var scope, args;
		return _regeneratorRuntime.wrap(function executeAccumulator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					scope = env.createExecutionScope(callback);

					scope.init(callback.node.body);

					args = [priorValue || _typesPrimitiveType.UNDEFINED, entry.value || _typesPrimitiveType.UNDEFINED, objectFactory.createPrimitive(entry.key), arr];
					context$2$0.next = 5;
					return scope.loadArgs(callback.node.params, args, callback);

				case 5:
					context$2$0.next = 7;
					return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
						var executionResult;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return env.createExecutionContext(callback.node.body, callback.node).execute();

								case 2:
									executionResult = context$3$0.sent;

									if (!(executionResult && executionResult.exit)) {
										context$3$0.next = 5;
										break;
									}

									return context$3$0.abrupt("return", executionResult.result || _typesPrimitiveType.UNDEFINED);

								case 5:
									return context$3$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

								case 6:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 7:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	function createIndexProperty(value) {
		return {
			value: value,
			configurable: true,
			enumerable: true,
			writable: true
		};
	}

	var proto = objectFactory.createObject();
	proto.className = "Array";
	proto.define("length", objectFactory.createPrimitive(0), { configurable: false, enumerable: false, writable: true });

	var arrayClass = objectFactory.createFunction(function (length) {
		var newArray = objectFactory.create("Array");

		if (arguments.length > 0) {
			if (arguments.length === 1 && length.type === "number") {
				contracts.assertIsValidArrayLength(arguments[0].value);
				newArray.setValue("length", length);
			} else {
				for (var i = 0, ln = arguments.length; i < ln; i++) {
					newArray.defineOwnProperty(i, createIndexProperty(arguments[i]), false, env);
				}
			}
		}

		return newArray;
	}, proto, { configurable: false, enumerable: false, writable: false });

	arrayClass.define("isArray", objectFactory.createBuiltInFunction(function (obj) {
		return objectFactory.createPrimitive(!!(obj && obj.className === "Array"));
	}, 1, "Array.isArray"));

	proto.define("push", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var start, i, _length, newLength;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					start = context$2$0.sent;
					i = 0;

					for (_length = items.length; i < _length; i++) {
						this.node.defineOwnProperty(start + i, createIndexProperty(items[i]));
					}

					newLength = objectFactory.createPrimitive(start + i);

					this.node.setValue("length", newLength);
					return context$2$0.abrupt("return", newLength);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.push"));

	proto.define("pop", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					i = context$2$0.sent;

					if (i > 0) {
						i--;

						if (this.node.has(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i, true);
						}
					}

					this.node.setValue("length", objectFactory.createPrimitive(i));
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.pop"));

	proto.define("shift", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, length, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;
					i = 0;

					if (length > 0) {
						if (this.node.has(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i);
						}

						while (++i < length) {
							if (this.node.has(i)) {
								this.node.setValue(i - 1, this.node.getValue(i));
							} else {
								this.node.deleteProperty(i);
							}
						}

						this.node.deleteProperty(length - 1);
					}

					this.node.setValue("length", objectFactory.createPrimitive(length === 0 ? 0 : --length));
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.shift"));

	proto.define("unshift", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len2 = arguments.length, items = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
			items[_key2] = arguments[_key2];
		}

		var length, argCount, i, toIndex, fromIndex, newLength;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					argCount = items.length;
					i = length;
					toIndex = undefined, fromIndex = undefined;

					while (i > 0) {
						fromIndex = i - 1;
						toIndex = i + argCount - 1;

						if (this.node.has(fromIndex)) {
							this.node.setValue(toIndex, this.node.getValue(fromIndex));
						} else {
							this.node.deleteProperty(toIndex, true);
						}

						i--;
					}

					for (i = 0; i < argCount; i++) {
						this.node.setValue(i, items[i]);
					}

					newLength = objectFactory.createPrimitive(argCount + length);

					this.node.setValue("length", newLength);
					return context$2$0.abrupt("return", newLength);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.unshift"));

	proto.define("slice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(begin, end) {
		var source, length, arr, index, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					source = this.node;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;

					if (!begin) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(begin);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					begin = context$2$0.t0;

					if (!(!end || end.type === "undefined")) {
						context$2$0.next = 16;
						break;
					}

					end = length;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toInteger)(end);

				case 18:
					end = context$2$0.sent;

				case 19:
					arr = objectFactory.create("Array");
					index = 0;

					begin = getStartIndex(begin, length);
					end = getEndIndex(end, length);

					for (i = begin; i < end; i++) {
						arr.defineOwnProperty(index++, createIndexProperty(source.getValue(i)));
					}

					return context$2$0.abrupt("return", arr);

				case 25:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.slice"));

	proto.define("splice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, deleteCount) {
		for (var _len3 = arguments.length, elements = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
			elements[_key3 - 2] = arguments[_key3];
		}

		var length, removed, k, newCount, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(start);

				case 5:
					start = context$2$0.sent;

					if (start < 0) {
						start = Math.max(length + start, 0);
					} else {
						start = Math.min(start, length);
					}

					context$2$0.next = 9;
					return (0, _utilsNative.toInteger)(deleteCount);

				case 9:
					deleteCount = context$2$0.sent;

					if (deleteCount < 0) {
						deleteCount = 0;
					} else {
						deleteCount = Math.min(Math.max(deleteCount, 0), length - start);
					}

					removed = objectFactory.create("Array");
					k = 0;

					while (k < deleteCount) {
						if (this.node.has(k + start)) {
							removed.defineOwnProperty(k, createIndexProperty(this.node.getValue(k + start)));
						}

						k++;
					}

					newCount = elements.length;

					if (newCount < deleteCount) {
						k = start;

						while (k < length - deleteCount) {
							if (this.node.has(k + deleteCount)) {
								this.node.setValue(k + newCount, this.node.getValue(k + deleteCount));
							} else {
								this.node.deleteProperty(k + deleteCount);
							}

							k++;
						}

						k = length;
						while (k > length - deleteCount + newCount) {
							this.node.deleteProperty(--k);
						}
					} else if (newCount > deleteCount) {
						k = length - start;
						while (k > start) {
							if (this.node.has(k + deleteCount - 1)) {
								this.node.setValue(k + newCount - 1, this.node.getValue(k + deleteCount - 1));
							} else {
								this.node.deleteProperty(k + newCount - 1);
							}

							k--;
						}
					}

					k = start;
					for (i = 0; i < newCount; i++) {
						this.node.setValue(k, elements[i]);
						k++;
					}

					this.node.setValue("length", objectFactory.createPrimitive(length - deleteCount + newCount));
					return context$2$0.abrupt("return", removed);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.splice"));

	function isSpreadable(obj) {
		if (!contracts.isObject(obj)) {
			return false;
		}

		var key = _typesSymbolType.SymbolType.getByKey("isConcatSpreadable");
		var propInfo = obj.getProperty(key);
		if (propInfo) {
			var spreadable = propInfo.getValue();
			if (!contracts.isUndefined(spreadable)) {
				return (0, _utilsNative.toBoolean)(spreadable);
			}
		}

		return obj.className === "Array";
	}

	proto.define("concat", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len4 = arguments.length, arrays = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
			arrays[_key4] = arguments[_key4];
		}

		var newArray, current, index, i, _length2;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					newArray = objectFactory.create("Array");

					// add "this" array to bunch
					arrays.unshift((0, _utilsNative.toObject)(env, this.node));

					current = undefined, index = 0, i = undefined;

				case 3:
					if (!(arrays.length > 0)) {
						context$2$0.next = 15;
						break;
					}

					current = arrays.shift();

					if (!isSpreadable(current)) {
						context$2$0.next = 12;
						break;
					}

					context$2$0.next = 8;
					return (0, _utilsNative.toLength)(current);

				case 8:
					_length2 = context$2$0.sent;

					for (i = 0; i < _length2; i++) {
						if (current.has(i)) {
							newArray.defineOwnProperty(index, createIndexProperty(current.getValue(i)));
						}

						index++;
					}
					context$2$0.next = 13;
					break;

				case 12:
					newArray.defineOwnProperty(index++, createIndexProperty(current));

				case 13:
					context$2$0.next = 3;
					break;

				case 15:

					newArray.setValue("length", objectFactory.createPrimitive(index));
					return context$2$0.abrupt("return", newArray);

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.concat"));

	function join(separator) {
		var length,
		    stringValues,
		    stringValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function join$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;

					if (!(args$2$0.length === 0 || separator === _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 7;
						break;
					}

					context$2$0.t0 = ",";
					context$2$0.next = 10;
					break;

				case 7:
					context$2$0.next = 9;
					return (0, _utilsNative.toPrimitive)(separator, "string");

				case 9:
					context$2$0.t0 = context$2$0.sent;

				case 10:
					separator = context$2$0.t0;
					stringValues = [];
					stringValue = undefined;
					i = 0;

				case 14:
					if (!(i < length)) {
						context$2$0.next = 29;
						break;
					}

					stringValue = "";

					if (!this.node.has(i)) {
						context$2$0.next = 25;
						break;
					}

					stringValue = this.node.getValue(i);

					if (!contracts.isNullOrUndefined(stringValue)) {
						context$2$0.next = 22;
						break;
					}

					stringValue = "";
					context$2$0.next = 25;
					break;

				case 22:
					context$2$0.next = 24;
					return (0, _utilsNative.toString)(stringValue);

				case 24:
					stringValue = context$2$0.sent;

				case 25:

					stringValues.push(stringValue);

				case 26:
					i++;
					context$2$0.next = 14;
					break;

				case 29:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValues.join(separator)));

				case 30:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[1], this);
	}

	proto.define("join", objectFactory.createBuiltInFunction(join, 1, "Array.prototype.join"));

	proto.define("indexOf", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    notFound,
		    _iteratorNormalCompletion,
		    _didIteratorError,
		    _iteratorError,
		    _iterator,
		    _step,
		    _step$value,
		    key,
		    value,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = 0;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;
					notFound = objectFactory.createPrimitive(-1);

					if (!(length === 0 || index >= length)) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", notFound);

				case 15:

					index = getStartIndex(index, length);

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 19;
					_iterator = _getIterator(_iterators2["default"].forward(env, this.node, index, length));

				case 21:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 30;
						break;
					}

					_step$value = _step.value;
					key = _step$value.key;
					value = _step$value.value;

					if (!env.ops.areSame(searchElement, value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 27;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(key));

				case 27:
					_iteratorNormalCompletion = true;
					context$2$0.next = 21;
					break;

				case 30:
					context$2$0.next = 36;
					break;

				case 32:
					context$2$0.prev = 32;
					context$2$0.t1 = context$2$0["catch"](19);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 36:
					context$2$0.prev = 36;
					context$2$0.prev = 37;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 39:
					context$2$0.prev = 39;

					if (!_didIteratorError) {
						context$2$0.next = 42;
						break;
					}

					throw _iteratorError;

				case 42:
					return context$2$0.finish(39);

				case 43:
					return context$2$0.finish(36);

				case 44:
					return context$2$0.abrupt("return", notFound);

				case 45:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[19, 32, 36, 44], [37,, 39, 43]]);
	}), 1, "Array.prototype.indexOf"));

	proto.define("lastIndexOf", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    _iteratorNormalCompletion2,
		    _didIteratorError2,
		    _iteratorError2,
		    _iterator2,
		    _step2,
		    _step2$value,
		    key,
		    value,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = length - 1;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;

					if (index < 0) {
						index = length - Math.abs(index);
					}

					_iteratorNormalCompletion2 = true;
					_didIteratorError2 = false;
					_iteratorError2 = undefined;
					context$2$0.prev = 16;
					_iterator2 = _getIterator(_iterators2["default"].reverse(env, this.node, index));

				case 18:
					if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
						context$2$0.next = 27;
						break;
					}

					_step2$value = _step2.value;
					key = _step2$value.key;
					value = _step2$value.value;

					if (!env.ops.areSame(searchElement, value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 24;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(key));

				case 24:
					_iteratorNormalCompletion2 = true;
					context$2$0.next = 18;
					break;

				case 27:
					context$2$0.next = 33;
					break;

				case 29:
					context$2$0.prev = 29;
					context$2$0.t1 = context$2$0["catch"](16);
					_didIteratorError2 = true;
					_iteratorError2 = context$2$0.t1;

				case 33:
					context$2$0.prev = 33;
					context$2$0.prev = 34;

					if (!_iteratorNormalCompletion2 && _iterator2["return"]) {
						_iterator2["return"]();
					}

				case 36:
					context$2$0.prev = 36;

					if (!_didIteratorError2) {
						context$2$0.next = 39;
						break;
					}

					throw _iteratorError2;

				case 39:
					return context$2$0.finish(36);

				case 40:
					return context$2$0.finish(33);

				case 41:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(-1));

				case 42:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[16, 29, 33, 41], [34,, 36, 40]]);
	}), 1, "Array.prototype.lastIndexOf"));

	proto.define("forEach", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, entry;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					_iteratorNormalCompletion3 = true;
					_didIteratorError3 = false;
					_iteratorError3 = undefined;
					context$2$0.prev = 8;
					_iterator3 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 10:
					if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {
						context$2$0.next = 17;
						break;
					}

					entry = _step3.value;
					context$2$0.next = 14;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 14:
					_iteratorNormalCompletion3 = true;
					context$2$0.next = 10;
					break;

				case 17:
					context$2$0.next = 23;
					break;

				case 19:
					context$2$0.prev = 19;
					context$2$0.t0 = context$2$0["catch"](8);
					_didIteratorError3 = true;
					_iteratorError3 = context$2$0.t0;

				case 23:
					context$2$0.prev = 23;
					context$2$0.prev = 24;

					if (!_iteratorNormalCompletion3 && _iterator3["return"]) {
						_iterator3["return"]();
					}

				case 26:
					context$2$0.prev = 26;

					if (!_didIteratorError3) {
						context$2$0.next = 29;
						break;
					}

					throw _iteratorError3;

				case 29:
					return context$2$0.finish(26);

				case 30:
					return context$2$0.finish(23);

				case 31:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 19, 23, 31], [24,, 26, 30]]);
	}), 1, "Array.prototype.forEach"));

	proto.define("map", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, newArray, _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, entry, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsNotNullOrUndefined(arr, "Array.prototype.map");
					contracts.assertIsFunction(callback, arr);

					newArray = objectFactory.create("Array");

					newArray.setValue("length", objectFactory.createPrimitive(length));

					_iteratorNormalCompletion4 = true;
					_didIteratorError4 = false;
					_iteratorError4 = undefined;
					context$2$0.prev = 11;
					_iterator4 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 13:
					if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step4.value;
					context$2$0.next = 17;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 17:
					value = context$2$0.sent;

					newArray.defineOwnProperty(entry.key, createIndexProperty(value));

				case 19:
					_iteratorNormalCompletion4 = true;
					context$2$0.next = 13;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t0 = context$2$0["catch"](11);
					_didIteratorError4 = true;
					_iteratorError4 = context$2$0.t0;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion4 && _iterator4["return"]) {
						_iterator4["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError4) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError4;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", newArray);

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[11, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.map"));

	proto.define("filter", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, newArray, index, _iteratorNormalCompletion5, _didIteratorError5, _iteratorError5, _iterator5, _step5, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.filter");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					newArray = objectFactory.create("Array");
					index = 0;
					_iteratorNormalCompletion5 = true;
					_didIteratorError5 = false;
					_iteratorError5 = undefined;
					context$2$0.prev = 11;
					_iterator5 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 13:
					if (_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done) {
						context$2$0.next = 23;
						break;
					}

					entry = _step5.value;
					context$2$0.next = 17;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 17:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						newArray.defineOwnProperty(index++, createIndexProperty(entry.value));
					}

				case 20:
					_iteratorNormalCompletion5 = true;
					context$2$0.next = 13;
					break;

				case 23:
					context$2$0.next = 29;
					break;

				case 25:
					context$2$0.prev = 25;
					context$2$0.t1 = context$2$0["catch"](11);
					_didIteratorError5 = true;
					_iteratorError5 = context$2$0.t1;

				case 29:
					context$2$0.prev = 29;
					context$2$0.prev = 30;

					if (!_iteratorNormalCompletion5 && _iterator5["return"]) {
						_iterator5["return"]();
					}

				case 32:
					context$2$0.prev = 32;

					if (!_didIteratorError5) {
						context$2$0.next = 35;
						break;
					}

					throw _iteratorError5;

				case 35:
					return context$2$0.finish(32);

				case 36:
					return context$2$0.finish(29);

				case 37:
					return context$2$0.abrupt("return", newArray);

				case 38:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[11, 25, 29, 37], [30,, 32, 36]]);
	}), 1, "Array.prototype.filter"));

	proto.define("every", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion6, _didIteratorError6, _iteratorError6, _iterator6, _step6, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.every");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					_iteratorNormalCompletion6 = true;
					_didIteratorError6 = false;
					_iteratorError6 = undefined;
					context$2$0.prev = 9;
					_iterator6 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step6.value;
					context$2$0.next = 15;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 19:
					_iteratorNormalCompletion6 = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError6 = true;
					_iteratorError6 = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion6 && _iterator6["return"]) {
						_iterator6["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError6) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError6;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.every"));

	proto.define("some", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion7, _didIteratorError7, _iteratorError7, _iterator7, _step7, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.some");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(this.node);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, this.node);

					_iteratorNormalCompletion7 = true;
					_didIteratorError7 = false;
					_iteratorError7 = undefined;
					context$2$0.prev = 9;
					_iterator7 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step7.value;
					context$2$0.next = 15;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 19:
					_iteratorNormalCompletion7 = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError7 = true;
					_iteratorError7 = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion7 && _iterator7["return"]) {
						_iterator7["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError7) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError7;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.some"));

	proto.define("reduce", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var arr,
		    length,
		    hasInitialValue,
		    value,
		    hasElements,
		    _iteratorNormalCompletion8,
		    _didIteratorError8,
		    _iteratorError8,
		    _iterator8,
		    _step8,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.reduce");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					hasInitialValue = false;
					value = undefined;

					if (args$2$0.length > 1) {
						value = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion8 = true;
					_didIteratorError8 = false;
					_iteratorError8 = undefined;
					context$2$0.prev = 14;
					_iterator8 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 16:
					if (_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step8.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					value = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return executeAccumulator(callback, value, entry, arr);

				case 25:
					value = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion8 = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError8 = true;
					_iteratorError8 = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion8 && _iterator8["return"]) {
						_iterator8["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError8) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError8;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Reduce of empty array with no initial value")));

				case 45:
					return context$2$0.abrupt("return", value);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduce"));

	proto.define("reduceRight", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var length,
		    arr,
		    accumulator,
		    hasInitialValue,
		    hasElements,
		    _iteratorNormalCompletion9,
		    _didIteratorError9,
		    _iteratorError9,
		    _iterator9,
		    _step9,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;

					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.reduceRight");
					arr = (0, _utilsNative.toObject)(env, this.node);

					contracts.assertIsFunction(callback, arr);

					accumulator = undefined;
					hasInitialValue = false;

					if (args$2$0.length > 1) {
						accumulator = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion9 = true;
					_didIteratorError9 = false;
					_iteratorError9 = undefined;
					context$2$0.prev = 14;
					_iterator9 = _getIterator(_iterators2["default"].reverse(env, arr, length - 1));

				case 16:
					if (_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step9.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					accumulator = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return executeAccumulator(callback, accumulator, entry, arr);

				case 25:
					accumulator = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion9 = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError9 = true;
					_iteratorError9 = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion9 && _iterator9["return"]) {
						_iterator9["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError9) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError9;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Reduce of empty array with no initial value")));

				case 45:
					return context$2$0.abrupt("return", accumulator);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduceRight"));

	proto.define("reverse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, middle, lower, upper, upperValue, lowerValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					middle = Math.floor(length / 2);
					lower = 0;
					upper = undefined, upperValue = undefined, lowerValue = undefined;

					while (lower !== middle) {
						upper = length - lower - 1;
						lowerValue = this.node.has(lower) && this.node.getValue(lower);
						upperValue = this.node.has(upper) && this.node.getValue(upper);

						if (upperValue) {
							this.node.setValue(lower, upperValue);
						}

						if (lowerValue) {
							this.node.setValue(upper, lowerValue);
						}

						if (upperValue && !lowerValue) {
							this.node.deleteProperty(upper);
						} else if (lowerValue && !upperValue) {
							this.node.deleteProperty(lower);
						}

						lower++;
					}

					return context$2$0.abrupt("return", this.node);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.reverse"));

	proto.define("sort", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(compareFunction) {
		var executionContext, arr, length, i, comparer, sortedArray;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					executionContext = this;
					arr = this.node;
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(arr);

				case 4:
					length = context$2$0.sent;
					i = 0;
					comparer = undefined;

					if (contracts.isNullOrUndefined(compareFunction)) {
						comparer = function defaultComparer(a, b) {
							a = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(a));
							b = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(b));

							if (a < b) {
								return -1;
							}

							if (a > b) {
								return 1;
							}

							return 0;
						};
					} else {
						comparer = function (a, b) {
							var scope = env.createScope(_typesPrimitiveType.UNDEFINED);
							scope.init(compareFunction.node.body);

							(0, _utilsAsync.exhaust)(scope.loadArgs(compareFunction.node.params, [a, b], compareFunction));
							var executionResult = (0, _utilsAsync.exhaust)(scope.use(function () {
								return (0, _utilsAsync.exhaust)(executionContext.create(compareFunction.node.body, compareFunction.node).execute());
							}));

							if (executionResult && executionResult.exit && executionResult.result) {
								return executionResult.result.getValue().toNative();
							}

							return undefined;
						};
					}

					// to array, run the wrapped comparer, then re-assign indexes
					context$2$0.next = 10;
					return (0, _utilsNative.toArray)(arr, length);

				case 10:
					context$2$0.t0 = function (el) {
						return el.isPrimitive && el.value === undefined ? undefined : el;
					};

					context$2$0.t1 = comparer;
					sortedArray = context$2$0.sent.
					// undefined positions are handled by the underlying sort algorithm, so replace them with the raw primitive value
					map(context$2$0.t0).sort(context$2$0.t1);

					while (i < length) {
						if (i in sortedArray) {
							arr.setValue(i, sortedArray[i], false, env);
						} else {
							arr.deleteProperty(i, false);
						}

						i++;
					}

					return context$2$0.abrupt("return", arr);

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.sort"));

	proto.define("toLocaleString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, arr, i, current;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					arr = new Array(length);
					i = 0;
					current = undefined;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 22;
						break;
					}

					if (!this.node.has(i)) {
						context$2$0.next = 19;
						break;
					}

					current = this.node.getValue(i);

					if (!contracts.isNullOrUndefined(current)) {
						context$2$0.next = 13;
						break;
					}

					arr[i] = "";
					context$2$0.next = 19;
					break;

				case 13:
					context$2$0.next = 15;
					return (0, _utilsFunc.tryExecute)(current, "toLocaleString");

				case 15:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(context$2$0.t0);

				case 18:
					arr[i] = context$2$0.sent;

				case 19:

					i++;
					context$2$0.next = 6;
					break;

				case 22:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(arr.join()));

				case 23:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.toLocaleString"));

	// todo: this is a bit hacky - toString will call join if available per spec,
	// but will call Object..toString if not
	proto.define("toString", objectFactory.createBuiltInFunction(join, 0, "Array.prototype.toString"));
	globalObject.define("Array", arrayClass);
}
},{"../../iterators":295,"../../types/primitive-type":312,"../../types/symbol-type":318,"../../utils/async":320,"../../utils/contracts":321,"../../utils/func":322,"../../utils/native":323,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],201:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = booleanApi;

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsNative = require("../../utils/native");

function booleanApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Boolean";
	proto.value = false;

	var booleanClass = objectFactory.createFunction(function (obj) {
		var booleanValue = (0, _utilsNative.toBoolean)(obj);

		// called as new
		if (this.isNew) {
			return (0, _utilsNative.primitiveToObject)(env, booleanValue);
		}

		return objectFactory.create("Boolean", booleanValue);
	}, proto, { configurable: false, enumerable: false, writable: false });

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.toString");
		return objectFactory.createPrimitive(String(this.node.value));
	}, 0, "Boolean.prototype.toString"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "Boolean.prototype.valueOf"));

	globalObject.define("Boolean", booleanClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":321,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29}],202:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = consoleApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var methods = ["log", "info", "error", "warn"];

function consoleApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var consoleClass = objectFactory.createObject();

	methods.forEach(function (name) {
		consoleClass.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			var stringValues;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toString)(arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						}));

					case 2:
						stringValues = context$3$0.sent;

						console[name].apply(console, _toConsumableArray(stringValues));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, "console." + name));
	});

	globalObject.define("console", consoleClass);
}

module.exports = exports["default"];
},{"../../utils/async":320,"../../utils/native":323,"babel-runtime/helpers/to-consumable-array":30,"babel-runtime/regenerator":31}],203:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _bind = require("babel-runtime/helpers/bind")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = dateApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var staticMethods = ["now"];
var protoMethods = ["getDate", "getDay", "getFullYear", "getHours", "getMilliseconds", "getMinutes", "getMonth", "getMilliseconds", "getMinutes", "getMonth", "getSeconds", "getTime", "getTimezoneOffset", "getUTCDay", "getUTCDate", "getUTCFullYear", "getUTCHours", "getUTCMilliseconds", "getUTCMinutes", "getUTCMonth", "getUTCSeconds", "getYear", "toDateString", "toGMTString", "toISOString", "toJSON", "toLocaleString", "toLocaleDateString", "toLocaleTimeString", "toString", "toTimeString", "toUTCString"];
var setters = ["setDate", "setFullYear", "setHours", "setMilliseconds", "setMinutes", "setMonth", "setSeconds", "setTime", "setUTCDate", "setUTCFullYear", "setUTCHours", "setUTCMilliseconds", "setUTCMinutes", "setUTCMonth", "setUTCSeconds", "setYear"];

function dateApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Date";
	proto.value = new Date(0);

	var dateClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(p1, p2, p3, p4, p5, p6, p7) {
		var dateValue,
		    args,
		    primitiveValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					dateValue = undefined, args = undefined;

					if (!(args$2$0.length === 0)) {
						context$2$0.next = 5;
						break;
					}

					args = [];
					context$2$0.next = 22;
					break;

				case 5:
					if (!(args$2$0.length === 1)) {
						context$2$0.next = 20;
						break;
					}

					if (!p1.isPrimitive) {
						context$2$0.next = 10;
						break;
					}

					args = [p1.value];
					context$2$0.next = 18;
					break;

				case 10:
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(p1);

				case 12:
					primitiveValue = context$2$0.sent;

					if (!(typeof primitiveValue !== "string")) {
						context$2$0.next = 17;
						break;
					}

					context$2$0.next = 16;
					return (0, _utilsNative.toNumber)(p1);

				case 16:
					primitiveValue = context$2$0.sent;

				case 17:

					args = [primitiveValue];

				case 18:
					context$2$0.next = 22;
					break;

				case 20:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 21);

				case 21:
					args = context$2$0.t0;

				case 22:
					if (!this.isNew) {
						context$2$0.next = 35;
						break;
					}

					context$2$0.t1 = args.length;
					context$2$0.next = context$2$0.t1 === 0 ? 26 : context$2$0.t1 === 1 ? 28 : 30;
					break;

				case 26:
					dateValue = new Date();
					return context$2$0.abrupt("break", 34);

				case 28:
					dateValue = new Date(args[0]);
					return context$2$0.abrupt("break", 34);

				case 30:
					i = args.length;

					while (i < 7) {
						// default day to 1, all others to 0
						args[i++] = i === 3 ? 1 : 0;
					}

					dateValue = new (_bind.apply(Date, [null].concat(_toConsumableArray(args))))();
					return context$2$0.abrupt("break", 34);

				case 34:
					return context$2$0.abrupt("return", objectFactory.create("Date", dateValue));

				case 35:

					dateValue = Date.apply(undefined, _toConsumableArray(args));
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	dateClass.define("parse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue, dateValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(value, "string");

				case 2:
					stringValue = context$2$0.sent;
					dateValue = Date.parse(stringValue);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Date.prototype.parse"));

	dateClass.define("UTC", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var args,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Date.UTC.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 7, "Date.prototype.UTC"));

	staticMethods.forEach(function (name) {
		dateClass.define(name, (0, _utilsNative.toNativeFunction)(env, Date[name], "Date." + name));
	});

	protoMethods.forEach(function (name) {
		proto.define(name, (0, _utilsNative.toNativeFunction)(env, Date.prototype[name], "Date.prototype." + name));
	});

	setters.forEach(function (name) {
		var marked2$0 = [setter].map(_regeneratorRuntime.mark);

		function setter() {
			var args,
			    args$3$0 = arguments;
			return _regeneratorRuntime.wrap(function setter$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toPrimitive)(arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						})), "t0", 1);

					case 1:
						args = context$3$0.t0;

						Date.prototype[name].apply(this.node.value, args);

					case 3:
					case "end":
						return context$3$0.stop();
				}
			}, marked2$0[0], this);
		}

		proto.define(name, objectFactory.createBuiltInFunction(setter, Date.prototype[name].length, "Date.prototype." + name));
	});

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		return objectFactory.createPrimitive(this.node.value.valueOf());
	}, 0, "Date.prototype.valueOf"));

	globalObject.define("Date", dateClass);
}

module.exports = exports["default"];
},{"../../utils/async":320,"../../utils/native":323,"babel-runtime/helpers/bind":22,"babel-runtime/helpers/to-consumable-array":30,"babel-runtime/regenerator":31}],204:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = errorApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var errorTypes = ["TypeError", "ReferenceError", "SyntaxError", "RangeError", "URIError", "EvalError"];

function errorApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Error";
	proto.define("name", objectFactory.createPrimitive("Error"));
	proto.define("message", objectFactory.createPrimitive(""));

	var errorClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(message) {
		var messageString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					messageString = undefined;

					if (contracts.isNullOrUndefined(message)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toString)(message);

				case 4:
					messageString = context$2$0.sent;

				case 5:
					return context$2$0.abrupt("return", objectFactory.create("Error", new Error(messageString)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	proto.define("toString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var name, msg;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					name = this.node.getValue("name");
					msg = undefined;

					if (!this.node.has("message")) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toString)(this.node.getValue("message"));

				case 5:
					msg = context$2$0.sent;

				case 6:
					context$2$0.t0 = name;

					if (!context$2$0.t0) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toString)(name);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					name = context$2$0.t0;

					if (!(name && msg)) {
						context$2$0.next = 14;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.create("String", name + ": " + msg));

				case 14:
					return context$2$0.abrupt("return", objectFactory.create("String", name || msg));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Error.prototype.toString"));

	globalObject.define("Error", errorClass);

	errorTypes.forEach(function (errorType) {
		var typeProto = objectFactory.createObject();
		typeProto.define("name", objectFactory.createPrimitive(errorType));

		// add to prototype chain to represent inheritance
		typeProto.setPrototype(proto);

		var errClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$2$0(message) {
			var messageString, nativeError;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(message);

					case 2:
						messageString = context$3$0.sent;
						nativeError = new global[errorType](messageString);
						return context$3$0.abrupt("return", objectFactory.create(errorType, nativeError));

					case 5:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), typeProto, { configurable: false, enumerable: false, writable: false });

		globalObject.define(errorType, errClass);
	});
}

module.exports = exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lczUvZXJyb3IvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBlcnJvckFwaTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIGVycm9yVHlwZXMgPSBbXCJUeXBlRXJyb3JcIiwgXCJSZWZlcmVuY2VFcnJvclwiLCBcIlN5bnRheEVycm9yXCIsIFwiUmFuZ2VFcnJvclwiLCBcIlVSSUVycm9yXCIsIFwiRXZhbEVycm9yXCJdO1xuXG5mdW5jdGlvbiBlcnJvckFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJFcnJvclwiO1xuXHRwcm90by5kZWZpbmUoXCJuYW1lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiRXJyb3JcIikpO1xuXHRwcm90by5kZWZpbmUoXCJtZXNzYWdlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiXCIpKTtcblxuXHR2YXIgZXJyb3JDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobWVzc2FnZSkge1xuXHRcdHZhciBtZXNzYWdlU3RyaW5nO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKGNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChtZXNzYWdlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykobWVzc2FnZSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdG1lc3NhZ2VTdHJpbmcgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiRXJyb3JcIiwgbmV3IEVycm9yKG1lc3NhZ2VTdHJpbmcpKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIG5hbWUsIG1zZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bmFtZSA9IHRoaXMubm9kZS5nZXRWYWx1ZShcIm5hbWVcIik7XG5cdFx0XHRcdFx0bXNnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5vZGUuaGFzKFwibWVzc2FnZVwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlLmdldFZhbHVlKFwibWVzc2FnZVwiKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdG1zZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gbmFtZTtcblxuXHRcdFx0XHRcdGlmICghY29udGV4dCQyJDAudDApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykobmFtZSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRuYW1lID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoIShuYW1lICYmIG1zZykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTdHJpbmdcIiwgbmFtZSArIFwiOiBcIiArIG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN0cmluZ1wiLCBuYW1lIHx8IG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJFcnJvci5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJFcnJvclwiLCBlcnJvckNsYXNzKTtcblxuXHRlcnJvclR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yVHlwZSkge1xuXHRcdHZhciB0eXBlUHJvdG8gPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdHR5cGVQcm90by5kZWZpbmUoXCJuYW1lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVycm9yVHlwZSkpO1xuXG5cdFx0Ly8gYWRkIHRvIHByb3RvdHlwZSBjaGFpbiB0byByZXByZXNlbnQgaW5oZXJpdGFuY2Vcblx0XHR0eXBlUHJvdG8uc2V0UHJvdG90eXBlKHByb3RvKTtcblxuXHRcdHZhciBlcnJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAobWVzc2FnZSkge1xuXHRcdFx0dmFyIG1lc3NhZ2VTdHJpbmcsIG5hdGl2ZUVycm9yO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKG1lc3NhZ2UpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0bWVzc2FnZVN0cmluZyA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRuYXRpdmVFcnJvciA9IG5ldyBnbG9iYWxbZXJyb3JUeXBlXShtZXNzYWdlU3RyaW5nKTtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoZXJyb3JUeXBlLCBuYXRpdmVFcnJvcikpO1xuXG5cdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdH0pLCB0eXBlUHJvdG8sIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUoZXJyb3JUeXBlLCBlcnJDbGFzcyk7XG5cdH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyJdfQ==
},{"../../utils/contracts":321,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],205:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = functionApi;

var _typesNativeFunctionType = require("../../types/native-function-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

function defineThis(env, fn, thisArg) {
	if (fn.builtIn || fn.isStrict()) {
		return thisArg || _typesPrimitiveType.UNDEFINED;
	}

	if (contracts.isNullOrUndefined(thisArg)) {
		return env.global;
	}

	return (0, _utilsNative.toObject)(env, thisArg);
}

var frozen = { configurable: false, enumerable: false, writable: false };

function functionApi(env) {
	var options = env.options;
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var funcClass = undefined;

	var funcCtor = _regeneratorRuntime.mark(function funcCtor() {
		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		var funcInstance;
		return _regeneratorRuntime.wrap(function funcCtor$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					funcInstance = undefined;

					if (!(options.parser && args.length > 0)) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var body, params, bodyString, ast, callee, userNode, strict, wrappedFunc;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									body = args.pop();
									params = "";

									if (!(args.length > 0)) {
										context$3$0.next = 6;
										break;
									}

									context$3$0.next = 5;
									return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg, index) {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													if (!contracts.isNull(arg)) {
														context$4$0.next = 2;
														break;
													}

													throw new SyntaxError("Unexpected token null");

												case 2:
													if (!contracts.isUndefined(arg)) {
														context$4$0.next = 6;
														break;
													}

													context$4$0.t0 = "";
													context$4$0.next = 9;
													break;

												case 6:
													context$4$0.next = 8;
													return (0, _utilsNative.toString)(arg);

												case 8:
													context$4$0.t0 = context$4$0.sent;

												case 9:
													return context$4$0.abrupt("return", context$4$0.t0);

												case 10:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 5:
									params = context$3$0.sent.
									// the spec allows parameters to be comma-delimited, so we will join and split again comma
									join(",");

								case 6:
									context$3$0.next = 8;
									return (0, _utilsNative.toString)(body);

								case 8:
									bodyString = context$3$0.sent;
									ast = options.parser("(function(" + params + "){" + bodyString + "}).apply($this,$args);");
									callee = ast.body[0].expression.callee.object;
									userNode = callee.body.body;
									strict = contracts.isStrictNode(userNode);
									wrappedFunc = _regeneratorRuntime.mark(function wrappedFunc() {
										var thisArg,
										    $args,
										    executionResult,
										    args$4$0 = arguments;
										return _regeneratorRuntime.wrap(function wrappedFunc$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													thisArg = undefined;

													if (this.isNew) {
														thisArg = objectFactory.createObject(funcInstance);
													} else {
														thisArg = this.node;

														if (!thisArg) {
															thisArg = strict ? _typesPrimitiveType.UNDEFINED : globalObject;
														}
													}

													this.env.createVariable("$this").setValue(thisArg);

													$args = this.env.objectFactory.createArray(args$4$0);

													this.env.createVariable("$args").setValue($args);

													context$4$0.next = 7;
													return env.createExecutionContext(ast).execute();

												case 7:
													executionResult = context$4$0.sent;

													if (!this.isNew) {
														context$4$0.next = 10;
														break;
													}

													return context$4$0.abrupt("return", thisArg);

												case 10:
													return context$4$0.abrupt("return", executionResult && executionResult.result || _typesPrimitiveType.UNDEFINED);

												case 11:
												case "end":
													return context$4$0.stop();
											}
										}, wrappedFunc, this);
									});

									wrappedFunc.nativeLength = callee.params.length;
									wrappedFunc.strict = strict;
									funcInstance = objectFactory.createFunction(wrappedFunc, undefined, { strict: strict });
									funcInstance.bindScope(env.globalScope);

								case 18:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 3);

				case 3:
					context$2$0.next = 6;
					break;

				case 5:
					funcInstance = objectFactory.createFunction(function () {});

				case 6:

					funcInstance.setValue("constructor", funcClass);
					return context$2$0.abrupt("return", funcInstance);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, funcCtor, this);
	});

	// the prototype of a function is actually callable and evaluates as a function
	var proto = new _typesNativeFunctionType.NativeFunctionType(function () {
		if (this.isNew) {
			return this.raise(new TypeError("Function.protoype is not a constructor"));
		}

		return _typesPrimitiveType.UNDEFINED;
	});

	funcCtor.nativeLength = 1;
	funcClass = objectFactory.createFunction(funcCtor, proto, frozen);
	funcClass.setValue("constructor", funcClass);

	globalObject.define("Function", funcClass);

	proto.define("length", objectFactory.createPrimitive(0), { writable: false });

	if (env.options.ecmaVersion > 5) {
		proto.define("name", objectFactory.createPrimitive(""), { writable: false });
	}

	// function itself is a function
	funcClass.setPrototype(proto);

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		if (this.node.native) {
			return objectFactory.createPrimitive("function () { [native code] }");
		}

		return objectFactory.createPrimitive("function () { [user code] }");
	}, 0, "Function.prototype.toString"));

	proto.define("call", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
			args[_key2 - 1] = arguments[_key2];
		}

		var callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					callee = this.node.native ? this.node : this.node.node;

					thisArg = defineThis(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield((0, _utilsFunc.execute)(env, this.node, args, thisArg, callee), "t0", 4);

				case 4:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype.call"));

	proto.define("apply", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg, argsArray) {
		var args, callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!argsArray) {
						context$2$0.next = 3;
						break;
					}

					if (!(argsArray.className !== "Arguments" && argsArray.className !== "Array" && argsArray.className !== "Function")) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Arguments list was wrong type")));

				case 3:
					context$2$0.next = 5;
					return (0, _utilsNative.toArray)(argsArray);

				case 5:
					args = context$2$0.sent;
					callee = this.node.native ? this.node : this.node.node;

					thisArg = defineThis(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield((0, _utilsFunc.execute)(env, this.node, args, thisArg, callee), "t0", 10);

				case 10:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Function.prototype.apply"));

	proto.define("bind", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
			args[_key3 - 1] = arguments[_key3];
		}

		var fn, callee, params, nativeFunc, boundFunc, _thrower;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					fn = this.node;
					callee = fn.native ? fn : fn.node;
					params = callee.params || [];

					thisArg = defineThis(env, this.node, thisArg);

					nativeFunc = _regeneratorRuntime.mark(function nativeFunc() {
						for (var _len4 = arguments.length, additionalArgs = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
							additionalArgs[_key4] = arguments[_key4];
						}

						var mergedArgs;
						return _regeneratorRuntime.wrap(function nativeFunc$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									mergedArgs = args.concat(additionalArgs);
									return context$3$0.delegateYield((0, _utilsFunc.execute)(env, fn, mergedArgs, thisArg, callee, this.isNew), "t0", 2);

								case 2:
									return context$3$0.abrupt("return", context$3$0.t0);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, nativeFunc, this);
					});

					nativeFunc.nativeLength = Math.max(params.length - args.length, 0);
					nativeFunc.strict = env.isStrict() || !fn.native && contracts.isStrictNode(fn.node.body.body);

					boundFunc = objectFactory.createFunction(nativeFunc, null);

					boundFunc.bindScope(this.env.current);
					boundFunc.bindThis(thisArg);

					if (!nativeFunc.strict) {
						boundFunc.remove("caller");
						boundFunc.remove("arguments");

						// these will be added in strict mode, but should always be here for bound functions
						_thrower = objectFactory.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");

						boundFunc.defineOwnProperty("caller", _thrower);
						boundFunc.defineOwnProperty("arguments", _thrower);
					}

					return context$2$0.abrupt("return", boundFunc);

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype.bind"));

	var thrower = function thrower() {
		if (this.isStrict()) {
			throw new TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
		}

		return undefined;
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);

	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: false
	};

	proto.defineOwnProperty("caller", prop, false, env);
	proto.defineOwnProperty("callee", prop, false, env);
	proto.defineOwnProperty("arguments", prop, false, env);
}

module.exports = exports["default"];
},{"../../types/native-function-type":309,"../../types/primitive-type":312,"../../utils/async":320,"../../utils/contracts":321,"../../utils/func":322,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],206:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _envReference = require("../env/reference");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function (env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var options = env.options;

	globalObject.define("Infinity", objectFactory.createPrimitive(Infinity), { configurable: false, writable: false });
	globalObject.define("NaN", objectFactory.createPrimitive(NaN), { configurable: false, writable: false });

	["parseFloat", "decodeURI", "encodeURI", "decodeURIComponent", "encodeURIComponent", "escape", "unescape"].forEach(function (name) {
		globalObject.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0(value) {
			var stringValue;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(value);

					case 2:
						stringValue = context$3$0.sent;
						return context$3$0.abrupt("return", objectFactory.createPrimitive(global[name](stringValue)));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, name));
	});

	globalObject.define("parseInt", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, radix) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(value);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(radix, "number");

				case 5:
					radix = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(parseInt(stringValue, radix)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "parseInt"));

	globalObject.define("isNaN", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toNumber)(value);

				case 2:
					numberValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(isNaN(numberValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "isNaN"));

	globalObject.define("isFinite", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toNumber)(value);

				case 2:
					numberValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(isFinite(numberValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "isFinite"));

	if (options.parser) {
		var evalFunc = objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(code) {
			var directCall, ast, strictScope, strictCode, currentGlobal, scope, thisArg, executionResult;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (code) {
							context$2$0.next = 2;
							break;
						}

						return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

					case 2:
						if (!(code.type !== "string")) {
							context$2$0.next = 4;
							break;
						}

						return context$2$0.abrupt("return", code);

					case 4:
						directCall = this.callee instanceof _envReference.Reference && this.callee.base === globalObject;
						ast = undefined;
						context$2$0.prev = 6;

						ast = options.parser(code.value);
						context$2$0.next = 15;
						break;

					case 10:
						context$2$0.prev = 10;
						context$2$0.t0 = context$2$0["catch"](6);

						if (!(context$2$0.t0 instanceof SyntaxError && /assigning to rvalue/i.test(context$2$0.t0.message))) {
							context$2$0.next = 14;
							break;
						}

						throw new ReferenceError("Invalid left-hand side in assignment");

					case 14:
						throw context$2$0.t0;

					case 15:
						strictScope = env.isStrict();
						strictCode = strictScope || contracts.isStrictNode(ast.body);
						currentGlobal = env.current.scope.parent === env.globalScope.scope;
						scope = undefined;

						// use the same scope unless this is an "indirect" call
						// in which case we use the global scope
						if (directCall) {
							if (strictCode) {
								thisArg = undefined;

								if (strictScope) {
									thisArg = currentGlobal ? globalObject : _typesPrimitiveType.UNDEFINED;
								} else {
									thisArg = env.getThisBinding() || globalObject;
								}

								scope = env.createScope(thisArg);
							} else {
								scope = env.setScope(env.current.scope.parent);
							}
						} else {
							scope = env.setScope(env.globalScope.scope);
							if (strictCode) {
								scope = env.createScope(globalObject);
							}
						}

						context$2$0.next = 22;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return env.createExecutionContext(ast).execute();

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 22:
						executionResult = context$2$0.sent;
						return context$2$0.abrupt("return", executionResult && executionResult.result ? executionResult.result.getValue() : _typesPrimitiveType.UNDEFINED);

					case 24:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this, [[6, 10]]);
		}), 1, "eval");

		globalObject.define("eval", evalFunc);
	}
};

module.exports = exports["default"];

// hack because acorn throws syntax error
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lczUvZ2xvYmFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX2VudlJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcmVmZXJlbmNlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXHR2YXIgb3B0aW9ucyA9IGVudi5vcHRpb25zO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJJbmZpbml0eVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShJbmZpbml0eSksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiTmFOXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTiksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdFtcInBhcnNlRmxvYXRcIiwgXCJkZWNvZGVVUklcIiwgXCJlbmNvZGVVUklcIiwgXCJkZWNvZGVVUklDb21wb25lbnRcIiwgXCJlbmNvZGVVUklDb21wb25lbnRcIiwgXCJlc2NhcGVcIiwgXCJ1bmVzY2FwZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0Z2xvYmFsT2JqZWN0LmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCh2YWx1ZSkge1xuXHRcdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHZhbHVlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZ2xvYmFsW25hbWVdKHN0cmluZ1ZhbHVlKSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdH0pLCAxLCBuYW1lKSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJwYXJzZUludFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgcmFkaXgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkocmFkaXgsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyYWRpeCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShwYXJzZUludChzdHJpbmdWYWx1ZSwgcmFkaXgpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwicGFyc2VJbnRcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJpc05hTlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaXNOYU4obnVtYmVyVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiaXNOYU5cIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJpc0Zpbml0ZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaXNGaW5pdGUobnVtYmVyVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiaXNGaW5pdGVcIikpO1xuXG5cdGlmIChvcHRpb25zLnBhcnNlcikge1xuXHRcdHZhciBldmFsRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNvZGUpIHtcblx0XHRcdHZhciBkaXJlY3RDYWxsLCBhc3QsIHN0cmljdFNjb3BlLCBzdHJpY3RDb2RlLCBjdXJyZW50R2xvYmFsLCBzY29wZSwgdGhpc0FyZywgZXhlY3V0aW9uUmVzdWx0O1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGlmIChjb2RlKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRpZiAoIShjb2RlLnR5cGUgIT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb2RlKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdGRpcmVjdENhbGwgPSB0aGlzLmNhbGxlZSBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlICYmIHRoaXMuY2FsbGVlLmJhc2UgPT09IGdsb2JhbE9iamVjdDtcblx0XHRcdFx0XHRcdGFzdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA2O1xuXG5cdFx0XHRcdFx0XHRhc3QgPSBvcHRpb25zLnBhcnNlcihjb2RlLnZhbHVlKTtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSg2KTtcblxuXHRcdFx0XHRcdFx0aWYgKCEoY29udGV4dCQyJDAudDAgaW5zdGFuY2VvZiBTeW50YXhFcnJvciAmJiAvYXNzaWduaW5nIHRvIHJ2YWx1ZS9pLnRlc3QoY29udGV4dCQyJDAudDAubWVzc2FnZSkpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkludmFsaWQgbGVmdC1oYW5kIHNpZGUgaW4gYXNzaWdubWVudFwiKTtcblxuXHRcdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0XHR0aHJvdyBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0XHRzdHJpY3RTY29wZSA9IGVudi5pc1N0cmljdCgpO1xuXHRcdFx0XHRcdFx0c3RyaWN0Q29kZSA9IHN0cmljdFNjb3BlIHx8IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUoYXN0LmJvZHkpO1xuXHRcdFx0XHRcdFx0Y3VycmVudEdsb2JhbCA9IGVudi5jdXJyZW50LnNjb3BlLnBhcmVudCA9PT0gZW52Lmdsb2JhbFNjb3BlLnNjb3BlO1xuXHRcdFx0XHRcdFx0c2NvcGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdC8vIHVzZSB0aGUgc2FtZSBzY29wZSB1bmxlc3MgdGhpcyBpcyBhbiBcImluZGlyZWN0XCIgY2FsbFxuXHRcdFx0XHRcdFx0Ly8gaW4gd2hpY2ggY2FzZSB3ZSB1c2UgdGhlIGdsb2JhbCBzY29wZVxuXHRcdFx0XHRcdFx0aWYgKGRpcmVjdENhbGwpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdENvZGUpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdFNjb3BlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gY3VycmVudEdsb2JhbCA/IGdsb2JhbE9iamVjdCA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gZW52LmdldFRoaXNCaW5kaW5nKCkgfHwgZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZVNjb3BlKHRoaXNBcmcpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGVudi5jdXJyZW50LnNjb3BlLnBhcmVudCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGVudi5nbG9iYWxTY29wZS5zY29wZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChzdHJpY3RDb2RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUoZ2xvYmFsT2JqZWN0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChhc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCA/IGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s2LCAxMF1dKTtcblx0XHR9KSwgMSwgXCJldmFsXCIpO1xuXG5cdFx0Z2xvYmFsT2JqZWN0LmRlZmluZShcImV2YWxcIiwgZXZhbEZ1bmMpO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyBoYWNrIGJlY2F1c2UgYWNvcm4gdGhyb3dzIHN5bnRheCBlcnJvciJdfQ==
},{"../env/reference":198,"../types/primitive-type":312,"../utils/contracts":321,"../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],207:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ecma51;

var _typesPrimitiveType = require("../types/primitive-type");

var _typesObjectFactory = require("../types/object-factory");

var _number = require("./number/");

var _number2 = _interopRequireDefault(_number);

var _string = require("./string/");

var _string2 = _interopRequireDefault(_string);

var _function = require("./function/");

var _function2 = _interopRequireDefault(_function);

var _object = require("./object/");

var _object2 = _interopRequireDefault(_object);

var _boolean = require("./boolean/");

var _boolean2 = _interopRequireDefault(_boolean);

var _date = require("./date/");

var _date2 = _interopRequireDefault(_date);

var _array = require("./array/");

var _array2 = _interopRequireDefault(_array);

var _math = require("./math/");

var _math2 = _interopRequireDefault(_math);

var _regex = require("./regex/");

var _regex2 = _interopRequireDefault(_regex);

var _error = require("./error/");

var _error2 = _interopRequireDefault(_error);

var _json = require("./json/");

var _json2 = _interopRequireDefault(_json);

var _console = require("./console/");

var _console2 = _interopRequireDefault(_console);

var _globals = require("./globals");

var _globals2 = _interopRequireDefault(_globals);

var frozen = { configurable: false, enumerable: false, writable: false };

function ecma51(env) {
	var objectFactory = env.objectFactory = new _typesObjectFactory.ObjectFactory(env);
	var globalObject = env.global = objectFactory.createObject();

	env.createObjectScope(globalObject);

	globalObject.define("undefined", _typesPrimitiveType.UNDEFINED, frozen);
	globalObject.define("null", _typesPrimitiveType.NULL, frozen);

	// todo: node vs browser - do we care?
	globalObject.define("window", globalObject, frozen);

	(0, _function2["default"])(env);
	(0, _object2["default"])(env);
	(0, _array2["default"])(env);
	(0, _boolean2["default"])(env);
	(0, _number2["default"])(env);
	(0, _string2["default"])(env);
	(0, _date2["default"])(env);
	(0, _regex2["default"])(env);
	(0, _math2["default"])(env);
	(0, _error2["default"])(env);
	(0, _json2["default"])(env);
	(0, _console2["default"])(env);
	(0, _globals2["default"])(env);
}

module.exports = exports["default"];
},{"../types/object-factory":310,"../types/primitive-type":312,"./array/":200,"./boolean/":201,"./console/":202,"./date/":203,"./error/":204,"./function/":205,"./globals":206,"./json/":208,"./math/":209,"./number/":210,"./object/":211,"./regex/":212,"./string/":213,"babel-runtime/helpers/interop-require-default":28}],208:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = jsonApi;
var marked0$0 = [serializeObject, serializeArray, serialize, createReplacer, getSpacer, deserialize].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var primitives = {
	"String": true,
	"Number": true,
	"Boolean": true,
	"Date": true
};

function formatValues(values, gap, depth) {
	if (values.length === 0) {
		return "";
	}

	if (!gap) {
		return values.join(",");
	}

	var indent = "\n" + gap.repeat(depth);
	var joinedValues = values.join(indent + ",");

	// remove indent on closing
	return indent + joinedValues + "\n" + gap.repeat(depth - 1);
}

function serializePrimitive(value) {
	return JSON.stringify(value);
}

function serializeObject(env, stack, obj, replacer, gap, depth) {
	var colon, values, value, prop;
	return _regeneratorRuntime.wrap(function serializeObject$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				colon = gap ? ": " : ":";
				values = [];
				value = undefined;
				context$1$0.t0 = _regeneratorRuntime.keys(obj.properties);

			case 4:
				if ((context$1$0.t1 = context$1$0.t0()).done) {
					context$1$0.next = 20;
					break;
				}

				prop = context$1$0.t1.value;

				if (!obj.properties[prop].enumerable) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.next = 9;
				return replacer(obj, prop, obj.getValue(prop));

			case 9:
				value = context$1$0.sent;

				if (contracts.isNullOrUndefined(value)) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.t2 = values;
				context$1$0.t3 = serializePrimitive(prop) + colon;
				context$1$0.next = 15;
				return serialize(env, stack, value, replacer, gap, depth);

			case 15:
				context$1$0.t4 = context$1$0.sent;
				context$1$0.t5 = context$1$0.t3 + context$1$0.t4;
				context$1$0.t2.push.call(context$1$0.t2, context$1$0.t5);

			case 18:
				context$1$0.next = 4;
				break;

			case 20:
				return context$1$0.abrupt("return", "{" + formatValues(values, gap, depth, gap, depth) + "}");

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function serializeArray(env, stack, arr, replacer, gap, depth) {
	var length, values, i, value;
	return _regeneratorRuntime.wrap(function serializeArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				length = arr.getValue("length").toNative();
				values = [];
				i = 0;

			case 3:
				if (!(i < length)) {
					context$1$0.next = 21;
					break;
				}

				value = undefined;

				if (!arr.has(i)) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 8;
				return replacer(arr, String(i), arr.getValue(i));

			case 8:
				value = context$1$0.sent;

			case 9:
				if (!contracts.isNullOrUndefined(value)) {
					context$1$0.next = 13;
					break;
				}

				// undefined positions are replaced with null
				values.push("null");
				context$1$0.next = 18;
				break;

			case 13:
				context$1$0.t0 = values;
				context$1$0.next = 16;
				return serialize(env, stack, value, replacer);

			case 16:
				context$1$0.t1 = context$1$0.sent;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t1);

			case 18:
				i++;
				context$1$0.next = 3;
				break;

			case 21:
				return context$1$0.abrupt("return", "[" + formatValues(values, gap, depth) + "]");

			case 22:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function serialize(env, stack, obj, replacer, gap, depth) {
	var jsonString, jsonResult;
	return _regeneratorRuntime.wrap(function serialize$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (obj) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive());

			case 2:
				if (!(obj.isPrimitive || obj.className in primitives)) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive(obj.value));

			case 4:
				if (!(obj.className === "Function")) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", undefined);

			case 6:
				context$1$0.next = 8;
				return (0, _utilsFunc.tryExecute)(obj, "toJSON");

			case 8:
				jsonString = context$1$0.sent;

				if (!jsonString) {
					context$1$0.next = 11;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive(jsonString.value));

			case 11:
				if (!(stack.indexOf(obj) >= 0)) {
					context$1$0.next = 13;
					break;
				}

				throw new TypeError("Converting circular structure to JSON");

			case 13:

				depth++;
				stack.push(obj);

				jsonResult = undefined;

				if (!(obj.className === "Array")) {
					context$1$0.next = 22;
					break;
				}

				context$1$0.next = 19;
				return serializeArray(env, stack, obj, replacer);

			case 19:
				jsonResult = context$1$0.sent;
				context$1$0.next = 25;
				break;

			case 22:
				context$1$0.next = 24;
				return serializeObject(env, stack, obj, replacer, gap, depth);

			case 24:
				jsonResult = context$1$0.sent;

			case 25:

				depth--;
				stack.pop();
				return context$1$0.abrupt("return", jsonResult);

			case 28:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function createReplacer(env, replacer) {
	var _ret;

	return _regeneratorRuntime.wrap(function createReplacer$(context$1$0) {
		var _this = this;

		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!replacer) {
					context$1$0.next = 8;
					break;
				}

				if (!(replacer.className === "Function")) {
					context$1$0.next = 3;
					break;
				}

				return context$1$0.abrupt("return", _regeneratorRuntime.mark(function callee$1$0(holder, key, value) {
					var args, callee;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								args = [env.objectFactory.createPrimitive(key), value];
								callee = replacer.native ? replacer : replacer.node;
								context$2$0.next = 4;
								return (0, _utilsFunc.execute)(env, replacer, args, holder, callee);

							case 4:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				if (!(replacer.className === "Array")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(_regeneratorRuntime.mark(function callee$1$0() {
					var arr, keys;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return (0, _utilsNative.toArray)(replacer);

							case 2:
								arr = context$2$0.sent;
								return context$2$0.delegateYield((0, _utilsAsync.map)(arr, _regeneratorRuntime.mark(function callee$2$0(arg) {
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												if (!(arg.className === "String")) {
													context$3$0.next = 4;
													break;
												}

												context$3$0.next = 3;
												return (0, _utilsNative.toString)(arg);

											case 3:
												return context$3$0.abrupt("return", context$3$0.sent);

											case 4:
												if (!(arg.className === "Number")) {
													context$3$0.next = 9;
													break;
												}

												context$3$0.next = 7;
												return (0, _utilsNative.toNumber)(arg);

											case 7:
												context$3$0.t0 = context$3$0.sent;
												return context$3$0.abrupt("return", String(context$3$0.t0));

											case 9:
												return context$3$0.abrupt("return", undefined);

											case 10:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, this);
								})), "t0", 4);

							case 4:
								keys = context$2$0.t0;
								return context$2$0.abrupt("return", {
									v: function (holder, key, value) {
										// allow empty key - this will be from the root
										if (!key || keys.indexOf(key) >= 0) {
											return value;
										}

										return undefined;
									}
								});

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, _this);
				})(), "t0", 5);

			case 5:
				_ret = context$1$0.t0;

				if (!(typeof _ret === "object")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.abrupt("return", _ret.v);

			case 8:
				return context$1$0.abrupt("return", function (holder, key, value) {
					return value;
				});

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function getSpacer(env, spacer) {
	var count, gap;
	return _regeneratorRuntime.wrap(function getSpacer$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!spacer) {
					context$1$0.next = 16;
					break;
				}

				if (!(spacer.className === "Number")) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.t0 = Math;
				context$1$0.next = 5;
				return (0, _utilsNative.toNumber)(spacer);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				count = context$1$0.t0.floor.call(context$1$0.t0, context$1$0.t1);

				count = Math.max(Math.min(10, count), 0);

				if (!(count > 0)) {
					context$1$0.next = 10;
					break;
				}

				return context$1$0.abrupt("return", " ".repeat(count));

			case 10:
				return context$1$0.abrupt("return", "");

			case 11:
				if (!(spacer.className === "String")) {
					context$1$0.next = 16;
					break;
				}

				context$1$0.next = 14;
				return (0, _utilsNative.toString)(spacer);

			case 14:
				gap = context$1$0.sent;
				return context$1$0.abrupt("return", gap.substr(0, 10));

			case 16:
				return context$1$0.abrupt("return", "");

			case 17:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function deserialize(env, value, reviver) {
	var objectFactory, valueType, arr, i, ln, element, elementValue, obj, propValue, prop;
	return _regeneratorRuntime.wrap(function deserialize$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = env.objectFactory;
				valueType = contracts.getType(value);
				context$1$0.t0 = valueType;
				context$1$0.next = context$1$0.t0 === "Undefined" ? 5 : context$1$0.t0 === "Null" ? 5 : context$1$0.t0 === "String" ? 5 : context$1$0.t0 === "Number" ? 5 : context$1$0.t0 === "Boolean" ? 5 : context$1$0.t0 === "Array" ? 6 : 31;
				break;

			case 5:
				return context$1$0.abrupt("return", objectFactory.create(valueType, value));

			case 6:
				arr = objectFactory.create("Array");
				i = 0, ln = value.length;

			case 8:
				if (!(i < ln)) {
					context$1$0.next = 30;
					break;
				}

				element = value[i];
				context$1$0.t1 = arr;
				context$1$0.t2 = String(i);
				context$1$0.next = 14;
				return deserialize(env, element, reviver);

			case 14:
				context$1$0.t3 = context$1$0.sent;
				context$1$0.next = 17;
				return reviver(context$1$0.t1, context$1$0.t2, context$1$0.t3);

			case 17:
				elementValue = context$1$0.sent;

				if (contracts.isUndefined(elementValue)) {
					context$1$0.next = 27;
					break;
				}

				context$1$0.t4 = arr;
				context$1$0.t5 = i;
				context$1$0.next = 23;
				return deserialize(env, element);

			case 23:
				context$1$0.t6 = context$1$0.sent;
				context$1$0.t7 = {
					value: context$1$0.t6,
					configurable: true,
					enumerable: true,
					writable: true
				};
				context$1$0.t8 = env;
				context$1$0.t4.defineOwnProperty.call(context$1$0.t4, context$1$0.t5, context$1$0.t7, true, context$1$0.t8);

			case 27:
				i++;
				context$1$0.next = 8;
				break;

			case 30:
				return context$1$0.abrupt("return", arr);

			case 31:
				obj = objectFactory.createObject();
				propValue = undefined;
				context$1$0.t9 = _regeneratorRuntime.keys(value);

			case 34:
				if ((context$1$0.t10 = context$1$0.t9()).done) {
					context$1$0.next = 48;
					break;
				}

				prop = context$1$0.t10.value;

				if (!value.hasOwnProperty(prop)) {
					context$1$0.next = 46;
					break;
				}

				context$1$0.t11 = obj;
				context$1$0.t12 = prop;
				context$1$0.next = 41;
				return deserialize(env, value[prop], reviver);

			case 41:
				context$1$0.t13 = context$1$0.sent;
				context$1$0.next = 44;
				return reviver(context$1$0.t11, context$1$0.t12, context$1$0.t13);

			case 44:
				propValue = context$1$0.sent;

				if (!contracts.isUndefined(propValue)) {
					obj.defineOwnProperty(prop, { value: propValue, configurable: true, enumerable: true, writable: true }, true, env);
				}

			case 46:
				context$1$0.next = 34;
				break;

			case 48:
				return context$1$0.abrupt("return", obj);

			case 49:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function createReviver(env, reviver) {
	if (reviver && reviver.className === "Function") {
		return _regeneratorRuntime.mark(function callee$1$0(holder, key, value) {
			var args, callee;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						args = [env.objectFactory.createPrimitive(key), value];
						callee = reviver.native ? reviver : reviver.node;
						return context$2$0.delegateYield((0, _utilsFunc.execute)(env, reviver, args, holder, callee), "t0", 3);

					case 3:
						return context$2$0.abrupt("return", context$2$0.t0);

					case 4:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	return function (holder, key, value) {
		return value;
	};
}

function jsonApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var jsonClass = objectFactory.createObject();
	jsonClass.className = "JSON";

	jsonClass.define("stringify", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, replacer, spacer) {
		var stack;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return createReplacer(env, replacer);

				case 2:
					replacer = context$2$0.sent;
					context$2$0.next = 5;
					return getSpacer(env, spacer);

				case 5:
					spacer = context$2$0.sent;
					context$2$0.next = 8;
					return replacer(obj, "", obj);

				case 8:
					obj = context$2$0.sent;

					if (!contracts.isUndefined(obj)) {
						context$2$0.next = 11;
						break;
					}

					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 11:
					stack = [];
					context$2$0.t0 = objectFactory;
					context$2$0.next = 15;
					return serialize(env, stack, obj, replacer, spacer, 0);

				case 15:
					context$2$0.t1 = context$2$0.sent;
					return context$2$0.abrupt("return", context$2$0.t0.createPrimitive.call(context$2$0.t0, context$2$0.t1));

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "JSON.stringify"));

	jsonClass.define("parse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str, reviver) {
		var stringValue, parsedObject, deserializedObject;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					reviver = createReviver(env, reviver);

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(str);

				case 3:
					stringValue = context$2$0.sent;
					parsedObject = JSON.parse(stringValue);
					context$2$0.next = 7;
					return deserialize(env, parsedObject, reviver);

				case 7:
					deserializedObject = context$2$0.sent;
					context$2$0.next = 10;
					return reviver(deserializedObject, "", deserializedObject) || _typesPrimitiveType.UNDEFINED;

				case 10:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "JSON.parse"));

	globalObject.define("JSON", jsonClass);
}

module.exports = exports["default"];

// these are the only types supported by JSON.parse - sad face...

// run at the top value
},{"../../types/primitive-type":312,"../../utils/async":320,"../../utils/contracts":321,"../../utils/func":322,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],209:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = mathApi;

var _utilsNative = require("../../utils/native");

var constants = ["E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"];
var methods = ["abs", "acos", "asin", "atan", "atan2", "ceil", "cos", "exp", "floor", "log", "max", "min", "pow", "random", "round", "sin", "sqrt", "tan"];

function mathApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var mathClass = objectFactory.createObject();
	mathClass.className = "Math";

	constants.forEach(function (name) {
		mathClass.define(name, objectFactory.createPrimitive(Math[name]), { configurable: false, enumerable: false, writable: false });
	});

	methods.forEach(function (name) {
		mathClass.define(name, (0, _utilsNative.toNativeFunction)(env, Math[name], "Math." + name));
	});

	globalObject.define("Math", mathClass);
}

module.exports = exports["default"];
},{"../../utils/native":323}],210:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = numberApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var constants = ["MAX_VALUE", "MIN_VALUE", "NaN", "NEGATIVE_INFINITY", "POSITIVE_INFINITY"];
var protoMethods = ["toExponential", "toPrecision", "toLocaleString"];

function numberApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Number";
	proto.value = 0;

	var numberClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(obj) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(obj, "number");

				case 2:
					context$2$0.t0 = context$2$0.sent;
					numberValue = Number(context$2$0.t0);

					if (!this.isNew) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, numberValue));

				case 6:
					return context$2$0.abrupt("return", objectFactory.create("Number", numberValue));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	proto.define("toString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(radix) {
		var radixValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.toString");

					radixValue = 10;

					if (!radix) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(radix, "number");

				case 5:
					radixValue = context$2$0.sent;

					if (!(radixValue < 2 || radixValue > 36)) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new RangeError("toString() radix argument must be between 2 and 36")));

				case 8:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(this.node.value == null ? "0" : this.node.value.toString(radixValue)));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toString"));

	proto.define("toFixed", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(fractionDigits) {
		var digits;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.toFixed");

					digits = 0;

					if (!fractionDigits) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toNumber)(fractionDigits);

				case 5:
					digits = context$2$0.sent;

				case 6:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Number.prototype.toFixed.call(this.node.value, digits)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toFixed"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value == null ? 0 : this.node.value);
	}, 0, "Number.prototype.valueOf"));

	constants.forEach(function (name) {
		numberClass.define(name, objectFactory.createPrimitive(Number[name]), { configurable: false, enumerable: false, writable: false });
	});

	protoMethods.forEach(function (name) {
		var fn = Number.prototype[name];
		if (fn) {
			(function () {
				var methodName = "Number.prototype." + name;
				proto.define(name, objectFactory.createBuiltInFunction(function () {
					contracts.assertIsNotGeneric(this.node, "Number", methodName);
					return objectFactory.createPrimitive(fn.call(this.node.value));
				}, fn.length, methodName));
			})();
		}
	});

	globalObject.define("Number", numberClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":321,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],211:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.defineProperty = defineProperty;
exports.getOwnPropertyDescriptor = getOwnPropertyDescriptor;
exports["default"] = objectApi;
var marked0$0 = [defineProperty, getOwnPropertyDescriptor].map(_regeneratorRuntime.mark);

var _typesObjectType = require("../../types/object-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

function defineProperty(env, obj, key, descriptor) {
	var throwOnError = arguments.length <= 4 || arguments[4] === undefined ? true : arguments[4];
	var stringValue, options;
	return _regeneratorRuntime.wrap(function defineProperty$(context$1$0) {
		var _this2 = this;

		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (contracts.isObject(descriptor)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return (0, _utilsNative.toString)(descriptor);

			case 3:
				stringValue = context$1$0.sent;
				throw new TypeError("Property description must be an object: " + stringValue);

			case 5:
				options = {};

				if (!descriptor) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(_regeneratorRuntime.mark(function callee$1$0() {
					var hasValue, hasGetter, hasSetter, currentScope;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						var _this = this;

						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								hasValue = descriptor.has("value");
								hasGetter = descriptor.has("get");
								hasSetter = descriptor.has("set");

								if (!((hasValue || descriptor.has("writable")) && (hasGetter || hasSetter))) {
									context$2$0.next = 5;
									break;
								}

								throw new TypeError("Invalid property. A property cannot both have accessors and be writable or have a value");

							case 5:

								["writable", "enumerable", "configurable"].forEach(function (prop) {
									if (descriptor.has(prop)) {
										var attrValue = descriptor.getValue(prop);
										options[prop] = (0, _utilsNative.toBoolean)(attrValue);
									}
								});

								currentScope = env.current.scope;

								if (!hasGetter) {
									context$2$0.next = 9;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var getter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												getter = descriptor.getValue("get") || _typesPrimitiveType.UNDEFINED;

												if (!(getter.isPrimitive && getter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.get = options.getter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(getter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(getter);

											case 8:
												stringValue = context$3$0.sent;
												throw new TypeError("Getter must be a function: " + stringValue);

											case 10:

												options.get = getter;
												options.getter = _regeneratorRuntime.mark(function callee$3$0() {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = getter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return getter.call(thisArg, []) || _typesPrimitiveType.UNDEFINED;

																			case 2:
																				return context$5$0.abrupt("return", context$5$0.sent);

																			case 3:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t0", 9);

							case 9:
								if (!hasSetter) {
									context$2$0.next = 11;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var setter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												setter = descriptor.getValue("set") || _typesPrimitiveType.UNDEFINED;

												if (!(setter.isPrimitive && setter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.set = options.setter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(setter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(setter);

											case 8:
												stringValue = context$3$0.sent;
												throw new TypeError("Setter must be a function: " + stringValue);

											case 10:

												options.set = setter;
												options.setter = _regeneratorRuntime.mark(function callee$3$0(value) {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = setter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return (0, _utilsFunc.execute)(env, setter, [value], thisArg, setter.node);

																			case 2:
																				return context$5$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

																			case 3:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t1", 11);

							case 11:

								if (hasValue) {
									options.value = descriptor.getValue("value") || _typesPrimitiveType.UNDEFINED;
								}

							case 12:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, _this2);
				})(), "t0", 8);

			case 8:
				return context$1$0.abrupt("return", obj.defineOwnProperty(key, options, throwOnError, env));

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function getOwnPropertyDescriptor(env, target, propertyKey) {
	var key, descriptor, result;
	return _regeneratorRuntime.wrap(function getOwnPropertyDescriptor$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsNative.toPropertyKey)(propertyKey);

			case 2:
				key = context$1$0.sent;
				descriptor = target.getOwnProperty(key);

				if (!descriptor) {
					context$1$0.next = 10;
					break;
				}

				result = env.objectFactory.createObject();

				if (descriptor.dataProperty) {
					result.setValue("value", descriptor.value, false, env);
					result.setValue("writable", env.objectFactory.createPrimitive(descriptor.writable), false, env);
				} else {
					result.setValue("get", descriptor.get || _typesPrimitiveType.UNDEFINED, false, env);
					result.setValue("set", descriptor.set || _typesPrimitiveType.UNDEFINED, false, env);
				}

				result.setValue("enumerable", env.objectFactory.createPrimitive(descriptor.enumerable), false, env);
				result.setValue("configurable", env.objectFactory.createPrimitive(descriptor.configurable), false, env);
				return context$1$0.abrupt("return", result);

			case 10:
				return context$1$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function objectApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	function confirmObject(obj, methodName) {
		if (contracts.isObject(obj)) {
			return true;
		}

		if (env.options.ecmaVersion > 5) {
			return false;
		}

		throw new TypeError(methodName + " called on non-object");
	}

	var proto = new _typesObjectType.ObjectType();
	var objectClass = objectFactory.createFunction(function (value) {
		if (value) {
			if (value.isPrimitive) {
				if (value.value == null) {
					return objectFactory.createObject();
				}

				var objectWrapper = objectFactory.createPrimitive(value.value);
				objectWrapper.type = "object";
				objectWrapper.isPrimitive = false;
				return objectWrapper;
			}

			if (value.isSymbol) {
				// should return a new symbol instance
				return objectFactory.create("Symbol", value.description);
			}

			// if an object is passed in just return
			return value;
		}

		return objectFactory.createObject();
	}, proto, { configurable: false, enumerable: false, writable: false });

	proto.define("hasOwnProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var k;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Object.prototype.hasOwnProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(key);

				case 3:
					k = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(this.node.owns(k)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.prototype.hasOwnProperty"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		return (0, _utilsNative.toObject)(env, this.node, true);
	}, 0, "Object.prototype.valueOf"));

	var toStringFunc = objectFactory.createBuiltInFunction(function () {
		var className = this.node ? this.node.className : "Undefined";
		return objectFactory.createPrimitive("[object " + className + "]");
	}, 0, "Object.prototype.toString");

	// Object.prototype.toString === Object.prototype.toLocaleString
	proto.define("toString", toStringFunc);
	proto.define("toLocaleString", toStringFunc);

	proto.define("isPrototypeOf", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsNotNullOrUndefined(this.node, "Object.isPrototypeOf");

		var current = obj;
		while (current) {
			if (this.node === current) {
				return objectFactory.createPrimitive(true);
			}

			current = current.getPrototype();
		}

		return objectFactory.createPrimitive(false);
	}, 1, "Object.isPrototypeOf"));

	proto.define("propertyIsEnumerable", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var k, descriptor;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Object.propertyIsEnumerable");

					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(key);

				case 3:
					k = context$2$0.sent;
					descriptor = this.node.getOwnProperty(k);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(!!(descriptor && descriptor.enumerable)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.propertyIsEnumerable"));

	objectClass.define("create", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(parent, descriptors) {
		var stringValue, obj, prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(parent && parent.isPrimitive && parent.value !== null)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(parent);

				case 3:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", this.raise(new TypeError("Object prototype may only be an Object or null: " + stringValue)));

				case 5:
					if (!(descriptors && descriptors.isPrimitive && descriptors.value === null)) {
						context$2$0.next = 7;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Cannot convert null or undefined to object")));

				case 7:
					obj = objectFactory.createObject();

					if (parent) {
						obj.setPrototype(parent);
					}

					if (!descriptors) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 11:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 18;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.next = 16;
					return defineProperty(env, obj, prop, descriptors.getValue(prop));

				case 16:
					context$2$0.next = 11;
					break;

				case 18:
					return context$2$0.abrupt("return", obj);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.create"));

	objectClass.define("defineProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, propertyKey, descriptor) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(obj, "Object.defineProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					context$2$0.next = 6;
					return defineProperty(env, obj, key, descriptor);

				case 6:
					return context$2$0.abrupt("return", obj);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Object.defineProperty"));

	objectClass.define("defineProperties", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, descriptors) {
		var prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(obj, "Object.defineProperties");
					contracts.assertArgIsNotNullOrUndefined(descriptors);

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 3:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 10;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 8;
					return defineProperty(env, obj, prop, descriptors.getValue(prop));

				case 8:
					context$2$0.next = 3;
					break;

				case 10:
					return context$2$0.abrupt("return", obj);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.defineProperties"));

	objectClass.define("getOwnPropertyDescriptor", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, key) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(obj, "Object.getOwnPropertyDescriptor");
					context$2$0.next = 3;
					return getOwnPropertyDescriptor(env, obj, key);

				case 3:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.getOwnPropertyDescriptor"));

	objectClass.define("keys", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj);

		var arr = objectFactory.create("Array");
		var index = 0;

		obj.getOwnPropertyKeys().forEach(function (key) {
			if (typeof key === "string") {
				var propInfo = obj.getProperty(key);
				if (propInfo && propInfo.enumerable) {
					arr.setValue(index++, objectFactory.createPrimitive(key));
				}
			}
		});

		return arr;
	}, 1, "Object.keys"));

	objectClass.define("getOwnPropertyNames", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.getOwnPropertyNames");

		var arr = objectFactory.create("Array");
		obj.getOwnPropertyKeys().forEach(function (name, index) {
			arr.setValue(index, objectFactory.createPrimitive(name));
		});

		return arr;
	}, 1, "Object.getOwnPropertyNames"));

	objectClass.define("getPrototypeOf", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.getPrototypeOf")) {
			obj = (0, _utilsNative.toObject)(env, obj, true);
		}

		var objProto = obj.getPrototype();
		return objProto || _typesPrimitiveType.NULL;
	}, 1, "Object.getPrototypeOf"));

	objectClass.define("freeze", objectFactory.createBuiltInFunction(function (obj) {
		if (confirmObject(obj, "Object.freeze")) {
			obj.freeze();
		}

		return obj;
	}, 1, "Object.freeze"));

	objectClass.define("isFrozen", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.isFrozen")) {
			return objectFactory.createPrimitive(true);
		}

		if (obj.isPrimitive) {
			return objectFactory.createPrimitive(true);
		}

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].writable || obj.properties[prop].configurable) {
					return objectFactory.createPrimitive(false);
				}
			}
		}

		return objectFactory.createPrimitive(!obj.extensible);
	}, 1, "Object.isFrozen"));

	objectClass.define("preventExtensions", objectFactory.createBuiltInFunction(function (obj) {
		if (confirmObject(obj, "Object.preventExtensions")) {
			obj.preventExtensions();
		}

		return obj;
	}, 1, "Object.preventExtensions"));

	objectClass.define("isExtensible", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.isExtensible")) {
			return objectFactory.createPrimitive(false);
		}

		return objectFactory.createPrimitive(obj.isExtensible());
	}, 1, "Object.isExtensible"));

	objectClass.define("seal", objectFactory.createBuiltInFunction(function (obj) {
		if (confirmObject(obj, "Object.seal")) {
			obj.seal();
		}

		return obj;
	}, 1, "Object.seal"));

	objectClass.define("isSealed", objectFactory.createBuiltInFunction(function (obj) {
		if (!confirmObject(obj, "Object.isSealed")) {
			return objectFactory.createPrimitive(true);
		}

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].configurable) {
					return objectFactory.createPrimitive(false);
				}
			}
		}

		return objectFactory.createPrimitive(!obj.extensible);
	}, 1, "Object.isSealed"));

	// function is an object - make sure that it is in the prototype chain
	globalObject.getValue("Function").getPrototype().setPrototype(proto);
	globalObject.define("Object", objectClass);
}

// we only keep a copy of the original getter/setter for use with `getOwnPropertyDescriptor`

// let getResult = yield call(env, getter, getter.node.params, [], thisArg, getter.node);
// return getResult && getResult.exit ? getResult.result.getValue() : UNDEFINED;
},{"../../types/object-type":311,"../../types/primitive-type":312,"../../utils/contracts":321,"../../utils/func":322,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],212:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = regexApi;

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function regexApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "RegExp";

	var regexClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(pattern, flags) {
		var patternString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(pattern && pattern.className === "RegExp")) {
						context$2$0.next = 4;
						break;
					}

					if (!contracts.isUndefined(flags)) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", pattern);

				case 3:
					throw new TypeError("Cannot supply flags when constructing one RegExp from another");

				case 4:
					if (!contracts.isUndefined(pattern)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = "";
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(pattern);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					patternString = context$2$0.t0;

					if (!contracts.isUndefined(flags)) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.t1 = "";
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(flags);

				case 18:
					context$2$0.t1 = context$2$0.sent;

				case 19:
					flags = context$2$0.t1;
					return context$2$0.abrupt("return", objectFactory.create("RegExp", new RegExp(patternString, flags)));

				case 21:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	proto.define("test", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
		var stringValue, testValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(str);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInt32)(this.node.getValue("lastIndex"));

				case 5:
					this.node.source.lastIndex = context$2$0.sent;
					testValue = this.node.source.test(stringValue);

					this.node.setValue("lastIndex", objectFactory.createPrimitive(this.node.source.lastIndex), true, env);

					return context$2$0.abrupt("return", objectFactory.createPrimitive(testValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "RegExp.prototype.test"));

	proto.define("exec", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
		var stringValue, match, arr, i, ln;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(str);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInt32)(this.node.getValue("lastIndex"));

				case 5:
					this.node.source.lastIndex = context$2$0.sent;
					match = this.node.source.exec(stringValue);

					// update the last index from the underlying regex
					this.node.setValue("lastIndex", objectFactory.createPrimitive(this.node.source.lastIndex), true, env);

					if (!match) {
						context$2$0.next = 14;
						break;
					}

					arr = objectFactory.create("Array");

					for (i = 0, ln = match.length; i < ln; i++) {
						arr.setValue(i, objectFactory.createPrimitive(match[i]), true, env);
					}

					// extra properties are added to the array
					arr.setValue("index", objectFactory.createPrimitive(match.index), false, env);
					arr.setValue("input", objectFactory.createPrimitive(match.input), false, env);
					return context$2$0.abrupt("return", arr);

				case 14:
					return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "RegExp.prototype.exec"));

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		return objectFactory.createPrimitive(String(this.node.source));
	}, 0, "RegExp.prototype.toString"));

	proto.define("compile", (0, _utilsNative.toNativeFunction)(env, RegExp.prototype.compile, "RegExp.prototype.compile"));
	proto.defineOwnProperty("lastIndex", { value: objectFactory.createPrimitive(0), writable: true });

	// ["global", "ignoreCase", "multiline", "source"].forEach(name => {
	// 	proto.defineOwnProperty(name, { value: objectFactory.createPrimitive(RegExp.prototype[name]) });
	// });

	["source", "global", "ignoreCase", "multiline"].forEach(function (key) {
		var source = RegExp.prototype;
		var getter = function getter() {
			return objectFactory.createPrimitive(source[key]);
		};
		var getterFunc = objectFactory.createGetter(getter, key);

		proto.defineOwnProperty(key, {
			getter: getter,
			get: getterFunc,
			configurable: true
		});
	});

	globalObject.define("RegExp", regexClass);
}

module.exports = exports["default"];

// update underlying regex in case the index was manually updated

// get match from underlying regex
},{"../../types/primitive-type":312,"../../utils/contracts":321,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],213:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = stringApi;

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsAsync = require("../../utils/async");

var _typesSymbolType = require("../../types/symbol-type");

var protoMethods = ["charAt", "charCodeAt", "indexOf", "lastIndexOf", "localeCompare", "substr", "toLocaleLowerCase", "toLocaleUpperCase", "toLowerCase", "toUpperCase"];
var slice = Array.prototype.slice;

function stringApi(env) {
	var marked1$0 = [getString].map(_regeneratorRuntime.mark);

	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	function getString(value, isNew) {
		return _regeneratorRuntime.wrap(function getString$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (value) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", "");

				case 2:
					if (!(!isNew && value.isSymbol)) {
						context$2$0.next = 4;
						break;
					}

					return context$2$0.abrupt("return", "Symbol(" + value.description + ")");

				case 4:
					context$2$0.next = 6;
					return (0, _utilsNative.toString)(value.getValue());

				case 6:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	function getMethod(obj, key) {
		var propInfo = obj.getProperty(key);
		if (!propInfo) {
			return null;
		}

		var method = propInfo.getValue();
		if (method.type !== "function") {
			throw new TypeError(key + " is not a method");
		}

		return method;
	}

	var proto = objectFactory.createObject();

	// prototype can be coerced into an empty string
	proto.value = "";
	proto.className = "String";
	proto.defineOwnProperty("length", { value: objectFactory.createPrimitive(0) });

	var stringClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return getString(value, this.isNew);

				case 2:
					stringValue = context$2$0.sent;

					if (!this.isNew) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, stringValue));

				case 5:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	proto.define("search", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, underlyingRegex;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;
					underlyingRegex = undefined;

					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					if (!(regex.className === "RegExp")) {
						context$2$0.next = 9;
						break;
					}

					underlyingRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 9:
					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toString)(regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					underlyingRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.search(underlyingRegex)));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.search"));

	proto.define("substring", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var value, length;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotConstructor(this, "substring");

					context$2$0.next = 3;
					return (0, _utilsNative.toPrimitive)(this.node, "string");

				case 3:
					value = context$2$0.sent;
					length = value.length;
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(start);

				case 7:
					start = context$2$0.sent;

					if (!contracts.isNullOrUndefined(end)) {
						context$2$0.next = 12;
						break;
					}

					context$2$0.t0 = length;
					context$2$0.next = 15;
					break;

				case 12:
					context$2$0.next = 14;
					return (0, _utilsNative.toInteger)(end);

				case 14:
					context$2$0.t0 = context$2$0.sent;

				case 15:
					end = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(value.substring(start, end)));

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.substring"));

	protoMethods.forEach(function (name) {
		var fn = String.prototype[name];
		if (fn) {
			proto.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
				var stringValue,
				    args,
				    args$3$0 = arguments;
				return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
					while (1) switch (context$3$0.prev = context$3$0.next) {
						case 0:
							context$3$0.next = 2;
							return (0, _utilsNative.toString)(this.node);

						case 2:
							stringValue = context$3$0.sent;
							return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
								return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
									while (1) switch (context$4$0.prev = context$4$0.next) {
										case 0:
											context$4$0.next = 2;
											return (0, _utilsNative.toPrimitive)(arg);

										case 2:
											return context$4$0.abrupt("return", context$4$0.sent);

										case 3:
										case "end":
											return context$4$0.stop();
									}
								}, callee$3$0, this);
							})), "t0", 4);

						case 4:
							args = context$3$0.t0;
							return context$3$0.abrupt("return", objectFactory.createPrimitive(String.prototype[name].apply(stringValue, args)));

						case 6:
						case "end":
							return context$3$0.stop();
					}
				}, callee$2$0, this);
			}), String.prototype[name].length, "String.prototype." + name));
		}
	});

	stringClass.define("fromCharCode", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, charCodes = Array(_len), _key = 0; _key < _len; _key++) {
			charCodes[_key] = arguments[_key];
		}

		var args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(charCodes, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(arg);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(String.fromCharCode.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.fromCharCode"));

	proto.define("slice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var stringValue, startValue, endValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(start);

				case 5:
					startValue = context$2$0.sent;
					endValue = undefined;

					if (contracts.isNullOrUndefined(end)) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(end);

				case 10:
					endValue = context$2$0.sent;

				case 11:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.slice(startValue, endValue)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.slice"));

	proto.define("split", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(separator, limit) {
		var stringValue, limitValue, arr, separatorValue, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;

					separator = separator && separator.getValue();
					limit = limit && limit.getValue();

					if (!contracts.isUndefined(limit)) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.t0 = undefined;
					context$2$0.next = 12;
					break;

				case 9:
					context$2$0.next = 11;
					return (0, _utilsNative.toUInt32)(env, limit);

				case 11:
					context$2$0.t0 = context$2$0.sent;

				case 12:
					limitValue = context$2$0.t0;
					arr = objectFactory.create("Array");

					if (!contracts.isUndefined(separator)) {
						context$2$0.next = 18;
						break;
					}

					arr.setValue(0, objectFactory.createPrimitive(stringValue));
					context$2$0.next = 28;
					break;

				case 18:
					separatorValue = undefined;

					if (!(separator.className === "RegExp")) {
						context$2$0.next = 23;
						break;
					}

					separatorValue = separator.source;
					context$2$0.next = 26;
					break;

				case 23:
					context$2$0.next = 25;
					return (0, _utilsNative.toString)(separator);

				case 25:
					separatorValue = context$2$0.sent;

				case 26:
					result = stringValue.split(separatorValue, limitValue);

					result.forEach(function (value, index) {
						arr.setValue(index, objectFactory.createPrimitive(value));
					});

				case 28:
					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.split"));

	proto.define("replace", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regexOrSubstr, substrOrFn) {
		var replaceKey, replaceMethod, stringValue, matcher, replacer;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "String.prototype.replace");

					replaceKey = _typesSymbolType.SymbolType.getByKey("replace");

					if (!(replaceKey && !contracts.isNullOrUndefined(regexOrSubstr))) {
						context$2$0.next = 8;
						break;
					}

					replaceMethod = getMethod(regexOrSubstr, replaceKey);

					if (!replaceMethod) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 7;
					return replaceMethod.call(regexOrSubstr, [this.node, substrOrFn]);

				case 7:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(this.node);

				case 10:
					stringValue = context$2$0.sent;
					matcher = undefined;

					if (!(regexOrSubstr && regexOrSubstr.className === "RegExp")) {
						context$2$0.next = 16;
						break;
					}

					matcher = regexOrSubstr.source;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(regexOrSubstr);

				case 18:
					matcher = context$2$0.sent;

				case 19:
					replacer = undefined;

					if (!(substrOrFn && substrOrFn.type === "function")) {
						context$2$0.next = 24;
						break;
					}

					(function () {
						var callee = substrOrFn.native ? substrOrFn : substrOrFn.node;

						replacer = function () {
							var thisArg = substrOrFn.isStrict() || substrOrFn.isStrict() ? _typesPrimitiveType.UNDEFINED : globalObject;
							var args = slice.call(arguments).map(function (arg) {
								return objectFactory.createPrimitive(arg);
							});
							var replacedValue = (0, _utilsAsync.exhaust)((0, _utilsFunc.execute)(env, substrOrFn, args, thisArg, callee));
							return replacedValue ? (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(replacedValue)) : undefined;
						};
					})();

					context$2$0.next = 27;
					break;

				case 24:
					context$2$0.next = 26;
					return (0, _utilsNative.toString)(substrOrFn);

				case 26:
					replacer = context$2$0.sent;

				case 27:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.replace(matcher, replacer)));

				case 28:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.replace"));

	proto.define("match", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, actualRegex, match, _ret2;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;
					actualRegex = undefined;

					if (!(regex && regex.className === "RegExp")) {
						context$2$0.next = 8;
						break;
					}

					actualRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 8:
					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					actualRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					match = stringValue.match(actualRegex);

					if (!match) {
						context$2$0.next = 19;
						break;
					}

					_ret2 = (function () {
						var matches = objectFactory.create("Array");

						match.forEach(function (value, index) {
							matches.setValue(index, objectFactory.createPrimitive(value), false, env);
						});

						matches.setValue("index", objectFactory.createPrimitive(match.index), false, env);
						matches.setValue("input", objectFactory.createPrimitive(match.input), false, env);
						return {
							v: matches
						};
					})();

					if (!(typeof _ret2 === "object")) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", _ret2.v);

				case 19:
					return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.match"));

	proto.define("concat", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
			args[_key2] = arguments[_key2];
		}

		var stringValue, values;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "String.prototype.concat");

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					values = [stringValue];
					context$2$0.t0 = values;
					context$2$0.next = 8;
					return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toString)(arg);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 8:
					context$2$0.t1 = context$2$0.sent;
					values = context$2$0.t0.concat.call(context$2$0.t0, context$2$0.t1);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(values.join("")));

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.concat"));

	proto.define("trim", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "String.prototype.trim");

					context$2$0.next = 3;
					return (0, _utilsNative.toPrimitive)(this.node, "string");

				case 3:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.trim()));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "String.prototype.trim"));

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "String", "String.prototype.toString");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "String.prototype.toString"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "String", "String.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "String.prototype.valueOf"));

	globalObject.define("String", stringClass);
}

module.exports = exports["default"];

// called as new
},{"../../types/primitive-type":312,"../../types/symbol-type":318,"../../utils/async":320,"../../utils/contracts":321,"../../utils/func":322,"../../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],214:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.normalizeIndex = normalizeIndex;
exports.executeCallback = executeCallback;
var marked0$0 = [executeCallback].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function normalizeIndex(index, length) {
	if (index < 0) {
		return Math.max(length + index, 0);
	}

	return Math.min(index, length);
}

function executeCallback(env, callback, entry, thisArg, arr) {
	var scope, args;
	return _regeneratorRuntime.wrap(function executeCallback$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!thisArg) {
					thisArg = callback.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;
				}

				scope = env.createExecutionScope(callback, thisArg);

				scope.init(callback.node.body);

				args = [entry.value, env.objectFactory.createPrimitive(entry.key), arr];
				context$1$0.next = 6;
				return callback.call(thisArg, args) || _typesPrimitiveType.UNDEFINED;

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

// yield scope.loadArgs(callback.node.params, args, callback);

// return yield scope.use(function* () {
// 	let executionResult = yield env.createExecutionContext(callback.node.body, callback.node).execute();
// 	if (executionResult && executionResult.exit) {
// 		return executionResult.result || UNDEFINED;
// 	}

// 	return UNDEFINED;
// });
},{"../types/primitive-type":312,"babel-runtime/regenerator":31}],215:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("copyWithin", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, start, end) {
		var arr, length, to, from, final, count, dir, current;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(target);

				case 6:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.t1 = length;
					to = (0, _arrayHelpers.normalizeIndex)(context$2$0.t0, context$2$0.t1);
					context$2$0.next = 11;
					return (0, _utilsNative.toInteger)(start);

				case 11:
					context$2$0.t2 = context$2$0.sent;
					context$2$0.t3 = length;
					from = (0, _arrayHelpers.normalizeIndex)(context$2$0.t2, context$2$0.t3);

					if (!(0, _utilsContracts.isUndefined)(end)) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t4 = length;
					context$2$0.next = 23;
					break;

				case 18:
					context$2$0.next = 20;
					return (0, _utilsNative.toInteger)(end);

				case 20:
					context$2$0.t5 = context$2$0.sent;
					context$2$0.t6 = length;
					context$2$0.t4 = (0, _arrayHelpers.normalizeIndex)(context$2$0.t5, context$2$0.t6);

				case 23:
					final = context$2$0.t4;
					count = Math.min(final - from, length - to);
					dir = 1;

					if (from < to && to < from + count) {
						dir = -1;
						from = from + count - 1;
						to = to + count - 1;
					}

					while (count > 0) {
						current = arr.getProperty(from);

						if (current) {
							arr.setValue(to, current.getValue(), true, env);
						} else {
							arr.deleteProperty(to);
						}

						from += dir;
						to += dir;
						count--;
					}

					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.copyWithin"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"./array-helpers":214,"babel-runtime/regenerator":31}],216:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("fill", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, start, end) {
		var arr, length, k, final;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					if (!start) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(start);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					k = context$2$0.t0;

					if (!(0, _utilsContracts.isUndefined)(end)) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.t1 = length;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toInteger)(end);

				case 18:
					context$2$0.t1 = context$2$0.sent;

				case 19:
					final = context$2$0.t1;

					k = (0, _arrayHelpers.normalizeIndex)(k, length);
					final = (0, _arrayHelpers.normalizeIndex)(final, length);

					while (k < final) {
						arr.setValue(k++, value, true, env);
					}

					return context$2$0.abrupt("return", arr);

				case 24:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.fill"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"./array-helpers":214,"babel-runtime/regenerator":31}],217:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsNative = require("../utils/native");

var _typesPrimitiveType = require("../types/primitive-type");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("findIndex", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var arr, length, i, propInfo, value, passed;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsFunction(predicate, "predicate");

					i = 0;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 18;
						break;
					}

					propInfo = arr.getProperty(i);
					value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 11;
					return (0, _arrayHelpers.executeCallback)(env, predicate, { key: i, value: value }, thisArg, arr);

				case 11:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(i));

				case 15:

					i++;
					context$2$0.next = 6;
					break;

				case 18:
					return context$2$0.abrupt("return", factory.createPrimitive(-1));

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.findIndex"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../utils/contracts":321,"../utils/native":323,"./array-helpers":214,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],218:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("find", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var arr, length, i, propInfo, value, passed;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(predicate, "predicate");

					// for some reason the spec for the find methods calls empty array slots
					// how that is useful, beats me
					i = 0;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 18;
						break;
					}

					propInfo = arr.getProperty(i);
					value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 11;
					return (0, _arrayHelpers.executeCallback)(env, predicate, { key: i, value: value }, thisArg, arr);

				case 11:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", value);

				case 15:

					i++;
					context$2$0.next = 6;
					break;

				case 18:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.find"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../utils/contracts":321,"../utils/native":323,"./array-helpers":214,"babel-runtime/regenerator":31}],219:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _typesSymbolType = require("../types/symbol-type");

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _iterators = require("../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [createArray].map(_regeneratorRuntime.mark);

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");

	function createArray(ctor, source) {
		var args, hasIterator, _length;

		return _regeneratorRuntime.wrap(function createArray$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(ctor === $target || !(0, _utilsContracts.isConstructor)(ctor))) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createArray());

				case 2:
					args = [];
					hasIterator = source.has(iteratorKey);

					if (hasIterator) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toLength)(source);

				case 7:
					_length = context$2$0.sent;

					args.push(_length);

				case 9:
					context$2$0.next = 11;
					return ctor.construct(ctor, args);

				case 11:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	$target.define("from", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(items, mapFn, thisArg) {
		var mapper, arr, it, index, done, current, _it$next, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					thisArg = thisArg || _typesPrimitiveType.UNDEFINED;

					mapper = undefined;

					if ((0, _utilsContracts.isUndefined)(mapFn)) {
						mapper = function (v) {
							return v;
						};
					} else {
						(0, _utilsContracts.assertIsFunction)(mapFn, "mapFn");
						mapper = _regeneratorRuntime.mark(function callee$2$0(v, i) {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return mapFn.call(thisArg, [v, factory.createPrimitive(i)]);

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						});
					}

					context$2$0.next = 5;
					return createArray(this.node, items);

				case 5:
					arr = context$2$0.sent;
					it = _iterators2["default"].getIterator(env, items);
					index = 0;
					done = false;

				case 9:
					if (done) {
						context$2$0.next = 28;
						break;
					}

					context$2$0.prev = 10;
					current = undefined;
					_it$next = it.next();
					done = _it$next.done;
					current = _it$next.value;

					if (done) {
						context$2$0.next = 20;
						break;
					}

					context$2$0.next = 18;
					return mapper(current.value || _typesPrimitiveType.UNDEFINED, index);

				case 18:
					value = context$2$0.sent;

					arr.setValue(index++, value);

				case 20:
					context$2$0.next = 26;
					break;

				case 22:
					context$2$0.prev = 22;
					context$2$0.t0 = context$2$0["catch"](10);

					if ("return" in it) {
						it["return"]();
					}

					throw context$2$0.t0;

				case 26:
					context$2$0.next = 9;
					break;

				case 28:

					arr.setValue("length", factory.createPrimitive(index), true, env);
					return context$2$0.abrupt("return", arr);

				case 30:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[10, 22]]);
	}), 1, "Array.from"));
};

module.exports = exports["default"];
},{"../iterators/":295,"../types/primitive-type":312,"../types/symbol-type":318,"../utils/contracts":321,"../utils/native":323,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/regenerator":31}],220:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _typesSymbolType = require("../types/symbol-type");

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	var iteratorProto = factory.createObject();
	iteratorProto.className = "Array Iterator";

	iteratorProto.define("next", factory.createBuiltInFunction(function () {
		var result = this.node.advance();
		if (result.value) {
			return result.value;
		}

		return factory.createIteratorResult({ done: result.done });
	}, 0, "ArrayIterator.prototype.next"));

	function createIteratorValue(arr, index, kind) {
		var key = undefined;
		if (kind !== "value") {
			key = factory.createPrimitive(index);
			if (kind === "key") {
				return key;
			}
		}

		var propInfo = arr.getProperty(index);
		var value = _typesPrimitiveType.UNDEFINED;

		if (propInfo) {
			value = propInfo.getValue();
		}

		if (kind === "value") {
			return value;
		}

		return factory.createArray([key, value]);
	}

	function getIterator(arr, kind) {
		var done, index, _length, value;

		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					done = false;
					index = 0;

				case 2:
					if (done) {
						context$2$0.next = 11;
						break;
					}

					_length = (0, _utilsAsync.exhaust)((0, _utilsNative.toLength)(arr));
					value = _typesPrimitiveType.UNDEFINED;

					if (index >= _length) {
						done = true;
					} else {
						value = createIteratorValue(arr, index, kind);
					}

					context$2$0.next = 8;
					return factory.createIteratorResult({ value: value, done: done });

				case 8:
					index++;
					context$2$0.next = 2;
					break;

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	$target.define("keys", factory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr, "key");
		return factory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.keys"));

	$target.define("entries", factory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr);
		return factory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.entries"));

	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");
	iteratorProto.define(stringTagKey, factory.createPrimitive("Array Iterator"), { writable: false });

	var iteratorFunc = factory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr, "value");
		return factory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.values");

	$target.define("values", iteratorFunc);

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	$target.define(iteratorKey, iteratorFunc);
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../types/symbol-type":318,"../utils/async":320,"../utils/native":323,"babel-runtime/regenerator":31}],221:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _arrayCopyWithin = require("./array.copy-within");

var _arrayCopyWithin2 = _interopRequireDefault(_arrayCopyWithin);

var _arrayFill = require("./array.fill");

var _arrayFill2 = _interopRequireDefault(_arrayFill);

var _arrayFind = require("./array.find");

var _arrayFind2 = _interopRequireDefault(_arrayFind);

var _arrayFindIndex = require("./array.find-index");

var _arrayFindIndex2 = _interopRequireDefault(_arrayFindIndex);

var _arrayFrom = require("./array.from");

var _arrayFrom2 = _interopRequireDefault(_arrayFrom);

var _arrayIterator = require("./array.iterator");

var _arrayIterator2 = _interopRequireDefault(_arrayIterator);

var _arrayOf = require("./array.of");

var _arrayOf2 = _interopRequireDefault(_arrayOf);

exports["default"] = function ($global, env, factory) {
	var arrayClass = $global.getValue("Array");
	var proto = arrayClass.getValue("prototype");

	(0, _arrayFrom2["default"])(arrayClass, env, factory);
	(0, _arrayOf2["default"])(arrayClass, env, factory);

	(0, _arrayCopyWithin2["default"])(proto, env, factory);
	(0, _arrayFill2["default"])(proto, env, factory);
	(0, _arrayFind2["default"])(proto, env, factory);
	(0, _arrayFindIndex2["default"])(proto, env, factory);
	(0, _arrayIterator2["default"])(proto, env, factory);
};

module.exports = exports["default"];
},{"./array.copy-within":215,"./array.fill":216,"./array.find":218,"./array.find-index":217,"./array.from":219,"./array.iterator":220,"./array.of":222,"babel-runtime/helpers/interop-require-default":28}],222:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("of", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var length, lengthValue, arr, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(this.node === $target || !(0, _utilsContracts.isConstructor)(this.node))) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createArray(items));

				case 2:
					length = items.length;
					lengthValue = factory.createPrimitive(length);
					context$2$0.next = 6;
					return this.node.construct(this.node, [lengthValue]);

				case 6:
					arr = context$2$0.sent;
					i = 0;

					while (i < length) {
						arr.defineOwnProperty(i, { value: items[i], configurable: true, enumerable: true, writable: true }, true);
						i++;
					}

					arr.setValue("length", lengthValue);
					return context$2$0.abrupt("return", arr);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.of"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"babel-runtime/regenerator":31}],223:[function(require,module,exports){
"use strict";

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.findIndex = findIndex;

function findIndex(obj, key) {
	var env = obj[_Symbol$for("env")];

	for (var i = 0, _length = obj.data.length; i < _length; i++) {
		var current = obj.data[i];
		if (current) {
			if (env.ops.areSameOrZero(key, current.key)) {
				return i;
			}
		}
	}

	return -1;
}
},{"babel-runtime/core-js/symbol/for":20}],224:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _es5 = require("../es5/");

var _es52 = _interopRequireDefault(_es5);

var _number = require("./number");

var _number2 = _interopRequireDefault(_number);

var _array = require("./array");

var _array2 = _interopRequireDefault(_array);

var _object = require("./object");

var _object2 = _interopRequireDefault(_object);

var _symbol = require("./symbol");

var _symbol2 = _interopRequireDefault(_symbol);

var _string = require("./string");

var _string2 = _interopRequireDefault(_string);

var _proxy = require("./proxy");

var _proxy2 = _interopRequireDefault(_proxy);

var _set = require("./set/");

var _set2 = _interopRequireDefault(_set);

var _map = require("./map");

var _map2 = _interopRequireDefault(_map);

var _math = require("./math");

var _math2 = _interopRequireDefault(_math);

var _reflect = require("./reflect");

var _reflect2 = _interopRequireDefault(_reflect);

var _regex = require("./regex");

var _regex2 = _interopRequireDefault(_regex);

var _typesSymbolType = require("../types/symbol-type");

exports["default"] = function (env) {
	(0, _es52["default"])(env);
	(0, _set2["default"])(env);

	var objectFactory = env.objectFactory;
	var $global = env.global;

	(0, _symbol2["default"])($global, env, objectFactory);
	(0, _object2["default"])($global, env, objectFactory);
	(0, _string2["default"])($global, env, objectFactory);
	(0, _array2["default"])($global, env, objectFactory);
	(0, _number2["default"])($global, env, objectFactory);
	(0, _math2["default"])($global, env, objectFactory);
	(0, _proxy2["default"])($global, env, objectFactory);
	(0, _regex2["default"])($global, env, objectFactory);
	(0, _reflect2["default"])($global, env, objectFactory);
	(0, _map2["default"])($global, env, objectFactory);

	// setup class symbols
	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");
	var speciesKey = _typesSymbolType.SymbolType.getByKey("species");
	["Function", "Number", "Boolean", "Object", "Array", "String", "Date", "RegExp", "JSON", "Error", "Math", "Map"].forEach(function (typeName) {
		var ctor = $global.getValue(typeName);

		var speciesGetter = function speciesGetter() {
			return ctor;
		};
		var speciesGetterFunc = objectFactory.createGetter(speciesGetter, "[Symbol.species]");
		ctor.define(speciesKey, null, { getter: speciesGetter, get: speciesGetterFunc });

		if (ctor.owns("prototype")) {
			var proto = ctor.getValue("prototype");
			proto.define(stringTagKey, objectFactory.createPrimitive(typeName), { writable: false });

			// prototypes in ES6 can't be coerced into primitives
			proto.className = "Object";
		} else {
			ctor.define(stringTagKey, objectFactory.createPrimitive(typeName), { writable: false });
		}
	});

	// update length attributes on built-ins
	var lengthAttr = { configurable: true, enumerable: false, writable: false };
	$global.getValue("Function").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Number").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Boolean").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Object").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Array").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("String").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Date").define("length", objectFactory.createPrimitive(7), lengthAttr);
	$global.getValue("RegExp").define("length", objectFactory.createPrimitive(2), lengthAttr);
	$global.getValue("Map").define("length", objectFactory.createPrimitive(0), lengthAttr);

	var funcProto = $global.getValue("Function").getValue("prototype");

	var thrower = function thrower() {
		throw TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);
	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: false
	};

	funcProto.define("caller", null, prop);
	funcProto.define("arguments", null, prop);
};

module.exports = exports["default"];
},{"../es5/":207,"../types/symbol-type":318,"./array":221,"./map":231,"./math":244,"./number":254,"./object":260,"./proxy":263,"./reflect":274,"./regex":279,"./set/":280,"./string":285,"./symbol":289,"babel-runtime/helpers/interop-require-default":28}],225:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("clear", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.clear");
		this.node.data = [];
	}, 0, "Map.prototype.clear"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],226:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("delete", factory.createBuiltInFunction(function (key) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.delete");

		var data = this.node.data;
		if (data.length > 0) {
			var index = (0, _collectionHelpers.findIndex)(this.node, key);
			if (index >= 0) {
				// leave holes in array
				data[index] = undefined;
				return factory.createPrimitive(true);
			}
		}

		return factory.createPrimitive(false);
	}, 1, "Map.prototype.delete"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"./collection-helpers":223}],227:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("forEach", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var data, index, entry, args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.forEach");
					(0, _utilsContracts.assertIsFunction)(callback, "callback");

					thisArg = thisArg || _typesPrimitiveType.UNDEFINED;
					data = this.node.data;
					index = 0;

				case 5:
					if (!(index < data.length)) {
						context$2$0.next = 13;
						break;
					}

					entry = data[index++];

					if (!entry) {
						context$2$0.next = 11;
						break;
					}

					args = [entry.value, entry.key, this.node];
					context$2$0.next = 11;
					return callback.call(thisArg, args);

				case 11:
					context$2$0.next = 5;
					break;

				case 13:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Map.prototype.forEach"));
};

module.exports = exports["default"];

// length might change during iteration
},{"../types/primitive-type":312,"../utils/contracts":321,"babel-runtime/regenerator":31}],228:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("get", factory.createBuiltInFunction(function (key) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.get");

		var index = (0, _collectionHelpers.findIndex)(this.node, key);
		if (index >= 0) {
			return this.node.data[index].value;
		}

		return _typesPrimitiveType.UNDEFINED;
	}, 1, "Map.prototype.get"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../utils/contracts":321,"./collection-helpers":223}],229:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("has", factory.createBuiltInFunction(function (key) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.has");
		return factory.createPrimitive((0, _collectionHelpers.findIndex)(this.node, key) >= 0);
	}, 1, "Map.prototype.has"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"./collection-helpers":223}],230:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _typesSymbolType = require("../types/symbol-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	function createIteratorValue(entry, kind) {
		if (kind === "key") {
			return entry.key;
		}

		if (kind === "value") {
			return entry.value;
		}

		return factory.createArray([entry.key, entry.value]);
	}

	function getIterator(obj, kind) {
		var done, index, value, current;
		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					done = false;
					index = 0;

				case 2:
					if (done) {
						context$2$0.next = 16;
						break;
					}

					value = undefined;

				case 4:
					if (!(index < obj.data.length)) {
						context$2$0.next = 11;
						break;
					}

					current = obj.data[index++];

					if (!current) {
						context$2$0.next = 9;
						break;
					}

					value = createIteratorValue(current, kind);
					return context$2$0.abrupt("break", 11);

				case 9:
					context$2$0.next = 4;
					break;

				case 11:

					done = !value;
					context$2$0.next = 14;
					return factory.createIteratorResult({ value: value, done: done });

				case 14:
					context$2$0.next = 2;
					break;

				case 16:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	var proto = factory.createObject();
	proto.define(_typesSymbolType.SymbolType.getByKey("toStringTag"), factory.createPrimitive("Map Iterator"), { writable: false });

	$target.define("keys", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.keys");
		var it = getIterator(this.node, "key");
		return factory.createIterator(it, proto);
	}, 0, "Map.prototype.keys"));

	$target.define("values", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.values");
		var it = getIterator(this.node, "value");
		return factory.createIterator(it, proto);
	}, 0, "Map.prototype.values"));

	var iteratorFunc = factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.entries");
		var it = getIterator(this.node);
		return factory.createIterator(it, proto);
	}, 0, "Map.prototype.entries");

	$target.define("entries", iteratorFunc);

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	$target.define(iteratorKey, iteratorFunc);
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../types/symbol-type":318,"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],231:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

var _iterators = require("../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _mapClear = require("./map.clear");

var _mapClear2 = _interopRequireDefault(_mapClear);

var _mapDelete = require("./map.delete");

var _mapDelete2 = _interopRequireDefault(_mapDelete);

var _mapForEach = require("./map.for-each");

var _mapForEach2 = _interopRequireDefault(_mapForEach);

var _mapGet = require("./map.get");

var _mapGet2 = _interopRequireDefault(_mapGet);

var _mapHas = require("./map.has");

var _mapHas2 = _interopRequireDefault(_mapHas);

var _mapSet = require("./map.set");

var _mapSet2 = _interopRequireDefault(_mapSet);

var _mapSize = require("./map.size");

var _mapSize2 = _interopRequireDefault(_mapSize);

var _mapIterator = require("./map.iterator");

var _mapIterator2 = _interopRequireDefault(_mapIterator);

exports["default"] = function ($global, env, factory) {
	var proto = factory.createObject();

	var mapClass = factory.createFunction(_regeneratorRuntime.mark(function callee$1$0(iterable) {
		var instance;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw TypeError("Constructor Map requires 'new'");

				case 2:
					instance = factory.create("Map");

					if ((0, _utilsContracts.isNullOrUndefined)(iterable)) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var setter, it;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									(0, _utilsContracts.assertIsObject)(iterable, "Map");

									setter = instance.getValue("set");

									(0, _utilsContracts.assertIsFunction)(setter, "set");

									it = _iterators2["default"].getIterator(env, iterable);
									context$3$0.next = 6;
									return it.each(_regeneratorRuntime.mark(function callee$3$0(item) {
										var key, value;
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													(0, _utilsContracts.assertIsObject)(item, "Map");

													key = item.getValue("0") || _typesPrimitiveType.UNDEFINED;
													value = item.getValue("1") || _typesPrimitiveType.UNDEFINED;
													context$4$0.next = 5;
													return setter.call(instance, [key, value]);

												case 5:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 6:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 5);

				case 5:
					return context$2$0.abrupt("return", instance);

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { name: "Map", writable: false });

	(0, _mapClear2["default"])(proto, env, factory);
	(0, _mapDelete2["default"])(proto, env, factory);
	(0, _mapForEach2["default"])(proto, env, factory);
	(0, _mapGet2["default"])(proto, env, factory);
	(0, _mapHas2["default"])(proto, env, factory);
	(0, _mapSet2["default"])(proto, env, factory);
	(0, _mapIterator2["default"])(proto, env, factory);
	(0, _mapSize2["default"])(proto, env, factory);

	$global.define("Map", mapClass);
};

module.exports = exports["default"];
},{"../iterators/":295,"../types/primitive-type":312,"../utils/contracts":321,"./map.clear":225,"./map.delete":226,"./map.for-each":227,"./map.get":228,"./map.has":229,"./map.iterator":230,"./map.set":232,"./map.size":233,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/regenerator":31}],232:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("set", factory.createBuiltInFunction(function (key, value) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.set");

		var index = (0, _collectionHelpers.findIndex)(this.node, key);
		if (index >= 0) {
			this.node.data[index].value = value;
			return this.node;
		}

		this.node.data.push({ key: key, value: value });
		return this.node;
	}, 2, "Map.prototype.set"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"./collection-helpers":223}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	var getter = function getter() {
		(0, _utilsContracts.assertIsMap)(this, "Map.prototype.size");
		return factory.createPrimitive(this.data.filter(function (v) {
			return v;
		}).length);
	};

	var getterFunc = factory.createGetter(function () {
		return getter.call(this.node);
	}, "size");

	$target.define("size", null, {
		getter: getter,
		get: getterFunc
	});
};

module.exports = exports["default"];
},{"../utils/contracts":321}],234:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("acosh", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || numberValue < 1) {
			return factory.createPrimitive(NaN);
		}

		if (numberValue === 1) {
			return factory.createPrimitive(0);
		}

		if (numberValue === Infinity) {
			return x;
		}

		var returnValue = Math.log(numberValue + M.sqrt(numberValue * numberValue - 1));
		return factory.createPrimitive(returnValue);
	}, 1, "Math.acosh"));
};

module.exports = exports["default"];
},{}],235:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("asinh", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue)) {
			return factory.createPrimitive(NaN);
		}

		if (numberValue === 0 || !isFinite(numberValue)) {
			return x;
		}

		var returnValue = Math.log(numberValue + Math.sqrt(numberValue * numberValue + 1));
		return factory.createPrimitive(returnValue);
	}, 1, "Math.asinh"));
};

module.exports = exports["default"];
},{}],236:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("atanh", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || numberValue < -1 || numberValue > 1) {
			return factory.createPrimitive(NaN);
		}

		if (numberValue === -1 || numberValue === 1) {
			return factory.createPrimitive(numberValue * Infinity);
		}

		if (numberValue === 0) {
			return x;
		}

		var returnValue = Math.log((1 + numberValue) / (1 - numberValue)) / 2;
		return factory.createPrimitive(returnValue);
	}, 1, "Math.atanh"));
};

module.exports = exports["default"];
},{}],237:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("cbrt", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || numberValue === 0 || !isFinite(numberValue)) {
			return x;
		}

		var sign = numberValue < 0 ? -1 : 1;
		var returnValue = sign * Math.pow(sign * numberValue, 1 / 3);
		return factory.createPrimitive(returnValue);
	}, 1, "Math.cbrt"));
};

module.exports = exports["default"];
},{}],238:[function(require,module,exports){
"use strict";

var _Math$imul = require("babel-runtime/core-js/math/imul")["default"];

var _Math$clz32 = require("babel-runtime/core-js/math/clz32")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	var imul = _Math$imul || function (a, b) {
		var ah = a >>> 16 & 0xffff;
		var al = a & 0xffff;
		var bh = b >>> 16 & 0xffff;
		var bl = b & 0xffff;

		// the shift by 0 fixes the sign on the high part
		// the final |0 converts the unsigned value into a signed value
		return al * bl + (ah * bl + al * bh << 16 >>> 0) | 0;
	};

	var clz32 = _Math$clz32 || (function () {
		var table = [32, 31, 0, 16, 0, 30, 3, 0, 15, 0, 0, 0, 29, 10, 2, 0, 0, 0, 12, 14, 21, 0, 19, 0, 0, 28, 0, 25, 0, 9, 1, 0, 17, 0, 4,, 0, 0, 11, 0, 13, 22, 20, 0, 26, 0, 0, 18, 5, 0, 0, 23, 0, 27, 0, 6, 0, 24, 7, 0, 8, 0, 0, 0];

		// Adapted from an algorithm in Hacker's Delight, page 103.
		return function (v) {
			// 2. Let p be the number of leading zero bits in the 32-bit binary representation of n.
			v |= v >>> 1;
			v |= v >>> 2;
			v |= v >>> 4;
			v |= v >>> 8;
			v |= v >>> 16;
			v = table[imul(v, 0x06EB14F9) >>> 26];

			// Return p.
			return v;
		};
	})();

	$target.define("clz32", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(x) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toUInt32)(x);

				case 2:
					numberValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(clz32(numberValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Math.clz32"));
};

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/core-js/math/clz32":4,"babel-runtime/core-js/math/imul":6,"babel-runtime/regenerator":31}],239:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("cosh", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue)) {
			return factory.createPrimitive(NaN);
		}

		if (!isFinite(numberValue)) {
			return factory.createPrimitive(Infinity);
		}

		if (numberValue === 0) {
			return factory.createPrimitive(1);
		}

		var returnValue = Math.exp(numberValue);
		return factory.createPrimitive(returnValue / 2 + 0.5 / returnValue);
	}, 1, "Math.cosh"));
};

module.exports = exports["default"];
},{}],240:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("expm1", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || numberValue === 0 || numberValue === Infinity) {
			return x;
		}

		if (numberValue === -Infinity) {
			return factory.createPrimitive(-1);
		}

		return factory.createPrimitive(Math.exp(numberValue) - 1);
	}, 1, "Math.expm1"));
};

module.exports = exports["default"];
},{}],241:[function(require,module,exports){
"use strict";

var _Math$fround = require("babel-runtime/core-js/math/fround")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	var fround = _Math$fround;

	if (!fround && typeof Float32Array === "function") {
		fround = (function (array) {
			return function (x) {
				return (array[0] = x, array[0]);
			};
		})(Float32Array(1));
	}

	if (!fround) {
		fround = function (x) {
			return x;
		};
	}

	$target.define("fround", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		return factory.createPrimitive(fround(numberValue));
	}, 1, "Math.fround"));
};

module.exports = exports["default"];
},{"babel-runtime/core-js/math/fround":5}],242:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("hypot", factory.createBuiltInFunction(function () {
		var returnValue = 0;

		for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {
			values[_key] = arguments[_key];
		}

		var nativeValues = values.map(function (x) {
			return x.className === "Number" ? x.toNative() : NaN;
		});
		if (nativeValues.some(function (x) {
			return !isNaN(x) && !isFinite(x);
		})) {
			return factory.createPrimitive(Infinity);
		}

		if (nativeValues.some(function (x) {
			return isNaN(x);
		})) {
			return factory.createPrimitive(NaN);
		}

		for (var i = 0, _length = nativeValues.length; i < _length; i++) {
			returnValue += nativeValues[i] * nativeValues[i];
		}

		return factory.createPrimitive(Math.sqrt(returnValue));
	}, 2, "Math.hypot"));
};

module.exports = exports["default"];
},{}],243:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("imul", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(x, y) {
		var xValue, yValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toUInt32)(x);

				case 2:
					xValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toUInt32)(y);

				case 5:
					yValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive((xValue | 0) * (yValue | 0) | 0));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Math.imul"));
};

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],244:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _mathAcosh = require("./math.acosh");

var _mathAcosh2 = _interopRequireDefault(_mathAcosh);

var _mathAsinh = require("./math.asinh");

var _mathAsinh2 = _interopRequireDefault(_mathAsinh);

var _mathAtanh = require("./math.atanh");

var _mathAtanh2 = _interopRequireDefault(_mathAtanh);

var _mathCbrt = require("./math.cbrt");

var _mathCbrt2 = _interopRequireDefault(_mathCbrt);

var _mathClz32 = require("./math.clz32");

var _mathClz322 = _interopRequireDefault(_mathClz32);

var _mathCosh = require("./math.cosh");

var _mathCosh2 = _interopRequireDefault(_mathCosh);

var _mathExpm1 = require("./math.expm1");

var _mathExpm12 = _interopRequireDefault(_mathExpm1);

var _mathFround = require("./math.fround");

var _mathFround2 = _interopRequireDefault(_mathFround);

var _mathHypot = require("./math.hypot");

var _mathHypot2 = _interopRequireDefault(_mathHypot);

var _mathImul = require("./math.imul");

var _mathImul2 = _interopRequireDefault(_mathImul);

var _mathLog = require("./math.log");

var _mathLog2 = _interopRequireDefault(_mathLog);

var _mathSign = require("./math.sign");

var _mathSign2 = _interopRequireDefault(_mathSign);

var _mathSinh = require("./math.sinh");

var _mathSinh2 = _interopRequireDefault(_mathSinh);

var _mathTanh = require("./math.tanh");

var _mathTanh2 = _interopRequireDefault(_mathTanh);

var _mathTrunc = require("./math.trunc");

var _mathTrunc2 = _interopRequireDefault(_mathTrunc);

exports["default"] = function ($global, env, factory) {
	var mathClass = $global.getValue("Math");

	(0, _mathAcosh2["default"])(mathClass, env, factory);
	(0, _mathAsinh2["default"])(mathClass, env, factory);
	(0, _mathAtanh2["default"])(mathClass, env, factory);
	(0, _mathCbrt2["default"])(mathClass, env, factory);
	(0, _mathClz322["default"])(mathClass, env, factory);
	(0, _mathCosh2["default"])(mathClass, env, factory);
	(0, _mathExpm12["default"])(mathClass, env, factory);
	(0, _mathFround2["default"])(mathClass, env, factory);
	(0, _mathHypot2["default"])(mathClass, env, factory);
	(0, _mathImul2["default"])(mathClass, env, factory);
	(0, _mathLog2["default"])(mathClass, env, factory);
	(0, _mathSign2["default"])(mathClass, env, factory);
	(0, _mathSinh2["default"])(mathClass, env, factory);
	(0, _mathTanh2["default"])(mathClass, env, factory);
	(0, _mathTrunc2["default"])(mathClass, env, factory);
};

module.exports = exports["default"];
},{"./math.acosh":234,"./math.asinh":235,"./math.atanh":236,"./math.cbrt":237,"./math.clz32":238,"./math.cosh":239,"./math.expm1":240,"./math.fround":241,"./math.hypot":242,"./math.imul":243,"./math.log":245,"./math.sign":246,"./math.sinh":247,"./math.tanh":248,"./math.trunc":249,"babel-runtime/helpers/interop-require-default":28}],245:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	[{ name: "log10", divisor: Math.LN10 }, { name: "log2", divisor: Math.LN2 }].forEach(function (m) {
		$target.define(m.name, factory.createBuiltInFunction(function (x) {
			if (!x || x.className !== "Number") {
				return factory.createPrimitive(NaN);
			}

			var numberValue = x.toNative();
			if (isNaN(numberValue) || numberValue < 0) {
				return factory.createPrimitive(NaN);
			}

			if (numberValue === 0) {
				return factory.createPrimitive(-Infinity);
			}

			if (numberValue === 1) {
				return factory.createPrimitive(0);
			}

			if (numberValue === Infinity) {
				return x;
			}

			return factory.createPrimitive(Math.log(numberValue) / m.divisor);
		}, 1, "Math.{$m.name}"));
	});

	$target.define("log1p", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || numberValue < -1) {
			return factory.createPrimitive(NaN);
		}

		if (numberValue === -1) {
			return factory.createPrimitive(-Infinity);
		}

		if (numberValue === 0 || numberValue === Infinity) {
			return x;
		}

		return factory.createPrimitive(Math.log(1 + numberValue));
	}, 1, "Math.log1p"));
};

module.exports = exports["default"];
},{}],246:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("sign", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number" || isNaN(x.toNative())) {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (numberValue === 0) {
			return x;
		}

		return factory.createPrimitive(numberValue > 0 ? 1 : -1);
	}, 1, "Math.sign"));
};

module.exports = exports["default"];
},{}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("sinh", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || !isFinite(numberValue) || numberValue === 0) {
			return x;
		}

		var returnValue = Math.exp(numberValue);
		return factory.createPrimitive(returnValue / 2 - 0.5 / returnValue);
	}, 1, "Math.sinh"));
};

module.exports = exports["default"];
},{}],248:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("tanh", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || numberValue === 0) {
			return x;
		}

		if (numberValue === Infinity) {
			return factory.createPrimitive(1);
		}

		if (numberValue === -Infinity) {
			return factory.createPrimitive(-1);
		}

		var returnValue = Math.exp(2 * numberValue);
		return factory.createPrimitive((returnValue - 1) / (returnValue + 1));
	}, 1, "Math.tanh"));
};

module.exports = exports["default"];
},{}],249:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("trunc", factory.createBuiltInFunction(function (x) {
		if (!x || x.className !== "Number") {
			return factory.createPrimitive(NaN);
		}

		var numberValue = x.toNative();
		if (isNaN(numberValue) || !isFinite(numberValue) || numberValue === 0) {
			return x;
		}

		if (numberValue > -1 && numberValue < 0) {
			return factory.createPrimitive(-0);
		}

		return factory.createPrimitive(numberValue > 0 ? Math.floor(numberValue) : Math.ceil(numberValue));
	}, 1, "Math.trunc"));
};

module.exports = exports["default"];
},{}],250:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("isFinite", factory.createBuiltInFunction(function (value) {
		if (!(0, _utilsContracts.isNumber)(value)) {
			return factory.createPrimitive(false);
		}

		var numberValue = value.toNative();
		if (isNaN(numberValue) || !isFinite(numberValue)) {
			return factory.createPrimitive(false);
		}

		return factory.createPrimitive(true);
	}, 1, "Number.isFinite"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],251:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("isInteger", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue, intValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if ((0, _utilsContracts.isNumber)(value)) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 2:
					numberValue = value.toNative();

					if (!(isNaN(numberValue) || !isFinite(numberValue))) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 5:
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(value);

				case 7:
					intValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(numberValue === intValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.isInteger"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],252:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("isNaN", factory.createBuiltInFunction(function (value) {
		if (!(0, _utilsContracts.isNumber)(value)) {
			return factory.createPrimitive(false);
		}

		return factory.createPrimitive(isNaN(value.toNative()));
	}, 1, "Number.isNaN"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],253:[function(require,module,exports){
"use strict";

var _Number$MAX_SAFE_INTEGER = require("babel-runtime/core-js/number/max-safe-integer")["default"];

var _Number$MIN_SAFE_INTEGER = require("babel-runtime/core-js/number/min-safe-integer")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	var MAX_SAFE_INTEGER = _Number$MAX_SAFE_INTEGER || 9007199254740991;
	var MIN_SAFE_INTEGER = _Number$MIN_SAFE_INTEGER || -9007199254740991;

	target.define("MAX_SAFE_INTEGER", factory.createPrimitive(MAX_SAFE_INTEGER), { configurable: false, writable: false });
	target.define("MIN_SAFE_INTEGER", factory.createPrimitive(MIN_SAFE_INTEGER), { configurable: false, writable: false });

	target.define("isSafeInteger", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue, intValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if ((0, _utilsContracts.isNumber)(value)) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 2:
					numberValue = value.toNative();

					if (!(isNaN(numberValue) || !isFinite(numberValue))) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 5:
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(value);

				case 7:
					intValue = context$2$0.sent;

					if (!(intValue !== numberValue)) {
						context$2$0.next = 10;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 10:
					return context$2$0.abrupt("return", factory.createPrimitive(Math.abs(numberValue) <= MAX_SAFE_INTEGER));

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.isSafeInteger"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/core-js/number/max-safe-integer":9,"babel-runtime/core-js/number/min-safe-integer":10,"babel-runtime/regenerator":31}],254:[function(require,module,exports){
"use strict";

var _Number$EPSILON = require("babel-runtime/core-js/number/epsilon")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _numberIsFinite = require("./number.is-finite");

var _numberIsFinite2 = _interopRequireDefault(_numberIsFinite);

var _numberIsInteger = require("./number.is-integer");

var _numberIsInteger2 = _interopRequireDefault(_numberIsInteger);

var _numberIsNan = require("./number.is-nan");

var _numberIsNan2 = _interopRequireDefault(_numberIsNan);

var _numberIsSafeInteger = require("./number.is-safe-integer");

var _numberIsSafeInteger2 = _interopRequireDefault(_numberIsSafeInteger);

var _numberParseFloat = require("./number.parse-float");

var _numberParseFloat2 = _interopRequireDefault(_numberParseFloat);

var _numberParseInt = require("./number.parse-int");

var _numberParseInt2 = _interopRequireDefault(_numberParseInt);

exports["default"] = function (globalObject, env, factory) {
	var numberClass = globalObject.getValue("Number");

	(0, _numberIsFinite2["default"])(numberClass, env, factory);
	(0, _numberIsInteger2["default"])(numberClass, env, factory);
	(0, _numberIsNan2["default"])(numberClass, env, factory);
	(0, _numberIsSafeInteger2["default"])(numberClass, env, factory);
	(0, _numberParseFloat2["default"])(numberClass, env, factory);
	(0, _numberParseInt2["default"])(numberClass, env, factory);

	var epsilonValue = factory.createPrimitive(_Number$EPSILON || 2.220446049250313e-16);
	numberClass.define("EPSILON", epsilonValue, { configurable: false, writable: false });
};

module.exports = exports["default"];
},{"./number.is-finite":250,"./number.is-integer":251,"./number.is-nan":252,"./number.is-safe-integer":253,"./number.parse-float":255,"./number.parse-int":256,"babel-runtime/core-js/number/epsilon":8,"babel-runtime/helpers/interop-require-default":28}],255:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("parseFloat", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(value);

				case 2:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(parseFloat(stringValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.parseFloat"));
};

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],256:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("parseInt", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, radix) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return toString(value);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(radix, "number");

				case 5:
					radix = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(parseInt(stringValue, radix)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Number.parseInt"));
};

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],257:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

exports["default"] = function (objectClass, env, factory) {
	objectClass.define("assign", factory.createBuiltInFunction(function (target) {
		var to = (0, _utilsNative.toObject)(target, true);

		for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			sources[_key - 1] = arguments[_key];
		}

		sources.forEach(function (next) {
			if (!contracts.isNullOrUndefined(next)) {
				(function () {
					var source = (0, _utilsNative.toObject)(next);

					source.getOwnPropertyKeys().forEach(function (key) {
						var desc = source.getOwnProperty(key);
						if (desc && desc.enumerable) {
							if (!to.setValue(key, desc.getValue())) {
								throw new TypeError("Cannot assign to read only property '" + key + "'");
							}
						}
					});
				})();
			}
		});

		return to;
	}, 2, "Object.assign"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29}],258:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

exports["default"] = function (target, env, factory) {
	target.define("getOwnPropertySymbols", factory.createBuiltInFunction(function (obj) {
		contracts.assertIsNotNullOrUndefined(obj, "Object.getOwnPropertySymbols");
		var keys = [];

		obj.getOwnPropertyKeys("Symbol").forEach(function (key) {
			if (key && key.isSymbol) {
				keys.push(key);
			}
		});

		return factory.createArray(keys);
	}, 1, "Object.getOwnPropertySymbols"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"babel-runtime/helpers/interop-require-wildcard":29}],259:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function (target, env, factory) {
	target.define("is", factory.createBuiltInFunction(function (a, b) {
		var result = env.ops.areSame(a || _typesPrimitiveType.UNDEFINED, b || _typesPrimitiveType.UNDEFINED);
		return factory.createPrimitive(result);
	}, 2, "Object.is"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312}],260:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _objectIs = require("./object.is");

var _objectIs2 = _interopRequireDefault(_objectIs);

var _objectAssign = require("./object.assign");

var _objectAssign2 = _interopRequireDefault(_objectAssign);

var _objectGetOwnPropertySymbols = require("./object.get-own-property-symbols");

var _objectGetOwnPropertySymbols2 = _interopRequireDefault(_objectGetOwnPropertySymbols);

var _objectSetPrototypeOf = require("./object.set-prototype-of");

var _objectSetPrototypeOf2 = _interopRequireDefault(_objectSetPrototypeOf);

var _objectToString = require("./object.to-string");

var _objectToString2 = _interopRequireDefault(_objectToString);

exports["default"] = function (globalObject, env, factory) {
	var objectClass = globalObject.getValue("Object");
	var proto = objectClass.getValue("prototype");

	objectClass.define("getOwnPropertyNames", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(obj, "Object.getOwnPropertyNames");

		var keys = [];
		obj.getOwnPropertyKeys("String").forEach(function (key) {
			if (typeof key === "string") {
				keys.push(factory.createPrimitive(key));
			}
		});

		return factory.createArray(keys);
	}, 1, "Object.getOwnPropertyNames"));

	objectClass.define("keys", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(obj, "Object.keys");

		var keys = [];
		obj.getOwnPropertyKeys("String").forEach(function (key) {
			if (typeof key === "string") {
				var propInfo = obj.getProperty(key);
				if (propInfo && propInfo.enumerable) {
					keys.push(factory.createPrimitive(key));
				}
			}
		});

		return factory.createArray(keys);
	}, 1, "Object.keys"));

	(0, _objectAssign2["default"])(objectClass, env, factory);
	(0, _objectIs2["default"])(objectClass, env, factory);
	(0, _objectGetOwnPropertySymbols2["default"])(objectClass, env, factory);
	(0, _objectSetPrototypeOf2["default"])(objectClass, env, factory);
	(0, _objectToString2["default"])(proto, env, factory);
};

module.exports = exports["default"];
},{"../utils/contracts":321,"./object.assign":257,"./object.get-own-property-symbols":258,"./object.is":259,"./object.set-prototype-of":261,"./object.to-string":262,"babel-runtime/helpers/interop-require-default":28}],261:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("setPrototypeOf", factory.createBuiltInFunction(function (target, proto) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(target, "setPrototypeOf");

		if (!(0, _utilsContracts.isObject)(proto) && !(0, _utilsContracts.isNull)(proto)) {
			throw TypeError("Object prototype may only be an Object or null");
		}

		if ((0, _utilsContracts.isObject)(target) && !target.setPrototype(proto)) {
			throw TypeError(target.className + " is not extensible");
		}

		return target;
	}, 2, "Object.setPrototypeOf"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],262:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _typesSymbolType = require("../types/symbol-type");

exports["default"] = function (target, env, factory) {
	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");

	function objectToString(obj) {
		var tag = obj.className;

		if (!contracts.isNullOrUndefined(obj)) {
			var tagProperty = obj.getProperty(stringTagKey);
			if (tagProperty) {
				var tagValue = tagProperty.getValue();
				if (tagValue && tagValue.type === "string") {
					tag = tagValue.toNative();
				}
			}
		}

		return factory.createPrimitive("[object " + tag + "]");
	};

	target.define("toString", factory.createBuiltInFunction(function () {
		return objectToString(this.node);
	}, 0, "Object.prototype.toString"));

	target.define("toLocaleString", factory.createBuiltInFunction(function () {
		contracts.assertIsNotNullOrUndefined(this.node, "Object.prototype.toLocaleString");
		return objectToString(this.node);
	}, 0, "Object.prototype.toLocaleString"));
};

module.exports = exports["default"];
},{"../types/symbol-type":318,"../utils/contracts":321,"babel-runtime/helpers/interop-require-wildcard":29}],263:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function (globalObject, env, factory) {
	var proxyClass = factory.createFunction(function (target, handler) {
		if (!this.isNew) {
			throw new TypeError();
		}

		return factory.createProxy(target, handler);
	}, null, { name: "Proxy" });

	proxyClass.define("revocable", factory.createBuiltInFunction(function (target, handler) {
		var proxy = factory.createProxy(target, handler);

		var obj = factory.createObject();
		obj.define("proxy", proxy);
		obj.define("revoke", factory.createBuiltInFunction(function () {
			proxy.revoke();
		}, 0, "revoke"));

		return obj;
	}, 2, "Proxy.revocable"));

	proxyClass.define("length", factory.createPrimitive(2), { writable: false });
	globalObject.define("Proxy", proxyClass);
};

module.exports = exports["default"];
},{}],264:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("apply", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, thisArg, argsArray) {
		var args, callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsFunction)(target, "target");

					if (argsArray) {
						(0, _utilsContracts.assertIsObject)(argsArray, "Reflect.apply");
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toArray)(argsArray);

				case 4:
					args = context$2$0.sent;
					callee = target.native ? target : target.node;
					context$2$0.next = 8;
					return target.call(thisArg, args, callee);

				case 8:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.apply"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],265:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("construct", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, argsArray, newTarget) {
		var args, callee, proto, obj;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsFunction)(target, "target");

					if (argsArray) {
						(0, _utilsContracts.assertIsObject)(argsArray, "Reflect.construct");
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toArray)(argsArray);

				case 4:
					args = context$2$0.sent;
					callee = target.node || target;
					proto = newTarget || target;
					obj = factory.createObject(proto);
					context$2$0.next = 10;
					return target.construct(obj, args, callee);

				case 10:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.construct"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],266:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _es5Object = require("../es5/object/");

exports["default"] = function ($target, env, factory) {
	$target.define("defineProperty", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey, descriptor) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.defineProperty");

					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					context$2$0.t0 = factory;
					context$2$0.next = 7;
					return (0, _es5Object.defineProperty)(env, target, key, descriptor, false);

				case 7:
					context$2$0.t1 = context$2$0.sent;
					return context$2$0.abrupt("return", context$2$0.t0.createPrimitive.call(context$2$0.t0, context$2$0.t1));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.defineProperty"));
};

module.exports = exports["default"];
},{"../es5/object/":211,"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],267:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("deleteProperty", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.deleteProperty");

					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(target.deleteProperty(key, false)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.deleteProperty"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],268:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("enumerate", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.enumerate");
		return target.getIterator();
	}, 1, "Reflect.enumerate"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],269:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _es5Object = require("../es5/object/");

exports["default"] = function ($target, env, factory) {
	$target.define("getOwnPropertyDescriptor", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.getOwnPropertyDescriptor");
					context$2$0.next = 3;
					return (0, _es5Object.getOwnPropertyDescriptor)(env, target, propertyKey);

				case 3:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.getOwnPropertyDescriptor"));
};

module.exports = exports["default"];
},{"../es5/object/":211,"../utils/contracts":321,"babel-runtime/regenerator":31}],270:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("getPrototypeOf", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.getPrototypeOf");
		return target.getPrototype();
	}, 1, "Reflect.getPrototypeOf"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],271:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("get", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey, receiver) {
		var key, property;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.get");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					property = target.getProperty(key);

					if (!property) {
						context$2$0.next = 8;
						break;
					}

					property.bind(receiver || target);
					return context$2$0.abrupt("return", property.getValue());

				case 8:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.get"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],272:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("has", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.has");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(target.has(key)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.has"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],273:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("isExtensible", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.isExtensible");
		return factory.createPrimitive(target.isExtensible());
	}, 1, "Reflect.isExtensible"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],274:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reflectApply = require("./reflect.apply");

var _reflectApply2 = _interopRequireDefault(_reflectApply);

var _reflectConstruct = require("./reflect.construct");

var _reflectConstruct2 = _interopRequireDefault(_reflectConstruct);

var _reflectDefineProperty = require("./reflect.define-property");

var _reflectDefineProperty2 = _interopRequireDefault(_reflectDefineProperty);

var _reflectDeleteProperty = require("./reflect.delete-property");

var _reflectDeleteProperty2 = _interopRequireDefault(_reflectDeleteProperty);

var _reflectEnumerate = require("./reflect.enumerate");

var _reflectEnumerate2 = _interopRequireDefault(_reflectEnumerate);

var _reflectGet = require("./reflect.get");

var _reflectGet2 = _interopRequireDefault(_reflectGet);

var _reflectGetOwnPropertyDescriptor = require("./reflect.get-own-property-descriptor");

var _reflectGetOwnPropertyDescriptor2 = _interopRequireDefault(_reflectGetOwnPropertyDescriptor);

var _reflectGetPrototypeOf = require("./reflect.get-prototype-of");

var _reflectGetPrototypeOf2 = _interopRequireDefault(_reflectGetPrototypeOf);

var _reflectHas = require("./reflect.has");

var _reflectHas2 = _interopRequireDefault(_reflectHas);

var _reflectIsExtensible = require("./reflect.is-extensible");

var _reflectIsExtensible2 = _interopRequireDefault(_reflectIsExtensible);

var _reflectOwnKeys = require("./reflect.own-keys");

var _reflectOwnKeys2 = _interopRequireDefault(_reflectOwnKeys);

var _reflectPreventExtensions = require("./reflect.prevent-extensions");

var _reflectPreventExtensions2 = _interopRequireDefault(_reflectPreventExtensions);

var _reflectSet = require("./reflect.set");

var _reflectSet2 = _interopRequireDefault(_reflectSet);

var _reflectSetPrototypeOf = require("./reflect.set-prototype-of");

var _reflectSetPrototypeOf2 = _interopRequireDefault(_reflectSetPrototypeOf);

exports["default"] = function (globalObject, env, factory) {
	var reflectClass = factory.createObject();

	(0, _reflectApply2["default"])(reflectClass, env, factory);
	(0, _reflectConstruct2["default"])(reflectClass, env, factory);
	(0, _reflectDefineProperty2["default"])(reflectClass, env, factory);
	(0, _reflectDeleteProperty2["default"])(reflectClass, env, factory);
	(0, _reflectEnumerate2["default"])(reflectClass, env, factory);
	(0, _reflectGet2["default"])(reflectClass, env, factory);
	(0, _reflectGetOwnPropertyDescriptor2["default"])(reflectClass, env, factory);
	(0, _reflectGetPrototypeOf2["default"])(reflectClass, env, factory);
	(0, _reflectHas2["default"])(reflectClass, env, factory);
	(0, _reflectIsExtensible2["default"])(reflectClass, env, factory);
	(0, _reflectOwnKeys2["default"])(reflectClass, env, factory);
	(0, _reflectPreventExtensions2["default"])(reflectClass, env, factory);
	(0, _reflectSet2["default"])(reflectClass, env, factory);
	(0, _reflectSetPrototypeOf2["default"])(reflectClass, env, factory);

	globalObject.define("Reflect", reflectClass);
};

module.exports = exports["default"];
},{"./reflect.apply":264,"./reflect.construct":265,"./reflect.define-property":266,"./reflect.delete-property":267,"./reflect.enumerate":268,"./reflect.get":271,"./reflect.get-own-property-descriptor":269,"./reflect.get-prototype-of":270,"./reflect.has":272,"./reflect.is-extensible":273,"./reflect.own-keys":275,"./reflect.prevent-extensions":276,"./reflect.set":278,"./reflect.set-prototype-of":277,"babel-runtime/helpers/interop-require-default":28}],275:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("ownKeys", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.ownKeys");

		var keys = target.getOwnPropertyKeys().map(function (key) {
			return factory.createPrimitive(key);
		});
		return factory.createArray(keys);
	}, 1, "Reflect.ownKeys"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],276:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("preventExtensions", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.preventExtensions");
		return factory.createPrimitive(target.preventExtensions());
	}, 1, "Reflect.preventExtensions"));
};

module.exports = exports["default"];
},{"../utils/contracts":321}],277:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("setPrototypeOf", factory.createBuiltInFunction(function (target, proto) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.setPrototypeOf");

		if (proto !== _typesPrimitiveType.NULL && proto.type !== "object") {
			throw TypeError("The prototype must be an object or null");
		}

		return factory.createPrimitive(target.setPrototype(proto));
	}, 2, "Reflect.setPrototypeOf"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../utils/contracts":321}],278:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("set", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, key, value, receiver) {
		var k;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.set");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(key);

				case 3:
					k = context$2$0.sent;

					if ((0, _utilsContracts.isUndefined)(receiver)) {
						receiver = target;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(target.setValue(k, value, receiver)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.set"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],279:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesSymbolType = require("../types/symbol-type");

var _utilsAsync = require("../utils/async");

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (globalObject, env, factory) {
	var regexClass = globalObject.getValue("RegExp");
	var proto = regexClass.getValue("prototype");

	var replaceKey = _typesSymbolType.SymbolType.getByKey("replace");
	proto.define(replaceKey, factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, replaceValue) {
		var stringValue, replacer;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(value);

				case 2:
					stringValue = context$2$0.sent;
					replacer = undefined;

					if (!(0, _utilsContracts.isFunction)(replaceValue)) {
						context$2$0.next = 8;
						break;
					}

					replacer = function () {
						var thisArg = replaceValue.strict || env.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;

						for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
							args[_key] = arguments[_key];
						}

						var mappedArgs = args.map(function (arg) {
							return factory.createPrimitive(arg);
						});
						var result = (0, _utilsAsync.exhaust)(replaceValue.call(thisArg, mappedArgs));
						return result ? (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(result)) : undefined;
					};
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(replaceValue);

				case 10:
					replacer = context$2$0.sent;

				case 11:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.replace(this.node.source, replacer)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "RegExp.prototype[Symbol.replace]"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../types/symbol-type":318,"../utils/async":320,"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],280:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsFunc = require("../../utils/func");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../../utils/async");

exports["default"] = function (env) {
	function assertIsSet(obj, methodName) {
		if (!("setData" in obj)) {
			throw new TypeError("Method " + methodName + " called on incompatible receiver " + obj.className);
		}
	}

	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var proto = objectFactory.createObject();

	var setClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(iterable) {
		var obj, _length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw new TypeError("Constructor Set requires 'new'");

				case 2:
					obj = objectFactory.create("Set");

					if (!iterable) {
						context$2$0.next = 34;
						break;
					}

					_length = iterable.getValue("length").toNative();
					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 8;
					_iterator = _getIterator(_iterators2["default"].forward(env, iterable, 0, _length));

				case 10:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 20;
						break;
					}

					entry = _step.value;
					context$2$0.next = 14;
					return (0, _utilsFunc.tryExecute)(obj, "add", [entry.value]);

				case 14:
					context$2$0.t0 = context$2$0.sent;

					if (!(context$2$0.t0 === false)) {
						context$2$0.next = 17;
						break;
					}

					throw new TypeError("Property 'add' of object #<Set> is not a function");

				case 17:
					_iteratorNormalCompletion = true;
					context$2$0.next = 10;
					break;

				case 20:
					context$2$0.next = 26;
					break;

				case 22:
					context$2$0.prev = 22;
					context$2$0.t1 = context$2$0["catch"](8);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 26:
					context$2$0.prev = 26;
					context$2$0.prev = 27;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 29:
					context$2$0.prev = 29;

					if (!_didIteratorError) {
						context$2$0.next = 32;
						break;
					}

					throw _iteratorError;

				case 32:
					return context$2$0.finish(29);

				case 33:
					return context$2$0.finish(26);

				case 34:
					return context$2$0.abrupt("return", obj);

				case 35:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 22, 26, 34], [27,, 29, 33]]);
	}), proto, { name: "Set" });

	proto.define("add", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.add");

		if (this.node.setData.every(function (e) {
			return !env.ops.areSameOrZero(e, value);
		})) {
			this.node.setData.push(value);
		}

		return this.node;
	}, 1, "Set.prototype.add"));

	proto.define("delete", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.delete");

		var entries = this.node.setData;
		var index = entries.length;

		while (index--) {
			if (env.ops.areSameOrZero(entries[index], value)) {
				entries.splice(index, 1);
				return objectFactory.createPrimitive(true);
			}
		}

		return objectFactory.createPrimitive(false);
	}, 1, "Set.prototype.delete"));

	proto.define("has", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.has");
		var has = this.node.setData.some(function (e) {
			return env.ops.areSameOrZero(e, value);
		});
		return objectFactory.createPrimitive(has);
	}, 1, "Set.prototype.has"));

	proto.define("clear", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.clear");
		this.node.setData = [];
	}, 0, "Set.prototype.clear"));

	proto.define("forEach", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var s;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					assertIsSet(this.node, "Set.prototype.forEach");

					s = this.node;
					context$2$0.next = 4;
					return (0, _utilsAsync.each)(this.node.setData, _regeneratorRuntime.mark(function callee$2$0(e) {
						var scope, args;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									scope = env.createScope(thisArg);

									scope.init(callback.node.body);

									args = [e, e, s];

									scope.loadArgs(callback.node.params, args, callback);

									context$3$0.next = 6;
									return scope.use(_regeneratorRuntime.mark(function callee$3$0() {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													context$4$0.next = 2;
													return env.createExecutionContext(callback.node.body, callback.node).execute();

												case 2:
													return context$4$0.abrupt("return", context$4$0.sent);

												case 3:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 6:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 7:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Set.prototype.forEach"));

	proto.define("values", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.values");
		return objectFactory.createIterator(this.node.values());
	}, 0, "Set.prototype.values"));

	proto.define("keys", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.keys");
		return objectFactory.createIterator(this.node.keys());
	}, 0, "Set.prototype.keys"));

	globalObject.define("Set", setClass);
};

module.exports = exports["default"];
},{"../../iterators":295,"../../utils/async":320,"../../utils/func":322,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/regenerator":31}],281:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("codePointAt", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(pos) {
		var stringValue, position;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.codePointAt");
					context$2$0.next = 3;
					return toString(this.node);

				case 3:
					stringValue = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(pos);

				case 6:
					position = context$2$0.sent;

					if (!(position < 0 || position >= stringValue.length)) {
						context$2$0.next = 9;
						break;
					}

					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 9:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.codePointAt(position)));

				case 10:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.codePointAt"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],282:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _String$fromCodePoint = require("babel-runtime/core-js/string/from-code-point")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("fromCodePoint", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, codePoints = Array(_len), _key = 0; _key < _len; _key++) {
			codePoints[_key] = arguments[_key];
		}

		var args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsAsync.map)(codePoints, _regeneratorRuntime.mark(function callee$2$0(cp) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toNumber)(cp);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 2:
					args = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(_String$fromCodePoint.apply(String, _toConsumableArray(args))));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.fromCodePoint"));
};

module.exports = exports["default"];
},{"../utils/async":320,"../utils/native":323,"babel-runtime/core-js/string/from-code-point":18,"babel-runtime/helpers/to-consumable-array":30,"babel-runtime/regenerator":31}],283:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	function stringIncludes(source, search, start, end) {
		if (!search) {
			return true;
		}

		if (start < 0 || end > source.length) {
			return false;
		}

		return source.substring(start, end) === search;
	}

	target.define("endsWith", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchString, endPosition) {
		var stringValue, searchValue, end;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.endsWith");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;

					if (!(0, _utilsContracts.isRegExp)(searchString)) {
						context$2$0.next = 6;
						break;
					}

					throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");

				case 6:
					context$2$0.next = 8;
					return (0, _utilsNative.toString)(searchString);

				case 8:
					searchValue = context$2$0.sent;
					end = stringValue.length;

					if ((0, _utilsContracts.isUndefined)(endPosition)) {
						context$2$0.next = 14;
						break;
					}

					context$2$0.next = 13;
					return (0, _utilsNative.toInteger)(endPosition);

				case 13:
					end = context$2$0.sent;

				case 14:

					end = Math.min(Math.max(end, 0), stringValue.length);
					return context$2$0.abrupt("return", factory.createPrimitive(stringIncludes(stringValue, searchValue, end - searchValue.length, end)));

				case 16:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.endsWith"));

	target.define("startsWith", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchString, startPosition) {
		var stringValue, searchValue, start;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.startsWith");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;

					if (!(0, _utilsContracts.isRegExp)(searchString)) {
						context$2$0.next = 6;
						break;
					}

					throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");

				case 6:
					context$2$0.next = 8;
					return (0, _utilsNative.toString)(searchString);

				case 8:
					searchValue = context$2$0.sent;
					context$2$0.next = 11;
					return (0, _utilsNative.toInteger)(startPosition);

				case 11:
					start = context$2$0.sent;

					start = Math.max(start, 0);
					return context$2$0.abrupt("return", factory.createPrimitive(stringIncludes(stringValue, searchValue, start, start + searchValue.length)));

				case 14:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.startsWith"));

	target.define("includes", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchString, position) {
		var stringValue, searchValue, length, start, end, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.includes");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;

					if (!(0, _utilsContracts.isRegExp)(searchString)) {
						context$2$0.next = 6;
						break;
					}

					throw new TypeError("First argument to String.prototype.includes must not be a regular expression");

				case 6:
					context$2$0.next = 8;
					return (0, _utilsNative.toString)(searchString);

				case 8:
					searchValue = context$2$0.sent;
					length = stringValue.length;
					context$2$0.next = 12;
					return (0, _utilsNative.toInteger)(position);

				case 12:
					start = context$2$0.sent;

					start = Math.min(Math.max(start, 0), length);

					end = start + searchValue.length;
					result = false;

				case 16:
					if (!stringIncludes(stringValue, searchValue, start++, end++)) {
						context$2$0.next = 19;
						break;
					}

					result = true;
					return context$2$0.abrupt("break", 20);

				case 19:
					if (end <= length) {
						context$2$0.next = 16;
						break;
					}

				case 20:
					return context$2$0.abrupt("return", factory.createPrimitive(result));

				case 21:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.includes"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],284:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _typesSymbolType = require("../types/symbol-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	var iteratorProto = factory.createObject();
	iteratorProto.className = "String Iterator";

	iteratorProto.define("next", factory.createBuiltInFunction(function () {
		var result = this.node.advance();
		if (result.value) {
			return result.value;
		}

		var obj = factory.createObject();
		obj.define("done", factory.createPrimitive(result.done));
		return obj;
	}, 0, "StringIterator.prototype.next"));

	function getIterator(value) {
		var length, done, index, _value;

		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					length = value.length;
					done = false;
					index = 0;

				case 3:
					if (done) {
						context$2$0.next = 11;
						break;
					}

					_value = _typesPrimitiveType.UNDEFINED;

					if (index < length) {
						done = true;
					} else {
						_value = factory.createPrimitive(_value[index]);
					}

					context$2$0.next = 8;
					return factory.createIteratorResult({ value: _value, done: done });

				case 8:
					index++;
					context$2$0.next = 3;
					break;

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	target.define(iteratorKey, factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var stringValue, it;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "String.protoype[Symbol.iterator]");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					it = getIterator(stringValue);
					return context$2$0.abrupt("return", factory.createIterator(it, iteratorProto));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "[Symbol.iterator]"));
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../types/symbol-type":318,"../utils/contracts":321,"../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],285:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _stringCodePointAt = require("./string.code-point-at");

var _stringCodePointAt2 = _interopRequireDefault(_stringCodePointAt);

var _stringFromCodePoint = require("./string.from-code-point");

var _stringFromCodePoint2 = _interopRequireDefault(_stringFromCodePoint);

var _stringIncludes = require("./string.includes");

var _stringIncludes2 = _interopRequireDefault(_stringIncludes);

var _stringIterator = require("./string.iterator");

var _stringIterator2 = _interopRequireDefault(_stringIterator);

var _stringNormalize = require("./string.normalize");

var _stringNormalize2 = _interopRequireDefault(_stringNormalize);

var _stringRaw = require("./string.raw");

var _stringRaw2 = _interopRequireDefault(_stringRaw);

var _stringRepeat = require("./string.repeat");

var _stringRepeat2 = _interopRequireDefault(_stringRepeat);

exports["default"] = function (globalObject, env, factory) {
	var stringClass = globalObject.getValue("String");
	var proto = stringClass.getValue("prototype");

	(0, _stringFromCodePoint2["default"])(stringClass, env, factory);
	(0, _stringRaw2["default"])(stringClass, env, factory);
	(0, _stringCodePointAt2["default"])(proto, env, factory);
	(0, _stringIncludes2["default"])(proto, env, factory);
	(0, _stringNormalize2["default"])(proto, env, factory);
	(0, _stringRepeat2["default"])(proto, env, factory);
	(0, _stringIterator2["default"])(proto, env, factory);
};

module.exports = exports["default"];
},{"./string.code-point-at":281,"./string.from-code-point":282,"./string.includes":283,"./string.iterator":284,"./string.normalize":286,"./string.raw":287,"./string.repeat":288,"babel-runtime/helpers/interop-require-default":28}],286:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("normalize", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(form) {
		var stringValue, formValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.normalize");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					formValue = "NFC";

					if ((0, _utilsContracts.isUndefined)(form)) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 8;
					return (0, _utilsNative.toString)(form);

				case 8:
					formValue = context$2$0.sent;

					if (/^NFK?(?:C|D)$/.test(formValue)) {
						context$2$0.next = 11;
						break;
					}

					throw new RangeError();

				case 11:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.normalize(formValue)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "String.prototype.normalize"));
};

module.exports = exports["default"];

// valid forms
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],287:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("raw", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(template) {
		for (var _len = arguments.length, substitutions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			substitutions[_key - 1] = arguments[_key];
		}

		var numberOfSubstitutions, cooked, raw, literalSegments, stringElements, nextIndex, nextSegment, next;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					numberOfSubstitutions = substitutions.length;
					cooked = (0, _utilsNative.toObject)(env, template, true);
					raw = (0, _utilsNative.toObject)(env, cooked.getValue("raw"), true);
					context$2$0.next = 5;
					return (0, _utilsNative.toLength)(raw);

				case 5:
					literalSegments = context$2$0.sent;

					if (!(literalSegments <= 0)) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(""));

				case 8:
					stringElements = [];
					nextIndex = 0;

				case 10:
					if (!(nextIndex < literalSegments)) {
						context$2$0.next = 26;
						break;
					}

					context$2$0.next = 13;
					return toString(raw.getValue(nextIndex));

				case 13:
					nextSegment = context$2$0.sent;

					stringElements.push(nextSegment);

					if (!(nextIndex + 1 === literalSegments)) {
						context$2$0.next = 17;
						break;
					}

					return context$2$0.abrupt("break", 26);

				case 17:
					next = "";

					if (!(nextIndex < numberOfSubstitutions)) {
						context$2$0.next = 22;
						break;
					}

					context$2$0.next = 21;
					return toString(substitutions[nextIndex]);

				case 21:
					next = context$2$0.sent;

				case 22:

					stringElements.push(next);
					nextIndex++;
					context$2$0.next = 10;
					break;

				case 26:
					return context$2$0.abrupt("return", factory.createPrimitive(stringElements.join("")));

				case 27:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.raw"));
};

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],288:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("repeat", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(count) {
		var stringValue, countValue, returnValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.repeat");

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(count);

				case 6:
					countValue = context$2$0.sent;

					if (!(countValue < 0 || !isFinite(countValue))) {
						context$2$0.next = 9;
						break;
					}

					throw new RangeError("Invalid count value");

				case 9:
					returnValue = "";

					if (countValue > 0 && stringValue) {
						if (countValue === 1) {
							returnValue = stringValue;
						} else {
							while (countValue > 0) {
								returnValue += stringValue;
								countValue--;
							}
						}
					}

					return context$2$0.abrupt("return", factory.createPrimitive(returnValue));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.repeat"));
};

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],289:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _typesSymbolType = require("../types/symbol-type");

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (globalObject, env, factory) {
	var frozen = { configurable: false, enumerable: false, writable: false };

	var symbolClass = factory.createFunction(_regeneratorRuntime.mark(function callee$1$0(desc) {
		var descString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw new TypeError("Symbol is not a constructor");

				case 2:
					context$2$0.next = 4;
					return (0, _utilsNative.toString)(desc);

				case 4:
					descString = context$2$0.sent;
					return context$2$0.abrupt("return", factory.create("Symbol", descString));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}));

	symbolClass.define("for", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var keyString, instance;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(key);

				case 2:
					keyString = context$2$0.sent;
					instance = _typesSymbolType.SymbolType.getByKey(keyString);

					if (!instance) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", instance);

				case 6:
					return context$2$0.abrupt("return", factory.create("Symbol", keyString));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Symbol.for"));

	symbolClass.define("keyFor", factory.createBuiltInFunction(function (sym) {
		return _typesSymbolType.SymbolType.getByInstance(sym) || _typesPrimitiveType.UNDEFINED;
	}, 1, "Symbol.keyFor"));

	var proto = symbolClass.getValue("prototype");
	proto.define("toString", factory.createBuiltInFunction(function () {
		var stringValue = "Symbol(" + this.node.description + ")";
		return factory.createPrimitive(stringValue);
	}, 0, "Symbol.prototype.toString"));

	proto.define("valueOf", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsNotGeneric)(this.node, "Symbol", "Symbol.prototype.valueOf");
		return this.node;
	}, 0, "Symbol.prototype.valueOf"));

	["hasInstance", "isConcatSpreadable", "iterator", "replace", "species", "toStringTag"].forEach(function (key) {
		var sym = factory.create("Symbol", "@@" + key);

		// add to global registry
		_typesSymbolType.SymbolType.add(key, sym);
		symbolClass.define(key, sym, frozen);
	});

	var toStringTagSymbol = _typesSymbolType.SymbolType.getByKey("toStringTag");
	proto.define(toStringTagSymbol, factory.createPrimitive("Symbol"), { writable: false });

	globalObject.define("Symbol", symbolClass);
};

module.exports = exports["default"];
},{"../types/primitive-type":312,"../types/symbol-type":318,"../utils/contracts":321,"../utils/native":323,"babel-runtime/regenerator":31}],290:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [walk].map(_regeneratorRuntime.mark);
function walk(node) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, n;

	return _regeneratorRuntime.wrap(function walk$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!Array.isArray(node)) {
					context$1$0.next = 27;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 4;
				_iterator = _getIterator(node);

			case 6:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				n = _step.value;
				return context$1$0.delegateYield(walk(n), "t0", 9);

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 6;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t1 = context$1$0["catch"](4);
				_didIteratorError = true;
				_iteratorError = context$1$0.t1;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return");

			case 27:
				context$1$0.next = 29;
				return node;

			case 29:
				context$1$0.t2 = node.type;
				context$1$0.next = context$1$0.t2 === "ArrayExpression" ? 32 : context$1$0.t2 === "AssignmentExpression" ? 35 : context$1$0.t2 === "BinaryExpression" ? 38 : context$1$0.t2 === "LogicalExpression" ? 38 : context$1$0.t2 === "BlockStatement" ? 41 : context$1$0.t2 === "LabeledStatement" ? 41 : context$1$0.t2 === "Program" ? 41 : context$1$0.t2 === "CallExpression" ? 43 : context$1$0.t2 === "NewExpression" ? 43 : context$1$0.t2 === "CatchClause" ? 46 : context$1$0.t2 === "ConditionalExpression" ? 49 : context$1$0.t2 === "IfStatement" ? 49 : context$1$0.t2 === "DoWhileStatement" ? 54 : context$1$0.t2 === "ExpressionStatement" ? 57 : context$1$0.t2 === "ForStatement" ? 59 : context$1$0.t2 === "ForInStatement" ? 67 : context$1$0.t2 === "FunctionDeclaration" ? 71 : context$1$0.t2 === "FunctionExpression" ? 71 : context$1$0.t2 === "MemberExpression" ? 76 : context$1$0.t2 === "ObjectExpression" ? 80 : context$1$0.t2 === "Property" ? 82 : context$1$0.t2 === "ReturnStatement" ? 84 : context$1$0.t2 === "SequenceExpression" ? 87 : context$1$0.t2 === "SwitchStatement" ? 89 : context$1$0.t2 === "SwitchCase" ? 92 : context$1$0.t2 === "ThrowStatement" ? 94 : context$1$0.t2 === "UnaryExpression" ? 94 : context$1$0.t2 === "UpdateExpression" ? 94 : context$1$0.t2 === "TryStatement" ? 96 : context$1$0.t2 === "VariableDeclaration" ? 102 : context$1$0.t2 === "VariableDeclarator" ? 104 : context$1$0.t2 === "WhileStatement" ? 108 : context$1$0.t2 === "WithStatement" ? 111 : context$1$0.t2 === "BreakStatement" ? 114 : context$1$0.t2 === "ContinueStatement" ? 114 : context$1$0.t2 === "EmptyStatement" ? 114 : context$1$0.t2 === "Identifier" ? 114 : context$1$0.t2 === "Literal" ? 114 : context$1$0.t2 === "ThisExpression" ? 114 : 115;
				break;

			case 32:
				if (!node.elements) {
					context$1$0.next = 34;
					break;
				}

				return context$1$0.delegateYield(walk(node.elements), "t3", 34);

			case 34:
				return context$1$0.abrupt("break", 115);

			case 35:
				return context$1$0.delegateYield(walk(node.right), "t4", 36);

			case 36:
				return context$1$0.delegateYield(walk(node.left), "t5", 37);

			case 37:
				return context$1$0.abrupt("break", 115);

			case 38:
				return context$1$0.delegateYield(walk(node.left), "t6", 39);

			case 39:
				return context$1$0.delegateYield(walk(node.right), "t7", 40);

			case 40:
				return context$1$0.abrupt("break", 115);

			case 41:
				return context$1$0.delegateYield(walk(node.body), "t8", 42);

			case 42:
				return context$1$0.abrupt("break", 115);

			case 43:
				return context$1$0.delegateYield(walk(node.callee), "t9", 44);

			case 44:
				return context$1$0.delegateYield(walk(node.arguments), "t10", 45);

			case 45:
				return context$1$0.abrupt("break", 115);

			case 46:
				return context$1$0.delegateYield(walk(node.param), "t11", 47);

			case 47:
				return context$1$0.delegateYield(walk(node.body), "t12", 48);

			case 48:
				return context$1$0.abrupt("break", 115);

			case 49:
				return context$1$0.delegateYield(walk(node.test), "t13", 50);

			case 50:
				return context$1$0.delegateYield(walk(node.consequent), "t14", 51);

			case 51:
				if (!node.alternate) {
					context$1$0.next = 53;
					break;
				}

				return context$1$0.delegateYield(node.alternate, "t15", 53);

			case 53:
				return context$1$0.abrupt("break", 115);

			case 54:
				return context$1$0.delegateYield(walk(node.body), "t16", 55);

			case 55:
				return context$1$0.delegateYield(walk(node.test), "t17", 56);

			case 56:
				return context$1$0.abrupt("break", 115);

			case 57:
				return context$1$0.delegateYield(walk(node.expression), "t18", 58);

			case 58:
				return context$1$0.abrupt("break", 115);

			case 59:
				if (!node.init) {
					context$1$0.next = 61;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t19", 61);

			case 61:
				if (!node.test) {
					context$1$0.next = 63;
					break;
				}

				return context$1$0.delegateYield(walk(node.test), "t20", 63);

			case 63:
				return context$1$0.delegateYield(walk(node.body), "t21", 64);

			case 64:
				if (!node.update) {
					context$1$0.next = 66;
					break;
				}

				return context$1$0.delegateYield(walk(node.update), "t22", 66);

			case 66:
				return context$1$0.abrupt("break", 115);

			case 67:
				return context$1$0.delegateYield(walk(node.right), "t23", 68);

			case 68:
				return context$1$0.delegateYield(walk(node.left), "t24", 69);

			case 69:
				return context$1$0.delegateYield(walk(node.body), "t25", 70);

			case 70:
				return context$1$0.abrupt("break", 115);

			case 71:
				if (!node.id) {
					context$1$0.next = 73;
					break;
				}

				return context$1$0.delegateYield(walk(node.id), "t26", 73);

			case 73:
				return context$1$0.delegateYield(walk(node.params), "t27", 74);

			case 74:
				return context$1$0.delegateYield(walk(node.body), "t28", 75);

			case 75:
				return context$1$0.abrupt("break", 115);

			case 76:
				return context$1$0.delegateYield(walk(node.object), "t29", 77);

			case 77:
				if (!node.computed) {
					context$1$0.next = 79;
					break;
				}

				return context$1$0.delegateYield(walk(node.property), "t30", 79);

			case 79:
				return context$1$0.abrupt("break", 115);

			case 80:
				return context$1$0.delegateYield(walk(node.properties), "t31", 81);

			case 81:
				return context$1$0.abrupt("break", 115);

			case 82:
				return context$1$0.delegateYield(walk(node.value), "t32", 83);

			case 83:
				return context$1$0.abrupt("break", 115);

			case 84:
				if (!node.argument) {
					context$1$0.next = 86;
					break;
				}

				return context$1$0.delegateYield(walk(node.argument), "t33", 86);

			case 86:
				return context$1$0.abrupt("break", 115);

			case 87:
				return context$1$0.delegateYield(walk(node.expressions), "t34", 88);

			case 88:
				return context$1$0.abrupt("break", 115);

			case 89:
				return context$1$0.delegateYield(walk(node.discriminant), "t35", 90);

			case 90:
				return context$1$0.delegateYield(walk(node.cases), "t36", 91);

			case 91:
				return context$1$0.abrupt("break", 115);

			case 92:
				return context$1$0.delegateYield(walk(node.consequent), "t37", 93);

			case 93:
				return context$1$0.abrupt("break", 115);

			case 94:
				return context$1$0.delegateYield(walk(node.argument), "t38", 95);

			case 95:
				return context$1$0.abrupt("break", 115);

			case 96:
				return context$1$0.delegateYield(walk(node.block), "t39", 97);

			case 97:
				if (!node.handler) {
					context$1$0.next = 99;
					break;
				}

				return context$1$0.delegateYield(walk(node.handler), "t40", 99);

			case 99:
				if (!node.finalizer) {
					context$1$0.next = 101;
					break;
				}

				return context$1$0.delegateYield(walk(node.finalizer), "t41", 101);

			case 101:
				return context$1$0.abrupt("break", 115);

			case 102:
				return context$1$0.delegateYield(walk(node.declarations), "t42", 103);

			case 103:
				return context$1$0.abrupt("break", 115);

			case 104:
				return context$1$0.delegateYield(walk(node.id), "t43", 105);

			case 105:
				if (!node.init) {
					context$1$0.next = 107;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t44", 107);

			case 107:
				return context$1$0.abrupt("break", 115);

			case 108:
				return context$1$0.delegateYield(walk(node.test), "t45", 109);

			case 109:
				return context$1$0.delegateYield(walk(node.body), "t46", 110);

			case 110:
				return context$1$0.abrupt("break", 115);

			case 111:
				return context$1$0.delegateYield(walk(node.object), "t47", 112);

			case 112:
				return context$1$0.delegateYield(walk(node.body), "t48", 113);

			case 113:
				return context$1$0.abrupt("break", 115);

			case 114:
				return context$1$0.abrupt("break", 115);

			case 115:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[4, 14, 18, 26], [19,, 21, 25]]);
}

// do nothing

var EstreeWalker = (function () {
	function EstreeWalker(node) {
		_classCallCheck(this, EstreeWalker);

		this.root = node;
	}

	_createClass(EstreeWalker, [{
		key: _Symbol$iterator,
		value: function value() {
			return walk(this.root);
		}
	}], [{
		key: "create",
		value: function create(node) {
			return new EstreeWalker(node);
		}
	}]);

	return EstreeWalker;
})();

exports["default"] = EstreeWalker;
;
module.exports = exports["default"];

// right should be evaluated first

// do nothing else
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/symbol/iterator":21,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/regenerator":31}],291:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("./types/primitive-type");

var _executionResult = require("./execution-result");

var _visitors = require("./visitors");

var _visitors2 = _interopRequireDefault(_visitors);

var ExecutionContext = (function () {
	function ExecutionContext(env, node, callee, isNew) {
		_classCallCheck(this, ExecutionContext);

		this.node = node;
		this.callee = callee;
		this.env = env;
		this.isNew = !!isNew;

		this.label = "";
		this.value = null;
		this.strict = false;
	}

	_createClass(ExecutionContext, [{
		key: "execute",
		value: _regeneratorRuntime.mark(function execute() {
			var executionResult;
			return _regeneratorRuntime.wrap(function execute$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						executionResult = undefined;
						context$2$0.prev = 1;
						context$2$0.next = 4;
						return _visitors2["default"].visit(this);

					case 4:
						executionResult = context$2$0.sent;
						context$2$0.next = 10;
						break;

					case 7:
						context$2$0.prev = 7;
						context$2$0.t0 = context$2$0["catch"](1);

						executionResult = this.raise(context$2$0.t0);

					case 10:
						if (!(executionResult && executionResult.raised)) {
							context$2$0.next = 12;
							break;
						}

						throw this.env.objectFactory.create("Error", executionResult.result);

					case 12:
						return context$2$0.abrupt("return", executionResult || this.empty());

					case 13:
					case "end":
						return context$2$0.stop();
				}
			}, execute, this, [[1, 7]]);
		})
	}, {
		key: "create",
		value: function create(node, callee, isNew) {
			var context = new ExecutionContext(this.env, node, callee || this.callee, isNew);
			context.value = this.value;
			return context;
		}
	}, {
		key: "createLabel",
		value: function createLabel(node, label) {
			var context = this.create(node);
			context.label = label;
			return context;
		}
	}, {
		key: "cancel",
		value: function cancel(label) {
			var result = this.result(this.value, label);
			result.cancel = true;
			return result;
		}
	}, {
		key: "skip",
		value: function skip(label) {
			var result = this.result(this.value, label);
			result.skip = true;
			return result;
		}
	}, {
		key: "raise",
		value: function raise(err) {
			var result = this.result(err);
			result.raised = result.exit = true;
			return result;
		}
	}, {
		key: "exit",
		value: function exit(value) {
			this.callee = null;

			var result = this.result(value);
			result.exit = true;
			return result;
		}
	}, {
		key: "result",
		value: function result(value, name, obj) {
			this.value = value;
			return new _executionResult.ExecutionResult(value, name, obj);
		}
	}, {
		key: "empty",
		value: function empty() {
			return this.result(_typesPrimitiveType.UNDEFINED);
		}
	}]);

	return ExecutionContext;
})();

exports.ExecutionContext = ExecutionContext;
;
},{"./execution-result":292,"./types/primitive-type":312,"./visitors":340,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/regenerator":31}],292:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var ExecutionResult = (function () {
	function ExecutionResult(value, name, obj) {
		_classCallCheck(this, ExecutionResult);

		this.result = value;
		this.name = name;
		this.object = obj;

		this.cancel = false;
		this.cancelled = false;
		this.exit = false;
		this.skip = false;
		this.raised = false;
	}

	_createClass(ExecutionResult, [{
		key: "isCancelled",
		value: function isCancelled() {
			return this.cancel || this.exit || this.raised;
		}
	}, {
		key: "canBreak",
		value: function canBreak() {
			return this.isCancelled() || this.skip;
		}
	}, {
		key: "shouldBreak",
		value: function shouldBreak(context, loop, priorResult) {
			if (this.exit || this.raised) {
				return true;
			}

			if (!this.cancel && !this.skip) {
				return false;
			}

			var breaking = true;
			if (this.name && this.name === context.label) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;

				if (this.cancelled) {
					this.result = priorResult && priorResult.result || this.result;
				}

				return breaking;
			}

			if (loop && !this.name) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;
			}

			this.result = priorResult && priorResult.result || this.result;
			return breaking;
		}
	}]);

	return ExecutionResult;
})();

exports.ExecutionResult = ExecutionResult;
},{"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24}],293:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

require("./polyfills");

var _env = require("./env");

var _utilsAsync = require("./utils/async");

var SandBoxr = (function () {
	/**
  * Creates a new Sandbox
  * @class
  * @param {AST} ast - The abstract syntax tree to execute.
  * @param {Object} [options] The options to use with the sandbox.
  */

	function SandBoxr(ast) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, SandBoxr);

		this.ast = ast;
		this.options = options;
	}

	/**
  * Executes the abstract syntax tree (AST) against the provided environment (or the default
  * environment if not provided)
  * @param {Environment} [env] - The environment to execute the AST against.
  * @returns {Promise} A promise that resolves with the result of the execution
  */

	_createClass(SandBoxr, [{
		key: "execute",
		value: function execute(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.promisify)(env.createExecutionContext(this.ast).execute()).then(function (res) {
				return res.result;
			});
		}
	}, {
		key: _Symbol$iterator,
		value: function value() {
			return this.step();
		}
	}, {
		key: "step",
		value: function step(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.step)(env.createExecutionContext(this.ast).execute());
		}

		/**
   * Creates an environment instance.
   * @returns {Object} The environment instance.
   */
	}], [{
		key: "createEnvironment",
		value: function createEnvironment() {
			return new _env.Environment();
		}

		/**
   * Creates a new SandBoxr instance.
   * @param {AST} ast - The abstract syntax tree to execute.
   * @param {Object} [options] The options to use with the sandbox.
   * @returns {SandBoxr} A new sandbox.
   */
	}, {
		key: "create",
		value: function create(ast, options) {
			return new SandBoxr(ast, options);
		}
	}]);

	return SandBoxr;
})();

exports.SandBoxr = SandBoxr;
},{"./env":195,"./polyfills":300,"./utils/async":320,"babel-runtime/core-js/symbol/iterator":21,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24}],294:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator, yieldIndex].map(_regeneratorRuntime.mark);

function ascIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = lo;

			case 1:
				if (!(index < hi)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index++;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = hi;

			case 1:
				if (!(index >= lo)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index--;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function yieldIndex(source, key) {
	var prop, value;
	return _regeneratorRuntime.wrap(function yieldIndex$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				prop = source.getProperty(key);

				if (!prop) {
					context$1$0.next = 5;
					break;
				}

				value = prop.getValue();
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

var ArrayIterator = {
	create: function create(obj, lo, hi, desc) {
		return (desc ? descIterator : ascIterator)(obj, lo, hi);
	}
};

exports["default"] = ArrayIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":31}],295:[function(require,module,exports){
"use strict";

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _stringIterator = require("./string-iterator");

var _stringIterator2 = _interopRequireDefault(_stringIterator);

var _sparseIterator = require("./sparse-iterator");

var _sparseIterator2 = _interopRequireDefault(_sparseIterator);

var _arrayIterator = require("./array-iterator");

var _arrayIterator2 = _interopRequireDefault(_arrayIterator);

var _iterableIterator = require("./iterable-iterator");

var _iterableIterator2 = _interopRequireDefault(_iterableIterator);

var _typesSymbolType = require("../types/symbol-type");

var _utilsNative = require("../utils/native");

var _utilsAsync = require("../utils/async");

var _utilsFunc = require("../utils/func");

require("../polyfills");

var SPARE_ARRAY_DENSITY = 0.8;

function arrayIsSparse(arr, length) {
	var ownPropertyCount = _Object$keys(arr.properties).length;

	// this is just to roughly estimate how dense the array is
	var density = (ownPropertyCount - 1) / length;
	return density < SPARE_ARRAY_DENSITY;
}

var iterate = {
	getIterator: function getIterator(env, obj) {
		var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
		var iterator = obj.getProperty(iteratorKey);
		if (iterator) {
			var fn = iterator.getValue();
			var it = (0, _utilsAsync.exhaust)(fn.call(obj));
			return _iterableIterator2["default"].create(it);
		}

		var length = (0, _utilsAsync.exhaust)((0, _utilsNative.toLength)(obj));
		return this.forward(env, obj, 0, length);
	},

	forward: function forward(env, obj, lo, hi) {
		// string will never be dense
		if (obj.className === "String") {
			return _stringIterator2["default"].create(env.objectFactory, obj, lo);
		}

		if (arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi - 1);
		}

		return _arrayIterator2["default"].create(obj, lo, hi);
	},

	reverse: function reverse(env, obj, hi) {
		var lo = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];

		if (obj.className === "String") {
			return _stringIterator2["default"].create(env.objectFactory, obj, hi, true);
		}

		if (arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi, true);
		}

		return _arrayIterator2["default"].create(obj, lo, hi, true);
	}
};

exports["default"] = iterate;
module.exports = exports["default"];
},{"../polyfills":300,"../types/symbol-type":318,"../utils/async":320,"../utils/func":322,"../utils/native":323,"./array-iterator":294,"./iterable-iterator":296,"./sparse-iterator":297,"./string-iterator":298,"babel-runtime/core-js/object/keys":15,"babel-runtime/helpers/interop-require-default":28}],296:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsAsync = require("../utils/async");

var _typesPrimitiveType = require("../types/primitive-type");

var IterableIterator = (function () {
	function IterableIterator(it) {
		_classCallCheck(this, IterableIterator);

		this.currentIndex = 0;
		this.iterator = it;
		this.advancer = it.getValue("next");
	}

	_createClass(IterableIterator, [{
		key: "next",
		value: function next() {
			var result = (0, _utilsAsync.exhaust)(this.advancer.call(this.iterator));
			var value = { key: this.currentIndex++, value: _typesPrimitiveType.UNDEFINED };

			var valueProperty = result.getProperty("value");
			if (valueProperty) {
				value.value = valueProperty.getValue();
			}

			var done = (0, _utilsNative.toBoolean)(result.getValue("done"));
			return { done: done, value: value };
		}
	}, {
		key: "each",
		value: _regeneratorRuntime.mark(function each(func) {
			var done, current, _next;

			return _regeneratorRuntime.wrap(function each$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						done = false;

					case 1:
						if (done) {
							context$2$0.next = 18;
							break;
						}

						context$2$0.prev = 2;
						current = undefined;
						_next = this.next();
						done = _next.done;
						current = _next.value;

						if (done) {
							context$2$0.next = 10;
							break;
						}

						context$2$0.next = 10;
						return func(current.value || _typesPrimitiveType.UNDEFINED);

					case 10:
						context$2$0.next = 16;
						break;

					case 12:
						context$2$0.prev = 12;
						context$2$0.t0 = context$2$0["catch"](2);

						this["return"]();
						throw context$2$0.t0;

					case 16:
						context$2$0.next = 1;
						break;

					case 18:
					case "end":
						return context$2$0.stop();
				}
			}, each, this, [[2, 12]]);
		})
	}, {
		key: "return",
		value: function _return() {
			var propInfo = this.iterator.getProperty("return");
			if (propInfo) {
				var returnFunc = propInfo.getValue();
				return (0, _utilsAsync.exhaust)(returnFunc.call(this.iterator));
			}

			return _typesPrimitiveType.UNDEFINED;
		}
	}], [{
		key: "create",
		value: function create(it) {
			return new IterableIterator(it);
		}
	}]);

	return IterableIterator;
})();

exports["default"] = IterableIterator;
module.exports = exports["default"];
},{"../types/primitive-type":312,"../utils/async":320,"../utils/native":323,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/regenerator":31}],297:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

require("../polyfills");

var ASCENDING = function ASCENDING(a, b) {
	return a - b;
};
var DESCENDING = function DESCENDING(a, b) {
	return b - a;
};

var SparseIterator = (function () {
	function SparseIterator(obj, start, end, desc) {
		_classCallCheck(this, SparseIterator);

		this.object = obj;
		this.start = start;
		this.end = end;
		this.asc = !desc;
		this.version = 0;
	}

	_createClass(SparseIterator, [{
		key: _Symbol$iterator,
		value: function value() {
			return this;
		}
	}, {
		key: "reset",
		value: function reset() {
			this.version = 0;
			this.prototypes = [];
			this.props = _Object$create(null);
			this.keys = [];

			var current = this.object;

			while (current) {
				this.prototypes.push(current);
				this.version += current.version;

				for (var _name in current.properties) {
					if (!(_name in this.props) && contracts.isInteger(_name)) {
						var index = Number(_name);

						if (index >= this.start && index <= this.end) {
							this.props[_name] = current.getOwnProperty(_name);
							this.keys.push(index);
						}
					}
				}

				current = current.getPrototype();
			}

			this.keys.sort(this.asc ? ASCENDING : DESCENDING);
		}
	}, {
		key: "next",
		value: function next() {
			if (!this.version || this.shouldReset()) {
				this.reset();
			}

			if (this.keys.length > 0) {
				var key = this.position = this.keys.shift();
				var value = this.props[key].getValue();

				return {
					value: { value: value, key: key },
					done: false
				};
			}

			return {
				done: true
			};
		}
	}, {
		key: "shouldReset",
		value: function shouldReset() {
			var currentVersion = this.prototypes.reduce(function (v, o) {
				return o.version + v;
			}, 0);
			if (currentVersion !== this.version) {
				if (this.asc) {
					this.start = this.position + 1;
				} else {
					this.end = this.position - 1;
				}

				return true;
			}

			return false;
		}
	}], [{
		key: "create",
		value: function create(arr, start, end, desc) {
			return new SparseIterator(arr, start, end, desc);
		}
	}]);

	return SparseIterator;
})();

exports["default"] = SparseIterator;
module.exports = exports["default"];
},{"../polyfills":300,"../utils/contracts":321,"babel-runtime/core-js/object/create":12,"babel-runtime/core-js/symbol/iterator":21,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-wildcard":29}],298:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator].map(_regeneratorRuntime.mark);
function ascIterator(factory, stringValue, start) {
	var key, _length, value;

	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				key = start, _length = stringValue.length;

			case 1:
				if (!(key < _length)) {
					context$1$0.next = 8;
					break;
				}

				value = factory.createPrimitive(stringValue[key]);
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
				key++;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(factory, stringValue, start) {
	var key, value;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				key = start;

			case 1:
				if (!(key >= 0)) {
					context$1$0.next = 8;
					break;
				}

				value = factory.createPrimitive(stringValue[key]);
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
				key--;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

var StringIterator = {
	create: function create(objectFactory, value, start, desc) {
		var stringValue = value.toNative();
		return (desc ? descIterator : ascIterator)(objectFactory, stringValue, start);
	}
};

exports["default"] = StringIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":31}],299:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.isReserved = isReserved;
exports.isStrictReserved = isStrictReserved;
var keywords = {
	"es5": ["do", "if", "in", "for", "new", "try", "var", "case", "else", "enum", "null", "this", "true", "void", "with", "break", "catch", "class", "const", "false", "super", "throw", "while", "delete", "export", "import", "return", "switch", "typeof", "default", "extends", "finally", "continue", "debugger", "function", "instanceof"],

	"es5strict": ["implements", "let", "private", "public", "interface", "package", "protected", "static", "yield"]
};

function isReserved(name) {
	return keywords.es5.indexOf(name) >= 0;
}

function isStrictReserved(name) {
	return keywords.es5strict.indexOf(name) >= 0;
}
},{}],300:[function(require,module,exports){
"use strict";

require("core-js/fn/string/repeat");

require("core-js/fn/math/sign");

require("core-js/es6/promise");

require("core-js/es6/symbol");
},{"core-js/es6/promise":34,"core-js/es6/symbol":35,"core-js/fn/math/sign":36,"core-js/fn/string/repeat":37}],301:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("./utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function validateAssignment(left, strict) {
	if (strict && left.type === "Identifier") {
		contracts.assertIsValidName(left.name, true);
	}
}

var rules = {
	AssignmentExpression: function AssignmentExpression(node, strict) {
		validateAssignment(node.left, strict);
	},

	CatchClause: function CatchClause(node, strict) {
		contracts.assertIsValidName(node.param.name, strict);
	},

	Identifier: function Identifier(node, strict) {
		contracts.assertIsValidIdentifier(node.name, strict);
	},

	FunctionDeclaration: function FunctionDeclaration(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
		contracts.assertAreValidArguments(node.params, strict);
	},

	FunctionExpression: function FunctionExpression(node, strict) {
		if (node.id) {
			contracts.assertIsValidName(node.id.name, strict);
		}

		contracts.assertAreValidArguments(node.params, strict);
	},

	Literal: function Literal(node, strict) {
		if (strict && node.raw) {
			if (contracts.isOctalLiteral(node.raw, node.value)) {
				throw new SyntaxError("Octal literals are not allowed in strict mode.");
			}
		}
	},

	UpdateExpression: function UpdateExpression(node, strict) {
		validateAssignment(node.argument, strict);
	},

	VariableDeclarator: function VariableDeclarator(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
	},

	WithStatement: function WithStatement(node, strict) {
		if (strict) {
			throw new SyntaxError("Strict mode code may not include a with statement");
		}
	}
};

exports["default"] = rules;
module.exports = exports["default"];
},{"./utils/contracts":321,"babel-runtime/helpers/interop-require-wildcard":29}],302:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ArgumentType = (function (_ObjectType) {
	_inherits(ArgumentType, _ObjectType);

	function ArgumentType(callee) {
		_classCallCheck(this, ArgumentType);

		_get(Object.getPrototypeOf(ArgumentType.prototype), "constructor", this).call(this);
		this.className = "Arguments";
		this.parameterMap = _Object$create(null);
		this.callee = callee;
	}

	_createClass(ArgumentType, [{
		key: "mapProperty",
		value: function mapProperty(index, binding) {
			index = String(index);
			_get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).call(this, index, { configurable: true, enumerable: true, writable: true, value: undefined }, true);
			this.parameterMap[index] = binding;
		}
	}, {
		key: "getProperty",
		value: function getProperty(name) {
			var ownProperty = this.getOwnProperty(name);
			if (ownProperty) {
				return ownProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getProperty", this).call(this, name);
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(name) {
			name = String(name);

			if (name in this.parameterMap) {
				var mappedProperty = this.properties[name];
				var linkedProperty = this.parameterMap[name];

				mappedProperty.value = linkedProperty.getValue();
				mappedProperty.setValue = linkedProperty.setValue.bind(linkedProperty);
				return mappedProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getOwnProperty", this).call(this, name);
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			name = String(name);

			var allowed = _get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).apply(this, arguments);
			if (allowed && name in this.parameterMap) {
				if ("set" in descriptor || "get" in descriptor) {
					delete this.parameterMap[name];
				} else if ("value" in descriptor) {
					this.parameterMap[name].setValue(descriptor.value, throwOnError);
				}

				if ("writable" in descriptor && !descriptor.writable) {
					delete this.parameterMap[name];
				}
			}

			return allowed;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(name, throwOnError) {
			name = String(name);
			if (name in this.parameterMap) {
				delete this.parameterMap[name];
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "deleteProperty", this).apply(this, arguments);
		}
	}]);

	return ArgumentType;
})(_objectType.ObjectType);

exports.ArgumentType = ArgumentType;
},{"./object-type":311,"babel-runtime/core-js/object/create":12,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],303:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [setLength].map(_regeneratorRuntime.mark);

var _objectType = require("./object-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _iterators = require("../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../utils/async");

function setIndex(env, arr, name, descriptor, throwOnError) {
	var index = Number(name);
	var lengthProperty = arr.getProperty("length");
	var lengthValue = lengthProperty.getValue().toNative();

	if (!lengthProperty.canSetValue() && index >= lengthValue || !_objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, false, env)) {

		if (throwOnError) {
			throw new TypeError("Cannot define property: " + name + ", object is not extensible.");
		}

		return false;
	}

	if (index >= lengthValue) {
		var newLength = env.objectFactory.createPrimitive(index + 1);
		arr.defineOwnProperty("length", { value: newLength }, false, env);
	}

	return true;
}

function setLength(env, arr, name, descriptor, throwOnError) {
	var newLengthValue, newLength, currentLength, notWritable, i, succeeded, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key;

	return _regeneratorRuntime.wrap(function setLength$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsNative.toUInt32)(descriptor.value);

			case 2:
				newLengthValue = context$1$0.sent;
				context$1$0.t0 = newLengthValue;
				context$1$0.next = 6;
				return (0, _utilsNative.toNumber)(descriptor.value);

			case 6:
				context$1$0.t1 = context$1$0.sent;

				if (!(context$1$0.t0 !== context$1$0.t1)) {
					context$1$0.next = 9;
					break;
				}

				throw new RangeError("Array length out of range");

			case 9:

				descriptor.value = env.objectFactory.createPrimitive(newLengthValue);
				newLength = descriptor.value;
				currentLength = arr.getProperty("length").getValue();

				contracts.assertIsValidArrayLength(newLength.value);

				if (!(newLength.value >= currentLength.value)) {
					context$1$0.next = 15;
					break;
				}

				return context$1$0.abrupt("return", _objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, throwOnError));

			case 15:
				if (!(arr.properties.length.writable === false)) {
					context$1$0.next = 19;
					break;
				}

				if (!throwOnError) {
					context$1$0.next = 18;
					break;
				}

				throw new TypeError("Cannot redefine property: length");

			case 18:
				return context$1$0.abrupt("return", false);

			case 19:
				notWritable = "writable" in descriptor && !descriptor.writable;

				if (notWritable) {
					// set to writable in case removing items fails
					descriptor.writable = true;
				}

				i = currentLength.value;

				if (_objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, throwOnError)) {
					context$1$0.next = 24;
					break;
				}

				return context$1$0.abrupt("return", false);

			case 24:
				succeeded = true;

				if (!(i > newLength.value)) {
					context$1$0.next = 55;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 29;
				_iterator = _getIterator(_iterators2["default"].reverse(env, arr, i - 1, newLength.value));

			case 31:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 41;
					break;
				}

				key = _step.value.key;

				if (arr.deleteProperty(key, false)) {
					context$1$0.next = 38;
					break;
				}

				newLength = env.objectFactory.createPrimitive(key + 1);
				arr.defineOwnProperty("length", { value: newLength }, false, env);
				succeeded = false;
				return context$1$0.abrupt("break", 41);

			case 38:
				_iteratorNormalCompletion = true;
				context$1$0.next = 31;
				break;

			case 41:
				context$1$0.next = 47;
				break;

			case 43:
				context$1$0.prev = 43;
				context$1$0.t2 = context$1$0["catch"](29);
				_didIteratorError = true;
				_iteratorError = context$1$0.t2;

			case 47:
				context$1$0.prev = 47;
				context$1$0.prev = 48;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 50:
				context$1$0.prev = 50;

				if (!_didIteratorError) {
					context$1$0.next = 53;
					break;
				}

				throw _iteratorError;

			case 53:
				return context$1$0.finish(50);

			case 54:
				return context$1$0.finish(47);

			case 55:

				if (notWritable) {
					arr.defineOwnProperty("length", { writable: false }, false);
				}

				if (!(!succeeded && throwOnError)) {
					context$1$0.next = 58;
					break;
				}

				throw new TypeError("Cannot redefine property: length");

			case 58:
				return context$1$0.abrupt("return", succeeded);

			case 59:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[29, 43, 47, 55], [48,, 50, 54]]);
}

var ArrayType = (function (_ObjectType) {
	_inherits(ArrayType, _ObjectType);

	function ArrayType() {
		_classCallCheck(this, ArrayType);

		_get(Object.getPrototypeOf(ArrayType.prototype), "constructor", this).call(this);
		this.className = "Array";
	}

	_createClass(ArrayType, [{
		key: "init",
		value: function init(env) {
			_get(Object.getPrototypeOf(ArrayType.prototype), "init", this).apply(this, arguments);
			this.defineOwnProperty("length", { value: env.objectFactory.createPrimitive(0), writable: true });
		}
	}, {
		key: "setValue",
		value: function setValue(name, value) {
			if (name === "length") {
				var env = this[_Symbol$for("env")];
				(0, _utilsAsync.exhaust)(setLength(env, this, name, { value: value }));
				return;
			}

			_get(Object.getPrototypeOf(ArrayType.prototype), "setValue", this).apply(this, arguments);
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			var env = this[_Symbol$for("env")];
			if (contracts.isInteger(name) && contracts.isValidArrayLength(Number(name) + 1) && !this.hasOwnProperty(name)) {
				return setIndex(env, this, name, descriptor, throwOnError);
			}

			if (name === "length" && "length" in this.properties && descriptor && "value" in descriptor) {
				return (0, _utilsAsync.exhaust)(setLength(env, this, name, descriptor, throwOnError));
			}

			return _get(Object.getPrototypeOf(ArrayType.prototype), "defineOwnProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var arr = [];

			// this won't grab properties from the prototype - do we care?
			// it's an edge case but we may want to address it
			for (var index in this.properties) {
				if (this.properties[index].enumerable) {
					arr[Number(index)] = this.getValue(index).toNative();
				}
			}

			return arr;
		}
	}]);

	return ArrayType;
})(_objectType.ObjectType);

exports.ArrayType = ArrayType;
},{"../iterators":295,"../utils/async":320,"../utils/contracts":321,"../utils/native":323,"./object-type":311,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/symbol/for":20,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],304:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var DateType = (function (_ObjectType) {
	_inherits(DateType, _ObjectType);

	function DateType(value) {
		_classCallCheck(this, DateType);

		_get(Object.getPrototypeOf(DateType.prototype), "constructor", this).call(this);
		this.value = value;
		this.type = "object";
		this.className = "Date";

		// 11.6.1 Note 1
		// All native ECMAScript objects except Date objects handle the absence of a hint as if the hint
		// Number were given; Date objects handle the absence of a hint as if the hint String were given.
		this.primitiveHint = "string";
	}

	_createClass(DateType, [{
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return DateType;
})(_objectType.ObjectType);

exports.DateType = DateType;
},{"./object-type":311,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],305:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ErrorType = (function (_ObjectType) {
	_inherits(ErrorType, _ObjectType);

	function ErrorType(source) {
		_classCallCheck(this, ErrorType);

		_get(Object.getPrototypeOf(ErrorType.prototype), "constructor", this).call(this);
		this.source = source;
		this.className = "Error";
	}

	_createClass(ErrorType, [{
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return ErrorType;
})(_objectType.ObjectType);

exports.ErrorType = ErrorType;
},{"./object-type":311,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],306:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _propertyDescriptor = require("./property-descriptor");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function getParameterLength(params) {
	for (var i = 0, ln = params.length; i < ln; i++) {
		// parameter length should only include the first "Formal" parameters
		if (params[i].type !== "Identifier") {
			return i;
		}
	}

	return params.length;
}

var FunctionType = (function (_ObjectType) {
	_inherits(FunctionType, _ObjectType);

	function FunctionType(node) {
		_classCallCheck(this, FunctionType);

		_get(Object.getPrototypeOf(FunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.className = "Function";
		this.native = false;
		this.node = node;

		this.arrow = node && node.type === "ArrowFunctionExpression";

		this.boundScope = null;
		this.boundThis = null;
	}

	_createClass(FunctionType, [{
		key: "init",
		value: function init(env, proto, descriptor, strict) {
			_get(Object.getPrototypeOf(FunctionType.prototype), "init", this).apply(this, arguments);

			if (strict !== undefined) {
				this.strict = strict;
			}

			// set length property from the number of parameters
			this.defineOwnProperty("length", { value: env.objectFactory.createPrimitive(getParameterLength(this.node.params)) });

			if (!this.arrow) {
				// functions have a prototype
				proto = proto || env.objectFactory.createObject();
				this.defineOwnProperty("prototype", { value: proto, writable: true });

				// set the contructor property as an instance of itself
				proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });
			}
		}
	}, {
		key: "call",
		value: _regeneratorRuntime.mark(function call(thisArg, args, callee) {
			if (args === undefined) args = [];
			var self, env, scope;
			return _regeneratorRuntime.wrap(function call$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						self = this;
						env = this[_Symbol$for("env")];
						scope = env.createExecutionScope(this, thisArg);
						context$2$0.next = 5;
						return scope.loadArgs(this.node.params, args, this);

					case 5:
						scope.init(this.node && this.node.body);

						context$2$0.next = 8;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							var executionResult, shouldReturn;
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return env.createExecutionContext(self.node.body, callee).execute();

									case 2:
										executionResult = context$3$0.sent;
										shouldReturn = self.arrow || executionResult && executionResult.exit;

										if (!(shouldReturn && executionResult.result)) {
											context$3$0.next = 6;
											break;
										}

										return context$3$0.abrupt("return", executionResult.result);

									case 6:
										return context$3$0.abrupt("return", undefined);

									case 7:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 8:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 9:
					case "end":
						return context$2$0.stop();
				}
			}, call, this);
		})
	}, {
		key: "construct",
		value: _regeneratorRuntime.mark(function construct(thisArg, args, callee) {
			if (args === undefined) args = [];
			var result;
			return _regeneratorRuntime.wrap(function construct$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						thisArg = thisArg || this[_Symbol$for("env")].objectFactory.createObject(this);
						context$2$0.next = 3;
						return this.call(thisArg, args, callee);

					case 3:
						result = context$2$0.sent;

						if (!(result && !result.isPrimitive)) {
							context$2$0.next = 6;
							break;
						}

						return context$2$0.abrupt("return", result);

					case 6:
						return context$2$0.abrupt("return", thisArg);

					case 7:
					case "end":
						return context$2$0.stop();
				}
			}, construct, this);
		})
	}, {
		key: "bindThis",
		value: function bindThis(thisArg) {
			this.boundThis = this.boundThis || thisArg;
		}
	}, {
		key: "bindScope",
		value: function bindScope(scope) {
			this.boundScope = scope;
		}
	}, {
		key: "isStrict",
		value: function isStrict() {
			if ("strict" in this) {
				return this.strict;
			}

			if (this.native) {
				return false;
			}

			return this.strict = contracts.isStrictNode(this.node.body.body);
		}

		// createScope (env, thisArg, isNew) {
		// 	// if a parent scope is defined we need to limit this scope to that scope
		// 	let priorScope = env.current.scope;

		// 	if (this.boundScope) {
		// 		env.setScope(this.boundScope.scope);
		// 	}

		// 	thisArg = this.boundThis || thisArg;
		// 	if (this.arrow) {
		// 		thisArg = env.getThisBinding();
		// 	}

		// 	let scope = env.createScope(thisArg, priorScope);
		// 	scope.priorScope = priorScope;
		// 	return scope;
		// }

	}, {
		key: "hasInstance",
		value: function hasInstance(obj) {
			if (obj === this) {
				// object obviously isn't an instance in this case
				return false;
			}

			var visited = [];
			var current = obj;

			var proto = this.getValue("prototype");
			if (contracts.isNullOrUndefined(proto) || !contracts.isObject(proto)) {
				throw new TypeError("Function has non-object prototype in instanceof check");
			}

			while (current) {
				if (visited.indexOf(current) >= 0) {
					return false;
				}

				if (current === proto) {
					return true;
				}

				// keep a stack to avoid circular reference
				visited.push(current);
				current = current.getPrototype();
			}

			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return undefined;
		}
	}]);

	return FunctionType;
})(_objectType.ObjectType);

exports.FunctionType = FunctionType;
},{"../utils/contracts":321,"./object-type":311,"./property-descriptor":313,"babel-runtime/core-js/symbol/for":20,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],307:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var IteratorType = (function (_ObjectType) {
	_inherits(IteratorType, _ObjectType);

	function IteratorType(iterable) {
		var kind = arguments.length <= 1 || arguments[1] === undefined ? "key+value" : arguments[1];

		_classCallCheck(this, IteratorType);

		_get(Object.getPrototypeOf(IteratorType.prototype), "constructor", this).call(this);

		this.iterable = iterable;
		this.position = 0;
		this.className = "Iterator";
		this.kind = kind;
	}

	_createClass(IteratorType, [{
		key: "advance",
		value: function advance() {
			return this.iterable.next();
		}
	}]);

	return IteratorType;
})(_objectType.ObjectType);

exports.IteratorType = IteratorType;
},{"./object-type":311,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],308:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var MapType = (function (_ObjectType) {
	_inherits(MapType, _ObjectType);

	function MapType() {
		_classCallCheck(this, MapType);

		_get(Object.getPrototypeOf(MapType.prototype), "constructor", this).call(this);
		this.className = "Map";
		this.data = [];
	}

	// init (env) {
	// 	super.init(...arguments);
	// 	let self = this;

	// 	let getter = function () {
	// 		return env.objectFactory.createPrimitive(self.data.filter(e => e).length);
	// 	};

	// 	let getterFunc = env.objectFactory.createGetter(getter, "size");

	// 	this.defineOwnProperty("size", {
	// 		getter: getter,
	// 		get: getterFunc
	// 	});
	// }
	return MapType;
})(_objectType.ObjectType);

exports.MapType = MapType;
},{"./object-type":311,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],309:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _functionType = require("./function-type");

var _propertyDescriptor = require("./property-descriptor");

var _primitiveType = require("./primitive-type");

var NativeFunctionType = (function (_FunctionType) {
	_inherits(NativeFunctionType, _FunctionType);

	function NativeFunctionType(fn) {
		_classCallCheck(this, NativeFunctionType);

		_get(Object.getPrototypeOf(NativeFunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.native = true;
		this.nativeFunction = fn;
	}

	_createClass(NativeFunctionType, [{
		key: "init",
		value: function init(env, proto, descriptor) {
			this[_Symbol$for("env")] = env;

			var length = this.nativeFunction.length;
			if ("nativeLength" in this.nativeFunction) {
				length = this.nativeFunction.nativeLength;
			}

			if ("strict" in this.nativeFunction) {
				this.strict = this.nativeFunction.strict;
			}

			this.defineOwnProperty("length", {
				value: env.objectFactory.createPrimitive(length),
				configurable: false,
				enumerable: false,
				writable: false
			});

			if (proto !== null) {
				proto = proto || env.objectFactory.createObject();
				proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });

				descriptor = descriptor || { configurable: false, enumerable: false, writable: true };
				var protoDescriptor = {
					value: proto,
					configurable: descriptor.configurable,
					enumerable: descriptor.enumerable,
					writable: descriptor.writable
				};

				this.defineOwnProperty("prototype", protoDescriptor);
			}
		}
	}, {
		key: "call",
		value: _regeneratorRuntime.mark(function call(thisArg) {
			var args = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
			var env, self, scope;
			return _regeneratorRuntime.wrap(function call$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						env = this[_Symbol$for("env")];

						if (!thisArg) {
							if (this.strict || env.isStrict()) {
								thisArg = _primitiveType.UNDEFINED;
							} else {
								thisArg = env.global;
							}
						}

						self = this;
						scope = env.createExecutionScope(this, thisArg);
						context$2$0.next = 6;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return self.nativeFunction.apply(env.createExecutionContext(thisArg, self), args);

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 6:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 7:
					case "end":
						return context$2$0.stop();
				}
			}, call, this);
		})
	}, {
		key: "construct",
		value: _regeneratorRuntime.mark(function construct(thisArg) {
			var args = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
			var self, env, scope;
			return _regeneratorRuntime.wrap(function construct$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						self = this;
						env = this[_Symbol$for("env")];
						scope = env.createExecutionScope(this, thisArg);
						context$2$0.next = 5;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return self.nativeFunction.apply(env.createExecutionContext(thisArg, self, true), args);

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 5:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 6:
					case "end":
						return context$2$0.stop();
				}
			}, construct, this);
		})
	}]);

	return NativeFunctionType;
})(_functionType.FunctionType);

exports.NativeFunctionType = NativeFunctionType;
},{"./function-type":306,"./primitive-type":312,"./property-descriptor":313,"babel-runtime/core-js/symbol/for":20,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/regenerator":31}],310:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _primitiveType = require("./primitive-type");

var _functionType = require("./function-type");

var _nativeFunctionType = require("./native-function-type");

var _regexType = require("./regex-type");

var _arrayType = require("./array-type");

var _stringType = require("./string-type");

var _dateType = require("./date-type");

var _errorType = require("./error-type");

var _argumentType = require("./argument-type");

var _setType = require("./set-type");

var _iteratorType = require("./iterator-type");

var _symbolType = require("./symbol-type");

var _mapType = require("./map-type");

var _proxyType = require("./proxy-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var orphans = _Object$create(null);
var functionNameMatcher = /([^.]+(?:\[Symbol\.\w+\])?)$/;

function setOrphans(scope) {
	var _loop = function (typeName) {
		var parent = scope.getValue(typeName);
		if (parent) {
			orphans[typeName].forEach(function (child) {
				child.setPrototype(parent.getValue("prototype"));
			});

			delete orphans[typeName];
		}
	};

	for (var typeName in orphans) {
		_loop(typeName);
	}

	orphans = _Object$create(null);
}

function setProto(typeName, instance, env) {
	if (!env.global || !env.global.owns(typeName)) {
		// during initialization it is possible for objects to be created
		// before the types have been registered - add a registry of items
		// and these can be filled in when the type is registered
		orphans[typeName] = orphans[typeName] || [];
		orphans[typeName].push(instance);

		return;
	}

	var proto = env.global.getValue(typeName).getValue("prototype");
	instance.setPrototype(proto);
}

var defaultDescriptor = { configurable: true, enumerable: true, writable: true };
function createDataPropertyDescriptor(value) {
	var _ref = arguments.length <= 1 || arguments[1] === undefined ? defaultDescriptor : arguments[1];

	var _ref$configurable = _ref.configurable;
	var configurable = _ref$configurable === undefined ? true : _ref$configurable;
	var _ref$enumerable = _ref.enumerable;
	var enumerable = _ref$enumerable === undefined ? true : _ref$enumerable;
	var _ref$writable = _ref.writable;
	var writable = _ref$writable === undefined ? true : _ref$writable;

	return { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
}

var ObjectFactory = (function () {
	function ObjectFactory(env) {
		_classCallCheck(this, ObjectFactory);

		this.env = env;
		this.options = env.options;
	}

	_createClass(ObjectFactory, [{
		key: "init",
		value: function init() {
			setOrphans(this.env);
		}

		/**
   * Creates a primitive object based on the provided native value.
   * @param {any} value - The primitive value.
   * @returns {ObjectType} The primitive instance.
   */
	}, {
		key: "createPrimitive",
		value: function createPrimitive(value) {
			return this.create(contracts.getType(value), value);
		}

		/**
   * Creates an object based on the type specified. For a primitive type the second
   * parameter is used as the objects underlying value.
   * @param {String} typeName - The name of the object to create.
   * @param {any} [value] - The primitive value.
   * @returns {ObjectType} The new instance.
   */
	}, {
		key: "create",
		value: function create(typeName, value) {
			// the value is already wrapped in an object
			// this can happen if an exception is rethrown
			if (value && value instanceof _objectType.ObjectType) {
				return value;
			}

			var instance = undefined;

			switch (typeName) {
				case "Null":
					return _primitiveType.NULL;

				case "Undefined":
					return _primitiveType.UNDEFINED;

				case "Symbol":
					instance = new _symbolType.SymbolType(value);
					break;

				case "String":
					instance = new _stringType.StringType(value);
					break;

				case "Number":
				case "Boolean":
					instance = new _primitiveType.PrimitiveType(value);
					break;

				case "Date":
					instance = new _dateType.DateType(value);
					break;

				case "RegExp":
					instance = new _regexType.RegexType(value);
					break;

				case "Array":
					instance = new _arrayType.ArrayType();
					break;

				case "Set":
					instance = new _setType.SetType();
					break;

				case "Map":
					instance = new _mapType.MapType();
					break;

				case "Error":
				case "TypeError":
				case "ReferenceError":
				case "SyntaxError":
				case "RangeError":
				case "URIError":
				case "EvalError":
					instance = new _errorType.ErrorType(value);

					if (value) {
						typeName = value.name || typeName;
						if (value.message) {
							var message = this.createPrimitive(value.message);
							instance.defineOwnProperty("message", createDataPropertyDescriptor(message, { enumerable: false }));
						}
					}

					break;

				default:
					throw new Error("Not a primitive: " + value);
			}

			instance.init(this.env);
			setProto(typeName, instance, this.env);
			return instance;
		}

		/**
   * Creates an array object.
   * @param {ObjectType[]} [elements] - If provided, the elements will be added to the new array.
   * @returns {ArrayType} The array instance.
   */
	}, {
		key: "createArray",
		value: function createArray(elements) {
			var instance = this.create("Array");

			if (elements) {
				for (var i = 0, ln = elements.length; i < ln; i++) {
					instance.defineOwnProperty(i, createDataPropertyDescriptor(elements[i]), true, this.env);
				}
			}

			return instance;
		}

		/**
   * Creates an object.
   * @param {ObjectType} [proto] - The prototype to use with the new object. If no value is provided
   * the Object prototype will be used. If `null` is passed in, no prototype will be assigned to the
   * new object.
   * @returns {ObjectType} The object instance.
   */
	}, {
		key: "createObject",
		value: function createObject(proto) {
			var instance = new _objectType.ObjectType();

			if (proto !== null) {
				if (proto) {
					instance.setPrototype(proto.getValue("prototype"));
				} else {
					setProto("Object", instance, this.env);
				}
			}

			instance.init(this.env);
			return instance;
		}
	}, {
		key: "createProxy",
		value: function createProxy(target, handler) {
			contracts.assertIsObject(target, "Proxy");
			contracts.assertIsObject(handler, "Proxy");

			if (target.isProxy && target.revoked) {
				throw new TypeError();
			}

			if (handler.isProxy && handler.revoked) {
				throw new TypeError();
			}

			var instance = new _proxyType.ProxyType(target, handler);
			instance.init(this.env);
			return instance;
		}
	}, {
		key: "createArguments",
		value: function createArguments(args, callee, strict) {
			var instance = new _argumentType.ArgumentType();
			var objectClass = this.env.global.getValue("Object");

			instance.init(this.env, objectClass, objectClass.getPrototype());
			instance.setPrototype(objectClass.getValue("prototype"));

			if (strict) {
				var thrower = this.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
				instance.defineOwnProperty("callee", thrower);
				instance.defineOwnProperty("caller", thrower);
			} else {
				instance.defineOwnProperty("callee", {
					configurable: true,
					enumerable: false,
					value: callee,
					writable: true
				});
			}

			return instance;
		}
	}, {
		key: "createIterator",
		value: function createIterator(iterable, proto) {
			var self = this;
			var instance = new _iteratorType.IteratorType(iterable);

			if (!proto) {
				proto = this.createObject();
				proto.className = "[Symbol.iterator]";
			}

			if (!proto.has("next")) {
				proto.define("next", this.createBuiltInFunction(function () {
					var result = this.node.advance();
					if (result.value) {
						return result.value;
					}

					return self.createIteratorResult({ done: true });
				}));
			}

			instance.setPrototype(proto);
			return instance;
		}
	}, {
		key: "createIteratorResult",
		value: function createIteratorResult(_ref2) {
			var value = _ref2.value;
			var _ref2$done = _ref2.done;
			var done = _ref2$done === undefined ? false : _ref2$done;

			var result = this.createObject();
			result.defineOwnProperty("done", { value: this.createPrimitive(done) });
			result.defineOwnProperty("value", { value: value || _primitiveType.UNDEFINED });
			return result;
		}

		/**
   * Creates a function instance.
   * @param {AST|Function} fnOrNode - The AST or function to be used when the function is called.
   * @param {ObjectType} [proto] - The prototype to use for the function. If no object is provided
   * an empty object is used.
   * @param {Object} [options] - Property values to be used for the prototype.
   * @returns {FunctionType} The function instance.
   */
	}, {
		key: "createFunction",
		value: function createFunction(fnOrNode, proto) {
			var _ref3 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref3$configurable = _ref3.configurable;
			var configurable = _ref3$configurable === undefined ? false : _ref3$configurable;
			var _ref3$enumerable = _ref3.enumerable;
			var enumerable = _ref3$enumerable === undefined ? false : _ref3$enumerable;
			var _ref3$writable = _ref3.writable;
			var writable = _ref3$writable === undefined ? true : _ref3$writable;
			var _ref3$strict = _ref3.strict;
			var strict = _ref3$strict === undefined ? false : _ref3$strict;
			var _ref3$name = _ref3.name;
			var name = _ref3$name === undefined ? "anonymous" : _ref3$name;

			var instance = undefined;

			if (typeof fnOrNode === "function") {
				instance = new _nativeFunctionType.NativeFunctionType(fnOrNode);
			} else {
				instance = new _functionType.FunctionType(fnOrNode);
			}

			instance.init(this.env, proto, { configurable: configurable, enumerable: enumerable, writable: writable }, strict);
			instance.name = name;

			if (this.options.ecmaVersion > 5) {
				instance.defineOwnProperty("name", { value: this.createPrimitive(name), configurable: true }, true, this.env);
			}

			setProto("Function", instance, this.env);
			return instance;
		}
	}, {
		key: "createGetter",
		value: function createGetter(func, key) {
			return this.createBuiltInFunction(func, 0, "get " + key);
		}
	}, {
		key: "createSetter",
		value: function createSetter(func, key) {
			return this.createBuiltInFunction(func, 1, "set " + key);
		}

		/**
   * Creates a function with no prototype that cannot be instantiated.
   * @param {Function} func - The underlying function.
   * @param {Number} length - The length property of the function.
   * @param {String} funcName - The name of the function.
   * @returns {NativeFunctionType} The function instance.
   */
	}, {
		key: "createBuiltInFunction",
		value: function createBuiltInFunction(func, length, funcName) {
			var instance = new _nativeFunctionType.NativeFunctionType(function () {
				if (this.isNew) {
					throw new TypeError(funcName + " is not a constructor");
				}

				return func.apply(this, arguments);
			});

			setProto("Function", instance, this.env);
			instance[_Symbol$for("env")] = this.env;
			instance.builtIn = true;
			instance.defineOwnProperty("length", { value: this.createPrimitive(length), configurable: true });

			var match = functionNameMatcher.exec(funcName);
			var name = match && match[1] || funcName;

			instance.defineOwnProperty("name", { value: this.createPrimitive(name), configurable: true }, true, this.env);

			return instance;
		}
	}, {
		key: "createThrower",
		value: function createThrower(message, thrower) {
			this.throwers = this.throwers || _Object$create(null);
			if (message in this.throwers) {
				return this.throwers[message];
			}

			thrower = thrower || function () {
				throw new TypeError(message);
			};

			// we want to keep the same instance of the throwers because there
			// are silly tests that check for this
			var throwerInstance = this.createBuiltInFunction(thrower);
			return this.throwers[message] = {
				get: throwerInstance,
				getter: thrower,
				set: throwerInstance,
				setter: thrower,
				enumerable: false,
				configurable: false
			};
		}
	}]);

	return ObjectFactory;
})();

exports.ObjectFactory = ObjectFactory;
},{"../utils/contracts":321,"./argument-type":302,"./array-type":303,"./date-type":304,"./error-type":305,"./function-type":306,"./iterator-type":307,"./map-type":308,"./native-function-type":309,"./object-type":311,"./primitive-type":312,"./proxy-type":314,"./regex-type":315,"./set-type":316,"./string-type":317,"./symbol-type":318,"babel-runtime/core-js/object/create":12,"babel-runtime/core-js/symbol/for":20,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-wildcard":29}],311:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [propertyIterator].map(_regeneratorRuntime.mark);

var _propertyDescriptor = require("./property-descriptor");

var integerMatcher = /^\n+$/;

function isSymbol(key) {
	return key && typeof key !== "string" && key.isSymbol;
}

function getPropertySource(key) {
	return isSymbol(key) ? "symbols" : "properties";
}

function propertyIterator(env, obj) {
	var visited, objectFactory, current, keys, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key, desc, value;

	return _regeneratorRuntime.wrap(function propertyIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				visited = _Object$create(null);
				objectFactory = env.objectFactory;
				current = obj;

			case 3:
				if (!current) {
					context$1$0.next = 39;
					break;
				}

				keys = current.getOwnPropertyKeys("String");
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 8;
				_iterator = _getIterator(keys);

			case 10:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 22;
					break;
				}

				key = _step.value;
				desc = current.getProperty(key);

				if (!desc) {
					context$1$0.next = 19;
					break;
				}

				if (!(desc.enumerable && !(key in visited))) {
					context$1$0.next = 18;
					break;
				}

				value = objectFactory.createPrimitive(key);
				context$1$0.next = 18;
				return objectFactory.createIteratorResult({ value: value });

			case 18:

				visited[key] = true;

			case 19:
				_iteratorNormalCompletion = true;
				context$1$0.next = 10;
				break;

			case 22:
				context$1$0.next = 28;
				break;

			case 24:
				context$1$0.prev = 24;
				context$1$0.t0 = context$1$0["catch"](8);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 28:
				context$1$0.prev = 28;
				context$1$0.prev = 29;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 31:
				context$1$0.prev = 31;

				if (!_didIteratorError) {
					context$1$0.next = 34;
					break;
				}

				throw _iteratorError;

			case 34:
				return context$1$0.finish(31);

			case 35:
				return context$1$0.finish(28);

			case 36:

				current = current.getPrototype();
				context$1$0.next = 3;
				break;

			case 39:
				return context$1$0.abrupt("return", objectFactory.createIteratorResult({ done: true }));

			case 40:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[8, 24, 28, 36], [29,, 31, 35]]);
}

function propertyKeyComparer(a, b) {
	if (integerMatcher.test(a)) {
		if (integerMatcher.test(b)) {
			return a - b;
		}

		return 1;
	}

	if (integerMatcher.test(b)) {
		return -1;
	}

	return 0;
}

var ObjectType = (function () {
	function ObjectType() {
		_classCallCheck(this, ObjectType);

		this.isPrimitive = false;
		this.type = "object";
		this.className = "Object";
		this.extensible = true;
		this.properties = _Object$create(null);
		this.symbols = _Object$create(null);

		this.version = 0;
		this.primitiveHint = "number";
	}

	_createClass(ObjectType, [{
		key: "init",
		value: function init(env, proto, descriptor, strict) {
			this[_Symbol$for("env")] = env;
		}
	}, {
		key: "getPrototype",
		value: function getPrototype() {
			return this.proto;
		}
	}, {
		key: "setPrototype",
		value: function setPrototype(proto) {
			if (this.proto === proto) {
				return true;
			}

			if (!this.isExtensible()) {
				return false;
			}

			// check whether prototype chain already includes object
			var current = proto;
			while (current) {
				if (current === this) {
					return false;
				}

				current = current.getPrototype();
			}

			this.proto = proto;
			this.version++;

			return true;
		}
	}, {
		key: "getProperty",
		value: function getProperty(key, target) {
			target = target || this;

			var localKey = String(key);
			var source = getPropertySource(key);

			if (localKey in this[source]) {
				return this[source][localKey].bind(target);
			}

			var current = this.getPrototype();
			if (current) {
				return current.getProperty(key, target);
			}

			return undefined;
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(key) {
			return this[getPropertySource(key)][String(key)];
		}
	}, {
		key: "getOwnPropertyKeys",
		value: function getOwnPropertyKeys(keyType) {
			var keys = [];

			if (keyType !== "Symbol") {
				// note: this uses native sort which may not be stable
				keys = _Object$keys(this.properties).sort(propertyKeyComparer);
			}

			if (keyType !== "String") {
				for (var key in this.symbols) {
					keys.push(this.symbols[key].key);
				}
			}

			return keys;
		}
	}, {
		key: "isExtensible",
		value: function isExtensible() {
			return this.extensible;
		}
	}, {
		key: "getIterator",
		value: function getIterator() {
			var env = this[_Symbol$for("env")];
			return env.objectFactory.createIterator(propertyIterator(env, this));
		}
	}, {
		key: "has",
		value: function has(key) {
			if (String(key) in this[getPropertySource(key)]) {
				return true;
			}

			var current = this.getPrototype();
			if (current) {
				return current.has(key);
			}

			return false;
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return String(key) in this[getPropertySource(key)];
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, receiver) {
			receiver = receiver || this;

			var descriptor = this.getProperty(key);
			if (descriptor) {
				if (this !== receiver && receiver.owns(key)) {
					var receiverDescriptor = receiver.getProperty(key);
					if (!receiverDescriptor.dataProperty) {
						return false;
					}

					descriptor = receiverDescriptor;
				}

				if (!descriptor.dataProperty) {
					descriptor.bind(receiver);
					descriptor.setValue(value);
					return true;
				}

				if (!receiver.owns(key)) {
					return receiver.defineOwnProperty(key, {
						value: value,
						configurable: true,
						enumerable: true,
						writable: true
					}, false);
				}

				if (!descriptor.canUpdate({ value: value })) {
					return false;
				}

				descriptor.setValue(value);
				return true;
			}

			return receiver.defineOwnProperty(key, {
				value: value,
				configurable: true,
				enumerable: true,
				writable: true
			}, false);
		}
	}, {
		key: "putValue",
		value: function putValue(key, value, throwOnError) {
			if (this.isPrimitive) {
				return;
			}

			var descriptor = this.getProperty(key);
			if (descriptor) {
				if (!descriptor.canSetValue()) {
					if (throwOnError) {
						throw new TypeError("Cannot assign to read only property '" + key + "'");
					}

					return;
				}

				if (descriptor.dataProperty && !this.owns(key)) {
					this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, {
						value: value,
						configurable: descriptor.configurable,
						enumerable: descriptor.enumerable,
						writable: descriptor.writable
					}, key);

					this.version++;
				} else {
					descriptor.setValue(value);
				}
			} else {
				this.defineOwnProperty(key, { value: value, configurable: true, enumerable: true, writable: true }, throwOnError);
			}
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor, throwOnError) {
			if (this.isPrimitive) {
				if (throwOnError) {
					throw new TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			var current = this.getOwnProperty(key);
			if (current) {
				if (current.canUpdate(descriptor)) {
					current.update(descriptor);
					return true;
				}

				if (throwOnError) {
					throw new TypeError("Cannot redefine property: " + key);
				}

				return false;
			} else if (!this.extensible) {
				if (throwOnError) {
					throw new TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor, key);
			this.version++;
			return true;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(key, throwOnError) {
			if (this.isPrimitive) {
				return false;
			}

			var source = getPropertySource(key);
			key = String(key);

			if (key in this[source]) {
				if (!this[source][key].configurable) {
					if (throwOnError) {
						throw new TypeError("Cannot delete property: " + key);
					}

					return false;
				}
			}

			this.version++;
			return delete this[source][key];
		}
	}, {
		key: "define",
		value: function define(key, value) {
			var _ref = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref$configurable = _ref.configurable;
			var configurable = _ref$configurable === undefined ? true : _ref$configurable;
			var _ref$enumerable = _ref.enumerable;
			var enumerable = _ref$enumerable === undefined ? false : _ref$enumerable;
			var _ref$writable = _ref.writable;
			var writable = _ref$writable === undefined ? true : _ref$writable;
			var getter = _ref.getter;
			var get = _ref.get;
			var setter = _ref.setter;
			var set = _ref.set;

			// this method is intended for external usage only - it provides a way to define
			// methods and properties and overwrite any existing properties even if they are
			// not configurable

			var descriptor = undefined;
			if (getter || setter) {
				descriptor = { getter: getter, get: get, setter: setter, set: set, configurable: configurable, enumerable: enumerable };
			} else {
				descriptor = { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor, key);
			this.version++;
		}
	}, {
		key: "remove",
		value: function remove(key) {
			// this method is intended for external usage only - it provides a way to remove
			// properties even if they are not normally able to be deleted
			delete this[getPropertySource(key)][String(key)];
			this.version++;
		}
	}, {
		key: "getValue",
		value: function getValue(key) {
			if (arguments.length > 0) {
				var property = this.getProperty(key);
				return property && property.getValue();
			}

			return this;
		}
	}, {
		key: "each",
		value: function each(func) {
			var _this = this;

			["properties", "symbols"].forEach(function (source) {
				for (var key in _this[source]) {
					func(_this[source][key]);
				}
			});
		}
	}, {
		key: "freeze",
		value: function freeze() {
			var _this2 = this;

			this.each(function (desc) {
				if (desc.dataProperty) {
					_this2.defineOwnProperty(desc.key, { writable: false, configurable: false });
				} else {
					_this2.defineOwnProperty(desc.key, { configurable: false });
				}
			});

			this.preventExtensions();
		}
	}, {
		key: "preventExtensions",
		value: function preventExtensions() {
			this.extensible = false;
			return true;
		}
	}, {
		key: "seal",
		value: function seal() {
			var _this3 = this;

			this.each(function (desc) {
				_this3.defineOwnProperty(desc.key, { configurable: false }, true);
			});

			this.preventExtensions();
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var unwrapped = {};
			var current = this;

			while (current) {
				for (var _name in current.properties) {
					if (current.properties[_name].enumerable && !(_name in unwrapped)) {
						unwrapped[_name] = current.getValue(_name).toNative();
					}
				}

				current = current.getPrototype();
			}

			return unwrapped;
		}
	}]);

	return ObjectType;
})();

exports.ObjectType = ObjectType;
},{"./property-descriptor":313,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/object/create":12,"babel-runtime/core-js/object/keys":15,"babel-runtime/core-js/symbol/for":20,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/regenerator":31}],312:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var PrimitiveType = (function (_ObjectType) {
	_inherits(PrimitiveType, _ObjectType);

	function PrimitiveType(value) {
		_classCallCheck(this, PrimitiveType);

		_get(Object.getPrototypeOf(PrimitiveType.prototype), "constructor", this).call(this);

		this.isPrimitive = true;
		this.value = value;
		this.type = typeof value;

		this.className = contracts.getType(value);
	}

	_createClass(PrimitiveType, [{
		key: "getProperty",
		value: function getProperty(name) {
			// can't read properties of null/undefined
			if (this.value == null) {
				throw new TypeError("Cannot read property '" + name + "' of " + this.type);
			}

			return _get(Object.getPrototypeOf(PrimitiveType.prototype), "getProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return PrimitiveType;
})(_objectType.ObjectType);

exports.PrimitiveType = PrimitiveType;
var UNDEFINED = new PrimitiveType(undefined);
exports.UNDEFINED = UNDEFINED;
var NULL = new PrimitiveType(null);
exports.NULL = NULL;
},{"../utils/contracts":321,"./object-type":311,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-wildcard":29}],313:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsOperators = require("../utils/operators");

var ops = _interopRequireWildcard(_utilsOperators);

var _utilsAsync = require("../utils/async");

var defaultDescriptor = {
	configurable: false,
	enumerable: false,
	writable: false
};

var PropertyDescriptor = (function () {
	function PropertyDescriptor(base, config, key) {
		if (config === undefined) config = defaultDescriptor;

		_classCallCheck(this, PropertyDescriptor);

		this.base = base;
		this.configurable = config.configurable || false;
		this.enumerable = config.enumerable || false;
		this.key = key;

		if ("get" in config || "set" in config) {
			this.dataProperty = false;
			this.get = config.get;
			this.getter = config.getter;
			this.set = config.set;
			this.setter = config.setter;
		} else {
			this.writable = config.writable || false;
			this.dataProperty = true;
			this.value = config.value;
		}
	}

	_createClass(PropertyDescriptor, [{
		key: "bind",
		value: function bind(obj) {
			this.base = obj;
			return this;
		}
	}, {
		key: "update",
		value: function update(descriptor) {
			for (var prop in descriptor) {
				if (descriptor.hasOwnProperty(prop)) {
					this[prop] = descriptor[prop];
				}
			}

			if ("get" in descriptor || "set" in descriptor) {
				this.writable = undefined;
				this.dataProperty = false;
				this.value = undefined;
			} else if ("value" in descriptor) {
				this.writable = this.writable === undefined ? false : this.writable;
				this.dataProperty = true;
				this.get = this.getter = this.set = this.setter = undefined;
			}
		}
	}, {
		key: "canUpdate",
		value: function canUpdate(descriptor) {
			if (this.configurable) {
				return true;
			}

			if ("configurable" in descriptor && this.configurable !== descriptor.configurable) {
				return false;
			}

			if ("enumerable" in descriptor && this.enumerable !== descriptor.enumerable) {
				return false;
			}

			if (("get" in descriptor || "set" in descriptor) && this.dataProperty) {
				return false;
			}

			if ("value" in descriptor && !this.dataProperty) {
				return false;
			}

			if (this.dataProperty) {
				if (!this.writable) {
					if (descriptor.writable) {
						return false;
					}

					return !("value" in descriptor) || ops.areSame(this.value, descriptor.value);
				}

				return true;
			}

			if ("get" in descriptor && this.get !== descriptor.get) {
				return false;
			}

			if ("set" in descriptor && this.set !== descriptor.set) {
				return false;
			}

			return true;
		}
	}, {
		key: "getValue",
		value: function getValue() {
			if (this.dataProperty) {
				return this.value;
			}

			if (this.getter) {
				return (0, _utilsAsync.exhaust)(this.getter.call(this.base));
			}

			return undefined;
		}
	}, {
		key: "canSetValue",
		value: function canSetValue() {
			return this.writable || !!this.setter;
		}
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (!this.canSetValue()) {
				return;
			}

			if (this.dataProperty) {
				this.value = value;
			} else if (this.setter) {
				(0, _utilsAsync.exhaust)(this.setter.call(this.base, value));
			}
		}
	}]);

	return PropertyDescriptor;
})();

exports.PropertyDescriptor = PropertyDescriptor;
},{"../utils/async":320,"../utils/operators":324,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/interop-require-wildcard":29}],314:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _primitiveType = require("./primitive-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

// import {execute as exec} from "../utils/func";

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

var _propertyDescriptor = require("./property-descriptor");

var envSymbol = _Symbol$for("env");

function getProxyMethod(proxy, key) {
	var handler = proxy.handler.getProperty(key);
	if (!handler) {
		return null;
	}

	var method = handler.getValue();
	if (contracts.isUndefined(method)) {
		return null;
	}

	contracts.assertIsFunction(method, key);
	return method;
}

function getValueOrDefault(obj, key) {
	var defaultValue = arguments.length <= 2 || arguments[2] === undefined ? _primitiveType.UNDEFINED : arguments[2];
	var transformer = arguments.length <= 3 || arguments[3] === undefined ? function (v) {
		return v;
	} : arguments[3];

	var propInfo = obj.getProperty(key);
	if (propInfo) {
		return transformer(propInfo.getValue());
	}

	return defaultValue;
}

function normalizeKey(env, key) {
	if (typeof key !== "object") {
		return env.objectFactory.createPrimitive(key);
	}

	return key;
}

function denormalizeKey(key) {
	if (key.isSymbol) {
		return key;
	}

	return key.toNative();
}

function toPropertyDescriptor(env, descriptor) {
	var result = env.objectFactory.createObject();
	if (descriptor.get || descriptor.set) {
		result.setValue("get", descriptor.get || _primitiveType.UNDEFINED);
		result.setValue("set", descriptor.set || _primitiveType.UNDEFINED);
	} else {
		result.setValue("value", descriptor.value);
		result.setValue("writable", env.objectFactory.createPrimitive(descriptor.writable));
	}

	result.setValue("enumerable", env.objectFactory.createPrimitive(descriptor.enumerable));
	result.setValue("configurable", env.objectFactory.createPrimitive(descriptor.configurable));
	return result;
}

function toCall(proxy, methodName) {
	var proxyMethod = getProxyMethod(proxy, "apply");
	if (contracts.isUndefined(proxyMethod)) {
		return proxy.target.getValue(methodName);
	}

	return proxy[envSymbol].objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			args[_key - 1] = arguments[_key];
		}

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (methodName === "apply" && args.length > 0) {
						args = (0, _utilsNative.toArray)(args[0]);
					}

					context$2$0.next = 3;
					return proxy.call(thisArg, args);

				case 3:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype." + methodName);
}

function assertIsNotRevoked(proxy, methodName) {
	if (proxy.revoked) {
		throw new TypeError("Method " + methodName + " called on a revoked Proxy object");
	}
}

function throwProxyInvariantError(methodName) {
	throw new TypeError("Invariant check failed for proxy " + methodName + " trap");
}

var ProxyType = (function (_ObjectType) {
	_inherits(ProxyType, _ObjectType);

	function ProxyType(target, handler) {
		_classCallCheck(this, ProxyType);

		_get(Object.getPrototypeOf(ProxyType.prototype), "constructor", this).call(this);
		this.target = target;
		this.handler = handler;
		this.className = target.className;
		this.type = target.type;
		this.revoked = false;
		this.isProxy = true;
	}

	_createClass(ProxyType, [{
		key: "call",
		value: _regeneratorRuntime.mark(function call(thisArg, args) {
			var proxyMethod,
			    _target,
			    argsArray,
			    args$2$0 = arguments;

			return _regeneratorRuntime.wrap(function call$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						assertIsNotRevoked(this, "apply");

						proxyMethod = getProxyMethod(this, "apply");

						if (!contracts.isUndefined(proxyMethod)) {
							context$2$0.next = 6;
							break;
						}

						context$2$0.next = 5;
						return (_target = this.target).call.apply(_target, args$2$0);

					case 5:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 6:
						argsArray = this[envSymbol].objectFactory.createArray(args);
						context$2$0.next = 9;
						return proxyMethod.call(this.handler, [this.target, thisArg, argsArray]);

					case 9:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 10:
					case "end":
						return context$2$0.stop();
				}
			}, call, this);
		})
	}, {
		key: "construct",
		value: _regeneratorRuntime.mark(function construct(thisArg, args) {
			var proxyMethod,
			    _target2,
			    argsArray,
			    newObj,
			    args$2$0 = arguments;

			return _regeneratorRuntime.wrap(function construct$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						assertIsNotRevoked(this, "construct");

						proxyMethod = getProxyMethod(this, "construct");

						if (!contracts.isUndefined(proxyMethod)) {
							context$2$0.next = 6;
							break;
						}

						context$2$0.next = 5;
						return (_target2 = this.target).construct.apply(_target2, args$2$0);

					case 5:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 6:
						argsArray = this[envSymbol].objectFactory.createArray(args);
						context$2$0.next = 9;
						return proxyMethod.call(this.handler, [this.target, argsArray, this]);

					case 9:
						newObj = context$2$0.sent;

						if (!contracts.isObject(newObj)) {
							throwProxyInvariantError("construct");
						}

						return context$2$0.abrupt("return", newObj);

					case 12:
					case "end":
						return context$2$0.stop();
				}
			}, construct, this);
		})
	}, {
		key: "has",
		value: function has(key) {
			assertIsNotRevoked(this, "has");

			var proxyMethod = getProxyMethod(this, "has");
			if (!proxyMethod) {
				return this.target.has(key);
			}

			var env = this[envSymbol];
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key)])));
			if (!result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo) {
					if (!propInfo.configurable) {
						throwProxyInvariantError("has");
					}

					if (!this.target.isExtensible()) {
						throwProxyInvariantError("has");
					}
				}
			}

			return result;
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.target.owns(key);
		}
	}, {
		key: "getProperty",
		value: function getProperty(key, target) {
			assertIsNotRevoked(this, "get");

			// special case for function types
			if (this.type === "function" && (key === "call" || key === "apply")) {
				return new _propertyDescriptor.PropertyDescriptor(this, { value: toCall(this, key) }, key);
			}

			var proxyMethod = getProxyMethod(this, "get");
			if (!proxyMethod) {
				return this.target.getProperty(key, target);
			}

			var env = this[envSymbol];
			var value = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key), this]));
			var propInfo = this.target.getProperty(key);
			if (propInfo && !propInfo.configurable) {
				var targetValue = propInfo.getValue();
				if (propInfo.dataProperty && !propInfo.writable && !env.ops.areSame(value, targetValue)) {
					throwProxyInvariantError("get");
				}

				if (!propInfo.dataProperty && contracts.isUndefined(propInfo.get) && !contracts.isUndefined(value)) {
					throwProxyInvariantError("get");
				}
			}

			return new _propertyDescriptor.PropertyDescriptor(this, { value: value }, key);
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(key) {
			assertIsNotRevoked(this, "getOwnPropertyDescriptor");

			var proxyMethod = getProxyMethod(this, "getOwnPropertyDescriptor");
			if (!proxyMethod) {
				return this.target.getOwnProperty(key);
			}

			var env = this[envSymbol];
			var descriptor = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key)]));
			if (descriptor.type !== "object" && descriptor.type !== "undefined") {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			var propInfo = this.target.getOwnProperty(key);
			var hasDescriptor = !!propInfo;
			var frozen = !this.target.isExtensible() || hasDescriptor && !propInfo.configurable;

			if (contracts.isUndefined(descriptor)) {
				if (frozen) {
					throwProxyInvariantError("getOwnPropertyDescriptor");
				}

				return undefined;
			}

			if (!hasDescriptor && frozen) {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			var enumerable = getValueOrDefault(descriptor, "enumerable", false, _utilsNative.toBoolean);
			var configurable = getValueOrDefault(descriptor, "configurable", false, _utilsNative.toBoolean);
			var writable = getValueOrDefault(descriptor, "writable", false, _utilsNative.toBoolean);
			var value = getValueOrDefault(descriptor, "value");
			var getter = getValueOrDefault(descriptor, "get", null);
			var setter = getValueOrDefault(descriptor, "set", null);

			if (!configurable && (!hasDescriptor || !frozen)) {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			var proxyDescriptor = undefined;
			if (getter || setter) {
				proxyDescriptor = { getter: getter, setter: setter, get: undefined, set: undefined, enumerable: enumerable, configurable: configurable };
			} else {
				proxyDescriptor = { value: value, enumerable: enumerable, configurable: configurable, writable: writable };
			}

			if (hasDescriptor && !propInfo.canUpdate(proxyDescriptor)) {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			return new _propertyDescriptor.PropertyDescriptor(this, proxyDescriptor, key);
		}
	}, {
		key: "getPrototype",
		value: function getPrototype() {
			assertIsNotRevoked(this, "getPrototypeOf");

			var proxyMethod = getProxyMethod(this, "getPrototypeOf");
			if (!proxyMethod) {
				return this.target.getPrototype();
			}

			var proto = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target]));
			if (!contracts.isObject(proto) && !contracts.isNull(proto)) {
				throwProxyInvariantError("getPrototypeOf");
			}

			if (this.target.isExtensible()) {
				return proto;
			}

			var targetProto = this.target.getPrototype();
			if (targetProto !== proto) {
				throwProxyInvariantError("getPrototypeOf");
			}

			return proto;
		}
	}, {
		key: "setPrototype",
		value: function setPrototype(proto) {
			assertIsNotRevoked(this, "setPrototypeOf");

			var proxyMethod = getProxyMethod(this, "setPrototypeOf");
			if (!proxyMethod) {
				return this.target.setPrototype(proto);
			}

			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, proto])));
			if (this.target.isExtensible()) {
				return result;
			}

			var targetProto = this.target.getPrototype();
			if (result && targetProto !== proto) {
				throwProxyInvariantError("setPrototypeOf");
			}

			return result;
		}
	}, {
		key: "isExtensible",
		value: function isExtensible() {
			assertIsNotRevoked(this, "isExtensible");

			var proxyMethod = getProxyMethod(this, "isExtensible");
			if (!proxyMethod) {
				return this.target.isExtensible();
			}

			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target])));
			var targetResult = this.target.isExtensible();

			if (result !== targetResult) {
				throwProxyInvariantError("isExtensible");
			}

			return result;
		}
	}, {
		key: "preventExtensions",
		value: function preventExtensions() {
			assertIsNotRevoked(this, "preventExtensions");

			var proxyMethod = getProxyMethod(this, "preventExtensions");
			if (!proxyMethod) {
				return this.target.preventExtensions();
			}

			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target])));
			if (result && this.target.isExtensible()) {
				throwProxyInvariantError("preventExtensions");
			}

			return result;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(key, throwOnError) {
			assertIsNotRevoked(this, "deleteProperty");

			var proxyMethod = getProxyMethod(this, "deleteProperty");
			if (contracts.isUndefined(proxyMethod)) {
				return this.target.deleteProperty(key, throwOnError);
			}

			var env = this[envSymbol];
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key)])));
			if (result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo && !propInfo.configurable) {
					throwProxyInvariantError("deleteProperty");
				}
			}

			return result;
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor, throwOnError) {
			assertIsNotRevoked(this, "defineProperty");

			var proxyMethod = getProxyMethod(this, "defineProperty");
			if (contracts.isUndefined(proxyMethod)) {
				var _target3;

				return (_target3 = this.target).defineOwnProperty.apply(_target3, arguments);
			}

			var env = this[envSymbol];
			var desc = toPropertyDescriptor(env, descriptor);
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key), desc])));

			if (result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo) {
					if ("configurable" in descriptor && descriptor.configurable !== propInfo.configurable) {
						throwProxyInvariantError("defineProperty");
					}

					if (!propInfo.canUpdate(descriptor)) {
						throwProxyInvariantError("defineProperty");
					}
				} else if (!this.target.isExtensible() || descriptor.configurable === false) {
					throwProxyInvariantError("defineProperty");
				}
			}

			return result;
		}
	}, {
		key: "getOwnPropertyKeys",
		value: function getOwnPropertyKeys(keyType) {
			var _this = this;

			assertIsNotRevoked(this, "ownKeys");

			var proxyMethod = getProxyMethod(this, "ownKeys");
			if (contracts.isUndefined(proxyMethod)) {
				return this.target.getOwnPropertyKeys(keyType);
			}

			var proxyKeys = (0, _utilsAsync.exhaust)((0, _utilsNative.toArray)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target]))));
			var rawKeys = proxyKeys.map(denormalizeKey);
			var targetKeys = this.target.getOwnPropertyKeys();

			if (!this.target.isExtensible()) {
				if (rawKeys.length !== targetKeys.length) {
					throwProxyInvariantError("ownKeys");
				}

				if (targetKeys.some(function (k) {
					return rawKeys.indexOf(k) === -1;
				})) {
					throwProxyInvariantError("ownKeys");
				}
			} else {
				var fixedKeys = targetKeys.filter(function (k) {
					return !_this.target.getProperty(k).configurable;
				});
				if (fixedKeys.length > 0) {
					if (fixedKeys.some(function (k) {
						return rawKeys.indexOf(k) === -1;
					})) {
						throwProxyInvariantError("ownKeys");
					}
				}
			}

			return rawKeys;
		}
	}, {
		key: "getIterator",
		value: function getIterator() {
			assertIsNotRevoked(this, "enumerate");

			var proxyMethod = getProxyMethod(this, "enumerate");
			if (contracts.isUndefined(proxyMethod)) {
				return this.target.getIterator();
			}

			var result = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target]));
			if (!contracts.isObject(result)) {
				throwProxyInvariantError("enumerate");
			}

			return result;
		}
	}, {
		key: "setValue",
		value: function setValue(key, value) {
			assertIsNotRevoked(this, "set");

			var proxyMethod = getProxyMethod(this, "set");
			if (contracts.isUndefined(proxyMethod)) {
				var _target4;

				return (_target4 = this.target).setValue.apply(_target4, arguments);
			}

			var env = this[envSymbol];
			var args = [this.target, normalizeKey(env, key), value, this];
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, args)));
			if (result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo && !propInfo.configurable) {
					var targetValue = propInfo.getValue();
					if (propInfo.dataProperty && !propInfo.writable && !env.ops.areSame(value, targetValue)) {
						throwProxyInvariantError("set");
					}

					if (!propInfo.dataProperty && contracts.isUndefined(propInfo.set)) {
						throwProxyInvariantError("set");
					}
				}
			}

			return result;
		}
	}, {
		key: "revoke",
		value: function revoke() {
			this.revoked = true;
		}
	}]);

	return ProxyType;
})(_objectType.ObjectType);

exports.ProxyType = ProxyType;
},{"../utils/async":320,"../utils/contracts":321,"../utils/native":323,"./object-type":311,"./primitive-type":312,"./property-descriptor":313,"babel-runtime/core-js/symbol/for":20,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],315:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var RegexType = (function (_ObjectType) {
	_inherits(RegexType, _ObjectType);

	function RegexType(value) {
		_classCallCheck(this, RegexType);

		_get(Object.getPrototypeOf(RegexType.prototype), "constructor", this).call(this);
		this.source = value;
		this.className = "RegExp";
	}

	_createClass(RegexType, [{
		key: "init",
		value: function init(env) {
			var _this = this;

			_get(Object.getPrototypeOf(RegexType.prototype), "init", this).apply(this, arguments);
			var source = this.source;
			var objectFactory = env.objectFactory;

			// lastIndex is settable, all others are read-only attributes
			this.defineOwnProperty("lastIndex", { value: objectFactory.createPrimitive(this.source.lastIndex), writable: true });

			["source", "global", "ignoreCase", "multiline"].forEach(function (key) {
				var getter = function getter() {
					return objectFactory.createPrimitive(source[key]);
				};
				var getterFunc = objectFactory.createGetter(getter, key);

				_this.defineOwnProperty(key, {
					getter: getter,
					get: getterFunc,
					configurable: true
				});
			});

			// this.defineOwnProperty("source", { value: objectFactory.createPrimitive(this.source.source) });
			// this.defineOwnProperty("global", { value: objectFactory.createPrimitive(this.source.global) });
			// this.defineOwnProperty("ignoreCase", { value: objectFactory.createPrimitive(this.source.ignoreCase) });
			// this.defineOwnProperty("multiline", { value: objectFactory.createPrimitive(this.source.multiline) });
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return RegexType;
})(_objectType.ObjectType);

exports.RegexType = RegexType;
},{"./object-type":311,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],316:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var SetType = (function (_ObjectType) {
	_inherits(SetType, _ObjectType);

	function SetType() {
		_classCallCheck(this, SetType);

		_get(Object.getPrototypeOf(SetType.prototype), "constructor", this).call(this);
		this.className = "Set";
		this.setData = [];
	}

	_createClass(SetType, [{
		key: "init",
		value: function init(env) {
			_get(Object.getPrototypeOf(SetType.prototype), "init", this).apply(this, arguments);
			var self = this;

			this.defineOwnProperty("size", {
				getter: function getter() {
					return env.objectFactory.createPrimitive(self.setData.length);
				},
				get: function get() {}
			});
		}
	}, {
		key: "values",
		value: function values() {
			return this.setData;
		}
	}, {
		key: "keys",
		value: function keys() {
			return this.setData;
		}
	}]);

	return SetType;
})(_objectType.ObjectType);

exports.SetType = SetType;
},{"./object-type":311,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],317:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _primitiveType = require("./primitive-type");

var _propertyDescriptor = require("./property-descriptor");

var StringType = (function (_PrimitiveType) {
	_inherits(StringType, _PrimitiveType);

	function StringType(value) {
		_classCallCheck(this, StringType);

		_get(Object.getPrototypeOf(StringType.prototype), "constructor", this).call(this, value);
	}

	_createClass(StringType, [{
		key: "init",
		value: function init(env) {
			_get(Object.getPrototypeOf(StringType.prototype), "init", this).apply(this, arguments);
			var length = this.value.length;

			this.properties.length = new _propertyDescriptor.PropertyDescriptor(this, {
				configurable: false,
				enumerable: false,
				writable: false,
				value: env.objectFactory.createPrimitive(length)
			});

			// todo: do this lazily
			var charAttrs = { writable: false, enumerable: true, configurable: false };
			for (var i = 0; i < length; i++) {
				// we are not using the object factory to avoid circular loop
				var c = new StringType(this.value.charAt(i));
				c.setPrototype(this.getProperty());
				c.define("0", c, charAttrs);

				this.define(i, c, charAttrs);
			}
		}
	}]);

	return StringType;
})(_primitiveType.PrimitiveType);

exports.StringType = StringType;
},{"./primitive-type":312,"./property-descriptor":313,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],318:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var GLOBAL_SYMBOL_REGISTRY = _Object$create(null);
var uid = 0;

var SymbolType = (function (_ObjectType) {
	_inherits(SymbolType, _ObjectType);

	function SymbolType(description) {
		_classCallCheck(this, SymbolType);

		_get(Object.getPrototypeOf(SymbolType.prototype), "constructor", this).call(this);
		this.type = "symbol";
		this.className = "Symbol";
		this.description = description;
		this.uid = uid++;

		// add so we can easily check if an object is a symbol when we care
		this.isSymbol = true;
	}

	_createClass(SymbolType, [{
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor) {
			return false;
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, target) {
			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return "Symbol(" + this.description + ")";
		}
	}, {
		key: "toString",
		value: function toString() {
			// this method is here so symbols can be coerced into strings for property lookups
			return "@@" + this.uid;
		}
	}], [{
		key: "add",
		value: function add(key, sym) {
			GLOBAL_SYMBOL_REGISTRY[key] = sym;
		}
	}, {
		key: "getByKey",
		value: function getByKey(key) {
			return GLOBAL_SYMBOL_REGISTRY[key];
		}
	}, {
		key: "getByInstance",
		value: function getByInstance(sym) {
			for (var key in GLOBAL_SYMBOL_REGISTRY) {
				if (sym === GLOBAL_SYMBOL_REGISTRY[key]) {
					return GLOBAL_SYMBOL_REGISTRY[key];
				}
			}

			return undefined;
		}
	}]);

	return SymbolType;
})(_objectType.ObjectType);

exports.SymbolType = SymbolType;
},{"./object-type":311,"babel-runtime/core-js/object/create":12,"babel-runtime/helpers/class-call-check":23,"babel-runtime/helpers/create-class":24,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],319:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.declare = declare;
exports.assign = assign;
var marked0$0 = [declare, assign, destructure, handleDefault, destructureArray, getObjectKey, destructureObject].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

var _async = require("./async");

var _native = require("./native");

function declare(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function declare$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(leftNode.type === "Identifier")) {
					context$1$0.next = 5;
					break;
				}

				left = env.createVariable(leftNode.name);

				left.setValue(rightValue);
				context$1$0.next = 7;
				break;

			case 5:
				context$1$0.next = 7;
				return destructure(env, leftNode, rightValue, declare);

			case 7:
				return context$1$0.abrupt("return", rightValue);

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function assign(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function assign$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "Identifier" ? 3 : context$1$0.t0 === "MemberExpression" ? 3 : 8;
				break;

			case 3:
				context$1$0.next = 5;
				return env.createExecutionContext(leftNode).execute();

			case 5:
				left = context$1$0.sent.result;

				left.setValue(rightValue);
				return context$1$0.abrupt("break", 10);

			case 8:
				context$1$0.next = 10;
				return destructure(env, leftNode, rightValue, assign);

			case 10:
				return context$1$0.abrupt("return", rightValue);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function destructure(env, leftNode, rightValue, cb) {
	return _regeneratorRuntime.wrap(function destructure$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "ArrayPattern" ? 3 : context$1$0.t0 === "ObjectPattern" ? 6 : context$1$0.t0 === "AssignmentPattern" ? 9 : 12;
				break;

			case 3:
				context$1$0.next = 5;
				return destructureArray(env, leftNode, rightValue, cb);

			case 5:
				return context$1$0.abrupt("break", 13);

			case 6:
				context$1$0.next = 8;
				return destructureObject(env, leftNode, rightValue, cb);

			case 8:
				return context$1$0.abrupt("break", 13);

			case 9:
				context$1$0.next = 11;
				return handleDefault(env, leftNode, rightValue, cb);

			case 11:
				return context$1$0.abrupt("break", 13);

			case 12:
				throw new Error(leftNode.type + " not implemented");

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function handleDefault(env, left, rightValue, cb) {
	var defaultValue;
	return _regeneratorRuntime.wrap(function handleDefault$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(rightValue === _typesPrimitiveType.UNDEFINED)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(left.right).execute();

			case 3:
				defaultValue = context$1$0.sent;

				rightValue = defaultValue.result.getValue();

			case 5:
				context$1$0.next = 7;
				return cb(env, left.left, rightValue);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function destructureArray(env, pattern, arr, cb) {
	return _regeneratorRuntime.wrap(function destructureArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.elements, _regeneratorRuntime.mark(function callee$1$0(current, index) {
					var propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								propInfo = arr.getProperty(index);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 4;
								return cb(env, current, value);

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function getObjectKey(env, keyNode) {
	var key;
	return _regeneratorRuntime.wrap(function getObjectKey$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!keyNode.computed) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(keyNode).execute();

			case 3:
				key = context$1$0.sent.result.getValue();

				if (!key.isSymbol) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", key);

			case 6:
				context$1$0.next = 8;
				return (0, _native.toString)(key);

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
				return context$1$0.abrupt("return", keyNode.name);

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function destructureObject(env, pattern, obj, cb) {
	return _regeneratorRuntime.wrap(function destructureObject$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.properties, _regeneratorRuntime.mark(function callee$1$0(current) {
					var key, propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return getObjectKey(env, current.key);

							case 2:
								key = context$2$0.sent;
								propInfo = obj.getProperty(key);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 7;
								return cb(env, current.value, value);

							case 7:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}
},{"../types/primitive-type":312,"./async":320,"./native":323,"babel-runtime/regenerator":31}],320:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.map = map;
exports.each = each;
exports.step = step;
exports.exhaust = exhaust;
exports.promisify = promisify;
var marked0$0 = [map, each, step].map(_regeneratorRuntime.mark);

require("../polyfills");

var objectOrFunctionTypes = { "object": true, "function": true };
function isObjectOrFunction(obj) {
	return obj && typeof obj in objectOrFunctionTypes;
}

function isThenable(obj) {
	return isObjectOrFunction(obj) && typeof obj.then === "function";
}

function isNextable(obj) {
	return isObjectOrFunction(obj) && typeof obj.next === "function";
}

function map(arr, func) {
	var mapped, i, ln;
	return _regeneratorRuntime.wrap(function map$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				mapped = [];
				i = 0, ln = arr.length;

			case 2:
				if (!(i < ln)) {
					context$1$0.next = 10;
					break;
				}

				context$1$0.t0 = mapped;
				return context$1$0.delegateYield(func(arr[i], i, arr), "t1", 5);

			case 5:
				context$1$0.t2 = context$1$0.t1;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t2);

			case 7:
				i++;
				context$1$0.next = 2;
				break;

			case 10:
				return context$1$0.abrupt("return", mapped);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function each(arr, func) {
	var abort, aborter, i, ln;
	return _regeneratorRuntime.wrap(function each$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				abort = false;

				aborter = function aborter() {
					abort = true;
				};

				i = 0, ln = arr.length;

			case 3:
				if (!(i < ln)) {
					context$1$0.next = 10;
					break;
				}

				return context$1$0.delegateYield(func(arr[i], i, arr, aborter), "t0", 5);

			case 5:
				if (!abort) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("break", 10);

			case 7:
				i++;
				context$1$0.next = 3;
				break;

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function step(it, prev) {
	var result, value;
	return _regeneratorRuntime.wrap(function step$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = it.next(prev);
				value = result.value;

				if (!isNextable(value)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(step(value), "t0", 4);

			case 4:
				context$1$0.next = 9;
				break;

			case 6:
				if (!isThenable(value)) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 9;
				return value.then(function (res) {
					return it;
				});

			case 9:
				if (!result.done) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 13:
				context$1$0.next = 15;
				return step(it, value);

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

/**
 * Fully exhausts an iterator, including delegated generators.
 * Special handling is taken if a Promise is returned, pausing
 * the generator until the promise is resolved.
 *
 * @param {Iterator} [it] - The iterator
 * @param {Object} [prev] - The previous iteration value (internal)
 * @returns {Object|Promise} Returns the final value, or a Promise if
 * at any point in the iteration a Promise is returned.
 */

function exhaust(_x, _x2) {
	var _again = true;

	_function: while (_again) {
		var it = _x,
		    prev = _x2;
		result = value = e = undefined;
		_again = false;

		// sanity check
		if (!isNextable(it)) {
			return it;
		}

		var result = it.next(prev);
		var value = result.value;

		if (isNextable(value)) {
			try {
				value = exhaust(value);
			} catch (err) {
				// cascade the error upstream
				var e = it["throw"](err);
				_x = e.value;
				_x2 = undefined;
				_again = true;
				continue _function;
			}
		}

		if (result.done) {
			return value;
		}

		if (isThenable(value)) {
			return value.then(function (res) {
				return exhaust(it, res);
			}, function (err) {
				return it["throw"](err);
			});
		}

		_x = it;
		_x2 = value;
		_again = true;
		continue _function;
	}
}

/**
 * Normalizes a result into a promise, whether it is a generator, promise,
 * or normal value.
 *
 * @param {Iterator} [it] - The iterator.
 * @returns {Promise} A promise which resolves or rejects based on the result.
 */

function promisify(it) {
	try {
		var result = exhaust(it);
		if (isNextable(result)) {
			return result;
		}

		return _Promise.resolve(result);
	} catch (err) {
		return _Promise.reject(err.toNative());
	}
}
},{"../polyfills":300,"babel-runtime/core-js/promise":17,"babel-runtime/regenerator":31}],321:[function(require,module,exports){
"use strict";

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.assertIsObject = assertIsObject;
exports.assertIsNotNullOrUndefined = assertIsNotNullOrUndefined;
exports.assertArgIsNotNullOrUndefined = assertArgIsNotNullOrUndefined;
exports.assertIsFunction = assertIsFunction;
exports.assertIsNotConstructor = assertIsNotConstructor;
exports.assertIsConstructor = assertIsConstructor;
exports.assertIsValidArrayLength = assertIsValidArrayLength;
exports.assertIsValidAssignment = assertIsValidAssignment;
exports.assertIsValidParameterName = assertIsValidParameterName;
exports.assertIsValidName = assertIsValidName;
exports.assertIsNotGeneric = assertIsNotGeneric;
exports.assertIsValidIdentifier = assertIsValidIdentifier;
exports.assertAreValidArguments = assertAreValidArguments;
exports.assertIsMap = assertIsMap;
exports.assertIsSet = assertIsSet;
exports.isValidArrayLength = isValidArrayLength;
exports.isObject = isObject;
exports.isRegExp = isRegExp;
exports.isNumber = isNumber;
exports.isOctalLiteral = isOctalLiteral;
exports.getType = getType;
exports.isNullOrUndefined = isNullOrUndefined;
exports.isUndefined = isUndefined;
exports.isNull = isNull;
exports.isFunction = isFunction;
exports.isConstructor = isConstructor;
exports.isInteger = isInteger;
exports.isStrictNode = isStrictNode;

var _keywords = require("../keywords");

var _typesSymbolType = require("../types/symbol-type");

var _native = require("./native");

var objectPattern = /\[object (\w+)\]/;
var integerPattern = /^-?\d+$/;
var octalPattern = /^-?0[0-7]/;
var octalEscapePattern = /^([^\\]|\\[^0-7])*\\([0-3][0-7]{1,2}|[4-7][0-7]|[0-7])/;
var useStrictPattern = /^\s*(?:'use strict'|"use strict")\s*;?\s*$/;

function assertIsObject(obj, methodName) {
	if (!isObject(obj)) {
		throw new TypeError(methodName + " called on non-object");
	}
}

function assertIsNotNullOrUndefined(value, methodName) {
	if (isNullOrUndefined(value)) {
		throw new TypeError(methodName + " called on null or undefined");
	}
}

function assertArgIsNotNullOrUndefined(obj) {
	if (isNullOrUndefined(obj)) {
		throw new TypeError("Cannot convert null or undefined to object");
	}
}

function assertIsFunction(obj, argName) {
	if (!isFunction(obj)) {
		throw new TypeError(argName + " is not a function");
	}
}

function assertIsNotConstructor(context, methodName) {
	if (context.isNew) {
		throw new TypeError(methodName + " is not a constructor");
	}
}

function assertIsConstructor(context, methodName) {
	if (!context.isNew) {
		throw new TypeError(methodName + " must be called with 'new'");
	}
}

function assertIsValidArrayLength(length) {
	if (!isValidArrayLength(length)) {
		throw new RangeError("Invalid array length");
	}
}

function assertIsValidAssignment(left, strict) {
	if (left && !left.isReference) {
		throw new ReferenceError("Invalid left-hand side in assignment");
	}

	if (left && left.base === left.env.global) {
		assertIsValidName(left.name, strict);
	}
}

function assertIsValidParameterName(name, strict) {
	if (/^\d|[;\(\)"']/.test(name)) {
		throw new SyntaxError("Unexpected token in " + name);
	}

	assertIsValidName(name, strict);
}

function assertIsValidName(name, strict) {
	if (strict && (name === "arguments" || name === "eval")) {
		throw new SyntaxError("Unexpected eval or arguments in strict mode");
	}
}

function assertIsNotGeneric(obj, expectedClass, methodName) {
	if (!obj || obj.className !== expectedClass) {
		throw new TypeError(methodName + " is not generic");
	}
}

function assertIsValidIdentifier(name, strict) {
	if ((0, _keywords.isReserved)(name)) {
		throw new SyntaxError("Illegal use of reserved keyword: " + name);
	}

	if (strict && (0, _keywords.isStrictReserved)(name)) {
		throw new SyntaxError("Illegal use of strict mode reserved keyword: " + name);
	}
}

function assertAreValidArguments(params, strict) {
	params.forEach(function (param, index) {
		assertIsValidParameterName(param.name, strict);

		if (strict) {
			if (params.some(function (p, i) {
				return index !== i && param.name === p.name;
			})) {
				throw new SyntaxError("Strict mode function may not have duplicate parameter names");
			}
		}
	});
}

function assertIsMap(obj, methodName) {
	if (!obj || obj.className !== "Map") {
		throw TypeError("The object must be a map when calling " + methodName);
	}
}

function assertIsSet(obj) {
	return obj && obj.className === "Set";
}

function isValidArrayLength(length) {
	return isInteger(length) && length >= 0 && length < 4294967296;
}

function isObject(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isSymbol) {
		return false;
	}

	if (obj.isPrimitive) {
		return obj.value && obj.type === "object";
	}

	return true;
}

function isRegExp(obj) {
	if (!isObject(obj)) {
		return false;
	}

	var matchKey = _typesSymbolType.SymbolType.getByKey("match");
	var matchProp = obj.getProperty(matchKey);
	if (matchProp) {
		var matchValue = matchProp.getValue();
		if (!isUndefined(matchValue)) {
			return (0, _native.toBoolean)(matchValue);
		}
	}

	return obj.className === "RegExp";
}

function isNumber(obj) {
	return obj && obj.type === "number";
}

function isOctalLiteral(rawValue, actualValue) {
	if (typeof actualValue === "number" && octalPattern.test(rawValue)) {
		return true;
	}

	if (typeof actualValue === "string") {
		var match = rawValue.match(octalEscapePattern);
		if (match) {
			// \0 is actually not considered an octal
			if (match[2] !== "0" || typeof match[3] !== "undefined") {
				return true;
			}
		}
	}

	return false;
}

function getType(obj) {
	return objectPattern.exec(Object.prototype.toString.call(obj))[1];
}

function isNullOrUndefined(obj) {
	return isUndefined(obj) || isNull(obj);
}

function isUndefined(obj) {
	return !obj || obj.isPrimitive && obj.value === undefined;
}

function isNull(obj) {
	return obj && obj.isPrimitive && obj.value === null;
}

function isFunction(obj) {
	return !!obj && obj.className === "Function";
}

function isConstructor(obj) {
	if (!isFunction(obj)) {
		return false;
	}

	if (obj.arrow || obj.builtIn) {
		return false;
	}

	return true;
}

function isInteger(value) {
	if (typeof value === "string") {
		return integerPattern.test(value);
	}

	if (typeof value === "number") {
		return isFinite(value) && Math.floor(value) === value;
	}

	return false;
}

function isDirective(node) {
	return node.type === "ExpressionStatement" && node.expression.type === "Literal" && typeof node.expression.value === "string";
}

function isStrictNode(_x) {
	var _again = true;

	_function: while (_again) {
		var nodes = _x;
		_iteratorNormalCompletion = _didIteratorError = _iteratorError = undefined;
		_again = false;

		if (!nodes) {
			return false;
		}

		if (Array.isArray(nodes)) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = _getIterator(nodes), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var node = _step.value;

					if (!isDirective(node)) {
						return false;
					}

					if (node.expression.value === "use strict" && useStrictPattern.test(node.expression.raw)) {
						return true;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return false;
		}

		if (nodes.body) {
			_x = nodes.body;
			_again = true;
			continue _function;
		}

		return false;
	}
}
},{"../keywords":299,"../types/symbol-type":318,"./native":323,"babel-runtime/core-js/get-iterator":3}],322:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.execute = execute;
exports.construct = construct;
exports.call = call;
exports.tryExecute = tryExecute;
var marked0$0 = [execute, construct, call, tryExecute].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function execute(env, fn, args, thisArg, callee, isNew) {
	var returnResult;
	return _regeneratorRuntime.wrap(function execute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				callee = callee || fn;
				context$1$0.next = 3;
				return fn[isNew ? "construct" : "call"](thisArg, args, callee);

			case 3:
				returnResult = context$1$0.sent;
				return context$1$0.abrupt("return", returnResult || _typesPrimitiveType.UNDEFINED);

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function construct(env, fn) {
	var args = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
	var callee;
	return _regeneratorRuntime.wrap(function construct$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				callee = fn.node || fn;
				context$1$0.next = 3;
				return execute(env, fn, args, null, callee, true);

			case 3:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function call(env, fn, params, args, thisArg, callee) {
	return _regeneratorRuntime.wrap(function call$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return fn.call(thisArg, args, callee);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

// let scope = env.createExecutionScope(fn, thisArg);
// yield scope.loadArgs(params, args, fn);
// scope.init(fn.node && fn.node.body);

// return yield scope.use(function* () {
// 	return yield fn.call(env, thisArg, args, callee);
// 	// if (fn.native) {
// 	// 	return yield fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee), args);
// 	// }

// 	// return yield env.createExecutionContext(fn.node.body, callee).execute();
// });

function tryExecute(obj, name) {
	var args = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
	var fn, executionResult;
	return _regeneratorRuntime.wrap(function tryExecute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				fn = obj.getProperty(name);

				if (fn) {
					context$1$0.next = 3;
					break;
				}

				return context$1$0.abrupt("return", false);

			case 3:

				fn = fn.getValue();

				if (!(fn && fn.className === "Function")) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 7;
				return fn.call(obj, args, fn);

			case 7:
				executionResult = context$1$0.sent;
				return context$1$0.abrupt("return", executionResult ? executionResult.getValue() : _typesPrimitiveType.UNDEFINED);

			case 9:
				return context$1$0.abrupt("return", false);

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

// // let f = fn.node || fn;
// // let params = f.params || [];

// let scope = env.createExecutionScope(fn, thisArg);
// // let returnResult;

// // if (isNew) {
// // 	returnResult = thisArg;
// // }

// // yield scope.loadArgs(params, args, fn);
// // scope.init(fn.node && fn.node.body);

// let returnResult = yield scope.use(function* () {
// 	return yield fn[isNew ? "construct" : "call"](env, thisArg, args, callee);

// 	// if (fn.native) {
// 	// 	return yield fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee, isNew), args) || returnResult;
// 	// }

// 	// let executionResult = yield env.createExecutionContext(fn.node.body, callee, isNew).execute();
// 	// let shouldReturn = fn.arrow || (executionResult && executionResult.exit);

// 	// if (shouldReturn && executionResult.result) {
// 	// 	if (!isNew || !executionResult.result.isPrimitive) {
// 	// 		return executionResult.result;
// 	// 	}
// 	// }

// 	// return returnResult;
// });

// let scope = env.createExecutionScope(fn, obj);
// yield scope.loadArgs(fn.node && fn.node.params, args, fn);
// scope.init(fn.node && fn.node.body);

// let executionResult = yield scope.use(function* () {
// 	return yield fn.call(env, obj, args, fn);
// 	// if (fn.native) {
// 	// 	return yield fn.nativeFunction.apply(env.createExecutionContext(obj, obj), args);
// 	// }

// 	// let result = yield env.createExecutionContext(fn.node.body, fn.node).execute();
// 	// return result && result.result;
// });
},{"../types/primitive-type":312,"babel-runtime/regenerator":31}],323:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Math$sign = require("babel-runtime/core-js/math/sign")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.primitiveToObject = primitiveToObject;
exports.toObject = toObject;
exports.toLength = toLength;
exports.toPropertyKey = toPropertyKey;
exports.toArray = toArray;
exports.toPrimitive = toPrimitive;
exports.toString = toString;
exports.toNumber = toNumber;
exports.toInteger = toInteger;
exports.toInt32 = toInt32;
exports.toUInt32 = toUInt32;
exports.toBoolean = toBoolean;
exports.toNativeFunction = toNativeFunction;
var marked0$0 = [getString, getPrimitive, getValues, toLength, toPropertyKey, toArray, toPrimitive, toString, toNumber, toInteger, toInt32, toUInt32].map(_regeneratorRuntime.mark);

require("../polyfills");

var _utilsFunc = require("../utils/func");

var sign = _Math$sign;
var floor = Math.floor;
var abs = Math.abs;
var MAX_LENGTH = Math.pow(2, 53) - 1;

function getString(value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", "undefined");

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", String(value.toNative()));

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(value, "toString");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(value, "valueOf");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 14:
				throw new TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function getPrimitive(value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", value.toNative());

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(value, "valueOf");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(value, "toString");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 14:
				throw new TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function getValues(args) {
	var values, i, ln;
	return _regeneratorRuntime.wrap(function getValues$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				values = [];
				i = 0, ln = args.length;

			case 2:
				if (!(i < ln)) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.t0 = values;
				context$1$0.next = 6;
				return getPrimitive(args[i]);

			case 6:
				context$1$0.t1 = context$1$0.sent;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t1);

			case 8:
				i++;
				context$1$0.next = 2;
				break;

			case 11:
				return context$1$0.abrupt("return", values);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function primitiveToObject(env, value) {
	var newValue = env.objectFactory.createPrimitive(value);
	newValue.isPrimitive = false;
	newValue.type = "object";
	return newValue;
}

function toObject(env, obj, throwOnError) {
	// todo: is this ES6 only?
	if (throwOnError && obj.isPrimitive && obj.value == null) {
		throw new TypeError(obj.type + " cannot be converted to an object");
	}

	if (obj.isPrimitive && obj.value != null && obj.type !== "object") {
		return primitiveToObject(env, obj.value);
	}

	return obj;
}

function getEnv(obj) {
	return obj[_Symbol$for("env")];
}

function getOptions(obj) {
	return getEnv(obj).options;
}

function toLength(obj) {
	var lengthProperty, _length;

	return _regeneratorRuntime.wrap(function toLength$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				lengthProperty = obj.getProperty("length");

				if (!lengthProperty) {
					context$1$0.next = 10;
					break;
				}

				if (!(getOptions(obj).ecmaVersion === 5)) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return toUInt32(lengthProperty.getValue());

			case 5:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 6:
				context$1$0.next = 8;
				return toInteger(lengthProperty.getValue());

			case 8:
				_length = context$1$0.sent;
				return context$1$0.abrupt("return", Math.min(Math.max(_length, 0), MAX_LENGTH));

			case 10:
				return context$1$0.abrupt("return", 0);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function toPropertyKey(key) {
	return _regeneratorRuntime.wrap(function toPropertyKey$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(key && key.isSymbol)) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", key);

			case 2:
				context$1$0.next = 4;
				return toString(key);

			case 4:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function toArray(obj, length) {
	var arr,
	    i,
	    args$1$0 = arguments;
	return _regeneratorRuntime.wrap(function toArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				arr = [];

				if (!obj) {
					context$1$0.next = 8;
					break;
				}

				if (!(args$1$0.length < 3)) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return toLength(obj);

			case 5:
				length = context$1$0.sent;

			case 6:
				i = 0;

				while (i < length) {
					if (obj.has(i)) {
						arr[i] = obj.getValue(i);
					}

					i++;
				}

			case 8:
				return context$1$0.abrupt("return", arr);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function toPrimitive(obj, preferredType) {
	return _regeneratorRuntime.wrap(function toPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				preferredType = preferredType && preferredType.toLowerCase();
				if (!preferredType && obj) {
					preferredType = obj.primitiveHint;
				}

				if (!(obj && obj.isSymbol)) {
					context$1$0.next = 4;
					break;
				}

				throw new TypeError("Cannot convert Symbol to a " + preferredType);

			case 4:
				if (!(preferredType === "string")) {
					context$1$0.next = 8;
					break;
				}

				context$1$0.next = 7;
				return getString(obj);

			case 7:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 8:
				context$1$0.next = 10;
				return getPrimitive(obj);

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}

function toString(obj) {
	return _regeneratorRuntime.wrap(function toString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toPrimitive(obj, "string");

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", String(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[7], this);
}

function toNumber(obj) {
	return _regeneratorRuntime.wrap(function toNumber$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(!obj || obj.type === "undefined")) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", NaN);

			case 2:
				context$1$0.next = 4;
				return toPrimitive(obj, "number");

			case 4:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", Number(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[8], this);
}

function toInteger(obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInteger$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toNumber(obj);

			case 2:
				value = context$1$0.sent;

				if (!isNaN(value)) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 5:
				if (!(value === 0 || !isFinite(value))) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 7:
				return context$1$0.abrupt("return", sign(value) * floor(abs(value)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[9], this);
}

function toInt32(obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInteger(obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", isFinite(value) ? value : 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[10], this);
}

function toUInt32(obj) {
	var value;
	return _regeneratorRuntime.wrap(function toUInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInt32(obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", value >>> 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[11], this);
}

function toBoolean(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isPrimitive) {
		return Boolean(obj.value);
	}

	return true;
}

function toNativeFunction(env, fn, name) {
	return env.objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var scope,
		    args,
		    value,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					scope = this && this.node && this.node.toNative();
					context$2$0.next = 3;
					return getValues(args$2$0);

				case 3:
					args = context$2$0.sent;
					value = fn.apply(scope, args);
					return context$2$0.abrupt("return", env.objectFactory.createPrimitive(value));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), fn.length, name);
}

// default case/number
},{"../polyfills":300,"../utils/func":322,"babel-runtime/core-js/math/sign":7,"babel-runtime/core-js/symbol/for":20,"babel-runtime/regenerator":31}],324:[function(require,module,exports){
"use strict";

var _defineProperty = require("babel-runtime/helpers/define-property")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _ops;

var _native = require("./native");

function neg(value) {
	if (value === undefined) {
		return false;
	}

	return !value;
}

function pos(value) {
	return !!value;
}

var ops = (_ops = {
	// algorithms
	areSame: function areSame(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}

				if (a.value === 0) {
					// this will account for negative zero
					return 1 / a.value === 1 / b.value;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	areSameOrZero: function areSameOrZero(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	coerciveEquals: _regeneratorRuntime.mark(function coerciveEquals(a, b) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function coerciveEquals$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (!(a.isPrimitive && b.isPrimitive)) {
						context$1$0.next = 2;
						break;
					}

					return context$1$0.abrupt("return", a.value == b.value);

				case 2:
					if (!(a.type === b.type)) {
						context$1$0.next = 4;
						break;
					}

					return context$1$0.abrupt("return", this.strictEquals(a, b));

				case 4:
					context$1$0.next = 6;
					return (0, _native.toPrimitive)(a);

				case 6:
					primitiveA = context$1$0.sent;
					context$1$0.next = 9;
					return (0, _native.toPrimitive)(b);

				case 9:
					primitiveB = context$1$0.sent;

					if (!(typeof primitiveA === "number" || typeof primitiveB === "number" || (typeof primitiveA === "boolean" || typeof primitiveB === "boolean"))) {
						context$1$0.next = 12;
						break;
					}

					return context$1$0.abrupt("return", Number(primitiveA) === Number(primitiveB));

				case 12:
					if (!(typeof primitiveA === "string")) {
						context$1$0.next = 18;
						break;
					}

					context$1$0.t0 = primitiveA;
					context$1$0.next = 16;
					return (0, _native.toPrimitive)(b, "string");

				case 16:
					context$1$0.t1 = context$1$0.sent;
					return context$1$0.abrupt("return", context$1$0.t0 === context$1$0.t1);

				case 18:
					if (!(typeof primitiveB === "string")) {
						context$1$0.next = 24;
						break;
					}

					context$1$0.next = 21;
					return (0, _native.toPrimitive)(a, "string");

				case 21:
					context$1$0.t2 = context$1$0.sent;
					context$1$0.t3 = primitiveB;
					return context$1$0.abrupt("return", context$1$0.t2 === context$1$0.t3);

				case 24:
					return context$1$0.abrupt("return", primitiveA == primitiveB);

				case 25:
				case "end":
					return context$1$0.stop();
			}
		}, coerciveEquals, this);
	}),

	/* eslint-enable eqeqeq */
	strictEquals: function strictEquals(a, b) {
		if (a.isPrimitive && b.isPrimitive) {
			return a.value === b.value;
		}

		if (a.isPrimitive || b.isPrimitive) {
			return false;
		}

		return a === b;
	},

	relationalCompare: _regeneratorRuntime.mark(function relationalCompare(a, b, leftFirst) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function relationalCompare$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					primitiveA = undefined, primitiveB = undefined;

					if (!leftFirst) {
						context$1$0.next = 10;
						break;
					}

					context$1$0.next = 4;
					return (0, _native.toPrimitive)(a, "number");

				case 4:
					primitiveA = context$1$0.sent;
					context$1$0.next = 7;
					return (0, _native.toPrimitive)(b, "number");

				case 7:
					primitiveB = context$1$0.sent;
					context$1$0.next = 16;
					break;

				case 10:
					context$1$0.next = 12;
					return (0, _native.toPrimitive)(b, "number");

				case 12:
					primitiveB = context$1$0.sent;
					context$1$0.next = 15;
					return (0, _native.toPrimitive)(a, "number");

				case 15:
					primitiveA = context$1$0.sent;

				case 16:
					if (!(typeof primitiveA === "string" && typeof primitiveB === "string")) {
						context$1$0.next = 18;
						break;
					}

					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 18:

					primitiveA = Number(primitiveA);
					primitiveB = Number(primitiveB);

					if (!(isNaN(primitiveA) || isNaN(primitiveB))) {
						context$1$0.next = 22;
						break;
					}

					return context$1$0.abrupt("return", undefined);

				case 22:
					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 23:
				case "end":
					return context$1$0.stop();
			}
		}, relationalCompare, this);
	})

}, _defineProperty(_ops, "==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "===", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "+", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(a.isPrimitive && b.isPrimitive)) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", a.value + b.value);

			case 2:
				context$1$0.next = 4;
				return (0, _native.toPrimitive)(a);

			case 4:
				a = context$1$0.sent;
				context$1$0.next = 7;
				return (0, _native.toPrimitive)(b);

			case 7:
				b = context$1$0.sent;
				return context$1$0.abrupt("return", a + b);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "-", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 - context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "/", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 / context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "*", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 * context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "%", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 % context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 << context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >>> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "|", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 | context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "^", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 ^ context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "&", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 & context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "in", _regeneratorRuntime.mark(function _in(a, b) {
	var bString;
	return _regeneratorRuntime.wrap(function _in$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPropertyKey)(a);

			case 2:
				a = context$1$0.sent;

				if (!b.isPrimitive) {
					context$1$0.next = 8;
					break;
				}

				context$1$0.next = 6;
				return (0, _native.toString)(b);

			case 6:
				bString = context$1$0.sent;
				throw new TypeError("Cannot use 'in' operator to search for '" + a + "' in " + bString);

			case 8:
				return context$1$0.abrupt("return", b.has(a));

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _in, this);
})), _defineProperty(_ops, "instanceof", function _instanceof(a, b) {
	if (b.type !== "function") {
		throw new TypeError("Expecting a function in instanceof check, but got " + b.type);
	}

	if (a.isPrimitive) {
		return false;
	}

	return b.hasInstance(a);
}), _ops);

exports["default"] = ops;
module.exports = exports["default"];

/* eslint-disable eqeqeq */

// use native implicit comarison
// equality operators

// additive operators

// multiplicative operators

// bitwise shift operators

// relational operators
},{"./native":323,"babel-runtime/helpers/define-property":25,"babel-runtime/regenerator":31}],325:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ArrayExpression;
var marked0$0 = [ArrayExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function ArrayExpression(context) {
	var objectFactory, arr;
	return _regeneratorRuntime.wrap(function ArrayExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				arr = objectFactory.create("Array");

				if (!context.node.elements) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.elements, _regeneratorRuntime.mark(function callee$1$0(element, i) {
					var item;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!element) {
									context$2$0.next = 5;
									break;
								}

								context$2$0.next = 3;
								return context.create(element).execute();

							case 3:
								item = context$2$0.sent.result.getValue();

								arr.defineOwnProperty(i, { value: item, configurable: true, enumerable: true, writable: true }, true, context.env);

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 4);

			case 4:

				arr.setValue("length", objectFactory.createPrimitive(context.node.elements.length));

			case 5:
				return context$1$0.abrupt("return", context.result(arr));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":320,"babel-runtime/regenerator":31}],326:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = AssignmentExpression;
var marked0$0 = [AssignmentExpression].map(_regeneratorRuntime.mark);

var _utilsAssign = require("../utils/assign");

function AssignmentExpression(context) {
	var right, rightValue, left, op, nativeValue;
	return _regeneratorRuntime.wrap(function AssignmentExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.right).execute();

			case 2:
				right = context$1$0.sent.result;
				rightValue = right.getValue();

				if (!(context.node.operator === "=")) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 7;
				return (0, _utilsAssign.assign)(context.env, context.node.left, rightValue);

			case 7:
				context$1$0.next = 17;
				break;

			case 9:
				context$1$0.next = 11;
				return context.create(context.node.left).execute();

			case 11:
				left = context$1$0.sent.result;
				op = context.node.operator.slice(0, -1);
				context$1$0.next = 15;
				return context.env.ops[op](left.getValue(), right.getValue());

			case 15:
				nativeValue = context$1$0.sent;

				left.setValue(context.env.objectFactory.createPrimitive(nativeValue));

			case 17:
				return context$1$0.abrupt("return", context.result(rightValue));

			case 18:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];

// remove equals
},{"../utils/assign":319,"babel-runtime/regenerator":31}],327:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BinaryExpression;
var marked0$0 = [BinaryExpression].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function BinaryExpression(context) {
	var left, leftValue, right, rightValue, op, newValue;
	return _regeneratorRuntime.wrap(function BinaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent.result;
				leftValue = left.getValue() || _typesPrimitiveType.UNDEFINED;
				context$1$0.next = 6;
				return context.create(context.node.right).execute();

			case 6:
				right = context$1$0.sent.result;
				rightValue = right.getValue() || _typesPrimitiveType.UNDEFINED;
				op = context.node.operator;
				context$1$0.next = 11;
				return context.env.ops[op](leftValue, rightValue);

			case 11:
				newValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(newValue)));

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":312,"babel-runtime/regenerator":31}],328:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BlockStatement;
var marked0$0 = [BlockStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function BlockStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function BlockStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;

				if (context.node.type === "Program") {
					context.env.current.init(context.node);
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.body, _regeneratorRuntime.mark(function callee$1$0(node, i, body, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(node).execute();

							case 2:
								result = context$2$0.sent;

								if (result.shouldBreak(context, false, priorResult)) {
									abort();
								}

								priorResult = result;

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":320,"babel-runtime/regenerator":31}],329:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = CallExpression;
var marked0$0 = [CallExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

var _utilsFunc = require("../utils/func");

var _utilsAsync = require("../utils/async");

function assignThis(env, fnMember, fn, isNew, native) {
	if (isNew) {
		// if this is a native contructor we don't care about this
		// otherwise create a new object
		return native ? null : env.objectFactory.createObject(fn);
	}

	if (fnMember instanceof _envPropertyReference.PropertyReference && (!fnMember.unqualified || fnMember.base !== env.global)) {
		return fnMember.base;
		// return toObject(env, fnMember.base);
	}

	return null;
}

function CallExpression(context) {
	var node, isNew, fnMember, fn, args, stringValue, native, thisArg, callee;
	return _regeneratorRuntime.wrap(function CallExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				node = context.node;
				isNew = context.node.type === "NewExpression";
				context$1$0.next = 4;
				return context.create(node.callee).execute();

			case 4:
				fnMember = context$1$0.sent.result;
				fn = fnMember.getValue();
				return context$1$0.delegateYield((0, _utilsAsync.map)(node.arguments, _regeneratorRuntime.mark(function callee$1$0(arg) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(arg).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent.result.getValue());

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 7);

			case 7:
				args = context$1$0.t0;

				if (!(!fn || fn.className !== "Function")) {
					context$1$0.next = 13;
					break;
				}

				context$1$0.next = 11;
				return (0, _utilsNative.toString)(fn);

			case 11:
				stringValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.raise(new TypeError(stringValue + " not a function")));

			case 13:
				native = fn.native;
				thisArg = assignThis(context.env, fnMember, fn, isNew, native);
				callee = fnMember;

				callee.identifier = fn.name;
				context$1$0.t1 = context;
				context$1$0.next = 20;
				return (isNew ? _utilsFunc.construct : _utilsFunc.execute)(context.env, fn, args, thisArg, callee);

			case 20:
				context$1$0.t2 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t1.result.call(context$1$0.t1, context$1$0.t2));

			case 22:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":197,"../utils/async":320,"../utils/func":322,"../utils/native":323,"babel-runtime/regenerator":31}],330:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DebuggerStatement;

function DebuggerStatement(context) {
	if (context.env.options.allowDebugger) {
		/* eslint-disable no-debugger */
		debugger;
		/* eslint-enable no-debugger */
	}

	return context.empty();
}

module.exports = exports["default"];
},{}],331:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DoWhileStatement;
var marked0$0 = [DoWhileStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function DoWhileStatement(context) {
	var result, priorResult, passed;
	return _regeneratorRuntime.wrap(function DoWhileStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;
				passed = true;

				if (!(context.node.type === "WhileStatement")) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.test).execute();

			case 5:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t0);

			case 7:
				if (!passed) {
					context$1$0.next = 20;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.body).execute();

			case 10:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 13:
				context$1$0.next = 15;
				return context.create(context.node.test).execute();

			case 15:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t1);

				priorResult = result;
				context$1$0.next = 7;
				break;

			case 20:
				return context$1$0.abrupt("return", result);

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],332:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = EmptyStatement;

function EmptyStatement(context) {
	return context.empty();
}

module.exports = exports["default"];
},{}],333:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ExpressionStatement;
var marked0$0 = [ExpressionStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ExpressionStatement(context) {
	var executionResult, executionValue;
	return _regeneratorRuntime.wrap(function ExpressionStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.expression).execute();

			case 2:
				executionResult = context$1$0.sent;
				executionValue = executionResult && executionResult.result && executionResult.result.getValue();
				return context$1$0.abrupt("return", context.result(executionValue || _typesPrimitiveType.UNDEFINED));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":312,"babel-runtime/regenerator":31}],334:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForInStatement;
var marked0$0 = [ForInStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function ForInStatement(context) {
	var left, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl, obj, it, next, done, result, priorResult, itResult;

	return _regeneratorRuntime.wrap(function ForInStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				left = undefined;

				if (!(context.node.left.type === "VariableDeclaration")) {
					context$1$0.next = 31;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 5;
				_iterator = _getIterator(context.node.left.declarations);

			case 7:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 15;
					break;
				}

				decl = _step.value;
				context$1$0.next = 11;
				return context.create(decl).execute();

			case 11:
				left = context$1$0.sent.result;

			case 12:
				_iteratorNormalCompletion = true;
				context$1$0.next = 7;
				break;

			case 15:
				context$1$0.next = 21;
				break;

			case 17:
				context$1$0.prev = 17;
				context$1$0.t0 = context$1$0["catch"](5);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 21:
				context$1$0.prev = 21;
				context$1$0.prev = 22;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 24:
				context$1$0.prev = 24;

				if (!_didIteratorError) {
					context$1$0.next = 27;
					break;
				}

				throw _iteratorError;

			case 27:
				return context$1$0.finish(24);

			case 28:
				return context$1$0.finish(21);

			case 29:
				context$1$0.next = 34;
				break;

			case 31:
				context$1$0.next = 33;
				return context.create(context.node.left).execute();

			case 33:
				left = context$1$0.sent.result;

			case 34:
				context$1$0.next = 36;
				return context.create(context.node.right).execute();

			case 36:
				obj = context$1$0.sent.result.getValue();
				it = obj.getIterator(context.env);
				next = it.getValue("next");
				done = false;
				result = undefined, priorResult = undefined;

			case 41:
				if (done) {
					context$1$0.next = 56;
					break;
				}

				context$1$0.next = 44;
				return next.call(it, []);

			case 44:
				itResult = context$1$0.sent;

				done = (0, _utilsNative.toBoolean)(itResult.getValue("done"));

				if (!(!done && itResult.has("value"))) {
					context$1$0.next = 53;
					break;
				}

				left.setValue(itResult.getValue("value"));
				context$1$0.next = 50;
				return context.create(context.node.body).execute();

			case 50:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 53;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 53:

				priorResult = result;
				context$1$0.next = 41;
				break;

			case 56:
				return context$1$0.abrupt("return", result);

			case 57:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[5, 17, 21, 29], [22,, 24, 28]]);
}

module.exports = exports["default"];

// should only be one, but
// need to unwrap the declaration to get it
// todo: this is sloppy - need to revisit

// track visited properties to prevent iterating over shadowed properties, regardless of enumerable flag
// 12.6.4 NOTE: a property of a prototype is not enumerated if it is “shadowed” because some previous
// object in the prototype chain has a property with the same name. The values of [[Enumerable]] attributes
// are not considered when determining if a property of a prototype object is shadowed by a previous object
// on the prototype chain.
// let visited = Object.create(null);

// while (obj) {
// 	for (let prop in obj.properties) {
// 		if (obj.properties[prop].enumerable && !visited[prop]) {
// 			left.setValue(context.env.objectFactory.createPrimitive(prop));

// 			result = yield context.create(context.node.body).execute();
// 			if (result && result.shouldBreak(context, true, priorResult)) {
// 				return result;
// 			}
// 		}

// 		visited[prop] = true;
// 	}

// 	priorResult = result;
// 	obj = obj.getPrototype();
// }
},{"../utils/native":323,"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":31}],335:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForStatement;
var marked0$0 = [shouldContinue, ForStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function shouldContinue(context) {
	return _regeneratorRuntime.wrap(function shouldContinue$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (context.node.test) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", true);

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.test).execute();

			case 4:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", (0, _utilsNative.toBoolean)(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function ForStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function ForStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.init) {
					context$1$0.next = 3;
					break;
				}

				context$1$0.next = 3;
				return context.create(context.node.init).execute();

			case 3:
				result = undefined, priorResult = undefined;

			case 4:
				context$1$0.next = 6;
				return shouldContinue(context);

			case 6:
				if (!context$1$0.sent) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.next = 9;
				return context.create(context.node.body).execute();

			case 9:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 12;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 12:
				if (!context.node.update) {
					context$1$0.next = 15;
					break;
				}

				context$1$0.next = 15;
				return context.create(context.node.update).execute();

			case 15:

				priorResult = result;
				context$1$0.next = 4;
				break;

			case 18:
				return context$1$0.abrupt("return", result);

			case 19:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],336:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionDeclaration;

function FunctionDeclaration(context) {
	return context.result(context.env.getValue(context.node.id.name));
}

module.exports = exports["default"];
},{}],337:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionExpression;

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function FunctionExpression(context) {
	var objectFactory = context.env.objectFactory;
	var strict = context.env.isStrict() || contracts.isStrictNode(context.node.body.body);
	var name = context.node.id ? context.node.id.name : "anonymous";

	var func = objectFactory.createFunction(context.node, undefined, { strict: strict, name: name });
	func.bindScope(context.env.current);
	return context.result(func);
}

module.exports = exports["default"];
},{"../utils/contracts":321,"babel-runtime/helpers/interop-require-wildcard":29}],338:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Identifier;

function Identifier(context) {
	var name = context.node.name;

	if (context.callee && context.callee.identifier === name) {
		return context.result(context.callee);
	}

	return context.result(context.env.getReference(context.node.name));
}

module.exports = exports["default"];
},{}],339:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = IfStatement;
var marked0$0 = [IfStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function IfStatement(context) {
	var testValue;
	return _regeneratorRuntime.wrap(function IfStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.test).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();

				if (!(0, _utilsNative.toBoolean)(testValue)) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 6;
				return context.create(context.node.consequent).execute();

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
				if (!context.node.alternate) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.alternate).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],340:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _arrayExpression = require("./array-expression");

var _arrayExpression2 = _interopRequireDefault(_arrayExpression);

var _assignmentExpression = require("./assignment-expression");

var _assignmentExpression2 = _interopRequireDefault(_assignmentExpression);

var _binaryExpression = require("./binary-expression");

var _binaryExpression2 = _interopRequireDefault(_binaryExpression);

var _blockStatement = require("./block-statement");

var _blockStatement2 = _interopRequireDefault(_blockStatement);

var _interruptStatement = require("./interrupt-statement");

var _interruptStatement2 = _interopRequireDefault(_interruptStatement);

var _callExpression = require("./call-expression");

var _callExpression2 = _interopRequireDefault(_callExpression);

var _ifStatement = require("./if-statement");

var _ifStatement2 = _interopRequireDefault(_ifStatement);

var _debuggerStatement = require("./debugger-statement");

var _debuggerStatement2 = _interopRequireDefault(_debuggerStatement);

var _doWhileStatementJs = require("./do-while-statement.js");

var _doWhileStatementJs2 = _interopRequireDefault(_doWhileStatementJs);

var _emptyStatement = require("./empty-statement");

var _emptyStatement2 = _interopRequireDefault(_emptyStatement);

var _expressionStatement = require("./expression-statement");

var _expressionStatement2 = _interopRequireDefault(_expressionStatement);

var _forStatement = require("./for-statement");

var _forStatement2 = _interopRequireDefault(_forStatement);

var _forInStatement = require("./for-in-statement");

var _forInStatement2 = _interopRequireDefault(_forInStatement);

var _functionDeclaration = require("./function-declaration");

var _functionDeclaration2 = _interopRequireDefault(_functionDeclaration);

var _functionExpression = require("./function-expression");

var _functionExpression2 = _interopRequireDefault(_functionExpression);

var _identifier = require("./identifier");

var _identifier2 = _interopRequireDefault(_identifier);

var _labeledStatement = require("./labeled-statement");

var _labeledStatement2 = _interopRequireDefault(_labeledStatement);

var _literal = require("./literal");

var _literal2 = _interopRequireDefault(_literal);

var _logicalExpression = require("./logical-expression");

var _logicalExpression2 = _interopRequireDefault(_logicalExpression);

var _memberExpression = require("./member-expression");

var _memberExpression2 = _interopRequireDefault(_memberExpression);

var _metaProperty = require("./meta-property");

var _metaProperty2 = _interopRequireDefault(_metaProperty);

var _objectExpression = require("./object-expression");

var _objectExpression2 = _interopRequireDefault(_objectExpression);

var _returnStatement = require("./return-statement");

var _returnStatement2 = _interopRequireDefault(_returnStatement);

var _sequenceExpression = require("./sequence-expression");

var _sequenceExpression2 = _interopRequireDefault(_sequenceExpression);

var _switchStatement = require("./switch-statement");

var _switchStatement2 = _interopRequireDefault(_switchStatement);

var _taggedTemplateExpression = require("./tagged-template-expression");

var _taggedTemplateExpression2 = _interopRequireDefault(_taggedTemplateExpression);

var _templateLiteral = require("./template-literal");

var _templateLiteral2 = _interopRequireDefault(_templateLiteral);

var _thisExpression = require("./this-expression");

var _thisExpression2 = _interopRequireDefault(_thisExpression);

var _throwStatement = require("./throw-statement");

var _throwStatement2 = _interopRequireDefault(_throwStatement);

var _tryStatement = require("./try-statement");

var _tryStatement2 = _interopRequireDefault(_tryStatement);

var _unaryExpression = require("./unary-expression");

var _unaryExpression2 = _interopRequireDefault(_unaryExpression);

var _updateExpression = require("./update-expression");

var _updateExpression2 = _interopRequireDefault(_updateExpression);

var _variableDeclaration = require("./variable-declaration");

var _variableDeclaration2 = _interopRequireDefault(_variableDeclaration);

var _variableDeclarator = require("./variable-declarator");

var _variableDeclarator2 = _interopRequireDefault(_variableDeclarator);

var _withStatement = require("./with-statement");

var _withStatement2 = _interopRequireDefault(_withStatement);

var visitors = {
	ArrayExpression: _arrayExpression2["default"],
	AssignmentExpression: _assignmentExpression2["default"],
	BinaryExpression: _binaryExpression2["default"],
	BlockStatement: _blockStatement2["default"],
	BreakStatement: _interruptStatement2["default"],
	CallExpression: _callExpression2["default"],
	ConditionalExpression: _ifStatement2["default"],
	DebuggerStatement: _debuggerStatement2["default"],
	DoWhileStatement: _doWhileStatementJs2["default"],
	EmptyStatement: _emptyStatement2["default"],
	ExpressionStatement: _expressionStatement2["default"],
	ForStatement: _forStatement2["default"],
	ForInStatement: _forInStatement2["default"],
	FunctionDeclaration: _functionDeclaration2["default"],
	FunctionExpression: _functionExpression2["default"],
	Identifier: _identifier2["default"],
	LabeledStatement: _labeledStatement2["default"],
	Literal: _literal2["default"],
	LogicalExpression: _logicalExpression2["default"],
	MemberExpression: _memberExpression2["default"],
	MetaProperty: _metaProperty2["default"],
	ObjectExpression: _objectExpression2["default"],
	ReturnStatement: _returnStatement2["default"],
	SequenceExpression: _sequenceExpression2["default"],
	SwitchStatement: _switchStatement2["default"],
	TaggedTemplateExpression: _taggedTemplateExpression2["default"],
	TemplateLiteral: _templateLiteral2["default"],
	ThisExpression: _thisExpression2["default"],
	ThrowStatement: _throwStatement2["default"],
	TryStatement: _tryStatement2["default"],
	UnaryExpression: _unaryExpression2["default"],
	UpdateExpression: _updateExpression2["default"],
	VariableDeclaration: _variableDeclaration2["default"],
	VariableDeclarator: _variableDeclarator2["default"],
	WithStatement: _withStatement2["default"],

	ArrowFunctionExpression: _functionExpression2["default"],
	ContinueStatement: _interruptStatement2["default"],
	IfStatement: _ifStatement2["default"],
	NewExpression: _callExpression2["default"],
	Program: _blockStatement2["default"],
	WhileStatement: _doWhileStatementJs2["default"]
};

exports["default"] = {
	visit: _regeneratorRuntime.mark(function visit(context) {
		return _regeneratorRuntime.wrap(function visit$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (context.node.type in visitors) {
						context$1$0.next = 2;
						break;
					}

					throw new TypeError("No handler defined for: " + context.node.type);

				case 2:
					context$1$0.next = 4;
					return visitors[context.node.type](context);

				case 4:
					return context$1$0.abrupt("return", context$1$0.sent);

				case 5:
				case "end":
					return context$1$0.stop();
			}
		}, visit, this);
	})
};
module.exports = exports["default"];
},{"./array-expression":325,"./assignment-expression":326,"./binary-expression":327,"./block-statement":328,"./call-expression":329,"./debugger-statement":330,"./do-while-statement.js":331,"./empty-statement":332,"./expression-statement":333,"./for-in-statement":334,"./for-statement":335,"./function-declaration":336,"./function-expression":337,"./identifier":338,"./if-statement":339,"./interrupt-statement":341,"./labeled-statement":342,"./literal":343,"./logical-expression":344,"./member-expression":345,"./meta-property":346,"./object-expression":347,"./return-statement":348,"./sequence-expression":349,"./switch-statement":350,"./tagged-template-expression":351,"./template-literal":352,"./this-expression":353,"./throw-statement":354,"./try-statement":355,"./unary-expression":356,"./update-expression":357,"./variable-declaration":358,"./variable-declarator":359,"./with-statement":360,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/regenerator":31}],341:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = InterruptStatement;

function InterruptStatement(context) {
	var label = undefined;
	if (context.node.label) {
		label = context.node.label.name;
	}

	if (context.node.type === "BreakStatement") {
		return context.cancel(label);
	}

	return context.skip(label);
}

module.exports = exports["default"];
},{}],342:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LabeledStatement;
var marked0$0 = [LabeledStatement].map(_regeneratorRuntime.mark);

function LabeledStatement(context) {
	return _regeneratorRuntime.wrap(function LabeledStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.createLabel(context.node.body, context.node.label.name).execute();

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

;
module.exports = exports["default"];
},{"babel-runtime/regenerator":31}],343:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Literal;

function Literal(context) {
	return context.result(context.env.objectFactory.createPrimitive(context.node.value));
}

module.exports = exports["default"];
},{}],344:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LogicalExpression;
var marked0$0 = [LogicalExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function LogicalExpression(context) {
	var left, passed;
	return _regeneratorRuntime.wrap(function LogicalExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent;
				passed = (0, _utilsNative.toBoolean)(left.result.getValue());

				if (!(passed && context.node.operator === "||")) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 6:
				if (!(!passed && context.node.operator === "&&")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 8:
				context$1$0.next = 10;
				return context.create(context.node.right).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":323,"babel-runtime/regenerator":31}],345:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MemberExpression;
var marked0$0 = [MemberExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function MemberExpression(context) {
	var obj, key, value, id;
	return _regeneratorRuntime.wrap(function MemberExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.object).execute();

			case 2:
				obj = context$1$0.sent.result.getValue();
				key = undefined, value = undefined;

				if (!context.node.computed) {
					context$1$0.next = 17;
					break;
				}

				context$1$0.next = 7;
				return context.create(context.node.property).execute();

			case 7:
				id = context$1$0.sent.result.getValue();

				if (!id.isSymbol) {
					context$1$0.next = 12;
					break;
				}

				// if the identifier is a symbol, keep as is - property reference will handle it accordingly
				key = id;
				context$1$0.next = 15;
				break;

			case 12:
				context$1$0.next = 14;
				return (0, _utilsNative.toString)(id);

			case 14:
				key = context$1$0.sent;

			case 15:
				context$1$0.next = 18;
				break;

			case 17:
				key = context.node.property.name;

			case 18:

				value = new _envPropertyReference.PropertyReference(key, obj, context.env);
				return context$1$0.abrupt("return", context.result(value));

			case 20:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":197,"../utils/native":323,"babel-runtime/regenerator":31}],346:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MetaProperty;

function MetaProperty(context) {
	throw new Error("Meta properties not yet implemented");
}

module.exports = exports["default"];
},{}],347:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ObjectExpression;
var marked0$0 = [ObjectExpression].map(_regeneratorRuntime.mark);

var _utilsFunc = require("../utils/func");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

function setDescriptor(env, obj, descriptor) {
	var strict = env.isStrict();

	if (descriptor.get) {
		contracts.assertAreValidArguments(descriptor.get.node.params, strict);
		descriptor.getter = _regeneratorRuntime.mark(function callee$1$0() {
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return (0, _utilsFunc.execute)(env, descriptor.get, [], this, descriptor.get.node);

					case 2:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 3:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	if (descriptor.set) {
		contracts.assertAreValidArguments(descriptor.set.node.params, strict);
		descriptor.setter = _regeneratorRuntime.mark(function callee$1$0() {
			var args$2$0 = arguments;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return (0, _utilsFunc.execute)(env, descriptor.set, args$2$0, this, descriptor.set.node);

					case 2:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	obj.defineOwnProperty(descriptor.key, descriptor);
}

function createDescriptor(key, value) {
	return { key: key, value: value, configurable: true, enumerable: true, writable: true };
}

function ObjectExpression(context) {
	var obj, descriptors, prop;
	return _regeneratorRuntime.wrap(function ObjectExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				obj = context.env.objectFactory.createObject();
				descriptors = _Object$create(null);
				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.properties, _regeneratorRuntime.mark(function callee$1$0(property) {
					var value, key, keyValue;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(property.value).execute();

							case 2:
								value = context$2$0.sent.result.getValue();
								key = undefined;

								if (!property.computed) {
									context$2$0.next = 13;
									break;
								}

								context$2$0.next = 7;
								return context.create(property.key).execute();

							case 7:
								keyValue = context$2$0.sent.result.getValue();
								context$2$0.next = 10;
								return (0, _utilsNative.toPropertyKey)(keyValue);

							case 10:
								key = context$2$0.sent;
								context$2$0.next = 14;
								break;

							case 13:
								key = property.key.name || property.key.value;

							case 14:
								context$2$0.t0 = property.kind;
								context$2$0.next = context$2$0.t0 === "get" ? 17 : context$2$0.t0 === "set" ? 17 : 20;
								break;

							case 17:
								descriptors[name] = descriptors[name] || createDescriptor(key);
								descriptors[name][property.kind] = value;
								return context$2$0.abrupt("break", 22);

							case 20:
								obj.defineOwnProperty(key, createDescriptor(key, value));
								return context$2$0.abrupt("break", 22);

							case 22:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:

				for (prop in descriptors) {
					setDescriptor(context.env, obj, descriptors[prop]);
				}

				return context$1$0.abrupt("return", context.result(obj));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":320,"../utils/contracts":321,"../utils/func":322,"../utils/native":323,"babel-runtime/core-js/object/create":12,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],348:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ReturnStatement;
var marked0$0 = [ReturnStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ReturnStatement(context) {
	return _regeneratorRuntime.wrap(function ReturnStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.argument) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.t0 = context;
				context$1$0.next = 4;
				return context.create(context.node.argument).execute();

			case 4:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context$1$0.t0.exit.call(context$1$0.t0, context$1$0.t1));

			case 6:
				return context$1$0.abrupt("return", context.exit(_typesPrimitiveType.UNDEFINED));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":312,"babel-runtime/regenerator":31}],349:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SequenceExpression;
var marked0$0 = [SequenceExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function SequenceExpression(context) {
	var value;
	return _regeneratorRuntime.wrap(function SequenceExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				value = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent.result.getValue();

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", context.result(value));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":320,"babel-runtime/regenerator":31}],350:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SwitchStatement;
var marked0$0 = [executeStatements, SwitchStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function executeStatements(context, statements) {
	var result;
	return _regeneratorRuntime.wrap(function executeStatements$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(statements, _regeneratorRuntime.mark(function callee$1$0(statement, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(statement).execute();

							case 2:
								result = context$2$0.sent;

								if (result && result.isCancelled()) {
									abort();
								}

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function SwitchStatement(context) {
	var testValue, passed, value, defaultCase, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, current, caseValue;

	return _regeneratorRuntime.wrap(function SwitchStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.discriminant).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();
				passed = false;
				value = undefined, defaultCase = undefined;
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 8;
				_iterator = _getIterator(context.node.cases);

			case 10:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 33;
					break;
				}

				current = _step.value;

				if (passed) {
					context$1$0.next = 23;
					break;
				}

				if (!current.test) {
					context$1$0.next = 21;
					break;
				}

				context$1$0.next = 16;
				return context.create(current.test).execute();

			case 16:
				caseValue = context$1$0.sent.result.getValue();

				if (context.env.ops.areSame(caseValue, testValue)) {
					context$1$0.next = 19;
					break;
				}

				return context$1$0.abrupt("continue", 30);

			case 19:
				context$1$0.next = 23;
				break;

			case 21:
				// default might not be the last case
				defaultCase = current;
				return context$1$0.abrupt("continue", 30);

			case 23:

				passed = true;
				context$1$0.next = 26;
				return executeStatements(context, current.consequent);

			case 26:
				value = context$1$0.sent;

				if (!(value && value.isCancelled())) {
					context$1$0.next = 30;
					break;
				}

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 30:
				_iteratorNormalCompletion = true;
				context$1$0.next = 10;
				break;

			case 33:
				context$1$0.next = 39;
				break;

			case 35:
				context$1$0.prev = 35;
				context$1$0.t0 = context$1$0["catch"](8);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 39:
				context$1$0.prev = 39;
				context$1$0.prev = 40;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 42:
				context$1$0.prev = 42;

				if (!_didIteratorError) {
					context$1$0.next = 45;
					break;
				}

				throw _iteratorError;

			case 45:
				return context$1$0.finish(42);

			case 46:
				return context$1$0.finish(39);

			case 47:
				if (!(!passed && defaultCase && defaultCase.consequent)) {
					context$1$0.next = 53;
					break;
				}

				context$1$0.next = 50;
				return executeStatements(context, defaultCase.consequent);

			case 50:
				value = context$1$0.sent;

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 53:
				return context$1$0.abrupt("return", value);

			case 54:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this, [[8, 35, 39, 47], [40,, 42, 46]]);
}

module.exports = exports["default"];
},{"../utils/async":320,"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":31}],351:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TaggedTemplateExpression;
var marked0$0 = [TaggedTemplateExpression].map(_regeneratorRuntime.mark);

var _utilsFunc = require("../utils/func");

var _utilsAsync = require("../utils/async");

var templateObjectCache = _Object$create(null);

function buildTemplateObject(env, node) {
	// per spec, template objects are cached
	var key = JSON.stringify(node.quasis.map(function (q) {
		return { cooked: q.value.cooked, raw: q.value.raw };
	}));
	if (key in templateObjectCache) {
		return templateObjectCache[key];
	}

	var objectFactory = env.objectFactory;
	var tag = objectFactory.create("Array");
	var raw = objectFactory.create("Array");
	var quasis = node.quasis;

	for (var i = 0, ln = quasis.length; i < ln; i++) {
		tag.setValue(i, objectFactory.createPrimitive(quasis[i].value.cooked));
		raw.setValue(i, objectFactory.createPrimitive(quasis[i].value.raw));
	}

	raw.freeze();
	tag.defineOwnProperty("raw", { value: raw });
	tag.freeze();

	return templateObjectCache[key] = tag;
}

function TaggedTemplateExpression(context) {
	var templateObject, values, callee, func, value;
	return _regeneratorRuntime.wrap(function TaggedTemplateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				templateObject = buildTemplateObject(context.env, context.node.quasi);
				context$1$0.next = 3;
				return (0, _utilsAsync.map)(context.node.quasi.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return value.result.getValue();

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				values = context$1$0.sent;
				context$1$0.next = 6;
				return context.create(context.node.tag).execute();

			case 6:
				callee = context$1$0.sent.result;
				func = callee.getValue();
				context$1$0.next = 10;
				return (0, _utilsFunc.execute)(context.env, func, [templateObject].concat(_toConsumableArray(values)), callee.base, callee);

			case 10:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(value));

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":320,"../utils/func":322,"babel-runtime/core-js/object/create":12,"babel-runtime/helpers/to-consumable-array":30,"babel-runtime/regenerator":31}],352:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TemplateLiteral;
var marked0$0 = [TemplateLiteral].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

function TemplateLiteral(context) {
	var values, result, quasis, i, ln;
	return _regeneratorRuntime.wrap(function TemplateLiteral$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsAsync.map)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return (0, _utilsNative.toString)(value.result.getValue());

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
				values = context$1$0.sent;
				result = [];
				quasis = context.node.quasis;

				for (i = 0, ln = quasis.length; i < ln; i++) {
					result.push(quasis[i].value.cooked);

					if (i < values.length) {
						result.push(values[i]);
					}
				}

				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(result.join(""))));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":320,"../utils/native":323,"babel-runtime/regenerator":31}],353:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThisExpression;

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function ThisExpression(context) {
	var thisArg = context.env.getThisBinding();
	if (contracts.isNullOrUndefined(thisArg) && !context.env.isStrict()) {
		thisArg = context.env.global;
	}

	return context.result(thisArg);
}

module.exports = exports["default"];
},{"../utils/contracts":321,"babel-runtime/helpers/interop-require-wildcard":29}],354:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThrowStatement;
var marked0$0 = [ThrowStatement].map(_regeneratorRuntime.mark);

function ThrowStatement(context) {
	var arg;
	return _regeneratorRuntime.wrap(function ThrowStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.argument).execute();

			case 2:
				arg = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context.raise(arg));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":31}],355:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TryStatement;
var marked0$0 = [executeBlock, TryStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

function executeBlock(context, body, swallow) {
	var result;
	return _regeneratorRuntime.wrap(function executeBlock$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(body, _regeneratorRuntime.mark(function callee$1$0(node, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!swallow) {
									context$2$0.next = 12;
									break;
								}

								context$2$0.prev = 1;
								context$2$0.next = 4;
								return context.create(node).execute();

							case 4:
								result = context$2$0.sent;
								context$2$0.next = 10;
								break;

							case 7:
								context$2$0.prev = 7;
								context$2$0.t0 = context$2$0["catch"](1);

								result = context.raise(context$2$0.t0);

							case 10:
								context$2$0.next = 15;
								break;

							case 12:
								context$2$0.next = 14;
								return context.create(node).execute();

							case 14:
								result = context$2$0.sent;

							case 15:

								if (result.canBreak()) {
									abort();
								}

							case 16:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this, [[1, 7]]);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function TryStatement(context) {
	var result, finalizerResult, errVar, scope;
	return _regeneratorRuntime.wrap(function TryStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return executeBlock(context, context.node.block.body, true);

			case 2:
				result = context$1$0.sent;
				finalizerResult = undefined;

				if (!(result && result.raised)) {
					context$1$0.next = 14;
					break;
				}

				if (!context.node.handler) {
					context$1$0.next = 14;
					break;
				}

				errVar = context.node.handler.param.name;

				contracts.assertIsValidIdentifier(errVar, context.env.isStrict());

				scope = context.env.createScope();

				context.env.createVariable(errVar);
				context.env.setValue(errVar, result.result);

				context$1$0.next = 13;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return executeBlock(context, context.node.handler.body.body, true);

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 13:
				result = context$1$0.sent;

			case 14:
				if (context.node.finalizer) {
					context$1$0.next = 16;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 16:
				if (!context.node.finalizer) {
					context$1$0.next = 22;
					break;
				}

				context$1$0.next = 19;
				return executeBlock(context, context.node.finalizer.body);

			case 19:
				finalizerResult = context$1$0.sent;

				if (!(finalizerResult && finalizerResult.canBreak())) {
					context$1$0.next = 22;
					break;
				}

				return context$1$0.abrupt("return", finalizerResult);

			case 22:
				return context$1$0.abrupt("return", result);

			case 23:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];

// let shouldRaise = false;
// let shouldReturn = false;

// let shouldThrow = result && result.raised;

// if there is no catch OR if an error is raised within the catch we need to pass that on
// if (result && result.raised) {
// 	shouldRaise = true;
// 	// yield result;
// }

// shouldReturn = true;

// if (shouldRaise) {
// 	try {
// 		throw result.result;
// 	} catch (err) {
// 		throw err;
// 	} finally {
// 		if (shouldReturn) {
// 			return finalizerResult;
// 		}
// 	}
// }
},{"../utils/async":320,"../utils/contracts":321,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],356:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UnaryExpression;
var marked0$0 = [UnaryExpression].map(_regeneratorRuntime.mark);

var _envReference = require("../env/reference");

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function UnaryExpression(context) {
	var objectFactory, result, value, newValue, type, deleted, resolved;
	return _regeneratorRuntime.wrap(function UnaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				result = context$1$0.sent.result;
				value = undefined, newValue = undefined;
				context$1$0.t0 = context.node.operator;
				context$1$0.next = context$1$0.t0 === "typeof" ? 8 : context$1$0.t0 === "-" ? 12 : context$1$0.t0 === "+" ? 19 : context$1$0.t0 === "!" ? 26 : context$1$0.t0 === "~" ? 29 : context$1$0.t0 === "delete" ? 36 : context$1$0.t0 === "void" ? 49 : 51;
				break;

			case 8:
				type = undefined;

				if (result instanceof _envReference.Reference && result.isUnresolved()) {
					type = "undefined";
				} else {
					value = result.getValue();
					type = value ? value.type : "undefined";
				}

				newValue = objectFactory.createPrimitive(type);
				return context$1$0.abrupt("break", 52);

			case 12:
				value = result.getValue();
				context$1$0.t1 = objectFactory;
				context$1$0.next = 16;
				return (0, _utilsNative.toNumber)(value);

			case 16:
				context$1$0.t2 = -context$1$0.sent;
				newValue = context$1$0.t1.createPrimitive.call(context$1$0.t1, context$1$0.t2);
				return context$1$0.abrupt("break", 52);

			case 19:
				value = result.getValue();
				context$1$0.t3 = objectFactory;
				context$1$0.next = 23;
				return (0, _utilsNative.toNumber)(value);

			case 23:
				context$1$0.t4 = +context$1$0.sent;
				newValue = context$1$0.t3.createPrimitive.call(context$1$0.t3, context$1$0.t4);
				return context$1$0.abrupt("break", 52);

			case 26:
				value = result.getValue();
				newValue = objectFactory.createPrimitive(!(0, _utilsNative.toBoolean)(value));
				return context$1$0.abrupt("break", 52);

			case 29:
				value = result.getValue();
				context$1$0.t5 = objectFactory;
				context$1$0.next = 33;
				return (0, _utilsNative.toInt32)(value);

			case 33:
				context$1$0.t6 = ~context$1$0.sent;
				newValue = context$1$0.t5.createPrimitive.call(context$1$0.t5, context$1$0.t6);
				return context$1$0.abrupt("break", 52);

			case 36:
				deleted = true;

				if (!(result && result instanceof _envReference.Reference)) {
					context$1$0.next = 45;
					break;
				}

				resolved = !result.isUnresolved();

				if (!context.env.isStrict()) {
					context$1$0.next = 42;
					break;
				}

				if (!(!resolved || !(result instanceof _envPropertyReference.PropertyReference) || result.unqualified)) {
					context$1$0.next = 42;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Delete of an unqualified identifier in strict mode.")));

			case 42:

				if (resolved) {
					deleted = result["delete"]();
				}
				context$1$0.next = 47;
				break;

			case 45:
				if (!context.node.argument.object) {
					context$1$0.next = 47;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new ReferenceError(context.node.argument.object.name + " is not defined")));

			case 47:

				newValue = objectFactory.createPrimitive(deleted);
				return context$1$0.abrupt("break", 52);

			case 49:
				newValue = objectFactory.createPrimitive(undefined);
				return context$1$0.abrupt("break", 52);

			case 51:
				return context$1$0.abrupt("return", context.raise(new SyntaxError("Unknown unary operator: " + context.node.operator)));

			case 52:
				return context$1$0.abrupt("return", context.result(newValue));

			case 53:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":197,"../env/reference":198,"../utils/native":323,"babel-runtime/regenerator":31}],357:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UpdateExpression;
var marked0$0 = [UpdateExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function UpdateExpression(context) {
	var objectFactory, ref, originalValue, newValue, newWrappedValue, returnValue;
	return _regeneratorRuntime.wrap(function UpdateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				ref = context$1$0.sent.result;

				contracts.assertIsValidAssignment(ref, context.env.isStrict());

				context$1$0.next = 7;
				return (0, _utilsNative.toNumber)(ref.getValue());

			case 7:
				originalValue = context$1$0.sent;
				newValue = originalValue;

				if (context.node.operator === "++") {
					newValue++;
				} else {
					newValue--;
				}

				newWrappedValue = objectFactory.createPrimitive(newValue);

				originalValue = objectFactory.createPrimitive(originalValue);

				returnValue = context.node.prefix ? newWrappedValue : originalValue;

				ref.setValue(newWrappedValue);
				return context$1$0.abrupt("return", context.result(returnValue));

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":321,"../utils/native":323,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}],358:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclaration;
var marked0$0 = [VariableDeclaration].map(_regeneratorRuntime.mark);

function VariableDeclaration(context) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl;

	return _regeneratorRuntime.wrap(function VariableDeclaration$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 3;
				_iterator = _getIterator(context.node.declarations);

			case 5:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				decl = _step.value;
				context$1$0.next = 9;
				return context.create(decl).execute();

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 5;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t0 = context$1$0["catch"](3);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return", context.empty());

			case 27:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[3, 14, 18, 26], [19,, 21, 25]]);
}

module.exports = exports["default"];
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":31}],359:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclarator;
var marked0$0 = [VariableDeclarator].map(_regeneratorRuntime.mark);

function VariableDeclarator(context) {
	var name, value;
	return _regeneratorRuntime.wrap(function VariableDeclarator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				name = context.node.id.name;
				value = undefined;

				if (!context.node.init) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.init).execute();

			case 5:
				value = context$1$0.sent.result;

			case 6:

				// variables have already been hoisted so we just need to initialize them if defined
				if (value) {
					context.env.setValue(name, value.getValue());
				}

				return context$1$0.abrupt("return", context.result(context.env.getReference(name)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":31}],360:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = WithStatement;
var marked0$0 = [WithStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function WithStatement(context) {
	var obj, scope;
	return _regeneratorRuntime.wrap(function WithStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.env.isStrict()) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Strict mode code may not include a with statement")));

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.object).execute();

			case 4:
				obj = context$1$0.sent.result.getValue();

				if (!contracts.isNullOrUndefined(obj)) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new TypeError(obj.className + " has no properties")));

			case 7:
				scope = context.env.createObjectScope(obj, context.env.getThisBinding());

				scope.init(context.node.body);

				context$1$0.next = 11;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(context.node.body).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 11:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":321,"babel-runtime/helpers/interop-require-wildcard":29,"babel-runtime/regenerator":31}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbWF0aC9jbHozMi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbWF0aC9mcm91bmQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL21hdGgvaW11bC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbWF0aC9zaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9udW1iZXIvZXBzaWxvbi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbnVtYmVyL21heC1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL251bWJlci9taW4tc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N0cmluZy9mcm9tLWNvZGUtcG9pbnQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2Zvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9iaW5kLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG8tY29uc3VtYWJsZS1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3IvcnVudGltZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9lczYvcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2VzNi9zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9tYXRoL3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9zdHJpbmcvcmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL21hdGgvY2x6MzIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL21hdGgvZnJvdW5kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9tYXRoL2ltdWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL251bWJlci9lcHNpbG9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9udW1iZXIvbWF4LXNhZmUtaW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL21pbi1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3RyaW5nL2Zyb20tY29kZS1wb2ludC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2Zvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY2xhc3NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWYuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmVudW0ta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZm9yLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2V0LW5hbWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmh0bWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pbnZva2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXMtYXJyYXktaXRlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmlzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXJhdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQua2V5b2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWl4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnByb3BlcnR5LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnNhbWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaGFyZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc3BlY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnN0cmljdC1uZXcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdXBwb3J0LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YWcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8taW5kZXguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8taW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLWxlbmd0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnVpZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnVuc2NvcGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC53a3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubWF0aC5jbHozMi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubWF0aC5mcm91bmQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm1hdGguaW11bC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubWF0aC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5udW1iZXIuZXBzaWxvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubnVtYmVyLm1heC1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm51bWJlci5taW4tc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnByb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5mcm9tLWNvZGUtcG9pbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQuZGVmLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLmxpYnJhcnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQucmVkZWYuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQuc3RyaW5nLXJlcGVhdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvJC51bnNjb3BlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5yZXBlYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJzcmMvZW52L2RlY2xhcmF0aXZlLWVudmlyb25tZW50LmpzIiwic3JjL2Vudi9ob2lzdGVyLmpzIiwic3JjL2Vudi9pbmRleC5qcyIsInNyYy9lbnYvb2JqZWN0LWVudmlyb25tZW50LmpzIiwic3JjL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2UuanMiLCJzcmMvZW52L3JlZmVyZW5jZS5qcyIsInNyYy9lbnYvc2NvcGUuanMiLCJzcmMvZXM1L2FycmF5L2luZGV4LmpzIiwic3JjL2VzNS9ib29sZWFuL2luZGV4LmpzIiwic3JjL2VzNS9jb25zb2xlL2luZGV4LmpzIiwic3JjL2VzNS9kYXRlL2luZGV4LmpzIiwic3JjL2VzNS9lcnJvci9pbmRleC5qcyIsInNyYy9lczUvZnVuY3Rpb24vaW5kZXguanMiLCJzcmMvZXM1L2dsb2JhbHMuanMiLCJzcmMvZXM1L2luZGV4LmpzIiwic3JjL2VzNS9qc29uL2luZGV4LmpzIiwic3JjL2VzNS9tYXRoL2luZGV4LmpzIiwic3JjL2VzNS9udW1iZXIvaW5kZXguanMiLCJzcmMvZXM1L29iamVjdC9pbmRleC5qcyIsInNyYy9lczUvcmVnZXgvaW5kZXguanMiLCJzcmMvZXM1L3N0cmluZy9pbmRleC5qcyIsInNyYy9lczYvYXJyYXktaGVscGVycy5qcyIsInNyYy9lczYvYXJyYXkuY29weS13aXRoaW4uanMiLCJzcmMvZXM2L2FycmF5LmZpbGwuanMiLCJzcmMvZXM2L2FycmF5LmZpbmQtaW5kZXguanMiLCJzcmMvZXM2L2FycmF5LmZpbmQuanMiLCJzcmMvZXM2L2FycmF5LmZyb20uanMiLCJzcmMvZXM2L2FycmF5Lml0ZXJhdG9yLmpzIiwic3JjL2VzNi9hcnJheS5qcyIsInNyYy9lczYvYXJyYXkub2YuanMiLCJzcmMvZXM2L2NvbGxlY3Rpb24taGVscGVycy5qcyIsInNyYy9lczYvaW5kZXguanMiLCJzcmMvZXM2L21hcC5jbGVhci5qcyIsInNyYy9lczYvbWFwLmRlbGV0ZS5qcyIsInNyYy9lczYvbWFwLmZvci1lYWNoLmpzIiwic3JjL2VzNi9tYXAuZ2V0LmpzIiwic3JjL2VzNi9tYXAuaGFzLmpzIiwic3JjL2VzNi9tYXAuaXRlcmF0b3IuanMiLCJzcmMvZXM2L21hcC5qcyIsInNyYy9lczYvbWFwLnNldC5qcyIsInNyYy9lczYvbWFwLnNpemUuanMiLCJzcmMvZXM2L21hdGguYWNvc2guanMiLCJzcmMvZXM2L21hdGguYXNpbmguanMiLCJzcmMvZXM2L21hdGguYXRhbmguanMiLCJzcmMvZXM2L21hdGguY2JydC5qcyIsInNyYy9lczYvbWF0aC5jbHozMi5qcyIsInNyYy9lczYvbWF0aC5jb3NoLmpzIiwic3JjL2VzNi9tYXRoLmV4cG0xLmpzIiwic3JjL2VzNi9tYXRoLmZyb3VuZC5qcyIsInNyYy9lczYvbWF0aC5oeXBvdC5qcyIsInNyYy9lczYvbWF0aC5pbXVsLmpzIiwic3JjL2VzNi9tYXRoLmpzIiwic3JjL2VzNi9tYXRoLmxvZy5qcyIsInNyYy9lczYvbWF0aC5zaWduLmpzIiwic3JjL2VzNi9tYXRoLnNpbmguanMiLCJzcmMvZXM2L21hdGgudGFuaC5qcyIsInNyYy9lczYvbWF0aC50cnVuYy5qcyIsInNyYy9lczYvbnVtYmVyLmlzLWZpbml0ZS5qcyIsInNyYy9lczYvbnVtYmVyLmlzLWludGVnZXIuanMiLCJzcmMvZXM2L251bWJlci5pcy1uYW4uanMiLCJzcmMvZXM2L251bWJlci5pcy1zYWZlLWludGVnZXIuanMiLCJzcmMvZXM2L251bWJlci5qcyIsInNyYy9lczYvbnVtYmVyLnBhcnNlLWZsb2F0LmpzIiwic3JjL2VzNi9udW1iZXIucGFyc2UtaW50LmpzIiwic3JjL2VzNi9vYmplY3QuYXNzaWduLmpzIiwic3JjL2VzNi9vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwic3JjL2VzNi9vYmplY3QuaXMuanMiLCJzcmMvZXM2L29iamVjdC5qcyIsInNyYy9lczYvb2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJzcmMvZXM2L29iamVjdC50by1zdHJpbmcuanMiLCJzcmMvZXM2L3Byb3h5LmpzIiwic3JjL2VzNi9yZWZsZWN0LmFwcGx5LmpzIiwic3JjL2VzNi9yZWZsZWN0LmNvbnN0cnVjdC5qcyIsInNyYy9lczYvcmVmbGVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJzcmMvZXM2L3JlZmxlY3QuZGVsZXRlLXByb3BlcnR5LmpzIiwic3JjL2VzNi9yZWZsZWN0LmVudW1lcmF0ZS5qcyIsInNyYy9lczYvcmVmbGVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJzcmMvZXM2L3JlZmxlY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsInNyYy9lczYvcmVmbGVjdC5nZXQuanMiLCJzcmMvZXM2L3JlZmxlY3QuaGFzLmpzIiwic3JjL2VzNi9yZWZsZWN0LmlzLWV4dGVuc2libGUuanMiLCJzcmMvZXM2L3JlZmxlY3QuanMiLCJzcmMvZXM2L3JlZmxlY3Qub3duLWtleXMuanMiLCJzcmMvZXM2L3JlZmxlY3QucHJldmVudC1leHRlbnNpb25zLmpzIiwic3JjL2VzNi9yZWZsZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJzcmMvZXM2L3JlZmxlY3Quc2V0LmpzIiwic3JjL2VzNi9yZWdleC5qcyIsInNyYy9lczYvc2V0L2luZGV4LmpzIiwic3JjL2VzNi9zdHJpbmcuY29kZS1wb2ludC1hdC5qcyIsInNyYy9lczYvc3RyaW5nLmZyb20tY29kZS1wb2ludC5qcyIsInNyYy9lczYvc3RyaW5nLmluY2x1ZGVzLmpzIiwic3JjL2VzNi9zdHJpbmcuaXRlcmF0b3IuanMiLCJzcmMvZXM2L3N0cmluZy5qcyIsInNyYy9lczYvc3RyaW5nLm5vcm1hbGl6ZS5qcyIsInNyYy9lczYvc3RyaW5nLnJhdy5qcyIsInNyYy9lczYvc3RyaW5nLnJlcGVhdC5qcyIsInNyYy9lczYvc3ltYm9sLmpzIiwic3JjL2VzdHJlZS13YWxrZXIuanMiLCJzcmMvZXhlY3V0aW9uLWNvbnRleHQuanMiLCJzcmMvZXhlY3V0aW9uLXJlc3VsdC5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9pdGVyYXRvcnMvYXJyYXktaXRlcmF0b3IuanMiLCJzcmMvaXRlcmF0b3JzL2luZGV4LmpzIiwic3JjL2l0ZXJhdG9ycy9pdGVyYWJsZS1pdGVyYXRvci5qcyIsInNyYy9pdGVyYXRvcnMvc3BhcnNlLWl0ZXJhdG9yLmpzIiwic3JjL2l0ZXJhdG9ycy9zdHJpbmctaXRlcmF0b3IuanMiLCJzcmMva2V5d29yZHMuanMiLCJzcmMvcG9seWZpbGxzLmpzIiwic3JjL3N5bnRheC1ydWxlcy5qcyIsInNyYy90eXBlcy9hcmd1bWVudC10eXBlLmpzIiwic3JjL3R5cGVzL2FycmF5LXR5cGUuanMiLCJzcmMvdHlwZXMvZGF0ZS10eXBlLmpzIiwic3JjL3R5cGVzL2Vycm9yLXR5cGUuanMiLCJzcmMvdHlwZXMvZnVuY3Rpb24tdHlwZS5qcyIsInNyYy90eXBlcy9pdGVyYXRvci10eXBlLmpzIiwic3JjL3R5cGVzL21hcC10eXBlLmpzIiwic3JjL3R5cGVzL25hdGl2ZS1mdW5jdGlvbi10eXBlLmpzIiwic3JjL3R5cGVzL29iamVjdC1mYWN0b3J5LmpzIiwic3JjL3R5cGVzL29iamVjdC10eXBlLmpzIiwic3JjL3R5cGVzL3ByaW1pdGl2ZS10eXBlLmpzIiwic3JjL3R5cGVzL3Byb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJzcmMvdHlwZXMvcHJveHktdHlwZS5qcyIsInNyYy90eXBlcy9yZWdleC10eXBlLmpzIiwic3JjL3R5cGVzL3NldC10eXBlLmpzIiwic3JjL3R5cGVzL3N0cmluZy10eXBlLmpzIiwic3JjL3R5cGVzL3N5bWJvbC10eXBlLmpzIiwic3JjL3V0aWxzL2Fzc2lnbi5qcyIsInNyYy91dGlscy9hc3luYy5qcyIsInNyYy91dGlscy9jb250cmFjdHMuanMiLCJzcmMvdXRpbHMvZnVuYy5qcyIsInNyYy91dGlscy9uYXRpdmUuanMiLCJzcmMvdXRpbHMvb3BlcmF0b3JzLmpzIiwic3JjL3Zpc2l0b3JzL2FycmF5LWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvYXNzaWdubWVudC1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL2JpbmFyeS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL2Jsb2NrLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9jYWxsLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvZGVidWdnZXItc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2RvLXdoaWxlLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9lbXB0eS1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZXhwcmVzc2lvbi1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZm9yLWluLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9mb3Itc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2Z1bmN0aW9uLWRlY2xhcmF0aW9uLmpzIiwic3JjL3Zpc2l0b3JzL2Z1bmN0aW9uLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvaWRlbnRpZmllci5qcyIsInNyYy92aXNpdG9ycy9pZi1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvaW5kZXguanMiLCJzcmMvdmlzaXRvcnMvaW50ZXJydXB0LXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9sYWJlbGVkLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9saXRlcmFsLmpzIiwic3JjL3Zpc2l0b3JzL2xvZ2ljYWwtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9tZW1iZXItZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9tZXRhLXByb3BlcnR5LmpzIiwic3JjL3Zpc2l0b3JzL29iamVjdC1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3JldHVybi1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvc2VxdWVuY2UtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9zd2l0Y2gtc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL3RhZ2dlZC10ZW1wbGF0ZS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3RlbXBsYXRlLWxpdGVyYWwuanMiLCJzcmMvdmlzaXRvcnMvdGhpcy1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3Rocm93LXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy90cnktc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL3VuYXJ5LWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvdXBkYXRlLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvdmFyaWFibGUtZGVjbGFyYXRpb24uanMiLCJzcmMvdmlzaXRvcnMvdmFyaWFibGUtZGVjbGFyYXRvci5qcyIsInNyYy92aXNpdG9ycy93aXRoLXN0YXRlbWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7OztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7Ozs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBOztBQ0FBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM01BO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6Q0E7Ozs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2V0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2p6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL1lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdk1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOWJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0bEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNVRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9nQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2dldC1pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9tYXRoL2NsejMyXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL21hdGgvZnJvdW5kXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL21hdGgvaW11bFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9tYXRoL3NpZ25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL2Vwc2lsb25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL21heC1zYWZlLWludGVnZXJcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL21pbi1zYWZlLWludGVnZXJcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5c1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N0cmluZy9mcm9tLWNvZGUtcG9pbnRcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9mb3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG5cbiAgICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHtcbiAgdmFyIF9hZ2FpbiA9IHRydWU7XG5cbiAgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7XG4gICAgdmFyIG9iamVjdCA9IF94LFxuICAgICAgICBwcm9wZXJ0eSA9IF94MixcbiAgICAgICAgcmVjZWl2ZXIgPSBfeDM7XG4gICAgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDtcbiAgICBfYWdhaW4gPSBmYWxzZTtcbiAgICBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgICB2YXIgZGVzYyA9IF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpO1xuXG4gICAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuXG4gICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfeCA9IHBhcmVudDtcbiAgICAgICAgX3gyID0gcHJvcGVydHk7XG4gICAgICAgIF94MyA9IHJlY2VpdmVyO1xuICAgICAgICBfYWdhaW4gPSB0cnVlO1xuICAgICAgICBjb250aW51ZSBfZnVuY3Rpb247XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykge1xuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBkZXNjLmdldDtcblxuICAgICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBfT2JqZWN0JGNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX09iamVjdCRzZXRQcm90b3R5cGVPZiA/IF9PYmplY3Qkc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgIFwiZGVmYXVsdFwiOiBvYmpcbiAgfTtcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaikge1xuICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbmV3T2JqID0ge307XG5cbiAgICBpZiAob2JqICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV3T2JqW1wiZGVmYXVsdFwiXSA9IG9iajtcbiAgICByZXR1cm4gbmV3T2JqO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb21cIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0FycmF5JGZyb20oYXJyKTtcbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4vLyBUaGlzIG1ldGhvZCBvZiBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgbmVlZHMgdG8gYmVcbi8vIGtlcHQgaWRlbnRpY2FsIHRvIHRoZSB3YXkgaXQgaXMgb2J0YWluZWQgaW4gcnVudGltZS5qc1xudmFyIGcgPVxuICB0eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDpcbiAgdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiA/IHdpbmRvdyA6XG4gIHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6IHRoaXM7XG5cbi8vIFVzZSBgZ2V0T3duUHJvcGVydHlOYW1lc2AgYmVjYXVzZSBub3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgY2FsbGluZ1xuLy8gYGhhc093blByb3BlcnR5YCBvbiB0aGUgZ2xvYmFsIGBzZWxmYCBvYmplY3QgaW4gYSB3b3JrZXIuIFNlZSAjMTgzLlxudmFyIGhhZFJ1bnRpbWUgPSBnLnJlZ2VuZXJhdG9yUnVudGltZSAmJlxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhnKS5pbmRleE9mKFwicmVnZW5lcmF0b3JSdW50aW1lXCIpID49IDA7XG5cbi8vIFNhdmUgdGhlIG9sZCByZWdlbmVyYXRvclJ1bnRpbWUgaW4gY2FzZSBpdCBuZWVkcyB0byBiZSByZXN0b3JlZCBsYXRlci5cbnZhciBvbGRSdW50aW1lID0gaGFkUnVudGltZSAmJiBnLnJlZ2VuZXJhdG9yUnVudGltZTtcblxuLy8gRm9yY2UgcmVldmFsdXRhdGlvbiBvZiBydW50aW1lLmpzLlxuZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSB1bmRlZmluZWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vcnVudGltZVwiKTtcblxuaWYgKGhhZFJ1bnRpbWUpIHtcbiAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgcnVudGltZS5cbiAgZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBvbGRSdW50aW1lO1xufSBlbHNlIHtcbiAgLy8gUmVtb3ZlIHRoZSBnbG9iYWwgcHJvcGVydHkgYWRkZWQgYnkgcnVudGltZS5qcy5cbiAgdHJ5IHtcbiAgICBkZWxldGUgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIH0gY2F0Y2goZSkge1xuICAgIGcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogbW9kdWxlLmV4cG9ydHMsIF9fZXNNb2R1bGU6IHRydWUgfTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aVlXSmxiQzF5ZFc1MGFXMWxMM0psWjJWdVpYSmhkRzl5TDJsdVpHVjRMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5OGdWR2hwY3lCdFpYUm9iMlFnYjJZZ2IySjBZV2x1YVc1bklHRWdjbVZtWlhKbGJtTmxJSFJ2SUhSb1pTQm5iRzlpWVd3Z2IySnFaV04wSUc1bFpXUnpJSFJ2SUdKbFhHNHZMeUJyWlhCMElHbGtaVzUwYVdOaGJDQjBieUIwYUdVZ2QyRjVJR2wwSUdseklHOWlkR0ZwYm1Wa0lHbHVJSEoxYm5ScGJXVXVhbk5jYm5aaGNpQm5JRDFjYmlBZ2RIbHdaVzltSUdkc2IySmhiQ0E5UFQwZ1hDSnZZbXBsWTNSY0lpQS9JR2RzYjJKaGJDQTZYRzRnSUhSNWNHVnZaaUIzYVc1a2IzY2dQVDA5SUZ3aWIySnFaV04wWENJZ1B5QjNhVzVrYjNjZ09seHVJQ0IwZVhCbGIyWWdjMlZzWmlBOVBUMGdYQ0p2WW1wbFkzUmNJaUEvSUhObGJHWWdPaUIwYUdsek8xeHVYRzR2THlCVmMyVWdZR2RsZEU5M2JsQnliM0JsY25SNVRtRnRaWE5nSUdKbFkyRjFjMlVnYm05MElHRnNiQ0JpY205M2MyVnljeUJ6ZFhCd2IzSjBJR05oYkd4cGJtZGNiaTh2SUdCb1lYTlBkMjVRY205d1pYSjBlV0FnYjI0Z2RHaGxJR2RzYjJKaGJDQmdjMlZzWm1BZ2IySnFaV04wSUdsdUlHRWdkMjl5YTJWeUxpQlRaV1VnSXpFNE15NWNiblpoY2lCb1lXUlNkVzUwYVcxbElEMGdaeTV5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1VnSmlaY2JpQWdUMkpxWldOMExtZGxkRTkzYmxCeWIzQmxjblI1VG1GdFpYTW9aeWt1YVc1a1pYaFBaaWhjSW5KbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlZ3aUtTQStQU0F3TzF4dVhHNHZMeUJUWVhabElIUm9aU0J2YkdRZ2NtVm5aVzVsY21GMGIzSlNkVzUwYVcxbElHbHVJR05oYzJVZ2FYUWdibVZsWkhNZ2RHOGdZbVVnY21WemRHOXlaV1FnYkdGMFpYSXVYRzUyWVhJZ2IyeGtVblZ1ZEdsdFpTQTlJR2hoWkZKMWJuUnBiV1VnSmlZZ1p5NXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVTdYRzVjYmk4dklFWnZjbU5sSUhKbFpYWmhiSFYwWVhScGIyNGdiMllnY25WdWRHbHRaUzVxY3k1Y2JtY3VjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxJRDBnZFc1a1pXWnBibVZrTzF4dVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlISmxjWFZwY21Vb1hDSXVMM0oxYm5ScGJXVmNJaWs3WEc1Y2JtbG1JQ2hvWVdSU2RXNTBhVzFsS1NCN1hHNGdJQzh2SUZKbGMzUnZjbVVnZEdobElHOXlhV2RwYm1Gc0lISjFiblJwYldVdVhHNGdJR2N1Y21WblpXNWxjbUYwYjNKU2RXNTBhVzFsSUQwZ2IyeGtVblZ1ZEdsdFpUdGNibjBnWld4elpTQjdYRzRnSUM4dklGSmxiVzkyWlNCMGFHVWdaMnh2WW1Gc0lIQnliM0JsY25SNUlHRmtaR1ZrSUdKNUlISjFiblJwYldVdWFuTXVYRzRnSUhSeWVTQjdYRzRnSUNBZ1pHVnNaWFJsSUdjdWNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbE8xeHVJQ0I5SUdOaGRHTm9LR1VwSUh0Y2JpQWdJQ0JuTG5KbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlNBOUlIVnVaR1ZtYVc1bFpEdGNiaUFnZlZ4dWZWeHVYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJSHNnWENKa1pXWmhkV3gwWENJNklHMXZaSFZzWlM1bGVIQnZjblJ6TENCZlgyVnpUVzlrZFd4bE9pQjBjblZsSUgwN1hHNGlYWDA9IiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBodHRwczovL3Jhdy5naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL21hc3Rlci9MSUNFTlNFIGZpbGUuIEFuXG4gKiBhZGRpdGlvbmFsIGdyYW50IG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW5cbiAqIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9TeW1ib2wgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1Byb21pc2UgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2VcIilbXCJkZWZhdWx0XCJdO1xuXG4hKGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSB0eXBlb2YgX1N5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF9TeW1ib2wkaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG5cbiAgdmFyIGluTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIjtcbiAgdmFyIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lO1xuICBpZiAocnVudGltZSkge1xuICAgIGlmIChpbk1vZHVsZSkge1xuICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLFxuICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhc1xuICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXJcbiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LlxuICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgZ2VuZXJhdG9yID0gX09iamVjdCRjcmVhdGUoKG91dGVyRm4gfHwgR2VuZXJhdG9yKS5wcm90b3R5cGUpO1xuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYgfHwgbnVsbCwgbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pKTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA6IGZhbHNlO1xuICB9O1xuXG4gIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IF9PYmplY3QkY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgdmFsdWUgaW5zdGFuY2VvZiBBd2FpdEFyZ3VtZW50YCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4gU29tZSBtYXkgY29uc2lkZXIgdGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgdG9vXG4gIC8vIGN1dGVzeSwgYnV0IHRoZXkgYXJlIGN1cm11ZGdlb25zLlxuICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiBuZXcgQXdhaXRBcmd1bWVudChhcmcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEF3YWl0QXJndW1lbnQoYXJnKSB7XG4gICAgdGhpcy5hcmcgPSBhcmc7XG4gIH1cblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIC8vIFRoaXMgaW52b2tlIGZ1bmN0aW9uIGlzIHdyaXR0ZW4gaW4gYSBzdHlsZSB0aGF0IGFzc3VtZXMgc29tZVxuICAgIC8vIGNhbGxpbmcgZnVuY3Rpb24gKG9yIFByb21pc2UpIHdpbGwgaGFuZGxlIGV4Y2VwdGlvbnMuXG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2VuZXJhdG9yW21ldGhvZF0oYXJnKTtcbiAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnQgPyBfUHJvbWlzZS5yZXNvbHZlKHZhbHVlLmFyZykudGhlbihpbnZva2VOZXh0LCBpbnZva2VUaHJvdykgOiBfUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHtcbiAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgaG93ZXZlciwgdGhlXG4gICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgIC8vIHRocm93biBiYWNrIGludG8gdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgYXMgaXMgdGhlIGNhc2VcbiAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpblxuICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgLy8gYWxsb3dzIHRoZSBjb25zdW1lciB0byBkZWNpZGUgd2hhdCB0byBkbyB3aXRoIHRoZSB5aWVsZGVkXG4gICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrXG4gICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAvLyBhd2FpdCwgYnkgY29udHJhc3QsIHRoZXJlIGlzIG5vIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgdGhlXG4gICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGVcbiAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgIC8vIGxldCB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhbmRsZSB0aGUgZXhjZXB0aW9uLlxuICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2Vzcy5kb21haW4pIHtcbiAgICAgIGludm9rZSA9IHByb2Nlc3MuZG9tYWluLmJpbmQoaW52b2tlKTtcbiAgICB9XG5cbiAgICB2YXIgaW52b2tlTmV4dCA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJuZXh0XCIpO1xuICAgIHZhciBpbnZva2VUaHJvdyA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJ0aHJvd1wiKTtcbiAgICB2YXIgaW52b2tlUmV0dXJuID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInJldHVyblwiKTtcbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgdmFyIGVucXVldWVSZXN1bHQgPVxuICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KSA6IG5ldyBfUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICByZXNvbHZlKGludm9rZShtZXRob2QsIGFyZykpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGVucXVldWVSZXN1bHQgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnlcbiAgICAgIC8vIGxhdGVyIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgIHByZXZpb3VzUHJvbWlzZSA9IGVucXVldWVSZXN1bHRbXCJjYXRjaFwiXShmdW5jdGlvbiAoaWdub3JlZCkge30pO1xuXG4gICAgICByZXR1cm4gZW5xdWV1ZVJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSk7XG5cbiAgICByZXR1cm4gcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICBpZiAobWV0aG9kID09PSBcInJldHVyblwiIHx8IG1ldGhvZCA9PT0gXCJ0aHJvd1wiICYmIGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gQSByZXR1cm4gb3IgdGhyb3cgKHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyB0aHJvd1xuICAgICAgICAgICAgLy8gbWV0aG9kKSBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgICAgdmFyIHJldHVybk1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKHJldHVybk1ldGhvZCkge1xuICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gocmV0dXJuTWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgYXJnKTtcbiAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmV0dXJuIG1ldGhvZCB0aHJldyBhbiBleGNlcHRpb24sIGxldCB0aGF0XG4gICAgICAgICAgICAgICAgLy8gZXhjZXB0aW9uIHByZXZhaWwgb3ZlciB0aGUgb3JpZ2luYWwgcmV0dXJuIG9yIHRocm93LlxuICAgICAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aCB0aGUgb3V0ZXIgcmV0dXJuLCBub3cgdGhhdCB0aGUgZGVsZWdhdGVcbiAgICAgICAgICAgICAgLy8gaXRlcmF0b3IgaGFzIGJlZW4gdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0sIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBMaWtlIHJldHVybmluZyBnZW5lcmF0b3IudGhyb3codW5jYXVnaHQpLCBidXQgd2l0aG91dCB0aGVcbiAgICAgICAgICAgIC8vIG92ZXJoZWFkIG9mIGFuIGV4dHJhIGZ1bmN0aW9uIGNhbGwuXG4gICAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVsZWdhdGUgZ2VuZXJhdG9yIHJhbiBhbmQgaGFuZGxlZCBpdHMgb3duIGV4Y2VwdGlvbnMgc29cbiAgICAgICAgICAvLyByZWdhcmRsZXNzIG9mIHdoYXQgdGhlIG1ldGhvZCB3YXMsIHdlIGNvbnRpbnVlIGFzIGlmIGl0IGlzXG4gICAgICAgICAgLy8gXCJuZXh0XCIgd2l0aCBhbiB1bmRlZmluZWQgYXJnLlxuICAgICAgICAgIG1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcbiAgICAgICAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAgICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcbiAgICAgICAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkWWllbGQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IGFyZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBhcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmUgPyBHZW5TdGF0ZUNvbXBsZXRlZCA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICB2YXIgaW5mbyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5kZWxlZ2F0ZSAmJiBtZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBydW50aW1lLmtleXMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSxcbiAgICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgdGhpcy5zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG4gICAgICAgIHJldHVybiAhIWNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiYgKHR5cGUgPT09IFwiYnJlYWtcIiB8fCB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8IHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4vLyBBbW9uZyB0aGUgdmFyaW91cyB0cmlja3MgZm9yIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsXG4vLyBvYmplY3QsIHRoaXMgc2VlbXMgdG8gYmUgdGhlIG1vc3QgcmVsaWFibGUgdGVjaG5pcXVlIHRoYXQgZG9lcyBub3Rcbi8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuXG50eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDogdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6IHVuZGVmaW5lZCk7XG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eUwzSjFiblJwYldVdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaThxS2x4dUlDb2dRMjl3ZVhKcFoyaDBJQ2hqS1NBeU1ERTBMQ0JHWVdObFltOXZheXdnU1c1akxseHVJQ29nUVd4c0lISnBaMmgwY3lCeVpYTmxjblpsWkM1Y2JpQXFYRzRnS2lCVWFHbHpJSE52ZFhKalpTQmpiMlJsSUdseklHeHBZMlZ1YzJWa0lIVnVaR1Z5SUhSb1pTQkNVMFF0YzNSNWJHVWdiR2xqWlc1elpTQm1iM1Z1WkNCcGJpQjBhR1ZjYmlBcUlHaDBkSEJ6T2k4dmNtRjNMbWRwZEdoMVlpNWpiMjB2Wm1GalpXSnZiMnN2Y21WblpXNWxjbUYwYjNJdmJXRnpkR1Z5TDB4SlEwVk9VMFVnWm1sc1pTNGdRVzVjYmlBcUlHRmtaR2wwYVc5dVlXd2daM0poYm5RZ2IyWWdjR0YwWlc1MElISnBaMmgwY3lCallXNGdZbVVnWm05MWJtUWdhVzRnZEdobElGQkJWRVZPVkZNZ1ptbHNaU0JwYmx4dUlDb2dkR2hsSUhOaGJXVWdaR2x5WldOMGIzSjVMbHh1SUNvdlhHNWNibHdpZFhObElITjBjbWxqZEZ3aU8xeHVYRzUyWVhJZ1gxTjViV0p2YkNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDJOdmNtVXRhbk12YzNsdFltOXNYQ0lwVzF3aVpHVm1ZWFZzZEZ3aVhUdGNibHh1ZG1GeUlGOVRlVzFpYjJ3a2FYUmxjbUYwYjNJZ1BTQnlaWEYxYVhKbEtGd2lZbUZpWld3dGNuVnVkR2x0WlM5amIzSmxMV3B6TDNONWJXSnZiQzlwZEdWeVlYUnZjbHdpS1Z0Y0ltUmxabUYxYkhSY0lsMDdYRzVjYm5aaGNpQmZUMkpxWldOMEpHTnlaV0YwWlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDJOdmNtVXRhbk12YjJKcVpXTjBMMk55WldGMFpWd2lLVnRjSW1SbFptRjFiSFJjSWwwN1hHNWNiblpoY2lCZlVISnZiV2x6WlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDJOdmNtVXRhbk12Y0hKdmJXbHpaVndpS1Z0Y0ltUmxabUYxYkhSY0lsMDdYRzVjYmlFb1puVnVZM1JwYjI0Z0tHZHNiMkpoYkNrZ2UxeHVJQ0JjSW5WelpTQnpkSEpwWTNSY0lqdGNibHh1SUNCMllYSWdhR0Z6VDNkdUlEMGdUMkpxWldOMExuQnliM1J2ZEhsd1pTNW9ZWE5QZDI1UWNtOXdaWEowZVR0Y2JpQWdkbUZ5SUhWdVpHVm1hVzVsWkRzZ0x5OGdUVzl5WlNCamIyMXdjbVZ6YzJsaWJHVWdkR2hoYmlCMmIybGtJREF1WEc0Z0lIWmhjaUJwZEdWeVlYUnZjbE41YldKdmJDQTlJSFI1Y0dWdlppQmZVM2x0WW05c0lEMDlQU0JjSW1aMWJtTjBhVzl1WENJZ0ppWWdYMU41YldKdmJDUnBkR1Z5WVhSdmNpQjhmQ0JjSWtCQWFYUmxjbUYwYjNKY0lqdGNibHh1SUNCMllYSWdhVzVOYjJSMWJHVWdQU0IwZVhCbGIyWWdiVzlrZFd4bElEMDlQU0JjSW05aWFtVmpkRndpTzF4dUlDQjJZWElnY25WdWRHbHRaU0E5SUdkc2IySmhiQzV5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1U3WEc0Z0lHbG1JQ2h5ZFc1MGFXMWxLU0I3WEc0Z0lDQWdhV1lnS0dsdVRXOWtkV3hsS1NCN1hHNGdJQ0FnSUNBdkx5QkpaaUJ5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1VnYVhNZ1pHVm1hVzVsWkNCbmJHOWlZV3hzZVNCaGJtUWdkMlVuY21VZ2FXNGdZU0J0YjJSMWJHVXNYRzRnSUNBZ0lDQXZMeUJ0WVd0bElIUm9aU0JsZUhCdmNuUnpJRzlpYW1WamRDQnBaR1Z1ZEdsallXd2dkRzhnY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTGx4dUlDQWdJQ0FnYlc5a2RXeGxMbVY0Y0c5eWRITWdQU0J5ZFc1MGFXMWxPMXh1SUNBZ0lIMWNiaUFnSUNBdkx5QkViMjRuZENCaWIzUm9aWElnWlhaaGJIVmhkR2x1WnlCMGFHVWdjbVZ6ZENCdlppQjBhR2x6SUdacGJHVWdhV1lnZEdobElISjFiblJwYldVZ2QyRnpYRzRnSUNBZ0x5OGdZV3h5WldGa2VTQmtaV1pwYm1Wa0lHZHNiMkpoYkd4NUxseHVJQ0FnSUhKbGRIVnlianRjYmlBZ2ZWeHVYRzRnSUM4dklFUmxabWx1WlNCMGFHVWdjblZ1ZEdsdFpTQm5iRzlpWVd4c2VTQW9ZWE1nWlhod1pXTjBaV1FnWW5rZ1oyVnVaWEpoZEdWa0lHTnZaR1VwSUdGeklHVnBkR2hsY2x4dUlDQXZMeUJ0YjJSMWJHVXVaWGh3YjNKMGN5QW9hV1lnZDJVbmNtVWdhVzRnWVNCdGIyUjFiR1VwSUc5eUlHRWdibVYzTENCbGJYQjBlU0J2WW1wbFkzUXVYRzRnSUhKMWJuUnBiV1VnUFNCbmJHOWlZV3d1Y21WblpXNWxjbUYwYjNKU2RXNTBhVzFsSUQwZ2FXNU5iMlIxYkdVZ1B5QnRiMlIxYkdVdVpYaHdiM0owY3lBNklIdDlPMXh1WEc0Z0lHWjFibU4wYVc5dUlIZHlZWEFvYVc1dVpYSkdiaXdnYjNWMFpYSkdiaXdnYzJWc1ppd2dkSEo1VEc5amMweHBjM1FwSUh0Y2JpQWdJQ0F2THlCSlppQnZkWFJsY2tadUlIQnliM1pwWkdWa0xDQjBhR1Z1SUc5MWRHVnlSbTR1Y0hKdmRHOTBlWEJsSUdsdWMzUmhibU5sYjJZZ1IyVnVaWEpoZEc5eUxseHVJQ0FnSUhaaGNpQm5aVzVsY21GMGIzSWdQU0JmVDJKcVpXTjBKR055WldGMFpTZ29iM1YwWlhKR2JpQjhmQ0JIWlc1bGNtRjBiM0lwTG5CeWIzUnZkSGx3WlNrN1hHNWNiaUFnSUNCblpXNWxjbUYwYjNJdVgybHVkbTlyWlNBOUlHMWhhMlZKYm5admEyVk5aWFJvYjJRb2FXNXVaWEpHYml3Z2MyVnNaaUI4ZkNCdWRXeHNMQ0J1WlhjZ1EyOXVkR1Y0ZENoMGNubE1iMk56VEdsemRDQjhmQ0JiWFNrcE8xeHVYRzRnSUNBZ2NtVjBkWEp1SUdkbGJtVnlZWFJ2Y2p0Y2JpQWdmVnh1SUNCeWRXNTBhVzFsTG5keVlYQWdQU0IzY21Gd08xeHVYRzRnSUM4dklGUnllUzlqWVhSamFDQm9aV3h3WlhJZ2RHOGdiV2x1YVcxcGVtVWdaR1Z2Y0hScGJXbDZZWFJwYjI1ekxpQlNaWFIxY201eklHRWdZMjl0Y0d4bGRHbHZibHh1SUNBdkx5QnlaV052Y21RZ2JHbHJaU0JqYjI1MFpYaDBMblJ5ZVVWdWRISnBaWE5iYVYwdVkyOXRjR3hsZEdsdmJpNGdWR2hwY3lCcGJuUmxjbVpoWTJVZ1kyOTFiR1JjYmlBZ0x5OGdhR0YyWlNCaVpXVnVJQ2hoYm1RZ2QyRnpJSEJ5WlhacGIzVnpiSGtwSUdSbGMybG5ibVZrSUhSdklIUmhhMlVnWVNCamJHOXpkWEpsSUhSdklHSmxYRzRnSUM4dklHbHVkbTlyWldRZ2QybDBhRzkxZENCaGNtZDFiV1Z1ZEhNc0lHSjFkQ0JwYmlCaGJHd2dkR2hsSUdOaGMyVnpJSGRsSUdOaGNtVWdZV0p2ZFhRZ2QyVmNiaUFnTHk4Z1lXeHlaV0ZrZVNCb1lYWmxJR0Z1SUdWNGFYTjBhVzVuSUcxbGRHaHZaQ0IzWlNCM1lXNTBJSFJ2SUdOaGJHd3NJSE52SUhSb1pYSmxKM01nYm04Z2JtVmxaRnh1SUNBdkx5QjBieUJqY21WaGRHVWdZU0J1WlhjZ1puVnVZM1JwYjI0Z2IySnFaV04wTGlCWFpTQmpZVzRnWlhabGJpQm5aWFFnWVhkaGVTQjNhWFJvSUdGemMzVnRhVzVuWEc0Z0lDOHZJSFJvWlNCdFpYUm9iMlFnZEdGclpYTWdaWGhoWTNSc2VTQnZibVVnWVhKbmRXMWxiblFzSUhOcGJtTmxJSFJvWVhRZ2FHRndjR1Z1Y3lCMGJ5QmlaU0IwY25WbFhHNGdJQzh2SUdsdUlHVjJaWEo1SUdOaGMyVXNJSE52SUhkbElHUnZiaWQwSUdoaGRtVWdkRzhnZEc5MVkyZ2dkR2hsSUdGeVozVnRaVzUwY3lCdlltcGxZM1F1SUZSb1pWeHVJQ0F2THlCdmJteDVJR0ZrWkdsMGFXOXVZV3dnWVd4c2IyTmhkR2x2YmlCeVpYRjFhWEpsWkNCcGN5QjBhR1VnWTI5dGNHeGxkR2x2YmlCeVpXTnZjbVFzSUhkb2FXTm9YRzRnSUM4dklHaGhjeUJoSUhOMFlXSnNaU0J6YUdGd1pTQmhibVFnYzI4Z2FHOXdaV1oxYkd4NUlITm9iM1ZzWkNCaVpTQmphR1ZoY0NCMGJ5QmhiR3h2WTJGMFpTNWNiaUFnWm5WdVkzUnBiMjRnZEhKNVEyRjBZMmdvWm00c0lHOWlhaXdnWVhKbktTQjdYRzRnSUNBZ2RISjVJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQjdJSFI1Y0dVNklGd2libTl5YldGc1hDSXNJR0Z5WnpvZ1ptNHVZMkZzYkNodlltb3NJR0Z5WnlrZ2ZUdGNiaUFnSUNCOUlHTmhkR05vSUNobGNuSXBJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQjdJSFI1Y0dVNklGd2lkR2h5YjNkY0lpd2dZWEpuT2lCbGNuSWdmVHRjYmlBZ0lDQjlYRzRnSUgxY2JseHVJQ0IyWVhJZ1IyVnVVM1JoZEdWVGRYTndaVzVrWldSVGRHRnlkQ0E5SUZ3aWMzVnpjR1Z1WkdWa1UzUmhjblJjSWp0Y2JpQWdkbUZ5SUVkbGJsTjBZWFJsVTNWemNHVnVaR1ZrV1dsbGJHUWdQU0JjSW5OMWMzQmxibVJsWkZscFpXeGtYQ0k3WEc0Z0lIWmhjaUJIWlc1VGRHRjBaVVY0WldOMWRHbHVaeUE5SUZ3aVpYaGxZM1YwYVc1blhDSTdYRzRnSUhaaGNpQkhaVzVUZEdGMFpVTnZiWEJzWlhSbFpDQTlJRndpWTI5dGNHeGxkR1ZrWENJN1hHNWNiaUFnTHk4Z1VtVjBkWEp1YVc1bklIUm9hWE1nYjJKcVpXTjBJR1p5YjIwZ2RHaGxJR2x1Ym1WeVJtNGdhR0Z6SUhSb1pTQnpZVzFsSUdWbVptVmpkQ0JoYzF4dUlDQXZMeUJpY21WaGEybHVaeUJ2ZFhRZ2IyWWdkR2hsSUdScGMzQmhkR05vSUhOM2FYUmphQ0J6ZEdGMFpXMWxiblF1WEc0Z0lIWmhjaUJEYjI1MGFXNTFaVk5sYm5ScGJtVnNJRDBnZTMwN1hHNWNiaUFnTHk4Z1JIVnRiWGtnWTI5dWMzUnlkV04wYjNJZ1puVnVZM1JwYjI1eklIUm9ZWFFnZDJVZ2RYTmxJR0Z6SUhSb1pTQXVZMjl1YzNSeWRXTjBiM0lnWVc1a1hHNGdJQzh2SUM1amIyNXpkSEoxWTNSdmNpNXdjbTkwYjNSNWNHVWdjSEp2Y0dWeWRHbGxjeUJtYjNJZ1puVnVZM1JwYjI1eklIUm9ZWFFnY21WMGRYSnVJRWRsYm1WeVlYUnZjbHh1SUNBdkx5QnZZbXBsWTNSekxpQkdiM0lnWm5Wc2JDQnpjR1ZqSUdOdmJYQnNhV0Z1WTJVc0lIbHZkU0J0WVhrZ2QybHphQ0IwYnlCamIyNW1hV2QxY21VZ2VXOTFjbHh1SUNBdkx5QnRhVzVwWm1sbGNpQnViM1FnZEc4Z2JXRnVaMnhsSUhSb1pTQnVZVzFsY3lCdlppQjBhR1Z6WlNCMGQyOGdablZ1WTNScGIyNXpMbHh1SUNCbWRXNWpkR2x2YmlCSFpXNWxjbUYwYjNJb0tTQjdmVnh1SUNCbWRXNWpkR2x2YmlCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmlncElIdDlYRzRnSUdaMWJtTjBhVzl1SUVkbGJtVnlZWFJ2Y2taMWJtTjBhVzl1VUhKdmRHOTBlWEJsS0NrZ2UzMWNibHh1SUNCMllYSWdSM0FnUFNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmxCeWIzUnZkSGx3WlM1d2NtOTBiM1I1Y0dVZ1BTQkhaVzVsY21GMGIzSXVjSEp2ZEc5MGVYQmxPMXh1SUNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2Ymk1d2NtOTBiM1I1Y0dVZ1BTQkhjQzVqYjI1emRISjFZM1J2Y2lBOUlFZGxibVZ5WVhSdmNrWjFibU4wYVc5dVVISnZkRzkwZVhCbE8xeHVJQ0JIWlc1bGNtRjBiM0pHZFc1amRHbHZibEJ5YjNSdmRIbHdaUzVqYjI1emRISjFZM1J2Y2lBOUlFZGxibVZ5WVhSdmNrWjFibU4wYVc5dU8xeHVJQ0JIWlc1bGNtRjBiM0pHZFc1amRHbHZiaTVrYVhOd2JHRjVUbUZ0WlNBOUlGd2lSMlZ1WlhKaGRHOXlSblZ1WTNScGIyNWNJanRjYmx4dUlDQXZMeUJJWld4d1pYSWdabTl5SUdSbFptbHVhVzVuSUhSb1pTQXVibVY0ZEN3Z0xuUm9jbTkzTENCaGJtUWdMbkpsZEhWeWJpQnRaWFJvYjJSeklHOW1JSFJvWlZ4dUlDQXZMeUJKZEdWeVlYUnZjaUJwYm5SbGNtWmhZMlVnYVc0Z2RHVnliWE1nYjJZZ1lTQnphVzVuYkdVZ0xsOXBiblp2YTJVZ2JXVjBhRzlrTGx4dUlDQm1kVzVqZEdsdmJpQmtaV1pwYm1WSmRHVnlZWFJ2Y2sxbGRHaHZaSE1vY0hKdmRHOTBlWEJsS1NCN1hHNGdJQ0FnVzF3aWJtVjRkRndpTENCY0luUm9jbTkzWENJc0lGd2ljbVYwZFhKdVhDSmRMbVp2Y2tWaFkyZ29ablZ1WTNScGIyNGdLRzFsZEdodlpDa2dlMXh1SUNBZ0lDQWdjSEp2ZEc5MGVYQmxXMjFsZEdodlpGMGdQU0JtZFc1amRHbHZiaUFvWVhKbktTQjdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQjBhR2x6TGw5cGJuWnZhMlVvYldWMGFHOWtMQ0JoY21jcE8xeHVJQ0FnSUNBZ2ZUdGNiaUFnSUNCOUtUdGNiaUFnZlZ4dVhHNGdJSEoxYm5ScGJXVXVhWE5IWlc1bGNtRjBiM0pHZFc1amRHbHZiaUE5SUdaMWJtTjBhVzl1SUNoblpXNUdkVzRwSUh0Y2JpQWdJQ0IyWVhJZ1kzUnZjaUE5SUhSNWNHVnZaaUJuWlc1R2RXNGdQVDA5SUZ3aVpuVnVZM1JwYjI1Y0lpQW1KaUJuWlc1R2RXNHVZMjl1YzNSeWRXTjBiM0k3WEc0Z0lDQWdjbVYwZFhKdUlHTjBiM0lnUHlCamRHOXlJRDA5UFNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmlCOGZGeHVJQ0FnSUM4dklFWnZjaUIwYUdVZ2JtRjBhWFpsSUVkbGJtVnlZWFJ2Y2taMWJtTjBhVzl1SUdOdmJuTjBjblZqZEc5eUxDQjBhR1VnWW1WemRDQjNaU0JqWVc1Y2JpQWdJQ0F2THlCa2J5QnBjeUIwYnlCamFHVmpheUJwZEhNZ0xtNWhiV1VnY0hKdmNHVnlkSGt1WEc0Z0lDQWdLR04wYjNJdVpHbHpjR3hoZVU1aGJXVWdmSHdnWTNSdmNpNXVZVzFsS1NBOVBUMGdYQ0pIWlc1bGNtRjBiM0pHZFc1amRHbHZibHdpSURvZ1ptRnNjMlU3WEc0Z0lIMDdYRzVjYmlBZ2NuVnVkR2x0WlM1dFlYSnJJRDBnWm5WdVkzUnBiMjRnS0dkbGJrWjFiaWtnZTF4dUlDQWdJR2RsYmtaMWJpNWZYM0J5YjNSdlgxOGdQU0JIWlc1bGNtRjBiM0pHZFc1amRHbHZibEJ5YjNSdmRIbHdaVHRjYmlBZ0lDQm5aVzVHZFc0dWNISnZkRzkwZVhCbElEMGdYMDlpYW1WamRDUmpjbVZoZEdVb1IzQXBPMXh1SUNBZ0lISmxkSFZ5YmlCblpXNUdkVzQ3WEc0Z0lIMDdYRzVjYmlBZ0x5OGdWMmwwYUdsdUlIUm9aU0JpYjJSNUlHOW1JR0Z1ZVNCaGMzbHVZeUJtZFc1amRHbHZiaXdnWUdGM1lXbDBJSGhnSUdseklIUnlZVzV6Wm05eWJXVmtJSFJ2WEc0Z0lDOHZJR0I1YVdWc1pDQnlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVXVZWGR5WVhBb2VDbGdMQ0J6YnlCMGFHRjBJSFJvWlNCeWRXNTBhVzFsSUdOaGJpQjBaWE4wWEc0Z0lDOHZJR0IyWVd4MVpTQnBibk4wWVc1alpXOW1JRUYzWVdsMFFYSm5kVzFsYm5SZ0lIUnZJR1JsZEdWeWJXbHVaU0JwWmlCMGFHVWdlV2xsYkdSbFpDQjJZV3gxWlNCcGMxeHVJQ0F2THlCdFpXRnVkQ0IwYnlCaVpTQmhkMkZwZEdWa0xpQlRiMjFsSUcxaGVTQmpiMjV6YVdSbGNpQjBhR1VnYm1GdFpTQnZaaUIwYUdseklHMWxkR2h2WkNCMGIyOWNiaUFnTHk4Z1kzVjBaWE41TENCaWRYUWdkR2hsZVNCaGNtVWdZM1Z5YlhWa1oyVnZibk11WEc0Z0lISjFiblJwYldVdVlYZHlZWEFnUFNCbWRXNWpkR2x2YmlBb1lYSm5LU0I3WEc0Z0lDQWdjbVYwZFhKdUlHNWxkeUJCZDJGcGRFRnlaM1Z0Wlc1MEtHRnlaeWs3WEc0Z0lIMDdYRzVjYmlBZ1puVnVZM1JwYjI0Z1FYZGhhWFJCY21kMWJXVnVkQ2hoY21jcElIdGNiaUFnSUNCMGFHbHpMbUZ5WnlBOUlHRnlaenRjYmlBZ2ZWeHVYRzRnSUdaMWJtTjBhVzl1SUVGemVXNWpTWFJsY21GMGIzSW9aMlZ1WlhKaGRHOXlLU0I3WEc0Z0lDQWdMeThnVkdocGN5QnBiblp2YTJVZ1puVnVZM1JwYjI0Z2FYTWdkM0pwZEhSbGJpQnBiaUJoSUhOMGVXeGxJSFJvWVhRZ1lYTnpkVzFsY3lCemIyMWxYRzRnSUNBZ0x5OGdZMkZzYkdsdVp5Qm1kVzVqZEdsdmJpQW9iM0lnVUhKdmJXbHpaU2tnZDJsc2JDQm9ZVzVrYkdVZ1pYaGpaWEIwYVc5dWN5NWNiaUFnSUNCbWRXNWpkR2x2YmlCcGJuWnZhMlVvYldWMGFHOWtMQ0JoY21jcElIdGNiaUFnSUNBZ0lIWmhjaUJ5WlhOMWJIUWdQU0JuWlc1bGNtRjBiM0piYldWMGFHOWtYU2hoY21jcE8xeHVJQ0FnSUNBZ2RtRnlJSFpoYkhWbElEMGdjbVZ6ZFd4MExuWmhiSFZsTzF4dUlDQWdJQ0FnY21WMGRYSnVJSFpoYkhWbElHbHVjM1JoYm1ObGIyWWdRWGRoYVhSQmNtZDFiV1Z1ZENBL0lGOVFjbTl0YVhObExuSmxjMjlzZG1Vb2RtRnNkV1V1WVhKbktTNTBhR1Z1S0dsdWRtOXJaVTVsZUhRc0lHbHVkbTlyWlZSb2NtOTNLU0E2SUY5UWNtOXRhWE5sTG5KbGMyOXNkbVVvZG1Gc2RXVXBMblJvWlc0b1puVnVZM1JwYjI0Z0tIVnVkM0poY0hCbFpDa2dlMXh1SUNBZ0lDQWdJQ0F2THlCWGFHVnVJR0VnZVdsbGJHUmxaQ0JRY205dGFYTmxJR2x6SUhKbGMyOXNkbVZrTENCcGRITWdabWx1WVd3Z2RtRnNkV1VnWW1WamIyMWxjMXh1SUNBZ0lDQWdJQ0F2THlCMGFHVWdMblpoYkhWbElHOW1JSFJvWlNCUWNtOXRhWE5sUEh0MllXeDFaU3hrYjI1bGZUNGdjbVZ6ZFd4MElHWnZjaUIwYUdWY2JpQWdJQ0FnSUNBZ0x5OGdZM1Z5Y21WdWRDQnBkR1Z5WVhScGIyNHVJRWxtSUhSb1pTQlFjbTl0YVhObElHbHpJSEpsYW1WamRHVmtMQ0JvYjNkbGRtVnlMQ0IwYUdWY2JpQWdJQ0FnSUNBZ0x5OGdjbVZ6ZFd4MElHWnZjaUIwYUdseklHbDBaWEpoZEdsdmJpQjNhV3hzSUdKbElISmxhbVZqZEdWa0lIZHBkR2dnZEdobElITmhiV1ZjYmlBZ0lDQWdJQ0FnTHk4Z2NtVmhjMjl1TGlCT2IzUmxJSFJvWVhRZ2NtVnFaV04wYVc5dWN5QnZaaUI1YVdWc1pHVmtJRkJ5YjIxcGMyVnpJR0Z5WlNCdWIzUmNiaUFnSUNBZ0lDQWdMeThnZEdoeWIzZHVJR0poWTJzZ2FXNTBieUIwYUdVZ1oyVnVaWEpoZEc5eUlHWjFibU4wYVc5dUxDQmhjeUJwY3lCMGFHVWdZMkZ6WlZ4dUlDQWdJQ0FnSUNBdkx5QjNhR1Z1SUdGdUlHRjNZV2wwWldRZ1VISnZiV2x6WlNCcGN5QnlaV3BsWTNSbFpDNGdWR2hwY3lCa2FXWm1aWEpsYm1ObElHbHVYRzRnSUNBZ0lDQWdJQzh2SUdKbGFHRjJhVzl5SUdKbGRIZGxaVzRnZVdsbGJHUWdZVzVrSUdGM1lXbDBJR2x6SUdsdGNHOXlkR0Z1ZEN3Z1ltVmpZWFZ6WlNCcGRGeHVJQ0FnSUNBZ0lDQXZMeUJoYkd4dmQzTWdkR2hsSUdOdmJuTjFiV1Z5SUhSdklHUmxZMmxrWlNCM2FHRjBJSFJ2SUdSdklIZHBkR2dnZEdobElIbHBaV3hrWldSY2JpQWdJQ0FnSUNBZ0x5OGdjbVZxWldOMGFXOXVJQ2h6ZDJGc2JHOTNJR2wwSUdGdVpDQmpiMjUwYVc1MVpTd2diV0Z1ZFdGc2JIa2dMblJvY205M0lHbDBJR0poWTJ0Y2JpQWdJQ0FnSUNBZ0x5OGdhVzUwYnlCMGFHVWdaMlZ1WlhKaGRHOXlMQ0JoWW1GdVpHOXVJR2wwWlhKaGRHbHZiaXdnZDJoaGRHVjJaWElwTGlCWGFYUm9YRzRnSUNBZ0lDQWdJQzh2SUdGM1lXbDBMQ0JpZVNCamIyNTBjbUZ6ZEN3Z2RHaGxjbVVnYVhNZ2JtOGdiM0J3YjNKMGRXNXBkSGtnZEc4Z1pYaGhiV2x1WlNCMGFHVmNiaUFnSUNBZ0lDQWdMeThnY21WcVpXTjBhVzl1SUhKbFlYTnZiaUJ2ZFhSemFXUmxJSFJvWlNCblpXNWxjbUYwYjNJZ1puVnVZM1JwYjI0c0lITnZJSFJvWlZ4dUlDQWdJQ0FnSUNBdkx5QnZibXg1SUc5d2RHbHZiaUJwY3lCMGJ5QjBhSEp2ZHlCcGRDQm1jbTl0SUhSb1pTQmhkMkZwZENCbGVIQnlaWE56YVc5dUxDQmhibVJjYmlBZ0lDQWdJQ0FnTHk4Z2JHVjBJSFJvWlNCblpXNWxjbUYwYjNJZ1puVnVZM1JwYjI0Z2FHRnVaR3hsSUhSb1pTQmxlR05sY0hScGIyNHVYRzRnSUNBZ0lDQWdJSEpsYzNWc2RDNTJZV3gxWlNBOUlIVnVkM0poY0hCbFpEdGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlISmxjM1ZzZER0Y2JpQWdJQ0FnSUgwcE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUdsbUlDaDBlWEJsYjJZZ2NISnZZMlZ6Y3lBOVBUMGdYQ0p2WW1wbFkzUmNJaUFtSmlCd2NtOWpaWE56TG1SdmJXRnBiaWtnZTF4dUlDQWdJQ0FnYVc1MmIydGxJRDBnY0hKdlkyVnpjeTVrYjIxaGFXNHVZbWx1WkNocGJuWnZhMlVwTzF4dUlDQWdJSDFjYmx4dUlDQWdJSFpoY2lCcGJuWnZhMlZPWlhoMElEMGdhVzUyYjJ0bExtSnBibVFvWjJWdVpYSmhkRzl5TENCY0ltNWxlSFJjSWlrN1hHNGdJQ0FnZG1GeUlHbHVkbTlyWlZSb2NtOTNJRDBnYVc1MmIydGxMbUpwYm1Rb1oyVnVaWEpoZEc5eUxDQmNJblJvY205M1hDSXBPMXh1SUNBZ0lIWmhjaUJwYm5admEyVlNaWFIxY200Z1BTQnBiblp2YTJVdVltbHVaQ2huWlc1bGNtRjBiM0lzSUZ3aWNtVjBkWEp1WENJcE8xeHVJQ0FnSUhaaGNpQndjbVYyYVc5MWMxQnliMjFwYzJVN1hHNWNiaUFnSUNCbWRXNWpkR2x2YmlCbGJuRjFaWFZsS0cxbGRHaHZaQ3dnWVhKbktTQjdYRzRnSUNBZ0lDQjJZWElnWlc1eGRXVjFaVkpsYzNWc2RDQTlYRzRnSUNBZ0lDQXZMeUJKWmlCbGJuRjFaWFZsSUdoaGN5QmlaV1Z1SUdOaGJHeGxaQ0JpWldadmNtVXNJSFJvWlc0Z2QyVWdkMkZ1ZENCMGJ5QjNZV2wwSUhWdWRHbHNYRzRnSUNBZ0lDQXZMeUJoYkd3Z2NISmxkbWx2ZFhNZ1VISnZiV2x6WlhNZ2FHRjJaU0JpWldWdUlISmxjMjlzZG1Wa0lHSmxabTl5WlNCallXeHNhVzVuSUdsdWRtOXJaU3hjYmlBZ0lDQWdJQzh2SUhOdklIUm9ZWFFnY21WemRXeDBjeUJoY21VZ1lXeDNZWGx6SUdSbGJHbDJaWEpsWkNCcGJpQjBhR1VnWTI5eWNtVmpkQ0J2Y21SbGNpNGdTV1pjYmlBZ0lDQWdJQzh2SUdWdWNYVmxkV1VnYUdGeklHNXZkQ0JpWldWdUlHTmhiR3hsWkNCaVpXWnZjbVVzSUhSb1pXNGdhWFFnYVhNZ2FXMXdiM0owWVc1MElIUnZYRzRnSUNBZ0lDQXZMeUJqWVd4c0lHbHVkbTlyWlNCcGJXMWxaR2xoZEdWc2VTd2dkMmwwYUc5MWRDQjNZV2wwYVc1bklHOXVJR0VnWTJGc2JHSmhZMnNnZEc4Z1ptbHlaU3hjYmlBZ0lDQWdJQzh2SUhOdklIUm9ZWFFnZEdobElHRnplVzVqSUdkbGJtVnlZWFJ2Y2lCbWRXNWpkR2x2YmlCb1lYTWdkR2hsSUc5d2NHOXlkSFZ1YVhSNUlIUnZJR1J2WEc0Z0lDQWdJQ0F2THlCaGJua2dibVZqWlhOellYSjVJSE5sZEhWd0lHbHVJR0VnY0hKbFpHbGpkR0ZpYkdVZ2QyRjVMaUJVYUdseklIQnlaV1JwWTNSaFltbHNhWFI1WEc0Z0lDQWdJQ0F2THlCcGN5QjNhSGtnZEdobElGQnliMjFwYzJVZ1kyOXVjM1J5ZFdOMGIzSWdjM2x1WTJoeWIyNXZkWE5zZVNCcGJuWnZhMlZ6SUdsMGMxeHVJQ0FnSUNBZ0x5OGdaWGhsWTNWMGIzSWdZMkZzYkdKaFkyc3NJR0Z1WkNCM2FIa2dZWE41Ym1NZ1puVnVZM1JwYjI1eklITjVibU5vY205dWIzVnpiSGxjYmlBZ0lDQWdJQzh2SUdWNFpXTjFkR1VnWTI5a1pTQmlaV1p2Y21VZ2RHaGxJR1pwY25OMElHRjNZV2wwTGlCVGFXNWpaU0IzWlNCcGJYQnNaVzFsYm5RZ2MybHRjR3hsWEc0Z0lDQWdJQ0F2THlCaGMzbHVZeUJtZFc1amRHbHZibk1nYVc0Z2RHVnliWE1nYjJZZ1lYTjVibU1nWjJWdVpYSmhkRzl5Y3l3Z2FYUWdhWE1nWlhOd1pXTnBZV3hzZVZ4dUlDQWdJQ0FnTHk4Z2FXMXdiM0owWVc1MElIUnZJR2RsZENCMGFHbHpJSEpwWjJoMExDQmxkbVZ1SUhSb2IzVm5hQ0JwZENCeVpYRjFhWEpsY3lCallYSmxMbHh1SUNBZ0lDQWdjSEpsZG1sdmRYTlFjbTl0YVhObElEOGdjSEpsZG1sdmRYTlFjbTl0YVhObExuUm9aVzRvWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z2FXNTJiMnRsS0cxbGRHaHZaQ3dnWVhKbktUdGNiaUFnSUNBZ0lIMHBJRG9nYm1WM0lGOVFjbTl0YVhObEtHWjFibU4wYVc5dUlDaHlaWE52YkhabEtTQjdYRzRnSUNBZ0lDQWdJSEpsYzI5c2RtVW9hVzUyYjJ0bEtHMWxkR2h2WkN3Z1lYSm5LU2s3WEc0Z0lDQWdJQ0I5S1R0Y2JseHVJQ0FnSUNBZ0x5OGdRWFp2YVdRZ2NISnZjR0ZuWVhScGJtY2daVzV4ZFdWMVpWSmxjM1ZzZENCbVlXbHNkWEpsY3lCMGJ5QlFjbTl0YVhObGN5QnlaWFIxY201bFpDQmllVnh1SUNBZ0lDQWdMeThnYkdGMFpYSWdhVzUyYjJOaGRHbHZibk1nYjJZZ2RHaGxJR2wwWlhKaGRHOXlMbHh1SUNBZ0lDQWdjSEpsZG1sdmRYTlFjbTl0YVhObElEMGdaVzV4ZFdWMVpWSmxjM1ZzZEZ0Y0ltTmhkR05vWENKZEtHWjFibU4wYVc5dUlDaHBaMjV2Y21Wa0tTQjdmU2s3WEc1Y2JpQWdJQ0FnSUhKbGRIVnliaUJsYm5GMVpYVmxVbVZ6ZFd4ME8xeHVJQ0FnSUgxY2JseHVJQ0FnSUM4dklFUmxabWx1WlNCMGFHVWdkVzVwWm1sbFpDQm9aV3h3WlhJZ2JXVjBhRzlrSUhSb1lYUWdhWE1nZFhObFpDQjBieUJwYlhCc1pXMWxiblFnTG01bGVIUXNYRzRnSUNBZ0x5OGdMblJvY205M0xDQmhibVFnTG5KbGRIVnliaUFvYzJWbElHUmxabWx1WlVsMFpYSmhkRzl5VFdWMGFHOWtjeWt1WEc0Z0lDQWdkR2hwY3k1ZmFXNTJiMnRsSUQwZ1pXNXhkV1YxWlR0Y2JpQWdmVnh1WEc0Z0lHUmxabWx1WlVsMFpYSmhkRzl5VFdWMGFHOWtjeWhCYzNsdVkwbDBaWEpoZEc5eUxuQnliM1J2ZEhsd1pTazdYRzVjYmlBZ0x5OGdUbTkwWlNCMGFHRjBJSE5wYlhCc1pTQmhjM2x1WXlCbWRXNWpkR2x2Ym5NZ1lYSmxJR2x0Y0d4bGJXVnVkR1ZrSUc5dUlIUnZjQ0J2Wmx4dUlDQXZMeUJCYzNsdVkwbDBaWEpoZEc5eUlHOWlhbVZqZEhNN0lIUm9aWGtnYW5WemRDQnlaWFIxY200Z1lTQlFjbTl0YVhObElHWnZjaUIwYUdVZ2RtRnNkV1VnYjJaY2JpQWdMeThnZEdobElHWnBibUZzSUhKbGMzVnNkQ0J3Y205a2RXTmxaQ0JpZVNCMGFHVWdhWFJsY21GMGIzSXVYRzRnSUhKMWJuUnBiV1V1WVhONWJtTWdQU0JtZFc1amRHbHZiaUFvYVc1dVpYSkdiaXdnYjNWMFpYSkdiaXdnYzJWc1ppd2dkSEo1VEc5amMweHBjM1FwSUh0Y2JpQWdJQ0IyWVhJZ2FYUmxjaUE5SUc1bGR5QkJjM2x1WTBsMFpYSmhkRzl5S0hkeVlYQW9hVzV1WlhKR2Jpd2diM1YwWlhKR2Jpd2djMlZzWml3Z2RISjVURzlqYzB4cGMzUXBLVHRjYmx4dUlDQWdJSEpsZEhWeWJpQnlkVzUwYVcxbExtbHpSMlZ1WlhKaGRHOXlSblZ1WTNScGIyNG9iM1YwWlhKR2Jpa2dQeUJwZEdWeUlDOHZJRWxtSUc5MWRHVnlSbTRnYVhNZ1lTQm5aVzVsY21GMGIzSXNJSEpsZEhWeWJpQjBhR1VnWm5Wc2JDQnBkR1Z5WVhSdmNpNWNiaUFnSUNBNklHbDBaWEl1Ym1WNGRDZ3BMblJvWlc0b1puVnVZM1JwYjI0Z0tISmxjM1ZzZENrZ2UxeHVJQ0FnSUNBZ2NtVjBkWEp1SUhKbGMzVnNkQzVrYjI1bElEOGdjbVZ6ZFd4MExuWmhiSFZsSURvZ2FYUmxjaTV1WlhoMEtDazdYRzRnSUNBZ2ZTazdYRzRnSUgwN1hHNWNiaUFnWm5WdVkzUnBiMjRnYldGclpVbHVkbTlyWlUxbGRHaHZaQ2hwYm01bGNrWnVMQ0J6Wld4bUxDQmpiMjUwWlhoMEtTQjdYRzRnSUNBZ2RtRnlJSE4wWVhSbElEMGdSMlZ1VTNSaGRHVlRkWE53Wlc1a1pXUlRkR0Z5ZER0Y2JseHVJQ0FnSUhKbGRIVnliaUJtZFc1amRHbHZiaUJwYm5admEyVW9iV1YwYUc5a0xDQmhjbWNwSUh0Y2JpQWdJQ0FnSUdsbUlDaHpkR0YwWlNBOVBUMGdSMlZ1VTNSaGRHVkZlR1ZqZFhScGJtY3BJSHRjYmlBZ0lDQWdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLRndpUjJWdVpYSmhkRzl5SUdseklHRnNjbVZoWkhrZ2NuVnVibWx1WjF3aUtUdGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdhV1lnS0hOMFlYUmxJRDA5UFNCSFpXNVRkR0YwWlVOdmJYQnNaWFJsWkNrZ2UxeHVJQ0FnSUNBZ0lDQnBaaUFvYldWMGFHOWtJRDA5UFNCY0luUm9jbTkzWENJcElIdGNiaUFnSUNBZ0lDQWdJQ0IwYUhKdmR5QmhjbWM3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQXZMeUJDWlNCbWIzSm5hWFpwYm1jc0lIQmxjaUF5TlM0ekxqTXVNeTR6SUc5bUlIUm9aU0J6Y0dWak9seHVJQ0FnSUNBZ0lDQXZMeUJvZEhSd2N6b3ZMM0JsYjNCc1pTNXRiM3BwYkd4aExtOXlaeTkrYW05eVpXNWtiM0ptWmk5bGN6WXRaSEpoWm5RdWFIUnRiQ056WldNdFoyVnVaWEpoZEc5eWNtVnpkVzFsWEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUJrYjI1bFVtVnpkV3gwS0NrN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lIZG9hV3hsSUNoMGNuVmxLU0I3WEc0Z0lDQWdJQ0FnSUhaaGNpQmtaV3hsWjJGMFpTQTlJR052Ym5SbGVIUXVaR1ZzWldkaGRHVTdYRzRnSUNBZ0lDQWdJR2xtSUNoa1pXeGxaMkYwWlNrZ2UxeHVJQ0FnSUNBZ0lDQWdJR2xtSUNodFpYUm9iMlFnUFQwOUlGd2ljbVYwZFhKdVhDSWdmSHdnYldWMGFHOWtJRDA5UFNCY0luUm9jbTkzWENJZ0ppWWdaR1ZzWldkaGRHVXVhWFJsY21GMGIzSmJiV1YwYUc5a1hTQTlQVDBnZFc1a1pXWnBibVZrS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCQklISmxkSFZ5YmlCdmNpQjBhSEp2ZHlBb2QyaGxiaUIwYUdVZ1pHVnNaV2RoZEdVZ2FYUmxjbUYwYjNJZ2FHRnpJRzV2SUhSb2NtOTNYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QnRaWFJvYjJRcElHRnNkMkY1Y3lCMFpYSnRhVzVoZEdWeklIUm9aU0I1YVdWc1pDb2diRzl2Y0M1Y2JpQWdJQ0FnSUNBZ0lDQWdJR052Ym5SbGVIUXVaR1ZzWldkaGRHVWdQU0J1ZFd4c08xeHVYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QkpaaUIwYUdVZ1pHVnNaV2RoZEdVZ2FYUmxjbUYwYjNJZ2FHRnpJR0VnY21WMGRYSnVJRzFsZEdodlpDd2daMmwyWlNCcGRDQmhYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QmphR0Z1WTJVZ2RHOGdZMnhsWVc0Z2RYQXVYRzRnSUNBZ0lDQWdJQ0FnSUNCMllYSWdjbVYwZFhKdVRXVjBhRzlrSUQwZ1pHVnNaV2RoZEdVdWFYUmxjbUYwYjNKYlhDSnlaWFIxY201Y0lsMDdYRzRnSUNBZ0lDQWdJQ0FnSUNCcFppQW9jbVYwZFhKdVRXVjBhRzlrS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhaaGNpQnlaV052Y21RZ1BTQjBjbmxEWVhSamFDaHlaWFIxY201TlpYUm9iMlFzSUdSbGJHVm5ZWFJsTG1sMFpYSmhkRzl5TENCaGNtY3BPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnBaaUFvY21WamIzSmtMblI1Y0dVZ1BUMDlJRndpZEdoeWIzZGNJaWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUM4dklFbG1JSFJvWlNCeVpYUjFjbTRnYldWMGFHOWtJSFJvY21WM0lHRnVJR1Y0WTJWd2RHbHZiaXdnYkdWMElIUm9ZWFJjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0F2THlCbGVHTmxjSFJwYjI0Z2NISmxkbUZwYkNCdmRtVnlJSFJvWlNCdmNtbG5hVzVoYkNCeVpYUjFjbTRnYjNJZ2RHaHliM2N1WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnYldWMGFHOWtJRDBnWENKMGFISnZkMXdpTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdGeVp5QTlJSEpsWTI5eVpDNWhjbWM3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWRHbHVkV1U3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNibHh1SUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLRzFsZEdodlpDQTlQVDBnWENKeVpYUjFjbTVjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkx5QkRiMjUwYVc1MVpTQjNhWFJvSUhSb1pTQnZkWFJsY2lCeVpYUjFjbTRzSUc1dmR5QjBhR0YwSUhSb1pTQmtaV3hsWjJGMFpWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkx5QnBkR1Z5WVhSdmNpQm9ZWE1nWW1WbGJpQjBaWEp0YVc1aGRHVmtMbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQmpiMjUwYVc1MVpUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNCMllYSWdjbVZqYjNKa0lEMGdkSEo1UTJGMFkyZ29aR1ZzWldkaGRHVXVhWFJsY21GMGIzSmJiV1YwYUc5a1hTd2daR1ZzWldkaGRHVXVhWFJsY21GMGIzSXNJR0Z5WnlrN1hHNWNiaUFnSUNBZ0lDQWdJQ0JwWmlBb2NtVmpiM0prTG5SNWNHVWdQVDA5SUZ3aWRHaHliM2RjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWRHVjRkQzVrWld4bFoyRjBaU0E5SUc1MWJHdzdYRzVjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZJRXhwYTJVZ2NtVjBkWEp1YVc1bklHZGxibVZ5WVhSdmNpNTBhSEp2ZHloMWJtTmhkV2RvZENrc0lHSjFkQ0IzYVhSb2IzVjBJSFJvWlZ4dUlDQWdJQ0FnSUNBZ0lDQWdMeThnYjNabGNtaGxZV1FnYjJZZ1lXNGdaWGgwY21FZ1puVnVZM1JwYjI0Z1kyRnNiQzVjYmlBZ0lDQWdJQ0FnSUNBZ0lHMWxkR2h2WkNBOUlGd2lkR2h5YjNkY0lqdGNiaUFnSUNBZ0lDQWdJQ0FnSUdGeVp5QTlJSEpsWTI5eVpDNWhjbWM3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpiMjUwYVc1MVpUdGNiaUFnSUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ0lDQXZMeUJFWld4bFoyRjBaU0JuWlc1bGNtRjBiM0lnY21GdUlHRnVaQ0JvWVc1a2JHVmtJR2wwY3lCdmQyNGdaWGhqWlhCMGFXOXVjeUJ6YjF4dUlDQWdJQ0FnSUNBZ0lDOHZJSEpsWjJGeVpHeGxjM01nYjJZZ2QyaGhkQ0IwYUdVZ2JXVjBhRzlrSUhkaGN5d2dkMlVnWTI5dWRHbHVkV1VnWVhNZ2FXWWdhWFFnYVhOY2JpQWdJQ0FnSUNBZ0lDQXZMeUJjSW01bGVIUmNJaUIzYVhSb0lHRnVJSFZ1WkdWbWFXNWxaQ0JoY21jdVhHNGdJQ0FnSUNBZ0lDQWdiV1YwYUc5a0lEMGdYQ0p1WlhoMFhDSTdYRzRnSUNBZ0lDQWdJQ0FnWVhKbklEMGdkVzVrWldacGJtVmtPMXh1WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJR2x1Wm04Z1BTQnlaV052Y21RdVlYSm5PMXh1SUNBZ0lDQWdJQ0FnSUdsbUlDaHBibVp2TG1SdmJtVXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHTnZiblJsZUhSYlpHVnNaV2RoZEdVdWNtVnpkV3gwVG1GdFpWMGdQU0JwYm1adkxuWmhiSFZsTzF4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl1ZEdWNGRDNXVaWGgwSUQwZ1pHVnNaV2RoZEdVdWJtVjRkRXh2WXp0Y2JpQWdJQ0FnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnYzNSaGRHVWdQU0JIWlc1VGRHRjBaVk4xYzNCbGJtUmxaRmxwWld4a08xeHVJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJR2x1Wm04N1hHNGdJQ0FnSUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0FnSUNBZ1kyOXVkR1Y0ZEM1a1pXeGxaMkYwWlNBOUlHNTFiR3c3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQnBaaUFvYldWMGFHOWtJRDA5UFNCY0ltNWxlSFJjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJR2xtSUNoemRHRjBaU0E5UFQwZ1IyVnVVM1JoZEdWVGRYTndaVzVrWldSWmFXVnNaQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl1ZEdWNGRDNXpaVzUwSUQwZ1lYSm5PMXh1SUNBZ0lDQWdJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpiMjUwWlhoMExuTmxiblFnUFNCMWJtUmxabWx1WldRN1hHNGdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0I5SUdWc2MyVWdhV1lnS0cxbGRHaHZaQ0E5UFQwZ1hDSjBhSEp2ZDF3aUtTQjdYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tITjBZWFJsSUQwOVBTQkhaVzVUZEdGMFpWTjFjM0JsYm1SbFpGTjBZWEowS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0J6ZEdGMFpTQTlJRWRsYmxOMFlYUmxRMjl0Y0d4bGRHVmtPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHliM2NnWVhKbk8xeHVJQ0FnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNBZ0lHbG1JQ2hqYjI1MFpYaDBMbVJwYzNCaGRHTm9SWGhqWlhCMGFXOXVLR0Z5WnlrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUM4dklFbG1JSFJvWlNCa2FYTndZWFJqYUdWa0lHVjRZMlZ3ZEdsdmJpQjNZWE1nWTJGMVoyaDBJR0o1SUdFZ1kyRjBZMmdnWW14dlkyc3NYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QjBhR1Z1SUd4bGRDQjBhR0YwSUdOaGRHTm9JR0pzYjJOcklHaGhibVJzWlNCMGFHVWdaWGhqWlhCMGFXOXVJRzV2Y20xaGJHeDVMbHh1SUNBZ0lDQWdJQ0FnSUNBZ2JXVjBhRzlrSUQwZ1hDSnVaWGgwWENJN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JoY21jZ1BTQjFibVJsWm1sdVpXUTdYRzRnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnYVdZZ0tHMWxkR2h2WkNBOVBUMGdYQ0p5WlhSMWNtNWNJaWtnZTF4dUlDQWdJQ0FnSUNBZ0lHTnZiblJsZUhRdVlXSnlkWEIwS0Z3aWNtVjBkWEp1WENJc0lHRnlaeWs3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQnpkR0YwWlNBOUlFZGxibE4wWVhSbFJYaGxZM1YwYVc1bk8xeHVYRzRnSUNBZ0lDQWdJSFpoY2lCeVpXTnZjbVFnUFNCMGNubERZWFJqYUNocGJtNWxja1p1TENCelpXeG1MQ0JqYjI1MFpYaDBLVHRjYmlBZ0lDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1MGVYQmxJRDA5UFNCY0ltNXZjbTFoYkZ3aUtTQjdYRzRnSUNBZ0lDQWdJQ0FnTHk4Z1NXWWdZVzRnWlhoalpYQjBhVzl1SUdseklIUm9jbTkzYmlCbWNtOXRJR2x1Ym1WeVJtNHNJSGRsSUd4bFlYWmxJSE4wWVhSbElEMDlQVnh1SUNBZ0lDQWdJQ0FnSUM4dklFZGxibE4wWVhSbFJYaGxZM1YwYVc1bklHRnVaQ0JzYjI5d0lHSmhZMnNnWm05eUlHRnViM1JvWlhJZ2FXNTJiMk5oZEdsdmJpNWNiaUFnSUNBZ0lDQWdJQ0J6ZEdGMFpTQTlJR052Ym5SbGVIUXVaRzl1WlNBL0lFZGxibE4wWVhSbFEyOXRjR3hsZEdWa0lEb2dSMlZ1VTNSaGRHVlRkWE53Wlc1a1pXUlphV1ZzWkR0Y2JseHVJQ0FnSUNBZ0lDQWdJSFpoY2lCcGJtWnZJRDBnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkbUZzZFdVNklISmxZMjl5WkM1aGNtY3NYRzRnSUNBZ0lDQWdJQ0FnSUNCa2IyNWxPaUJqYjI1MFpYaDBMbVJ2Ym1WY2JpQWdJQ0FnSUNBZ0lDQjlPMXh1WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLSEpsWTI5eVpDNWhjbWNnUFQwOUlFTnZiblJwYm5WbFUyVnVkR2x1Wld3cElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaGpiMjUwWlhoMExtUmxiR1ZuWVhSbElDWW1JRzFsZEdodlpDQTlQVDBnWENKdVpYaDBYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z1JHVnNhV0psY21GMFpXeDVJR1p2Y21kbGRDQjBhR1VnYkdGemRDQnpaVzUwSUhaaGJIVmxJSE52SUhSb1lYUWdkMlVnWkc5dUozUmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0x5OGdZV05qYVdSbGJuUmhiR3g1SUhCaGMzTWdhWFFnYjI0Z2RHOGdkR2hsSUdSbGJHVm5ZWFJsTGx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JoY21jZ1BTQjFibVJsWm1sdVpXUTdYRzRnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJwYm1adk8xeHVJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlNCbGJITmxJR2xtSUNoeVpXTnZjbVF1ZEhsd1pTQTlQVDBnWENKMGFISnZkMXdpS1NCN1hHNGdJQ0FnSUNBZ0lDQWdjM1JoZEdVZ1BTQkhaVzVUZEdGMFpVTnZiWEJzWlhSbFpEdGNiaUFnSUNBZ0lDQWdJQ0F2THlCRWFYTndZWFJqYUNCMGFHVWdaWGhqWlhCMGFXOXVJR0o1SUd4dmIzQnBibWNnWW1GamF5QmhjbTkxYm1RZ2RHOGdkR2hsWEc0Z0lDQWdJQ0FnSUNBZ0x5OGdZMjl1ZEdWNGRDNWthWE53WVhSamFFVjRZMlZ3ZEdsdmJpaGhjbWNwSUdOaGJHd2dZV0p2ZG1VdVhHNGdJQ0FnSUNBZ0lDQWdiV1YwYUc5a0lEMGdYQ0owYUhKdmQxd2lPMXh1SUNBZ0lDQWdJQ0FnSUdGeVp5QTlJSEpsWTI5eVpDNWhjbWM3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JpQWdJQ0I5TzF4dUlDQjlYRzVjYmlBZ0x5OGdSR1ZtYVc1bElFZGxibVZ5WVhSdmNpNXdjbTkwYjNSNWNHVXVlMjVsZUhRc2RHaHliM2NzY21WMGRYSnVmU0JwYmlCMFpYSnRjeUJ2WmlCMGFHVmNiaUFnTHk4Z2RXNXBabWxsWkNBdVgybHVkbTlyWlNCb1pXeHdaWElnYldWMGFHOWtMbHh1SUNCa1pXWnBibVZKZEdWeVlYUnZjazFsZEdodlpITW9SM0FwTzF4dVhHNGdJRWR3VzJsMFpYSmhkRzl5VTNsdFltOXNYU0E5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnSUNCeVpYUjFjbTRnZEdocGN6dGNiaUFnZlR0Y2JseHVJQ0JIY0M1MGIxTjBjbWx1WnlBOUlHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ0lDQnlaWFIxY200Z1hDSmJiMkpxWldOMElFZGxibVZ5WVhSdmNsMWNJanRjYmlBZ2ZUdGNibHh1SUNCbWRXNWpkR2x2YmlCd2RYTm9WSEo1Ulc1MGNua29iRzlqY3lrZ2UxeHVJQ0FnSUhaaGNpQmxiblJ5ZVNBOUlIc2dkSEo1VEc5ak9pQnNiMk56V3pCZElIMDdYRzVjYmlBZ0lDQnBaaUFvTVNCcGJpQnNiMk56S1NCN1hHNGdJQ0FnSUNCbGJuUnllUzVqWVhSamFFeHZZeUE5SUd4dlkzTmJNVjA3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdhV1lnS0RJZ2FXNGdiRzlqY3lrZ2UxeHVJQ0FnSUNBZ1pXNTBjbmt1Wm1sdVlXeHNlVXh2WXlBOUlHeHZZM05iTWwwN1hHNGdJQ0FnSUNCbGJuUnllUzVoWm5SbGNreHZZeUE5SUd4dlkzTmJNMTA3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdkR2hwY3k1MGNubEZiblJ5YVdWekxuQjFjMmdvWlc1MGNua3BPMXh1SUNCOVhHNWNiaUFnWm5WdVkzUnBiMjRnY21WelpYUlVjbmxGYm5SeWVTaGxiblJ5ZVNrZ2UxeHVJQ0FnSUhaaGNpQnlaV052Y21RZ1BTQmxiblJ5ZVM1amIyMXdiR1YwYVc5dUlIeDhJSHQ5TzF4dUlDQWdJSEpsWTI5eVpDNTBlWEJsSUQwZ1hDSnViM0p0WVd4Y0lqdGNiaUFnSUNCa1pXeGxkR1VnY21WamIzSmtMbUZ5Wnp0Y2JpQWdJQ0JsYm5SeWVTNWpiMjF3YkdWMGFXOXVJRDBnY21WamIzSmtPMXh1SUNCOVhHNWNiaUFnWm5WdVkzUnBiMjRnUTI5dWRHVjRkQ2gwY25sTWIyTnpUR2x6ZENrZ2UxeHVJQ0FnSUM4dklGUm9aU0J5YjI5MElHVnVkSEo1SUc5aWFtVmpkQ0FvWldabVpXTjBhWFpsYkhrZ1lTQjBjbmtnYzNSaGRHVnRaVzUwSUhkcGRHaHZkWFFnWVNCallYUmphRnh1SUNBZ0lDOHZJRzl5SUdFZ1ptbHVZV3hzZVNCaWJHOWpheWtnWjJsMlpYTWdkWE1nWVNCd2JHRmpaU0IwYnlCemRHOXlaU0IyWVd4MVpYTWdkR2h5YjNkdUlHWnliMjFjYmlBZ0lDQXZMeUJzYjJOaGRHbHZibk1nZDJobGNtVWdkR2hsY21VZ2FYTWdibThnWlc1amJHOXphVzVuSUhSeWVTQnpkR0YwWlcxbGJuUXVYRzRnSUNBZ2RHaHBjeTUwY25sRmJuUnlhV1Z6SUQwZ1czc2dkSEo1VEc5ak9pQmNJbkp2YjNSY0lpQjlYVHRjYmlBZ0lDQjBjbmxNYjJOelRHbHpkQzVtYjNKRllXTm9LSEIxYzJoVWNubEZiblJ5ZVN3Z2RHaHBjeWs3WEc0Z0lDQWdkR2hwY3k1eVpYTmxkQ2gwY25WbEtUdGNiaUFnZlZ4dVhHNGdJSEoxYm5ScGJXVXVhMlY1Y3lBOUlHWjFibU4wYVc5dUlDaHZZbXBsWTNRcElIdGNiaUFnSUNCMllYSWdhMlY1Y3lBOUlGdGRPMXh1SUNBZ0lHWnZjaUFvZG1GeUlHdGxlU0JwYmlCdlltcGxZM1FwSUh0Y2JpQWdJQ0FnSUd0bGVYTXVjSFZ6YUNoclpYa3BPMXh1SUNBZ0lIMWNiaUFnSUNCclpYbHpMbkpsZG1WeWMyVW9LVHRjYmx4dUlDQWdJQzh2SUZKaGRHaGxjaUIwYUdGdUlISmxkSFZ5Ym1sdVp5QmhiaUJ2WW1wbFkzUWdkMmwwYUNCaElHNWxlSFFnYldWMGFHOWtMQ0IzWlNCclpXVndYRzRnSUNBZ0x5OGdkR2hwYm1keklITnBiWEJzWlNCaGJtUWdjbVYwZFhKdUlIUm9aU0J1WlhoMElHWjFibU4wYVc5dUlHbDBjMlZzWmk1Y2JpQWdJQ0J5WlhSMWNtNGdablZ1WTNScGIyNGdibVY0ZENncElIdGNiaUFnSUNBZ0lIZG9hV3hsSUNoclpYbHpMbXhsYm1kMGFDa2dlMXh1SUNBZ0lDQWdJQ0IyWVhJZ2EyVjVJRDBnYTJWNWN5NXdiM0FvS1R0Y2JpQWdJQ0FnSUNBZ2FXWWdLR3RsZVNCcGJpQnZZbXBsWTNRcElIdGNiaUFnSUNBZ0lDQWdJQ0J1WlhoMExuWmhiSFZsSUQwZ2EyVjVPMXh1SUNBZ0lDQWdJQ0FnSUc1bGVIUXVaRzl1WlNBOUlHWmhiSE5sTzF4dUlDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCdVpYaDBPMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUM4dklGUnZJR0YyYjJsa0lHTnlaV0YwYVc1bklHRnVJR0ZrWkdsMGFXOXVZV3dnYjJKcVpXTjBMQ0IzWlNCcWRYTjBJR2hoYm1jZ2RHaGxJQzUyWVd4MVpWeHVJQ0FnSUNBZ0x5OGdZVzVrSUM1a2IyNWxJSEJ5YjNCbGNuUnBaWE1nYjJabUlIUm9aU0J1WlhoMElHWjFibU4wYVc5dUlHOWlhbVZqZENCcGRITmxiR1l1SUZSb2FYTmNiaUFnSUNBZ0lDOHZJR0ZzYzI4Z1pXNXpkWEpsY3lCMGFHRjBJSFJvWlNCdGFXNXBabWxsY2lCM2FXeHNJRzV2ZENCaGJtOXVlVzFwZW1VZ2RHaGxJR1oxYm1OMGFXOXVMbHh1SUNBZ0lDQWdibVY0ZEM1a2IyNWxJRDBnZEhKMVpUdGNiaUFnSUNBZ0lISmxkSFZ5YmlCdVpYaDBPMXh1SUNBZ0lIMDdYRzRnSUgwN1hHNWNiaUFnWm5WdVkzUnBiMjRnZG1Gc2RXVnpLR2wwWlhKaFlteGxLU0I3WEc0Z0lDQWdhV1lnS0dsMFpYSmhZbXhsS1NCN1hHNGdJQ0FnSUNCMllYSWdhWFJsY21GMGIzSk5aWFJvYjJRZ1BTQnBkR1Z5WVdKc1pWdHBkR1Z5WVhSdmNsTjViV0p2YkYwN1hHNGdJQ0FnSUNCcFppQW9hWFJsY21GMGIzSk5aWFJvYjJRcElIdGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlHbDBaWEpoZEc5eVRXVjBhRzlrTG1OaGJHd29hWFJsY21GaWJHVXBPMXh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0JwWmlBb2RIbHdaVzltSUdsMFpYSmhZbXhsTG01bGVIUWdQVDA5SUZ3aVpuVnVZM1JwYjI1Y0lpa2dlMXh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdhWFJsY21GaWJHVTdYRzRnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJR2xtSUNnaGFYTk9ZVTRvYVhSbGNtRmliR1V1YkdWdVozUm9LU2tnZTF4dUlDQWdJQ0FnSUNCMllYSWdhU0E5SUMweExGeHVJQ0FnSUNBZ0lDQWdJQ0FnYm1WNGRDQTlJR1oxYm1OMGFXOXVJRzVsZUhRb0tTQjdYRzRnSUNBZ0lDQWdJQ0FnZDJocGJHVWdLQ3NyYVNBOElHbDBaWEpoWW14bExteGxibWQwYUNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tHaGhjMDkzYmk1allXeHNLR2wwWlhKaFlteGxMQ0JwS1NrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCdVpYaDBMblpoYkhWbElEMGdhWFJsY21GaWJHVmJhVjA3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJRzVsZUhRdVpHOXVaU0E5SUdaaGJITmxPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2JtVjRkRHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ0lDQnVaWGgwTG5aaGJIVmxJRDBnZFc1a1pXWnBibVZrTzF4dUlDQWdJQ0FnSUNBZ0lHNWxlSFF1Wkc5dVpTQTlJSFJ5ZFdVN1hHNWNiaUFnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdibVY0ZER0Y2JpQWdJQ0FnSUNBZ2ZUdGNibHh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdibVY0ZEM1dVpYaDBJRDBnYm1WNGREdGNiaUFnSUNBZ0lIMWNiaUFnSUNCOVhHNWNiaUFnSUNBdkx5QlNaWFIxY200Z1lXNGdhWFJsY21GMGIzSWdkMmwwYUNCdWJ5QjJZV3gxWlhNdVhHNGdJQ0FnY21WMGRYSnVJSHNnYm1WNGREb2daRzl1WlZKbGMzVnNkQ0I5TzF4dUlDQjlYRzRnSUhKMWJuUnBiV1V1ZG1Gc2RXVnpJRDBnZG1Gc2RXVnpPMXh1WEc0Z0lHWjFibU4wYVc5dUlHUnZibVZTWlhOMWJIUW9LU0I3WEc0Z0lDQWdjbVYwZFhKdUlIc2dkbUZzZFdVNklIVnVaR1ZtYVc1bFpDd2daRzl1WlRvZ2RISjFaU0I5TzF4dUlDQjlYRzVjYmlBZ1EyOXVkR1Y0ZEM1d2NtOTBiM1I1Y0dVZ1BTQjdYRzRnSUNBZ1kyOXVjM1J5ZFdOMGIzSTZJRU52Ym5SbGVIUXNYRzVjYmlBZ0lDQnlaWE5sZERvZ1puVnVZM1JwYjI0Z2NtVnpaWFFvYzJ0cGNGUmxiWEJTWlhObGRDa2dlMXh1SUNBZ0lDQWdkR2hwY3k1d2NtVjJJRDBnTUR0Y2JpQWdJQ0FnSUhSb2FYTXVibVY0ZENBOUlEQTdYRzRnSUNBZ0lDQjBhR2x6TG5ObGJuUWdQU0IxYm1SbFptbHVaV1E3WEc0Z0lDQWdJQ0IwYUdsekxtUnZibVVnUFNCbVlXeHpaVHRjYmlBZ0lDQWdJSFJvYVhNdVpHVnNaV2RoZEdVZ1BTQnVkV3hzTzF4dVhHNGdJQ0FnSUNCMGFHbHpMblJ5ZVVWdWRISnBaWE11Wm05eVJXRmphQ2h5WlhObGRGUnllVVZ1ZEhKNUtUdGNibHh1SUNBZ0lDQWdhV1lnS0NGemEybHdWR1Z0Y0ZKbGMyVjBLU0I3WEc0Z0lDQWdJQ0FnSUdadmNpQW9kbUZ5SUc1aGJXVWdhVzRnZEdocGN5a2dlMXh1SUNBZ0lDQWdJQ0FnSUM4dklFNXZkQ0J6ZFhKbElHRmliM1YwSUhSb1pTQnZjSFJwYldGc0lHOXlaR1Z5SUc5bUlIUm9aWE5sSUdOdmJtUnBkR2x2Ym5NNlhHNGdJQ0FnSUNBZ0lDQWdhV1lnS0c1aGJXVXVZMmhoY2tGMEtEQXBJRDA5UFNCY0luUmNJaUFtSmlCb1lYTlBkMjR1WTJGc2JDaDBhR2x6TENCdVlXMWxLU0FtSmlBaGFYTk9ZVTRvSzI1aGJXVXVjMnhwWTJVb01Ta3BLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBhR2x6VzI1aGJXVmRJRDBnZFc1a1pXWnBibVZrTzF4dUlDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdmVnh1SUNBZ0lIMHNYRzVjYmlBZ0lDQnpkRzl3T2lCbWRXNWpkR2x2YmlCemRHOXdLQ2tnZTF4dUlDQWdJQ0FnZEdocGN5NWtiMjVsSUQwZ2RISjFaVHRjYmx4dUlDQWdJQ0FnZG1GeUlISnZiM1JGYm5SeWVTQTlJSFJvYVhNdWRISjVSVzUwY21sbGMxc3dYVHRjYmlBZ0lDQWdJSFpoY2lCeWIyOTBVbVZqYjNKa0lEMGdjbTl2ZEVWdWRISjVMbU52YlhCc1pYUnBiMjQ3WEc0Z0lDQWdJQ0JwWmlBb2NtOXZkRkpsWTI5eVpDNTBlWEJsSUQwOVBTQmNJblJvY205M1hDSXBJSHRjYmlBZ0lDQWdJQ0FnZEdoeWIzY2djbTl2ZEZKbFkyOXlaQzVoY21jN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMbkoyWVd3N1hHNGdJQ0FnZlN4Y2JseHVJQ0FnSUdScGMzQmhkR05vUlhoalpYQjBhVzl1T2lCbWRXNWpkR2x2YmlCa2FYTndZWFJqYUVWNFkyVndkR2x2YmlobGVHTmxjSFJwYjI0cElIdGNiaUFnSUNBZ0lHbG1JQ2gwYUdsekxtUnZibVVwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHliM2NnWlhoalpYQjBhVzl1TzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCMllYSWdZMjl1ZEdWNGRDQTlJSFJvYVhNN1hHNGdJQ0FnSUNCbWRXNWpkR2x2YmlCb1lXNWtiR1VvYkc5akxDQmpZWFZuYUhRcElIdGNiaUFnSUNBZ0lDQWdjbVZqYjNKa0xuUjVjR1VnUFNCY0luUm9jbTkzWENJN1hHNGdJQ0FnSUNBZ0lISmxZMjl5WkM1aGNtY2dQU0JsZUdObGNIUnBiMjQ3WEc0Z0lDQWdJQ0FnSUdOdmJuUmxlSFF1Ym1WNGRDQTlJR3h2WXp0Y2JpQWdJQ0FnSUNBZ2NtVjBkWEp1SUNFaFkyRjFaMmgwTzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCbWIzSWdLSFpoY2lCcElEMGdkR2hwY3k1MGNubEZiblJ5YVdWekxteGxibWQwYUNBdElERTdJR2tnUGowZ01Ec2dMUzFwS1NCN1hHNGdJQ0FnSUNBZ0lIWmhjaUJsYm5SeWVTQTlJSFJvYVhNdWRISjVSVzUwY21sbGMxdHBYVHRjYmlBZ0lDQWdJQ0FnZG1GeUlISmxZMjl5WkNBOUlHVnVkSEo1TG1OdmJYQnNaWFJwYjI0N1hHNWNiaUFnSUNBZ0lDQWdhV1lnS0dWdWRISjVMblJ5ZVV4dll5QTlQVDBnWENKeWIyOTBYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ0lDQXZMeUJGZUdObGNIUnBiMjRnZEdoeWIzZHVJRzkxZEhOcFpHVWdiMllnWVc1NUlIUnllU0JpYkc5amF5QjBhR0YwSUdOdmRXeGtJR2hoYm1Sc1pWeHVJQ0FnSUNBZ0lDQWdJQzh2SUdsMExDQnpieUJ6WlhRZ2RHaGxJR052YlhCc1pYUnBiMjRnZG1Gc2RXVWdiMllnZEdobElHVnVkR2x5WlNCbWRXNWpkR2x2YmlCMGIxeHVJQ0FnSUNBZ0lDQWdJQzh2SUhSb2NtOTNJSFJvWlNCbGVHTmxjSFJwYjI0dVhHNGdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlHaGhibVJzWlNoY0ltVnVaRndpS1R0Y2JpQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJR2xtSUNobGJuUnllUzUwY25sTWIyTWdQRDBnZEdocGN5NXdjbVYyS1NCN1hHNGdJQ0FnSUNBZ0lDQWdkbUZ5SUdoaGMwTmhkR05vSUQwZ2FHRnpUM2R1TG1OaGJHd29aVzUwY25rc0lGd2lZMkYwWTJoTWIyTmNJaWs3WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJR2hoYzBacGJtRnNiSGtnUFNCb1lYTlBkMjR1WTJGc2JDaGxiblJ5ZVN3Z1hDSm1hVzVoYkd4NVRHOWpYQ0lwTzF4dVhHNGdJQ0FnSUNBZ0lDQWdhV1lnS0doaGMwTmhkR05vSUNZbUlHaGhjMFpwYm1Gc2JIa3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gwYUdsekxuQnlaWFlnUENCbGJuUnllUzVqWVhSamFFeHZZeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdhR0Z1Wkd4bEtHVnVkSEo1TG1OaGRHTm9URzlqTENCMGNuVmxLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMGdaV3h6WlNCcFppQW9kR2hwY3k1d2NtVjJJRHdnWlc1MGNua3VabWx1WVd4c2VVeHZZeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdhR0Z1Wkd4bEtHVnVkSEo1TG1acGJtRnNiSGxNYjJNcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNBZ0lIMGdaV3h6WlNCcFppQW9hR0Z6UTJGMFkyZ3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gwYUdsekxuQnlaWFlnUENCbGJuUnllUzVqWVhSamFFeHZZeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdhR0Z1Wkd4bEtHVnVkSEo1TG1OaGRHTm9URzlqTENCMGNuVmxLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0I5SUdWc2MyVWdhV1lnS0doaGMwWnBibUZzYkhrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG5CeVpYWWdQQ0JsYm5SeWVTNW1hVzVoYkd4NVRHOWpLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQm9ZVzVrYkdVb1pXNTBjbmt1Wm1sdVlXeHNlVXh2WXlrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSFJvY205M0lHNWxkeUJGY25KdmNpaGNJblJ5ZVNCemRHRjBaVzFsYm5RZ2QybDBhRzkxZENCallYUmphQ0J2Y2lCbWFXNWhiR3g1WENJcE8xeHVJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnZlZ4dUlDQWdJSDBzWEc1Y2JpQWdJQ0JoWW5KMWNIUTZJR1oxYm1OMGFXOXVJR0ZpY25Wd2RDaDBlWEJsTENCaGNtY3BJSHRjYmlBZ0lDQWdJR1p2Y2lBb2RtRnlJR2tnUFNCMGFHbHpMblJ5ZVVWdWRISnBaWE11YkdWdVozUm9JQzBnTVRzZ2FTQStQU0F3T3lBdExXa3BJSHRjYmlBZ0lDQWdJQ0FnZG1GeUlHVnVkSEo1SUQwZ2RHaHBjeTUwY25sRmJuUnlhV1Z6VzJsZE8xeHVJQ0FnSUNBZ0lDQnBaaUFvWlc1MGNua3VkSEo1VEc5aklEdzlJSFJvYVhNdWNISmxkaUFtSmlCb1lYTlBkMjR1WTJGc2JDaGxiblJ5ZVN3Z1hDSm1hVzVoYkd4NVRHOWpYQ0lwSUNZbUlIUm9hWE11Y0hKbGRpQThJR1Z1ZEhKNUxtWnBibUZzYkhsTWIyTXBJSHRjYmlBZ0lDQWdJQ0FnSUNCMllYSWdabWx1WVd4c2VVVnVkSEo1SUQwZ1pXNTBjbms3WEc0Z0lDQWdJQ0FnSUNBZ1luSmxZV3M3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2FXWWdLR1pwYm1Gc2JIbEZiblJ5ZVNBbUppQW9kSGx3WlNBOVBUMGdYQ0ppY21WaGExd2lJSHg4SUhSNWNHVWdQVDA5SUZ3aVkyOXVkR2x1ZFdWY0lpa2dKaVlnWm1sdVlXeHNlVVZ1ZEhKNUxuUnllVXh2WXlBOFBTQmhjbWNnSmlZZ1lYSm5JRHc5SUdacGJtRnNiSGxGYm5SeWVTNW1hVzVoYkd4NVRHOWpLU0I3WEc0Z0lDQWdJQ0FnSUM4dklFbG5ibTl5WlNCMGFHVWdabWx1WVd4c2VTQmxiblJ5ZVNCcFppQmpiMjUwY205c0lHbHpJRzV2ZENCcWRXMXdhVzVuSUhSdklHRmNiaUFnSUNBZ0lDQWdMeThnYkc5allYUnBiMjRnYjNWMGMybGtaU0IwYUdVZ2RISjVMMk5oZEdOb0lHSnNiMk5yTGx4dUlDQWdJQ0FnSUNCbWFXNWhiR3g1Ulc1MGNua2dQU0J1ZFd4c08xeHVJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQjJZWElnY21WamIzSmtJRDBnWm1sdVlXeHNlVVZ1ZEhKNUlEOGdabWx1WVd4c2VVVnVkSEo1TG1OdmJYQnNaWFJwYjI0Z09pQjdmVHRjYmlBZ0lDQWdJSEpsWTI5eVpDNTBlWEJsSUQwZ2RIbHdaVHRjYmlBZ0lDQWdJSEpsWTI5eVpDNWhjbWNnUFNCaGNtYzdYRzVjYmlBZ0lDQWdJR2xtSUNobWFXNWhiR3g1Ulc1MGNua3BJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NXVaWGgwSUQwZ1ptbHVZV3hzZVVWdWRISjVMbVpwYm1Gc2JIbE1iMk03WEc0Z0lDQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdJQ0IwYUdsekxtTnZiWEJzWlhSbEtISmxZMjl5WkNrN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCRGIyNTBhVzUxWlZObGJuUnBibVZzTzF4dUlDQWdJSDBzWEc1Y2JpQWdJQ0JqYjIxd2JHVjBaVG9nWm5WdVkzUnBiMjRnWTI5dGNHeGxkR1VvY21WamIzSmtMQ0JoWm5SbGNreHZZeWtnZTF4dUlDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1MGVYQmxJRDA5UFNCY0luUm9jbTkzWENJcElIdGNiaUFnSUNBZ0lDQWdkR2h5YjNjZ2NtVmpiM0prTG1GeVp6dGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdhV1lnS0hKbFkyOXlaQzUwZVhCbElEMDlQU0JjSW1KeVpXRnJYQ0lnZkh3Z2NtVmpiM0prTG5SNWNHVWdQVDA5SUZ3aVkyOXVkR2x1ZFdWY0lpa2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxtNWxlSFFnUFNCeVpXTnZjbVF1WVhKbk8xeHVJQ0FnSUNBZ2ZTQmxiSE5sSUdsbUlDaHlaV052Y21RdWRIbHdaU0E5UFQwZ1hDSnlaWFIxY201Y0lpa2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxuSjJZV3dnUFNCeVpXTnZjbVF1WVhKbk8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG01bGVIUWdQU0JjSW1WdVpGd2lPMXh1SUNBZ0lDQWdmU0JsYkhObElHbG1JQ2h5WldOdmNtUXVkSGx3WlNBOVBUMGdYQ0p1YjNKdFlXeGNJaUFtSmlCaFpuUmxja3h2WXlrZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG01bGVIUWdQU0JoWm5SbGNreHZZenRjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlMRnh1WEc0Z0lDQWdabWx1YVhOb09pQm1kVzVqZEdsdmJpQm1hVzVwYzJnb1ptbHVZV3hzZVV4dll5a2dlMXh1SUNBZ0lDQWdabTl5SUNoMllYSWdhU0E5SUhSb2FYTXVkSEo1Ulc1MGNtbGxjeTVzWlc1bmRHZ2dMU0F4T3lCcElENDlJREE3SUMwdGFTa2dlMXh1SUNBZ0lDQWdJQ0IyWVhJZ1pXNTBjbmtnUFNCMGFHbHpMblJ5ZVVWdWRISnBaWE5iYVYwN1hHNGdJQ0FnSUNBZ0lHbG1JQ2hsYm5SeWVTNW1hVzVoYkd4NVRHOWpJRDA5UFNCbWFXNWhiR3g1VEc5aktTQjdYRzRnSUNBZ0lDQWdJQ0FnZEdocGN5NWpiMjF3YkdWMFpTaGxiblJ5ZVM1amIyMXdiR1YwYVc5dUxDQmxiblJ5ZVM1aFpuUmxja3h2WXlrN1hHNGdJQ0FnSUNBZ0lDQWdjbVZ6WlhSVWNubEZiblJ5ZVNobGJuUnllU2s3WEc0Z0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUVOdmJuUnBiblZsVTJWdWRHbHVaV3c3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JpQWdJQ0I5TEZ4dVhHNGdJQ0FnWENKallYUmphRndpT2lCbWRXNWpkR2x2YmlCZlkyRjBZMmdvZEhKNVRHOWpLU0I3WEc0Z0lDQWdJQ0JtYjNJZ0tIWmhjaUJwSUQwZ2RHaHBjeTUwY25sRmJuUnlhV1Z6TG14bGJtZDBhQ0F0SURFN0lHa2dQajBnTURzZ0xTMXBLU0I3WEc0Z0lDQWdJQ0FnSUhaaGNpQmxiblJ5ZVNBOUlIUm9hWE11ZEhKNVJXNTBjbWxsYzF0cFhUdGNiaUFnSUNBZ0lDQWdhV1lnS0dWdWRISjVMblJ5ZVV4dll5QTlQVDBnZEhKNVRHOWpLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJSEpsWTI5eVpDQTlJR1Z1ZEhKNUxtTnZiWEJzWlhScGIyNDdYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1MGVYQmxJRDA5UFNCY0luUm9jbTkzWENJcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhaaGNpQjBhSEp2ZDI0Z1BTQnlaV052Y21RdVlYSm5PMXh1SUNBZ0lDQWdJQ0FnSUNBZ2NtVnpaWFJVY25sRmJuUnllU2hsYm5SeWVTazdYRzRnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCMGFISnZkMjQ3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0x5OGdWR2hsSUdOdmJuUmxlSFF1WTJGMFkyZ2diV1YwYUc5a0lHMTFjM1FnYjI1c2VTQmlaU0JqWVd4c1pXUWdkMmwwYUNCaElHeHZZMkYwYVc5dVhHNGdJQ0FnSUNBdkx5QmhjbWQxYldWdWRDQjBhR0YwSUdOdmNuSmxjM0J2Ym1SeklIUnZJR0VnYTI1dmQyNGdZMkYwWTJnZ1lteHZZMnN1WEc0Z0lDQWdJQ0IwYUhKdmR5QnVaWGNnUlhKeWIzSW9YQ0pwYkd4bFoyRnNJR05oZEdOb0lHRjBkR1Z0Y0hSY0lpazdYRzRnSUNBZ2ZTeGNibHh1SUNBZ0lHUmxiR1ZuWVhSbFdXbGxiR1E2SUdaMWJtTjBhVzl1SUdSbGJHVm5ZWFJsV1dsbGJHUW9hWFJsY21GaWJHVXNJSEpsYzNWc2RFNWhiV1VzSUc1bGVIUk1iMk1wSUh0Y2JpQWdJQ0FnSUhSb2FYTXVaR1ZzWldkaGRHVWdQU0I3WEc0Z0lDQWdJQ0FnSUdsMFpYSmhkRzl5T2lCMllXeDFaWE1vYVhSbGNtRmliR1VwTEZ4dUlDQWdJQ0FnSUNCeVpYTjFiSFJPWVcxbE9pQnlaWE4xYkhST1lXMWxMRnh1SUNBZ0lDQWdJQ0J1WlhoMFRHOWpPaUJ1WlhoMFRHOWpYRzRnSUNBZ0lDQjlPMXh1WEc0Z0lDQWdJQ0J5WlhSMWNtNGdRMjl1ZEdsdWRXVlRaVzUwYVc1bGJEdGNiaUFnSUNCOVhHNGdJSDA3WEc1OUtTaGNiaTh2SUVGdGIyNW5JSFJvWlNCMllYSnBiM1Z6SUhSeWFXTnJjeUJtYjNJZ2IySjBZV2x1YVc1bklHRWdjbVZtWlhKbGJtTmxJSFJ2SUhSb1pTQm5iRzlpWVd4Y2JpOHZJRzlpYW1WamRDd2dkR2hwY3lCelpXVnRjeUIwYnlCaVpTQjBhR1VnYlc5emRDQnlaV3hwWVdKc1pTQjBaV05vYm1seGRXVWdkR2hoZENCa2IyVnpJRzV2ZEZ4dUx5OGdkWE5sSUdsdVpHbHlaV04wSUdWMllXd2dLSGRvYVdOb0lIWnBiMnhoZEdWeklFTnZiblJsYm5RZ1UyVmpkWEpwZEhrZ1VHOXNhV041S1M1Y2JuUjVjR1Z2WmlCbmJHOWlZV3dnUFQwOUlGd2liMkpxWldOMFhDSWdQeUJuYkc5aVlXd2dPaUIwZVhCbGIyWWdkMmx1Wkc5M0lEMDlQU0JjSW05aWFtVmpkRndpSUQ4Z2QybHVaRzkzSURvZ2RIbHdaVzltSUhObGJHWWdQVDA5SUZ3aWIySnFaV04wWENJZ1B5QnpaV3htSURvZ2RXNWtaV1pwYm1Wa0tUc2lYWDA9IiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuICAgIHZhciBjdXJyZW50UXVldWU7XG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtpXSgpO1xuICAgICAgICB9XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbn1cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgcXVldWUucHVzaChmdW4pO1xuICAgIGlmICghZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxuLy8gVE9ETyhzaHR5bG1hbilcbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvJC5jb3JlJykuUHJvbWlzZTsiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy8kLmNvcmUnKS5TeW1ib2w7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYubWF0aC5zaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuTWF0aC5zaWduOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5yZXBlYXQnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5TdHJpbmcucmVwZWF0OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZnJvbScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLkFycmF5LmZyb207IiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvcicpOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm1hdGguY2x6MzInKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5NYXRoLmNsejMyOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm1hdGguZnJvdW5kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuTWF0aC5mcm91bmQ7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYubWF0aC5pbXVsJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuTWF0aC5pbXVsOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm51bWJlci5lcHNpbG9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgucG93KDIsIC01Mik7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYubnVtYmVyLm1heC1zYWZlLWludGVnZXInKTtcbm1vZHVsZS5leHBvcnRzID0gMHgxZmZmZmZmZmZmZmZmZjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5udW1iZXIubWluLXNhZmUtaW50ZWdlcicpO1xubW9kdWxlLmV4cG9ydHMgPSAtMHgxZmZmZmZmZmZmZmZmZjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuT2JqZWN0LmFzc2lnbjsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCl7XG4gIHJldHVybiAkLmNyZWF0ZShQLCBEKTtcbn07IiwidmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG4gIHJldHVybiAkLnNldERlc2MoaXQsIGtleSwgZGVzYyk7XG59OyIsInZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgcmV0dXJuICQuZ2V0RGVzYyhpdCwga2V5KTtcbn07IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3Qua2V5czsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuZnJvbS1jb2RlLXBvaW50Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuU3RyaW5nLmZyb21Db2RlUG9pbnQ7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuU3ltYm9sWydmb3InXTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5TeW1ib2w7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLndrcycpKCdpdGVyYXRvcicpOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59OyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZighaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLyQudG8tb2JqZWN0JylcbiAgLCBJT2JqZWN0ICA9IHJlcXVpcmUoJy4vJC5pb2JqZWN0JylcbiAgLCBlbnVtS2V5cyA9IHJlcXVpcmUoJy4vJC5lbnVtLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gU3ltYm9sKCkgaW4gT2JqZWN0LmFzc2lnbih7fSk7IC8vIE9iamVjdC5hc3NpZ24gYXZhaWxhYmxlIGFuZCBTeW1ib2wgaXMgbmF0aXZlXG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7ICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldClcbiAgICAsIGwgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBpID0gMTtcbiAgd2hpbGUobCA+IGkpe1xuICAgIHZhciBTICAgICAgPSBJT2JqZWN0KGFyZ3VtZW50c1tpKytdKVxuICAgICAgLCBrZXlzICAgPSBlbnVtS2V5cyhTKVxuICAgICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICAgLCBqICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShsZW5ndGggPiBqKVRba2V5ID0ga2V5c1tqKytdXSA9IFNba2V5XTtcbiAgfVxuICByZXR1cm4gVDtcbn0gOiBPYmplY3QuYXNzaWduOyIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi8kLmNvZicpXG4gICwgVEFHID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpXG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSAoTyA9IE9iamVjdChpdCkpW1RBR10pID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTsiLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59OyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbmlmKHR5cGVvZiBfX2UgPT0gJ251bWJlcicpX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vJC5hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfSByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgICB9O1xufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi8kLmNvcmUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIGN0eCA9IGZ1bmN0aW9uKGZuLCB0aGF0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xudmFyICRkZWYgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIga2V5LCBvd24sIG91dCwgZXhwXG4gICAgLCBpc0dsb2JhbCA9IHR5cGUgJiAkZGVmLkdcbiAgICAsIGlzUHJvdG8gID0gdHlwZSAmICRkZWYuUFxuICAgICwgdGFyZ2V0ICAgPSBpc0dsb2JhbCA/IGdsb2JhbCA6IHR5cGUgJiAkZGVmLlNcbiAgICAgICAgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBleHBvcnRzICA9IGlzR2xvYmFsID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIGlmKGlzR2xvYmFsKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhKHR5cGUgJiAkZGVmLkYpICYmIHRhcmdldCAmJiBrZXkgaW4gdGFyZ2V0O1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgaWYoaXNHbG9iYWwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicpZXhwID0gc291cmNlW2tleV07XG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBlbHNlIGlmKHR5cGUgJiAkZGVmLkIgJiYgb3duKWV4cCA9IGN0eChvdXQsIGdsb2JhbCk7XG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICBlbHNlIGlmKHR5cGUgJiAkZGVmLlcgJiYgdGFyZ2V0W2tleV0gPT0gb3V0KSFmdW5jdGlvbihDKXtcbiAgICAgIGV4cCA9IGZ1bmN0aW9uKHBhcmFtKXtcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBDID8gbmV3IEMocGFyYW0pIDogQyhwYXJhbSk7XG4gICAgICB9O1xuICAgICAgZXhwW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgfShvdXQpO1xuICAgIGVsc2UgZXhwID0gaXNQcm90byAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnRcbiAgICBleHBvcnRzW2tleV0gPSBleHA7XG4gICAgaWYoaXNQcm90bykoZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSkpW2tleV0gPSBvdXQ7XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGRlZi5GID0gMTsgIC8vIGZvcmNlZFxuJGRlZi5HID0gMjsgIC8vIGdsb2JhbFxuJGRlZi5TID0gNDsgIC8vIHN0YXRpY1xuJGRlZi5QID0gODsgIC8vIHByb3RvXG4kZGVmLkIgPSAxNjsgLy8gYmluZFxuJGRlZi5XID0gMzI7IC8vIHdyYXBcbm1vZHVsZS5leHBvcnRzID0gJGRlZjsiLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ID09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIgKyBpdCk7XG4gIHJldHVybiBpdDtcbn07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJykuZG9jdW1lbnRcbiAgLy8gaW4gb2xkIElFIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnXG4gICwgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07IiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciAkID0gcmVxdWlyZSgnLi8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIGtleXMgICAgICAgPSAkLmdldEtleXMoaXQpXG4gICAgLCBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzO1xuICBpZihnZXRTeW1ib2xzKXtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpXG4gICAgICAsIGlzRW51bSAgPSAkLmlzRW51bVxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoc3ltYm9scy5sZW5ndGggPiBpKWlmKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKWtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTsiLCJ2YXIgY3R4ICAgICAgICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCBjYWxsICAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi8kLmlzLWFycmF5LWl0ZXInKVxuICAsIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpXG4gICwgdG9MZW5ndGggICAgPSByZXF1aXJlKCcuLyQudG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCl7XG4gIHZhciBpdGVyRm4gPSBnZXRJdGVyRm4oaXRlcmFibGUpXG4gICAgLCBmICAgICAgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSlcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3I7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gIH0gZWxzZSBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKXtcbiAgICBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgfVxufTsiLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9TdHJpbmcgID0ge30udG9TdHJpbmdcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpXG4gICwgZ2V0TmFtZXMgID0gcmVxdWlyZSgnLi8kJykuZ2V0TmFtZXM7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ2V0TmFtZXMoaXQpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgaWYod2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScpcmV0dXJuIGdldFdpbmRvd05hbWVzKGl0KTtcbiAgcmV0dXJuIGdldE5hbWVzKHRvSU9iamVjdChpdCkpO1xufTsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIFVOREVGSU5FRCA9ICd1bmRlZmluZWQnO1xudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSBVTkRFRklORUQgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9IFVOREVGSU5FRCAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTsiLCJ2YXIgJCAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5zdXBwb3J0LWRlc2MnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiAkLnNldERlc2Mob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IiwiLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCBhcmdzLCB0aGF0KXtcbiAgdmFyIHVuID0gdGhhdCA9PT0gdW5kZWZpbmVkO1xuICBzd2l0Y2goYXJncy5sZW5ndGgpe1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgYXJncyk7XG59OyIsIi8vIGluZGV4ZWQgb2JqZWN0LCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuLyQuY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IDAgaW4gT2JqZWN0KCd6JykgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07IiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gKEl0ZXJhdG9ycy5BcnJheSB8fCBBcnJheS5wcm90b3R5cGVbSVRFUkFUT1JdKSA9PT0gaXQ7XG59OyIsIi8vIGh0dHA6Ly9qc3BlcmYuY29tL2NvcmUtanMtaXNvYmplY3Rcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgIT09IG51bGwgJiYgKHR5cGVvZiBpdCA9PSAnb2JqZWN0JyB8fCB0eXBlb2YgaXQgPT0gJ2Z1bmN0aW9uJyk7XG59OyIsIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4vJCcpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vJC5oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gJC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiByZXF1aXJlKCcuLyQucHJvcGVydHktZGVzYycpKDEsbmV4dCl9KTtcbiAgcmVxdWlyZSgnLi8kLnRhZycpKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgID0gcmVxdWlyZSgnLi8kLmxpYnJhcnknKVxuICAsICRkZWYgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsICRyZWRlZiAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5yZWRlZicpXG4gICwgaGlkZSAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsIGhhcyAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5oYXMnKVxuICAsIFNZTUJPTF9JVEVSQVRPUiA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKVxuICAsIEJVR0dZICAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gICwgRkZfSVRFUkFUT1IgICAgID0gJ0BAaXRlcmF0b3InXG4gICwgS0VZUyAgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgID0gJ3ZhbHVlcyc7XG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRSl7XG4gIHJlcXVpcmUoJy4vJC5pdGVyLWNyZWF0ZScpKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uKGtpbmQpe1xuICAgIHN3aXRjaChraW5kKXtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcbiAgICAsIHByb3RvICAgID0gQmFzZS5wcm90b3R5cGVcbiAgICAsIF9uYXRpdmUgID0gcHJvdG9bU1lNQk9MX0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuICAgICwgX2RlZmF1bHQgPSBfbmF0aXZlIHx8IGNyZWF0ZU1ldGhvZChERUZBVUxUKVxuICAgICwgbWV0aG9kcywga2V5O1xuICAvLyBGaXggbmF0aXZlXG4gIGlmKF9uYXRpdmUpe1xuICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHJlcXVpcmUoJy4vJCcpLmdldFByb3RvKF9kZWZhdWx0LmNhbGwobmV3IEJhc2UpKTtcbiAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgcmVxdWlyZSgnLi8kLnRhZycpKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgIC8vIEZGIGZpeFxuICAgIGlmKCFMSUJSQVJZICYmIGhhcyhwcm90bywgRkZfSVRFUkFUT1IpKWhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIFNZTUJPTF9JVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCFMSUJSQVJZIHx8IEZPUkNFKWhpZGUocHJvdG8sIFNZTUJPTF9JVEVSQVRPUiwgX2RlZmF1bHQpO1xuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IF9kZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSAgPSByZXR1cm5UaGlzO1xuICBpZihERUZBVUxUKXtcbiAgICBtZXRob2RzID0ge1xuICAgICAga2V5czogICAgSVNfU0VUICAgICAgICAgICAgPyBfZGVmYXVsdCA6IGNyZWF0ZU1ldGhvZChLRVlTKSxcbiAgICAgIHZhbHVlczogIERFRkFVTFQgPT0gVkFMVUVTID8gX2RlZmF1bHQgOiBjcmVhdGVNZXRob2QoVkFMVUVTKSxcbiAgICAgIGVudHJpZXM6IERFRkFVTFQgIT0gVkFMVUVTID8gX2RlZmF1bHQgOiBjcmVhdGVNZXRob2QoJ2VudHJpZXMnKVxuICAgIH07XG4gICAgaWYoRk9SQ0UpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSkkcmVkZWYocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGRlZigkZGVmLlAgKyAkZGVmLkYgKiBCVUdHWSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbn07IiwidmFyIFNZTUJPTF9JVEVSQVRPUiA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyAgICA9IGZhbHNlO1xudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW1NZTUJPTF9JVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG59IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICBpZighU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW1NZTUJPTF9JVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyBzYWZlID0gdHJ1ZTsgfTtcbiAgICBhcnJbU1lNQk9MX0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG4gIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHt9OyIsInZhciAkT2JqZWN0ID0gT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZTogICAgICRPYmplY3QuY3JlYXRlLFxuICBnZXRQcm90bzogICAkT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICBpc0VudW06ICAgICB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgZ2V0RGVzYzogICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIHNldERlc2M6ICAgICRPYmplY3QuZGVmaW5lUHJvcGVydHksXG4gIHNldERlc2NzOiAgICRPYmplY3QuZGVmaW5lUHJvcGVydGllcyxcbiAgZ2V0S2V5czogICAgJE9iamVjdC5rZXlzLFxuICBnZXROYW1lczogICAkT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gIGdldFN5bWJvbHM6ICRPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICBlYWNoOiAgICAgICBbXS5mb3JFYWNoXG59OyIsInZhciAkICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGtleXMgICA9ICQuZ2V0S2V5cyhPKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlOyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcclxuICAsIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4vJC50YXNrJykuc2V0XHJcbiAgLCBPYnNlcnZlciAgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlclxyXG4gICwgcHJvY2VzcyAgID0gZ2xvYmFsLnByb2Nlc3NcclxuICAsIGlzTm9kZSAgICA9IHJlcXVpcmUoJy4vJC5jb2YnKShwcm9jZXNzKSA9PSAncHJvY2VzcydcclxuICAsIGhlYWQsIGxhc3QsIG5vdGlmeTtcclxuXHJcbnZhciBmbHVzaCA9IGZ1bmN0aW9uKCl7XHJcbiAgdmFyIHBhcmVudCwgZG9tYWluO1xyXG4gIGlmKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKXtcclxuICAgIHByb2Nlc3MuZG9tYWluID0gbnVsbDtcclxuICAgIHBhcmVudC5leGl0KCk7XHJcbiAgfVxyXG4gIHdoaWxlKGhlYWQpe1xyXG4gICAgZG9tYWluID0gaGVhZC5kb21haW47XHJcbiAgICBpZihkb21haW4pZG9tYWluLmVudGVyKCk7XHJcbiAgICBoZWFkLmZuLmNhbGwoKTsgLy8gPC0gY3VycmVudGx5IHdlIHVzZSBpdCBvbmx5IGZvciBQcm9taXNlIC0gdHJ5IC8gY2F0Y2ggbm90IHJlcXVpcmVkXHJcbiAgICBpZihkb21haW4pZG9tYWluLmV4aXQoKTtcclxuICAgIGhlYWQgPSBoZWFkLm5leHQ7XHJcbiAgfSBsYXN0ID0gdW5kZWZpbmVkO1xyXG4gIGlmKHBhcmVudClwYXJlbnQuZW50ZXIoKTtcclxufVxyXG5cclxuLy8gTm9kZS5qc1xyXG5pZihpc05vZGUpe1xyXG4gIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcclxuICB9O1xyXG4vLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXJcclxufSBlbHNlIGlmKE9ic2VydmVyKXtcclxuICB2YXIgdG9nZ2xlID0gMVxyXG4gICAgLCBub2RlICAgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XHJcbiAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XHJcbiAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcclxuICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9IC10b2dnbGU7XHJcbiAgfTtcclxuLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcclxuLy8gLSBzZXRJbW1lZGlhdGVcclxuLy8gLSBNZXNzYWdlQ2hhbm5lbFxyXG4vLyAtIHdpbmRvdy5wb3N0TWVzc2FnXHJcbi8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXHJcbi8vIC0gc2V0VGltZW91dFxyXG59IGVsc2Uge1xyXG4gIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXHJcbiAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcclxuICB9O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFzYXAoZm4pe1xyXG4gIHZhciB0YXNrID0ge2ZuOiBmbiwgbmV4dDogdW5kZWZpbmVkLCBkb21haW46IGlzTm9kZSAmJiBwcm9jZXNzLmRvbWFpbn07XHJcbiAgaWYobGFzdClsYXN0Lm5leHQgPSB0YXNrO1xyXG4gIGlmKCFoZWFkKXtcclxuICAgIGhlYWQgPSB0YXNrO1xyXG4gICAgbm90aWZ5KCk7XHJcbiAgfSBsYXN0ID0gdGFzaztcclxufTsiLCJ2YXIgJHJlZGVmID0gcmVxdWlyZSgnLi8kLnJlZGVmJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhcmdldCwgc3JjKXtcbiAgZm9yKHZhciBrZXkgaW4gc3JjKSRyZWRlZih0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICByZXR1cm4gdGFyZ2V0O1xufTsiLCIvLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgICAsIGZuICAgPSAocmVxdWlyZSgnLi8kLmNvcmUnKS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV1cbiAgICAsIGV4cCAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGRlZigkZGVmLlMgKyAkZGVmLkYgKiByZXF1aXJlKCcuLyQuZmFpbHMnKShmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuaGlkZScpOyIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIGlzKHgsIHkpe1xuICByZXR1cm4geCA9PT0geSA/IHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5IDogeCAhPSB4ICYmIHkgIT0geTtcbn07IiwiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGdldERlc2MgID0gcmVxdWlyZSgnLi8kJykuZ2V0RGVzY1xuICAsIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG4gIGFuT2JqZWN0KE8pO1xuICBpZighaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKXRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICA/IGZ1bmN0aW9uKGJ1Z2d5LCBzZXQpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHNldCA9IHJlcXVpcmUoJy4vJC5jdHgnKShGdW5jdGlvbi5jYWxsLCBnZXREZXNjKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICAgIHNldCh7fSwgW10pO1xuICAgICAgICB9IGNhdGNoKGUpeyBidWdneSA9IHRydWU7IH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKXtcbiAgICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgICAgaWYoYnVnZ3kpTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgICAgcmV0dXJuIE87XG4gICAgICAgIH07XG4gICAgICB9KClcbiAgICA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTsiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTsiLCIvLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGguc2lnbiB8fCBmdW5jdGlvbiBzaWduKHgpe1xuICByZXR1cm4gKHggPSAreCkgPT0gMCB8fCB4ICE9IHggPyB4IDogeCA8IDAgPyAtMSA6IDE7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciAkICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBTUEVDSUVTID0gcmVxdWlyZSgnLi8kLndrcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEMpe1xuICBpZihyZXF1aXJlKCcuLyQuc3VwcG9ydC1kZXNjJykgJiYgIShTUEVDSUVTIGluIEMpKSQuc2V0RGVzYyhDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lKXtcbiAgaWYoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBUeXBlRXJyb3IobmFtZSArIFwiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yIVwiKTtcbiAgcmV0dXJuIGl0O1xufTsiLCIvLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vJC50by1pbnRlZ2VyJylcbiAgLCBkZWZpbmVkICAgPSByZXF1aXJlKCcuLyQuZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUT19TVFJJTkcpe1xuICByZXR1cm4gZnVuY3Rpb24odGhhdCwgcG9zKXtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuICAgICAgLCBpID0gdG9JbnRlZ2VyKHBvcylcbiAgICAgICwgbCA9IHMubGVuZ3RoXG4gICAgICAsIGEsIGI7XG4gICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGxcbiAgICAgIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07IiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi8kLmZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pOyIsInZhciBoYXMgID0gcmVxdWlyZSgnLi8kLmhhcycpXG4gICwgaGlkZSA9IHJlcXVpcmUoJy4vJC5oaWRlJylcbiAgLCBUQUcgID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWhpZGUoaXQsIFRBRywgdGFnKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsIGludm9rZSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5pbnZva2UnKVxuICAsIGh0bWwgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5odG1sJylcbiAgLCBjZWwgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuZG9tLWNyZWF0ZScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBzZXRUYXNrICAgICAgICAgICAgPSBnbG9iYWwuc2V0SW1tZWRpYXRlXG4gICwgY2xlYXJUYXNrICAgICAgICAgID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlXG4gICwgTWVzc2FnZUNoYW5uZWwgICAgID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsXG4gICwgY291bnRlciAgICAgICAgICAgID0gMFxuICAsIHF1ZXVlICAgICAgICAgICAgICA9IHt9XG4gICwgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSdcbiAgLCBkZWZlciwgY2hhbm5lbCwgcG9ydDtcbnZhciBydW4gPSBmdW5jdGlvbigpe1xuICB2YXIgaWQgPSArdGhpcztcbiAgaWYocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKXtcbiAgICB2YXIgZm4gPSBxdWV1ZVtpZF07XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICBmbigpO1xuICB9XG59O1xudmFyIGxpc3RuZXIgPSBmdW5jdGlvbihldmVudCl7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcbiAgICB2YXIgYXJncyA9IFtdLCBpID0gMTtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYocmVxdWlyZSgnLi8kLmNvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICB9IGVsc2UgaWYoTWVzc2FnZUNoYW5uZWwpe1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWw7XG4gICAgcG9ydCAgICA9IGNoYW5uZWwucG9ydDI7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0bmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0KXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0bmVyLCBmYWxzZSk7XG4gIC8vIElFOC1cbiAgfSBlbHNlIGlmKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2VsKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIHJ1bi5jYWxsKGlkKTtcbiAgICAgIH07XG4gICAgfTtcbiAgLy8gUmVzdCBvbGQgYnJvd3NlcnNcbiAgfSBlbHNlIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHNldFRpbWVvdXQoY3R4KHJ1biwgaWQsIDEpLCAwKTtcbiAgICB9O1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiAgIHNldFRhc2ssXG4gIGNsZWFyOiBjbGVhclRhc2tcbn07IiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vJC50by1pbnRlZ2VyJylcbiAgLCBtYXggICAgICAgPSBNYXRoLm1heFxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07IiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59OyIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xyXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vJC5pb2JqZWN0JylcclxuICAsIGRlZmluZWQgPSByZXF1aXJlKCcuLyQuZGVmaW5lZCcpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcclxuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XHJcbn07IiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi8kLnRvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59OyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07IiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9OyIsInZhciBzdG9yZSAgPSByZXF1aXJlKCcuLyQuc2hhcmVkJykoJ3drcycpXG4gICwgU3ltYm9sID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLlN5bWJvbDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFN5bWJvbCAmJiBTeW1ib2xbbmFtZV0gfHwgKFN5bWJvbCB8fCByZXF1aXJlKCcuLyQudWlkJykpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07IiwidmFyIGNsYXNzb2YgICA9IHJlcXVpcmUoJy4vJC5jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdIHx8IGl0WydAQGl0ZXJhdG9yJ10gfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07IiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpXG4gICwgZ2V0ICAgICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuY29yZScpLmdldEl0ZXJhdG9yID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgaXRlckZuID0gZ2V0KGl0KTtcbiAgaWYodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICByZXR1cm4gYW5PYmplY3QoaXRlckZuLmNhbGwoaXQpKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCAgICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgJGRlZiAgICAgICAgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vJC50by1vYmplY3QnKVxuICAsIGNhbGwgICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuLyQuaXMtYXJyYXktaXRlcicpXG4gICwgdG9MZW5ndGggICAgPSByZXF1aXJlKCcuLyQudG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG4kZGVmKCRkZWYuUyArICRkZWYuRiAqICFyZXF1aXJlKCcuLyQuaXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXsgQXJyYXkuZnJvbShpdGVyKTsgfSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjEgQXJyYXkuZnJvbShhcnJheUxpa2UsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxuICBmcm9tOiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCovKXtcbiAgICB2YXIgTyAgICAgICA9IHRvT2JqZWN0KGFycmF5TGlrZSlcbiAgICAgICwgQyAgICAgICA9IHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXlcbiAgICAgICwgbWFwZm4gICA9IGFyZ3VtZW50c1sxXVxuICAgICAgLCBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZFxuICAgICAgLCBpbmRleCAgID0gMFxuICAgICAgLCBpdGVyRm4gID0gZ2V0SXRlckZuKE8pXG4gICAgICAsIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZihtYXBwaW5nKW1hcGZuID0gY3R4KG1hcGZuLCBhcmd1bWVudHNbMl0sIDIpO1xuICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuICAgIGlmKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKXtcbiAgICAgIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCByZXN1bHQgPSBuZXcgQzsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyBpbmRleCsrKXtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBjYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IocmVzdWx0ID0gbmV3IEMobGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciBzZXRVbnNjb3BlID0gcmVxdWlyZSgnLi8kLnVuc2NvcGUnKVxuICAsIHN0ZXAgICAgICAgPSByZXF1aXJlKCcuLyQuaXRlci1zdGVwJylcbiAgLCBJdGVyYXRvcnMgID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vJC5pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbnNldFVuc2NvcGUoJ2tleXMnKTtcbnNldFVuc2NvcGUoJ3ZhbHVlcycpO1xuc2V0VW5zY29wZSgnZW50cmllcycpOyIsIi8vIDIwLjIuMi4xMSBNYXRoLmNsejMyKHgpXG52YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcblxuJGRlZigkZGVmLlMsICdNYXRoJywge1xuICBjbHozMjogZnVuY3Rpb24gY2x6MzIoeCl7XG4gICAgcmV0dXJuICh4ID4+Pj0gMCkgPyAzMSAtIE1hdGguZmxvb3IoTWF0aC5sb2coeCArIDAuNSkgKiBNYXRoLkxPRzJFKSA6IDMyO1xuICB9XG59KTsiLCIvLyAyMC4yLjIuMTYgTWF0aC5mcm91bmQoeClcbnZhciAkZGVmICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsIHNpZ24gID0gcmVxdWlyZSgnLi8kLnNpZ24nKVxuICAsIHBvdyAgID0gTWF0aC5wb3dcbiAgLCBFUFNJTE9OICAgPSBwb3coMiwgLTUyKVxuICAsIEVQU0lMT04zMiA9IHBvdygyLCAtMjMpXG4gICwgTUFYMzIgICAgID0gcG93KDIsIDEyNykgKiAoMiAtIEVQU0lMT04zMilcbiAgLCBNSU4zMiAgICAgPSBwb3coMiwgLTEyNik7XG5cbnZhciByb3VuZFRpZXNUb0V2ZW4gPSBmdW5jdGlvbihuKXtcbiAgcmV0dXJuIG4gKyAxIC8gRVBTSUxPTiAtIDEgLyBFUFNJTE9OO1xufTtcblxuXG4kZGVmKCRkZWYuUywgJ01hdGgnLCB7XG4gIGZyb3VuZDogZnVuY3Rpb24gZnJvdW5kKHgpe1xuICAgIHZhciAkYWJzICA9IE1hdGguYWJzKHgpXG4gICAgICAsICRzaWduID0gc2lnbih4KVxuICAgICAgLCBhLCByZXN1bHQ7XG4gICAgaWYoJGFicyA8IE1JTjMyKXJldHVybiAkc2lnbiAqIHJvdW5kVGllc1RvRXZlbigkYWJzIC8gTUlOMzIgLyBFUFNJTE9OMzIpICogTUlOMzIgKiBFUFNJTE9OMzI7XG4gICAgYSA9ICgxICsgRVBTSUxPTjMyIC8gRVBTSUxPTikgKiAkYWJzO1xuICAgIHJlc3VsdCA9IGEgLSAoYSAtICRhYnMpO1xuICAgIGlmKHJlc3VsdCA+IE1BWDMyIHx8IHJlc3VsdCAhPSByZXN1bHQpcmV0dXJuICRzaWduICogSW5maW5pdHk7XG4gICAgcmV0dXJuICRzaWduICogcmVzdWx0O1xuICB9XG59KTsiLCIvLyAyMC4yLjIuMTggTWF0aC5pbXVsKHgsIHkpXG52YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcblxuLy8gV2ViS2l0IGZhaWxzIHdpdGggYmlnIG51bWJlcnNcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogcmVxdWlyZSgnLi8kLmZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE1hdGguaW11bCgweGZmZmZmZmZmLCA1KSAhPSAtNTtcbn0pLCAnTWF0aCcsIHtcbiAgaW11bDogZnVuY3Rpb24gaW11bCh4LCB5KXtcbiAgICB2YXIgVUlOVDE2ID0gMHhmZmZmXG4gICAgICAsIHhuID0gK3hcbiAgICAgICwgeW4gPSAreVxuICAgICAgLCB4bCA9IFVJTlQxNiAmIHhuXG4gICAgICAsIHlsID0gVUlOVDE2ICYgeW47XG4gICAgcmV0dXJuIDAgfCB4bCAqIHlsICsgKChVSU5UMTYgJiB4biA+Pj4gMTYpICogeWwgKyB4bCAqIChVSU5UMTYgJiB5biA+Pj4gMTYpIDw8IDE2ID4+PiAwKTtcbiAgfVxufSk7IiwiLy8gMjAuMi4yLjI4IE1hdGguc2lnbih4KVxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5TLCAnTWF0aCcsIHtzaWduOiByZXF1aXJlKCcuLyQuc2lnbicpfSk7IiwiLy8gMjAuMS4yLjEgTnVtYmVyLkVQU0lMT05cbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuXG4kZGVmKCRkZWYuUywgJ051bWJlcicsIHtFUFNJTE9OOiBNYXRoLnBvdygyLCAtNTIpfSk7IiwiLy8gMjAuMS4yLjYgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuXG4kZGVmKCRkZWYuUywgJ051bWJlcicsIHtNQVhfU0FGRV9JTlRFR0VSOiAweDFmZmZmZmZmZmZmZmZmfSk7IiwiLy8gMjAuMS4yLjEwIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSXG52YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcblxuJGRlZigkZGVmLlMsICdOdW1iZXInLCB7TUlOX1NBRkVfSU5URUdFUjogLTB4MWZmZmZmZmZmZmZmZmZ9KTsiLCIvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5TICsgJGRlZi5GLCAnT2JqZWN0Jywge2Fzc2lnbjogcmVxdWlyZSgnLi8kLmFzc2lnbicpfSk7IiwiLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vJC5vYmplY3Qtc2FwJykoJ2dldE93blByb3BlcnR5RGVzY3JpcHRvcicsIGZ1bmN0aW9uKCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTylcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vJC50by1vYmplY3QnKTtcblxucmVxdWlyZSgnLi8kLm9iamVjdC1zYXAnKSgna2V5cycsIGZ1bmN0aW9uKCRrZXlzKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGtleXMoaXQpe1xuICAgIHJldHVybiAka2V5cyh0b09iamVjdChpdCkpO1xuICB9O1xufSk7IiwiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuJGRlZigkZGVmLlMsICdPYmplY3QnLCB7c2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vJC5zZXQtcHJvdG8nKS5zZXR9KTsiLG51bGwsIid1c2Ugc3RyaWN0JztcbnZhciAkICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBMSUJSQVJZICAgID0gcmVxdWlyZSgnLi8kLmxpYnJhcnknKVxuICAsIGdsb2JhbCAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjdHggICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgY2xhc3NvZiAgICA9IHJlcXVpcmUoJy4vJC5jbGFzc29mJylcbiAgLCAkZGVmICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgaXNPYmplY3QgICA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ICAgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gID0gcmVxdWlyZSgnLi8kLmEtZnVuY3Rpb24nKVxuICAsIHN0cmljdE5ldyAgPSByZXF1aXJlKCcuLyQuc3RyaWN0LW5ldycpXG4gICwgZm9yT2YgICAgICA9IHJlcXVpcmUoJy4vJC5mb3Itb2YnKVxuICAsIHNldFByb3RvICAgPSByZXF1aXJlKCcuLyQuc2V0LXByb3RvJykuc2V0XG4gICwgc2FtZSAgICAgICA9IHJlcXVpcmUoJy4vJC5zYW1lJylcbiAgLCBzcGVjaWVzICAgID0gcmVxdWlyZSgnLi8kLnNwZWNpZXMnKVxuICAsIFNQRUNJRVMgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ3NwZWNpZXMnKVxuICAsIFJFQ09SRCAgICAgPSByZXF1aXJlKCcuLyQudWlkJykoJ3JlY29yZCcpXG4gICwgYXNhcCAgICAgICA9IHJlcXVpcmUoJy4vJC5taWNyb3Rhc2snKVxuICAsIFBST01JU0UgICAgPSAnUHJvbWlzZSdcbiAgLCBwcm9jZXNzICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBpc05vZGUgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcydcbiAgLCBQICAgICAgICAgID0gZ2xvYmFsW1BST01JU0VdXG4gICwgV3JhcHBlcjtcblxudmFyIHRlc3RSZXNvbHZlID0gZnVuY3Rpb24oc3ViKXtcbiAgdmFyIHRlc3QgPSBuZXcgUChmdW5jdGlvbigpe30pO1xuICBpZihzdWIpdGVzdC5jb25zdHJ1Y3RvciA9IE9iamVjdDtcbiAgcmV0dXJuIFAucmVzb2x2ZSh0ZXN0KSA9PT0gdGVzdDtcbn07XG5cbnZhciB1c2VOYXRpdmUgPSBmdW5jdGlvbigpe1xuICB2YXIgd29ya3MgPSBmYWxzZTtcbiAgZnVuY3Rpb24gUDIoeCl7XG4gICAgdmFyIHNlbGYgPSBuZXcgUCh4KTtcbiAgICBzZXRQcm90byhzZWxmLCBQMi5wcm90b3R5cGUpO1xuICAgIHJldHVybiBzZWxmO1xuICB9XG4gIHRyeSB7XG4gICAgd29ya3MgPSBQICYmIFAucmVzb2x2ZSAmJiB0ZXN0UmVzb2x2ZSgpO1xuICAgIHNldFByb3RvKFAyLCBQKTtcbiAgICBQMi5wcm90b3R5cGUgPSAkLmNyZWF0ZShQLnByb3RvdHlwZSwge2NvbnN0cnVjdG9yOiB7dmFsdWU6IFAyfX0pO1xuICAgIC8vIGFjdHVhbCBGaXJlZm94IGhhcyBicm9rZW4gc3ViY2xhc3Mgc3VwcG9ydCwgdGVzdCB0aGF0XG4gICAgaWYoIShQMi5yZXNvbHZlKDUpLnRoZW4oZnVuY3Rpb24oKXt9KSBpbnN0YW5jZW9mIFAyKSl7XG4gICAgICB3b3JrcyA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBhY3R1YWwgVjggYnVnLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDE2MlxuICAgIGlmKHdvcmtzICYmIHJlcXVpcmUoJy4vJC5zdXBwb3J0LWRlc2MnKSl7XG4gICAgICB2YXIgdGhlbmFibGVUaGVuR290dGVuID0gZmFsc2U7XG4gICAgICBQLnJlc29sdmUoJC5zZXREZXNjKHt9LCAndGhlbicsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpeyB0aGVuYWJsZVRoZW5Hb3R0ZW4gPSB0cnVlOyB9XG4gICAgICB9KSk7XG4gICAgICB3b3JrcyA9IHRoZW5hYmxlVGhlbkdvdHRlbjtcbiAgICB9XG4gIH0gY2F0Y2goZSl7IHdvcmtzID0gZmFsc2U7IH1cbiAgcmV0dXJuIHdvcmtzO1xufSgpO1xuXG4vLyBoZWxwZXJzXG52YXIgaXNQcm9taXNlID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmICh1c2VOYXRpdmUgPyBjbGFzc29mKGl0KSA9PSAnUHJvbWlzZScgOiBSRUNPUkQgaW4gaXQpO1xufTtcbnZhciBzYW1lQ29uc3RydWN0b3IgPSBmdW5jdGlvbihhLCBiKXtcbiAgLy8gbGlicmFyeSB3cmFwcGVyIHNwZWNpYWwgY2FzZVxuICBpZihMSUJSQVJZICYmIGEgPT09IFAgJiYgYiA9PT0gV3JhcHBlcilyZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHNhbWUoYSwgYik7XG59O1xudmFyIGdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oQyl7XG4gIHZhciBTID0gYW5PYmplY3QoQylbU1BFQ0lFU107XG4gIHJldHVybiBTICE9IHVuZGVmaW5lZCA/IFMgOiBDO1xufTtcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlO1xufTtcbnZhciBub3RpZnkgPSBmdW5jdGlvbihyZWNvcmQsIGlzUmVqZWN0KXtcbiAgaWYocmVjb3JkLm4pcmV0dXJuO1xuICByZWNvcmQubiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHJlY29yZC5jO1xuICBhc2FwKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZhbHVlID0gcmVjb3JkLnZcbiAgICAgICwgb2sgICAgPSByZWNvcmQucyA9PSAxXG4gICAgICAsIGkgICAgID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24ocmVhY3Qpe1xuICAgICAgdmFyIGNiID0gb2sgPyByZWFjdC5vayA6IHJlYWN0LmZhaWxcbiAgICAgICAgLCByZXQsIHRoZW47XG4gICAgICB0cnkge1xuICAgICAgICBpZihjYil7XG4gICAgICAgICAgaWYoIW9rKXJlY29yZC5oID0gdHJ1ZTtcbiAgICAgICAgICByZXQgPSBjYiA9PT0gdHJ1ZSA/IHZhbHVlIDogY2IodmFsdWUpO1xuICAgICAgICAgIGlmKHJldCA9PT0gcmVhY3QuUCl7XG4gICAgICAgICAgICByZWFjdC5yZWooVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZih0aGVuID0gaXNUaGVuYWJsZShyZXQpKXtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXQsIHJlYWN0LnJlcywgcmVhY3QucmVqKTtcbiAgICAgICAgICB9IGVsc2UgcmVhY3QucmVzKHJldCk7XG4gICAgICAgIH0gZWxzZSByZWFjdC5yZWoodmFsdWUpO1xuICAgICAgfSBjYXRjaChlcnIpe1xuICAgICAgICByZWFjdC5yZWooZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpcnVuKGNoYWluW2krK10pOyAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaFxuICAgIGNoYWluLmxlbmd0aCA9IDA7XG4gICAgcmVjb3JkLm4gPSBmYWxzZTtcbiAgICBpZihpc1JlamVjdClzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICBpZihpc1VuaGFuZGxlZChyZWNvcmQucCkpe1xuICAgICAgICBpZihpc05vZGUpe1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHJlY29yZC5wKTtcbiAgICAgICAgfSBlbHNlIGlmKGdsb2JhbC5jb25zb2xlICYmIGNvbnNvbGUuZXJyb3Ipe1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSByZWNvcmQuYSA9IHVuZGVmaW5lZDtcbiAgICB9LCAxKTtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIHZhciByZWNvcmQgPSBwcm9taXNlW1JFQ09SRF1cbiAgICAsIGNoYWluICA9IHJlY29yZC5hIHx8IHJlY29yZC5jXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCByZWFjdDtcbiAgaWYocmVjb3JkLmgpcmV0dXJuIGZhbHNlO1xuICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXtcbiAgICByZWFjdCA9IGNoYWluW2krK107XG4gICAgaWYocmVhY3QuZmFpbCB8fCAhaXNVbmhhbmRsZWQocmVhY3QuUCkpcmV0dXJuIGZhbHNlO1xuICB9IHJldHVybiB0cnVlO1xufTtcbnZhciAkcmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcmVjb3JkID0gdGhpcztcbiAgaWYocmVjb3JkLmQpcmV0dXJuO1xuICByZWNvcmQuZCA9IHRydWU7XG4gIHJlY29yZCA9IHJlY29yZC5yIHx8IHJlY29yZDsgLy8gdW53cmFwXG4gIHJlY29yZC52ID0gdmFsdWU7XG4gIHJlY29yZC5zID0gMjtcbiAgcmVjb3JkLmEgPSByZWNvcmQuYy5zbGljZSgpO1xuICBub3RpZnkocmVjb3JkLCB0cnVlKTtcbn07XG52YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciByZWNvcmQgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihyZWNvcmQuZClyZXR1cm47XG4gIHJlY29yZC5kID0gdHJ1ZTtcbiAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZih0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpe1xuICAgICAgYXNhcChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgd3JhcHBlciA9IHtyOiByZWNvcmQsIGQ6IGZhbHNlfTsgLy8gd3JhcFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWNvcmQudiA9IHZhbHVlO1xuICAgICAgcmVjb3JkLnMgPSAxO1xuICAgICAgbm90aWZ5KHJlY29yZCwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaChlKXtcbiAgICAkcmVqZWN0LmNhbGwoe3I6IHJlY29yZCwgZDogZmFsc2V9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYoIXVzZU5hdGl2ZSl7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gIFAgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcbiAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuICAgIHZhciByZWNvcmQgPSB7XG4gICAgICBwOiBzdHJpY3ROZXcodGhpcywgUCwgUFJPTUlTRSksICAgICAgICAgLy8gPC0gcHJvbWlzZVxuICAgICAgYzogW10sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9uc1xuICAgICAgYTogdW5kZWZpbmVkLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgICBzOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICAgIGQ6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBkb25lXG4gICAgICB2OiB1bmRlZmluZWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gdmFsdWVcbiAgICAgIGg6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBoYW5kbGVkIHJlamVjdGlvblxuICAgICAgbjogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIG5vdGlmeVxuICAgIH07XG4gICAgdGhpc1tSRUNPUkRdID0gcmVjb3JkO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHJlY29yZCwgMSksIGN0eCgkcmVqZWN0LCByZWNvcmQsIDEpKTtcbiAgICB9IGNhdGNoKGVycil7XG4gICAgICAkcmVqZWN0LmNhbGwocmVjb3JkLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgcmVxdWlyZSgnLi8kLm1peCcpKFAucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcbiAgICAgIHZhciBTID0gYW5PYmplY3QoYW5PYmplY3QodGhpcykuY29uc3RydWN0b3IpW1NQRUNJRVNdO1xuICAgICAgdmFyIHJlYWN0ID0ge1xuICAgICAgICBvazogICB0eXBlb2Ygb25GdWxmaWxsZWQgPT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogdHJ1ZSxcbiAgICAgICAgZmFpbDogdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAgPyBvblJlamVjdGVkICA6IGZhbHNlXG4gICAgICB9O1xuICAgICAgdmFyIHByb21pc2UgPSByZWFjdC5QID0gbmV3IChTICE9IHVuZGVmaW5lZCA/IFMgOiBQKShmdW5jdGlvbihyZXMsIHJlail7XG4gICAgICAgIHJlYWN0LnJlcyA9IGFGdW5jdGlvbihyZXMpO1xuICAgICAgICByZWFjdC5yZWogPSBhRnVuY3Rpb24ocmVqKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJlY29yZCA9IHRoaXNbUkVDT1JEXTtcbiAgICAgIHJlY29yZC5jLnB1c2gocmVhY3QpO1xuICAgICAgaWYocmVjb3JkLmEpcmVjb3JkLmEucHVzaChyZWFjdCk7XG4gICAgICBpZihyZWNvcmQucylub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCl7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gZXhwb3J0XG4kZGVmKCRkZWYuRyArICRkZWYuVyArICRkZWYuRiAqICF1c2VOYXRpdmUsIHtQcm9taXNlOiBQfSk7XG5yZXF1aXJlKCcuLyQudGFnJykoUCwgUFJPTUlTRSk7XG5zcGVjaWVzKFApO1xuc3BlY2llcyhXcmFwcGVyID0gcmVxdWlyZSgnLi8kLmNvcmUnKVtQUk9NSVNFXSk7XG5cbi8vIHN0YXRpY3NcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXVzZU5hdGl2ZSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKXtcbiAgICByZXR1cm4gbmV3IHRoaXMoZnVuY3Rpb24ocmVzLCByZWopeyByZWoocik7IH0pO1xuICB9XG59KTtcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogKCF1c2VOYXRpdmUgfHwgdGVzdFJlc29sdmUodHJ1ZSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpe1xuICAgIHJldHVybiBpc1Byb21pc2UoeCkgJiYgc2FtZUNvbnN0cnVjdG9yKHguY29uc3RydWN0b3IsIHRoaXMpXG4gICAgICA/IHggOiBuZXcgdGhpcyhmdW5jdGlvbihyZXMpeyByZXMoeCk7IH0pO1xuICB9XG59KTtcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogISh1c2VOYXRpdmUgJiYgcmVxdWlyZSgnLi8kLml0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7XG4gIFAuYWxsKGl0ZXIpWydjYXRjaCddKGZ1bmN0aW9uKCl7fSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgID0gZ2V0Q29uc3RydWN0b3IodGhpcylcbiAgICAgICwgdmFsdWVzID0gW107XG4gICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uKHJlcywgcmVqKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgdmFsdWVzLnB1c2gsIHZhbHVlcyk7XG4gICAgICB2YXIgcmVtYWluaW5nID0gdmFsdWVzLmxlbmd0aFxuICAgICAgICAsIHJlc3VsdHMgICA9IEFycmF5KHJlbWFpbmluZyk7XG4gICAgICBpZihyZW1haW5pbmcpJC5lYWNoLmNhbGwodmFsdWVzLCBmdW5jdGlvbihwcm9taXNlLCBpbmRleCl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlcyhyZXN1bHRzKTtcbiAgICAgICAgfSwgcmVqKTtcbiAgICAgIH0pO1xuICAgICAgZWxzZSByZXMocmVzdWx0cyk7XG4gICAgfSk7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgPSBnZXRDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24ocmVzLCByZWope1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4ocmVzLCByZWopO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0pOyIsInZhciAkZGVmICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgdG9JbmRleCA9IHJlcXVpcmUoJy4vJC50by1pbmRleCcpXG4gICwgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZVxuICAsICRmcm9tQ29kZVBvaW50ID0gU3RyaW5nLmZyb21Db2RlUG9pbnQ7XG5cbi8vIGxlbmd0aCBzaG91bGQgYmUgMSwgb2xkIEZGIHByb2JsZW1cbiRkZWYoJGRlZi5TICsgJGRlZi5GICogKCEhJGZyb21Db2RlUG9pbnQgJiYgJGZyb21Db2RlUG9pbnQubGVuZ3RoICE9IDEpLCAnU3RyaW5nJywge1xuICAvLyAyMS4xLjIuMiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5jb2RlUG9pbnRzKVxuICBmcm9tQ29kZVBvaW50OiBmdW5jdGlvbiBmcm9tQ29kZVBvaW50KHgpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgdmFyIHJlcyA9IFtdXG4gICAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICwgaSAgID0gMFxuICAgICAgLCBjb2RlO1xuICAgIHdoaWxlKGxlbiA+IGkpe1xuICAgICAgY29kZSA9ICthcmd1bWVudHNbaSsrXTtcbiAgICAgIGlmKHRvSW5kZXgoY29kZSwgMHgxMGZmZmYpICE9PSBjb2RlKXRocm93IFJhbmdlRXJyb3IoY29kZSArICcgaXMgbm90IGEgdmFsaWQgY29kZSBwb2ludCcpO1xuICAgICAgcmVzLnB1c2goY29kZSA8IDB4MTAwMDBcbiAgICAgICAgPyBmcm9tQ2hhckNvZGUoY29kZSlcbiAgICAgICAgOiBmcm9tQ2hhckNvZGUoKChjb2RlIC09IDB4MTAwMDApID4+IDEwKSArIDB4ZDgwMCwgY29kZSAlIDB4NDAwICsgMHhkYzAwKVxuICAgICAgKTtcbiAgICB9IHJldHVybiByZXMuam9pbignJyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi8kLnN0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuLyQuaXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgJCAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGFzJylcbiAgLCBTVVBQT1JUX0RFU0MgICA9IHJlcXVpcmUoJy4vJC5zdXBwb3J0LWRlc2MnKVxuICAsICRkZWYgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgJHJlZGVmICAgICAgICAgPSByZXF1aXJlKCcuLyQucmVkZWYnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi8kLnNoYXJlZCcpXG4gICwgc2V0VGFnICAgICAgICAgPSByZXF1aXJlKCcuLyQudGFnJylcbiAgLCB1aWQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC51aWQnKVxuICAsIHdrcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLndrcycpXG4gICwga2V5T2YgICAgICAgICAgPSByZXF1aXJlKCcuLyQua2V5b2YnKVxuICAsICRuYW1lcyAgICAgICAgID0gcmVxdWlyZSgnLi8kLmdldC1uYW1lcycpXG4gICwgZW51bUtleXMgICAgICAgPSByZXF1aXJlKCcuLyQuZW51bS1rZXlzJylcbiAgLCBpc09iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuLyQucHJvcGVydHktZGVzYycpXG4gICwgZ2V0RGVzYyAgICAgICAgPSAkLmdldERlc2NcbiAgLCBzZXREZXNjICAgICAgICA9ICQuc2V0RGVzY1xuICAsIF9jcmVhdGUgICAgICAgID0gJC5jcmVhdGVcbiAgLCBnZXROYW1lcyAgICAgICA9ICRuYW1lcy5nZXRcbiAgLCAkU3ltYm9sICAgICAgICA9IGdsb2JhbC5TeW1ib2xcbiAgLCBzZXR0ZXIgICAgICAgICA9IGZhbHNlXG4gICwgSElEREVOICAgICAgICAgPSB3a3MoJ19oaWRkZW4nKVxuICAsIGlzRW51bSAgICAgICAgID0gJC5pc0VudW1cbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgdXNlTmF0aXZlICAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgT2JqZWN0UHJvdG8gICAgPSBPYmplY3QucHJvdG90eXBlO1xuXG52YXIgc2V0U3ltYm9sRGVzYyA9IFNVUFBPUlRfREVTQyA/IGZ1bmN0aW9uKCl7IC8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZFxuICB0cnkge1xuICAgIHJldHVybiBfY3JlYXRlKHNldERlc2Moe30sIEhJRERFTiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gc2V0RGVzYyh0aGlzLCBISURERU4sIHt2YWx1ZTogZmFsc2V9KVtISURERU5dO1xuICAgICAgfVxuICAgIH0pKVtISURERU5dIHx8IHNldERlc2M7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICAgICAgdmFyIHByb3RvRGVzYyA9IGdldERlc2MoT2JqZWN0UHJvdG8sIGtleSk7XG4gICAgICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gICAgICBzZXREZXNjKGl0LCBrZXksIEQpO1xuICAgICAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylzZXREZXNjKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG4gICAgfTtcbiAgfVxufSgpIDogc2V0RGVzYztcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sLnByb3RvdHlwZSk7XG4gIHN5bS5fayA9IHRhZztcbiAgU1VQUE9SVF9ERVNDICYmIHNldHRlciAmJiBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlzZXREZXNjKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7ZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSl9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBzZXREZXNjKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcbiAgICAsIGkgICAgPSAwXG4gICAgLCBsID0ga2V5cy5sZW5ndGhcbiAgICAsIGtleTtcbiAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkpO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldXG4gICAgPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgdmFyIEQgPSBnZXREZXNjKGl0ID0gdG9JT2JqZWN0KGl0KSwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOKXJlc3VsdC5wdXNoKGtleSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmKCF1c2VOYXRpdmUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcbiAgICByZXR1cm4gd3JhcCh1aWQoYXJndW1lbnRzWzBdKSk7XG4gIH07XG4gICRyZWRlZigkU3ltYm9sLnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJC5jcmVhdGUgICAgID0gJGNyZWF0ZTtcbiAgJC5pc0VudW0gICAgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICAkLmdldERlc2MgICAgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkLnNldERlc2MgICAgPSAkZGVmaW5lUHJvcGVydHk7XG4gICQuc2V0RGVzY3MgICA9ICRkZWZpbmVQcm9wZXJ0aWVzO1xuICAkLmdldE5hbWVzICAgPSAkbmFtZXMuZ2V0ID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gICQuZ2V0U3ltYm9scyA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYoU1VQUE9SVF9ERVNDICYmICFyZXF1aXJlKCcuLyQubGlicmFyeScpKXtcbiAgICAkcmVkZWYoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cbn1cblxuLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbi8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIGluIG9iamVjdHMgdG8gSlNPTiBhcyBudWxsXG5pZighdXNlTmF0aXZlIHx8IHJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShbe2E6ICRTeW1ib2woKX0sIFskU3ltYm9sKCldXSkgIT0gJ1t7fSxbbnVsbF1dJztcbn0pKSRyZWRlZigkU3ltYm9sLnByb3RvdHlwZSwgJ3RvSlNPTicsIGZ1bmN0aW9uIHRvSlNPTigpe1xuICBpZih1c2VOYXRpdmUgJiYgaXNPYmplY3QodGhpcykpcmV0dXJuIHRoaXM7XG59KTtcblxudmFyIHN5bWJvbFN0YXRpY3MgPSB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn07XG4vLyAxOS40LjIuMiBTeW1ib2wuaGFzSW5zdGFuY2Vcbi8vIDE5LjQuMi4zIFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGVcbi8vIDE5LjQuMi40IFN5bWJvbC5pdGVyYXRvclxuLy8gMTkuNC4yLjYgU3ltYm9sLm1hdGNoXG4vLyAxOS40LjIuOCBTeW1ib2wucmVwbGFjZVxuLy8gMTkuNC4yLjkgU3ltYm9sLnNlYXJjaFxuLy8gMTkuNC4yLjEwIFN5bWJvbC5zcGVjaWVzXG4vLyAxOS40LjIuMTEgU3ltYm9sLnNwbGl0XG4vLyAxOS40LjIuMTIgU3ltYm9sLnRvUHJpbWl0aXZlXG4vLyAxOS40LjIuMTMgU3ltYm9sLnRvU3RyaW5nVGFnXG4vLyAxOS40LjIuMTQgU3ltYm9sLnVuc2NvcGFibGVzXG4kLmVhY2guY2FsbCgoXG4gICAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCwnICtcbiAgICAnc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbiAgKS5zcGxpdCgnLCcpLCBmdW5jdGlvbihpdCl7XG4gICAgdmFyIHN5bSA9IHdrcyhpdCk7XG4gICAgc3ltYm9sU3RhdGljc1tpdF0gPSB1c2VOYXRpdmUgPyBzeW0gOiB3cmFwKHN5bSk7XG4gIH1cbik7XG5cbnNldHRlciA9IHRydWU7XG5cbiRkZWYoJGRlZi5HICsgJGRlZi5XLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbiRkZWYoJGRlZi5TLCAnU3ltYm9sJywgc3ltYm9sU3RhdGljcyk7XG5cbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXVzZU5hdGl2ZSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJyk7XG5JdGVyYXRvcnMuTm9kZUxpc3QgPSBJdGVyYXRvcnMuSFRNTENvbGxlY3Rpb24gPSBJdGVyYXRvcnMuQXJyYXk7IiwidmFyIGdsb2JhbCAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgID0gcmVxdWlyZSgnLi8kLmNvcmUnKVxuICAsIGhpZGUgICAgICAgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgJHJlZGVmICAgICA9IHJlcXVpcmUoJy4vJC5yZWRlZicpXG4gICwgUFJPVE9UWVBFICA9ICdwcm90b3R5cGUnO1xudmFyIGN0eCA9IGZ1bmN0aW9uKGZuLCB0aGF0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xudmFyICRkZWYgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIga2V5LCBvd24sIG91dCwgZXhwXG4gICAgLCBpc0dsb2JhbCA9IHR5cGUgJiAkZGVmLkdcbiAgICAsIGlzUHJvdG8gID0gdHlwZSAmICRkZWYuUFxuICAgICwgdGFyZ2V0ICAgPSBpc0dsb2JhbCA/IGdsb2JhbCA6IHR5cGUgJiAkZGVmLlNcbiAgICAgICAgPyBnbG9iYWxbbmFtZV0gfHwgKGdsb2JhbFtuYW1lXSA9IHt9KSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGV4cG9ydHMgID0gaXNHbG9iYWwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgaWYoaXNHbG9iYWwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICEodHlwZSAmICRkZWYuRikgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSAob3duID8gdGFyZ2V0IDogc291cmNlKVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgaWYodHlwZSAmICRkZWYuQiAmJiBvd24pZXhwID0gY3R4KG91dCwgZ2xvYmFsKTtcbiAgICBlbHNlIGV4cCA9IGlzUHJvdG8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIGlmKHRhcmdldCAmJiAhb3duKSRyZWRlZih0YXJnZXQsIGtleSwgb3V0KTtcbiAgICAvLyBleHBvcnRcbiAgICBpZihleHBvcnRzW2tleV0gIT0gb3V0KWhpZGUoZXhwb3J0cywga2V5LCBleHApO1xuICAgIGlmKGlzUHJvdG8pKGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pKVtrZXldID0gb3V0O1xuICB9XG59O1xuZ2xvYmFsLmNvcmUgPSBjb3JlO1xuLy8gdHlwZSBiaXRtYXBcbiRkZWYuRiA9IDE7ICAvLyBmb3JjZWRcbiRkZWYuRyA9IDI7ICAvLyBnbG9iYWxcbiRkZWYuUyA9IDQ7ICAvLyBzdGF0aWNcbiRkZWYuUCA9IDg7ICAvLyBwcm90b1xuJGRlZi5CID0gMTY7IC8vIGJpbmRcbiRkZWYuVyA9IDMyOyAvLyB3cmFwXG5tb2R1bGUuZXhwb3J0cyA9ICRkZWY7IiwibW9kdWxlLmV4cG9ydHMgPSBmYWxzZTsiLCIvLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZ1xuLy8gZm9yIGNvcnJlY3Qgd29yayB3cmFwcGVkIG1ldGhvZHMgLyBjb25zdHJ1Y3RvcnMgd2l0aCBtZXRob2RzIGxpa2UgTG9EYXNoIGlzTmF0aXZlXG52YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsIFNSQyAgICAgICA9IHJlcXVpcmUoJy4vJC51aWQnKSgnc3JjJylcbiAgLCBUT19TVFJJTkcgPSAndG9TdHJpbmcnXG4gICwgJHRvU3RyaW5nID0gRnVuY3Rpb25bVE9fU1RSSU5HXVxuICAsIFRQTCAgICAgICA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi8kLmNvcmUnKS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpO1xufTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTywga2V5LCB2YWwsIHNhZmUpe1xuICBpZih0eXBlb2YgdmFsID09ICdmdW5jdGlvbicpe1xuICAgIGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgICBpZighKCduYW1lJyBpbiB2YWwpKXZhbC5uYW1lID0ga2V5O1xuICB9XG4gIGlmKE8gPT09IGdsb2JhbCl7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGlmKCFzYWZlKWRlbGV0ZSBPW2tleV07XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH1cbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzW1NSQ10gfHwgJHRvU3RyaW5nLmNhbGwodGhpcyk7XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi8kLnRvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVwZWF0KGNvdW50KXtcbiAgdmFyIHN0ciA9IFN0cmluZyhkZWZpbmVkKHRoaXMpKVxuICAgICwgcmVzID0gJydcbiAgICAsIG4gICA9IHRvSW50ZWdlcihjb3VudCk7XG4gIGlmKG4gPCAwIHx8IG4gPT0gSW5maW5pdHkpdGhyb3cgUmFuZ2VFcnJvcihcIkNvdW50IGNhbid0IGJlIG5lZ2F0aXZlXCIpO1xuICBmb3IoO24gPiAwOyAobiA+Pj49IDEpICYmIChzdHIgKz0gc3RyKSlpZihuICYgMSlyZXMgKz0gc3RyO1xuICByZXR1cm4gcmVzO1xufTsiLCIvLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG52YXIgVU5TQ09QQUJMRVMgPSByZXF1aXJlKCcuLyQud2tzJykoJ3Vuc2NvcGFibGVzJyk7XG5pZighKFVOU0NPUEFCTEVTIGluIFtdKSlyZXF1aXJlKCcuLyQuaGlkZScpKEFycmF5LnByb3RvdHlwZSwgVU5TQ09QQUJMRVMsIHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgW11bVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTsiLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKVxuICAsIHRlc3QgICAgPSB7fTtcbnRlc3RbcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpXSA9ICd6JztcbmlmKHRlc3QgKyAnJyAhPSAnW29iamVjdCB6XScpe1xuICByZXF1aXJlKCcuLyQucmVkZWYnKShPYmplY3QucHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiAnW29iamVjdCAnICsgY2xhc3NvZih0aGlzKSArICddJztcbiAgfSwgdHJ1ZSk7XG59IiwidmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5QLCAnU3RyaW5nJywge1xuICAvLyAyMS4xLjMuMTMgU3RyaW5nLnByb3RvdHlwZS5yZXBlYXQoY291bnQpXG4gIHJlcGVhdDogcmVxdWlyZSgnLi8kLnN0cmluZy1yZXBlYXQnKVxufSk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgICAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsIEl0ZXJhdG9ycyAgID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBOTCAgICAgICAgICA9IGdsb2JhbC5Ob2RlTGlzdFxuICAsIEhUQyAgICAgICAgID0gZ2xvYmFsLkhUTUxDb2xsZWN0aW9uXG4gICwgTkxQcm90byAgICAgPSBOTCAmJiBOTC5wcm90b3R5cGVcbiAgLCBIVENQcm90byAgICA9IEhUQyAmJiBIVEMucHJvdG90eXBlXG4gICwgQXJyYXlWYWx1ZXMgPSBJdGVyYXRvcnMuTm9kZUxpc3QgPSBJdGVyYXRvcnMuSFRNTENvbGxlY3Rpb24gPSBJdGVyYXRvcnMuQXJyYXk7XG5pZihOTCAmJiAhKElURVJBVE9SIGluIE5MUHJvdG8pKWhpZGUoTkxQcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbmlmKEhUQyAmJiAhKElURVJBVE9SIGluIEhUQ1Byb3RvKSloaWRlKEhUQ1Byb3RvLCBJVEVSQVRPUiwgQXJyYXlWYWx1ZXMpOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWZlcmVuY2UgPSByZXF1aXJlKFwiLi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdHlwZXNQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIERlY2xhcmF0aXZlRW52aXJvbm1lbnQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBEZWNsYXJhdGl2ZUVudmlyb25tZW50KHBhcmVudCwgdGhpc0FyZywgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY2xhcmF0aXZlRW52aXJvbm1lbnQpO1xuXG5cdFx0dGhpcy5wcm9wZXJ0aWVzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQgJiYgcGFyZW50LnNjb3BlO1xuXHRcdHRoaXMuc3RyaWN0ID0gcGFyZW50LnN0cmljdDtcblx0XHR0aGlzLnRoaXNCaW5kaW5nID0gdGhpc0FyZztcblx0XHR0aGlzLmVudiA9IGVudjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhEZWNsYXJhdGl2ZUVudmlyb25tZW50LCBbe1xuXHRcdGtleTogXCJzZXRQYXJlbnRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0UGFyZW50KHBhcmVudCkge1xuXHRcdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQuc2NvcGUgfHwgcGFyZW50O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRSZWZlcmVuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKGtleSkge1xuXHRcdFx0dmFyIHJlZiA9IG5ldyBfcmVmZXJlbmNlLlJlZmVyZW5jZShrZXksIHRoaXMsIHRoaXMuZW52KTtcblx0XHRcdHJlZi51bnF1YWxpZmllZCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVmO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0cmV0dXJuIGtleSBpbiB0aGlzLnByb3BlcnRpZXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcIm93bnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gb3ducyhrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLmhhcyhrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWxldGVWYXJpYWJsZShrZXkpIHtcblx0XHRcdGlmICghdGhpcy5oYXMoa2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnByb3BlcnRpZXNba2V5XS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWxldGUgdGhpcy5wcm9wZXJ0aWVzW2tleV07XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVmFyaWFibGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVmFyaWFibGUoa2V5KSB7XG5cdFx0XHRpZiAodGhpcy5oYXMoa2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW2tleV07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLnByb3BlcnRpZXNba2V5XSA9IG5ldyBfdHlwZXNQcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHtcblx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZCxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShrZXksIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmhhcyhrZXkpKSB7XG5cdFx0XHRcdGlmICghdGhpcy5wcm9wZXJ0aWVzW2tleV0ud3JpdGFibGUpIHtcblx0XHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHRvIGltbXV0YWJsZSBiaW5kaW5nOiBcIiArIGtleSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5wcm9wZXJ0aWVzW2tleV0uc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBfcGFyZW50O1xuXG5cdFx0XHRcdHJldHVybiAoX3BhcmVudCA9IHRoaXMucGFyZW50KS5zZXRWYWx1ZS5hcHBseShfcGFyZW50LCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShrZXksIHRocm93T25FcnJvcikge1xuXHRcdFx0aWYgKHRoaXMuaGFzKGtleSkpIHtcblx0XHRcdFx0aWYgKCF0aGlzLnByb3BlcnRpZXNba2V5XS52YWx1ZSkge1xuXHRcdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihrZXkgKyBcIiBpcyBub3QgZGVmaW5lZFwiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRoaXMucHJvcGVydGllc1trZXldLmdldFZhbHVlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFRoaXNCaW5kaW5nXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFRoaXNCaW5kaW5nKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudGhpc0JpbmRpbmc7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIERlY2xhcmF0aXZlRW52aXJvbm1lbnQ7XG59KSgpO1xuXG5leHBvcnRzLkRlY2xhcmF0aXZlRW52aXJvbm1lbnQgPSBEZWNsYXJhdGl2ZUVudmlyb25tZW50OyIsIi8vIHRvZG86IHN3aXRjaCB0byBlc3RyZWUtd2Fsa2VyXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudmlzaXQgPSB2aXNpdDtcblxuZnVuY3Rpb24gdmlzaXQobm9kZSwgY2FsbGJhY2spIHtcblx0aWYgKCFub2RlKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcblx0XHRub2RlLmZvckVhY2goZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB2aXNpdChuLCBjYWxsYmFjayk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0c3dpdGNoIChub2RlLnR5cGUpIHtcblx0XHRjYXNlIFwiUHJvZ3JhbVwiOlxuXHRcdGNhc2UgXCJCbG9ja1N0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5ib2R5LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJDYXRjaENsYXVzZVwiOlxuXHRcdFx0dmlzaXQobm9kZS5ib2R5LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJEb1doaWxlU3RhdGVtZW50XCI6XG5cdFx0Y2FzZSBcIldoaWxlU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLnRlc3QsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRXhwcmVzc2lvblN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5leHByZXNzaW9uLCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJGb3JTdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuaW5pdCwgY2FsbGJhY2spO1xuXHRcdFx0dmlzaXQobm9kZS5ib2R5LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJGb3JJblN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5sZWZ0LCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIklmU3RhdGVtZW50XCI6XG5cdFx0XHQvLyBkbyBub3Qgc2NhbiBgdGVzdGBcblx0XHRcdHZpc2l0KG5vZGUuY29uc2VxdWVudCwgY2FsbGJhY2spO1xuXHRcdFx0dmlzaXQobm9kZS5hbHRlcm5hdGUsIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkxhYmVsZWRTdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiU3dpdGNoU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmRpc2NyaW1pbmFudCwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiU3dpdGNoQ2FzZVwiOlxuXHRcdFx0dmlzaXQobm9kZS5jb25zZXF1ZW50LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJUcnlTdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuYmxvY2ssIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuaGFuZGxlciwgY2FsbGJhY2spO1xuXHRcdFx0dmlzaXQobm9kZS5maW5hbGl6ZXIsIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIlZhcmlhYmxlRGVjbGFyYXRpb25cIjpcblx0XHRcdHZpc2l0KG5vZGUuZGVjbGFyYXRpb25zLCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCI6XG5cdFx0Y2FzZSBcIlZhcmlhYmxlRGVjbGFyYXRvclwiOlxuXHRcdFx0Y2FsbGJhY2sobm9kZSk7XG5cdFx0XHRicmVhaztcblxuXHRcdGRlZmF1bHQ6XG5cdFx0Ly8gaWdub3JlIGFsbCBvdGhlciBub2Rlc1xuXHR9XG59XG5cbjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGFzc2lnbiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2Fzc2lnblwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZXhlY3V0aW9uQ29udGV4dCA9IHJlcXVpcmUoXCIuLi9leGVjdXRpb24tY29udGV4dFwiKTtcblxudmFyIF9kZWNsYXJhdGl2ZUVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vZGVjbGFyYXRpdmUtZW52aXJvbm1lbnRcIik7XG5cbnZhciBfb2JqZWN0RW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9vYmplY3QtZW52aXJvbm1lbnRcIik7XG5cbnZhciBfcmVmZXJlbmNlID0gcmVxdWlyZShcIi4vcmVmZXJlbmNlXCIpO1xuXG52YXIgX2VzNSA9IHJlcXVpcmUoXCIuLi9lczVcIik7XG5cbnZhciBfZXM1MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzNSk7XG5cbnZhciBfZXM2ID0gcmVxdWlyZShcIi4uL2VzNlwiKTtcblxudmFyIF9lczYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXM2KTtcblxudmFyIF91dGlsc09wZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi91dGlscy9vcGVyYXRvcnNcIik7XG5cbnZhciBfdXRpbHNPcGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXRpbHNPcGVyYXRvcnMpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfc2NvcGUgPSByZXF1aXJlKFwiLi9zY29wZVwiKTtcblxudmFyIGRlZmF1bHRPcHRpb25zID0ge1xuXHRhbGxvd0RlYnVnZ2VyOiBmYWxzZSxcblx0dXNlU3RyaWN0OiBmYWxzZSxcblx0ZWNtYVZlcnNpb246IDVcbn07XG5cbnZhciBFbnZpcm9ubWVudCA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEVudmlyb25tZW50KCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbnZpcm9ubWVudCk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoRW52aXJvbm1lbnQsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE9wdGlvbnMgOiBhcmd1bWVudHNbMF07XG5cblx0XHRcdC8vIGNsZWFyIHN0YXRlIGluIGNhc2Ugb2YgcmUtaW5pdFxuXHRcdFx0dGhpcy5jdXJyZW50ID0gbnVsbDtcblx0XHRcdHRoaXMuZ2xvYmFsU2NvcGUgPSBudWxsO1xuXG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBfT2JqZWN0JGFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXHRcdFx0KG9wdGlvbnMuZWNtYVZlcnNpb24gPT09IDYgPyBfZXM2MltcImRlZmF1bHRcIl0gOiBfZXM1MltcImRlZmF1bHRcIl0pKHRoaXMpO1xuXG5cdFx0XHQvLyB0b2RvOiBpbXByb3ZlIHRoaXNcblx0XHRcdHRoaXMub3BzID0gX09iamVjdCRhc3NpZ24oX3V0aWxzT3BlcmF0b3JzMltcImRlZmF1bHRcIl0sIG9wdGlvbnMub3BlcmF0b3JzKTtcblx0XHRcdHRoaXMub3BzLmVudiA9IHRoaXM7XG5cblx0XHRcdHRoaXMub2JqZWN0RmFjdG9yeS5pbml0KCk7XG5cblx0XHRcdGlmIChvcHRpb25zLmV4Y2x1ZGUgJiYgb3B0aW9ucy5leGNsdWRlLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0b3B0aW9ucy5leGNsdWRlLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0XHR2YXIgc2VnbWVudHMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcblx0XHRcdFx0XHR2YXIgcGFyZW50ID0gX3RoaXMuZ2xvYmFsO1xuXG5cdFx0XHRcdFx0d2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdHBhcmVudCA9IHBhcmVudC5nZXRWYWx1ZShzZWdtZW50cy5zaGlmdCgpKTtcblxuXHRcdFx0XHRcdFx0Ly8gYXBpIG5vdCBkZWZpbmVkIC0gYXNzdW1lIHVzZXIgZXJyb3I/XG5cdFx0XHRcdFx0XHRpZiAoIXBhcmVudCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cGFyZW50LnJlbW92ZShzZWdtZW50cy5zaGlmdCgpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogR2V0cyBhIHJlZmVyZW5jZSBmcm9tIHRoZSBlbnZpcm9ubWVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eVxyXG4gICAqIEByZXR1cm5zIHtSZWZlcmVuY2V9IFRoZSByZWZlcmVuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0UmVmZXJlbmNlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFJlZmVyZW5jZShrZXkpIHtcblx0XHRcdHZhciBzY29wZSA9IHRoaXMuY3VycmVudCAmJiB0aGlzLmN1cnJlbnQuc2NvcGU7XG5cdFx0XHR3aGlsZSAoc2NvcGUpIHtcblx0XHRcdFx0aWYgKHNjb3BlLm93bnMoa2V5KSkge1xuXHRcdFx0XHRcdHJldHVybiBzY29wZS5nZXRSZWZlcmVuY2Uoa2V5LCB0cnVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNjb3BlID0gc2NvcGUucGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbmV3IF9yZWZlcmVuY2UuUmVmZXJlbmNlKGtleSwgdW5kZWZpbmVkLCB0aGlzKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoa2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRSZWZlcmVuY2Uoa2V5KS5nZXRWYWx1ZSgpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShrZXksIHZhbHVlLCBzdHJpY3QpIHtcblx0XHRcdHRoaXMuY3VycmVudC5zY29wZS5zZXRWYWx1ZShrZXksIHZhbHVlLCBzdHJpY3QpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3VycmVudC5zY29wZS5oYXMoa2V5KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlVmFyaWFibGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVsZXRlVmFyaWFibGUoa2V5KSB7XG5cdFx0XHR0aGlzLmN1cnJlbnQuc2NvcGUuZGVsZXRlVmFyaWFibGUoa2V5KTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBEZWNsYXJlcyBhIHZhcmlhYmxlIHdpdGhpbiB0aGUgY3VycmVudCBzY29wZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gdGhlIGtleSBvZiB0aGUgdmFyaWFibGUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaW1tdXRhYmxlXSAtIHdoZXRoZXIgdGhlIHZhcmlhYmxlIGlzIGltbXV0YWJsZSBvciBub3QuXHJcbiAgICogQHJldHVybnMge1Byb3BlcnR5RGVzY3JpcHRvcn0gVGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgZm9yIHRoZSBuZXcgdmFyaWFiYmxlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVZhcmlhYmxlKGtleSwgaW1tdXRhYmxlKSB7XG5cdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIoa2V5LCB0aGlzLmlzU3RyaWN0KCkpO1xuXHRcdFx0cmV0dXJuIHRoaXMuY3VycmVudC5zY29wZS5jcmVhdGVWYXJpYWJsZShrZXksICFpbW11dGFibGUpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgaXMgaW4gc3RyaWN0IG1vZGUuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgaW4gc3RyaWN0IG1vZGU7IGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJpc1N0cmljdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc1N0cmljdCgpIHtcblx0XHRcdGlmICh0aGlzLm9wdGlvbnMudXNlU3RyaWN0KSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc2NvcGUgPSB0aGlzLmN1cnJlbnQgJiYgdGhpcy5jdXJyZW50LnNjb3BlO1xuXHRcdFx0d2hpbGUgKHNjb3BlKSB7XG5cdFx0XHRcdGlmIChzY29wZS5zdHJpY3QpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNjb3BlID0gc2NvcGUucGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogR2V0cyB0aGUgY3VycmVudCBgdGhpc2Agb2JqZWN0IGZvciB0aGUgZW52aXJvbm1lbnQuXHJcbiAgICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSBgdGhpc2Agb2JqZWN0IGZvciB0aGUgY3VycmVudCBzY29wZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJnZXRUaGlzQmluZGluZ1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRUaGlzQmluZGluZygpIHtcblx0XHRcdHZhciB0aGlzQXJnID0gdGhpcy5jdXJyZW50LnNjb3BlLmdldFRoaXNCaW5kaW5nKCk7XG5cdFx0XHRpZiAodGhpc0FyZykge1xuXHRcdFx0XHRyZXR1cm4gdGhpc0FyZztcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuaXNTdHJpY3QoKSkge1xuXHRcdFx0XHRyZXR1cm4gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLmdsb2JhbDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlRXhlY3V0aW9uQ29udGV4dFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVFeGVjdXRpb25Db250ZXh0KG5vZGUsIGNhbGxlZSwgaXNOZXcpIHtcblx0XHRcdHJldHVybiBuZXcgX2V4ZWN1dGlvbkNvbnRleHQuRXhlY3V0aW9uQ29udGV4dCh0aGlzLCBub2RlLCBjYWxsZWUsIGlzTmV3KTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IGRlY2xhcmF0aXZlIHNjb3BlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gW3RoaXNBcmddIC0gVGhlIGB0aGlzYCBiaW5kaW5nIGZvciB0aGUgbmV3IHNjb3BlLlxyXG4gICAqIEByZXR1cm5zIHtTY29wZX0gVGhlIG5ldyBzY29wZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVTY29wZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTY29wZSh0aGlzQXJnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXRTY29wZShuZXcgX2RlY2xhcmF0aXZlRW52aXJvbm1lbnQuRGVjbGFyYXRpdmVFbnZpcm9ubWVudCh0aGlzLmN1cnJlbnQsIHRoaXNBcmcsIHRoaXMpKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IHNjb3BlIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBvYmplY3QuIFRoaXMgaXMgdXNlZCBmb3IgdGhlIGB3aXRoYFxyXG4gICAqIHN0YXRlbWVudCwgYXMgd2VsbCBhcyB0aGUgZ2xvYmFsIHNjb3BlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gb2JqIC0gVGhlIG9iamVjdCB0byBiaW5kIHRoZSBzY29wZSB0by5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGV9IFt0aGlzQXJnXSAtIFRoZSBgdGhpc2AgYmluZGluZyBmb3IgdGhlIG5ldyBzY29wZS5cclxuICAgKiBAcmV0dXJucyB7U2NvcGV9IFRoZSBuZXcgc2NvcGUuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlT2JqZWN0U2NvcGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlT2JqZWN0U2NvcGUob2JqLCB0aGlzQXJnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXRTY29wZShuZXcgX29iamVjdEVudmlyb25tZW50Lk9iamVjdEVudmlyb25tZW50KHRoaXMuY3VycmVudCwgb2JqLCB0aGlzQXJnLCB0aGlzKSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUV4ZWN1dGlvblNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUV4ZWN1dGlvblNjb3BlKGZuLCB0aGlzQXJnKSB7XG5cdFx0XHR2YXIgcHJpb3JTY29wZSA9IHRoaXMuY3VycmVudC5zY29wZTtcblxuXHRcdFx0Ly8gaWYgYSBwYXJlbnQgc2NvcGUgaXMgZGVmaW5lZCB3ZSBuZWVkIHRvIGxpbWl0IHRoaXMgc2NvcGUgdG8gdGhhdCBzY29wZVxuXHRcdFx0aWYgKGZuLmJvdW5kU2NvcGUpIHtcblx0XHRcdFx0dGhpcy5zZXRTY29wZShmbi5ib3VuZFNjb3BlLnNjb3BlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpc0FyZyA9IGZuLmJvdW5kVGhpcyB8fCB0aGlzQXJnO1xuXHRcdFx0aWYgKGZuLmFycm93KSB7XG5cdFx0XHRcdHRoaXNBcmcgPSB0aGlzLmdldFRoaXNCaW5kaW5nKCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzY29wZSA9IHRoaXMuY3JlYXRlU2NvcGUodGhpc0FyZywgcHJpb3JTY29wZSk7XG5cdFx0XHRzY29wZS5wcmlvclNjb3BlID0gcHJpb3JTY29wZTtcblx0XHRcdHJldHVybiBzY29wZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHNjb3BlLlxyXG4gICAqIEBwYXJhbSB7RW52aXJvbm1lbnR9IHNjb3BlIC0gU2V0cyB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cclxuICAgKiBAcmV0dXJucyB7U2NvcGV9IFRoZSBjcmVhdGVkIHNjb3BlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFNjb3BlKHNjb3BlKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jdXJyZW50ID0gbmV3IF9zY29wZS5TY29wZSh0aGlzLCBzY29wZSk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5FbnZpcm9ubWVudCA9IEVudmlyb25tZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wZXJ0eVJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LXJlZmVyZW5jZVwiKTtcblxudmFyIE9iamVjdEVudmlyb25tZW50ID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gT2JqZWN0RW52aXJvbm1lbnQocGFyZW50LCBvYmosIHRoaXNBcmcsIGVudikge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYmplY3RFbnZpcm9ubWVudCk7XG5cblx0XHR0aGlzLnBhcmVudCA9IHBhcmVudCAmJiBwYXJlbnQuc2NvcGU7XG5cdFx0dGhpcy5zdHJpY3QgPSBwYXJlbnQgJiYgcGFyZW50LnN0cmljdDtcblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblx0XHR0aGlzLnRoaXNCaW5kaW5nID0gdGhpc0FyZyB8fCBvYmo7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoT2JqZWN0RW52aXJvbm1lbnQsIFt7XG5cdFx0a2V5OiBcImdldFJlZmVyZW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRSZWZlcmVuY2Uoa2V5LCB1bnF1YWxpZmllZCkge1xuXHRcdFx0dmFyIHJlZiA9IG5ldyBfcHJvcGVydHlSZWZlcmVuY2UuUHJvcGVydHlSZWZlcmVuY2Uoa2V5LCB0aGlzLm9iamVjdCwgdGhpcy5lbnYpO1xuXHRcdFx0cmVmLnVucXVhbGlmaWVkID0gdW5xdWFsaWZpZWQ7XG5cdFx0XHRyZXR1cm4gcmVmO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuaGFzKGtleSkgOiB0aGlzLm93bnMoa2V5KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwib3duc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvd25zKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0LmhhcyhrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYXJpYWJsZShrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWxldGVWYXJpYWJsZShrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5kZWxldGVQcm9wZXJ0eShrZXksIGZhbHNlKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVmFyaWFibGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVmFyaWFibGUoa2V5LCBpbW11dGFibGUpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCkge1xuXHRcdFx0XHR2YXIgX3BhcmVudDtcblxuXHRcdFx0XHRyZXR1cm4gKF9wYXJlbnQgPSB0aGlzLnBhcmVudCkuY3JlYXRlVmFyaWFibGUuYXBwbHkoX3BhcmVudCwgYXJndW1lbnRzKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5vYmplY3QuZGVmaW5lT3duUHJvcGVydHkoa2V5LCB7XG5cdFx0XHRcdHZhbHVlOiB1bmRlZmluZWQsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogaW1tdXRhYmxlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSwgdGhpcy5lbnYuaXNTdHJpY3QoKSk7XG5cblx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShrZXksIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCAmJiAhdGhpcy5vYmplY3QuaGFzKGtleSkpIHtcblx0XHRcdFx0dmFyIF9wYXJlbnQyO1xuXG5cdFx0XHRcdChfcGFyZW50MiA9IHRoaXMucGFyZW50KS5zZXRWYWx1ZS5hcHBseShfcGFyZW50MiwgYXJndW1lbnRzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMub2JqZWN0LnNldFZhbHVlKGtleSwgdmFsdWUsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAoIXRoaXMub3ducyhrZXkpKSB7XG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3Ioa2V5ICsgXCIgaXMgbm90IGRlZmluZWQuXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0LmdldFZhbHVlKGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFRoaXNCaW5kaW5nXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFRoaXNCaW5kaW5nKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudGhpc0JpbmRpbmc7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIE9iamVjdEVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5PYmplY3RFbnZpcm9ubWVudCA9IE9iamVjdEVudmlyb25tZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWZlcmVuY2UgPSByZXF1aXJlKFwiLi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG4vKipcclxuICogQW4gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgYSByZWZlcmVuY2UgdG8gYW4gb2JqZWN0J3MgcHJvcGVydHkuXHJcbiAqL1xuXG52YXIgUHJvcGVydHlSZWZlcmVuY2UgPSAoZnVuY3Rpb24gKF9SZWZlcmVuY2UpIHtcblx0X2luaGVyaXRzKFByb3BlcnR5UmVmZXJlbmNlLCBfUmVmZXJlbmNlKTtcblxuXHRmdW5jdGlvbiBQcm9wZXJ0eVJlZmVyZW5jZShrZXksIG9iamVjdCwgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3BlcnR5UmVmZXJlbmNlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3BlcnR5UmVmZXJlbmNlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzLCBrZXksIG9iamVjdCwgZW52KTtcblx0XHR0aGlzLmlzUHJvcGVydHlSZWZlcmVuY2UgPSB0cnVlO1xuXHR9XG5cblx0LyoqXHJcbiAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcmVmZXJlbmNlLiBJZiB0aGUgcmVmZXJlbmNlIGlzIHVucmVzb2x2ZWQsXHJcbiAgKiBhIFJlZmVyZW5jZUVycm9yIHdpbGwgYmUgdGhyb3duLlxyXG4gICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSB2YWx1ZS5cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhQcm9wZXJ0eVJlZmVyZW5jZSwgW3tcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdFx0XHR2YXIgcHJvcCA9IHRoaXMuYmFzZS5nZXRQcm9wZXJ0eSh0aGlzLmtleSk7XG5cdFx0XHRyZXR1cm4gcHJvcCAmJiBwcm9wLmdldFZhbHVlKCkgfHwgbmV3IF90eXBlc1ByaW1pdGl2ZVR5cGUuUHJpbWl0aXZlVHlwZSgpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIHByb3BlcnR5IG9yIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSB2YWx1ZSBhc3NpZ25tZW50LlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5iYXNlLnNldFZhbHVlKHRoaXMua2V5LCB2YWx1ZSk7XG5cdFx0XHRpZiAoIXJlc3VsdCAmJiB0aGlzLmlzU3RyaWN0KCkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5IHByb3BlcnR5ICdcIiArIHRoaXMua2V5ICsgXCInXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIERlbGV0ZXMgdGhlIHVuZGVybHlpbmcgcmVmZXJlbmNlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSBkZWxldGUgb3BlcmF0aW9uLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYmFzZS5kZWxldGVQcm9wZXJ0eSh0aGlzLmtleSwgdGhpcy5lbnYuaXNTdHJpY3QoKSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlZmVyZW5jZSBpcyByZXNvbHZlZCBvciBub3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgcmVzb2x2ZXM7IGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJpc1VucmVzb2x2ZWRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNVbnJlc29sdmVkKCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBQcm9wZXJ0eVJlZmVyZW5jZTtcbn0pKF9yZWZlcmVuY2UuUmVmZXJlbmNlKTtcblxuZXhwb3J0cy5Qcm9wZXJ0eVJlZmVyZW5jZSA9IFByb3BlcnR5UmVmZXJlbmNlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBSZWZlcmVuY2UgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBSZWZlcmVuY2Uoa2V5LCBiYXNlLCBlbnYpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVmZXJlbmNlKTtcblxuXHRcdHRoaXMuaXNSZWZlcmVuY2UgPSB0cnVlO1xuXHRcdHRoaXMudW5xdWFsaWZpZWQgPSBmYWxzZTtcblxuXHRcdHRoaXMua2V5ID0ga2V5O1xuXHRcdHRoaXMuYmFzZSA9IGJhc2U7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5zdHJpY3QgPSBlbnYuaXNTdHJpY3QoKTtcblx0fVxuXG5cdC8qKlxyXG4gICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHJlZmVyZW5jZS4gSWYgdGhlIHJlZmVyZW5jZSBpcyB1bnJlc29sdmVkLFxyXG4gICogYSBSZWZlcmVuY2VFcnJvciB3aWxsIGJlIHRocm93bi5cclxuICAqIEByZXR1cm5zIHtPYmplY3RUeXBlfSBUaGUgdmFsdWUuXHJcbiAgKi9cblxuXHRfY3JlYXRlQ2xhc3MoUmVmZXJlbmNlLCBbe1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcblx0XHRcdGlmICghdGhpcy5iYXNlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcih0aGlzLmtleSArIFwiIGlzIG5vdCBkZWZpbmVkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5iYXNlLmdldFZhbHVlKHRoaXMua2V5LCB0aGlzLnN0cmljdCk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgcHJvcGVydHkgb3IgdmFsdWUuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBhc3NpZ24uXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFRoZSByZXN1bHQgb2YgdGhlIHZhbHVlIGFzc2lnbm1lbnQuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0XHRcdGlmICh0aGlzLmJhc2UpIHtcblx0XHRcdFx0aWYgKCF0aGlzLmJhc2Uuc2V0VmFsdWUodGhpcy5rZXksIHZhbHVlKSAmJiB0aGlzLnN0cmljdCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjaGVjayBpZGVudGlmaWVyIGJlZm9yZSBzdHJpY3Rcblx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkSWRlbnRpZmllcih0aGlzLmtleSwgdGhpcy5zdHJpY3QpO1xuXG5cdFx0XHRpZiAodGhpcy5zdHJpY3QpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKHRoaXMua2V5ICsgXCIgaXMgbm90IGRlZmluZWRcIik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLmVudi5nbG9iYWwuZGVmaW5lT3duUHJvcGVydHkodGhpcy5rZXksIHtcblx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LCBmYWxzZSwgdGhpcy5lbnYpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJpc1N0cmljdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc1N0cmljdCgpIHtcblx0XHRcdHJldHVybiB0aGlzLnN0cmljdCB8fCB0aGlzLmVudi5pc1N0cmljdCgpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIERlbGV0ZXMgdGhlIHVuZGVybHlpbmcgcmVmZXJlbmNlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSBkZWxldGUgb3BlcmF0aW9uLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKCkge1xuXHRcdFx0aWYgKHRoaXMuYmFzZSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5iYXNlLmRlbGV0ZVZhcmlhYmxlKHRoaXMua2V5KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlZmVyZW5jZSBpcyByZXNvbHZlZCBvciBub3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgcmVzb2x2ZXM7IGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJpc1VucmVzb2x2ZWRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNVbnJlc29sdmVkKCkge1xuXHRcdFx0cmV0dXJuICF0aGlzLmJhc2U7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFJlZmVyZW5jZTtcbn0pKCk7XG5cbmV4cG9ydHMuUmVmZXJlbmNlID0gUmVmZXJlbmNlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZXN0cmVlV2Fsa2VyID0gcmVxdWlyZShcIi4uL2VzdHJlZS13YWxrZXJcIik7XG5cbnZhciBfZXN0cmVlV2Fsa2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzdHJlZVdhbGtlcik7XG5cbnZhciBfaG9pc3RlciA9IHJlcXVpcmUoXCIuL2hvaXN0ZXJcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF9zeW50YXhSdWxlcyA9IHJlcXVpcmUoXCIuLi9zeW50YXgtcnVsZXNcIik7XG5cbnZhciBfc3ludGF4UnVsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ludGF4UnVsZXMpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBfdXRpbHNBc3NpZ24gPSByZXF1aXJlKFwiLi4vdXRpbHMvYXNzaWduXCIpO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVN5bnRheChyb290KSB7XG5cdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0dmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuXHR0cnkge1xuXHRcdGZvciAodmFyIF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfZXN0cmVlV2Fsa2VyMltcImRlZmF1bHRcIl0uY3JlYXRlKHJvb3QpKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHRcdFx0dmFyIG5vZGUgPSBfc3RlcC52YWx1ZTtcblxuXHRcdFx0aWYgKG5vZGUudHlwZSBpbiBfc3ludGF4UnVsZXMyW1wiZGVmYXVsdFwiXSkge1xuXHRcdFx0XHRfc3ludGF4UnVsZXMyW1wiZGVmYXVsdFwiXVtub2RlLnR5cGVdKG5vZGUsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHR9IGZpbmFsbHkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0fVxuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbnZhciBTY29wZSA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIFNjb3BlKGVudiwgc2NvcGUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NvcGUpO1xuXG5cdFx0ZW52Lmdsb2JhbFNjb3BlID0gZW52Lmdsb2JhbFNjb3BlIHx8IHRoaXM7XG5cblx0XHR0aGlzLnNjb3BlID0gc2NvcGU7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5wcmlvclNjb3BlID0gKGVudi5jdXJyZW50IHx8IGVudi5nbG9iYWxTY29wZSkuc2NvcGU7XG5cdH1cblxuXHQvKipcclxuICAqIEluaXRpYWxpemVzIHRoZSBzY29wZSBieSB2YWxpZGF0aW5nIHRoZSBmdW5jdGlvbiBib2R5IGFuZCBob2lzdGluZyB2YXJpYWJsZXMuXHJcbiAgKiBAcGFyYW0ge0FTVH0gbm9kZSAtIFRoZSBub2RlIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICogQHJldHVybnMge3ZvaWR9XHJcbiAgKi9cblxuXHRfY3JlYXRlQ2xhc3MoU2NvcGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChub2RlKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHRpZiAoIW5vZGUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW52ID0gdGhpcy5lbnY7XG5cdFx0XHR0aGlzLnNjb3BlLnN0cmljdCA9IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUobm9kZS5ib2R5KTtcblxuXHRcdFx0dmFyIHN0cmljdCA9IHRoaXMuc2NvcGUuc3RyaWN0IHx8IGVudi5pc1N0cmljdCgpO1xuXHRcdFx0aWYgKHN0cmljdCAmJiBub2RlLnR5cGUgPT09IFwiUHJvZ3JhbVwiKSB7XG5cdFx0XHRcdHZhbGlkYXRlU3ludGF4KG5vZGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQoMCwgX2hvaXN0ZXIudmlzaXQpKG5vZGUsIGZ1bmN0aW9uIChkZWNsKSB7XG5cdFx0XHRcdHZhciBuYW1lID0gZGVjbC5uYW1lIHx8IGRlY2wuaWQubmFtZTtcblx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRQYXJhbWV0ZXJOYW1lKG5hbWUsIHN0cmljdCk7XG5cblx0XHRcdFx0dmFyIHZhbHVlID0gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdGlmIChkZWNsLnR5cGUgPT09IFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiKSB7XG5cdFx0XHRcdFx0Ly8gZnVuY3Rpb25zIGNhbiBiZSB1c2VkIGJlZm9yZSB0aGV5IGFyZSBkZWZpbmVkXG5cdFx0XHRcdFx0dmFyIHN0cmljdEZ1bmMgPSBzdHJpY3QgfHwgY29udHJhY3RzLmlzU3RyaWN0Tm9kZShkZWNsLmJvZHkuYm9keSk7XG5cdFx0XHRcdFx0dmFsdWUgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihkZWNsLCB1bmRlZmluZWQsIHsgc3RyaWN0OiBzdHJpY3RGdW5jIH0pO1xuXHRcdFx0XHRcdHZhbHVlLmJpbmRTY29wZShfdGhpcyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoX3RoaXMuc2NvcGUuaGFzKG5hbWUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIG5ld1ZhciA9IGVudi5jcmVhdGVWYXJpYWJsZShuYW1lLCB0cnVlKTtcblx0XHRcdFx0bmV3VmFyLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJsb2FkQ29tcGxleEFyZ3NcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGxvYWRDb21wbGV4QXJncyhwYXJhbXMsIGFyZ3MsIGNhbGxlZSkge1xuXHRcdFx0dmFyIGVudiwgc3RyaWN0LCBzY29wZSwgYXJnSW5kZXgsIGFyZ0xlbmd0aDtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gbG9hZENvbXBsZXhBcmdzJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGVudiA9IHRoaXMuZW52O1xuXHRcdFx0XHRcdFx0c3RyaWN0ID0gZW52LmlzU3RyaWN0KCkgfHwgY29udHJhY3RzLmlzU3RyaWN0Tm9kZShjYWxsZWUubm9kZSk7XG5cdFx0XHRcdFx0XHRzY29wZSA9IHRoaXMuY3JlYXRlUGFyYW1ldGVyU2NvcGUoKTtcblx0XHRcdFx0XHRcdGFyZ0luZGV4ID0gMDtcblx0XHRcdFx0XHRcdGFyZ0xlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKHBhcmFtcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAocGFyYW0sIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdHZhciByZXN0LCByZXN0SW5kZXg7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShwYXJhbS50eXBlID09PSBcIlJlc3RFbGVtZW50XCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN0ID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzdEluZGV4ID0gMDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoYXJnSW5kZXggPCBhcmdMZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN0LnNldFZhbHVlKHJlc3RJbmRleCsrLCBhcmdzW2FyZ0luZGV4KytdIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLnNldFZhbHVlKHBhcmFtLm5hbWUsIHJlc3QpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXNzaWduLmRlY2xhcmUpKGVudiwgcGFyYW0sIGFyZ3NbYXJnSW5kZXgrK10gfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIHRydWUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdGNhc2UgNzpcblxuXHRcdFx0XHRcdFx0aWYgKCFjYWxsZWUuYXJyb3cpIHtcblx0XHRcdFx0XHRcdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBwcmVzZXJ2ZSB0aGUgcGFzc2VkIGluIGFyZ3VtZW50cywgZXZlbiBpZiBkZWZhdWx0cyBhcmUgdXNlZCBpbnN0ZWFkXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGFyZ3VtZW50TGlzdCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUFyZ3VtZW50cyhhcmdzLCBjYWxsZWUsIHN0cmljdCk7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUuY3JlYXRlVmFyaWFibGUoXCJhcmd1bWVudHNcIik7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUuc2V0VmFsdWUoXCJhcmd1bWVudHNcIiwgYXJndW1lbnRMaXN0KTtcblxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhcmd1bWVudExpc3QuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZ3MubGVuZ3RoKSxcblx0XHRcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHJldHVybiBzY29wZSBiYWNrIHRvIG1haW4gc2NvcGVcblx0XHRcdFx0XHRcdHRoaXMuZW52LnNldFNjb3BlKHRoaXMuc2NvcGUpO1xuXG5cdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGxvYWRDb21wbGV4QXJncywgdGhpcyk7XG5cdFx0fSlcblxuXHRcdC8qKlxyXG4gICAqIExvYWRzIHRoZSBhcmd1bWVudHMgaW50byB0aGUgc2NvcGUgYW5kIGNyZWF0ZXMgdGhlIHNwZWNpYWwgYGFyZ3VtZW50c2Agb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7QVNUW119IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXIgaWRlbnRpZmllcnNcclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGVbXX0gYXJncyAtIFRoZSBhcmd1bWVudCB2YWx1ZXNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uVHlwZX0gY2FsbGVlIC0gVGhlIGZ1bmN0aW9uXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwibG9hZEFyZ3NcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGxvYWRBcmdzKHBhcmFtcywgYXJncywgY2FsbGVlKSB7XG5cdFx0XHR2YXIgZW52LCBzY29wZSwgc3RyaWN0Q2FsbGVlLCBzdHJpY3QsIGFyZ3VtZW50TGlzdCwgYXJnc0xlbmd0aCwgc2hvdWxkTWFwLCBfaSwgbG4sIHBhcmFtLCB2YWx1ZSwgX25hbWUsIGRlc2NyaXB0b3IsIGk7XG5cblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gbG9hZEFyZ3MkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0aWYgKCEocGFyYW1zICYmIHBhcmFtcy5zb21lKGZ1bmN0aW9uIChwKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBwLnR5cGUgIT09IFwiSWRlbnRpZmllclwiO1xuXHRcdFx0XHRcdFx0fSkpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5sb2FkQ29tcGxleEFyZ3MocGFyYW1zLCBhcmdzLCBjYWxsZWUpO1xuXG5cdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdGVudiA9IHRoaXMuZW52O1xuXHRcdFx0XHRcdFx0c2NvcGUgPSB0aGlzLnNjb3BlO1xuXHRcdFx0XHRcdFx0c3RyaWN0Q2FsbGVlID0gY29udHJhY3RzLmlzU3RyaWN0Tm9kZShjYWxsZWUubm9kZSk7XG5cdFx0XHRcdFx0XHRzdHJpY3QgPSBlbnYuaXNTdHJpY3QoKSB8fCBzdHJpY3RDYWxsZWU7XG5cdFx0XHRcdFx0XHRhcmd1bWVudExpc3QgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVBcmd1bWVudHMoYXJncywgY2FsbGVlLCBzdHJpY3QpO1xuXG5cdFx0XHRcdFx0XHRzY29wZS5jcmVhdGVWYXJpYWJsZShcImFyZ3VtZW50c1wiKTtcblx0XHRcdFx0XHRcdHNjb3BlLnNldFZhbHVlKFwiYXJndW1lbnRzXCIsIGFyZ3VtZW50TGlzdCk7XG5cblx0XHRcdFx0XHRcdGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aDtcblxuXHRcdFx0XHRcdFx0aWYgKHBhcmFtcykge1xuXHRcdFx0XHRcdFx0XHRzaG91bGRNYXAgPSAhc3RyaWN0Q2FsbGVlO1xuXG5cdFx0XHRcdFx0XHRcdGZvciAoX2kgPSAwLCBsbiA9IHBhcmFtcy5sZW5ndGg7IF9pIDwgbG47IF9pKyspIHtcblx0XHRcdFx0XHRcdFx0XHRwYXJhbSA9IHBhcmFtc1tfaV07XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBhcmdzW19pXSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0XHRfbmFtZSA9IHBhcmFtLm5hbWU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoc2hvdWxkTWFwICYmICFzY29wZS5oYXMoX25hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yID0gc2NvcGUuY3JlYXRlVmFyaWFibGUoX25hbWUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoYXJnc0xlbmd0aCA+IF9pKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5tYXBQcm9wZXJ0eShfaSwgZGVzY3JpcHRvcik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFzaG91bGRNYXAgJiYgX2kgPCBhcmdzTGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhcmd1bWVudExpc3QuZGVmaW5lT3duUHJvcGVydHkoX2ksIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWUoX25hbWUsIHN0cmljdCk7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUuc2V0VmFsdWUoX25hbWUsIHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBqdXN0IHNldCB2YWx1ZSBpZiBhZGRpdGlvbmFsLCB1bm5hbWVkIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluXG5cdFx0XHRcdFx0XHRpID0gcGFyYW1zID8gcGFyYW1zLmxlbmd0aCA6IDA7XG5cblx0XHRcdFx0XHRcdGZvciAoOyBpIDwgYXJnc0xlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5kZWZpbmVPd25Qcm9wZXJ0eShpLCB7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IGFyZ3NbaV0sXG5cdFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoYXJnc0xlbmd0aCksXG5cdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBsb2FkQXJncywgdGhpcyk7XG5cdFx0fSlcblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVQYXJhbWV0ZXJTY29wZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQYXJhbWV0ZXJTY29wZSgpIHtcblx0XHRcdHZhciBzY29wZSA9IHRoaXMuZW52LmNyZWF0ZVNjb3BlKCk7XG5cdFx0XHRzY29wZS5zY29wZS5zZXRQYXJlbnQodGhpcy5zY29wZS5wYXJlbnQpO1xuXHRcdFx0dGhpcy5zY29wZS5zZXRQYXJlbnQoc2NvcGUpO1xuXHRcdFx0cmV0dXJuIHNjb3BlLnNjb3BlO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIFJ1bnMgdGhlIHBhc3NlZCBpbiBmdW5jdGlvbiBhbmQgZXhpdHMgdGhlIHNjb3BlIHdoZW4gdGhlIGZ1bmN0aW9uIGNvbXBsZXRlcyxcclxuICAgKiByZXR1cm5pbmcgdGhlIGVudmlyb25tZW50IGJhY2sgdG8gdGhlIHByZXZpb3Mgc3RhdGUuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5uZXIgLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cclxuICAgKiBAcmV0dXJucyB7SXRlcmF0b3J9IFRoZSBmdW5jdGlvbiByZXN1bHRzXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwidXNlXCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB1c2UoaW5uZXIpIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHVzZSQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGlubmVyKCk7XG5cblx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHR0aGlzLmV4aXQoKTtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA4O1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDApO1xuXG5cdFx0XHRcdFx0XHR0aGlzLmV4aXQoKTtcblx0XHRcdFx0XHRcdHRocm93IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB1c2UsIHRoaXMsIFtbMCwgOF1dKTtcblx0XHR9KVxuXG5cdFx0LyoqXHJcbiAgICogRXhpdHMgdGhlIHNjb3BlLCByZXR1cm5pbmcgdGhlIGVudmlyb25tZW50IHRvIGl0J3MgcHJldmlvdXMgc3RhdGUuXHJcbiAgICogKFR5cGljYWxseSB5b3Ugd291bGQgY2FsbCBgdXNlYCB3aGljaCBoYW5kbGVzIGV4aXRpbmcgdGhlIHNjb3BlIGl0c2VsZi4pXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiZXhpdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBleGl0KCkge1xuXHRcdFx0dGhpcy5lbnYuc2V0U2NvcGUodGhpcy5wcmlvclNjb3BlKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gU2NvcGU7XG59KSgpO1xuXG5leHBvcnRzLlNjb3BlID0gU2NvcGU7XG5cbi8vIGNyZWF0ZSBhIHRlbXBvcmFyeSBzY29wZSBmb3IgdGhlIGFyZ3VtZW50IGRlY2xhcmF0aW9uc1xuXG4vLyB0b2RvOiB0aGlzIG1ldGhvZCBpcyBnZXR0aW5nIGZhciB0b28gY29tcGxleCIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nZXRTdGFydEluZGV4ID0gZ2V0U3RhcnRJbmRleDtcbmV4cG9ydHMuZ2V0RW5kSW5kZXggPSBnZXRFbmRJbmRleDtcbmV4cG9ydHMuZXhlY3V0ZUNhbGxiYWNrID0gZXhlY3V0ZUNhbGxiYWNrO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBhcnJheUFwaTtcbnZhciBtYXJrZWQwJDAgPSBbZXhlY3V0ZUNhbGxiYWNrXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9yc1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxuZnVuY3Rpb24gZ2V0U3RhcnRJbmRleChpbmRleCwgbGVuZ3RoKSB7XG5cdGlmIChpbmRleCA8IDApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgobGVuZ3RoIC0gTWF0aC5hYnMoaW5kZXgpLCAwKTtcblx0fVxuXG5cdHJldHVybiBNYXRoLm1pbihpbmRleCB8fCAwLCBsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBnZXRFbmRJbmRleChpbmRleCwgbGVuZ3RoKSB7XG5cdGlmIChpbmRleCA8IDApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuXHR9XG5cblx0cmV0dXJuIE1hdGgubWluKGluZGV4LCBsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycikge1xuXHR2YXIgc2NvcGUsIGFyZ3M7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghdGhpc0FyZykge1xuXHRcdFx0XHRcdHRoaXNBcmcgPSBjYWxsYmFjay5pc1N0cmljdCgpID8gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBlbnYuZ2xvYmFsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlRXhlY3V0aW9uU2NvcGUoY2FsbGJhY2ssIHRoaXNBcmcpO1xuXG5cdFx0XHRcdHNjb3BlLmluaXQoY2FsbGJhY2subm9kZS5ib2R5KTtcblxuXHRcdFx0XHRhcmdzID0gW2VudHJ5LnZhbHVlLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZW50cnkua2V5KSwgYXJyXTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBzY29wZS5sb2FkQXJncyhjYWxsYmFjay5ub2RlLnBhcmFtcywgYXJncywgY2FsbGJhY2spO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0XHRcdHZhciBleGVjdXRpb25SZXN1bHQ7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChjYWxsYmFjay5ub2RlLmJvZHksIGNhbGxiYWNrLm5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghKGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQuZXhpdCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQucmVzdWx0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGFycmF5QXBpKGVudikge1xuXHR2YXIgbWFya2VkMSQwID0gW2V4ZWN1dGVBY2N1bXVsYXRvciwgam9pbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0ZnVuY3Rpb24gZXhlY3V0ZUFjY3VtdWxhdG9yKGNhbGxiYWNrLCBwcmlvclZhbHVlLCBlbnRyeSwgYXJyKSB7XG5cdFx0dmFyIHNjb3BlLCBhcmdzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZUFjY3VtdWxhdG9yJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZUV4ZWN1dGlvblNjb3BlKGNhbGxiYWNrKTtcblxuXHRcdFx0XHRcdHNjb3BlLmluaXQoY2FsbGJhY2subm9kZS5ib2R5KTtcblxuXHRcdFx0XHRcdGFyZ3MgPSBbcHJpb3JWYWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgZW50cnkudmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVudHJ5LmtleSksIGFycl07XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuIHNjb3BlLmxvYWRBcmdzKGNhbGxiYWNrLm5vZGUucGFyYW1zLCBhcmdzLCBjYWxsYmFjayk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgZXhlY3V0aW9uUmVzdWx0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGNhbGxiYWNrLm5vZGUuYm9keSwgY2FsbGJhY2subm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQzJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5leGl0KSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBtYXJrZWQxJDBbMF0sIHRoaXMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlSW5kZXhQcm9wZXJ0eSh2YWx1ZSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHR9O1xuXHR9XG5cblx0dmFyIHByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJBcnJheVwiO1xuXHRwcm90by5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlIH0pO1xuXG5cdHZhciBhcnJheUNsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihmdW5jdGlvbiAobGVuZ3RoKSB7XG5cdFx0dmFyIG5ld0FycmF5ID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgbGVuZ3RoLnR5cGUgPT09IFwibnVtYmVyXCIpIHtcblx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRBcnJheUxlbmd0aChhcmd1bWVudHNbMF0udmFsdWUpO1xuXHRcdFx0XHRuZXdBcnJheS5zZXRWYWx1ZShcImxlbmd0aFwiLCBsZW5ndGgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHRcdFx0XHRuZXdBcnJheS5kZWZpbmVPd25Qcm9wZXJ0eShpLCBjcmVhdGVJbmRleFByb3BlcnR5KGFyZ3VtZW50c1tpXSksIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ld0FycmF5O1xuXHR9LCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdGFycmF5Q2xhc3MuZGVmaW5lKFwiaXNBcnJheVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCEhKG9iaiAmJiBvYmouY2xhc3NOYW1lID09PSBcIkFycmF5XCIpKTtcblx0fSwgMSwgXCJBcnJheS5pc0FycmF5XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJwdXNoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0aXRlbXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIHN0YXJ0LCBpLCBfbGVuZ3RoLCBuZXdMZW5ndGg7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRcdGZvciAoX2xlbmd0aCA9IGl0ZW1zLmxlbmd0aDsgaSA8IF9sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlZmluZU93blByb3BlcnR5KHN0YXJ0ICsgaSwgY3JlYXRlSW5kZXhQcm9wZXJ0eShpdGVtc1tpXSkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld0xlbmd0aCA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0YXJ0ICsgaSk7XG5cblx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoXCJsZW5ndGhcIiwgbmV3TGVuZ3RoKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG5ld0xlbmd0aCk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnB1c2hcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInBvcFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgb2JqLCBpO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRvYmogPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGkgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdFx0XHRpLS07XG5cblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRcdG9iaiA9IHRoaXMubm9kZS5nZXRWYWx1ZShpKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGksIHRydWUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpKSk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmogfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS5wb3BcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNoaWZ0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBvYmosIGxlbmd0aCwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0b2JqID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdFx0aWYgKGxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRcdG9iaiA9IHRoaXMubm9kZS5nZXRWYWx1ZShpKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR3aGlsZSAoKytpIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKGkgLSAxLCB0aGlzLm5vZGUuZ2V0VmFsdWUoaSkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkobGVuZ3RoIC0gMSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCA9PT0gMCA/IDAgOiAtLWxlbmd0aCkpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJBcnJheS5wcm90b3R5cGUuc2hpZnRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInVuc2hpZnRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdFx0XHRpdGVtc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHRcdH1cblxuXHRcdHZhciBsZW5ndGgsIGFyZ0NvdW50LCBpLCB0b0luZGV4LCBmcm9tSW5kZXgsIG5ld0xlbmd0aDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YXJnQ291bnQgPSBpdGVtcy5sZW5ndGg7XG5cdFx0XHRcdFx0aSA9IGxlbmd0aDtcblx0XHRcdFx0XHR0b0luZGV4ID0gdW5kZWZpbmVkLCBmcm9tSW5kZXggPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSA+IDApIHtcblx0XHRcdFx0XHRcdGZyb21JbmRleCA9IGkgLSAxO1xuXHRcdFx0XHRcdFx0dG9JbmRleCA9IGkgKyBhcmdDb3VudCAtIDE7XG5cblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGZyb21JbmRleCkpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKHRvSW5kZXgsIHRoaXMubm9kZS5nZXRWYWx1ZShmcm9tSW5kZXgpKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eSh0b0luZGV4LCB0cnVlKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aS0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBhcmdDb3VudDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoaSwgaXRlbXNbaV0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld0xlbmd0aCA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZ0NvdW50ICsgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZShcImxlbmd0aFwiLCBuZXdMZW5ndGgpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3TGVuZ3RoKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnVuc2hpZnRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNsaWNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGJlZ2luLCBlbmQpIHtcblx0XHR2YXIgc291cmNlLCBsZW5ndGgsIGFyciwgaW5kZXgsIGk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNvdXJjZSA9IHRoaXMubm9kZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghYmVnaW4pIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoYmVnaW4pO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSAwO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0YmVnaW4gPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGlmICghKCFlbmQgfHwgZW5kLnR5cGUgPT09IFwidW5kZWZpbmVkXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbmQgPSBsZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW5kKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGVuZCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdFx0XHRcdGluZGV4ID0gMDtcblxuXHRcdFx0XHRcdGJlZ2luID0gZ2V0U3RhcnRJbmRleChiZWdpbiwgbGVuZ3RoKTtcblx0XHRcdFx0XHRlbmQgPSBnZXRFbmRJbmRleChlbmQsIGxlbmd0aCk7XG5cblx0XHRcdFx0XHRmb3IgKGkgPSBiZWdpbjsgaSA8IGVuZDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgrKywgY3JlYXRlSW5kZXhQcm9wZXJ0eShzb3VyY2UuZ2V0VmFsdWUoaSkpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkFycmF5LnByb3RvdHlwZS5zbGljZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic3BsaWNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0YXJ0LCBkZWxldGVDb3VudCkge1xuXHRcdGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgZWxlbWVudHMgPSBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG5cdFx0XHRlbGVtZW50c1tfa2V5MyAtIDJdID0gYXJndW1lbnRzW19rZXkzXTtcblx0XHR9XG5cblx0XHR2YXIgbGVuZ3RoLCByZW1vdmVkLCBrLCBuZXdDb3VudCwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShzdGFydCk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmIChzdGFydCA8IDApIHtcblx0XHRcdFx0XHRcdHN0YXJ0ID0gTWF0aC5tYXgobGVuZ3RoICsgc3RhcnQsIDApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzdGFydCA9IE1hdGgubWluKHN0YXJ0LCBsZW5ndGgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZGVsZXRlQ291bnQpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRkZWxldGVDb3VudCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoZGVsZXRlQ291bnQgPCAwKSB7XG5cdFx0XHRcdFx0XHRkZWxldGVDb3VudCA9IDA7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlbGV0ZUNvdW50ID0gTWF0aC5taW4oTWF0aC5tYXgoZGVsZXRlQ291bnQsIDApLCBsZW5ndGggLSBzdGFydCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVtb3ZlZCA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0XHRcdFx0ayA9IDA7XG5cblx0XHRcdFx0XHR3aGlsZSAoayA8IGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5ub2RlLmhhcyhrICsgc3RhcnQpKSB7XG5cdFx0XHRcdFx0XHRcdHJlbW92ZWQuZGVmaW5lT3duUHJvcGVydHkoaywgY3JlYXRlSW5kZXhQcm9wZXJ0eSh0aGlzLm5vZGUuZ2V0VmFsdWUoayArIHN0YXJ0KSkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bmV3Q291bnQgPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0XHRcdFx0XHRpZiAobmV3Q291bnQgPCBkZWxldGVDb3VudCkge1xuXHRcdFx0XHRcdFx0ayA9IHN0YXJ0O1xuXG5cdFx0XHRcdFx0XHR3aGlsZSAoayA8IGxlbmd0aCAtIGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGsgKyBkZWxldGVDb3VudCkpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoayArIG5ld0NvdW50LCB0aGlzLm5vZGUuZ2V0VmFsdWUoayArIGRlbGV0ZUNvdW50KSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGsgKyBkZWxldGVDb3VudCk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGsgPSBsZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoayA+IGxlbmd0aCAtIGRlbGV0ZUNvdW50ICsgbmV3Q291bnQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KC0tayk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChuZXdDb3VudCA+IGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRrID0gbGVuZ3RoIC0gc3RhcnQ7XG5cdFx0XHRcdFx0XHR3aGlsZSAoayA+IHN0YXJ0KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGsgKyBkZWxldGVDb3VudCAtIDEpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKGsgKyBuZXdDb3VudCAtIDEsIHRoaXMubm9kZS5nZXRWYWx1ZShrICsgZGVsZXRlQ291bnQgLSAxKSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGsgKyBuZXdDb3VudCAtIDEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0ay0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGsgPSBzdGFydDtcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbmV3Q291bnQ7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKGssIGVsZW1lbnRzW2ldKTtcblx0XHRcdFx0XHRcdGsrKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoIC0gZGVsZXRlQ291bnQgKyBuZXdDb3VudCkpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVtb3ZlZCk7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkFycmF5LnByb3RvdHlwZS5zcGxpY2VcIikpO1xuXG5cdGZ1bmN0aW9uIGlzU3ByZWFkYWJsZShvYmopIHtcblx0XHRpZiAoIWNvbnRyYWN0cy5pc09iamVjdChvYmopKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dmFyIGtleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKTtcblx0XHR2YXIgcHJvcEluZm8gPSBvYmouZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRpZiAocHJvcEluZm8pIHtcblx0XHRcdHZhciBzcHJlYWRhYmxlID0gcHJvcEluZm8uZ2V0VmFsdWUoKTtcblx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKHNwcmVhZGFibGUpKSB7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoc3ByZWFkYWJsZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iai5jbGFzc05hbWUgPT09IFwiQXJyYXlcIjtcblx0fVxuXG5cdHByb3RvLmRlZmluZShcImNvbmNhdFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFycmF5cyA9IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG5cdFx0XHRhcnJheXNbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcblx0XHR9XG5cblx0XHR2YXIgbmV3QXJyYXksIGN1cnJlbnQsIGluZGV4LCBpLCBfbGVuZ3RoMjtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRuZXdBcnJheSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRcdFx0XHQvLyBhZGQgXCJ0aGlzXCIgYXJyYXkgdG8gYnVuY2hcblx0XHRcdFx0XHRhcnJheXMudW5zaGlmdCgoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSkpO1xuXG5cdFx0XHRcdFx0Y3VycmVudCA9IHVuZGVmaW5lZCwgaW5kZXggPSAwLCBpID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpZiAoIShhcnJheXMubGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBhcnJheXMuc2hpZnQoKTtcblxuXHRcdFx0XHRcdGlmICghaXNTcHJlYWRhYmxlKGN1cnJlbnQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoY3VycmVudCk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdF9sZW5ndGgyID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBfbGVuZ3RoMjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudC5oYXMoaSkpIHtcblx0XHRcdFx0XHRcdFx0bmV3QXJyYXkuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgsIGNyZWF0ZUluZGV4UHJvcGVydHkoY3VycmVudC5nZXRWYWx1ZShpKSkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRuZXdBcnJheS5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCsrLCBjcmVhdGVJbmRleFByb3BlcnR5KGN1cnJlbnQpKTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cblx0XHRcdFx0XHRuZXdBcnJheS5zZXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpbmRleCkpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3QXJyYXkpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuY29uY2F0XCIpKTtcblxuXHRmdW5jdGlvbiBqb2luKHNlcGFyYXRvcikge1xuXHRcdHZhciBsZW5ndGgsXG5cdFx0ICAgIHN0cmluZ1ZhbHVlcyxcblx0XHQgICAgc3RyaW5nVmFsdWUsXG5cdFx0ICAgIGksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gam9pbiQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMCB8fCBzZXBhcmF0b3IgPT09IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IFwiLFwiO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKHNlcGFyYXRvciwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHNlcGFyYXRvciA9IGNvbnRleHQkMiQwLnQwO1xuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlcyA9IFtdO1xuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0aWYgKCEoaSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gXCJcIjtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlLmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSB0aGlzLm5vZGUuZ2V0VmFsdWUoaSk7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChzdHJpbmdWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gXCJcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDI1OlxuXG5cdFx0XHRcdFx0c3RyaW5nVmFsdWVzLnB1c2goc3RyaW5nVmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWVzLmpvaW4oc2VwYXJhdG9yKSkpO1xuXG5cdFx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFsxXSwgdGhpcyk7XG5cdH1cblxuXHRwcm90by5kZWZpbmUoXCJqb2luXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGpvaW4sIDEsIFwiQXJyYXkucHJvdG90eXBlLmpvaW5cIikpO1xuXG5cdHByb3RvLmRlZmluZShcImluZGV4T2ZcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG5cdFx0dmFyIGxlbmd0aCxcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG5vdEZvdW5kLFxuXHRcdCAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLFxuXHRcdCAgICBfZGlkSXRlcmF0b3JFcnJvcixcblx0XHQgICAgX2l0ZXJhdG9yRXJyb3IsXG5cdFx0ICAgIF9pdGVyYXRvcixcblx0XHQgICAgX3N0ZXAsXG5cdFx0ICAgIF9zdGVwJHZhbHVlLFxuXHRcdCAgICBrZXksXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRzZWFyY2hFbGVtZW50ID0gc2VhcmNoRWxlbWVudCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSAwO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZnJvbUluZGV4KTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGluZGV4ID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0bm90Rm91bmQgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSk7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPT09IDAgfHwgaW5kZXggPj0gbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBub3RGb3VuZCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdGluZGV4ID0gZ2V0U3RhcnRJbmRleChpbmRleCwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDE5O1xuXHRcdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIHRoaXMubm9kZSwgaW5kZXgsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfc3RlcCR2YWx1ZSA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRcdGtleSA9IF9zdGVwJHZhbHVlLmtleTtcblx0XHRcdFx0XHR2YWx1ZSA9IF9zdGVwJHZhbHVlLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFlbnYub3BzLmFyZVNhbWUoc2VhcmNoRWxlbWVudCwgdmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSkpO1xuXG5cdFx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMzI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMyO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxOSk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzY7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM3O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM5O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM5KTtcblxuXHRcdFx0XHRjYXNlIDQzOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzYpO1xuXG5cdFx0XHRcdGNhc2UgNDQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBub3RGb3VuZCk7XG5cblx0XHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxOSwgMzIsIDM2LCA0NF0sIFszNywsIDM5LCA0M11dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmluZGV4T2ZcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImxhc3RJbmRleE9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCkge1xuXHRcdHZhciBsZW5ndGgsXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMixcblx0XHQgICAgX2RpZEl0ZXJhdG9yRXJyb3IyLFxuXHRcdCAgICBfaXRlcmF0b3JFcnJvcjIsXG5cdFx0ICAgIF9pdGVyYXRvcjIsXG5cdFx0ICAgIF9zdGVwMixcblx0XHQgICAgX3N0ZXAyJHZhbHVlLFxuXHRcdCAgICBrZXksXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRzZWFyY2hFbGVtZW50ID0gc2VhcmNoRWxlbWVudCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBsZW5ndGggLSAxO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZnJvbUluZGV4KTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGluZGV4ID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoaW5kZXggPCAwKSB7XG5cdFx0XHRcdFx0XHRpbmRleCA9IGxlbmd0aCAtIE1hdGguYWJzKGluZGV4KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxNjtcblx0XHRcdFx0XHRfaXRlcmF0b3IyID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKGVudiwgdGhpcy5ub2RlLCBpbmRleCkpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfc3RlcDIkdmFsdWUgPSBfc3RlcDIudmFsdWU7XG5cdFx0XHRcdFx0a2V5ID0gX3N0ZXAyJHZhbHVlLmtleTtcblx0XHRcdFx0XHR2YWx1ZSA9IF9zdGVwMiR2YWx1ZS52YWx1ZTtcblxuXHRcdFx0XHRcdGlmICghZW52Lm9wcy5hcmVTYW1lKHNlYXJjaEVsZW1lbnQsIHZhbHVlIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpKTtcblxuXHRcdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDE2KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMiA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMzM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMzO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNDtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yMltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNjtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cblx0XHRcdFx0Y2FzZSAzOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM2KTtcblxuXHRcdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzMpO1xuXG5cdFx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSkpO1xuXG5cdFx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTYsIDI5LCAzMywgNDFdLCBbMzQsLCAzNiwgNDBdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZlwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZm9yRWFjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMsIF9kaWRJdGVyYXRvckVycm9yMywgX2l0ZXJhdG9yRXJyb3IzLCBfaXRlcmF0b3IzLCBfc3RlcDMsIGVudHJ5O1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gODtcblx0XHRcdFx0XHRfaXRlcmF0b3IzID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDMudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDE5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSg4KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMyA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDIzO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNDtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yM1tcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yM1tcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNjtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI2KTtcblxuXHRcdFx0XHRjYXNlIDMwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjMpO1xuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbOCwgMTksIDIzLCAzMV0sIFsyNCwsIDI2LCAzMF1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIikpO1xuXG5cdHByb3RvLmRlZmluZShcIm1hcFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgbmV3QXJyYXksIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240LCBfZGlkSXRlcmF0b3JFcnJvcjQsIF9pdGVyYXRvckVycm9yNCwgX2l0ZXJhdG9yNCwgX3N0ZXA0LCBlbnRyeSwgdmFsdWU7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKGFyciwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpO1xuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0bmV3QXJyYXkgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdFx0bmV3QXJyYXkuc2V0VmFsdWUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSk7XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMTtcblx0XHRcdFx0XHRfaXRlcmF0b3I0ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDQudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRuZXdBcnJheS5kZWZpbmVPd25Qcm9wZXJ0eShlbnRyeS5rZXksIGNyZWF0ZUluZGV4UHJvcGVydHkodmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDExKTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNCA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI4O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNFtcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yNFtcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG5cblx0XHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDMxKTtcblxuXHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjgpO1xuXG5cdFx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxMSwgMjQsIDI4LCAzNl0sIFsyOSwsIDMxLCAzNV1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZmlsdGVyXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBuZXdBcnJheSwgaW5kZXgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241LCBfZGlkSXRlcmF0b3JFcnJvcjUsIF9pdGVyYXRvckVycm9yNSwgX2l0ZXJhdG9yNSwgX3N0ZXA1LCBlbnRyeSwgcGFzc2VkO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGFycik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihjYWxsYmFjaywgYXJyKTtcblxuXHRcdFx0XHRcdG5ld0FycmF5ID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTE7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yNSA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXA1LnZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUNhbGxiYWNrKGVudiwgY2FsbGJhY2ssIGVudHJ5LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRpZiAocGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRuZXdBcnJheS5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCsrLCBjcmVhdGVJbmRleFByb3BlcnR5KGVudHJ5LnZhbHVlKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTEpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I1ID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMwO1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSAmJiBfaXRlcmF0b3I1W1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3I1W1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMyO1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yNTtcblxuXHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzIpO1xuXG5cdFx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyOSk7XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG5ld0FycmF5KTtcblxuXHRcdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzExLCAyNSwgMjksIDM3XSwgWzMwLCwgMzIsIDM2XV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuZmlsdGVyXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJldmVyeVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYsIF9kaWRJdGVyYXRvckVycm9yNiwgX2l0ZXJhdG9yRXJyb3I2LCBfaXRlcmF0b3I2LCBfc3RlcDYsIGVudHJ5LCBwYXNzZWQ7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRoaXMubm9kZSwgXCJBcnJheS5wcm90b3R5cGUuZXZlcnlcIik7XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShhcnIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24oY2FsbGJhY2ssIGFycik7XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA5O1xuXHRcdFx0XHRcdF9pdGVyYXRvcjYgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gKF9zdGVwNiA9IF9pdGVyYXRvcjYubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwNi52YWx1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVDYWxsYmFjayhlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKHBhc3NlZCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oOSk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjYgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyODtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjZbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjZbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yNikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I2O1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbOSwgMjQsIDI4LCAzNl0sIFsyOSwsIDMxLCAzNV1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmV2ZXJ5XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzb21lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNywgX2RpZEl0ZXJhdG9yRXJyb3I3LCBfaXRlcmF0b3JFcnJvcjcsIF9pdGVyYXRvcjcsIF9zdGVwNywgZW50cnksIHBhc3NlZDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIkFycmF5LnByb3RvdHlwZS5zb21lXCIpO1xuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjcgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNyA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gOTtcblx0XHRcdFx0XHRfaXRlcmF0b3I3ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNyA9IChfc3RlcDcgPSBfaXRlcmF0b3I3Lm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDcudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmICghcGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDkpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yNyA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I3ID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNyAmJiBfaXRlcmF0b3I3W1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3I3W1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMxO1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yNztcblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzEpO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyOCk7XG5cblx0XHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s5LCAyNCwgMjgsIDM2XSwgWzI5LCwgMzEsIDM1XV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuc29tZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicmVkdWNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcblx0XHR2YXIgYXJyLFxuXHRcdCAgICBsZW5ndGgsXG5cdFx0ICAgIGhhc0luaXRpYWxWYWx1ZSxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGhhc0VsZW1lbnRzLFxuXHRcdCAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCxcblx0XHQgICAgX2RpZEl0ZXJhdG9yRXJyb3I4LFxuXHRcdCAgICBfaXRlcmF0b3JFcnJvcjgsXG5cdFx0ICAgIF9pdGVyYXRvcjgsXG5cdFx0ICAgIF9zdGVwOCxcblx0XHQgICAgZW50cnksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGFycik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihjYWxsYmFjaywgYXJyKTtcblxuXHRcdFx0XHRcdGhhc0luaXRpYWxWYWx1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKGFyZ3MkMiQwLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gaW5pdGlhbFZhbHVlO1xuXHRcdFx0XHRcdFx0aGFzSW5pdGlhbFZhbHVlID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRoYXNFbGVtZW50cyA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCEobGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0Mztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244ID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjggPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjggPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDE0O1xuXHRcdFx0XHRcdF9pdGVyYXRvcjggPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244ID0gKF9zdGVwOCA9IF9pdGVyYXRvcjgubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwOC52YWx1ZTtcblxuXHRcdFx0XHRcdGlmIChoYXNFbGVtZW50cykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aGFzRWxlbWVudHMgPSB0cnVlO1xuXG5cdFx0XHRcdFx0aWYgKGhhc0luaXRpYWxWYWx1ZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFsdWUgPSBlbnRyeS52YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiY29udGludWVcIiwgMjYpO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQWNjdW11bGF0b3IoY2FsbGJhY2ssIHZhbHVlLCBlbnRyeSwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDE0KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjggPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yOCA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM1O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNjtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjggJiYgX2l0ZXJhdG9yOFtcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yOFtcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzODtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3I4KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjg7XG5cblx0XHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM4KTtcblxuXHRcdFx0XHRjYXNlIDQyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzUpO1xuXG5cdFx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdFx0aWYgKCEoIWhhc0VsZW1lbnRzICYmICFoYXNJbml0aWFsVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucmFpc2UobmV3IFR5cGVFcnJvcihcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIikpKTtcblxuXHRcdFx0XHRjYXNlIDQ1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTQsIDMxLCAzNSwgNDNdLCBbMzYsLCAzOCwgNDJdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInJlZHVjZVJpZ2h0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcblx0XHR2YXIgbGVuZ3RoLFxuXHRcdCAgICBhcnIsXG5cdFx0ICAgIGFjY3VtdWxhdG9yLFxuXHRcdCAgICBoYXNJbml0aWFsVmFsdWUsXG5cdFx0ICAgIGhhc0VsZW1lbnRzLFxuXHRcdCAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSxcblx0XHQgICAgX2RpZEl0ZXJhdG9yRXJyb3I5LFxuXHRcdCAgICBfaXRlcmF0b3JFcnJvcjksXG5cdFx0ICAgIF9pdGVyYXRvcjksXG5cdFx0ICAgIF9zdGVwOSxcblx0XHQgICAgZW50cnksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRoaXMubm9kZSwgXCJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHRcIik7XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24oY2FsbGJhY2ssIGFycik7XG5cblx0XHRcdFx0XHRhY2N1bXVsYXRvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRoYXNJbml0aWFsVmFsdWUgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmIChhcmdzJDIkMC5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0XHRhY2N1bXVsYXRvciA9IGluaXRpYWxWYWx1ZTtcblx0XHRcdFx0XHRcdGhhc0luaXRpYWxWYWx1ZSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aGFzRWxlbWVudHMgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICghKGxlbmd0aCA+IDApKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I5ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I5ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxNDtcblx0XHRcdFx0XHRfaXRlcmF0b3I5ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKGVudiwgYXJyLCBsZW5ndGggLSAxKSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSAoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXA5LnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKGhhc0VsZW1lbnRzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRoYXNFbGVtZW50cyA9IHRydWU7XG5cblx0XHRcdFx0XHRpZiAoaGFzSW5pdGlhbFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhY2N1bXVsYXRvciA9IGVudHJ5LnZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJjb250aW51ZVwiLCAyNik7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVBY2N1bXVsYXRvcihjYWxsYmFjaywgYWNjdW11bGF0b3IsIGVudHJ5LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdFx0YWNjdW11bGF0b3IgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTQpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yOSA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I5ID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM2O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSAmJiBfaXRlcmF0b3I5W1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3I5W1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM4O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0MTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yOTtcblxuXHRcdFx0XHRjYXNlIDQxOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzgpO1xuXG5cdFx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNSk7XG5cblx0XHRcdFx0Y2FzZSA0Mzpcblx0XHRcdFx0XHRpZiAoISghaGFzRWxlbWVudHMgJiYgIWhhc0luaXRpYWxWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0NTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhY2N1bXVsYXRvcik7XG5cblx0XHRcdFx0Y2FzZSA0Njpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxNCwgMzEsIDM1LCA0M10sIFszNiwsIDM4LCA0Ml1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJyZXZlcnNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBsZW5ndGgsIG1pZGRsZSwgbG93ZXIsIHVwcGVyLCB1cHBlclZhbHVlLCBsb3dlclZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRtaWRkbGUgPSBNYXRoLmZsb29yKGxlbmd0aCAvIDIpO1xuXHRcdFx0XHRcdGxvd2VyID0gMDtcblx0XHRcdFx0XHR1cHBlciA9IHVuZGVmaW5lZCwgdXBwZXJWYWx1ZSA9IHVuZGVmaW5lZCwgbG93ZXJWYWx1ZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdHdoaWxlIChsb3dlciAhPT0gbWlkZGxlKSB7XG5cdFx0XHRcdFx0XHR1cHBlciA9IGxlbmd0aCAtIGxvd2VyIC0gMTtcblx0XHRcdFx0XHRcdGxvd2VyVmFsdWUgPSB0aGlzLm5vZGUuaGFzKGxvd2VyKSAmJiB0aGlzLm5vZGUuZ2V0VmFsdWUobG93ZXIpO1xuXHRcdFx0XHRcdFx0dXBwZXJWYWx1ZSA9IHRoaXMubm9kZS5oYXModXBwZXIpICYmIHRoaXMubm9kZS5nZXRWYWx1ZSh1cHBlcik7XG5cblx0XHRcdFx0XHRcdGlmICh1cHBlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZShsb3dlciwgdXBwZXJWYWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChsb3dlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZSh1cHBlciwgbG93ZXJWYWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmICh1cHBlclZhbHVlICYmICFsb3dlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eSh1cHBlcik7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGxvd2VyVmFsdWUgJiYgIXVwcGVyVmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGxvd2VyKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bG93ZXIrKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDAsIFwiQXJyYXkucHJvdG90eXBlLnJldmVyc2VcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNvcnRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY29tcGFyZUZ1bmN0aW9uKSB7XG5cdFx0dmFyIGV4ZWN1dGlvbkNvbnRleHQsIGFyciwgbGVuZ3RoLCBpLCBjb21wYXJlciwgc29ydGVkQXJyYXk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGV4ZWN1dGlvbkNvbnRleHQgPSB0aGlzO1xuXHRcdFx0XHRcdGFyciA9IHRoaXMubm9kZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRjb21wYXJlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQoY29tcGFyZUZ1bmN0aW9uKSkge1xuXHRcdFx0XHRcdFx0Y29tcGFyZXIgPSBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyZXIoYSwgYikge1xuXHRcdFx0XHRcdFx0XHRhID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGEpKTtcblx0XHRcdFx0XHRcdFx0YiA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShiKSk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGEgPCBiKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKGEgPiBiKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gMDtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbXBhcmVyID0gZnVuY3Rpb24gKGEsIGIpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHNjb3BlID0gZW52LmNyZWF0ZVNjb3BlKF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblx0XHRcdFx0XHRcdFx0c2NvcGUuaW5pdChjb21wYXJlRnVuY3Rpb24ubm9kZS5ib2R5KTtcblxuXHRcdFx0XHRcdFx0XHQoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoc2NvcGUubG9hZEFyZ3MoY29tcGFyZUZ1bmN0aW9uLm5vZGUucGFyYW1zLCBbYSwgYl0sIGNvbXBhcmVGdW5jdGlvbikpO1xuXHRcdFx0XHRcdFx0XHR2YXIgZXhlY3V0aW9uUmVzdWx0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHNjb3BlLnVzZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShleGVjdXRpb25Db250ZXh0LmNyZWF0ZShjb21wYXJlRnVuY3Rpb24ubm9kZS5ib2R5LCBjb21wYXJlRnVuY3Rpb24ubm9kZSkuZXhlY3V0ZSgpKTtcblx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LmV4aXQgJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBleGVjdXRpb25SZXN1bHQucmVzdWx0LmdldFZhbHVlKCkudG9OYXRpdmUoKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIHRvIGFycmF5LCBydW4gdGhlIHdyYXBwZWQgY29tcGFyZXIsIHRoZW4gcmUtYXNzaWduIGluZGV4ZXNcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9BcnJheSkoYXJyLCBsZW5ndGgpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbC5pc1ByaW1pdGl2ZSAmJiBlbC52YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogZWw7XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29tcGFyZXI7XG5cdFx0XHRcdFx0c29ydGVkQXJyYXkgPSBjb250ZXh0JDIkMC5zZW50LlxuXHRcdFx0XHRcdC8vIHVuZGVmaW5lZCBwb3NpdGlvbnMgYXJlIGhhbmRsZWQgYnkgdGhlIHVuZGVybHlpbmcgc29ydCBhbGdvcml0aG0sIHNvIHJlcGxhY2UgdGhlbSB3aXRoIHRoZSByYXcgcHJpbWl0aXZlIHZhbHVlXG5cdFx0XHRcdFx0bWFwKGNvbnRleHQkMiQwLnQwKS5zb3J0KGNvbnRleHQkMiQwLnQxKTtcblxuXHRcdFx0XHRcdHdoaWxlIChpIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRpZiAoaSBpbiBzb3J0ZWRBcnJheSkge1xuXHRcdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoaSwgc29ydGVkQXJyYXlbaV0sIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YXJyLmRlbGV0ZVByb3BlcnR5KGksIGZhbHNlKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnNvcnRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRvTG9jYWxlU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBsZW5ndGgsIGFyciwgaSwgY3VycmVudDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YXJyID0gbmV3IEFycmF5KGxlbmd0aCk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0Y3VycmVudCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0aWYgKCEoaSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlLmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y3VycmVudCA9IHRoaXMubm9kZS5nZXRWYWx1ZShpKTtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKGN1cnJlbnQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhcnJbaV0gPSBcIlwiO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkoY3VycmVudCwgXCJ0b0xvY2FsZVN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGFycltpXSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblxuXHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoYXJyLmpvaW4oKSkpO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJBcnJheS5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmdcIikpO1xuXG5cdC8vIHRvZG86IHRoaXMgaXMgYSBiaXQgaGFja3kgLSB0b1N0cmluZyB3aWxsIGNhbGwgam9pbiBpZiBhdmFpbGFibGUgcGVyIHNwZWMsXG5cdC8vIGJ1dCB3aWxsIGNhbGwgT2JqZWN0Li50b1N0cmluZyBpZiBub3Rcblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oam9pbiwgMCwgXCJBcnJheS5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiQXJyYXlcIiwgYXJyYXlDbGFzcyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYm9vbGVhbkFwaTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gYm9vbGVhbkFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJCb29sZWFuXCI7XG5cdHByb3RvLnZhbHVlID0gZmFsc2U7XG5cblx0dmFyIGJvb2xlYW5DbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdHZhciBib29sZWFuVmFsdWUgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikob2JqKTtcblxuXHRcdC8vIGNhbGxlZCBhcyBuZXdcblx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUucHJpbWl0aXZlVG9PYmplY3QpKGVudiwgYm9vbGVhblZhbHVlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJCb29sZWFuXCIsIGJvb2xlYW5WYWx1ZSk7XG5cdH0sIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIkJvb2xlYW5cIiwgXCJCb29sZWFuLnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nKHRoaXMubm9kZS52YWx1ZSkpO1xuXHR9LCAwLCBcIkJvb2xlYW4ucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJCb29sZWFuXCIsIFwiQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZlwiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlKTtcblx0fSwgMCwgXCJCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mXCIpKTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiQm9vbGVhblwiLCBib29sZWFuQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbnNvbGVBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBtZXRob2RzID0gW1wibG9nXCIsIFwiaW5mb1wiLCBcImVycm9yXCIsIFwid2FyblwiXTtcblxuZnVuY3Rpb24gY29uc29sZUFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBjb25zb2xlQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGNvbnNvbGVDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0XHRhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3RyaW5nVmFsdWVzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGFyZ3MsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0c3RyaW5nVmFsdWVzID0gY29udGV4dCQzJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0Y29uc29sZVtuYW1lXS5hcHBseShjb25zb2xlLCBfdG9Db25zdW1hYmxlQXJyYXkoc3RyaW5nVmFsdWVzKSk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIDEsIFwiY29uc29sZS5cIiArIG5hbWUpKTtcblx0fSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcImNvbnNvbGVcIiwgY29uc29sZUNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdG8tY29uc3VtYWJsZS1hcnJheVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfYmluZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvYmluZFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBkYXRlQXBpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgc3RhdGljTWV0aG9kcyA9IFtcIm5vd1wiXTtcbnZhciBwcm90b01ldGhvZHMgPSBbXCJnZXREYXRlXCIsIFwiZ2V0RGF5XCIsIFwiZ2V0RnVsbFllYXJcIiwgXCJnZXRIb3Vyc1wiLCBcImdldE1pbGxpc2Vjb25kc1wiLCBcImdldE1pbnV0ZXNcIiwgXCJnZXRNb250aFwiLCBcImdldE1pbGxpc2Vjb25kc1wiLCBcImdldE1pbnV0ZXNcIiwgXCJnZXRNb250aFwiLCBcImdldFNlY29uZHNcIiwgXCJnZXRUaW1lXCIsIFwiZ2V0VGltZXpvbmVPZmZzZXRcIiwgXCJnZXRVVENEYXlcIiwgXCJnZXRVVENEYXRlXCIsIFwiZ2V0VVRDRnVsbFllYXJcIiwgXCJnZXRVVENIb3Vyc1wiLCBcImdldFVUQ01pbGxpc2Vjb25kc1wiLCBcImdldFVUQ01pbnV0ZXNcIiwgXCJnZXRVVENNb250aFwiLCBcImdldFVUQ1NlY29uZHNcIiwgXCJnZXRZZWFyXCIsIFwidG9EYXRlU3RyaW5nXCIsIFwidG9HTVRTdHJpbmdcIiwgXCJ0b0lTT1N0cmluZ1wiLCBcInRvSlNPTlwiLCBcInRvTG9jYWxlU3RyaW5nXCIsIFwidG9Mb2NhbGVEYXRlU3RyaW5nXCIsIFwidG9Mb2NhbGVUaW1lU3RyaW5nXCIsIFwidG9TdHJpbmdcIiwgXCJ0b1RpbWVTdHJpbmdcIiwgXCJ0b1VUQ1N0cmluZ1wiXTtcbnZhciBzZXR0ZXJzID0gW1wic2V0RGF0ZVwiLCBcInNldEZ1bGxZZWFyXCIsIFwic2V0SG91cnNcIiwgXCJzZXRNaWxsaXNlY29uZHNcIiwgXCJzZXRNaW51dGVzXCIsIFwic2V0TW9udGhcIiwgXCJzZXRTZWNvbmRzXCIsIFwic2V0VGltZVwiLCBcInNldFVUQ0RhdGVcIiwgXCJzZXRVVENGdWxsWWVhclwiLCBcInNldFVUQ0hvdXJzXCIsIFwic2V0VVRDTWlsbGlzZWNvbmRzXCIsIFwic2V0VVRDTWludXRlc1wiLCBcInNldFVUQ01vbnRoXCIsIFwic2V0VVRDU2Vjb25kc1wiLCBcInNldFllYXJcIl07XG5cbmZ1bmN0aW9uIGRhdGVBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBwcm90byA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRGF0ZVwiO1xuXHRwcm90by52YWx1ZSA9IG5ldyBEYXRlKDApO1xuXG5cdHZhciBkYXRlQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHAxLCBwMiwgcDMsIHA0LCBwNSwgcDYsIHA3KSB7XG5cdFx0dmFyIGRhdGVWYWx1ZSxcblx0XHQgICAgYXJncyxcblx0XHQgICAgcHJpbWl0aXZlVmFsdWUsXG5cdFx0ICAgIGksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRkYXRlVmFsdWUgPSB1bmRlZmluZWQsIGFyZ3MgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShhcmdzJDIkMC5sZW5ndGggPT09IDApKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSBbXTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghcDEuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSBbcDEudmFsdWVdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkocDEpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0cHJpbWl0aXZlVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIHByaW1pdGl2ZVZhbHVlICE9PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShwMSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblxuXHRcdFx0XHRcdGFyZ3MgPSBbcHJpbWl0aXZlVmFsdWVdO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncyQyJDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGFyZywgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKSwgXCJ0MFwiLCAyMSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gYXJncy5sZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IGNvbnRleHQkMiQwLnQxID09PSAwID8gMjYgOiBjb250ZXh0JDIkMC50MSA9PT0gMSA/IDI4IDogMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAzNCk7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBuZXcgRGF0ZShhcmdzWzBdKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMzQpO1xuXG5cdFx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdFx0aSA9IGFyZ3MubGVuZ3RoO1xuXG5cdFx0XHRcdFx0d2hpbGUgKGkgPCA3KSB7XG5cdFx0XHRcdFx0XHQvLyBkZWZhdWx0IGRheSB0byAxLCBhbGwgb3RoZXJzIHRvIDBcblx0XHRcdFx0XHRcdGFyZ3NbaSsrXSA9IGkgPT09IDMgPyAxIDogMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBuZXcgKF9iaW5kLmFwcGx5KERhdGUsIFtudWxsXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKSkpKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImJyZWFrXCIsIDM0KTtcblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJEYXRlXCIsIGRhdGVWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBEYXRlLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRhdGVWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgcHJvdG8sIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRkYXRlQ2xhc3MuZGVmaW5lKFwicGFyc2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIGRhdGVWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKHZhbHVlLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IERhdGUucGFyc2Uoc3RyaW5nVmFsdWUpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRGF0ZS5wcm90b3R5cGUucGFyc2VcIikpO1xuXG5cdGRhdGVDbGFzcy5kZWZpbmUoXCJVVENcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIGFyZ3MsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDIkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoYXJnLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmdzKSkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCA3LCBcIkRhdGUucHJvdG90eXBlLlVUQ1wiKSk7XG5cblx0c3RhdGljTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0ZGF0ZUNsYXNzLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgRGF0ZVtuYW1lXSwgXCJEYXRlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRwcm90b01ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdHByb3RvLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgRGF0ZS5wcm90b3R5cGVbbmFtZV0sIFwiRGF0ZS5wcm90b3R5cGUuXCIgKyBuYW1lKSk7XG5cdH0pO1xuXG5cdHNldHRlcnMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdHZhciBtYXJrZWQyJDAgPSBbc2V0dGVyXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHRcdGZ1bmN0aW9uIHNldHRlcigpIHtcblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0ICAgIGFyZ3MkMyQwID0gYXJndW1lbnRzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXR0ZXIkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncyQzJDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMyQwLnQwO1xuXG5cdFx0XHRcdFx0XHREYXRlLnByb3RvdHlwZVtuYW1lXS5hcHBseSh0aGlzLm5vZGUudmFsdWUsIGFyZ3MpO1xuXG5cdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIG1hcmtlZDIkMFswXSwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKHNldHRlciwgRGF0ZS5wcm90b3R5cGVbbmFtZV0ubGVuZ3RoLCBcIkRhdGUucHJvdG90eXBlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlLnZhbHVlT2YoKSk7XG5cdH0sIDAsIFwiRGF0ZS5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkRhdGVcIiwgZGF0ZUNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZXJyb3JBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBlcnJvclR5cGVzID0gW1wiVHlwZUVycm9yXCIsIFwiUmVmZXJlbmNlRXJyb3JcIiwgXCJTeW50YXhFcnJvclwiLCBcIlJhbmdlRXJyb3JcIiwgXCJVUklFcnJvclwiLCBcIkV2YWxFcnJvclwiXTtcblxuZnVuY3Rpb24gZXJyb3JBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBwcm90byA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRXJyb3JcIjtcblx0cHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIkVycm9yXCIpKTtcblx0cHJvdG8uZGVmaW5lKFwibWVzc2FnZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlwiKSk7XG5cblx0dmFyIGVycm9yQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG1lc3NhZ2UpIHtcblx0XHR2YXIgbWVzc2FnZVN0cmluZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bWVzc2FnZVN0cmluZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQobWVzc2FnZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKG1lc3NhZ2UpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkVycm9yXCIsIG5ldyBFcnJvcihtZXNzYWdlU3RyaW5nKSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBuYW1lLCBtc2c7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdG5hbWUgPSB0aGlzLm5vZGUuZ2V0VmFsdWUoXCJuYW1lXCIpO1xuXHRcdFx0XHRcdG1zZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlLmhhcyhcIm1lc3NhZ2VcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZS5nZXRWYWx1ZShcIm1lc3NhZ2VcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRtc2cgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IG5hbWU7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRleHQkMiQwLnQwKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKG5hbWUpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0bmFtZSA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKCEobmFtZSAmJiBtc2cpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3RyaW5nXCIsIG5hbWUgKyBcIjogXCIgKyBtc2cpKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTdHJpbmdcIiwgbmFtZSB8fCBtc2cpKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDAsIFwiRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiRXJyb3JcIiwgZXJyb3JDbGFzcyk7XG5cblx0ZXJyb3JUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvclR5cGUpIHtcblx0XHR2YXIgdHlwZVByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHR0eXBlUHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlcnJvclR5cGUpKTtcblxuXHRcdC8vIGFkZCB0byBwcm90b3R5cGUgY2hhaW4gdG8gcmVwcmVzZW50IGluaGVyaXRhbmNlXG5cdFx0dHlwZVByb3RvLnNldFByb3RvdHlwZShwcm90byk7XG5cblx0XHR2YXIgZXJyQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKG1lc3NhZ2UpIHtcblx0XHRcdHZhciBtZXNzYWdlU3RyaW5nLCBuYXRpdmVFcnJvcjtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShtZXNzYWdlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdG1lc3NhZ2VTdHJpbmcgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0bmF0aXZlRXJyb3IgPSBuZXcgZ2xvYmFsW2Vycm9yVHlwZV0obWVzc2FnZVN0cmluZyk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKGVycm9yVHlwZSwgbmF0aXZlRXJyb3IpKTtcblxuXHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHR9KSwgdHlwZVByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKGVycm9yVHlwZSwgZXJyQ2xhc3MpO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5OeVl5OWxjelV2WlhKeWIzSXZhVzVrWlhndWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklsd2lkWE5sSUhOMGNtbGpkRndpTzF4dVhHNTJZWElnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eVhDSXBXMXdpWkdWbVlYVnNkRndpWFR0Y2JseHVkbUZ5SUY5cGJuUmxjbTl3VW1WeGRXbHlaVmRwYkdSallYSmtJRDBnY21WeGRXbHlaU2hjSW1KaFltVnNMWEoxYm5ScGJXVXZhR1ZzY0dWeWN5OXBiblJsY205d0xYSmxjWFZwY21VdGQybHNaR05oY21SY0lpbGJYQ0prWldaaGRXeDBYQ0pkTzF4dVhHNVBZbXBsWTNRdVpHVm1hVzVsVUhKdmNHVnlkSGtvWlhod2IzSjBjeXdnWENKZlgyVnpUVzlrZFd4bFhDSXNJSHRjYmx4MGRtRnNkV1U2SUhSeWRXVmNibjBwTzF4dVpYaHdiM0owYzF0Y0ltUmxabUYxYkhSY0lsMGdQU0JsY25KdmNrRndhVHRjYmx4dWRtRnlJRjkxZEdsc2MwNWhkR2wyWlNBOUlISmxjWFZwY21Vb1hDSXVMaTh1TGk5MWRHbHNjeTl1WVhScGRtVmNJaWs3WEc1Y2JuWmhjaUJmZFhScGJITkRiMjUwY21GamRITWdQU0J5WlhGMWFYSmxLRndpTGk0dkxpNHZkWFJwYkhNdlkyOXVkSEpoWTNSelhDSXBPMXh1WEc1MllYSWdZMjl1ZEhKaFkzUnpJRDBnWDJsdWRHVnliM0JTWlhGMWFYSmxWMmxzWkdOaGNtUW9YM1YwYVd4elEyOXVkSEpoWTNSektUdGNibHh1ZG1GeUlHVnljbTl5Vkhsd1pYTWdQU0JiWENKVWVYQmxSWEp5YjNKY0lpd2dYQ0pTWldabGNtVnVZMlZGY25KdmNsd2lMQ0JjSWxONWJuUmhlRVZ5Y205eVhDSXNJRndpVW1GdVoyVkZjbkp2Y2x3aUxDQmNJbFZTU1VWeWNtOXlYQ0lzSUZ3aVJYWmhiRVZ5Y205eVhDSmRPMXh1WEc1bWRXNWpkR2x2YmlCbGNuSnZja0Z3YVNobGJuWXBJSHRjYmx4MGRtRnlJR2RzYjJKaGJFOWlhbVZqZENBOUlHVnVkaTVuYkc5aVlXdzdYRzVjZEhaaGNpQnZZbXBsWTNSR1lXTjBiM0o1SUQwZ1pXNTJMbTlpYW1WamRFWmhZM1J2Y25rN1hHNWNibHgwZG1GeUlIQnliM1J2SUQwZ2IySnFaV04wUm1GamRHOXllUzVqY21WaGRHVlBZbXBsWTNRb0tUdGNibHgwY0hKdmRHOHVZMnhoYzNOT1lXMWxJRDBnWENKRmNuSnZjbHdpTzF4dVhIUndjbTkwYnk1a1pXWnBibVVvWENKdVlXMWxYQ0lzSUc5aWFtVmpkRVpoWTNSdmNua3VZM0psWVhSbFVISnBiV2wwYVhabEtGd2lSWEp5YjNKY0lpa3BPMXh1WEhSd2NtOTBieTVrWldacGJtVW9YQ0p0WlhOellXZGxYQ0lzSUc5aWFtVmpkRVpoWTNSdmNua3VZM0psWVhSbFVISnBiV2wwYVhabEtGd2lYQ0lwS1R0Y2JseHVYSFIyWVhJZ1pYSnliM0pEYkdGemN5QTlJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsUm5WdVkzUnBiMjRvWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1dFlYSnJLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXhKREFvYldWemMyRm5aU2tnZTF4dVhIUmNkSFpoY2lCdFpYTnpZV2RsVTNSeWFXNW5PMXh1WEhSY2RISmxkSFZ5YmlCZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExuZHlZWEFvWm5WdVkzUnBiMjRnWTJGc2JHVmxKREVrTUNRb1kyOXVkR1Y0ZENReUpEQXBJSHRjYmx4MFhIUmNkSGRvYVd4bElDZ3hLU0J6ZDJsMFkyZ2dLR052Ym5SbGVIUWtNaVF3TG5CeVpYWWdQU0JqYjI1MFpYaDBKRElrTUM1dVpYaDBLU0I3WEc1Y2RGeDBYSFJjZEdOaGMyVWdNRHBjYmx4MFhIUmNkRngwWEhSdFpYTnpZV2RsVTNSeWFXNW5JRDBnZFc1a1pXWnBibVZrTzF4dVhHNWNkRngwWEhSY2RGeDBhV1lnS0dOdmJuUnlZV04wY3k1cGMwNTFiR3hQY2xWdVpHVm1hVzVsWkNodFpYTnpZV2RsS1NrZ2UxeHVYSFJjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ0E5SURVN1hHNWNkRngwWEhSY2RGeDBYSFJpY21WaGF6dGNibHgwWEhSY2RGeDBYSFI5WEc1Y2JseDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzV1WlhoMElEMGdORHRjYmx4MFhIUmNkRngwWEhSeVpYUjFjbTRnS0RBc0lGOTFkR2xzYzA1aGRHbDJaUzUwYjFOMGNtbHVaeWtvYldWemMyRm5aU2s3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0EwT2x4dVhIUmNkRngwWEhSY2RHMWxjM05oWjJWVGRISnBibWNnUFNCamIyNTBaWGgwSkRJa01DNXpaVzUwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTlRwY2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENReUpEQXVZV0p5ZFhCMEtGd2ljbVYwZFhKdVhDSXNJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsS0Z3aVJYSnliM0pjSWl3Z2JtVjNJRVZ5Y205eUtHMWxjM05oWjJWVGRISnBibWNwS1NrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBMk9seHVYSFJjZEZ4MFhIUmpZWE5sSUZ3aVpXNWtYQ0k2WEc1Y2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xuTjBiM0FvS1R0Y2JseDBYSFJjZEgxY2JseDBYSFI5TENCallXeHNaV1VrTVNRd0xDQjBhR2x6S1R0Y2JseDBmU2tzSUhCeWIzUnZMQ0I3SUdOdmJtWnBaM1Z5WVdKc1pUb2dabUZzYzJVc0lHVnVkVzFsY21GaWJHVTZJR1poYkhObExDQjNjbWwwWVdKc1pUb2dabUZzYzJVZ2ZTazdYRzVjYmx4MGNISnZkRzh1WkdWbWFXNWxLRndpZEc5VGRISnBibWRjSWl3Z2IySnFaV04wUm1GamRHOXllUzVqY21WaGRHVkNkV2xzZEVsdVJuVnVZM1JwYjI0b1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTNXRZWEpyS0daMWJtTjBhVzl1SUdOaGJHeGxaU1F4SkRBb0tTQjdYRzVjZEZ4MGRtRnlJRzVoYldVc0lHMXpaenRjYmx4MFhIUnlaWFIxY200Z1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTNTNjbUZ3S0daMWJtTjBhVzl1SUdOaGJHeGxaU1F4SkRBa0tHTnZiblJsZUhRa01pUXdLU0I3WEc1Y2RGeDBYSFIzYUdsc1pTQW9NU2tnYzNkcGRHTm9JQ2hqYjI1MFpYaDBKRElrTUM1d2NtVjJJRDBnWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ2tnZTF4dVhIUmNkRngwWEhSallYTmxJREE2WEc1Y2RGeDBYSFJjZEZ4MGJtRnRaU0E5SUhSb2FYTXVibTlrWlM1blpYUldZV3gxWlNoY0ltNWhiV1ZjSWlrN1hHNWNkRngwWEhSY2RGeDBiWE5uSUQwZ2RXNWtaV1pwYm1Wa08xeHVYRzVjZEZ4MFhIUmNkRngwYVdZZ0tDRjBhR2x6TG01dlpHVXVhR0Z6S0Z3aWJXVnpjMkZuWlZ3aUtTa2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFkyOXVkR1Y0ZENReUpEQXVibVY0ZENBOUlEWTdYRzVjZEZ4MFhIUmNkRngwWEhSaWNtVmhhenRjYmx4MFhIUmNkRngwWEhSOVhHNWNibHgwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRElrTUM1dVpYaDBJRDBnTlR0Y2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z0tEQXNJRjkxZEdsc2MwNWhkR2wyWlM1MGIxTjBjbWx1Wnlrb2RHaHBjeTV1YjJSbExtZGxkRlpoYkhWbEtGd2liV1Z6YzJGblpWd2lLU2s3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0ExT2x4dVhIUmNkRngwWEhSY2RHMXpaeUE5SUdOdmJuUmxlSFFrTWlRd0xuTmxiblE3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0EyT2x4dVhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMblF3SUQwZ2JtRnRaVHRjYmx4dVhIUmNkRngwWEhSY2RHbG1JQ2doWTI5dWRHVjRkQ1F5SkRBdWREQXBJSHRjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMbTVsZUhRZ1BTQXhNVHRjYmx4MFhIUmNkRngwWEhSY2RHSnlaV0ZyTzF4dVhIUmNkRngwWEhSY2RIMWNibHh1WEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBeE1EdGNibHgwWEhSY2RGeDBYSFJ5WlhSMWNtNGdLREFzSUY5MWRHbHNjMDVoZEdsMlpTNTBiMU4wY21sdVp5a29ibUZ0WlNrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBeE1EcGNibHgwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRElrTUM1ME1DQTlJR052Ym5SbGVIUWtNaVF3TG5ObGJuUTdYRzVjYmx4MFhIUmNkRngwWTJGelpTQXhNVHBjYmx4MFhIUmNkRngwWEhSdVlXMWxJRDBnWTI5dWRHVjRkQ1F5SkRBdWREQTdYRzVjYmx4MFhIUmNkRngwWEhScFppQW9JU2h1WVcxbElDWW1JRzF6WnlrcElIdGNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBeE5EdGNibHgwWEhSY2RGeDBYSFJjZEdKeVpXRnJPMXh1WEhSY2RGeDBYSFJjZEgxY2JseHVYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpESWtNQzVoWW5KMWNIUW9YQ0p5WlhSMWNtNWNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdVb1hDSlRkSEpwYm1kY0lpd2dibUZ0WlNBcklGd2lPaUJjSWlBcklHMXpaeWtwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTVRRNlhHNWNkRngwWEhSY2RGeDBjbVYwZFhKdUlHTnZiblJsZUhRa01pUXdMbUZpY25Wd2RDaGNJbkpsZEhWeWJsd2lMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlNoY0lsTjBjbWx1WjF3aUxDQnVZVzFsSUh4OElHMXpaeWtwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTVRVNlhHNWNkRngwWEhSY2RHTmhjMlVnWENKbGJtUmNJanBjYmx4MFhIUmNkRngwWEhSeVpYUjFjbTRnWTI5dWRHVjRkQ1F5SkRBdWMzUnZjQ2dwTzF4dVhIUmNkRngwZlZ4dVhIUmNkSDBzSUdOaGJHeGxaU1F4SkRBc0lIUm9hWE1wTzF4dVhIUjlLU3dnTUN3Z1hDSkZjbkp2Y2k1d2NtOTBiM1I1Y0dVdWRHOVRkSEpwYm1kY0lpa3BPMXh1WEc1Y2RHZHNiMkpoYkU5aWFtVmpkQzVrWldacGJtVW9YQ0pGY25KdmNsd2lMQ0JsY25KdmNrTnNZWE56S1R0Y2JseHVYSFJsY25KdmNsUjVjR1Z6TG1admNrVmhZMmdvWm5WdVkzUnBiMjRnS0dWeWNtOXlWSGx3WlNrZ2UxeHVYSFJjZEhaaGNpQjBlWEJsVUhKdmRHOGdQU0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlU5aWFtVmpkQ2dwTzF4dVhIUmNkSFI1Y0dWUWNtOTBieTVrWldacGJtVW9YQ0p1WVcxbFhDSXNJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsVUhKcGJXbDBhWFpsS0dWeWNtOXlWSGx3WlNrcE8xeHVYRzVjZEZ4MEx5OGdZV1JrSUhSdklIQnliM1J2ZEhsd1pTQmphR0ZwYmlCMGJ5QnlaWEJ5WlhObGJuUWdhVzVvWlhKcGRHRnVZMlZjYmx4MFhIUjBlWEJsVUhKdmRHOHVjMlYwVUhKdmRHOTBlWEJsS0hCeWIzUnZLVHRjYmx4dVhIUmNkSFpoY2lCbGNuSkRiR0Z6Y3lBOUlHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxSblZ1WTNScGIyNG9YM0psWjJWdVpYSmhkRzl5VW5WdWRHbHRaUzV0WVhKcktHWjFibU4wYVc5dUlHTmhiR3hsWlNReUpEQW9iV1Z6YzJGblpTa2dlMXh1WEhSY2RGeDBkbUZ5SUcxbGMzTmhaMlZUZEhKcGJtY3NJRzVoZEdsMlpVVnljbTl5TzF4dVhIUmNkRngwY21WMGRYSnVJRjl5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1V1ZDNKaGNDaG1kVzVqZEdsdmJpQmpZV3hzWldVa01pUXdKQ2hqYjI1MFpYaDBKRE1rTUNrZ2UxeHVYSFJjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpETWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXpKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJjZEdOaGMyVWdNRHBjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa015UXdMbTVsZUhRZ1BTQXlPMXh1WEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUNnd0xDQmZkWFJwYkhOT1lYUnBkbVV1ZEc5VGRISnBibWNwS0cxbGMzTmhaMlVwTzF4dVhHNWNkRngwWEhSY2RGeDBZMkZ6WlNBeU9seHVYSFJjZEZ4MFhIUmNkRngwYldWemMyRm5aVk4wY21sdVp5QTlJR052Ym5SbGVIUWtNeVF3TG5ObGJuUTdYRzVjZEZ4MFhIUmNkRngwWEhSdVlYUnBkbVZGY25KdmNpQTlJRzVsZHlCbmJHOWlZV3hiWlhKeWIzSlVlWEJsWFNodFpYTnpZV2RsVTNSeWFXNW5LVHRjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRNa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1VvWlhKeWIzSlVlWEJsTENCdVlYUnBkbVZGY25KdmNpa3BPMXh1WEc1Y2RGeDBYSFJjZEZ4MFkyRnpaU0ExT2x4dVhIUmNkRngwWEhSY2RHTmhjMlVnWENKbGJtUmNJanBjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRNa01DNXpkRzl3S0NrN1hHNWNkRngwWEhSY2RIMWNibHgwWEhSY2RIMHNJR05oYkd4bFpTUXlKREFzSUhSb2FYTXBPMXh1WEhSY2RIMHBMQ0IwZVhCbFVISnZkRzhzSUhzZ1kyOXVabWxuZFhKaFlteGxPaUJtWVd4elpTd2daVzUxYldWeVlXSnNaVG9nWm1Gc2MyVXNJSGR5YVhSaFlteGxPaUJtWVd4elpTQjlLVHRjYmx4dVhIUmNkR2RzYjJKaGJFOWlhbVZqZEM1a1pXWnBibVVvWlhKeWIzSlVlWEJsTENCbGNuSkRiR0Z6Y3lrN1hHNWNkSDBwTzF4dWZWeHVYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJR1Y0Y0c5eWRITmJYQ0prWldaaGRXeDBYQ0pkT3lKZGZRPT0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb25BcGk7XG5cbnZhciBfdHlwZXNOYXRpdmVGdW5jdGlvblR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvbmF0aXZlLWZ1bmN0aW9uLXR5cGVcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIGRlZmluZVRoaXMoZW52LCBmbiwgdGhpc0FyZykge1xuXHRpZiAoZm4uYnVpbHRJbiB8fCBmbi5pc1N0cmljdCgpKSB7XG5cdFx0cmV0dXJuIHRoaXNBcmcgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH1cblxuXHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXNBcmcpKSB7XG5cdFx0cmV0dXJuIGVudi5nbG9iYWw7XG5cdH1cblxuXHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzQXJnKTtcbn1cblxudmFyIGZyb3plbiA9IHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9O1xuXG5mdW5jdGlvbiBmdW5jdGlvbkFwaShlbnYpIHtcblx0dmFyIG9wdGlvbnMgPSBlbnYub3B0aW9ucztcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIGZ1bmNDbGFzcyA9IHVuZGVmaW5lZDtcblxuXHR2YXIgZnVuY0N0b3IgPSBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZnVuY0N0b3IoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIGZ1bmNJbnN0YW5jZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZ1bmNDdG9yJChjb250ZXh0JDIkMCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGZ1bmNJbnN0YW5jZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghKG9wdGlvbnMucGFyc2VyICYmIGFyZ3MubGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgYm9keSwgcGFyYW1zLCBib2R5U3RyaW5nLCBhc3QsIGNhbGxlZSwgdXNlck5vZGUsIHN0cmljdCwgd3JhcHBlZEZ1bmM7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Ym9keSA9IGFyZ3MucG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJhbXMgPSBcIlwiO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShhcmdzLmxlbmd0aCA+IDApKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoYXJnLCBpbmRleCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsKGFyZykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gbnVsbFwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChhcmcpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC50MCA9IFwiXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAudDAgPSBjb250ZXh0JDQkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAudDApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJhbXMgPSBjb250ZXh0JDMkMC5zZW50LlxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gdGhlIHNwZWMgYWxsb3dzIHBhcmFtZXRlcnMgdG8gYmUgY29tbWEtZGVsaW1pdGVkLCBzbyB3ZSB3aWxsIGpvaW4gYW5kIHNwbGl0IGFnYWluIGNvbW1hXG5cdFx0XHRcdFx0XHRcdFx0XHRqb2luKFwiLFwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGJvZHkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0XHRcdFx0Ym9keVN0cmluZyA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRhc3QgPSBvcHRpb25zLnBhcnNlcihcIihmdW5jdGlvbihcIiArIHBhcmFtcyArIFwiKXtcIiArIGJvZHlTdHJpbmcgKyBcIn0pLmFwcGx5KCR0aGlzLCRhcmdzKTtcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYWxsZWUgPSBhc3QuYm9keVswXS5leHByZXNzaW9uLmNhbGxlZS5vYmplY3Q7XG5cdFx0XHRcdFx0XHRcdFx0XHR1c2VyTm9kZSA9IGNhbGxlZS5ib2R5LmJvZHk7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdHJpY3QgPSBjb250cmFjdHMuaXNTdHJpY3ROb2RlKHVzZXJOb2RlKTtcblx0XHRcdFx0XHRcdFx0XHRcdHdyYXBwZWRGdW5jID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHdyYXBwZWRGdW5jKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgdGhpc0FyZyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICRhcmdzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgZXhlY3V0aW9uUmVzdWx0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgYXJncyQ0JDAgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gd3JhcHBlZEZ1bmMkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdChmdW5jSW5zdGFuY2UpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSB0aGlzLm5vZGU7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXNBcmcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBzdHJpY3QgPyBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCA6IGdsb2JhbE9iamVjdDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmVudi5jcmVhdGVWYXJpYWJsZShcIiR0aGlzXCIpLnNldFZhbHVlKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRhcmdzID0gdGhpcy5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheShhcmdzJDQkMCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5lbnYuY3JlYXRlVmFyaWFibGUoXCIkYXJnc1wiKS5zZXRWYWx1ZSgkYXJncyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChhc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDQkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpc0FyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgd3JhcHBlZEZ1bmMsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHdyYXBwZWRGdW5jLm5hdGl2ZUxlbmd0aCA9IGNhbGxlZS5wYXJhbXMubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdFx0d3JhcHBlZEZ1bmMuc3RyaWN0ID0gc3RyaWN0O1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY0luc3RhbmNlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbih3cmFwcGVkRnVuYywgdW5kZWZpbmVkLCB7IHN0cmljdDogc3RyaWN0IH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY0luc3RhbmNlLmJpbmRTY29wZShlbnYuZ2xvYmFsU2NvcGUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCBfdGhpcyk7XG5cdFx0XHRcdFx0fSkoKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGZ1bmNJbnN0YW5jZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY3Rpb24gKCkge30pO1xuXG5cdFx0XHRcdGNhc2UgNjpcblxuXHRcdFx0XHRcdGZ1bmNJbnN0YW5jZS5zZXRWYWx1ZShcImNvbnN0cnVjdG9yXCIsIGZ1bmNDbGFzcyk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmdW5jSW5zdGFuY2UpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgZnVuY0N0b3IsIHRoaXMpO1xuXHR9KTtcblxuXHQvLyB0aGUgcHJvdG90eXBlIG9mIGEgZnVuY3Rpb24gaXMgYWN0dWFsbHkgY2FsbGFibGUgYW5kIGV2YWx1YXRlcyBhcyBhIGZ1bmN0aW9uXG5cdHZhciBwcm90byA9IG5ldyBfdHlwZXNOYXRpdmVGdW5jdGlvblR5cGUuTmF0aXZlRnVuY3Rpb25UeXBlKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0cmV0dXJuIHRoaXMucmFpc2UobmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RveXBlIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH0pO1xuXG5cdGZ1bmNDdG9yLm5hdGl2ZUxlbmd0aCA9IDE7XG5cdGZ1bmNDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY0N0b3IsIHByb3RvLCBmcm96ZW4pO1xuXHRmdW5jQ2xhc3Muc2V0VmFsdWUoXCJjb25zdHJ1Y3RvclwiLCBmdW5jQ2xhc3MpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJGdW5jdGlvblwiLCBmdW5jQ2xhc3MpO1xuXG5cdHByb3RvLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0aWYgKGVudi5vcHRpb25zLmVjbWFWZXJzaW9uID4gNSkge1xuXHRcdHByb3RvLmRlZmluZShcIm5hbWVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJcIiksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHR9XG5cblx0Ly8gZnVuY3Rpb24gaXRzZWxmIGlzIGEgZnVuY3Rpb25cblx0ZnVuY0NsYXNzLnNldFByb3RvdHlwZShwcm90byk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLm5vZGUubmF0aXZlKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJmdW5jdGlvbiAoKSB7IFtuYXRpdmUgY29kZV0gfVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJmdW5jdGlvbiAoKSB7IFt1c2VyIGNvZGVdIH1cIik7XG5cdH0sIDAsIFwiRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJjYWxsXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRoaXNBcmcpIHtcblx0XHRmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdFx0XHRhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHRcdH1cblxuXHRcdHZhciBjYWxsZWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNhbGxlZSA9IHRoaXMubm9kZS5uYXRpdmUgPyB0aGlzLm5vZGUgOiB0aGlzLm5vZGUubm9kZTtcblxuXHRcdFx0XHRcdHRoaXNBcmcgPSBkZWZpbmVUaGlzKGVudiwgdGhpcy5ub2RlLCB0aGlzQXJnKTtcblx0XHRcdFx0XHR0aGlzLm5vZGUuYmluZFRoaXModGhpc0FyZyk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHRoaXMubm9kZSwgYXJncywgdGhpc0FyZywgY2FsbGVlKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRnVuY3Rpb24ucHJvdG90eXBlLmNhbGxcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImFwcGx5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRoaXNBcmcsIGFyZ3NBcnJheSkge1xuXHRcdHZhciBhcmdzLCBjYWxsZWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghYXJnc0FycmF5KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghKGFyZ3NBcnJheS5jbGFzc05hbWUgIT09IFwiQXJndW1lbnRzXCIgJiYgYXJnc0FycmF5LmNsYXNzTmFtZSAhPT0gXCJBcnJheVwiICYmIGFyZ3NBcnJheS5jbGFzc05hbWUgIT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnJhaXNlKG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbGlzdCB3YXMgd3JvbmcgdHlwZVwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KShhcmdzQXJyYXkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjYWxsZWUgPSB0aGlzLm5vZGUubmF0aXZlID8gdGhpcy5ub2RlIDogdGhpcy5ub2RlLm5vZGU7XG5cblx0XHRcdFx0XHR0aGlzQXJnID0gZGVmaW5lVGhpcyhlbnYsIHRoaXMubm9kZSwgdGhpc0FyZyk7XG5cdFx0XHRcdFx0dGhpcy5ub2RlLmJpbmRUaGlzKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCB0aGlzLm5vZGUsIGFyZ3MsIHRoaXNBcmcsIGNhbGxlZSksIFwidDBcIiwgMTApO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiYmluZFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0aGlzQXJnKSB7XG5cdFx0Zm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMgPiAxID8gX2xlbjMgLSAxIDogMCksIF9rZXkzID0gMTsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuXHRcdFx0YXJnc1tfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTtcblx0XHR9XG5cblx0XHR2YXIgZm4sIGNhbGxlZSwgcGFyYW1zLCBuYXRpdmVGdW5jLCBib3VuZEZ1bmMsIF90aHJvd2VyO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGZuID0gdGhpcy5ub2RlO1xuXHRcdFx0XHRcdGNhbGxlZSA9IGZuLm5hdGl2ZSA/IGZuIDogZm4ubm9kZTtcblx0XHRcdFx0XHRwYXJhbXMgPSBjYWxsZWUucGFyYW1zIHx8IFtdO1xuXG5cdFx0XHRcdFx0dGhpc0FyZyA9IGRlZmluZVRoaXMoZW52LCB0aGlzLm5vZGUsIHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0bmF0aXZlRnVuYyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBuYXRpdmVGdW5jKCkge1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhZGRpdGlvbmFsQXJncyA9IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG5cdFx0XHRcdFx0XHRcdGFkZGl0aW9uYWxBcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHZhciBtZXJnZWRBcmdzO1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBuYXRpdmVGdW5jJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdG1lcmdlZEFyZ3MgPSBhcmdzLmNvbmNhdChhZGRpdGlvbmFsQXJncyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIGZuLCBtZXJnZWRBcmdzLCB0aGlzQXJnLCBjYWxsZWUsIHRoaXMuaXNOZXcpLCBcInQwXCIsIDIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC50MCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgbmF0aXZlRnVuYywgdGhpcyk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRuYXRpdmVGdW5jLm5hdGl2ZUxlbmd0aCA9IE1hdGgubWF4KHBhcmFtcy5sZW5ndGggLSBhcmdzLmxlbmd0aCwgMCk7XG5cdFx0XHRcdFx0bmF0aXZlRnVuYy5zdHJpY3QgPSBlbnYuaXNTdHJpY3QoKSB8fCAhZm4ubmF0aXZlICYmIGNvbnRyYWN0cy5pc1N0cmljdE5vZGUoZm4ubm9kZS5ib2R5LmJvZHkpO1xuXG5cdFx0XHRcdFx0Ym91bmRGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihuYXRpdmVGdW5jLCBudWxsKTtcblxuXHRcdFx0XHRcdGJvdW5kRnVuYy5iaW5kU2NvcGUodGhpcy5lbnYuY3VycmVudCk7XG5cdFx0XHRcdFx0Ym91bmRGdW5jLmJpbmRUaGlzKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0aWYgKCFuYXRpdmVGdW5jLnN0cmljdCkge1xuXHRcdFx0XHRcdFx0Ym91bmRGdW5jLnJlbW92ZShcImNhbGxlclwiKTtcblx0XHRcdFx0XHRcdGJvdW5kRnVuYy5yZW1vdmUoXCJhcmd1bWVudHNcIik7XG5cblx0XHRcdFx0XHRcdC8vIHRoZXNlIHdpbGwgYmUgYWRkZWQgaW4gc3RyaWN0IG1vZGUsIGJ1dCBzaG91bGQgYWx3YXlzIGJlIGhlcmUgZm9yIGJvdW5kIGZ1bmN0aW9uc1xuXHRcdFx0XHRcdFx0X3Rocm93ZXIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVRocm93ZXIoXCInY2FsbGVyJywgJ2NhbGxlZScsIGFuZCAnYXJndW1lbnRzJyBwcm9wZXJ0aWVzIG1heSBub3QgYmUgYWNjZXNzZWQgb24gc3RyaWN0IG1vZGUgZnVuY3Rpb25zIG9yIHRoZSBhcmd1bWVudHMgb2JqZWN0cyBmb3IgY2FsbHMgdG8gdGhlbVwiKTtcblxuXHRcdFx0XHRcdFx0Ym91bmRGdW5jLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVyXCIsIF90aHJvd2VyKTtcblx0XHRcdFx0XHRcdGJvdW5kRnVuYy5kZWZpbmVPd25Qcm9wZXJ0eShcImFyZ3VtZW50c1wiLCBfdGhyb3dlcik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBib3VuZEZ1bmMpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZFwiKSk7XG5cblx0dmFyIHRocm93ZXIgPSBmdW5jdGlvbiB0aHJvd2VyKCkge1xuXHRcdGlmICh0aGlzLmlzU3RyaWN0KCkpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCInY2FsbGVyJywgJ2NhbGxlZScsIGFuZCAnYXJndW1lbnRzJyBwcm9wZXJ0aWVzIG1heSBub3QgYmUgYWNjZXNzZWQgb24gc3RyaWN0IG1vZGUgZnVuY3Rpb25zIG9yIHRoZSBhcmd1bWVudHMgb2JqZWN0cyBmb3IgY2FsbHMgdG8gdGhlbVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9O1xuXG5cdHZhciB0aHJvd2VyRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKHRocm93ZXIpO1xuXG5cdHZhciBwcm9wID0ge1xuXHRcdGdldDogdGhyb3dlckZ1bmMsXG5cdFx0Z2V0dGVyOiB0aHJvd2VyLFxuXHRcdHNldDogdGhyb3dlckZ1bmMsXG5cdFx0c2V0dGVyOiB0aHJvd2VyLFxuXHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdGNvbmZpZ3VyYWJsZTogZmFsc2Vcblx0fTtcblxuXHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlclwiLCBwcm9wLCBmYWxzZSwgZW52KTtcblx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZWVcIiwgcHJvcCwgZmFsc2UsIGVudik7XG5cdHByb3RvLmRlZmluZU93blByb3BlcnR5KFwiYXJndW1lbnRzXCIsIHByb3AsIGZhbHNlLCBlbnYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX2VudlJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcmVmZXJlbmNlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXHR2YXIgb3B0aW9ucyA9IGVudi5vcHRpb25zO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJJbmZpbml0eVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShJbmZpbml0eSksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiTmFOXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTiksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdFtcInBhcnNlRmxvYXRcIiwgXCJkZWNvZGVVUklcIiwgXCJlbmNvZGVVUklcIiwgXCJkZWNvZGVVUklDb21wb25lbnRcIiwgXCJlbmNvZGVVUklDb21wb25lbnRcIiwgXCJlc2NhcGVcIiwgXCJ1bmVzY2FwZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0Z2xvYmFsT2JqZWN0LmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCh2YWx1ZSkge1xuXHRcdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHZhbHVlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZ2xvYmFsW25hbWVdKHN0cmluZ1ZhbHVlKSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdH0pLCAxLCBuYW1lKSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJwYXJzZUludFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgcmFkaXgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkocmFkaXgsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyYWRpeCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShwYXJzZUludChzdHJpbmdWYWx1ZSwgcmFkaXgpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwicGFyc2VJbnRcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJpc05hTlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaXNOYU4obnVtYmVyVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiaXNOYU5cIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJpc0Zpbml0ZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaXNGaW5pdGUobnVtYmVyVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiaXNGaW5pdGVcIikpO1xuXG5cdGlmIChvcHRpb25zLnBhcnNlcikge1xuXHRcdHZhciBldmFsRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNvZGUpIHtcblx0XHRcdHZhciBkaXJlY3RDYWxsLCBhc3QsIHN0cmljdFNjb3BlLCBzdHJpY3RDb2RlLCBjdXJyZW50R2xvYmFsLCBzY29wZSwgdGhpc0FyZywgZXhlY3V0aW9uUmVzdWx0O1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGlmIChjb2RlKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRpZiAoIShjb2RlLnR5cGUgIT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb2RlKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdGRpcmVjdENhbGwgPSB0aGlzLmNhbGxlZSBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlICYmIHRoaXMuY2FsbGVlLmJhc2UgPT09IGdsb2JhbE9iamVjdDtcblx0XHRcdFx0XHRcdGFzdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA2O1xuXG5cdFx0XHRcdFx0XHRhc3QgPSBvcHRpb25zLnBhcnNlcihjb2RlLnZhbHVlKTtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSg2KTtcblxuXHRcdFx0XHRcdFx0aWYgKCEoY29udGV4dCQyJDAudDAgaW5zdGFuY2VvZiBTeW50YXhFcnJvciAmJiAvYXNzaWduaW5nIHRvIHJ2YWx1ZS9pLnRlc3QoY29udGV4dCQyJDAudDAubWVzc2FnZSkpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIkludmFsaWQgbGVmdC1oYW5kIHNpZGUgaW4gYXNzaWdubWVudFwiKTtcblxuXHRcdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0XHR0aHJvdyBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0XHRzdHJpY3RTY29wZSA9IGVudi5pc1N0cmljdCgpO1xuXHRcdFx0XHRcdFx0c3RyaWN0Q29kZSA9IHN0cmljdFNjb3BlIHx8IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUoYXN0LmJvZHkpO1xuXHRcdFx0XHRcdFx0Y3VycmVudEdsb2JhbCA9IGVudi5jdXJyZW50LnNjb3BlLnBhcmVudCA9PT0gZW52Lmdsb2JhbFNjb3BlLnNjb3BlO1xuXHRcdFx0XHRcdFx0c2NvcGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdC8vIHVzZSB0aGUgc2FtZSBzY29wZSB1bmxlc3MgdGhpcyBpcyBhbiBcImluZGlyZWN0XCIgY2FsbFxuXHRcdFx0XHRcdFx0Ly8gaW4gd2hpY2ggY2FzZSB3ZSB1c2UgdGhlIGdsb2JhbCBzY29wZVxuXHRcdFx0XHRcdFx0aWYgKGRpcmVjdENhbGwpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdENvZGUpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdFNjb3BlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gY3VycmVudEdsb2JhbCA/IGdsb2JhbE9iamVjdCA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gZW52LmdldFRoaXNCaW5kaW5nKCkgfHwgZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZVNjb3BlKHRoaXNBcmcpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGVudi5jdXJyZW50LnNjb3BlLnBhcmVudCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGVudi5nbG9iYWxTY29wZS5zY29wZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChzdHJpY3RDb2RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUoZ2xvYmFsT2JqZWN0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChhc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCA/IGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s2LCAxMF1dKTtcblx0XHR9KSwgMSwgXCJldmFsXCIpO1xuXG5cdFx0Z2xvYmFsT2JqZWN0LmRlZmluZShcImV2YWxcIiwgZXZhbEZ1bmMpO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyBoYWNrIGJlY2F1c2UgYWNvcm4gdGhyb3dzIHN5bnRheCBlcnJvclxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbk55WXk5bGN6VXZaMnh2WW1Gc2N5NXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklsd2lkWE5sSUhOMGNtbGpkRndpTzF4dVhHNTJZWElnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eVhDSXBXMXdpWkdWbVlYVnNkRndpWFR0Y2JseHVkbUZ5SUY5cGJuUmxjbTl3VW1WeGRXbHlaVmRwYkdSallYSmtJRDBnY21WeGRXbHlaU2hjSW1KaFltVnNMWEoxYm5ScGJXVXZhR1ZzY0dWeWN5OXBiblJsY205d0xYSmxjWFZwY21VdGQybHNaR05oY21SY0lpbGJYQ0prWldaaGRXeDBYQ0pkTzF4dVhHNVBZbXBsWTNRdVpHVm1hVzVsVUhKdmNHVnlkSGtvWlhod2IzSjBjeXdnWENKZlgyVnpUVzlrZFd4bFhDSXNJSHRjYmx4MGRtRnNkV1U2SUhSeWRXVmNibjBwTzF4dVhHNTJZWElnWDNWMGFXeHpUbUYwYVhabElEMGdjbVZ4ZFdseVpTaGNJaTR1TDNWMGFXeHpMMjVoZEdsMlpWd2lLVHRjYmx4dWRtRnlJRjkxZEdsc2MwTnZiblJ5WVdOMGN5QTlJSEpsY1hWcGNtVW9YQ0l1TGk5MWRHbHNjeTlqYjI1MGNtRmpkSE5jSWlrN1hHNWNiblpoY2lCamIyNTBjbUZqZEhNZ1BTQmZhVzUwWlhKdmNGSmxjWFZwY21WWGFXeGtZMkZ5WkNoZmRYUnBiSE5EYjI1MGNtRmpkSE1wTzF4dVhHNTJZWElnWDJWdWRsSmxabVZ5Wlc1alpTQTlJSEpsY1hWcGNtVW9YQ0l1TGk5bGJuWXZjbVZtWlhKbGJtTmxYQ0lwTzF4dVhHNTJZWElnWDNSNWNHVnpVSEpwYldsMGFYWmxWSGx3WlNBOUlISmxjWFZwY21Vb1hDSXVMaTkwZVhCbGN5OXdjbWx0YVhScGRtVXRkSGx3WlZ3aUtUdGNibHh1Wlhod2IzSjBjMXRjSW1SbFptRjFiSFJjSWwwZ1BTQm1kVzVqZEdsdmJpQW9aVzUyS1NCN1hHNWNkSFpoY2lCbmJHOWlZV3hQWW1wbFkzUWdQU0JsYm5ZdVoyeHZZbUZzTzF4dVhIUjJZWElnYjJKcVpXTjBSbUZqZEc5eWVTQTlJR1Z1ZGk1dlltcGxZM1JHWVdOMGIzSjVPMXh1WEhSMllYSWdiM0IwYVc5dWN5QTlJR1Z1ZGk1dmNIUnBiMjV6TzF4dVhHNWNkR2RzYjJKaGJFOWlhbVZqZEM1a1pXWnBibVVvWENKSmJtWnBibWwwZVZ3aUxDQnZZbXBsWTNSR1lXTjBiM0o1TG1OeVpXRjBaVkJ5YVcxcGRHbDJaU2hKYm1acGJtbDBlU2tzSUhzZ1kyOXVabWxuZFhKaFlteGxPaUJtWVd4elpTd2dkM0pwZEdGaWJHVTZJR1poYkhObElIMHBPMXh1WEhSbmJHOWlZV3hQWW1wbFkzUXVaR1ZtYVc1bEtGd2lUbUZPWENJc0lHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxVSEpwYldsMGFYWmxLRTVoVGlrc0lIc2dZMjl1Wm1sbmRYSmhZbXhsT2lCbVlXeHpaU3dnZDNKcGRHRmliR1U2SUdaaGJITmxJSDBwTzF4dVhHNWNkRnRjSW5CaGNuTmxSbXh2WVhSY0lpd2dYQ0prWldOdlpHVlZVa2xjSWl3Z1hDSmxibU52WkdWVlVrbGNJaXdnWENKa1pXTnZaR1ZWVWtsRGIyMXdiMjVsYm5SY0lpd2dYQ0psYm1OdlpHVlZVa2xEYjIxd2IyNWxiblJjSWl3Z1hDSmxjMk5oY0dWY0lpd2dYQ0oxYm1WelkyRndaVndpWFM1bWIzSkZZV05vS0daMWJtTjBhVzl1SUNodVlXMWxLU0I3WEc1Y2RGeDBaMnh2WW1Gc1QySnFaV04wTG1SbFptbHVaU2h1WVcxbExDQnZZbXBsWTNSR1lXTjBiM0o1TG1OeVpXRjBaVUoxYVd4MFNXNUdkVzVqZEdsdmJpaGZjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxMbTFoY21zb1puVnVZM1JwYjI0Z1kyRnNiR1ZsSkRJa01DaDJZV3gxWlNrZ2UxeHVYSFJjZEZ4MGRtRnlJSE4wY21sdVoxWmhiSFZsTzF4dVhIUmNkRngwY21WMGRYSnVJRjl5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1V1ZDNKaGNDaG1kVzVqZEdsdmJpQmpZV3hzWldVa01pUXdKQ2hqYjI1MFpYaDBKRE1rTUNrZ2UxeHVYSFJjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpETWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXpKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJjZEdOaGMyVWdNRHBjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa015UXdMbTVsZUhRZ1BTQXlPMXh1WEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUNnd0xDQmZkWFJwYkhOT1lYUnBkbVV1ZEc5VGRISnBibWNwS0haaGJIVmxLVHRjYmx4dVhIUmNkRngwWEhSY2RHTmhjMlVnTWpwY2JseDBYSFJjZEZ4MFhIUmNkSE4wY21sdVoxWmhiSFZsSUQwZ1kyOXVkR1Y0ZENRekpEQXVjMlZ1ZER0Y2JseDBYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpETWtNQzVoWW5KMWNIUW9YQ0p5WlhSMWNtNWNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdWUWNtbHRhWFJwZG1Vb1oyeHZZbUZzVzI1aGJXVmRLSE4wY21sdVoxWmhiSFZsS1NrcE8xeHVYRzVjZEZ4MFhIUmNkRngwWTJGelpTQTBPbHh1WEhSY2RGeDBYSFJjZEdOaGMyVWdYQ0psYm1SY0lqcGNibHgwWEhSY2RGeDBYSFJjZEhKbGRIVnliaUJqYjI1MFpYaDBKRE1rTUM1emRHOXdLQ2s3WEc1Y2RGeDBYSFJjZEgxY2JseDBYSFJjZEgwc0lHTmhiR3hsWlNReUpEQXNJSFJvYVhNcE8xeHVYSFJjZEgwcExDQXhMQ0J1WVcxbEtTazdYRzVjZEgwcE8xeHVYRzVjZEdkc2IySmhiRTlpYW1WamRDNWtaV1pwYm1Vb1hDSndZWEp6WlVsdWRGd2lMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlVKMWFXeDBTVzVHZFc1amRHbHZiaWhmY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTG0xaGNtc29ablZ1WTNScGIyNGdZMkZzYkdWbEpERWtNQ2gyWVd4MVpTd2djbUZrYVhncElIdGNibHgwWEhSMllYSWdjM1J5YVc1blZtRnNkV1U3WEc1Y2RGeDBjbVYwZFhKdUlGOXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVXVkM0poY0NobWRXNWpkR2x2YmlCallXeHNaV1VrTVNRd0pDaGpiMjUwWlhoMEpESWtNQ2tnZTF4dVhIUmNkRngwZDJocGJHVWdLREVwSUhOM2FYUmphQ0FvWTI5dWRHVjRkQ1F5SkRBdWNISmxkaUE5SUdOdmJuUmxlSFFrTWlRd0xtNWxlSFFwSUh0Y2JseDBYSFJjZEZ4MFkyRnpaU0F3T2x4dVhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMbTVsZUhRZ1BTQXlPMXh1WEhSY2RGeDBYSFJjZEhKbGRIVnliaUFvTUN3Z1gzVjBhV3h6VG1GMGFYWmxMblJ2VTNSeWFXNW5LU2gyWVd4MVpTazdYRzVjYmx4MFhIUmNkRngwWTJGelpTQXlPbHh1WEhSY2RGeDBYSFJjZEhOMGNtbHVaMVpoYkhWbElEMGdZMjl1ZEdWNGRDUXlKREF1YzJWdWREdGNibHgwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRElrTUM1dVpYaDBJRDBnTlR0Y2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z0tEQXNJRjkxZEdsc2MwNWhkR2wyWlM1MGIxQnlhVzFwZEdsMlpTa29jbUZrYVhnc0lGd2liblZ0WW1WeVhDSXBPMXh1WEc1Y2RGeDBYSFJjZEdOaGMyVWdOVHBjYmx4MFhIUmNkRngwWEhSeVlXUnBlQ0E5SUdOdmJuUmxlSFFrTWlRd0xuTmxiblE3WEc1Y2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xtRmljblZ3ZENoY0luSmxkSFZ5Ymx3aUxDQnZZbXBsWTNSR1lXTjBiM0o1TG1OeVpXRjBaVkJ5YVcxcGRHbDJaU2h3WVhKelpVbHVkQ2h6ZEhKcGJtZFdZV3gxWlN3Z2NtRmthWGdwS1NrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBM09seHVYSFJjZEZ4MFhIUmpZWE5sSUZ3aVpXNWtYQ0k2WEc1Y2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xuTjBiM0FvS1R0Y2JseDBYSFJjZEgxY2JseDBYSFI5TENCallXeHNaV1VrTVNRd0xDQjBhR2x6S1R0Y2JseDBmU2tzSURJc0lGd2ljR0Z5YzJWSmJuUmNJaWtwTzF4dVhHNWNkR2RzYjJKaGJFOWlhbVZqZEM1a1pXWnBibVVvWENKcGMwNWhUbHdpTENCdlltcGxZM1JHWVdOMGIzSjVMbU55WldGMFpVSjFhV3gwU1c1R2RXNWpkR2x2YmloZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExtMWhjbXNvWm5WdVkzUnBiMjRnWTJGc2JHVmxKREVrTUNoMllXeDFaU2tnZTF4dVhIUmNkSFpoY2lCdWRXMWlaWEpXWVd4MVpUdGNibHgwWEhSeVpYUjFjbTRnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1M2NtRndLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXhKREFrS0dOdmJuUmxlSFFrTWlRd0tTQjdYRzVjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpESWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXlKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJqWVhObElEQTZYRzVjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ0E5SURJN1hHNWNkRngwWEhSY2RGeDBjbVYwZFhKdUlDZ3dMQ0JmZFhScGJITk9ZWFJwZG1VdWRHOU9kVzFpWlhJcEtIWmhiSFZsS1R0Y2JseHVYSFJjZEZ4MFhIUmpZWE5sSURJNlhHNWNkRngwWEhSY2RGeDBiblZ0WW1WeVZtRnNkV1VnUFNCamIyNTBaWGgwSkRJa01DNXpaVzUwTzF4dVhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRJa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZRY21sdGFYUnBkbVVvYVhOT1lVNG9iblZ0WW1WeVZtRnNkV1VwS1NrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBME9seHVYSFJjZEZ4MFhIUmpZWE5sSUZ3aVpXNWtYQ0k2WEc1Y2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xuTjBiM0FvS1R0Y2JseDBYSFJjZEgxY2JseDBYSFI5TENCallXeHNaV1VrTVNRd0xDQjBhR2x6S1R0Y2JseDBmU2tzSURFc0lGd2lhWE5PWVU1Y0lpa3BPMXh1WEc1Y2RHZHNiMkpoYkU5aWFtVmpkQzVrWldacGJtVW9YQ0pwYzBacGJtbDBaVndpTENCdlltcGxZM1JHWVdOMGIzSjVMbU55WldGMFpVSjFhV3gwU1c1R2RXNWpkR2x2YmloZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExtMWhjbXNvWm5WdVkzUnBiMjRnWTJGc2JHVmxKREVrTUNoMllXeDFaU2tnZTF4dVhIUmNkSFpoY2lCdWRXMWlaWEpXWVd4MVpUdGNibHgwWEhSeVpYUjFjbTRnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1M2NtRndLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXhKREFrS0dOdmJuUmxlSFFrTWlRd0tTQjdYRzVjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpESWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXlKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJqWVhObElEQTZYRzVjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ0E5SURJN1hHNWNkRngwWEhSY2RGeDBjbVYwZFhKdUlDZ3dMQ0JmZFhScGJITk9ZWFJwZG1VdWRHOU9kVzFpWlhJcEtIWmhiSFZsS1R0Y2JseHVYSFJjZEZ4MFhIUmpZWE5sSURJNlhHNWNkRngwWEhSY2RGeDBiblZ0WW1WeVZtRnNkV1VnUFNCamIyNTBaWGgwSkRJa01DNXpaVzUwTzF4dVhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRJa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1ZRY21sdGFYUnBkbVVvYVhOR2FXNXBkR1VvYm5WdFltVnlWbUZzZFdVcEtTazdYRzVjYmx4MFhIUmNkRngwWTJGelpTQTBPbHh1WEhSY2RGeDBYSFJqWVhObElGd2laVzVrWENJNlhHNWNkRngwWEhSY2RGeDBjbVYwZFhKdUlHTnZiblJsZUhRa01pUXdMbk4wYjNBb0tUdGNibHgwWEhSY2RIMWNibHgwWEhSOUxDQmpZV3hzWldVa01TUXdMQ0IwYUdsektUdGNibHgwZlNrc0lERXNJRndpYVhOR2FXNXBkR1ZjSWlrcE8xeHVYRzVjZEdsbUlDaHZjSFJwYjI1ekxuQmhjbk5sY2lrZ2UxeHVYSFJjZEhaaGNpQmxkbUZzUm5WdVl5QTlJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsUW5WcGJIUkpia1oxYm1OMGFXOXVLRjl5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1V1YldGeWF5aG1kVzVqZEdsdmJpQmpZV3hzWldVa01TUXdLR052WkdVcElIdGNibHgwWEhSY2RIWmhjaUJrYVhKbFkzUkRZV3hzTENCaGMzUXNJSE4wY21samRGTmpiM0JsTENCemRISnBZM1JEYjJSbExDQmpkWEp5Wlc1MFIyeHZZbUZzTENCelkyOXdaU3dnZEdocGMwRnlaeXdnWlhobFkzVjBhVzl1VW1WemRXeDBPMXh1WEhSY2RGeDBjbVYwZFhKdUlGOXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVXVkM0poY0NobWRXNWpkR2x2YmlCallXeHNaV1VrTVNRd0pDaGpiMjUwWlhoMEpESWtNQ2tnZTF4dVhIUmNkRngwWEhSM2FHbHNaU0FvTVNrZ2MzZHBkR05vSUNoamIyNTBaWGgwSkRJa01DNXdjbVYySUQwZ1kyOXVkR1Y0ZENReUpEQXVibVY0ZENrZ2UxeHVYSFJjZEZ4MFhIUmNkR05oYzJVZ01EcGNibHgwWEhSY2RGeDBYSFJjZEdsbUlDaGpiMlJsS1NCN1hHNWNkRngwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBeU8xeHVYSFJjZEZ4MFhIUmNkRngwWEhSaWNtVmhhenRjYmx4MFhIUmNkRngwWEhSY2RIMWNibHh1WEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xtRmljblZ3ZENoY0luSmxkSFZ5Ymx3aUxDQmZkSGx3WlhOUWNtbHRhWFJwZG1WVWVYQmxMbFZPUkVWR1NVNUZSQ2s3WEc1Y2JseDBYSFJjZEZ4MFhIUmpZWE5sSURJNlhHNWNkRngwWEhSY2RGeDBYSFJwWmlBb0lTaGpiMlJsTG5SNWNHVWdJVDA5SUZ3aWMzUnlhVzVuWENJcEtTQjdYRzVjZEZ4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMbTVsZUhRZ1BTQTBPMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmljbVZoYXp0Y2JseDBYSFJjZEZ4MFhIUmNkSDFjYmx4dVhIUmNkRngwWEhSY2RGeDBjbVYwZFhKdUlHTnZiblJsZUhRa01pUXdMbUZpY25Wd2RDaGNJbkpsZEhWeWJsd2lMQ0JqYjJSbEtUdGNibHh1WEhSY2RGeDBYSFJjZEdOaGMyVWdORHBjYmx4MFhIUmNkRngwWEhSY2RHUnBjbVZqZEVOaGJHd2dQU0IwYUdsekxtTmhiR3hsWlNCcGJuTjBZVzVqWlc5bUlGOWxiblpTWldabGNtVnVZMlV1VW1WbVpYSmxibU5sSUNZbUlIUm9hWE11WTJGc2JHVmxMbUpoYzJVZ1BUMDlJR2RzYjJKaGJFOWlhbVZqZER0Y2JseDBYSFJjZEZ4MFhIUmNkR0Z6ZENBOUlIVnVaR1ZtYVc1bFpEdGNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xuQnlaWFlnUFNBMk8xeHVYRzVjZEZ4MFhIUmNkRngwWEhSaGMzUWdQU0J2Y0hScGIyNXpMbkJoY25ObGNpaGpiMlJsTG5aaGJIVmxLVHRjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMbTVsZUhRZ1BTQXhOVHRjYmx4MFhIUmNkRngwWEhSY2RHSnlaV0ZyTzF4dVhHNWNkRngwWEhSY2RGeDBZMkZ6WlNBeE1EcGNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xuQnlaWFlnUFNBeE1EdGNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xuUXdJRDBnWTI5dWRHVjRkQ1F5SkRCYlhDSmpZWFJqYUZ3aVhTZzJLVHRjYmx4dVhIUmNkRngwWEhSY2RGeDBhV1lnS0NFb1kyOXVkR1Y0ZENReUpEQXVkREFnYVc1emRHRnVZMlZ2WmlCVGVXNTBZWGhGY25KdmNpQW1KaUF2WVhOemFXZHVhVzVuSUhSdklISjJZV3gxWlM5cExuUmxjM1FvWTI5dWRHVjRkQ1F5SkRBdWREQXViV1Z6YzJGblpTa3BLU0I3WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkR052Ym5SbGVIUWtNaVF3TG01bGVIUWdQU0F4TkR0Y2JseDBYSFJjZEZ4MFhIUmNkRngwWW5KbFlXczdYRzVjZEZ4MFhIUmNkRngwWEhSOVhHNWNibHgwWEhSY2RGeDBYSFJjZEhSb2NtOTNJRzVsZHlCU1pXWmxjbVZ1WTJWRmNuSnZjaWhjSWtsdWRtRnNhV1FnYkdWbWRDMW9ZVzVrSUhOcFpHVWdhVzRnWVhOemFXZHViV1Z1ZEZ3aUtUdGNibHh1WEhSY2RGeDBYSFJjZEdOaGMyVWdNVFE2WEc1Y2RGeDBYSFJjZEZ4MFhIUjBhSEp2ZHlCamIyNTBaWGgwSkRJa01DNTBNRHRjYmx4dVhIUmNkRngwWEhSY2RHTmhjMlVnTVRVNlhHNWNkRngwWEhSY2RGeDBYSFJ6ZEhKcFkzUlRZMjl3WlNBOUlHVnVkaTVwYzFOMGNtbGpkQ2dwTzF4dVhIUmNkRngwWEhSY2RGeDBjM1J5YVdOMFEyOWtaU0E5SUhOMGNtbGpkRk5qYjNCbElIeDhJR052Ym5SeVlXTjBjeTVwYzFOMGNtbGpkRTV2WkdVb1lYTjBMbUp2WkhrcE8xeHVYSFJjZEZ4MFhIUmNkRngwWTNWeWNtVnVkRWRzYjJKaGJDQTlJR1Z1ZGk1amRYSnlaVzUwTG5OamIzQmxMbkJoY21WdWRDQTlQVDBnWlc1MkxtZHNiMkpoYkZOamIzQmxMbk5qYjNCbE8xeHVYSFJjZEZ4MFhIUmNkRngwYzJOdmNHVWdQU0IxYm1SbFptbHVaV1E3WEc1Y2JseDBYSFJjZEZ4MFhIUmNkQzh2SUhWelpTQjBhR1VnYzJGdFpTQnpZMjl3WlNCMWJteGxjM01nZEdocGN5QnBjeUJoYmlCY0ltbHVaR2x5WldOMFhDSWdZMkZzYkZ4dVhIUmNkRngwWEhSY2RGeDBMeThnYVc0Z2QyaHBZMmdnWTJGelpTQjNaU0IxYzJVZ2RHaGxJR2RzYjJKaGJDQnpZMjl3WlZ4dVhIUmNkRngwWEhSY2RGeDBhV1lnS0dScGNtVmpkRU5oYkd3cElIdGNibHgwWEhSY2RGeDBYSFJjZEZ4MGFXWWdLSE4wY21samRFTnZaR1VwSUh0Y2JseDBYSFJjZEZ4MFhIUmNkRngwWEhSMGFHbHpRWEpuSUQwZ2RXNWtaV1pwYm1Wa08xeHVYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBhV1lnS0hOMGNtbGpkRk5qYjNCbEtTQjdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFIwYUdselFYSm5JRDBnWTNWeWNtVnVkRWRzYjJKaGJDQS9JR2RzYjJKaGJFOWlhbVZqZENBNklGOTBlWEJsYzFCeWFXMXBkR2wyWlZSNWNHVXVWVTVFUlVaSlRrVkVPMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkSDBnWld4elpTQjdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFIwYUdselFYSm5JRDBnWlc1MkxtZGxkRlJvYVhOQ2FXNWthVzVuS0NrZ2ZId2daMnh2WW1Gc1QySnFaV04wTzF4dVhIUmNkRngwWEhSY2RGeDBYSFJjZEgxY2JseHVYSFJjZEZ4MFhIUmNkRngwWEhSY2RITmpiM0JsSUQwZ1pXNTJMbU55WldGMFpWTmpiM0JsS0hSb2FYTkJjbWNwTzF4dVhIUmNkRngwWEhSY2RGeDBYSFI5SUdWc2MyVWdlMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkSE5qYjNCbElEMGdaVzUyTG5ObGRGTmpiM0JsS0dWdWRpNWpkWEp5Wlc1MExuTmpiM0JsTG5CaGNtVnVkQ2s3WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkSDFjYmx4MFhIUmNkRngwWEhSY2RIMGdaV3h6WlNCN1hHNWNkRngwWEhSY2RGeDBYSFJjZEhOamIzQmxJRDBnWlc1MkxuTmxkRk5qYjNCbEtHVnVkaTVuYkc5aVlXeFRZMjl3WlM1elkyOXdaU2s3WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkR2xtSUNoemRISnBZM1JEYjJSbEtTQjdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBjMk52Y0dVZ1BTQmxibll1WTNKbFlYUmxVMk52Y0dVb1oyeHZZbUZzVDJKcVpXTjBLVHRjYmx4MFhIUmNkRngwWEhSY2RGeDBmVnh1WEhSY2RGeDBYSFJjZEZ4MGZWeHVYRzVjZEZ4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRJa01DNXVaWGgwSUQwZ01qSTdYRzVjZEZ4MFhIUmNkRngwWEhSeVpYUjFjbTRnYzJOdmNHVXVkWE5sS0Y5eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVdWJXRnlheWhtZFc1amRHbHZiaUJqWVd4c1pXVWtNaVF3S0NrZ2UxeHVYSFJjZEZ4MFhIUmNkRngwWEhSeVpYUjFjbTRnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1M2NtRndLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXlKREFrS0dOdmJuUmxlSFFrTXlRd0tTQjdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBkMmhwYkdVZ0tERXBJSE4zYVhSamFDQW9ZMjl1ZEdWNGRDUXpKREF1Y0hKbGRpQTlJR052Ym5SbGVIUWtNeVF3TG01bGVIUXBJSHRjYmx4MFhIUmNkRngwWEhSY2RGeDBYSFJjZEdOaGMyVWdNRHBjYmx4MFhIUmNkRngwWEhSY2RGeDBYSFJjZEZ4MFkyOXVkR1Y0ZENRekpEQXVibVY0ZENBOUlESTdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFJjZEhKbGRIVnliaUJsYm5ZdVkzSmxZWFJsUlhobFkzVjBhVzl1UTI5dWRHVjRkQ2hoYzNRcExtVjRaV04xZEdVb0tUdGNibHh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwWTJGelpTQXlPbHh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwWEhSeVpYUjFjbTRnWTI5dWRHVjRkQ1F6SkRBdVlXSnlkWEIwS0Z3aWNtVjBkWEp1WENJc0lHTnZiblJsZUhRa015UXdMbk5sYm5RcE8xeHVYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFJqWVhObElETTZYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFJqWVhObElGd2laVzVrWENJNlhHNWNkRngwWEhSY2RGeDBYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpETWtNQzV6ZEc5d0tDazdYRzVjZEZ4MFhIUmNkRngwWEhSY2RGeDBmVnh1WEhSY2RGeDBYSFJjZEZ4MFhIUjlMQ0JqWVd4c1pXVWtNaVF3TENCMGFHbHpLVHRjYmx4MFhIUmNkRngwWEhSY2RIMHBLVHRjYmx4dVhIUmNkRngwWEhSY2RHTmhjMlVnTWpJNlhHNWNkRngwWEhSY2RGeDBYSFJsZUdWamRYUnBiMjVTWlhOMWJIUWdQU0JqYjI1MFpYaDBKRElrTUM1elpXNTBPMXh1WEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xtRmljblZ3ZENoY0luSmxkSFZ5Ymx3aUxDQmxlR1ZqZFhScGIyNVNaWE4xYkhRZ0ppWWdaWGhsWTNWMGFXOXVVbVZ6ZFd4MExuSmxjM1ZzZENBL0lHVjRaV04xZEdsdmJsSmxjM1ZzZEM1eVpYTjFiSFF1WjJWMFZtRnNkV1VvS1NBNklGOTBlWEJsYzFCeWFXMXBkR2wyWlZSNWNHVXVWVTVFUlVaSlRrVkVLVHRjYmx4dVhIUmNkRngwWEhSY2RHTmhjMlVnTWpRNlhHNWNkRngwWEhSY2RGeDBZMkZ6WlNCY0ltVnVaRndpT2x4dVhIUmNkRngwWEhSY2RGeDBjbVYwZFhKdUlHTnZiblJsZUhRa01pUXdMbk4wYjNBb0tUdGNibHgwWEhSY2RGeDBmVnh1WEhSY2RGeDBmU3dnWTJGc2JHVmxKREVrTUN3Z2RHaHBjeXdnVzFzMkxDQXhNRjFkS1R0Y2JseDBYSFI5S1N3Z01Td2dYQ0psZG1Gc1hDSXBPMXh1WEc1Y2RGeDBaMnh2WW1Gc1QySnFaV04wTG1SbFptbHVaU2hjSW1WMllXeGNJaXdnWlhaaGJFWjFibU1wTzF4dVhIUjlYRzU5TzF4dVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlHVjRjRzl5ZEhOYlhDSmtaV1poZFd4MFhDSmRPMXh1WEc0dkx5Qm9ZV05ySUdKbFkyRjFjMlVnWVdOdmNtNGdkR2h5YjNkeklITjViblJoZUNCbGNuSnZjaUpkZlE9PSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBlY21hNTE7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3R5cGVzT2JqZWN0RmFjdG9yeSA9IHJlcXVpcmUoXCIuLi90eXBlcy9vYmplY3QtZmFjdG9yeVwiKTtcblxudmFyIF9udW1iZXIgPSByZXF1aXJlKFwiLi9udW1iZXIvXCIpO1xuXG52YXIgX251bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXIpO1xuXG52YXIgX3N0cmluZyA9IHJlcXVpcmUoXCIuL3N0cmluZy9cIik7XG5cbnZhciBfc3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZyk7XG5cbnZhciBfZnVuY3Rpb24gPSByZXF1aXJlKFwiLi9mdW5jdGlvbi9cIik7XG5cbnZhciBfZnVuY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnVuY3Rpb24pO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdC9cIik7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfYm9vbGVhbiA9IHJlcXVpcmUoXCIuL2Jvb2xlYW4vXCIpO1xuXG52YXIgX2Jvb2xlYW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYm9vbGVhbik7XG5cbnZhciBfZGF0ZSA9IHJlcXVpcmUoXCIuL2RhdGUvXCIpO1xuXG52YXIgX2RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZSk7XG5cbnZhciBfYXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheS9cIik7XG5cbnZhciBfYXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXkpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKFwiLi9tYXRoL1wiKTtcblxudmFyIF9tYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGgpO1xuXG52YXIgX3JlZ2V4ID0gcmVxdWlyZShcIi4vcmVnZXgvXCIpO1xuXG52YXIgX3JlZ2V4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2V4KTtcblxudmFyIF9lcnJvciA9IHJlcXVpcmUoXCIuL2Vycm9yL1wiKTtcblxudmFyIF9lcnJvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcnJvcik7XG5cbnZhciBfanNvbiA9IHJlcXVpcmUoXCIuL2pzb24vXCIpO1xuXG52YXIgX2pzb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfanNvbik7XG5cbnZhciBfY29uc29sZSA9IHJlcXVpcmUoXCIuL2NvbnNvbGUvXCIpO1xuXG52YXIgX2NvbnNvbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc29sZSk7XG5cbnZhciBfZ2xvYmFscyA9IHJlcXVpcmUoXCIuL2dsb2JhbHNcIik7XG5cbnZhciBfZ2xvYmFsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbG9iYWxzKTtcblxudmFyIGZyb3plbiA9IHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9O1xuXG5mdW5jdGlvbiBlY21hNTEoZW52KSB7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3RvcnkgPSBuZXcgX3R5cGVzT2JqZWN0RmFjdG9yeS5PYmplY3RGYWN0b3J5KGVudik7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblxuXHRlbnYuY3JlYXRlT2JqZWN0U2NvcGUoZ2xvYmFsT2JqZWN0KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwidW5kZWZpbmVkXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCBmcm96ZW4pO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwibnVsbFwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLk5VTEwsIGZyb3plbik7XG5cblx0Ly8gdG9kbzogbm9kZSB2cyBicm93c2VyIC0gZG8gd2UgY2FyZT9cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIndpbmRvd1wiLCBnbG9iYWxPYmplY3QsIGZyb3plbik7XG5cblx0KDAsIF9mdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX29iamVjdDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2FycmF5MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfYm9vbGVhbjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX251bWJlcjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX3N0cmluZzJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2RhdGUyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9yZWdleDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX21hdGgyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9lcnJvcjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2pzb24yW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9jb25zb2xlMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfZ2xvYmFsczJbXCJkZWZhdWx0XCJdKShlbnYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBqc29uQXBpO1xudmFyIG1hcmtlZDAkMCA9IFtzZXJpYWxpemVPYmplY3QsIHNlcmlhbGl6ZUFycmF5LCBzZXJpYWxpemUsIGNyZWF0ZVJlcGxhY2VyLCBnZXRTcGFjZXIsIGRlc2VyaWFsaXplXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIHByaW1pdGl2ZXMgPSB7XG5cdFwiU3RyaW5nXCI6IHRydWUsXG5cdFwiTnVtYmVyXCI6IHRydWUsXG5cdFwiQm9vbGVhblwiOiB0cnVlLFxuXHRcIkRhdGVcIjogdHJ1ZVxufTtcblxuZnVuY3Rpb24gZm9ybWF0VmFsdWVzKHZhbHVlcywgZ2FwLCBkZXB0aCkge1xuXHRpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cblx0aWYgKCFnYXApIHtcblx0XHRyZXR1cm4gdmFsdWVzLmpvaW4oXCIsXCIpO1xuXHR9XG5cblx0dmFyIGluZGVudCA9IFwiXFxuXCIgKyBnYXAucmVwZWF0KGRlcHRoKTtcblx0dmFyIGpvaW5lZFZhbHVlcyA9IHZhbHVlcy5qb2luKGluZGVudCArIFwiLFwiKTtcblxuXHQvLyByZW1vdmUgaW5kZW50IG9uIGNsb3Npbmdcblx0cmV0dXJuIGluZGVudCArIGpvaW5lZFZhbHVlcyArIFwiXFxuXCIgKyBnYXAucmVwZWF0KGRlcHRoIC0gMSk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVByaW1pdGl2ZSh2YWx1ZSkge1xuXHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3QoZW52LCBzdGFjaywgb2JqLCByZXBsYWNlciwgZ2FwLCBkZXB0aCkge1xuXHR2YXIgY29sb24sIHZhbHVlcywgdmFsdWUsIHByb3A7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbG9uID0gZ2FwID8gXCI6IFwiIDogXCI6XCI7XG5cdFx0XHRcdHZhbHVlcyA9IFtdO1xuXHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXMob2JqLnByb3BlcnRpZXMpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGlmICgoY29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC50MCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMSQwLnQxLnZhbHVlO1xuXG5cdFx0XHRcdGlmICghb2JqLnByb3BlcnRpZXNbcHJvcF0uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRyZXR1cm4gcmVwbGFjZXIob2JqLCBwcm9wLCBvYmouZ2V0VmFsdWUocHJvcCkpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gdmFsdWVzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MyA9IHNlcmlhbGl6ZVByaW1pdGl2ZShwcm9wKSArIGNvbG9uO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdHJldHVybiBzZXJpYWxpemUoZW52LCBzdGFjaywgdmFsdWUsIHJlcGxhY2VyLCBnYXAsIGRlcHRoKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NSA9IGNvbnRleHQkMSQwLnQzICsgY29udGV4dCQxJDAudDQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyLnB1c2guY2FsbChjb250ZXh0JDEkMC50MiwgY29udGV4dCQxJDAudDUpO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgXCJ7XCIgKyBmb3JtYXRWYWx1ZXModmFsdWVzLCBnYXAsIGRlcHRoLCBnYXAsIGRlcHRoKSArIFwifVwiKTtcblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUFycmF5KGVudiwgc3RhY2ssIGFyciwgcmVwbGFjZXIsIGdhcCwgZGVwdGgpIHtcblx0dmFyIGxlbmd0aCwgdmFsdWVzLCBpLCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXJpYWxpemVBcnJheSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRsZW5ndGggPSBhcnIuZ2V0VmFsdWUoXCJsZW5ndGhcIikudG9OYXRpdmUoKTtcblx0XHRcdFx0dmFsdWVzID0gW107XG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGlmICghKGkgPCBsZW5ndGgpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCFhcnIuaGFzKGkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0cmV0dXJuIHJlcGxhY2VyKGFyciwgU3RyaW5nKGkpLCBhcnIuZ2V0VmFsdWUoaSkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCh2YWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyB1bmRlZmluZWQgcG9zaXRpb25zIGFyZSByZXBsYWNlZCB3aXRoIG51bGxcblx0XHRcdFx0dmFsdWVzLnB1c2goXCJudWxsXCIpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IHZhbHVlcztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKGVudiwgc3RhY2ssIHZhbHVlLCByZXBsYWNlcik7XG5cblx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAucHVzaC5jYWxsKGNvbnRleHQkMSQwLnQwLCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIFwiW1wiICsgZm9ybWF0VmFsdWVzKHZhbHVlcywgZ2FwLCBkZXB0aCkgKyBcIl1cIik7XG5cblx0XHRcdGNhc2UgMjI6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemUoZW52LCBzdGFjaywgb2JqLCByZXBsYWNlciwgZ2FwLCBkZXB0aCkge1xuXHR2YXIganNvblN0cmluZywganNvblJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXJpYWxpemUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKG9iaikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBzZXJpYWxpemVQcmltaXRpdmUoKSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCEob2JqLmlzUHJpbWl0aXZlIHx8IG9iai5jbGFzc05hbWUgaW4gcHJpbWl0aXZlcykpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgc2VyaWFsaXplUHJpbWl0aXZlKG9iai52YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGlmICghKG9iai5jbGFzc05hbWUgPT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLnRyeUV4ZWN1dGUpKG9iaiwgXCJ0b0pTT05cIik7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0anNvblN0cmluZyA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCFqc29uU3RyaW5nKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBzZXJpYWxpemVQcmltaXRpdmUoanNvblN0cmluZy52YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRpZiAoIShzdGFjay5pbmRleE9mKG9iaikgPj0gMCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTlwiKTtcblxuXHRcdFx0Y2FzZSAxMzpcblxuXHRcdFx0XHRkZXB0aCsrO1xuXHRcdFx0XHRzdGFjay5wdXNoKG9iaik7XG5cblx0XHRcdFx0anNvblJlc3VsdCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRpZiAoIShvYmouY2xhc3NOYW1lID09PSBcIkFycmF5XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplQXJyYXkoZW52LCBzdGFjaywgb2JqLCByZXBsYWNlcik7XG5cblx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdGpzb25SZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdHJldHVybiBzZXJpYWxpemVPYmplY3QoZW52LCBzdGFjaywgb2JqLCByZXBsYWNlciwgZ2FwLCBkZXB0aCk7XG5cblx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdGpzb25SZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDI1OlxuXG5cdFx0XHRcdGRlcHRoLS07XG5cdFx0XHRcdHN0YWNrLnBvcCgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGpzb25SZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDI4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzJdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVwbGFjZXIoZW52LCByZXBsYWNlcikge1xuXHR2YXIgX3JldDtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNyZWF0ZVJlcGxhY2VyJChjb250ZXh0JDEkMCkge1xuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIXJlcGxhY2VyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShyZXBsYWNlci5jbGFzc05hbWUgPT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoaG9sZGVyLCBrZXksIHZhbHVlKSB7XG5cdFx0XHRcdFx0dmFyIGFyZ3MsIGNhbGxlZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0YXJncyA9IFtlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KSwgdmFsdWVdO1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxlZSA9IHJlcGxhY2VyLm5hdGl2ZSA/IHJlcGxhY2VyIDogcmVwbGFjZXIubm9kZTtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCByZXBsYWNlciwgYXJncywgaG9sZGVyLCBjYWxsZWUpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRpZiAoIShyZXBsYWNlci5jbGFzc05hbWUgPT09IFwiQXJyYXlcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0XHRcdHZhciBhcnIsIGtleXM7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKHJlcGxhY2VyKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0YXJyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcnIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZy5jbGFzc05hbWUgPT09IFwiU3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShhcmcuY2xhc3NOYW1lID09PSBcIk51bWJlclwiKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC50MCA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIFN0cmluZyhjb250ZXh0JDMkMC50MCkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCB1bmRlZmluZWQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHR9KSksIFwidDBcIiwgNCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdGtleXMgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHtcblx0XHRcdFx0XHRcdFx0XHRcdHY6IGZ1bmN0aW9uIChob2xkZXIsIGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYWxsb3cgZW1wdHkga2V5IC0gdGhpcyB3aWxsIGJlIGZyb20gdGhlIHJvb3Rcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFrZXkgfHwga2V5cy5pbmRleE9mKGtleSkgPj0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCBfdGhpcyk7XG5cdFx0XHRcdH0pKCksIFwidDBcIiwgNSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0X3JldCA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRcdGlmICghKHR5cGVvZiBfcmV0ID09PSBcIm9iamVjdFwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBfcmV0LnYpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZnVuY3Rpb24gKGhvbGRlciwga2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFszXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGdldFNwYWNlcihlbnYsIHNwYWNlcikge1xuXHR2YXIgY291bnQsIGdhcDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRTcGFjZXIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFzcGFjZXIpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShzcGFjZXIuY2xhc3NOYW1lID09PSBcIk51bWJlclwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gTWF0aDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShzcGFjZXIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y291bnQgPSBjb250ZXh0JDEkMC50MC5mbG9vci5jYWxsKGNvbnRleHQkMSQwLnQwLCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdFx0Y291bnQgPSBNYXRoLm1heChNYXRoLm1pbigxMCwgY291bnQpLCAwKTtcblxuXHRcdFx0XHRpZiAoIShjb3VudCA+IDApKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIiBcIi5yZXBlYXQoY291bnQpKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIlwiKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0aWYgKCEoc3BhY2VyLmNsYXNzTmFtZSA9PT0gXCJTdHJpbmdcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzcGFjZXIpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRnYXAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGdhcC5zdWJzdHIoMCwgMTApKTtcblxuXHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIlwiKTtcblxuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFs0XSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplKGVudiwgdmFsdWUsIHJldml2ZXIpIHtcblx0dmFyIG9iamVjdEZhY3RvcnksIHZhbHVlVHlwZSwgYXJyLCBpLCBsbiwgZWxlbWVudCwgZWxlbWVudFZhbHVlLCBvYmosIHByb3BWYWx1ZSwgcHJvcDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXNlcmlhbGl6ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdHZhbHVlVHlwZSA9IGNvbnRyYWN0cy5nZXRUeXBlKHZhbHVlKTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSB2YWx1ZVR5cGU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSBjb250ZXh0JDEkMC50MCA9PT0gXCJVbmRlZmluZWRcIiA/IDUgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJOdWxsXCIgPyA1IDogY29udGV4dCQxJDAudDAgPT09IFwiU3RyaW5nXCIgPyA1IDogY29udGV4dCQxJDAudDAgPT09IFwiTnVtYmVyXCIgPyA1IDogY29udGV4dCQxJDAudDAgPT09IFwiQm9vbGVhblwiID8gNSA6IGNvbnRleHQkMSQwLnQwID09PSBcIkFycmF5XCIgPyA2IDogMzE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUodmFsdWVUeXBlLCB2YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0XHRcdGkgPSAwLCBsbiA9IHZhbHVlLmxlbmd0aDtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRpZiAoIShpIDwgbG4pKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZWxlbWVudCA9IHZhbHVlW2ldO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGFycjtcblx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBTdHJpbmcoaSk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNDtcblx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKGVudiwgZWxlbWVudCwgcmV2aXZlcik7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQzID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRyZXR1cm4gcmV2aXZlcihjb250ZXh0JDEkMC50MSwgY29udGV4dCQxJDAudDIsIGNvbnRleHQkMSQwLnQzKTtcblxuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0ZWxlbWVudFZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoY29udHJhY3RzLmlzVW5kZWZpbmVkKGVsZW1lbnRWYWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50NCA9IGFycjtcblx0XHRcdFx0Y29udGV4dCQxJDAudDUgPSBpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdHJldHVybiBkZXNlcmlhbGl6ZShlbnYsIGVsZW1lbnQpO1xuXG5cdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50NiA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ3ID0ge1xuXHRcdFx0XHRcdHZhbHVlOiBjb250ZXh0JDEkMC50Nixcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50OCA9IGVudjtcblx0XHRcdFx0Y29udGV4dCQxJDAudDQuZGVmaW5lT3duUHJvcGVydHkuY2FsbChjb250ZXh0JDEkMC50NCwgY29udGV4dCQxJDAudDUsIGNvbnRleHQkMSQwLnQ3LCB0cnVlLCBjb250ZXh0JDEkMC50OCk7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDMwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdG9iaiA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdFx0XHRcdHByb3BWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDkgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXModmFsdWUpO1xuXG5cdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRpZiAoKGNvbnRleHQkMSQwLnQxMCA9IGNvbnRleHQkMSQwLnQ5KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRwcm9wID0gY29udGV4dCQxJDAudDEwLnZhbHVlO1xuXG5cdFx0XHRcdGlmICghdmFsdWUuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MTEgPSBvYmo7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxMiA9IHByb3A7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0MTtcblx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKGVudiwgdmFsdWVbcHJvcF0sIHJldml2ZXIpO1xuXG5cdFx0XHRjYXNlIDQxOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MTMgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDQ7XG5cdFx0XHRcdHJldHVybiByZXZpdmVyKGNvbnRleHQkMSQwLnQxMSwgY29udGV4dCQxJDAudDEyLCBjb250ZXh0JDEkMC50MTMpO1xuXG5cdFx0XHRjYXNlIDQ0OlxuXHRcdFx0XHRwcm9wVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKHByb3BWYWx1ZSkpIHtcblx0XHRcdFx0XHRvYmouZGVmaW5lT3duUHJvcGVydHkocHJvcCwgeyB2YWx1ZTogcHJvcFZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sIHRydWUsIGVudik7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA0Njpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA0ODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRjYXNlIDQ5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzVdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmV2aXZlcihlbnYsIHJldml2ZXIpIHtcblx0aWYgKHJldml2ZXIgJiYgcmV2aXZlci5jbGFzc05hbWUgPT09IFwiRnVuY3Rpb25cIikge1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChob2xkZXIsIGtleSwgdmFsdWUpIHtcblx0XHRcdHZhciBhcmdzLCBjYWxsZWU7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0YXJncyA9IFtlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KSwgdmFsdWVdO1xuXHRcdFx0XHRcdFx0Y2FsbGVlID0gcmV2aXZlci5uYXRpdmUgPyByZXZpdmVyIDogcmV2aXZlci5ub2RlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCByZXZpdmVyLCBhcmdzLCBob2xkZXIsIGNhbGxlZSksIFwidDBcIiwgMyk7XG5cblx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBmdW5jdGlvbiAoaG9sZGVyLCBrZXksIHZhbHVlKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xufVxuXG5mdW5jdGlvbiBqc29uQXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIganNvbkNsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0anNvbkNsYXNzLmNsYXNzTmFtZSA9IFwiSlNPTlwiO1xuXG5cdGpzb25DbGFzcy5kZWZpbmUoXCJzdHJpbmdpZnlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqLCByZXBsYWNlciwgc3BhY2VyKSB7XG5cdFx0dmFyIHN0YWNrO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gY3JlYXRlUmVwbGFjZXIoZW52LCByZXBsYWNlcik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHJlcGxhY2VyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gZ2V0U3BhY2VyKGVudiwgc3BhY2VyKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0c3BhY2VyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gcmVwbGFjZXIob2JqLCBcIlwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRvYmogPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQob2JqKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRzdGFjayA9IFtdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gb2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0cmV0dXJuIHNlcmlhbGl6ZShlbnYsIHN0YWNrLCBvYmosIHJlcGxhY2VyLCBzcGFjZXIsIDApO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAudDAuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQyJDAudDAsIGNvbnRleHQkMiQwLnQxKSk7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAzLCBcIkpTT04uc3RyaW5naWZ5XCIpKTtcblxuXHRqc29uQ2xhc3MuZGVmaW5lKFwicGFyc2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RyLCByZXZpdmVyKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBwYXJzZWRPYmplY3QsIGRlc2VyaWFsaXplZE9iamVjdDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0cmV2aXZlciA9IGNyZWF0ZVJldml2ZXIoZW52LCByZXZpdmVyKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzdHIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZShzdHJpbmdWYWx1ZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKGVudiwgcGFyc2VkT2JqZWN0LCByZXZpdmVyKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0ZGVzZXJpYWxpemVkT2JqZWN0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuIHJldml2ZXIoZGVzZXJpYWxpemVkT2JqZWN0LCBcIlwiLCBkZXNlcmlhbGl6ZWRPYmplY3QpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiSlNPTi5wYXJzZVwiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkpTT05cIiwganNvbkNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gdGhlc2UgYXJlIHRoZSBvbmx5IHR5cGVzIHN1cHBvcnRlZCBieSBKU09OLnBhcnNlIC0gc2FkIGZhY2UuLi5cblxuLy8gcnVuIGF0IHRoZSB0b3AgdmFsdWUiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbWF0aEFwaTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBjb25zdGFudHMgPSBbXCJFXCIsIFwiTE4xMFwiLCBcIkxOMlwiLCBcIkxPRzEwRVwiLCBcIkxPRzJFXCIsIFwiUElcIiwgXCJTUVJUMV8yXCIsIFwiU1FSVDJcIl07XG52YXIgbWV0aG9kcyA9IFtcImFic1wiLCBcImFjb3NcIiwgXCJhc2luXCIsIFwiYXRhblwiLCBcImF0YW4yXCIsIFwiY2VpbFwiLCBcImNvc1wiLCBcImV4cFwiLCBcImZsb29yXCIsIFwibG9nXCIsIFwibWF4XCIsIFwibWluXCIsIFwicG93XCIsIFwicmFuZG9tXCIsIFwicm91bmRcIiwgXCJzaW5cIiwgXCJzcXJ0XCIsIFwidGFuXCJdO1xuXG5mdW5jdGlvbiBtYXRoQXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgbWF0aENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0bWF0aENsYXNzLmNsYXNzTmFtZSA9IFwiTWF0aFwiO1xuXG5cdGNvbnN0YW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0bWF0aENsYXNzLmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShNYXRoW25hbWVdKSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHR9KTtcblxuXHRtZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRtYXRoQ2xhc3MuZGVmaW5lKG5hbWUsICgwLCBfdXRpbHNOYXRpdmUudG9OYXRpdmVGdW5jdGlvbikoZW52LCBNYXRoW25hbWVdLCBcIk1hdGguXCIgKyBuYW1lKSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJNYXRoXCIsIG1hdGhDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG51bWJlckFwaTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIGNvbnN0YW50cyA9IFtcIk1BWF9WQUxVRVwiLCBcIk1JTl9WQUxVRVwiLCBcIk5hTlwiLCBcIk5FR0FUSVZFX0lORklOSVRZXCIsIFwiUE9TSVRJVkVfSU5GSU5JVFlcIl07XG52YXIgcHJvdG9NZXRob2RzID0gW1widG9FeHBvbmVudGlhbFwiLCBcInRvUHJlY2lzaW9uXCIsIFwidG9Mb2NhbGVTdHJpbmdcIl07XG5cbmZ1bmN0aW9uIG51bWJlckFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJOdW1iZXJcIjtcblx0cHJvdG8udmFsdWUgPSAwO1xuXG5cdHZhciBudW1iZXJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqKSB7XG5cdFx0dmFyIG51bWJlclZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkob2JqLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdG51bWJlclZhbHVlID0gTnVtYmVyKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsICgwLCBfdXRpbHNOYXRpdmUucHJpbWl0aXZlVG9PYmplY3QpKGVudiwgbnVtYmVyVmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIk51bWJlclwiLCBudW1iZXJWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHJhZGl4KSB7XG5cdFx0dmFyIHJhZGl4VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIk51bWJlclwiLCBcIk51bWJlci5wcm90b3R5cGUudG9TdHJpbmdcIik7XG5cblx0XHRcdFx0XHRyYWRpeFZhbHVlID0gMTA7XG5cblx0XHRcdFx0XHRpZiAoIXJhZGl4KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShyYWRpeCwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJhZGl4VmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEocmFkaXhWYWx1ZSA8IDIgfHwgcmFkaXhWYWx1ZSA+IDM2KSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucmFpc2UobmV3IFJhbmdlRXJyb3IoXCJ0b1N0cmluZygpIHJhZGl4IGFyZ3VtZW50IG11c3QgYmUgYmV0d2VlbiAyIGFuZCAzNlwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZSA9PSBudWxsID8gXCIwXCIgOiB0aGlzLm5vZGUudmFsdWUudG9TdHJpbmcocmFkaXhWYWx1ZSkpKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJOdW1iZXIucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ0b0ZpeGVkXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGZyYWN0aW9uRGlnaXRzKSB7XG5cdFx0dmFyIGRpZ2l0cztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90R2VuZXJpYyh0aGlzLm5vZGUsIFwiTnVtYmVyXCIsIFwiTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkXCIpO1xuXG5cdFx0XHRcdFx0ZGlnaXRzID0gMDtcblxuXHRcdFx0XHRcdGlmICghZnJhY3Rpb25EaWdpdHMpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKGZyYWN0aW9uRGlnaXRzKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0ZGlnaXRzID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOdW1iZXIucHJvdG90eXBlLnRvRml4ZWQuY2FsbCh0aGlzLm5vZGUudmFsdWUsIGRpZ2l0cykpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJOdW1iZXIucHJvdG90eXBlLnRvRml4ZWRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInZhbHVlT2ZcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIk51bWJlclwiLCBcIk51bWJlci5wcm90b3R5cGUudmFsdWVPZlwiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlID09IG51bGwgPyAwIDogdGhpcy5ub2RlLnZhbHVlKTtcblx0fSwgMCwgXCJOdW1iZXIucHJvdG90eXBlLnZhbHVlT2ZcIikpO1xuXG5cdGNvbnN0YW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0bnVtYmVyQ2xhc3MuZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE51bWJlcltuYW1lXSksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0fSk7XG5cblx0cHJvdG9NZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHR2YXIgZm4gPSBOdW1iZXIucHJvdG90eXBlW25hbWVdO1xuXHRcdGlmIChmbikge1xuXHRcdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIG1ldGhvZE5hbWUgPSBcIk51bWJlci5wcm90b3R5cGUuXCIgKyBuYW1lO1xuXHRcdFx0XHRwcm90by5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIk51bWJlclwiLCBtZXRob2ROYW1lKTtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZm4uY2FsbCh0aGlzLm5vZGUudmFsdWUpKTtcblx0XHRcdFx0fSwgZm4ubGVuZ3RoLCBtZXRob2ROYW1lKSk7XG5cdFx0XHR9KSgpO1xuXHRcdH1cblx0fSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIk51bWJlclwiLCBudW1iZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHk7XG5leHBvcnRzLmdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gb2JqZWN0QXBpO1xudmFyIG1hcmtlZDAkMCA9IFtkZWZpbmVQcm9wZXJ0eSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc09iamVjdFR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9mdW5jXCIpO1xuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShlbnYsIG9iaiwga2V5LCBkZXNjcmlwdG9yKSB7XG5cdHZhciB0aHJvd09uRXJyb3IgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzRdO1xuXHR2YXIgc3RyaW5nVmFsdWUsIG9wdGlvbnM7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkkKGNvbnRleHQkMSQwKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoY29udHJhY3RzLmlzT2JqZWN0KGRlc2NyaXB0b3IpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiBcIiArIHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRvcHRpb25zID0ge307XG5cblx0XHRcdFx0aWYgKCFkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHR2YXIgaGFzVmFsdWUsIGhhc0dldHRlciwgaGFzU2V0dGVyLCBjdXJyZW50U2NvcGU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGhhc1ZhbHVlID0gZGVzY3JpcHRvci5oYXMoXCJ2YWx1ZVwiKTtcblx0XHRcdFx0XHRcdFx0XHRoYXNHZXR0ZXIgPSBkZXNjcmlwdG9yLmhhcyhcImdldFwiKTtcblx0XHRcdFx0XHRcdFx0XHRoYXNTZXR0ZXIgPSBkZXNjcmlwdG9yLmhhcyhcInNldFwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghKChoYXNWYWx1ZSB8fCBkZXNjcmlwdG9yLmhhcyhcIndyaXRhYmxlXCIpKSAmJiAoaGFzR2V0dGVyIHx8IGhhc1NldHRlcikpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHByb3BlcnR5LiBBIHByb3BlcnR5IGNhbm5vdCBib3RoIGhhdmUgYWNjZXNzb3JzIGFuZCBiZSB3cml0YWJsZSBvciBoYXZlIGEgdmFsdWVcIik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXG5cdFx0XHRcdFx0XHRcdFx0W1wid3JpdGFibGVcIiwgXCJlbnVtZXJhYmxlXCIsIFwiY29uZmlndXJhYmxlXCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChkZXNjcmlwdG9yLmhhcyhwcm9wKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgYXR0clZhbHVlID0gZGVzY3JpcHRvci5nZXRWYWx1ZShwcm9wKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uc1twcm9wXSA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShhdHRyVmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudFNjb3BlID0gZW52LmN1cnJlbnQuc2NvcGU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIWhhc0dldHRlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBnZXR0ZXIsIHN0cmluZ1ZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGdldHRlciA9IGRlc2NyaXB0b3IuZ2V0VmFsdWUoXCJnZXRcIikgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGdldHRlci5pc1ByaW1pdGl2ZSAmJiBnZXR0ZXIudmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLmdldCA9IG9wdGlvbnMuZ2V0dGVyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShnZXR0ZXIuY2xhc3NOYW1lICE9PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGdldHRlcik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbjogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLmdldCA9IGdldHRlcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuZ2V0dGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzY29wZSwgdGhpc0FyZztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMyQwJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNCQwLnByZXYgPSBjb250ZXh0JDQkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LnNldFNjb3BlKGN1cnJlbnRTY29wZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBnZXR0ZXIuaXNTdHJpY3QoKSA/IHRoaXMgOiAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDQkMCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQ0JDAkKGNvbnRleHQkNSQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDUkMC5wcmV2ID0gY29udGV4dCQ1JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ1JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldHRlci5jYWxsKHRoaXNBcmcsIFtdKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDUkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ1JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQ0JDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgX3RoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdH0pKCksIFwidDBcIiwgOSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdFx0XHRcdGlmICghaGFzU2V0dGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBzZXR0ZXIsIHN0cmluZ1ZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNldHRlciA9IGRlc2NyaXB0b3IuZ2V0VmFsdWUoXCJzZXRcIikgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKHNldHRlci5pc1ByaW1pdGl2ZSAmJiBzZXR0ZXIudmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLnNldCA9IG9wdGlvbnMuc2V0dGVyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShzZXR0ZXIuY2xhc3NOYW1lICE9PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHNldHRlcik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbjogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLnNldCA9IHNldHRlcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuc2V0dGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAodmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNjb3BlLCB0aGlzQXJnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoY3VycmVudFNjb3BlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IHNldHRlci5pc1N0cmljdCgpID8gdGhpcyA6ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkNCQwKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDQkMCQoY29udGV4dCQ1JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNSQwLnByZXYgPSBjb250ZXh0JDUkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDUkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCBzZXR0ZXIsIFt2YWx1ZV0sIHRoaXNBcmcsIHNldHRlci5ub2RlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNSQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNSQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkNCQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIF90aGlzKTtcblx0XHRcdFx0XHRcdFx0XHR9KSgpLCBcInQxXCIsIDExKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDExOlxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGhhc1ZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLnZhbHVlID0gZGVzY3JpcHRvci5nZXRWYWx1ZShcInZhbHVlXCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCBfdGhpczIpO1xuXHRcdFx0XHR9KSgpLCBcInQwXCIsIDgpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqLmRlZmluZU93blByb3BlcnR5KGtleSwgb3B0aW9ucywgdGhyb3dPbkVycm9yLCBlbnYpKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVudiwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuXHR2YXIga2V5LCBkZXNjcmlwdG9yLCByZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShwcm9wZXJ0eUtleSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0a2V5ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0ZGVzY3JpcHRvciA9IHRhcmdldC5nZXRPd25Qcm9wZXJ0eShrZXkpO1xuXG5cdFx0XHRcdGlmICghZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdFx0XHRcdGlmIChkZXNjcmlwdG9yLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRcdHJlc3VsdC5zZXRWYWx1ZShcInZhbHVlXCIsIGRlc2NyaXB0b3IudmFsdWUsIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdHJlc3VsdC5zZXRWYWx1ZShcIndyaXRhYmxlXCIsIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShkZXNjcmlwdG9yLndyaXRhYmxlKSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzdWx0LnNldFZhbHVlKFwiZ2V0XCIsIGRlc2NyaXB0b3IuZ2V0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRyZXN1bHQuc2V0VmFsdWUoXCJzZXRcIiwgZGVzY3JpcHRvci5zZXQgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0LnNldFZhbHVlKFwiZW51bWVyYWJsZVwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVzY3JpcHRvci5lbnVtZXJhYmxlKSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdHJlc3VsdC5zZXRWYWx1ZShcImNvbmZpZ3VyYWJsZVwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVzY3JpcHRvci5jb25maWd1cmFibGUpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9iamVjdEFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0ZnVuY3Rpb24gY29uZmlybU9iamVjdChvYmosIG1ldGhvZE5hbWUpIHtcblx0XHRpZiAoY29udHJhY3RzLmlzT2JqZWN0KG9iaikpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChlbnYub3B0aW9ucy5lY21hVmVyc2lvbiA+IDUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKG1ldGhvZE5hbWUgKyBcIiBjYWxsZWQgb24gbm9uLW9iamVjdFwiKTtcblx0fVxuXG5cdHZhciBwcm90byA9IG5ldyBfdHlwZXNPYmplY3RUeXBlLk9iamVjdFR5cGUoKTtcblx0dmFyIG9iamVjdENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmICh2YWx1ZS5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRpZiAodmFsdWUudmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIG9iamVjdFdyYXBwZXIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZS52YWx1ZSk7XG5cdFx0XHRcdG9iamVjdFdyYXBwZXIudHlwZSA9IFwib2JqZWN0XCI7XG5cdFx0XHRcdG9iamVjdFdyYXBwZXIuaXNQcmltaXRpdmUgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIG9iamVjdFdyYXBwZXI7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2YWx1ZS5pc1N5bWJvbCkge1xuXHRcdFx0XHQvLyBzaG91bGQgcmV0dXJuIGEgbmV3IHN5bWJvbCBpbnN0YW5jZVxuXHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTeW1ib2xcIiwgdmFsdWUuZGVzY3JpcHRpb24pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluIGp1c3QgcmV0dXJuXG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdH0sIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaGFzT3duUHJvcGVydHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoa2V5KSB7XG5cdFx0dmFyIGs7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS5vd25zKGspKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlLCB0cnVlKTtcblx0fSwgMCwgXCJPYmplY3QucHJvdG90eXBlLnZhbHVlT2ZcIikpO1xuXG5cdHZhciB0b1N0cmluZ0Z1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9IHRoaXMubm9kZSA/IHRoaXMubm9kZS5jbGFzc05hbWUgOiBcIlVuZGVmaW5lZFwiO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIltvYmplY3QgXCIgKyBjbGFzc05hbWUgKyBcIl1cIik7XG5cdH0sIDAsIFwiT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblxuXHQvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID09PSBPYmplY3QucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIHRvU3RyaW5nRnVuYyk7XG5cdHByb3RvLmRlZmluZShcInRvTG9jYWxlU3RyaW5nXCIsIHRvU3RyaW5nRnVuYyk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaXNQcm90b3R5cGVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRoaXMubm9kZSwgXCJPYmplY3QuaXNQcm90b3R5cGVPZlwiKTtcblxuXHRcdHZhciBjdXJyZW50ID0gb2JqO1xuXHRcdHdoaWxlIChjdXJyZW50KSB7XG5cdFx0XHRpZiAodGhpcy5ub2RlID09PSBjdXJyZW50KSB7XG5cdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IGN1cnJlbnQuZ2V0UHJvdG90eXBlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKTtcblx0fSwgMSwgXCJPYmplY3QuaXNQcm90b3R5cGVPZlwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicHJvcGVydHlJc0VudW1lcmFibGVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoa2V5KSB7XG5cdFx0dmFyIGssIGRlc2NyaXB0b3I7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlXCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkoa2V5KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0ayA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0ZGVzY3JpcHRvciA9IHRoaXMubm9kZS5nZXRPd25Qcm9wZXJ0eShrKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCEhKGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5lbnVtZXJhYmxlKSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIk9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZVwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiY3JlYXRlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHBhcmVudCwgZGVzY3JpcHRvcnMpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIG9iaiwgcHJvcDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCEocGFyZW50ICYmIHBhcmVudC5pc1ByaW1pdGl2ZSAmJiBwYXJlbnQudmFsdWUgIT09IG51bGwpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShwYXJlbnQpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnJhaXNlKG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdCBvciBudWxsOiBcIiArIHN0cmluZ1ZhbHVlKSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRpZiAoIShkZXNjcmlwdG9ycyAmJiBkZXNjcmlwdG9ycy5pc1ByaW1pdGl2ZSAmJiBkZXNjcmlwdG9ycy52YWx1ZSA9PT0gbnVsbCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnJhaXNlKG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBudWxsIG9yIHVuZGVmaW5lZCB0byBvYmplY3RcIikpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0b2JqID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblxuXHRcdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRcdG9iai5zZXRQcm90b3R5cGUocGFyZW50KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIWRlc2NyaXB0b3JzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyhkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGlmICgoY29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC50MCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwcm9wID0gY29udGV4dCQyJDAudDEudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoIWRlc2NyaXB0b3JzLnByb3BlcnRpZXNbcHJvcF0uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiBkZWZpbmVQcm9wZXJ0eShlbnYsIG9iaiwgcHJvcCwgZGVzY3JpcHRvcnMuZ2V0VmFsdWUocHJvcCkpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJPYmplY3QuY3JlYXRlXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJkZWZpbmVQcm9wZXJ0eVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChvYmosIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XG5cdFx0dmFyIGtleTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KG9iaiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydHlcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkocHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiBkZWZpbmVQcm9wZXJ0eShlbnYsIG9iaiwga2V5LCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAzLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eVwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZGVmaW5lUHJvcGVydGllc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChvYmosIGRlc2NyaXB0b3JzKSB7XG5cdFx0dmFyIHByb3A7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmosIFwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcIik7XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydEFyZ0lzTm90TnVsbE9yVW5kZWZpbmVkKGRlc2NyaXB0b3JzKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gX3JlZ2VuZXJhdG9yUnVudGltZS5rZXlzKGRlc2NyaXB0b3JzLnByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpZiAoKGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAudDAoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMiQwLnQxLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzW3Byb3BdLmVudW1lcmFibGUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuIGRlZmluZVByb3BlcnR5KGVudiwgb2JqLCBwcm9wLCBkZXNjcmlwdG9ycy5nZXRWYWx1ZShwcm9wKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG9iaiwga2V5KSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZChvYmosIFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVudiwgb2JqLCBrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImtleXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmopO1xuXG5cdFx0dmFyIGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eUtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHZhciBwcm9wSW5mbyA9IG9iai5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRpZiAocHJvcEluZm8gJiYgcHJvcEluZm8uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdGFyci5zZXRWYWx1ZShpbmRleCsrLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGFycjtcblx0fSwgMSwgXCJPYmplY3Qua2V5c1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KG9iaiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1wiKTtcblxuXHRcdHZhciBhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eUtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpbmRleCkge1xuXHRcdFx0YXJyLnNldFZhbHVlKGluZGV4LCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShuYW1lKSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gYXJyO1xuXHR9LCAxLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJnZXRQcm90b3R5cGVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKCFjb25maXJtT2JqZWN0KG9iaiwgXCJPYmplY3QuZ2V0UHJvdG90eXBlT2ZcIikpIHtcblx0XHRcdG9iaiA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgb2JqLCB0cnVlKTtcblx0XHR9XG5cblx0XHR2YXIgb2JqUHJvdG8gPSBvYmouZ2V0UHJvdG90eXBlKCk7XG5cdFx0cmV0dXJuIG9ialByb3RvIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTDtcblx0fSwgMSwgXCJPYmplY3QuZ2V0UHJvdG90eXBlT2ZcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImZyZWV6ZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKGNvbmZpcm1PYmplY3Qob2JqLCBcIk9iamVjdC5mcmVlemVcIikpIHtcblx0XHRcdG9iai5mcmVlemUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5mcmVlemVcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImlzRnJvemVuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoIWNvbmZpcm1PYmplY3Qob2JqLCBcIk9iamVjdC5pc0Zyb3plblwiKSkge1xuXHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpO1xuXHRcdH1cblxuXHRcdGlmIChvYmouaXNQcmltaXRpdmUpIHtcblx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAoIW9iai5leHRlbnNpYmxlKSB7XG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIG9iai5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGlmIChvYmoucHJvcGVydGllc1twcm9wXS53cml0YWJsZSB8fCBvYmoucHJvcGVydGllc1twcm9wXS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCFvYmouZXh0ZW5zaWJsZSk7XG5cdH0sIDEsIFwiT2JqZWN0LmlzRnJvemVuXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKGNvbmZpcm1PYmplY3Qob2JqLCBcIk9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc1wiKSkge1xuXHRcdFx0b2JqLnByZXZlbnRFeHRlbnNpb25zKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSwgMSwgXCJPYmplY3QucHJldmVudEV4dGVuc2lvbnNcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImlzRXh0ZW5zaWJsZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKCFjb25maXJtT2JqZWN0KG9iaiwgXCJPYmplY3QuaXNFeHRlbnNpYmxlXCIpKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShvYmouaXNFeHRlbnNpYmxlKCkpO1xuXHR9LCAxLCBcIk9iamVjdC5pc0V4dGVuc2libGVcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcInNlYWxcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGlmIChjb25maXJtT2JqZWN0KG9iaiwgXCJPYmplY3Quc2VhbFwiKSkge1xuXHRcdFx0b2JqLnNlYWwoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5zZWFsXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJpc1NlYWxlZFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKCFjb25maXJtT2JqZWN0KG9iaiwgXCJPYmplY3QuaXNTZWFsZWRcIikpIHtcblx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAoIW9iai5leHRlbnNpYmxlKSB7XG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIG9iai5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGlmIChvYmoucHJvcGVydGllc1twcm9wXS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCFvYmouZXh0ZW5zaWJsZSk7XG5cdH0sIDEsIFwiT2JqZWN0LmlzU2VhbGVkXCIpKTtcblxuXHQvLyBmdW5jdGlvbiBpcyBhbiBvYmplY3QgLSBtYWtlIHN1cmUgdGhhdCBpdCBpcyBpbiB0aGUgcHJvdG90eXBlIGNoYWluXG5cdGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIkZ1bmN0aW9uXCIpLmdldFByb3RvdHlwZSgpLnNldFByb3RvdHlwZShwcm90byk7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJPYmplY3RcIiwgb2JqZWN0Q2xhc3MpO1xufVxuXG4vLyB3ZSBvbmx5IGtlZXAgYSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBnZXR0ZXIvc2V0dGVyIGZvciB1c2Ugd2l0aCBgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYFxuXG4vLyBsZXQgZ2V0UmVzdWx0ID0geWllbGQgY2FsbChlbnYsIGdldHRlciwgZ2V0dGVyLm5vZGUucGFyYW1zLCBbXSwgdGhpc0FyZywgZ2V0dGVyLm5vZGUpO1xuLy8gcmV0dXJuIGdldFJlc3VsdCAmJiBnZXRSZXN1bHQuZXhpdCA/IGdldFJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKSA6IFVOREVGSU5FRDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcmVnZXhBcGk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5mdW5jdGlvbiByZWdleEFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJSZWdFeHBcIjtcblxuXHR2YXIgcmVnZXhDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocGF0dGVybiwgZmxhZ3MpIHtcblx0XHR2YXIgcGF0dGVyblN0cmluZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCEocGF0dGVybiAmJiBwYXR0ZXJuLmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQoZmxhZ3MpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcGF0dGVybik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgc3VwcGx5IGZsYWdzIHdoZW4gY29uc3RydWN0aW5nIG9uZSBSZWdFeHAgZnJvbSBhbm90aGVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChwYXR0ZXJuKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IFwiXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHBhdHRlcm4pO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cGF0dGVyblN0cmluZyA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQoZmxhZ3MpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IFwiXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShmbGFncyk7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRmbGFncyA9IGNvbnRleHQkMiQwLnQxO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJSZWdFeHBcIiwgbmV3IFJlZ0V4cChwYXR0ZXJuU3RyaW5nLCBmbGFncykpKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidGVzdFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdHIpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHRlc3RWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHN0cik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludDMyKSh0aGlzLm5vZGUuZ2V0VmFsdWUoXCJsYXN0SW5kZXhcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHR0aGlzLm5vZGUuc291cmNlLmxhc3RJbmRleCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0dGVzdFZhbHVlID0gdGhpcy5ub2RlLnNvdXJjZS50ZXN0KHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZShcImxhc3RJbmRleFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUuc291cmNlLmxhc3RJbmRleCksIHRydWUsIGVudik7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRlc3RWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlJlZ0V4cC5wcm90b3R5cGUudGVzdFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZXhlY1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdHIpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIG1hdGNoLCBhcnIsIGksIGxuO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoc3RyKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50MzIpKHRoaXMubm9kZS5nZXRWYWx1ZShcImxhc3RJbmRleFwiKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHRoaXMubm9kZS5zb3VyY2UubGFzdEluZGV4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRtYXRjaCA9IHRoaXMubm9kZS5zb3VyY2UuZXhlYyhzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHQvLyB1cGRhdGUgdGhlIGxhc3QgaW5kZXggZnJvbSB0aGUgdW5kZXJseWluZyByZWdleFxuXHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZShcImxhc3RJbmRleFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUuc291cmNlLmxhc3RJbmRleCksIHRydWUsIGVudik7XG5cblx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdFx0Zm9yIChpID0gMCwgbG4gPSBtYXRjaC5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoaSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2hbaV0pLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIGV4dHJhIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIHRoZSBhcnJheVxuXHRcdFx0XHRcdGFyci5zZXRWYWx1ZShcImluZGV4XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG1hdGNoLmluZGV4KSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0YXJyLnNldFZhbHVlKFwiaW5wdXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2guaW5wdXQpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlJlZ0V4cC5wcm90b3R5cGUuZXhlY1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShTdHJpbmcodGhpcy5ub2RlLnNvdXJjZSkpO1xuXHR9LCAwLCBcIlJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImNvbXBpbGVcIiwgKDAsIF91dGlsc05hdGl2ZS50b05hdGl2ZUZ1bmN0aW9uKShlbnYsIFJlZ0V4cC5wcm90b3R5cGUuY29tcGlsZSwgXCJSZWdFeHAucHJvdG90eXBlLmNvbXBpbGVcIikpO1xuXHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShcImxhc3RJbmRleFwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0Ly8gW1wiZ2xvYmFsXCIsIFwiaWdub3JlQ2FzZVwiLCBcIm11bHRpbGluZVwiLCBcInNvdXJjZVwiXS5mb3JFYWNoKG5hbWUgPT4ge1xuXHQvLyBcdHByb3RvLmRlZmluZU93blByb3BlcnR5KG5hbWUsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFJlZ0V4cC5wcm90b3R5cGVbbmFtZV0pIH0pO1xuXHQvLyB9KTtcblxuXHRbXCJzb3VyY2VcIiwgXCJnbG9iYWxcIiwgXCJpZ25vcmVDYXNlXCIsIFwibXVsdGlsaW5lXCJdLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciBzb3VyY2UgPSBSZWdFeHAucHJvdG90eXBlO1xuXHRcdHZhciBnZXR0ZXIgPSBmdW5jdGlvbiBnZXR0ZXIoKSB7XG5cdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc291cmNlW2tleV0pO1xuXHRcdH07XG5cdFx0dmFyIGdldHRlckZ1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUdldHRlcihnZXR0ZXIsIGtleSk7XG5cblx0XHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIHtcblx0XHRcdGdldHRlcjogZ2V0dGVyLFxuXHRcdFx0Z2V0OiBnZXR0ZXJGdW5jLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJSZWdFeHBcIiwgcmVnZXhDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHVwZGF0ZSB1bmRlcmx5aW5nIHJlZ2V4IGluIGNhc2UgdGhlIGluZGV4IHdhcyBtYW51YWxseSB1cGRhdGVkXG5cbi8vIGdldCBtYXRjaCBmcm9tIHVuZGVybHlpbmcgcmVnZXgiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gc3RyaW5nQXBpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIHByb3RvTWV0aG9kcyA9IFtcImNoYXJBdFwiLCBcImNoYXJDb2RlQXRcIiwgXCJpbmRleE9mXCIsIFwibGFzdEluZGV4T2ZcIiwgXCJsb2NhbGVDb21wYXJlXCIsIFwic3Vic3RyXCIsIFwidG9Mb2NhbGVMb3dlckNhc2VcIiwgXCJ0b0xvY2FsZVVwcGVyQ2FzZVwiLCBcInRvTG93ZXJDYXNlXCIsIFwidG9VcHBlckNhc2VcIl07XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbmZ1bmN0aW9uIHN0cmluZ0FwaShlbnYpIHtcblx0dmFyIG1hcmtlZDEkMCA9IFtnZXRTdHJpbmddLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdGZ1bmN0aW9uIGdldFN0cmluZyh2YWx1ZSwgaXNOZXcpIHtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFN0cmluZyQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBcIlwiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aWYgKCEoIWlzTmV3ICYmIHZhbHVlLmlzU3ltYm9sKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIFwiU3ltYm9sKFwiICsgdmFsdWUuZGVzY3JpcHRpb24gKyBcIilcIik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZS5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFswXSwgdGhpcyk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRNZXRob2Qob2JqLCBrZXkpIHtcblx0XHR2YXIgcHJvcEluZm8gPSBvYmouZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRpZiAoIXByb3BJbmZvKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHR2YXIgbWV0aG9kID0gcHJvcEluZm8uZ2V0VmFsdWUoKTtcblx0XHRpZiAobWV0aG9kLnR5cGUgIT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihrZXkgKyBcIiBpcyBub3QgYSBtZXRob2RcIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1ldGhvZDtcblx0fVxuXG5cdHZhciBwcm90byA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0Ly8gcHJvdG90eXBlIGNhbiBiZSBjb2VyY2VkIGludG8gYW4gZW1wdHkgc3RyaW5nXG5cdHByb3RvLnZhbHVlID0gXCJcIjtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJTdHJpbmdcIjtcblx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCkgfSk7XG5cblx0dmFyIHN0cmluZ0NsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuIGdldFN0cmluZyh2YWx1ZSwgdGhpcy5pc05ldyk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsICgwLCBfdXRpbHNOYXRpdmUucHJpbWl0aXZlVG9PYmplY3QpKGVudiwgc3RyaW5nVmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHByb3RvLmRlZmluZShcInNlYXJjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChyZWdleCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgdW5kZXJseWluZ1JlZ2V4O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHVuZGVybHlpbmdSZWdleCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghcmVnZXgpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghKHJlZ2V4LmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dW5kZXJseWluZ1JlZ2V4ID0gcmVnZXguc291cmNlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBSZWdFeHA7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShyZWdleCk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0dW5kZXJseWluZ1JlZ2V4ID0gbmV3IGNvbnRleHQkMiQwLnQwKGNvbnRleHQkMiQwLnQxKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUuc2VhcmNoKHVuZGVybHlpbmdSZWdleCkpKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5zZWFyY2hcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInN1YnN0cmluZ1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdGFydCwgZW5kKSB7XG5cdFx0dmFyIHZhbHVlLCBsZW5ndGg7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdENvbnN0cnVjdG9yKHRoaXMsIFwic3Vic3RyaW5nXCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKHRoaXMubm9kZSwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShzdGFydCk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKGVuZCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVuZCk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRlbmQgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlLnN1YnN0cmluZyhzdGFydCwgZW5kKSkpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJTdHJpbmcucHJvdG90eXBlLnN1YnN0cmluZ1wiKSk7XG5cblx0cHJvdG9NZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHR2YXIgZm4gPSBTdHJpbmcucHJvdG90eXBlW25hbWVdO1xuXHRcdGlmIChmbikge1xuXHRcdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHR2YXIgc3RyaW5nVmFsdWUsXG5cdFx0XHRcdCAgICBhcmdzLFxuXHRcdFx0XHQgICAgYXJncyQzJDAgPSBhcmd1bWVudHM7XG5cdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDMkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMyQwJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkNCQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdH0pKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQzJDAudDA7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nLnByb3RvdHlwZVtuYW1lXS5hcHBseShzdHJpbmdWYWx1ZSwgYXJncykpKTtcblxuXHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHR9KSwgU3RyaW5nLnByb3RvdHlwZVtuYW1lXS5sZW5ndGgsIFwiU3RyaW5nLnByb3RvdHlwZS5cIiArIG5hbWUpKTtcblx0XHR9XG5cdH0pO1xuXG5cdHN0cmluZ0NsYXNzLmRlZmluZShcImZyb21DaGFyQ29kZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2hhckNvZGVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRjaGFyQ29kZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIGFyZ3M7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5tYXApKGNoYXJDb2RlcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGFyZ3MpKSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLmZyb21DaGFyQ29kZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic2xpY2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RhcnQsIGVuZCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShzdGFydCk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHN0YXJ0VmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGVuZFZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKGNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChlbmQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0ZW5kVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5zbGljZShzdGFydFZhbHVlLCBlbmRWYWx1ZSkpKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5zbGljZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic3BsaXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VwYXJhdG9yLCBsaW1pdCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgbGltaXRWYWx1ZSwgYXJyLCBzZXBhcmF0b3JWYWx1ZSwgcmVzdWx0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0c2VwYXJhdG9yID0gc2VwYXJhdG9yICYmIHNlcGFyYXRvci5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdGxpbWl0ID0gbGltaXQgJiYgbGltaXQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKGxpbWl0KSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1VJbnQzMikoZW52LCBsaW1pdCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRsaW1pdFZhbHVlID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0YXJyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKHNlcGFyYXRvcikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyci5zZXRWYWx1ZSgwLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZSkpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHNlcGFyYXRvclZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEoc2VwYXJhdG9yLmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHNlcGFyYXRvclZhbHVlID0gc2VwYXJhdG9yLnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHNlcGFyYXRvcik7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0XHRzZXBhcmF0b3JWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRyZXN1bHQgPSBzdHJpbmdWYWx1ZS5zcGxpdChzZXBhcmF0b3JWYWx1ZSwgbGltaXRWYWx1ZSk7XG5cblx0XHRcdFx0XHRyZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoaW5kZXgsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlKSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlN0cmluZy5wcm90b3R5cGUuc3BsaXRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInJlcGxhY2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocmVnZXhPclN1YnN0ciwgc3Vic3RyT3JGbikge1xuXHRcdHZhciByZXBsYWNlS2V5LCByZXBsYWNlTWV0aG9kLCBzdHJpbmdWYWx1ZSwgbWF0Y2hlciwgcmVwbGFjZXI7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlXCIpO1xuXG5cdFx0XHRcdFx0cmVwbGFjZUtleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcInJlcGxhY2VcIik7XG5cblx0XHRcdFx0XHRpZiAoIShyZXBsYWNlS2V5ICYmICFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQocmVnZXhPclN1YnN0cikpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlcGxhY2VNZXRob2QgPSBnZXRNZXRob2QocmVnZXhPclN1YnN0ciwgcmVwbGFjZUtleSk7XG5cblx0XHRcdFx0XHRpZiAoIXJlcGxhY2VNZXRob2QpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuIHJlcGxhY2VNZXRob2QuY2FsbChyZWdleE9yU3Vic3RyLCBbdGhpcy5ub2RlLCBzdWJzdHJPckZuXSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRtYXRjaGVyID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEocmVnZXhPclN1YnN0ciAmJiByZWdleE9yU3Vic3RyLmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG1hdGNoZXIgPSByZWdleE9yU3Vic3RyLnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHJlZ2V4T3JTdWJzdHIpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0bWF0Y2hlciA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRyZXBsYWNlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghKHN1YnN0ck9yRm4gJiYgc3Vic3RyT3JGbi50eXBlID09PSBcImZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0dmFyIGNhbGxlZSA9IHN1YnN0ck9yRm4ubmF0aXZlID8gc3Vic3RyT3JGbiA6IHN1YnN0ck9yRm4ubm9kZTtcblxuXHRcdFx0XHRcdFx0cmVwbGFjZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0aGlzQXJnID0gc3Vic3RyT3JGbi5pc1N0cmljdCgpIHx8IHN1YnN0ck9yRm4uaXNTdHJpY3QoKSA/IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEIDogZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKS5tYXAoZnVuY3Rpb24gKGFyZykge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmcpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0dmFyIHJlcGxhY2VkVmFsdWUgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCBzdWJzdHJPckZuLCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUpKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlcGxhY2VkVmFsdWUgPyAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykocmVwbGFjZWRWYWx1ZSkpIDogdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9KSgpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzdWJzdHJPckZuKTtcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdHJlcGxhY2VyID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUucmVwbGFjZShtYXRjaGVyLCByZXBsYWNlcikpKTtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJtYXRjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChyZWdleCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgYWN0dWFsUmVnZXgsIG1hdGNoLCBfcmV0MjtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGFjdHVhbFJlZ2V4ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEocmVnZXggJiYgcmVnZXguY2xhc3NOYW1lID09PSBcIlJlZ0V4cFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhY3R1YWxSZWdleCA9IHJlZ2V4LnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGlmICghcmVnZXgpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gUmVnRXhwO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkocmVnZXgpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGFjdHVhbFJlZ2V4ID0gbmV3IGNvbnRleHQkMiQwLnQwKGNvbnRleHQkMiQwLnQxKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdG1hdGNoID0gc3RyaW5nVmFsdWUubWF0Y2goYWN0dWFsUmVnZXgpO1xuXG5cdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X3JldDIgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoZXMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdFx0XHRtYXRjaC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlcy5zZXRWYWx1ZShpbmRleCwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVzLnNldFZhbHVlKFwiaW5kZXhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2guaW5kZXgpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRcdG1hdGNoZXMuc2V0VmFsdWUoXCJpbnB1dFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShtYXRjaC5pbnB1dCksIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0djogbWF0Y2hlc1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9KSgpO1xuXG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIF9yZXQyID09PSBcIm9iamVjdFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfcmV0Mi52KTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5OVUxMKTtcblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5tYXRjaFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiY29uY2F0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdFx0XHRhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdFx0fVxuXG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCB2YWx1ZXM7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS5jb25jYXRcIik7XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHZhbHVlcyA9IFtzdHJpbmdWYWx1ZV07XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSB2YWx1ZXM7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGFyZ3MsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHZhbHVlcyA9IGNvbnRleHQkMiQwLnQwLmNvbmNhdC5jYWxsKGNvbnRleHQkMiQwLnQwLCBjb250ZXh0JDIkMC50MSk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZXMuam9pbihcIlwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJTdHJpbmcucHJvdG90eXBlLmNvbmNhdFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidHJpbVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS50cmltXCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKHRoaXMubm9kZSwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlLnRyaW0oKSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIlN0cmluZy5wcm90b3R5cGUudHJpbVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIlN0cmluZ1wiLCBcIlN0cmluZy5wcm90b3R5cGUudG9TdHJpbmdcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZSk7XG5cdH0sIDAsIFwiU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzTm90R2VuZXJpYyh0aGlzLm5vZGUsIFwiU3RyaW5nXCIsIFwiU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mXCIpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUudmFsdWUpO1xuXHR9LCAwLCBcIlN0cmluZy5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIlN0cmluZ1wiLCBzdHJpbmdDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIGNhbGxlZCBhcyBuZXciLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm5vcm1hbGl6ZUluZGV4ID0gbm9ybWFsaXplSW5kZXg7XG5leHBvcnRzLmV4ZWN1dGVDYWxsYmFjayA9IGV4ZWN1dGVDYWxsYmFjaztcbnZhciBtYXJrZWQwJDAgPSBbZXhlY3V0ZUNhbGxiYWNrXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluZGV4KGluZGV4LCBsZW5ndGgpIHtcblx0aWYgKGluZGV4IDwgMCkge1xuXHRcdHJldHVybiBNYXRoLm1heChsZW5ndGggKyBpbmRleCwgMCk7XG5cdH1cblxuXHRyZXR1cm4gTWF0aC5taW4oaW5kZXgsIGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKSB7XG5cdHZhciBzY29wZSwgYXJncztcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2skKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCF0aGlzQXJnKSB7XG5cdFx0XHRcdFx0dGhpc0FyZyA9IGNhbGxiYWNrLmlzU3RyaWN0KCkgPyBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCA6IGVudi5nbG9iYWw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVFeGVjdXRpb25TY29wZShjYWxsYmFjaywgdGhpc0FyZyk7XG5cblx0XHRcdFx0c2NvcGUuaW5pdChjYWxsYmFjay5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdGFyZ3MgPSBbZW50cnkudmFsdWUsIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlbnRyeS5rZXkpLCBhcnJdO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgYXJncykgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuLy8geWllbGQgc2NvcGUubG9hZEFyZ3MoY2FsbGJhY2subm9kZS5wYXJhbXMsIGFyZ3MsIGNhbGxiYWNrKTtcblxuLy8gcmV0dXJuIHlpZWxkIHNjb3BlLnVzZShmdW5jdGlvbiogKCkge1xuLy8gXHRsZXQgZXhlY3V0aW9uUmVzdWx0ID0geWllbGQgZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoY2FsbGJhY2subm9kZS5ib2R5LCBjYWxsYmFjay5ub2RlKS5leGVjdXRlKCk7XG4vLyBcdGlmIChleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LmV4aXQpIHtcbi8vIFx0XHRyZXR1cm4gZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCB8fCBVTkRFRklORUQ7XG4vLyBcdH1cblxuLy8gXHRyZXR1cm4gVU5ERUZJTkVEO1xuLy8gfSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiY29weVdpdGhpblwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHN0YXJ0LCBlbmQpIHtcblx0XHR2YXIgYXJyLCBsZW5ndGgsIHRvLCBmcm9tLCBmaW5hbCwgY291bnQsIGRpciwgY3VycmVudDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikodGFyZ2V0KTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gbGVuZ3RoO1xuXHRcdFx0XHRcdHRvID0gKDAsIF9hcnJheUhlbHBlcnMubm9ybWFsaXplSW5kZXgpKGNvbnRleHQkMiQwLnQwLCBjb250ZXh0JDIkMC50MSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQzID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGZyb20gPSAoMCwgX2FycmF5SGVscGVycy5ub3JtYWxpemVJbmRleCkoY29udGV4dCQyJDAudDIsIGNvbnRleHQkMiQwLnQzKTtcblxuXHRcdFx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc1VuZGVmaW5lZCkoZW5kKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDQgPSBsZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW5kKTtcblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ1ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50NiA9IGxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50NCA9ICgwLCBfYXJyYXlIZWxwZXJzLm5vcm1hbGl6ZUluZGV4KShjb250ZXh0JDIkMC50NSwgY29udGV4dCQyJDAudDYpO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0ZmluYWwgPSBjb250ZXh0JDIkMC50NDtcblx0XHRcdFx0XHRjb3VudCA9IE1hdGgubWluKGZpbmFsIC0gZnJvbSwgbGVuZ3RoIC0gdG8pO1xuXHRcdFx0XHRcdGRpciA9IDE7XG5cblx0XHRcdFx0XHRpZiAoZnJvbSA8IHRvICYmIHRvIDwgZnJvbSArIGNvdW50KSB7XG5cdFx0XHRcdFx0XHRkaXIgPSAtMTtcblx0XHRcdFx0XHRcdGZyb20gPSBmcm9tICsgY291bnQgLSAxO1xuXHRcdFx0XHRcdFx0dG8gPSB0byArIGNvdW50IC0gMTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR3aGlsZSAoY291bnQgPiAwKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50ID0gYXJyLmdldFByb3BlcnR5KGZyb20pO1xuXG5cdFx0XHRcdFx0XHRpZiAoY3VycmVudCkge1xuXHRcdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUodG8sIGN1cnJlbnQuZ2V0VmFsdWUoKSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGFyci5kZWxldGVQcm9wZXJ0eSh0byk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZyb20gKz0gZGlyO1xuXHRcdFx0XHRcdFx0dG8gKz0gZGlyO1xuXHRcdFx0XHRcdFx0Y291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZmlsbFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgaywgZmluYWw7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghc3RhcnQpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSAwO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0ayA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShlbmQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0ZmluYWwgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRcdGsgPSAoMCwgX2FycmF5SGVscGVycy5ub3JtYWxpemVJbmRleCkoaywgbGVuZ3RoKTtcblx0XHRcdFx0XHRmaW5hbCA9ICgwLCBfYXJyYXlIZWxwZXJzLm5vcm1hbGl6ZUluZGV4KShmaW5hbCwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdHdoaWxlIChrIDwgZmluYWwpIHtcblx0XHRcdFx0XHRcdGFyci5zZXRWYWx1ZShrKyssIHZhbHVlLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmZpbGxcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZmluZEluZGV4XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgaSwgcHJvcEluZm8sIHZhbHVlLCBwYXNzZWQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGFycik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihwcmVkaWNhdGUsIFwicHJlZGljYXRlXCIpO1xuXG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGlmICghKGkgPCBsZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwcm9wSW5mbyA9IGFyci5nZXRQcm9wZXJ0eShpKTtcblx0XHRcdFx0XHR2YWx1ZSA9IHByb3BJbmZvID8gcHJvcEluZm8uZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9hcnJheUhlbHBlcnMuZXhlY3V0ZUNhbGxiYWNrKShlbnYsIHByZWRpY2F0ZSwgeyBrZXk6IGksIHZhbHVlOiB2YWx1ZSB9LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRpZiAoIXBhc3NlZCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpKSk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoLTEpKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9hcnJheUhlbHBlcnMgPSByZXF1aXJlKFwiLi9hcnJheS1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJmaW5kXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgaSwgcHJvcEluZm8sIHZhbHVlLCBwYXNzZWQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbikocHJlZGljYXRlLCBcInByZWRpY2F0ZVwiKTtcblxuXHRcdFx0XHRcdC8vIGZvciBzb21lIHJlYXNvbiB0aGUgc3BlYyBmb3IgdGhlIGZpbmQgbWV0aG9kcyBjYWxscyBlbXB0eSBhcnJheSBzbG90c1xuXHRcdFx0XHRcdC8vIGhvdyB0aGF0IGlzIHVzZWZ1bCwgYmVhdHMgbWVcblx0XHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0aWYgKCEoaSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHByb3BJbmZvID0gYXJyLmdldFByb3BlcnR5KGkpO1xuXHRcdFx0XHRcdHZhbHVlID0gcHJvcEluZm8gPyBwcm9wSW5mby5nZXRWYWx1ZSgpIDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX2FycmF5SGVscGVycy5leGVjdXRlQ2FsbGJhY2spKGVudiwgcHJlZGljYXRlLCB7IGtleTogaSwgdmFsdWU6IHZhbHVlIH0sIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmICghcGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5maW5kXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vaXRlcmF0b3JzL1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBtYXJrZWQxJDAgPSBbY3JlYXRlQXJyYXldLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5cdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZUFycmF5KGN0b3IsIHNvdXJjZSkge1xuXHRcdHZhciBhcmdzLCBoYXNJdGVyYXRvciwgX2xlbmd0aDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY3JlYXRlQXJyYXkkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCEoY3RvciA9PT0gJHRhcmdldCB8fCAhKDAsIF91dGlsc0NvbnRyYWN0cy5pc0NvbnN0cnVjdG9yKShjdG9yKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZUFycmF5KCkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRhcmdzID0gW107XG5cdFx0XHRcdFx0aGFzSXRlcmF0b3IgPSBzb3VyY2UuaGFzKGl0ZXJhdG9yS2V5KTtcblxuXHRcdFx0XHRcdGlmIChoYXNJdGVyYXRvcikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoc291cmNlKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0X2xlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRhcmdzLnB1c2goX2xlbmd0aCk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gY3Rvci5jb25zdHJ1Y3QoY3RvciwgYXJncyk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFswXSwgdGhpcyk7XG5cdH1cblxuXHQkdGFyZ2V0LmRlZmluZShcImZyb21cIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoaXRlbXMsIG1hcEZuLCB0aGlzQXJnKSB7XG5cdFx0dmFyIG1hcHBlciwgYXJyLCBpdCwgaW5kZXgsIGRvbmUsIGN1cnJlbnQsIF9pdCRuZXh0LCB2YWx1ZTtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHR0aGlzQXJnID0gdGhpc0FyZyB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRcdG1hcHBlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShtYXBGbikpIHtcblx0XHRcdFx0XHRcdG1hcHBlciA9IGZ1bmN0aW9uICh2KSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2O1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKShtYXBGbiwgXCJtYXBGblwiKTtcblx0XHRcdFx0XHRcdG1hcHBlciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKHYsIGkpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gbWFwRm4uY2FsbCh0aGlzQXJnLCBbdiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaSldKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiBjcmVhdGVBcnJheSh0aGlzLm5vZGUsIGl0ZW1zKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0YXJyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpdCA9IF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5nZXRJdGVyYXRvcihlbnYsIGl0ZW1zKTtcblx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0ZG9uZSA9IGZhbHNlO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDEwO1xuXHRcdFx0XHRcdGN1cnJlbnQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0X2l0JG5leHQgPSBpdC5uZXh0KCk7XG5cdFx0XHRcdFx0ZG9uZSA9IF9pdCRuZXh0LmRvbmU7XG5cdFx0XHRcdFx0Y3VycmVudCA9IF9pdCRuZXh0LnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gbWFwcGVyKGN1cnJlbnQudmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIGluZGV4KTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGFyci5zZXRWYWx1ZShpbmRleCsrLCB2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDEwKTtcblxuXHRcdFx0XHRcdGlmIChcInJldHVyblwiIGluIGl0KSB7XG5cdFx0XHRcdFx0XHRpdFtcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyODpcblxuXHRcdFx0XHRcdGFyci5zZXRWYWx1ZShcImxlbmd0aFwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpbmRleCksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTAsIDIyXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5mcm9tXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWFya2VkMSQwID0gW2dldEl0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHR2YXIgaXRlcmF0b3JQcm90byA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdGl0ZXJhdG9yUHJvdG8uY2xhc3NOYW1lID0gXCJBcnJheSBJdGVyYXRvclwiO1xuXG5cdGl0ZXJhdG9yUHJvdG8uZGVmaW5lKFwibmV4dFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHRoaXMubm9kZS5hZHZhbmNlKCk7XG5cdFx0aWYgKHJlc3VsdC52YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdC52YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvclJlc3VsdCh7IGRvbmU6IHJlc3VsdC5kb25lIH0pO1xuXHR9LCAwLCBcIkFycmF5SXRlcmF0b3IucHJvdG90eXBlLm5leHRcIikpO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yVmFsdWUoYXJyLCBpbmRleCwga2luZCkge1xuXHRcdHZhciBrZXkgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKGtpbmQgIT09IFwidmFsdWVcIikge1xuXHRcdFx0a2V5ID0gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaW5kZXgpO1xuXHRcdFx0aWYgKGtpbmQgPT09IFwia2V5XCIpIHtcblx0XHRcdFx0cmV0dXJuIGtleTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgcHJvcEluZm8gPSBhcnIuZ2V0UHJvcGVydHkoaW5kZXgpO1xuXHRcdHZhciB2YWx1ZSA9IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHR2YWx1ZSA9IHByb3BJbmZvLmdldFZhbHVlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKGtpbmQgPT09IFwidmFsdWVcIikge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUFycmF5KFtrZXksIHZhbHVlXSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRJdGVyYXRvcihhcnIsIGtpbmQpIHtcblx0XHR2YXIgZG9uZSwgaW5kZXgsIF9sZW5ndGgsIHZhbHVlO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRJdGVyYXRvciQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRkb25lID0gZmFsc2U7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2xlbmd0aCA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShhcnIpKTtcblx0XHRcdFx0XHR2YWx1ZSA9IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdFx0aWYgKGluZGV4ID49IF9sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGRvbmUgPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGNyZWF0ZUl0ZXJhdG9yVmFsdWUoYXJyLCBpbmRleCwga2luZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3JSZXN1bHQoeyB2YWx1ZTogdmFsdWUsIGRvbmU6IGRvbmUgfSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzBdLCB0aGlzKTtcblx0fVxuXG5cdCR0YXJnZXQuZGVmaW5lKFwia2V5c1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlLCB0cnVlKTtcblx0XHR2YXIgaXQgPSBnZXRJdGVyYXRvcihhcnIsIFwia2V5XCIpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKGl0LCBpdGVyYXRvclByb3RvKTtcblx0fSwgMCwgXCJBcnJheS5wcm90b3R5cGUua2V5c1wiKSk7XG5cblx0JHRhcmdldC5kZWZpbmUoXCJlbnRyaWVzXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgYXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUsIHRydWUpO1xuXHRcdHZhciBpdCA9IGdldEl0ZXJhdG9yKGFycik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3IoaXQsIGl0ZXJhdG9yUHJvdG8pO1xuXHR9LCAwLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpKTtcblxuXHR2YXIgc3RyaW5nVGFnS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwidG9TdHJpbmdUYWdcIik7XG5cdGl0ZXJhdG9yUHJvdG8uZGVmaW5lKHN0cmluZ1RhZ0tleSwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJBcnJheSBJdGVyYXRvclwiKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0dmFyIGl0ZXJhdG9yRnVuYyA9IGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgYXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUsIHRydWUpO1xuXHRcdHZhciBpdCA9IGdldEl0ZXJhdG9yKGFyciwgXCJ2YWx1ZVwiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvcihpdCwgaXRlcmF0b3JQcm90byk7XG5cdH0sIDAsIFwiQXJyYXkucHJvdG90eXBlLnZhbHVlc1wiKTtcblxuXHQkdGFyZ2V0LmRlZmluZShcInZhbHVlc1wiLCBpdGVyYXRvckZ1bmMpO1xuXG5cdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXHQkdGFyZ2V0LmRlZmluZShpdGVyYXRvcktleSwgaXRlcmF0b3JGdW5jKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfYXJyYXlDb3B5V2l0aGluID0gcmVxdWlyZShcIi4vYXJyYXkuY29weS13aXRoaW5cIik7XG5cbnZhciBfYXJyYXlDb3B5V2l0aGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5Q29weVdpdGhpbik7XG5cbnZhciBfYXJyYXlGaWxsID0gcmVxdWlyZShcIi4vYXJyYXkuZmlsbFwiKTtcblxudmFyIF9hcnJheUZpbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlGaWxsKTtcblxudmFyIF9hcnJheUZpbmQgPSByZXF1aXJlKFwiLi9hcnJheS5maW5kXCIpO1xuXG52YXIgX2FycmF5RmluZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUZpbmQpO1xuXG52YXIgX2FycmF5RmluZEluZGV4ID0gcmVxdWlyZShcIi4vYXJyYXkuZmluZC1pbmRleFwiKTtcblxudmFyIF9hcnJheUZpbmRJbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUZpbmRJbmRleCk7XG5cbnZhciBfYXJyYXlGcm9tID0gcmVxdWlyZShcIi4vYXJyYXkuZnJvbVwiKTtcblxudmFyIF9hcnJheUZyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlGcm9tKTtcblxudmFyIF9hcnJheUl0ZXJhdG9yID0gcmVxdWlyZShcIi4vYXJyYXkuaXRlcmF0b3JcIik7XG5cbnZhciBfYXJyYXlJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUl0ZXJhdG9yKTtcblxudmFyIF9hcnJheU9mID0gcmVxdWlyZShcIi4vYXJyYXkub2ZcIik7XG5cbnZhciBfYXJyYXlPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheU9mKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJGdsb2JhbCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBhcnJheUNsYXNzID0gJGdsb2JhbC5nZXRWYWx1ZShcIkFycmF5XCIpO1xuXHR2YXIgcHJvdG8gPSBhcnJheUNsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXG5cdCgwLCBfYXJyYXlGcm9tMltcImRlZmF1bHRcIl0pKGFycmF5Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlPZjJbXCJkZWZhdWx0XCJdKShhcnJheUNsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXG5cdCgwLCBfYXJyYXlDb3B5V2l0aGluMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX2FycmF5RmlsbDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9hcnJheUZpbmQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlGaW5kSW5kZXgyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlJdGVyYXRvcjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwib2ZcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGl0ZW1zID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRpdGVtc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgbGVuZ3RoLCBsZW5ndGhWYWx1ZSwgYXJyLCBpO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoISh0aGlzLm5vZGUgPT09ICR0YXJnZXQgfHwgISgwLCBfdXRpbHNDb250cmFjdHMuaXNDb25zdHJ1Y3RvcikodGhpcy5ub2RlKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZUFycmF5KGl0ZW1zKSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGl0ZW1zLmxlbmd0aDtcblx0XHRcdFx0XHRsZW5ndGhWYWx1ZSA9IGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMubm9kZS5jb25zdHJ1Y3QodGhpcy5ub2RlLCBbbGVuZ3RoVmFsdWVdKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0YXJyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRcdHdoaWxlIChpIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoaSwgeyB2YWx1ZTogaXRlbXNbaV0sIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJyLnNldFZhbHVlKFwibGVuZ3RoXCIsIGxlbmd0aFZhbHVlKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5Lm9mXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcblxuZnVuY3Rpb24gZmluZEluZGV4KG9iaiwga2V5KSB7XG5cdHZhciBlbnYgPSBvYmpbX1N5bWJvbCRmb3IoXCJlbnZcIildO1xuXG5cdGZvciAodmFyIGkgPSAwLCBfbGVuZ3RoID0gb2JqLmRhdGEubGVuZ3RoOyBpIDwgX2xlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGN1cnJlbnQgPSBvYmouZGF0YVtpXTtcblx0XHRpZiAoY3VycmVudCkge1xuXHRcdFx0aWYgKGVudi5vcHMuYXJlU2FtZU9yWmVybyhrZXksIGN1cnJlbnQua2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gLTE7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXM1ID0gcmVxdWlyZShcIi4uL2VzNS9cIik7XG5cbnZhciBfZXM1MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzNSk7XG5cbnZhciBfbnVtYmVyID0gcmVxdWlyZShcIi4vbnVtYmVyXCIpO1xuXG52YXIgX251bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXIpO1xuXG52YXIgX2FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlcIik7XG5cbnZhciBfYXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXkpO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdFwiKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfc3RyaW5nID0gcmVxdWlyZShcIi4vc3RyaW5nXCIpO1xuXG52YXIgX3N0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmcpO1xuXG52YXIgX3Byb3h5ID0gcmVxdWlyZShcIi4vcHJveHlcIik7XG5cbnZhciBfcHJveHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJveHkpO1xuXG52YXIgX3NldCA9IHJlcXVpcmUoXCIuL3NldC9cIik7XG5cbnZhciBfc2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldCk7XG5cbnZhciBfbWFwID0gcmVxdWlyZShcIi4vbWFwXCIpO1xuXG52YXIgX21hcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXApO1xuXG52YXIgX21hdGggPSByZXF1aXJlKFwiLi9tYXRoXCIpO1xuXG52YXIgX21hdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0aCk7XG5cbnZhciBfcmVmbGVjdCA9IHJlcXVpcmUoXCIuL3JlZmxlY3RcIik7XG5cbnZhciBfcmVmbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0KTtcblxudmFyIF9yZWdleCA9IHJlcXVpcmUoXCIuL3JlZ2V4XCIpO1xuXG52YXIgX3JlZ2V4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2V4KTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHQoMCwgX2VzNTJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX3NldDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciAkZ2xvYmFsID0gZW52Lmdsb2JhbDtcblxuXHQoMCwgX3N5bWJvbDJbXCJkZWZhdWx0XCJdKSgkZ2xvYmFsLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdDJbXCJkZWZhdWx0XCJdKSgkZ2xvYmFsLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX3N0cmluZzJbXCJkZWZhdWx0XCJdKSgkZ2xvYmFsLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5MltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfbnVtYmVyMltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfbWF0aDJbXCJkZWZhdWx0XCJdKSgkZ2xvYmFsLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX3Byb3h5MltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfcmVnZXgyW1wiZGVmYXVsdFwiXSkoJGdsb2JhbCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0MltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfbWFwMltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cblx0Ly8gc2V0dXAgY2xhc3Mgc3ltYm9sc1xuXHR2YXIgc3RyaW5nVGFnS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwidG9TdHJpbmdUYWdcIik7XG5cdHZhciBzcGVjaWVzS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwic3BlY2llc1wiKTtcblx0W1wiRnVuY3Rpb25cIiwgXCJOdW1iZXJcIiwgXCJCb29sZWFuXCIsIFwiT2JqZWN0XCIsIFwiQXJyYXlcIiwgXCJTdHJpbmdcIiwgXCJEYXRlXCIsIFwiUmVnRXhwXCIsIFwiSlNPTlwiLCBcIkVycm9yXCIsIFwiTWF0aFwiLCBcIk1hcFwiXS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlTmFtZSkge1xuXHRcdHZhciBjdG9yID0gJGdsb2JhbC5nZXRWYWx1ZSh0eXBlTmFtZSk7XG5cblx0XHR2YXIgc3BlY2llc0dldHRlciA9IGZ1bmN0aW9uIHNwZWNpZXNHZXR0ZXIoKSB7XG5cdFx0XHRyZXR1cm4gY3Rvcjtcblx0XHR9O1xuXHRcdHZhciBzcGVjaWVzR2V0dGVyRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlR2V0dGVyKHNwZWNpZXNHZXR0ZXIsIFwiW1N5bWJvbC5zcGVjaWVzXVwiKTtcblx0XHRjdG9yLmRlZmluZShzcGVjaWVzS2V5LCBudWxsLCB7IGdldHRlcjogc3BlY2llc0dldHRlciwgZ2V0OiBzcGVjaWVzR2V0dGVyRnVuYyB9KTtcblxuXHRcdGlmIChjdG9yLm93bnMoXCJwcm90b3R5cGVcIikpIHtcblx0XHRcdHZhciBwcm90byA9IGN0b3IuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdFx0XHRwcm90by5kZWZpbmUoc3RyaW5nVGFnS2V5LCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0eXBlTmFtZSksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdFx0XHQvLyBwcm90b3R5cGVzIGluIEVTNiBjYW4ndCBiZSBjb2VyY2VkIGludG8gcHJpbWl0aXZlc1xuXHRcdFx0cHJvdG8uY2xhc3NOYW1lID0gXCJPYmplY3RcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3Rvci5kZWZpbmUoc3RyaW5nVGFnS2V5LCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0eXBlTmFtZSksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gdXBkYXRlIGxlbmd0aCBhdHRyaWJ1dGVzIG9uIGJ1aWx0LWluc1xuXHR2YXIgbGVuZ3RoQXR0ciA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cdCRnbG9iYWwuZ2V0VmFsdWUoXCJGdW5jdGlvblwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSksIGxlbmd0aEF0dHIpO1xuXHQkZ2xvYmFsLmdldFZhbHVlKFwiTnVtYmVyXCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgxKSwgbGVuZ3RoQXR0cik7XG5cdCRnbG9iYWwuZ2V0VmFsdWUoXCJCb29sZWFuXCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgxKSwgbGVuZ3RoQXR0cik7XG5cdCRnbG9iYWwuZ2V0VmFsdWUoXCJPYmplY3RcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDEpLCBsZW5ndGhBdHRyKTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIkFycmF5XCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgxKSwgbGVuZ3RoQXR0cik7XG5cdCRnbG9iYWwuZ2V0VmFsdWUoXCJTdHJpbmdcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDEpLCBsZW5ndGhBdHRyKTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIkRhdGVcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDcpLCBsZW5ndGhBdHRyKTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIlJlZ0V4cFwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMiksIGxlbmd0aEF0dHIpO1xuXHQkZ2xvYmFsLmdldFZhbHVlKFwiTWFwXCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgbGVuZ3RoQXR0cik7XG5cblx0dmFyIGZ1bmNQcm90byA9ICRnbG9iYWwuZ2V0VmFsdWUoXCJGdW5jdGlvblwiKS5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblxuXHR2YXIgdGhyb3dlciA9IGZ1bmN0aW9uIHRocm93ZXIoKSB7XG5cdFx0dGhyb3cgVHlwZUVycm9yKFwiJ2NhbGxlcicsICdjYWxsZWUnLCBhbmQgJ2FyZ3VtZW50cycgcHJvcGVydGllcyBtYXkgbm90IGJlIGFjY2Vzc2VkIG9uIHN0cmljdCBtb2RlIGZ1bmN0aW9ucyBvciB0aGUgYXJndW1lbnRzIG9iamVjdHMgZm9yIGNhbGxzIHRvIHRoZW1cIik7XG5cdH07XG5cblx0dmFyIHRocm93ZXJGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24odGhyb3dlcik7XG5cdHZhciBwcm9wID0ge1xuXHRcdGdldDogdGhyb3dlckZ1bmMsXG5cdFx0Z2V0dGVyOiB0aHJvd2VyLFxuXHRcdHNldDogdGhyb3dlckZ1bmMsXG5cdFx0c2V0dGVyOiB0aHJvd2VyLFxuXHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdGNvbmZpZ3VyYWJsZTogZmFsc2Vcblx0fTtcblxuXHRmdW5jUHJvdG8uZGVmaW5lKFwiY2FsbGVyXCIsIG51bGwsIHByb3ApO1xuXHRmdW5jUHJvdG8uZGVmaW5lKFwiYXJndW1lbnRzXCIsIG51bGwsIHByb3ApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImNsZWFyXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTWFwKSh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5jbGVhclwiKTtcblx0XHR0aGlzLm5vZGUuZGF0YSA9IFtdO1xuXHR9LCAwLCBcIk1hcC5wcm90b3R5cGUuY2xlYXJcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfY29sbGVjdGlvbkhlbHBlcnMgPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uLWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImRlbGV0ZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoa2V5KSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc01hcCkodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUuZGVsZXRlXCIpO1xuXG5cdFx0dmFyIGRhdGEgPSB0aGlzLm5vZGUuZGF0YTtcblx0XHRpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAoMCwgX2NvbGxlY3Rpb25IZWxwZXJzLmZpbmRJbmRleCkodGhpcy5ub2RlLCBrZXkpO1xuXHRcdFx0aWYgKGluZGV4ID49IDApIHtcblx0XHRcdFx0Ly8gbGVhdmUgaG9sZXMgaW4gYXJyYXlcblx0XHRcdFx0ZGF0YVtpbmRleF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHR9LCAxLCBcIk1hcC5wcm90b3R5cGUuZGVsZXRlXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImZvckVhY2hcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0XHR2YXIgZGF0YSwgaW5kZXgsIGVudHJ5LCBhcmdzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTWFwKSh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5mb3JFYWNoXCIpO1xuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbikoY2FsbGJhY2ssIFwiY2FsbGJhY2tcIik7XG5cblx0XHRcdFx0XHR0aGlzQXJnID0gdGhpc0FyZyB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRkYXRhID0gdGhpcy5ub2RlLmRhdGE7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRpZiAoIShpbmRleCA8IGRhdGEubGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBkYXRhW2luZGV4KytdO1xuXG5cdFx0XHRcdFx0aWYgKCFlbnRyeSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IFtlbnRyeS52YWx1ZSwgZW50cnkua2V5LCB0aGlzLm5vZGVdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBhcmdzKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJNYXAucHJvdG90eXBlLmZvckVhY2hcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gbGVuZ3RoIG1pZ2h0IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX2NvbGxlY3Rpb25IZWxwZXJzID0gcmVxdWlyZShcIi4vY29sbGVjdGlvbi1oZWxwZXJzXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZ2V0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChrZXkpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTWFwKSh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5nZXRcIik7XG5cblx0XHR2YXIgaW5kZXggPSAoMCwgX2NvbGxlY3Rpb25IZWxwZXJzLmZpbmRJbmRleCkodGhpcy5ub2RlLCBrZXkpO1xuXHRcdGlmIChpbmRleCA+PSAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ub2RlLmRhdGFbaW5kZXhdLnZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0fSwgMSwgXCJNYXAucHJvdG90eXBlLmdldFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF9jb2xsZWN0aW9uSGVscGVycyA9IHJlcXVpcmUoXCIuL2NvbGxlY3Rpb24taGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiaGFzXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChrZXkpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTWFwKSh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5oYXNcIik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCgwLCBfY29sbGVjdGlvbkhlbHBlcnMuZmluZEluZGV4KSh0aGlzLm5vZGUsIGtleSkgPj0gMCk7XG5cdH0sIDEsIFwiTWFwLnByb3RvdHlwZS5oYXNcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIG1hcmtlZDEkMCA9IFtnZXRJdGVyYXRvcl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cblx0ZnVuY3Rpb24gY3JlYXRlSXRlcmF0b3JWYWx1ZShlbnRyeSwga2luZCkge1xuXHRcdGlmIChraW5kID09PSBcImtleVwiKSB7XG5cdFx0XHRyZXR1cm4gZW50cnkua2V5O1xuXHRcdH1cblxuXHRcdGlmIChraW5kID09PSBcInZhbHVlXCIpIHtcblx0XHRcdHJldHVybiBlbnRyeS52YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVBcnJheShbZW50cnkua2V5LCBlbnRyeS52YWx1ZV0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0SXRlcmF0b3Iob2JqLCBraW5kKSB7XG5cdFx0dmFyIGRvbmUsIGluZGV4LCB2YWx1ZSwgY3VycmVudDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldEl0ZXJhdG9yJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGRvbmUgPSBmYWxzZTtcblx0XHRcdFx0XHRpbmRleCA9IDA7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0aWYgKCEoaW5kZXggPCBvYmouZGF0YS5sZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjdXJyZW50ID0gb2JqLmRhdGFbaW5kZXgrK107XG5cblx0XHRcdFx0XHRpZiAoIWN1cnJlbnQpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFsdWUgPSBjcmVhdGVJdGVyYXRvclZhbHVlKGN1cnJlbnQsIGtpbmQpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAxMSk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cblx0XHRcdFx0XHRkb25lID0gIXZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvclJlc3VsdCh7IHZhbHVlOiB2YWx1ZSwgZG9uZTogZG9uZSB9KTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFswXSwgdGhpcyk7XG5cdH1cblxuXHR2YXIgcHJvdG8gPSBmYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRwcm90by5kZWZpbmUoX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwidG9TdHJpbmdUYWdcIiksIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiTWFwIEl0ZXJhdG9yXCIpLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHQkdGFyZ2V0LmRlZmluZShcImtleXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNNYXApKHRoaXMubm9kZSwgXCJNYXAucHJvdG90eXBlLmtleXNcIik7XG5cdFx0dmFyIGl0ID0gZ2V0SXRlcmF0b3IodGhpcy5ub2RlLCBcImtleVwiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvcihpdCwgcHJvdG8pO1xuXHR9LCAwLCBcIk1hcC5wcm90b3R5cGUua2V5c1wiKSk7XG5cblx0JHRhcmdldC5kZWZpbmUoXCJ2YWx1ZXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNNYXApKHRoaXMubm9kZSwgXCJNYXAucHJvdG90eXBlLnZhbHVlc1wiKTtcblx0XHR2YXIgaXQgPSBnZXRJdGVyYXRvcih0aGlzLm5vZGUsIFwidmFsdWVcIik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3IoaXQsIHByb3RvKTtcblx0fSwgMCwgXCJNYXAucHJvdG90eXBlLnZhbHVlc1wiKSk7XG5cblx0dmFyIGl0ZXJhdG9yRnVuYyA9IGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTWFwKSh0aGlzLm5vZGUsIFwiTWFwLnByb3RvdHlwZS5lbnRyaWVzXCIpO1xuXHRcdHZhciBpdCA9IGdldEl0ZXJhdG9yKHRoaXMubm9kZSk7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3IoaXQsIHByb3RvKTtcblx0fSwgMCwgXCJNYXAucHJvdG90eXBlLmVudHJpZXNcIik7XG5cblx0JHRhcmdldC5kZWZpbmUoXCJlbnRyaWVzXCIsIGl0ZXJhdG9yRnVuYyk7XG5cblx0dmFyIGl0ZXJhdG9yS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwiaXRlcmF0b3JcIik7XG5cdCR0YXJnZXQuZGVmaW5lKGl0ZXJhdG9yS2V5LCBpdGVyYXRvckZ1bmMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vaXRlcmF0b3JzL1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF9tYXBDbGVhciA9IHJlcXVpcmUoXCIuL21hcC5jbGVhclwiKTtcblxudmFyIF9tYXBDbGVhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBDbGVhcik7XG5cbnZhciBfbWFwRGVsZXRlID0gcmVxdWlyZShcIi4vbWFwLmRlbGV0ZVwiKTtcblxudmFyIF9tYXBEZWxldGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwRGVsZXRlKTtcblxudmFyIF9tYXBGb3JFYWNoID0gcmVxdWlyZShcIi4vbWFwLmZvci1lYWNoXCIpO1xuXG52YXIgX21hcEZvckVhY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwRm9yRWFjaCk7XG5cbnZhciBfbWFwR2V0ID0gcmVxdWlyZShcIi4vbWFwLmdldFwiKTtcblxudmFyIF9tYXBHZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwR2V0KTtcblxudmFyIF9tYXBIYXMgPSByZXF1aXJlKFwiLi9tYXAuaGFzXCIpO1xuXG52YXIgX21hcEhhczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBIYXMpO1xuXG52YXIgX21hcFNldCA9IHJlcXVpcmUoXCIuL21hcC5zZXRcIik7XG5cbnZhciBfbWFwU2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcFNldCk7XG5cbnZhciBfbWFwU2l6ZSA9IHJlcXVpcmUoXCIuL21hcC5zaXplXCIpO1xuXG52YXIgX21hcFNpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwU2l6ZSk7XG5cbnZhciBfbWFwSXRlcmF0b3IgPSByZXF1aXJlKFwiLi9tYXAuaXRlcmF0b3JcIik7XG5cbnZhciBfbWFwSXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwSXRlcmF0b3IpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkZ2xvYmFsLCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIHByb3RvID0gZmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblxuXHR2YXIgbWFwQ2xhc3MgPSBmYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGl0ZXJhYmxlKSB7XG5cdFx0dmFyIGluc3RhbmNlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciBNYXAgcmVxdWlyZXMgJ25ldydcIik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gZmFjdG9yeS5jcmVhdGUoXCJNYXBcIik7XG5cblx0XHRcdFx0XHRpZiAoKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCkoaXRlcmFibGUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5kZWxlZ2F0ZVlpZWxkKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHRcdFx0dmFyIHNldHRlciwgaXQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkoaXRlcmFibGUsIFwiTWFwXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRzZXR0ZXIgPSBpbnN0YW5jZS5nZXRWYWx1ZShcInNldFwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKShzZXR0ZXIsIFwic2V0XCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpdCA9IF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5nZXRJdGVyYXRvcihlbnYsIGl0ZXJhYmxlKTtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGl0LmVhY2goX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoaXRlbSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIga2V5LCB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMyQwJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNCQwLnByZXYgPSBjb250ZXh0JDQkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKGl0ZW0sIFwiTWFwXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGtleSA9IGl0ZW0uZ2V0VmFsdWUoXCIwXCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGl0ZW0uZ2V0VmFsdWUoXCIxXCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldHRlci5jYWxsKGluc3RhbmNlLCBba2V5LCB2YWx1ZV0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMyQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCBfdGhpcyk7XG5cdFx0XHRcdFx0fSkoKSwgXCJ0MFwiLCA1KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBpbnN0YW5jZSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIHByb3RvLCB7IG5hbWU6IFwiTWFwXCIsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHQoMCwgX21hcENsZWFyMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcERlbGV0ZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9tYXBGb3JFYWNoMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcEdldDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9tYXBIYXMyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWFwU2V0MltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcEl0ZXJhdG9yMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcFNpemUyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cblx0JGdsb2JhbC5kZWZpbmUoXCJNYXBcIiwgbWFwQ2xhc3MpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfY29sbGVjdGlvbkhlbHBlcnMgPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uLWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNldFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNNYXApKHRoaXMubm9kZSwgXCJNYXAucHJvdG90eXBlLnNldFwiKTtcblxuXHRcdHZhciBpbmRleCA9ICgwLCBfY29sbGVjdGlvbkhlbHBlcnMuZmluZEluZGV4KSh0aGlzLm5vZGUsIGtleSk7XG5cdFx0aWYgKGluZGV4ID49IDApIHtcblx0XHRcdHRoaXMubm9kZS5kYXRhW2luZGV4XS52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIHRoaXMubm9kZTtcblx0XHR9XG5cblx0XHR0aGlzLm5vZGUuZGF0YS5wdXNoKHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9KTtcblx0XHRyZXR1cm4gdGhpcy5ub2RlO1xuXHR9LCAyLCBcIk1hcC5wcm90b3R5cGUuc2V0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIGdldHRlciA9IGZ1bmN0aW9uIGdldHRlcigpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTWFwKSh0aGlzLCBcIk1hcC5wcm90b3R5cGUuc2l6ZVwiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAodikge1xuXHRcdFx0cmV0dXJuIHY7XG5cdFx0fSkubGVuZ3RoKTtcblx0fTtcblxuXHR2YXIgZ2V0dGVyRnVuYyA9IGZhY3RvcnkuY3JlYXRlR2V0dGVyKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gZ2V0dGVyLmNhbGwodGhpcy5ub2RlKTtcblx0fSwgXCJzaXplXCIpO1xuXG5cdCR0YXJnZXQuZGVmaW5lKFwic2l6ZVwiLCBudWxsLCB7XG5cdFx0Z2V0dGVyOiBnZXR0ZXIsXG5cdFx0Z2V0OiBnZXR0ZXJGdW5jXG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiYWNvc2hcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHgpIHtcblx0XHRpZiAoIXggfHwgeC5jbGFzc05hbWUgIT09IFwiTnVtYmVyXCIpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHgudG9OYXRpdmUoKTtcblx0XHRpZiAoaXNOYU4obnVtYmVyVmFsdWUpIHx8IG51bWJlclZhbHVlIDwgMSkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTik7XG5cdFx0fVxuXG5cdFx0aWYgKG51bWJlclZhbHVlID09PSAxKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCk7XG5cdFx0fVxuXG5cdFx0aWYgKG51bWJlclZhbHVlID09PSBJbmZpbml0eSkge1xuXHRcdFx0cmV0dXJuIHg7XG5cdFx0fVxuXG5cdFx0dmFyIHJldHVyblZhbHVlID0gTWF0aC5sb2cobnVtYmVyVmFsdWUgKyBNLnNxcnQobnVtYmVyVmFsdWUgKiBudW1iZXJWYWx1ZSAtIDEpKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocmV0dXJuVmFsdWUpO1xuXHR9LCAxLCBcIk1hdGguYWNvc2hcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiYXNpbmhcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHgpIHtcblx0XHRpZiAoIXggfHwgeC5jbGFzc05hbWUgIT09IFwiTnVtYmVyXCIpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHgudG9OYXRpdmUoKTtcblx0XHRpZiAoaXNOYU4obnVtYmVyVmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHR9XG5cblx0XHRpZiAobnVtYmVyVmFsdWUgPT09IDAgfHwgIWlzRmluaXRlKG51bWJlclZhbHVlKSkge1xuXHRcdFx0cmV0dXJuIHg7XG5cdFx0fVxuXG5cdFx0dmFyIHJldHVyblZhbHVlID0gTWF0aC5sb2cobnVtYmVyVmFsdWUgKyBNYXRoLnNxcnQobnVtYmVyVmFsdWUgKiBudW1iZXJWYWx1ZSArIDEpKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocmV0dXJuVmFsdWUpO1xuXHR9LCAxLCBcIk1hdGguYXNpbmhcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiYXRhbmhcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHgpIHtcblx0XHRpZiAoIXggfHwgeC5jbGFzc05hbWUgIT09IFwiTnVtYmVyXCIpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHgudG9OYXRpdmUoKTtcblx0XHRpZiAoaXNOYU4obnVtYmVyVmFsdWUpIHx8IG51bWJlclZhbHVlIDwgLTEgfHwgbnVtYmVyVmFsdWUgPiAxKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHR9XG5cblx0XHRpZiAobnVtYmVyVmFsdWUgPT09IC0xIHx8IG51bWJlclZhbHVlID09PSAxKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobnVtYmVyVmFsdWUgKiBJbmZpbml0eSk7XG5cdFx0fVxuXG5cdFx0aWYgKG51bWJlclZhbHVlID09PSAwKSB7XG5cdFx0XHRyZXR1cm4geDtcblx0XHR9XG5cblx0XHR2YXIgcmV0dXJuVmFsdWUgPSBNYXRoLmxvZygoMSArIG51bWJlclZhbHVlKSAvICgxIC0gbnVtYmVyVmFsdWUpKSAvIDI7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHJldHVyblZhbHVlKTtcblx0fSwgMSwgXCJNYXRoLmF0YW5oXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImNicnRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHgpIHtcblx0XHRpZiAoIXggfHwgeC5jbGFzc05hbWUgIT09IFwiTnVtYmVyXCIpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHgudG9OYXRpdmUoKTtcblx0XHRpZiAoaXNOYU4obnVtYmVyVmFsdWUpIHx8IG51bWJlclZhbHVlID09PSAwIHx8ICFpc0Zpbml0ZShudW1iZXJWYWx1ZSkpIHtcblx0XHRcdHJldHVybiB4O1xuXHRcdH1cblxuXHRcdHZhciBzaWduID0gbnVtYmVyVmFsdWUgPCAwID8gLTEgOiAxO1xuXHRcdHZhciByZXR1cm5WYWx1ZSA9IHNpZ24gKiBNYXRoLnBvdyhzaWduICogbnVtYmVyVmFsdWUsIDEgLyAzKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocmV0dXJuVmFsdWUpO1xuXHR9LCAxLCBcIk1hdGguY2JydFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX01hdGgkaW11bCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvbWF0aC9pbXVsXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9NYXRoJGNsejMyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9tYXRoL2NsejMyXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIGltdWwgPSBfTWF0aCRpbXVsIHx8IGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0dmFyIGFoID0gYSA+Pj4gMTYgJiAweGZmZmY7XG5cdFx0dmFyIGFsID0gYSAmIDB4ZmZmZjtcblx0XHR2YXIgYmggPSBiID4+PiAxNiAmIDB4ZmZmZjtcblx0XHR2YXIgYmwgPSBiICYgMHhmZmZmO1xuXG5cdFx0Ly8gdGhlIHNoaWZ0IGJ5IDAgZml4ZXMgdGhlIHNpZ24gb24gdGhlIGhpZ2ggcGFydFxuXHRcdC8vIHRoZSBmaW5hbCB8MCBjb252ZXJ0cyB0aGUgdW5zaWduZWQgdmFsdWUgaW50byBhIHNpZ25lZCB2YWx1ZVxuXHRcdHJldHVybiBhbCAqIGJsICsgKGFoICogYmwgKyBhbCAqIGJoIDw8IDE2ID4+PiAwKSB8IDA7XG5cdH07XG5cblx0dmFyIGNsejMyID0gX01hdGgkY2x6MzIgfHwgKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGFibGUgPSBbMzIsIDMxLCAwLCAxNiwgMCwgMzAsIDMsIDAsIDE1LCAwLCAwLCAwLCAyOSwgMTAsIDIsIDAsIDAsIDAsIDEyLCAxNCwgMjEsIDAsIDE5LCAwLCAwLCAyOCwgMCwgMjUsIDAsIDksIDEsIDAsIDE3LCAwLCA0LCwgMCwgMCwgMTEsIDAsIDEzLCAyMiwgMjAsIDAsIDI2LCAwLCAwLCAxOCwgNSwgMCwgMCwgMjMsIDAsIDI3LCAwLCA2LCAwLCAyNCwgNywgMCwgOCwgMCwgMCwgMF07XG5cblx0XHQvLyBBZGFwdGVkIGZyb20gYW4gYWxnb3JpdGhtIGluIEhhY2tlcidzIERlbGlnaHQsIHBhZ2UgMTAzLlxuXHRcdHJldHVybiBmdW5jdGlvbiAodikge1xuXHRcdFx0Ly8gMi4gTGV0IHAgYmUgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm8gYml0cyBpbiB0aGUgMzItYml0IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiBuLlxuXHRcdFx0diB8PSB2ID4+PiAxO1xuXHRcdFx0diB8PSB2ID4+PiAyO1xuXHRcdFx0diB8PSB2ID4+PiA0O1xuXHRcdFx0diB8PSB2ID4+PiA4O1xuXHRcdFx0diB8PSB2ID4+PiAxNjtcblx0XHRcdHYgPSB0YWJsZVtpbXVsKHYsIDB4MDZFQjE0RjkpID4+PiAyNl07XG5cblx0XHRcdC8vIFJldHVybiBwLlxuXHRcdFx0cmV0dXJuIHY7XG5cdFx0fTtcblx0fSkoKTtcblxuXHQkdGFyZ2V0LmRlZmluZShcImNsejMyXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHgpIHtcblx0XHR2YXIgbnVtYmVyVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvVUludDMyKSh4KTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoY2x6MzIobnVtYmVyVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTWF0aC5jbHozMlwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJjb3NoXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh4KSB7XG5cdFx0aWYgKCF4IHx8IHguY2xhc3NOYW1lICE9PSBcIk51bWJlclwiKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHR9XG5cblx0XHR2YXIgbnVtYmVyVmFsdWUgPSB4LnRvTmF0aXZlKCk7XG5cdFx0aWYgKGlzTmFOKG51bWJlclZhbHVlKSkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTik7XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0Zpbml0ZShudW1iZXJWYWx1ZSkpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShJbmZpbml0eSk7XG5cdFx0fVxuXG5cdFx0aWYgKG51bWJlclZhbHVlID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSk7XG5cdFx0fVxuXG5cdFx0dmFyIHJldHVyblZhbHVlID0gTWF0aC5leHAobnVtYmVyVmFsdWUpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXR1cm5WYWx1ZSAvIDIgKyAwLjUgLyByZXR1cm5WYWx1ZSk7XG5cdH0sIDEsIFwiTWF0aC5jb3NoXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImV4cG0xXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh4KSB7XG5cdFx0aWYgKCF4IHx8IHguY2xhc3NOYW1lICE9PSBcIk51bWJlclwiKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHR9XG5cblx0XHR2YXIgbnVtYmVyVmFsdWUgPSB4LnRvTmF0aXZlKCk7XG5cdFx0aWYgKGlzTmFOKG51bWJlclZhbHVlKSB8fCBudW1iZXJWYWx1ZSA9PT0gMCB8fCBudW1iZXJWYWx1ZSA9PT0gSW5maW5pdHkpIHtcblx0XHRcdHJldHVybiB4O1xuXHRcdH1cblxuXHRcdGlmIChudW1iZXJWYWx1ZSA9PT0gLUluZmluaXR5KSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoLTEpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShNYXRoLmV4cChudW1iZXJWYWx1ZSkgLSAxKTtcblx0fSwgMSwgXCJNYXRoLmV4cG0xXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfTWF0aCRmcm91bmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL21hdGgvZnJvdW5kXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBmcm91bmQgPSBfTWF0aCRmcm91bmQ7XG5cblx0aWYgKCFmcm91bmQgJiYgdHlwZW9mIEZsb2F0MzJBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0ZnJvdW5kID0gKGZ1bmN0aW9uIChhcnJheSkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICh4KSB7XG5cdFx0XHRcdHJldHVybiAoYXJyYXlbMF0gPSB4LCBhcnJheVswXSk7XG5cdFx0XHR9O1xuXHRcdH0pKEZsb2F0MzJBcnJheSgxKSk7XG5cdH1cblxuXHRpZiAoIWZyb3VuZCkge1xuXHRcdGZyb3VuZCA9IGZ1bmN0aW9uICh4KSB7XG5cdFx0XHRyZXR1cm4geDtcblx0XHR9O1xuXHR9XG5cblx0JHRhcmdldC5kZWZpbmUoXCJmcm91bmRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHgpIHtcblx0XHRpZiAoIXggfHwgeC5jbGFzc05hbWUgIT09IFwiTnVtYmVyXCIpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHgudG9OYXRpdmUoKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZnJvdW5kKG51bWJlclZhbHVlKSk7XG5cdH0sIDEsIFwiTWF0aC5mcm91bmRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiaHlwb3RcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciByZXR1cm5WYWx1ZSA9IDA7XG5cblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHR2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIG5hdGl2ZVZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHgpIHtcblx0XHRcdHJldHVybiB4LmNsYXNzTmFtZSA9PT0gXCJOdW1iZXJcIiA/IHgudG9OYXRpdmUoKSA6IE5hTjtcblx0XHR9KTtcblx0XHRpZiAobmF0aXZlVmFsdWVzLnNvbWUoZnVuY3Rpb24gKHgpIHtcblx0XHRcdHJldHVybiAhaXNOYU4oeCkgJiYgIWlzRmluaXRlKHgpO1xuXHRcdH0pKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoSW5maW5pdHkpO1xuXHRcdH1cblxuXHRcdGlmIChuYXRpdmVWYWx1ZXMuc29tZShmdW5jdGlvbiAoeCkge1xuXHRcdFx0cmV0dXJuIGlzTmFOKHgpO1xuXHRcdH0pKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMCwgX2xlbmd0aCA9IG5hdGl2ZVZhbHVlcy5sZW5ndGg7IGkgPCBfbGVuZ3RoOyBpKyspIHtcblx0XHRcdHJldHVyblZhbHVlICs9IG5hdGl2ZVZhbHVlc1tpXSAqIG5hdGl2ZVZhbHVlc1tpXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTWF0aC5zcXJ0KHJldHVyblZhbHVlKSk7XG5cdH0sIDIsIFwiTWF0aC5oeXBvdFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImltdWxcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoeCwgeSkge1xuXHRcdHZhciB4VmFsdWUsIHlWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9VSW50MzIpKHgpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHR4VmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvVUludDMyKSh5KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0eVZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCh4VmFsdWUgfCAwKSAqICh5VmFsdWUgfCAwKSB8IDApKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJNYXRoLmltdWxcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9tYXRoQWNvc2ggPSByZXF1aXJlKFwiLi9tYXRoLmFjb3NoXCIpO1xuXG52YXIgX21hdGhBY29zaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoQWNvc2gpO1xuXG52YXIgX21hdGhBc2luaCA9IHJlcXVpcmUoXCIuL21hdGguYXNpbmhcIik7XG5cbnZhciBfbWF0aEFzaW5oMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGhBc2luaCk7XG5cbnZhciBfbWF0aEF0YW5oID0gcmVxdWlyZShcIi4vbWF0aC5hdGFuaFwiKTtcblxudmFyIF9tYXRoQXRhbmgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0aEF0YW5oKTtcblxudmFyIF9tYXRoQ2JydCA9IHJlcXVpcmUoXCIuL21hdGguY2JydFwiKTtcblxudmFyIF9tYXRoQ2JydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoQ2JydCk7XG5cbnZhciBfbWF0aENsejMyID0gcmVxdWlyZShcIi4vbWF0aC5jbHozMlwiKTtcblxudmFyIF9tYXRoQ2x6MzIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0aENsejMyKTtcblxudmFyIF9tYXRoQ29zaCA9IHJlcXVpcmUoXCIuL21hdGguY29zaFwiKTtcblxudmFyIF9tYXRoQ29zaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoQ29zaCk7XG5cbnZhciBfbWF0aEV4cG0xID0gcmVxdWlyZShcIi4vbWF0aC5leHBtMVwiKTtcblxudmFyIF9tYXRoRXhwbTEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0aEV4cG0xKTtcblxudmFyIF9tYXRoRnJvdW5kID0gcmVxdWlyZShcIi4vbWF0aC5mcm91bmRcIik7XG5cbnZhciBfbWF0aEZyb3VuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoRnJvdW5kKTtcblxudmFyIF9tYXRoSHlwb3QgPSByZXF1aXJlKFwiLi9tYXRoLmh5cG90XCIpO1xuXG52YXIgX21hdGhIeXBvdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoSHlwb3QpO1xuXG52YXIgX21hdGhJbXVsID0gcmVxdWlyZShcIi4vbWF0aC5pbXVsXCIpO1xuXG52YXIgX21hdGhJbXVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGhJbXVsKTtcblxudmFyIF9tYXRoTG9nID0gcmVxdWlyZShcIi4vbWF0aC5sb2dcIik7XG5cbnZhciBfbWF0aExvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoTG9nKTtcblxudmFyIF9tYXRoU2lnbiA9IHJlcXVpcmUoXCIuL21hdGguc2lnblwiKTtcblxudmFyIF9tYXRoU2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoU2lnbik7XG5cbnZhciBfbWF0aFNpbmggPSByZXF1aXJlKFwiLi9tYXRoLnNpbmhcIik7XG5cbnZhciBfbWF0aFNpbmgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0aFNpbmgpO1xuXG52YXIgX21hdGhUYW5oID0gcmVxdWlyZShcIi4vbWF0aC50YW5oXCIpO1xuXG52YXIgX21hdGhUYW5oMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGhUYW5oKTtcblxudmFyIF9tYXRoVHJ1bmMgPSByZXF1aXJlKFwiLi9tYXRoLnRydW5jXCIpO1xuXG52YXIgX21hdGhUcnVuYzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoVHJ1bmMpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkZ2xvYmFsLCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIG1hdGhDbGFzcyA9ICRnbG9iYWwuZ2V0VmFsdWUoXCJNYXRoXCIpO1xuXG5cdCgwLCBfbWF0aEFjb3NoMltcImRlZmF1bHRcIl0pKG1hdGhDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9tYXRoQXNpbmgyW1wiZGVmYXVsdFwiXSkobWF0aENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hdGhBdGFuaDJbXCJkZWZhdWx0XCJdKShtYXRoQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWF0aENicnQyW1wiZGVmYXVsdFwiXSkobWF0aENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hdGhDbHozMjJbXCJkZWZhdWx0XCJdKShtYXRoQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWF0aENvc2gyW1wiZGVmYXVsdFwiXSkobWF0aENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hdGhFeHBtMTJbXCJkZWZhdWx0XCJdKShtYXRoQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWF0aEZyb3VuZDJbXCJkZWZhdWx0XCJdKShtYXRoQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWF0aEh5cG90MltcImRlZmF1bHRcIl0pKG1hdGhDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9tYXRoSW11bDJbXCJkZWZhdWx0XCJdKShtYXRoQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWF0aExvZzJbXCJkZWZhdWx0XCJdKShtYXRoQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWF0aFNpZ24yW1wiZGVmYXVsdFwiXSkobWF0aENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hdGhTaW5oMltcImRlZmF1bHRcIl0pKG1hdGhDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9tYXRoVGFuaDJbXCJkZWZhdWx0XCJdKShtYXRoQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWF0aFRydW5jMltcImRlZmF1bHRcIl0pKG1hdGhDbGFzcywgZW52LCBmYWN0b3J5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHRbeyBuYW1lOiBcImxvZzEwXCIsIGRpdmlzb3I6IE1hdGguTE4xMCB9LCB7IG5hbWU6IFwibG9nMlwiLCBkaXZpc29yOiBNYXRoLkxOMiB9XS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG5cdFx0JHRhcmdldC5kZWZpbmUobS5uYW1lLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoeCkge1xuXHRcdFx0aWYgKCF4IHx8IHguY2xhc3NOYW1lICE9PSBcIk51bWJlclwiKSB7XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbnVtYmVyVmFsdWUgPSB4LnRvTmF0aXZlKCk7XG5cdFx0XHRpZiAoaXNOYU4obnVtYmVyVmFsdWUpIHx8IG51bWJlclZhbHVlIDwgMCkge1xuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG51bWJlclZhbHVlID09PSAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtSW5maW5pdHkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobnVtYmVyVmFsdWUgPT09IDEpIHtcblx0XHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobnVtYmVyVmFsdWUgPT09IEluZmluaXR5KSB7XG5cdFx0XHRcdHJldHVybiB4O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTWF0aC5sb2cobnVtYmVyVmFsdWUpIC8gbS5kaXZpc29yKTtcblx0XHR9LCAxLCBcIk1hdGgueyRtLm5hbWV9XCIpKTtcblx0fSk7XG5cblx0JHRhcmdldC5kZWZpbmUoXCJsb2cxcFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoeCkge1xuXHRcdGlmICgheCB8fCB4LmNsYXNzTmFtZSAhPT0gXCJOdW1iZXJcIikge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTik7XG5cdFx0fVxuXG5cdFx0dmFyIG51bWJlclZhbHVlID0geC50b05hdGl2ZSgpO1xuXHRcdGlmIChpc05hTihudW1iZXJWYWx1ZSkgfHwgbnVtYmVyVmFsdWUgPCAtMSkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTik7XG5cdFx0fVxuXG5cdFx0aWYgKG51bWJlclZhbHVlID09PSAtMSkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKC1JbmZpbml0eSk7XG5cdFx0fVxuXG5cdFx0aWYgKG51bWJlclZhbHVlID09PSAwIHx8IG51bWJlclZhbHVlID09PSBJbmZpbml0eSkge1xuXHRcdFx0cmV0dXJuIHg7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE1hdGgubG9nKDEgKyBudW1iZXJWYWx1ZSkpO1xuXHR9LCAxLCBcIk1hdGgubG9nMXBcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwic2lnblwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoeCkge1xuXHRcdGlmICgheCB8fCB4LmNsYXNzTmFtZSAhPT0gXCJOdW1iZXJcIiB8fCBpc05hTih4LnRvTmF0aXZlKCkpKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHR9XG5cblx0XHR2YXIgbnVtYmVyVmFsdWUgPSB4LnRvTmF0aXZlKCk7XG5cdFx0aWYgKG51bWJlclZhbHVlID09PSAwKSB7XG5cdFx0XHRyZXR1cm4geDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobnVtYmVyVmFsdWUgPiAwID8gMSA6IC0xKTtcblx0fSwgMSwgXCJNYXRoLnNpZ25cIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwic2luaFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoeCkge1xuXHRcdGlmICgheCB8fCB4LmNsYXNzTmFtZSAhPT0gXCJOdW1iZXJcIikge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTik7XG5cdFx0fVxuXG5cdFx0dmFyIG51bWJlclZhbHVlID0geC50b05hdGl2ZSgpO1xuXHRcdGlmIChpc05hTihudW1iZXJWYWx1ZSkgfHwgIWlzRmluaXRlKG51bWJlclZhbHVlKSB8fCBudW1iZXJWYWx1ZSA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHg7XG5cdFx0fVxuXG5cdFx0dmFyIHJldHVyblZhbHVlID0gTWF0aC5leHAobnVtYmVyVmFsdWUpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXR1cm5WYWx1ZSAvIDIgLSAwLjUgLyByZXR1cm5WYWx1ZSk7XG5cdH0sIDEsIFwiTWF0aC5zaW5oXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInRhbmhcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHgpIHtcblx0XHRpZiAoIXggfHwgeC5jbGFzc05hbWUgIT09IFwiTnVtYmVyXCIpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHgudG9OYXRpdmUoKTtcblx0XHRpZiAoaXNOYU4obnVtYmVyVmFsdWUpIHx8IG51bWJlclZhbHVlID09PSAwKSB7XG5cdFx0XHRyZXR1cm4geDtcblx0XHR9XG5cblx0XHRpZiAobnVtYmVyVmFsdWUgPT09IEluZmluaXR5KSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSk7XG5cdFx0fVxuXG5cdFx0aWYgKG51bWJlclZhbHVlID09PSAtSW5maW5pdHkpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSk7XG5cdFx0fVxuXG5cdFx0dmFyIHJldHVyblZhbHVlID0gTWF0aC5leHAoMiAqIG51bWJlclZhbHVlKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoKHJldHVyblZhbHVlIC0gMSkgLyAocmV0dXJuVmFsdWUgKyAxKSk7XG5cdH0sIDEsIFwiTWF0aC50YW5oXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInRydW5jXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh4KSB7XG5cdFx0aWYgKCF4IHx8IHguY2xhc3NOYW1lICE9PSBcIk51bWJlclwiKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKTtcblx0XHR9XG5cblx0XHR2YXIgbnVtYmVyVmFsdWUgPSB4LnRvTmF0aXZlKCk7XG5cdFx0aWYgKGlzTmFOKG51bWJlclZhbHVlKSB8fCAhaXNGaW5pdGUobnVtYmVyVmFsdWUpIHx8IG51bWJlclZhbHVlID09PSAwKSB7XG5cdFx0XHRyZXR1cm4geDtcblx0XHR9XG5cblx0XHRpZiAobnVtYmVyVmFsdWUgPiAtMSAmJiBudW1iZXJWYWx1ZSA8IDApIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG51bWJlclZhbHVlID4gMCA/IE1hdGguZmxvb3IobnVtYmVyVmFsdWUpIDogTWF0aC5jZWlsKG51bWJlclZhbHVlKSk7XG5cdH0sIDEsIFwiTWF0aC50cnVuY1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcImlzRmluaXRlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bWJlcikodmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cdFx0aWYgKGlzTmFOKG51bWJlclZhbHVlKSB8fCAhaXNGaW5pdGUobnVtYmVyVmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0fSwgMSwgXCJOdW1iZXIuaXNGaW5pdGVcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcImlzSW50ZWdlclwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZSwgaW50VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVtYmVyKSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRudW1iZXJWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cblx0XHRcdFx0XHRpZiAoIShpc05hTihudW1iZXJWYWx1ZSkgfHwgIWlzRmluaXRlKG51bWJlclZhbHVlKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0aW50VmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobnVtYmVyVmFsdWUgPT09IGludFZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTnVtYmVyLmlzSW50ZWdlclwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcImlzTmFOXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bWJlcikodmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpc05hTih2YWx1ZS50b05hdGl2ZSgpKSk7XG5cdH0sIDEsIFwiTnVtYmVyLmlzTmFOXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfTnVtYmVyJE1BWF9TQUZFX0lOVEVHRVIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL251bWJlci9tYXgtc2FmZS1pbnRlZ2VyXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9OdW1iZXIkTUlOX1NBRkVfSU5URUdFUiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvbnVtYmVyL21pbi1zYWZlLWludGVnZXJcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgTUFYX1NBRkVfSU5URUdFUiA9IF9OdW1iZXIkTUFYX1NBRkVfSU5URUdFUiB8fCA5MDA3MTk5MjU0NzQwOTkxO1xuXHR2YXIgTUlOX1NBRkVfSU5URUdFUiA9IF9OdW1iZXIkTUlOX1NBRkVfSU5URUdFUiB8fCAtOTAwNzE5OTI1NDc0MDk5MTtcblxuXHR0YXJnZXQuZGVmaW5lKFwiTUFYX1NBRkVfSU5URUdFUlwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShNQVhfU0FGRV9JTlRFR0VSKSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cdHRhcmdldC5kZWZpbmUoXCJNSU5fU0FGRV9JTlRFR0VSXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE1JTl9TQUZFX0lOVEVHRVIpLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHR0YXJnZXQuZGVmaW5lKFwiaXNTYWZlSW50ZWdlclwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZSwgaW50VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVtYmVyKSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRudW1iZXJWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cblx0XHRcdFx0XHRpZiAoIShpc05hTihudW1iZXJWYWx1ZSkgfHwgIWlzRmluaXRlKG51bWJlclZhbHVlKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0aW50VmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoaW50VmFsdWUgIT09IG51bWJlclZhbHVlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShNYXRoLmFicyhudW1iZXJWYWx1ZSkgPD0gTUFYX1NBRkVfSU5URUdFUikpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJOdW1iZXIuaXNTYWZlSW50ZWdlclwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX051bWJlciRFUFNJTE9OID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9udW1iZXIvZXBzaWxvblwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbnVtYmVySXNGaW5pdGUgPSByZXF1aXJlKFwiLi9udW1iZXIuaXMtZmluaXRlXCIpO1xuXG52YXIgX251bWJlcklzRmluaXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlcklzRmluaXRlKTtcblxudmFyIF9udW1iZXJJc0ludGVnZXIgPSByZXF1aXJlKFwiLi9udW1iZXIuaXMtaW50ZWdlclwiKTtcblxudmFyIF9udW1iZXJJc0ludGVnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbnVtYmVySXNJbnRlZ2VyKTtcblxudmFyIF9udW1iZXJJc05hbiA9IHJlcXVpcmUoXCIuL251bWJlci5pcy1uYW5cIik7XG5cbnZhciBfbnVtYmVySXNOYW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbnVtYmVySXNOYW4pO1xuXG52YXIgX251bWJlcklzU2FmZUludGVnZXIgPSByZXF1aXJlKFwiLi9udW1iZXIuaXMtc2FmZS1pbnRlZ2VyXCIpO1xuXG52YXIgX251bWJlcklzU2FmZUludGVnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbnVtYmVySXNTYWZlSW50ZWdlcik7XG5cbnZhciBfbnVtYmVyUGFyc2VGbG9hdCA9IHJlcXVpcmUoXCIuL251bWJlci5wYXJzZS1mbG9hdFwiKTtcblxudmFyIF9udW1iZXJQYXJzZUZsb2F0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlclBhcnNlRmxvYXQpO1xuXG52YXIgX251bWJlclBhcnNlSW50ID0gcmVxdWlyZShcIi4vbnVtYmVyLnBhcnNlLWludFwiKTtcblxudmFyIF9udW1iZXJQYXJzZUludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXJQYXJzZUludCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBudW1iZXJDbGFzcyA9IGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIk51bWJlclwiKTtcblxuXHQoMCwgX251bWJlcklzRmluaXRlMltcImRlZmF1bHRcIl0pKG51bWJlckNsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX251bWJlcklzSW50ZWdlcjJbXCJkZWZhdWx0XCJdKShudW1iZXJDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9udW1iZXJJc05hbjJbXCJkZWZhdWx0XCJdKShudW1iZXJDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9udW1iZXJJc1NhZmVJbnRlZ2VyMltcImRlZmF1bHRcIl0pKG51bWJlckNsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX251bWJlclBhcnNlRmxvYXQyW1wiZGVmYXVsdFwiXSkobnVtYmVyQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbnVtYmVyUGFyc2VJbnQyW1wiZGVmYXVsdFwiXSkobnVtYmVyQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cblx0dmFyIGVwc2lsb25WYWx1ZSA9IGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKF9OdW1iZXIkRVBTSUxPTiB8fCAyLjIyMDQ0NjA0OTI1MDMxM2UtMTYpO1xuXHRudW1iZXJDbGFzcy5kZWZpbmUoXCJFUFNJTE9OXCIsIGVwc2lsb25WYWx1ZSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHRhcmdldC5kZWZpbmUoXCJwYXJzZUZsb2F0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShwYXJzZUZsb2F0KHN0cmluZ1ZhbHVlKSkpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIk51bWJlci5wYXJzZUZsb2F0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcInBhcnNlSW50XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlLCByYWRpeCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuIHRvU3RyaW5nKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShyYWRpeCwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJhZGl4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHBhcnNlSW50KHN0cmluZ1ZhbHVlLCByYWRpeCkpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJOdW1iZXIucGFyc2VJbnRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmplY3RDbGFzcywgZW52LCBmYWN0b3J5KSB7XG5cdG9iamVjdENsYXNzLmRlZmluZShcImFzc2lnblwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0dmFyIHRvID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkodGFyZ2V0LCB0cnVlKTtcblxuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzb3VyY2VzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0c291cmNlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0c291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChuZXh0KSB7XG5cdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChuZXh0KSkge1xuXHRcdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciBzb3VyY2UgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShuZXh0KTtcblxuXHRcdFx0XHRcdHNvdXJjZS5nZXRPd25Qcm9wZXJ0eUtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0XHRcdHZhciBkZXNjID0gc291cmNlLmdldE93blByb3BlcnR5KGtleSk7XG5cdFx0XHRcdFx0XHRpZiAoZGVzYyAmJiBkZXNjLmVudW1lcmFibGUpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCF0by5zZXRWYWx1ZShrZXksIGRlc2MuZ2V0VmFsdWUoKSkpIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFzc2lnbiB0byByZWFkIG9ubHkgcHJvcGVydHkgJ1wiICsga2V5ICsgXCInXCIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdG87XG5cdH0sIDIsIFwiT2JqZWN0LmFzc2lnblwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcImdldE93blByb3BlcnR5U3ltYm9sc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKG9iaiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzXCIpO1xuXHRcdHZhciBrZXlzID0gW107XG5cblx0XHRvYmouZ2V0T3duUHJvcGVydHlLZXlzKFwiU3ltYm9sXCIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKGtleSAmJiBrZXkuaXNTeW1ib2wpIHtcblx0XHRcdFx0a2V5cy5wdXNoKGtleSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVBcnJheShrZXlzKTtcblx0fSwgMSwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwiaXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKGEsIGIpIHtcblx0XHR2YXIgcmVzdWx0ID0gZW52Lm9wcy5hcmVTYW1lKGEgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIGIgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXN1bHQpO1xuXHR9LCAyLCBcIk9iamVjdC5pc1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF9vYmplY3RJcyA9IHJlcXVpcmUoXCIuL29iamVjdC5pc1wiKTtcblxudmFyIF9vYmplY3RJczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RJcyk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZShcIi4vb2JqZWN0LmFzc2lnblwiKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF9vYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSByZXF1aXJlKFwiLi9vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzXCIpO1xuXG52YXIgX29iamVjdEdldE93blByb3BlcnR5U3ltYm9sczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHMpO1xuXG52YXIgX29iamVjdFNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vb2JqZWN0LnNldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfb2JqZWN0U2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0U2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX29iamVjdFRvU3RyaW5nID0gcmVxdWlyZShcIi4vb2JqZWN0LnRvLXN0cmluZ1wiKTtcblxudmFyIF9vYmplY3RUb1N0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RUb1N0cmluZyk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBvYmplY3RDbGFzcyA9IGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIk9iamVjdFwiKTtcblx0dmFyIHByb3RvID0gb2JqZWN0Q2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkob2JqLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXCIpO1xuXG5cdFx0dmFyIGtleXMgPSBbXTtcblx0XHRvYmouZ2V0T3duUHJvcGVydHlLZXlzKFwiU3RyaW5nXCIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0a2V5cy5wdXNoKGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlQXJyYXkoa2V5cyk7XG5cdH0sIDEsIFwiT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImtleXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKG9iaiwgXCJPYmplY3Qua2V5c1wiKTtcblxuXHRcdHZhciBrZXlzID0gW107XG5cdFx0b2JqLmdldE93blByb3BlcnR5S2V5cyhcIlN0cmluZ1wiKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHZhciBwcm9wSW5mbyA9IG9iai5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRpZiAocHJvcEluZm8gJiYgcHJvcEluZm8uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdGtleXMucHVzaChmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlQXJyYXkoa2V5cyk7XG5cdH0sIDEsIFwiT2JqZWN0LmtleXNcIikpO1xuXG5cdCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX29iamVjdElzMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX29iamVjdEdldE93blByb3BlcnR5U3ltYm9sczJbXCJkZWZhdWx0XCJdKShvYmplY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9vYmplY3RTZXRQcm90b3R5cGVPZjJbXCJkZWZhdWx0XCJdKShvYmplY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9vYmplY3RUb1N0cmluZzJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJzZXRQcm90b3R5cGVPZlwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0LCBwcm90bykge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKHRhcmdldCwgXCJzZXRQcm90b3R5cGVPZlwiKTtcblxuXHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc09iamVjdCkocHJvdG8pICYmICEoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVsbCkocHJvdG8pKSB7XG5cdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdCBvciBudWxsXCIpO1xuXHRcdH1cblxuXHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzT2JqZWN0KSh0YXJnZXQpICYmICF0YXJnZXQuc2V0UHJvdG90eXBlKHByb3RvKSkge1xuXHRcdFx0dGhyb3cgVHlwZUVycm9yKHRhcmdldC5jbGFzc05hbWUgKyBcIiBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9LCAyLCBcIk9iamVjdC5zZXRQcm90b3R5cGVPZlwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBzdHJpbmdUYWdLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJ0b1N0cmluZ1RhZ1wiKTtcblxuXHRmdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvYmopIHtcblx0XHR2YXIgdGFnID0gb2JqLmNsYXNzTmFtZTtcblxuXHRcdGlmICghY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKG9iaikpIHtcblx0XHRcdHZhciB0YWdQcm9wZXJ0eSA9IG9iai5nZXRQcm9wZXJ0eShzdHJpbmdUYWdLZXkpO1xuXHRcdFx0aWYgKHRhZ1Byb3BlcnR5KSB7XG5cdFx0XHRcdHZhciB0YWdWYWx1ZSA9IHRhZ1Byb3BlcnR5LmdldFZhbHVlKCk7XG5cdFx0XHRcdGlmICh0YWdWYWx1ZSAmJiB0YWdWYWx1ZS50eXBlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0dGFnID0gdGFnVmFsdWUudG9OYXRpdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIltvYmplY3QgXCIgKyB0YWcgKyBcIl1cIik7XG5cdH07XG5cblx0dGFyZ2V0LmRlZmluZShcInRvU3RyaW5nXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gb2JqZWN0VG9TdHJpbmcodGhpcy5ub2RlKTtcblx0fSwgMCwgXCJPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHR0YXJnZXQuZGVmaW5lKFwidG9Mb2NhbGVTdHJpbmdcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiT2JqZWN0LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZ1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0VG9TdHJpbmcodGhpcy5ub2RlKTtcblx0fSwgMCwgXCJPYmplY3QucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBwcm94eUNsYXNzID0gZmFjdG9yeS5jcmVhdGVGdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0LCBoYW5kbGVyKSB7XG5cdFx0aWYgKCF0aGlzLmlzTmV3KSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJveHkodGFyZ2V0LCBoYW5kbGVyKTtcblx0fSwgbnVsbCwgeyBuYW1lOiBcIlByb3h5XCIgfSk7XG5cblx0cHJveHlDbGFzcy5kZWZpbmUoXCJyZXZvY2FibGVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHRhcmdldCwgaGFuZGxlcikge1xuXHRcdHZhciBwcm94eSA9IGZhY3RvcnkuY3JlYXRlUHJveHkodGFyZ2V0LCBoYW5kbGVyKTtcblxuXHRcdHZhciBvYmogPSBmYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdG9iai5kZWZpbmUoXCJwcm94eVwiLCBwcm94eSk7XG5cdFx0b2JqLmRlZmluZShcInJldm9rZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRwcm94eS5yZXZva2UoKTtcblx0XHR9LCAwLCBcInJldm9rZVwiKSk7XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAyLCBcIlByb3h5LnJldm9jYWJsZVwiKSk7XG5cblx0cHJveHlDbGFzcy5kZWZpbmUoXCJsZW5ndGhcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMiksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiUHJveHlcIiwgcHJveHlDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJhcHBseVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHRoaXNBcmcsIGFyZ3NBcnJheSkge1xuXHRcdHZhciBhcmdzLCBjYWxsZWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbikodGFyZ2V0LCBcInRhcmdldFwiKTtcblxuXHRcdFx0XHRcdGlmIChhcmdzQXJyYXkpIHtcblx0XHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKGFyZ3NBcnJheSwgXCJSZWZsZWN0LmFwcGx5XCIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKGFyZ3NBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNhbGxlZSA9IHRhcmdldC5uYXRpdmUgPyB0YXJnZXQgOiB0YXJnZXQubm9kZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gdGFyZ2V0LmNhbGwodGhpc0FyZywgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMywgXCJSZWZsZWN0LmFwcGx5XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImNvbnN0cnVjdFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIGFyZ3NBcnJheSwgbmV3VGFyZ2V0KSB7XG5cdFx0dmFyIGFyZ3MsIGNhbGxlZSwgcHJvdG8sIG9iajtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKSh0YXJnZXQsIFwidGFyZ2V0XCIpO1xuXG5cdFx0XHRcdFx0aWYgKGFyZ3NBcnJheSkge1xuXHRcdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkoYXJnc0FycmF5LCBcIlJlZmxlY3QuY29uc3RydWN0XCIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKGFyZ3NBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNhbGxlZSA9IHRhcmdldC5ub2RlIHx8IHRhcmdldDtcblx0XHRcdFx0XHRwcm90byA9IG5ld1RhcmdldCB8fCB0YXJnZXQ7XG5cdFx0XHRcdFx0b2JqID0gZmFjdG9yeS5jcmVhdGVPYmplY3QocHJvdG8pO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gdGFyZ2V0LmNvbnN0cnVjdChvYmosIGFyZ3MsIGNhbGxlZSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWZsZWN0LmNvbnN0cnVjdFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX2VzNU9iamVjdCA9IHJlcXVpcmUoXCIuLi9lczUvb2JqZWN0L1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZGVmaW5lUHJvcGVydHlcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuXHRcdHZhciBrZXk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LmRlZmluZVByb3BlcnR5XCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkocHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gZmFjdG9yeTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9lczVPYmplY3QuZGVmaW5lUHJvcGVydHkpKGVudiwgdGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IsIGZhbHNlKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAudDAuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQyJDAudDAsIGNvbnRleHQkMiQwLnQxKSk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDMsIFwiUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJkZWxldGVQcm9wZXJ0eVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG5cdFx0dmFyIGtleTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkodGFyZ2V0LCBcIlJlZmxlY3QuZGVsZXRlUHJvcGVydHlcIik7XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShwcm9wZXJ0eUtleSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGtleSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0YXJnZXQuZGVsZXRlUHJvcGVydHkoa2V5LCBmYWxzZSkpKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWZsZWN0LmRlbGV0ZVByb3BlcnR5XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJlbnVtZXJhdGVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LmVudW1lcmF0ZVwiKTtcblx0XHRyZXR1cm4gdGFyZ2V0LmdldEl0ZXJhdG9yKCk7XG5cdH0sIDEsIFwiUmVmbGVjdC5lbnVtZXJhdGVcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX2VzNU9iamVjdCA9IHJlcXVpcmUoXCIuLi9lczUvb2JqZWN0L1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkodGFyZ2V0LCBcIlJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX2VzNU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpKGVudiwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImdldFByb3RvdHlwZU9mXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5nZXRQcm90b3R5cGVPZlwiKTtcblx0XHRyZXR1cm4gdGFyZ2V0LmdldFByb3RvdHlwZSgpO1xuXHR9LCAxLCBcIlJlZmxlY3QuZ2V0UHJvdG90eXBlT2ZcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImdldFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHByb3BlcnR5S2V5LCByZWNlaXZlcikge1xuXHRcdHZhciBrZXksIHByb3BlcnR5O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5nZXRcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkocHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHByb3BlcnR5ID0gdGFyZ2V0LmdldFByb3BlcnR5KGtleSk7XG5cblx0XHRcdFx0XHRpZiAoIXByb3BlcnR5KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHByb3BlcnR5LmJpbmQocmVjZWl2ZXIgfHwgdGFyZ2V0KTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHByb3BlcnR5LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWZsZWN0LmdldFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJoYXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuXHRcdHZhciBrZXk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0Lmhhc1wiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShwcm9wZXJ0eUtleSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGtleSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0YXJnZXQuaGFzKGtleSkpKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWZsZWN0Lmhhc1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiaXNFeHRlbnNpYmxlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5pc0V4dGVuc2libGVcIik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRhcmdldC5pc0V4dGVuc2libGUoKSk7XG5cdH0sIDEsIFwiUmVmbGVjdC5pc0V4dGVuc2libGVcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWZsZWN0QXBwbHkgPSByZXF1aXJlKFwiLi9yZWZsZWN0LmFwcGx5XCIpO1xuXG52YXIgX3JlZmxlY3RBcHBseTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0QXBwbHkpO1xuXG52YXIgX3JlZmxlY3RDb25zdHJ1Y3QgPSByZXF1aXJlKFwiLi9yZWZsZWN0LmNvbnN0cnVjdFwiKTtcblxudmFyIF9yZWZsZWN0Q29uc3RydWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RDb25zdHJ1Y3QpO1xuXG52YXIgX3JlZmxlY3REZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX3JlZmxlY3REZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0RGVmaW5lUHJvcGVydHkpO1xuXG52YXIgX3JlZmxlY3REZWxldGVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuZGVsZXRlLXByb3BlcnR5XCIpO1xuXG52YXIgX3JlZmxlY3REZWxldGVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0RGVsZXRlUHJvcGVydHkpO1xuXG52YXIgX3JlZmxlY3RFbnVtZXJhdGUgPSByZXF1aXJlKFwiLi9yZWZsZWN0LmVudW1lcmF0ZVwiKTtcblxudmFyIF9yZWZsZWN0RW51bWVyYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RFbnVtZXJhdGUpO1xuXG52YXIgX3JlZmxlY3RHZXQgPSByZXF1aXJlKFwiLi9yZWZsZWN0LmdldFwiKTtcblxudmFyIF9yZWZsZWN0R2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RHZXQpO1xuXG52YXIgX3JlZmxlY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi9yZWZsZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIF9yZWZsZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG52YXIgX3JlZmxlY3RHZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuZ2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9yZWZsZWN0R2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdEdldFByb3RvdHlwZU9mKTtcblxudmFyIF9yZWZsZWN0SGFzID0gcmVxdWlyZShcIi4vcmVmbGVjdC5oYXNcIik7XG5cbnZhciBfcmVmbGVjdEhhczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0SGFzKTtcblxudmFyIF9yZWZsZWN0SXNFeHRlbnNpYmxlID0gcmVxdWlyZShcIi4vcmVmbGVjdC5pcy1leHRlbnNpYmxlXCIpO1xuXG52YXIgX3JlZmxlY3RJc0V4dGVuc2libGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdElzRXh0ZW5zaWJsZSk7XG5cbnZhciBfcmVmbGVjdE93bktleXMgPSByZXF1aXJlKFwiLi9yZWZsZWN0Lm93bi1rZXlzXCIpO1xuXG52YXIgX3JlZmxlY3RPd25LZXlzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RPd25LZXlzKTtcblxudmFyIF9yZWZsZWN0UHJldmVudEV4dGVuc2lvbnMgPSByZXF1aXJlKFwiLi9yZWZsZWN0LnByZXZlbnQtZXh0ZW5zaW9uc1wiKTtcblxudmFyIF9yZWZsZWN0UHJldmVudEV4dGVuc2lvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdFByZXZlbnRFeHRlbnNpb25zKTtcblxudmFyIF9yZWZsZWN0U2V0ID0gcmVxdWlyZShcIi4vcmVmbGVjdC5zZXRcIik7XG5cbnZhciBfcmVmbGVjdFNldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0U2V0KTtcblxudmFyIF9yZWZsZWN0U2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9yZWZsZWN0LnNldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfcmVmbGVjdFNldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RTZXRQcm90b3R5cGVPZik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciByZWZsZWN0Q2xhc3MgPSBmYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdCgwLCBfcmVmbGVjdEFwcGx5MltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0Q29uc3RydWN0MltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0RGVmaW5lUHJvcGVydHkyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3REZWxldGVQcm9wZXJ0eTJbXCJkZWZhdWx0XCJdKShyZWZsZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfcmVmbGVjdEVudW1lcmF0ZTJbXCJkZWZhdWx0XCJdKShyZWZsZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfcmVmbGVjdEdldDJbXCJkZWZhdWx0XCJdKShyZWZsZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfcmVmbGVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjJbXCJkZWZhdWx0XCJdKShyZWZsZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfcmVmbGVjdEdldFByb3RvdHlwZU9mMltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0SGFzMltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0SXNFeHRlbnNpYmxlMltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0T3duS2V5czJbXCJkZWZhdWx0XCJdKShyZWZsZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfcmVmbGVjdFByZXZlbnRFeHRlbnNpb25zMltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0U2V0MltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0U2V0UHJvdG90eXBlT2YyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJSZWZsZWN0XCIsIHJlZmxlY3RDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwib3duS2V5c1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkodGFyZ2V0LCBcIlJlZmxlY3Qub3duS2V5c1wiKTtcblxuXHRcdHZhciBrZXlzID0gdGFyZ2V0LmdldE93blByb3BlcnR5S2V5cygpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVBcnJheShrZXlzKTtcblx0fSwgMSwgXCJSZWZsZWN0Lm93bktleXNcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInByZXZlbnRFeHRlbnNpb25zXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5wcmV2ZW50RXh0ZW5zaW9uc1wiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGFyZ2V0LnByZXZlbnRFeHRlbnNpb25zKCkpO1xuXHR9LCAxLCBcIlJlZmxlY3QucHJldmVudEV4dGVuc2lvbnNcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJzZXRQcm90b3R5cGVPZlwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0LCBwcm90bykge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LnNldFByb3RvdHlwZU9mXCIpO1xuXG5cdFx0aWYgKHByb3RvICE9PSBfdHlwZXNQcmltaXRpdmVUeXBlLk5VTEwgJiYgcHJvdG8udHlwZSAhPT0gXCJvYmplY3RcIikge1xuXHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiVGhlIHByb3RvdHlwZSBtdXN0IGJlIGFuIG9iamVjdCBvciBudWxsXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0YXJnZXQuc2V0UHJvdG90eXBlKHByb3RvKSk7XG5cdH0sIDIsIFwiUmVmbGVjdC5zZXRQcm90b3R5cGVPZlwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJzZXRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikge1xuXHRcdHZhciBrO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5zZXRcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkoa2V5KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0ayA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoKDAsIF91dGlsc0NvbnRyYWN0cy5pc1VuZGVmaW5lZCkocmVjZWl2ZXIpKSB7XG5cdFx0XHRcdFx0XHRyZWNlaXZlciA9IHRhcmdldDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRhcmdldC5zZXRWYWx1ZShrLCB2YWx1ZSwgcmVjZWl2ZXIpKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDMsIFwiUmVmbGVjdC5zZXRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciByZWdleENsYXNzID0gZ2xvYmFsT2JqZWN0LmdldFZhbHVlKFwiUmVnRXhwXCIpO1xuXHR2YXIgcHJvdG8gPSByZWdleENsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXG5cdHZhciByZXBsYWNlS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwicmVwbGFjZVwiKTtcblx0cHJvdG8uZGVmaW5lKHJlcGxhY2VLZXksIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlLCByZXBsYWNlVmFsdWUpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHJlcGxhY2VyO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmVwbGFjZXIgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNGdW5jdGlvbikocmVwbGFjZVZhbHVlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXBsYWNlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciB0aGlzQXJnID0gcmVwbGFjZVZhbHVlLnN0cmljdCB8fCBlbnYuaXNTdHJpY3QoKSA/IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEIDogZW52Lmdsb2JhbDtcblxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdFx0XHRcdFx0YXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIG1hcHBlZEFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmcpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHJlcGxhY2VWYWx1ZS5jYWxsKHRoaXNBcmcsIG1hcHBlZEFyZ3MpKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQgPyAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykocmVzdWx0KSkgOiB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykocmVwbGFjZVZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJlcGxhY2VyID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUucmVwbGFjZSh0aGlzLm5vZGUuc291cmNlLCByZXBsYWNlcikpKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiUmVnRXhwLnByb3RvdHlwZVtTeW1ib2wucmVwbGFjZV1cIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9yc1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChlbnYpIHtcblx0ZnVuY3Rpb24gYXNzZXJ0SXNTZXQob2JqLCBtZXRob2ROYW1lKSB7XG5cdFx0aWYgKCEoXCJzZXREYXRhXCIgaW4gb2JqKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIk1ldGhvZCBcIiArIG1ldGhvZE5hbWUgKyBcIiBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyIFwiICsgb2JqLmNsYXNzTmFtZSk7XG5cdFx0fVxuXHR9XG5cblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBwcm90byA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0dmFyIHNldENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChpdGVyYWJsZSkge1xuXHRcdHZhciBvYmosIF9sZW5ndGgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnk7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnN0cnVjdG9yIFNldCByZXF1aXJlcyAnbmV3J1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0b2JqID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTZXRcIik7XG5cblx0XHRcdFx0XHRpZiAoIWl0ZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfbGVuZ3RoID0gaXRlcmFibGUuZ2V0VmFsdWUoXCJsZW5ndGhcIikudG9OYXRpdmUoKTtcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA4O1xuXHRcdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIGl0ZXJhYmxlLCAwLCBfbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKShvYmosIFwiYWRkXCIsIFtlbnRyeS52YWx1ZV0pO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoY29udGV4dCQyJDAudDAgPT09IGZhbHNlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3BlcnR5ICdhZGQnIG9mIG9iamVjdCAjPFNldD4gaXMgbm90IGEgZnVuY3Rpb25cIik7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDgpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI2O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNztcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgMzI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyOSk7XG5cblx0XHRcdFx0Y2FzZSAzMzpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI2KTtcblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqKTtcblxuXHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzgsIDIyLCAyNiwgMzRdLCBbMjcsLCAyOSwgMzNdXSk7XG5cdH0pLCBwcm90bywgeyBuYW1lOiBcIlNldFwiIH0pO1xuXG5cdHByb3RvLmRlZmluZShcImFkZFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5hZGRcIik7XG5cblx0XHRpZiAodGhpcy5ub2RlLnNldERhdGEuZXZlcnkoZnVuY3Rpb24gKGUpIHtcblx0XHRcdHJldHVybiAhZW52Lm9wcy5hcmVTYW1lT3JaZXJvKGUsIHZhbHVlKTtcblx0XHR9KSkge1xuXHRcdFx0dGhpcy5ub2RlLnNldERhdGEucHVzaCh2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubm9kZTtcblx0fSwgMSwgXCJTZXQucHJvdG90eXBlLmFkZFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZGVsZXRlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGFzc2VydElzU2V0KHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmRlbGV0ZVwiKTtcblxuXHRcdHZhciBlbnRyaWVzID0gdGhpcy5ub2RlLnNldERhdGE7XG5cdFx0dmFyIGluZGV4ID0gZW50cmllcy5sZW5ndGg7XG5cblx0XHR3aGlsZSAoaW5kZXgtLSkge1xuXHRcdFx0aWYgKGVudi5vcHMuYXJlU2FtZU9yWmVybyhlbnRyaWVzW2luZGV4XSwgdmFsdWUpKSB7XG5cdFx0XHRcdGVudHJpZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdH0sIDEsIFwiU2V0LnByb3RvdHlwZS5kZWxldGVcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImhhc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5oYXNcIik7XG5cdFx0dmFyIGhhcyA9IHRoaXMubm9kZS5zZXREYXRhLnNvbWUoZnVuY3Rpb24gKGUpIHtcblx0XHRcdHJldHVybiBlbnYub3BzLmFyZVNhbWVPclplcm8oZSwgdmFsdWUpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShoYXMpO1xuXHR9LCAxLCBcIlNldC5wcm90b3R5cGUuaGFzXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJjbGVhclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0YXNzZXJ0SXNTZXQodGhpcy5ub2RlLCBcIlNldC5wcm90b3R5cGUuY2xlYXJcIik7XG5cdFx0dGhpcy5ub2RlLnNldERhdGEgPSBbXTtcblx0fSwgMCwgXCJTZXQucHJvdG90eXBlLmNsZWFyXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJmb3JFYWNoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIHM7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFzc2VydElzU2V0KHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmZvckVhY2hcIik7XG5cblx0XHRcdFx0XHRzID0gdGhpcy5ub2RlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkodGhpcy5ub2RlLnNldERhdGEsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGUpIHtcblx0XHRcdFx0XHRcdHZhciBzY29wZSwgYXJncztcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVTY29wZSh0aGlzQXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuaW5pdChjYWxsYmFjay5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gW2UsIGUsIHNdO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5sb2FkQXJncyhjYWxsYmFjay5ub2RlLnBhcmFtcywgYXJncywgY2FsbGJhY2spO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGNhbGxiYWNrLm5vZGUuYm9keSwgY2FsbGJhY2subm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU2V0LnByb3RvdHlwZS5mb3JFYWNoXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGFzc2VydElzU2V0KHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLnZhbHVlc1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvcih0aGlzLm5vZGUudmFsdWVzKCkpO1xuXHR9LCAwLCBcIlNldC5wcm90b3R5cGUudmFsdWVzXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJrZXlzXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5rZXlzXCIpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKHRoaXMubm9kZS5rZXlzKCkpO1xuXHR9LCAwLCBcIlNldC5wcm90b3R5cGUua2V5c1wiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIlNldFwiLCBzZXRDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcImNvZGVQb2ludEF0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHBvcykge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgcG9zaXRpb247XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKHRoaXMubm9kZSwgXCJTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0XCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiB0b1N0cmluZyh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShwb3MpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gc3RyaW5nVmFsdWUubGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5jb2RlUG9pbnRBdChwb3NpdGlvbikpKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3RyaW5nJGZyb21Db2RlUG9pbnQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N0cmluZy9mcm9tLWNvZGUtcG9pbnRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwiZnJvbUNvZGVQb2ludFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY29kZVBvaW50cyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0Y29kZVBvaW50c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgYXJncztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGNvZGVQb2ludHMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGNwKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoY3ApO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoX1N0cmluZyRmcm9tQ29kZVBvaW50LmFwcGx5KFN0cmluZywgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKSkpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5mcm9tQ29kZVBvaW50XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdGZ1bmN0aW9uIHN0cmluZ0luY2x1ZGVzKHNvdXJjZSwgc2VhcmNoLCBzdGFydCwgZW5kKSB7XG5cdFx0aWYgKCFzZWFyY2gpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChzdGFydCA8IDAgfHwgZW5kID4gc291cmNlLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBzb3VyY2Uuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpID09PSBzZWFyY2g7XG5cdH1cblxuXHR0YXJnZXQuZGVmaW5lKFwiZW5kc1dpdGhcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VhcmNoU3RyaW5nLCBlbmRQb3NpdGlvbikge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgc2VhcmNoVmFsdWUsIGVuZDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGhcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc1JlZ0V4cCkoc2VhcmNoU3RyaW5nKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCBtdXN0IG5vdCBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvblwiKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHNlYXJjaFN0cmluZyk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdHNlYXJjaFZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRlbmQgPSBzdHJpbmdWYWx1ZS5sZW5ndGg7XG5cblx0XHRcdFx0XHRpZiAoKDAsIF91dGlsc0NvbnRyYWN0cy5pc1VuZGVmaW5lZCkoZW5kUG9zaXRpb24pKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbmRQb3NpdGlvbik7XG5cblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRlbmQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cblx0XHRcdFx0XHRlbmQgPSBNYXRoLm1pbihNYXRoLm1heChlbmQsIDApLCBzdHJpbmdWYWx1ZS5sZW5ndGgpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nSW5jbHVkZXMoc3RyaW5nVmFsdWUsIHNlYXJjaFZhbHVlLCBlbmQgLSBzZWFyY2hWYWx1ZS5sZW5ndGgsIGVuZCkpKTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aFwiKSk7XG5cblx0dGFyZ2V0LmRlZmluZShcInN0YXJ0c1dpdGhcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VhcmNoU3RyaW5nLCBzdGFydFBvc2l0aW9uKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBzZWFyY2hWYWx1ZSwgc3RhcnQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKHRoaXMubm9kZSwgXCJTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGhcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc1JlZ0V4cCkoc2VhcmNoU3RyaW5nKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoIG11c3Qgbm90IGJlIGEgcmVndWxhciBleHByZXNzaW9uXCIpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoc2VhcmNoU3RyaW5nKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0c2VhcmNoVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKHN0YXJ0UG9zaXRpb24pO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0c3RhcnQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0c3RhcnQgPSBNYXRoLm1heChzdGFydCwgMCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdJbmNsdWRlcyhzdHJpbmdWYWx1ZSwgc2VhcmNoVmFsdWUsIHN0YXJ0LCBzdGFydCArIHNlYXJjaFZhbHVlLmxlbmd0aCkpKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoXCIpKTtcblxuXHR0YXJnZXQuZGVmaW5lKFwiaW5jbHVkZXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgc2VhcmNoVmFsdWUsIGxlbmd0aCwgc3RhcnQsIGVuZCwgcmVzdWx0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzUmVnRXhwKShzZWFyY2hTdHJpbmcpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCB0byBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzIG11c3Qgbm90IGJlIGEgcmVndWxhciBleHByZXNzaW9uXCIpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoc2VhcmNoU3RyaW5nKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0c2VhcmNoVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGxlbmd0aCA9IHN0cmluZ1ZhbHVlLmxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShwb3NpdGlvbik7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRzdGFydCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRzdGFydCA9IE1hdGgubWluKE1hdGgubWF4KHN0YXJ0LCAwKSwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdGVuZCA9IHN0YXJ0ICsgc2VhcmNoVmFsdWUubGVuZ3RoO1xuXHRcdFx0XHRcdHJlc3VsdCA9IGZhbHNlO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0aWYgKCFzdHJpbmdJbmNsdWRlcyhzdHJpbmdWYWx1ZSwgc2VhcmNoVmFsdWUsIHN0YXJ0KyssIGVuZCsrKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVzdWx0ID0gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMjApO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0aWYgKGVuZCA8PSBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocmVzdWx0KSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWFya2VkMSQwID0gW2dldEl0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHR2YXIgaXRlcmF0b3JQcm90byA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdGl0ZXJhdG9yUHJvdG8uY2xhc3NOYW1lID0gXCJTdHJpbmcgSXRlcmF0b3JcIjtcblxuXHRpdGVyYXRvclByb3RvLmRlZmluZShcIm5leHRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciByZXN1bHQgPSB0aGlzLm5vZGUuYWR2YW5jZSgpO1xuXHRcdGlmIChyZXN1bHQudmFsdWUpIHtcblx0XHRcdHJldHVybiByZXN1bHQudmFsdWU7XG5cdFx0fVxuXG5cdFx0dmFyIG9iaiA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdFx0b2JqLmRlZmluZShcImRvbmVcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocmVzdWx0LmRvbmUpKTtcblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAwLCBcIlN0cmluZ0l0ZXJhdG9yLnByb3RvdHlwZS5uZXh0XCIpKTtcblxuXHRmdW5jdGlvbiBnZXRJdGVyYXRvcih2YWx1ZSkge1xuXHRcdHZhciBsZW5ndGgsIGRvbmUsIGluZGV4LCBfdmFsdWU7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldEl0ZXJhdG9yJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcblx0XHRcdFx0XHRkb25lID0gZmFsc2U7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X3ZhbHVlID0gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0XHRpZiAoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGRvbmUgPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRfdmFsdWUgPSBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShfdmFsdWVbaW5kZXhdKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvclJlc3VsdCh7IHZhbHVlOiBfdmFsdWUsIGRvbmU6IGRvbmUgfSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzBdLCB0aGlzKTtcblx0fVxuXG5cdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXHR0YXJnZXQuZGVmaW5lKGl0ZXJhdG9yS2V5LCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIGl0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3lwZVtTeW1ib2wuaXRlcmF0b3JdXCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0aXQgPSBnZXRJdGVyYXRvcihzdHJpbmdWYWx1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKGl0LCBpdGVyYXRvclByb3RvKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDAsIFwiW1N5bWJvbC5pdGVyYXRvcl1cIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zdHJpbmdDb2RlUG9pbnRBdCA9IHJlcXVpcmUoXCIuL3N0cmluZy5jb2RlLXBvaW50LWF0XCIpO1xuXG52YXIgX3N0cmluZ0NvZGVQb2ludEF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ0NvZGVQb2ludEF0KTtcblxudmFyIF9zdHJpbmdGcm9tQ29kZVBvaW50ID0gcmVxdWlyZShcIi4vc3RyaW5nLmZyb20tY29kZS1wb2ludFwiKTtcblxudmFyIF9zdHJpbmdGcm9tQ29kZVBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ0Zyb21Db2RlUG9pbnQpO1xuXG52YXIgX3N0cmluZ0luY2x1ZGVzID0gcmVxdWlyZShcIi4vc3RyaW5nLmluY2x1ZGVzXCIpO1xuXG52YXIgX3N0cmluZ0luY2x1ZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ0luY2x1ZGVzKTtcblxudmFyIF9zdHJpbmdJdGVyYXRvciA9IHJlcXVpcmUoXCIuL3N0cmluZy5pdGVyYXRvclwiKTtcblxudmFyIF9zdHJpbmdJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdJdGVyYXRvcik7XG5cbnZhciBfc3RyaW5nTm9ybWFsaXplID0gcmVxdWlyZShcIi4vc3RyaW5nLm5vcm1hbGl6ZVwiKTtcblxudmFyIF9zdHJpbmdOb3JtYWxpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nTm9ybWFsaXplKTtcblxudmFyIF9zdHJpbmdSYXcgPSByZXF1aXJlKFwiLi9zdHJpbmcucmF3XCIpO1xuXG52YXIgX3N0cmluZ1JhdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdSYXcpO1xuXG52YXIgX3N0cmluZ1JlcGVhdCA9IHJlcXVpcmUoXCIuL3N0cmluZy5yZXBlYXRcIik7XG5cbnZhciBfc3RyaW5nUmVwZWF0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ1JlcGVhdCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBzdHJpbmdDbGFzcyA9IGdsb2JhbE9iamVjdC5nZXRWYWx1ZShcIlN0cmluZ1wiKTtcblx0dmFyIHByb3RvID0gc3RyaW5nQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cblx0KDAsIF9zdHJpbmdGcm9tQ29kZVBvaW50MltcImRlZmF1bHRcIl0pKHN0cmluZ0NsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3N0cmluZ1JhdzJbXCJkZWZhdWx0XCJdKShzdHJpbmdDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdDb2RlUG9pbnRBdDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdJbmNsdWRlczJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdOb3JtYWxpemUyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfc3RyaW5nUmVwZWF0MltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3N0cmluZ0l0ZXJhdG9yMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcIm5vcm1hbGl6ZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChmb3JtKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBmb3JtVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKHRoaXMubm9kZSwgXCJTdHJpbmcucHJvdG90eXBlLm5vcm1hbGl6ZVwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGZvcm1WYWx1ZSA9IFwiTkZDXCI7XG5cblx0XHRcdFx0XHRpZiAoKDAsIF91dGlsc0NvbnRyYWN0cy5pc1VuZGVmaW5lZCkoZm9ybSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShmb3JtKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Zm9ybVZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICgvXk5GSz8oPzpDfEQpJC8udGVzdChmb3JtVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcigpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5ub3JtYWxpemUoZm9ybVZhbHVlKSkpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJTdHJpbmcucHJvdG90eXBlLm5vcm1hbGl6ZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyB2YWxpZCBmb3JtcyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHRhcmdldC5kZWZpbmUoXCJyYXdcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGVtcGxhdGUpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc3Vic3RpdHV0aW9ucyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdHN1YnN0aXR1dGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJPZlN1YnN0aXR1dGlvbnMsIGNvb2tlZCwgcmF3LCBsaXRlcmFsU2VnbWVudHMsIHN0cmluZ0VsZW1lbnRzLCBuZXh0SW5kZXgsIG5leHRTZWdtZW50LCBuZXh0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRudW1iZXJPZlN1YnN0aXR1dGlvbnMgPSBzdWJzdGl0dXRpb25zLmxlbmd0aDtcblx0XHRcdFx0XHRjb29rZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRlbXBsYXRlLCB0cnVlKTtcblx0XHRcdFx0XHRyYXcgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIGNvb2tlZC5nZXRWYWx1ZShcInJhd1wiKSwgdHJ1ZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHJhdyk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGxpdGVyYWxTZWdtZW50cyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShsaXRlcmFsU2VnbWVudHMgPD0gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlwiKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdHN0cmluZ0VsZW1lbnRzID0gW107XG5cdFx0XHRcdFx0bmV4dEluZGV4ID0gMDtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGlmICghKG5leHRJbmRleCA8IGxpdGVyYWxTZWdtZW50cykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRyZXR1cm4gdG9TdHJpbmcocmF3LmdldFZhbHVlKG5leHRJbmRleCkpO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0bmV4dFNlZ21lbnQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0c3RyaW5nRWxlbWVudHMucHVzaChuZXh0U2VnbWVudCk7XG5cblx0XHRcdFx0XHRpZiAoIShuZXh0SW5kZXggKyAxID09PSBsaXRlcmFsU2VnbWVudHMpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMjYpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0bmV4dCA9IFwiXCI7XG5cblx0XHRcdFx0XHRpZiAoIShuZXh0SW5kZXggPCBudW1iZXJPZlN1YnN0aXR1dGlvbnMpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdFx0cmV0dXJuIHRvU3RyaW5nKHN1YnN0aXR1dGlvbnNbbmV4dEluZGV4XSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0XHRuZXh0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDIyOlxuXG5cdFx0XHRcdFx0c3RyaW5nRWxlbWVudHMucHVzaChuZXh0KTtcblx0XHRcdFx0XHRuZXh0SW5kZXgrKztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ0VsZW1lbnRzLmpvaW4oXCJcIikpKTtcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnJhd1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwicmVwZWF0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNvdW50KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBjb3VudFZhbHVlLCByZXR1cm5WYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUucmVwZWF0XCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGNvdW50KTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0Y291bnRWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShjb3VudFZhbHVlIDwgMCB8fCAhaXNGaW5pdGUoY291bnRWYWx1ZSkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBjb3VudCB2YWx1ZVwiKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBcIlwiO1xuXG5cdFx0XHRcdFx0aWYgKGNvdW50VmFsdWUgPiAwICYmIHN0cmluZ1ZhbHVlKSB7XG5cdFx0XHRcdFx0XHRpZiAoY291bnRWYWx1ZSA9PT0gMSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHN0cmluZ1ZhbHVlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKGNvdW50VmFsdWUgPiAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUgKz0gc3RyaW5nVmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0Y291bnRWYWx1ZS0tO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXR1cm5WYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJTdHJpbmcucHJvdG90eXBlLnJlcGVhdFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBmcm96ZW4gPSB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfTtcblxuXHR2YXIgc3ltYm9sQ2xhc3MgPSBmYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGRlc2MpIHtcblx0XHR2YXIgZGVzY1N0cmluZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCF0aGlzLmlzTmV3KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShkZXNjKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0ZGVzY1N0cmluZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZShcIlN5bWJvbFwiLCBkZXNjU3RyaW5nKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSkpO1xuXG5cdHN5bWJvbENsYXNzLmRlZmluZShcImZvclwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChrZXkpIHtcblx0XHR2YXIga2V5U3RyaW5nLCBpbnN0YW5jZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGtleSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGtleVN0cmluZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoa2V5U3RyaW5nKTtcblxuXHRcdFx0XHRcdGlmICghaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBpbnN0YW5jZSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGUoXCJTeW1ib2xcIiwga2V5U3RyaW5nKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3ltYm9sLmZvclwiKSk7XG5cblx0c3ltYm9sQ2xhc3MuZGVmaW5lKFwia2V5Rm9yXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChzeW0pIHtcblx0XHRyZXR1cm4gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5SW5zdGFuY2Uoc3ltKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0fSwgMSwgXCJTeW1ib2wua2V5Rm9yXCIpKTtcblxuXHR2YXIgcHJvdG8gPSBzeW1ib2xDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSA9IFwiU3ltYm9sKFwiICsgdGhpcy5ub2RlLmRlc2NyaXB0aW9uICsgXCIpXCI7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlKTtcblx0fSwgMCwgXCJTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90R2VuZXJpYykodGhpcy5ub2RlLCBcIlN5bWJvbFwiLCBcIlN5bWJvbC5wcm90b3R5cGUudmFsdWVPZlwiKTtcblx0XHRyZXR1cm4gdGhpcy5ub2RlO1xuXHR9LCAwLCBcIlN5bWJvbC5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG5cblx0W1wiaGFzSW5zdGFuY2VcIiwgXCJpc0NvbmNhdFNwcmVhZGFibGVcIiwgXCJpdGVyYXRvclwiLCBcInJlcGxhY2VcIiwgXCJzcGVjaWVzXCIsIFwidG9TdHJpbmdUYWdcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0dmFyIHN5bSA9IGZhY3RvcnkuY3JlYXRlKFwiU3ltYm9sXCIsIFwiQEBcIiArIGtleSk7XG5cblx0XHQvLyBhZGQgdG8gZ2xvYmFsIHJlZ2lzdHJ5XG5cdFx0X3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmFkZChrZXksIHN5bSk7XG5cdFx0c3ltYm9sQ2xhc3MuZGVmaW5lKGtleSwgc3ltLCBmcm96ZW4pO1xuXHR9KTtcblxuXHR2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJ0b1N0cmluZ1RhZ1wiKTtcblx0cHJvdG8uZGVmaW5lKHRvU3RyaW5nVGFnU3ltYm9sLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlN5bWJvbFwiKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIlN5bWJvbFwiLCBzeW1ib2xDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xudmFyIG1hcmtlZDAkMCA9IFt3YWxrXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcbmZ1bmN0aW9uIHdhbGsobm9kZSkge1xuXHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBuO1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gd2FsayQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIUFycmF5LmlzQXJyYXkobm9kZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0O1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3Iobm9kZSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0biA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG4pLCBcInQwXCIsIDkpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxNDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMFtcImNhdGNoXCJdKDQpO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQxJDAudDE7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxODtcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDE5O1xuXG5cdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjE7XG5cblx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDIxKTtcblxuXHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgxOCk7XG5cblx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyOTtcblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cblx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gbm9kZS50eXBlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gY29udGV4dCQxJDAudDIgPT09IFwiQXJyYXlFeHByZXNzaW9uXCIgPyAzMiA6IGNvbnRleHQkMSQwLnQyID09PSBcIkFzc2lnbm1lbnRFeHByZXNzaW9uXCIgPyAzNSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkJpbmFyeUV4cHJlc3Npb25cIiA/IDM4IDogY29udGV4dCQxJDAudDIgPT09IFwiTG9naWNhbEV4cHJlc3Npb25cIiA/IDM4IDogY29udGV4dCQxJDAudDIgPT09IFwiQmxvY2tTdGF0ZW1lbnRcIiA/IDQxIDogY29udGV4dCQxJDAudDIgPT09IFwiTGFiZWxlZFN0YXRlbWVudFwiID8gNDEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJQcm9ncmFtXCIgPyA0MSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkNhbGxFeHByZXNzaW9uXCIgPyA0MyA6IGNvbnRleHQkMSQwLnQyID09PSBcIk5ld0V4cHJlc3Npb25cIiA/IDQzIDogY29udGV4dCQxJDAudDIgPT09IFwiQ2F0Y2hDbGF1c2VcIiA/IDQ2IDogY29udGV4dCQxJDAudDIgPT09IFwiQ29uZGl0aW9uYWxFeHByZXNzaW9uXCIgPyA0OSA6IGNvbnRleHQkMSQwLnQyID09PSBcIklmU3RhdGVtZW50XCIgPyA0OSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkRvV2hpbGVTdGF0ZW1lbnRcIiA/IDU0IDogY29udGV4dCQxJDAudDIgPT09IFwiRXhwcmVzc2lvblN0YXRlbWVudFwiID8gNTcgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJGb3JTdGF0ZW1lbnRcIiA/IDU5IDogY29udGV4dCQxJDAudDIgPT09IFwiRm9ySW5TdGF0ZW1lbnRcIiA/IDY3IDogY29udGV4dCQxJDAudDIgPT09IFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiID8gNzEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJGdW5jdGlvbkV4cHJlc3Npb25cIiA/IDcxIDogY29udGV4dCQxJDAudDIgPT09IFwiTWVtYmVyRXhwcmVzc2lvblwiID8gNzYgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJPYmplY3RFeHByZXNzaW9uXCIgPyA4MCA6IGNvbnRleHQkMSQwLnQyID09PSBcIlByb3BlcnR5XCIgPyA4MiA6IGNvbnRleHQkMSQwLnQyID09PSBcIlJldHVyblN0YXRlbWVudFwiID8gODQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJTZXF1ZW5jZUV4cHJlc3Npb25cIiA/IDg3IDogY29udGV4dCQxJDAudDIgPT09IFwiU3dpdGNoU3RhdGVtZW50XCIgPyA4OSA6IGNvbnRleHQkMSQwLnQyID09PSBcIlN3aXRjaENhc2VcIiA/IDkyIDogY29udGV4dCQxJDAudDIgPT09IFwiVGhyb3dTdGF0ZW1lbnRcIiA/IDk0IDogY29udGV4dCQxJDAudDIgPT09IFwiVW5hcnlFeHByZXNzaW9uXCIgPyA5NCA6IGNvbnRleHQkMSQwLnQyID09PSBcIlVwZGF0ZUV4cHJlc3Npb25cIiA/IDk0IDogY29udGV4dCQxJDAudDIgPT09IFwiVHJ5U3RhdGVtZW50XCIgPyA5NiA6IGNvbnRleHQkMSQwLnQyID09PSBcIlZhcmlhYmxlRGVjbGFyYXRpb25cIiA/IDEwMiA6IGNvbnRleHQkMSQwLnQyID09PSBcIlZhcmlhYmxlRGVjbGFyYXRvclwiID8gMTA0IDogY29udGV4dCQxJDAudDIgPT09IFwiV2hpbGVTdGF0ZW1lbnRcIiA/IDEwOCA6IGNvbnRleHQkMSQwLnQyID09PSBcIldpdGhTdGF0ZW1lbnRcIiA/IDExMSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkJyZWFrU3RhdGVtZW50XCIgPyAxMTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJDb250aW51ZVN0YXRlbWVudFwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiRW1wdHlTdGF0ZW1lbnRcIiA/IDExNCA6IGNvbnRleHQkMSQwLnQyID09PSBcIklkZW50aWZpZXJcIiA/IDExNCA6IGNvbnRleHQkMSQwLnQyID09PSBcIkxpdGVyYWxcIiA/IDExNCA6IGNvbnRleHQkMSQwLnQyID09PSBcIlRoaXNFeHByZXNzaW9uXCIgPyAxMTQgOiAxMTU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDMyOlxuXHRcdFx0XHRpZiAoIW5vZGUuZWxlbWVudHMpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZWxlbWVudHMpLCBcInQzXCIsIDM0KTtcblxuXHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5yaWdodCksIFwidDRcIiwgMzYpO1xuXG5cdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUubGVmdCksIFwidDVcIiwgMzcpO1xuXG5cdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmxlZnQpLCBcInQ2XCIsIDM5KTtcblxuXHRcdFx0Y2FzZSAzOTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnJpZ2h0KSwgXCJ0N1wiLCA0MCk7XG5cblx0XHRcdGNhc2UgNDA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDQxOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDhcIiwgNDIpO1xuXG5cdFx0XHRjYXNlIDQyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA0Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmNhbGxlZSksIFwidDlcIiwgNDQpO1xuXG5cdFx0XHRjYXNlIDQ0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYXJndW1lbnRzKSwgXCJ0MTBcIiwgNDUpO1xuXG5cdFx0XHRjYXNlIDQ1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA0Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnBhcmFtKSwgXCJ0MTFcIiwgNDcpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDEyXCIsIDQ4KTtcblxuXHRcdFx0Y2FzZSA0ODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNDk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS50ZXN0KSwgXCJ0MTNcIiwgNTApO1xuXG5cdFx0XHRjYXNlIDUwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuY29uc2VxdWVudCksIFwidDE0XCIsIDUxKTtcblxuXHRcdFx0Y2FzZSA1MTpcblx0XHRcdFx0aWYgKCFub2RlLmFsdGVybmF0ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1Mztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKG5vZGUuYWx0ZXJuYXRlLCBcInQxNVwiLCA1Myk7XG5cblx0XHRcdGNhc2UgNTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDU0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDE2XCIsIDU1KTtcblxuXHRcdFx0Y2FzZSA1NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnRlc3QpLCBcInQxN1wiLCA1Nik7XG5cblx0XHRcdGNhc2UgNTY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDU3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZXhwcmVzc2lvbiksIFwidDE4XCIsIDU4KTtcblxuXHRcdFx0Y2FzZSA1ODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNTk6XG5cdFx0XHRcdGlmICghbm9kZS5pbml0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDYxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmluaXQpLCBcInQxOVwiLCA2MSk7XG5cblx0XHRcdGNhc2UgNjE6XG5cdFx0XHRcdGlmICghbm9kZS50ZXN0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDYzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnRlc3QpLCBcInQyMFwiLCA2Myk7XG5cblx0XHRcdGNhc2UgNjM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MjFcIiwgNjQpO1xuXG5cdFx0XHRjYXNlIDY0OlxuXHRcdFx0XHRpZiAoIW5vZGUudXBkYXRlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnVwZGF0ZSksIFwidDIyXCIsIDY2KTtcblxuXHRcdFx0Y2FzZSA2Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNjc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5yaWdodCksIFwidDIzXCIsIDY4KTtcblxuXHRcdFx0Y2FzZSA2ODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmxlZnQpLCBcInQyNFwiLCA2OSk7XG5cblx0XHRcdGNhc2UgNjk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MjVcIiwgNzApO1xuXG5cdFx0XHRjYXNlIDcwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA3MTpcblx0XHRcdFx0aWYgKCFub2RlLmlkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDczO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmlkKSwgXCJ0MjZcIiwgNzMpO1xuXG5cdFx0XHRjYXNlIDczOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucGFyYW1zKSwgXCJ0MjdcIiwgNzQpO1xuXG5cdFx0XHRjYXNlIDc0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDI4XCIsIDc1KTtcblxuXHRcdFx0Y2FzZSA3NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNzY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5vYmplY3QpLCBcInQyOVwiLCA3Nyk7XG5cblx0XHRcdGNhc2UgNzc6XG5cdFx0XHRcdGlmICghbm9kZS5jb21wdXRlZCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3OTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5wcm9wZXJ0eSksIFwidDMwXCIsIDc5KTtcblxuXHRcdFx0Y2FzZSA3OTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgODA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5wcm9wZXJ0aWVzKSwgXCJ0MzFcIiwgODEpO1xuXG5cdFx0XHRjYXNlIDgxOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA4Mjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnZhbHVlKSwgXCJ0MzJcIiwgODMpO1xuXG5cdFx0XHRjYXNlIDgzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA4NDpcblx0XHRcdFx0aWYgKCFub2RlLmFyZ3VtZW50KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmFyZ3VtZW50KSwgXCJ0MzNcIiwgODYpO1xuXG5cdFx0XHRjYXNlIDg2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA4Nzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmV4cHJlc3Npb25zKSwgXCJ0MzRcIiwgODgpO1xuXG5cdFx0XHRjYXNlIDg4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA4OTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmRpc2NyaW1pbmFudCksIFwidDM1XCIsIDkwKTtcblxuXHRcdFx0Y2FzZSA5MDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmNhc2VzKSwgXCJ0MzZcIiwgOTEpO1xuXG5cdFx0XHRjYXNlIDkxOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA5Mjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmNvbnNlcXVlbnQpLCBcInQzN1wiLCA5Myk7XG5cblx0XHRcdGNhc2UgOTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDk0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYXJndW1lbnQpLCBcInQzOFwiLCA5NSk7XG5cblx0XHRcdGNhc2UgOTU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDk2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYmxvY2spLCBcInQzOVwiLCA5Nyk7XG5cblx0XHRcdGNhc2UgOTc6XG5cdFx0XHRcdGlmICghbm9kZS5oYW5kbGVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmhhbmRsZXIpLCBcInQ0MFwiLCA5OSk7XG5cblx0XHRcdGNhc2UgOTk6XG5cdFx0XHRcdGlmICghbm9kZS5maW5hbGl6ZXIpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTAxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmZpbmFsaXplciksIFwidDQxXCIsIDEwMSk7XG5cblx0XHRcdGNhc2UgMTAxOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5kZWNsYXJhdGlvbnMpLCBcInQ0MlwiLCAxMDMpO1xuXG5cdFx0XHRjYXNlIDEwMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMTA0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaWQpLCBcInQ0M1wiLCAxMDUpO1xuXG5cdFx0XHRjYXNlIDEwNTpcblx0XHRcdFx0aWYgKCFub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmluaXQpLCBcInQ0NFwiLCAxMDcpO1xuXG5cdFx0XHRjYXNlIDEwNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMTA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudGVzdCksIFwidDQ1XCIsIDEwOSk7XG5cblx0XHRcdGNhc2UgMTA5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDQ2XCIsIDExMCk7XG5cblx0XHRcdGNhc2UgMTEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5vYmplY3QpLCBcInQ0N1wiLCAxMTIpO1xuXG5cdFx0XHRjYXNlIDExMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQ0OFwiLCAxMTMpO1xuXG5cdFx0XHRjYXNlIDExMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMTE0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbNCwgMTQsIDE4LCAyNl0sIFsxOSwsIDIxLCAyNV1dKTtcbn1cblxuLy8gZG8gbm90aGluZ1xuXG52YXIgRXN0cmVlV2Fsa2VyID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gRXN0cmVlV2Fsa2VyKG5vZGUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXN0cmVlV2Fsa2VyKTtcblxuXHRcdHRoaXMucm9vdCA9IG5vZGU7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoRXN0cmVlV2Fsa2VyLCBbe1xuXHRcdGtleTogX1N5bWJvbCRpdGVyYXRvcixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG5cdFx0XHRyZXR1cm4gd2Fsayh0aGlzLnJvb3QpO1xuXHRcdH1cblx0fV0sIFt7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUobm9kZSkge1xuXHRcdFx0cmV0dXJuIG5ldyBFc3RyZWVXYWxrZXIobm9kZSk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEVzdHJlZVdhbGtlcjtcbn0pKCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRXN0cmVlV2Fsa2VyO1xuO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gcmlnaHQgc2hvdWxkIGJlIGV2YWx1YXRlZCBmaXJzdFxuXG4vLyBkbyBub3RoaW5nIGVsc2UiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2V4ZWN1dGlvblJlc3VsdCA9IHJlcXVpcmUoXCIuL2V4ZWN1dGlvbi1yZXN1bHRcIik7XG5cbnZhciBfdmlzaXRvcnMgPSByZXF1aXJlKFwiLi92aXNpdG9yc1wiKTtcblxudmFyIF92aXNpdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92aXNpdG9ycyk7XG5cbnZhciBFeGVjdXRpb25Db250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gRXhlY3V0aW9uQ29udGV4dChlbnYsIG5vZGUsIGNhbGxlZSwgaXNOZXcpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhlY3V0aW9uQ29udGV4dCk7XG5cblx0XHR0aGlzLm5vZGUgPSBub2RlO1xuXHRcdHRoaXMuY2FsbGVlID0gY2FsbGVlO1xuXHRcdHRoaXMuZW52ID0gZW52O1xuXHRcdHRoaXMuaXNOZXcgPSAhIWlzTmV3O1xuXG5cdFx0dGhpcy5sYWJlbCA9IFwiXCI7XG5cdFx0dGhpcy52YWx1ZSA9IG51bGw7XG5cdFx0dGhpcy5zdHJpY3QgPSBmYWxzZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhFeGVjdXRpb25Db250ZXh0LCBbe1xuXHRcdGtleTogXCJleGVjdXRlXCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBleGVjdXRlKCkge1xuXHRcdFx0dmFyIGV4ZWN1dGlvblJlc3VsdDtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZSQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIF92aXNpdG9yczJbXCJkZWZhdWx0XCJdLnZpc2l0KHRoaXMpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDc7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMSk7XG5cblx0XHRcdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IHRoaXMucmFpc2UoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdGlmICghKGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQucmFpc2VkKSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aHJvdyB0aGlzLmVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZShcIkVycm9yXCIsIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZXhlY3V0aW9uUmVzdWx0IHx8IHRoaXMuZW1wdHkoKSk7XG5cblx0XHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGV4ZWN1dGUsIHRoaXMsIFtbMSwgN11dKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUobm9kZSwgY2FsbGVlLCBpc05ldykge1xuXHRcdFx0dmFyIGNvbnRleHQgPSBuZXcgRXhlY3V0aW9uQ29udGV4dCh0aGlzLmVudiwgbm9kZSwgY2FsbGVlIHx8IHRoaXMuY2FsbGVlLCBpc05ldyk7XG5cdFx0XHRjb250ZXh0LnZhbHVlID0gdGhpcy52YWx1ZTtcblx0XHRcdHJldHVybiBjb250ZXh0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVMYWJlbFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVMYWJlbChub2RlLCBsYWJlbCkge1xuXHRcdFx0dmFyIGNvbnRleHQgPSB0aGlzLmNyZWF0ZShub2RlKTtcblx0XHRcdGNvbnRleHQubGFiZWwgPSBsYWJlbDtcblx0XHRcdHJldHVybiBjb250ZXh0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjYW5jZWxcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY2FuY2VsKGxhYmVsKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHQodGhpcy52YWx1ZSwgbGFiZWwpO1xuXHRcdFx0cmVzdWx0LmNhbmNlbCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJza2lwXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNraXAobGFiZWwpIHtcblx0XHRcdHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdCh0aGlzLnZhbHVlLCBsYWJlbCk7XG5cdFx0XHRyZXN1bHQuc2tpcCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJyYWlzZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByYWlzZShlcnIpIHtcblx0XHRcdHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdChlcnIpO1xuXHRcdFx0cmVzdWx0LnJhaXNlZCA9IHJlc3VsdC5leGl0ID0gdHJ1ZTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImV4aXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZXhpdCh2YWx1ZSkge1xuXHRcdFx0dGhpcy5jYWxsZWUgPSBudWxsO1xuXG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHQodmFsdWUpO1xuXHRcdFx0cmVzdWx0LmV4aXQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmVzdWx0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJlc3VsdCh2YWx1ZSwgbmFtZSwgb2JqKSB7XG5cdFx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0XHRyZXR1cm4gbmV3IF9leGVjdXRpb25SZXN1bHQuRXhlY3V0aW9uUmVzdWx0KHZhbHVlLCBuYW1lLCBvYmopO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJlbXB0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBlbXB0eSgpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlc3VsdChfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEV4ZWN1dGlvbkNvbnRleHQ7XG59KSgpO1xuXG5leHBvcnRzLkV4ZWN1dGlvbkNvbnRleHQgPSBFeGVjdXRpb25Db250ZXh0O1xuOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIEV4ZWN1dGlvblJlc3VsdCA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEV4ZWN1dGlvblJlc3VsdCh2YWx1ZSwgbmFtZSwgb2JqKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4ZWN1dGlvblJlc3VsdCk7XG5cblx0XHR0aGlzLnJlc3VsdCA9IHZhbHVlO1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy5vYmplY3QgPSBvYmo7XG5cblx0XHR0aGlzLmNhbmNlbCA9IGZhbHNlO1xuXHRcdHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG5cdFx0dGhpcy5leGl0ID0gZmFsc2U7XG5cdFx0dGhpcy5za2lwID0gZmFsc2U7XG5cdFx0dGhpcy5yYWlzZWQgPSBmYWxzZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhFeGVjdXRpb25SZXN1bHQsIFt7XG5cdFx0a2V5OiBcImlzQ2FuY2VsbGVkXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzQ2FuY2VsbGVkKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2FuY2VsIHx8IHRoaXMuZXhpdCB8fCB0aGlzLnJhaXNlZDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY2FuQnJlYWtcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY2FuQnJlYWsoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5pc0NhbmNlbGxlZCgpIHx8IHRoaXMuc2tpcDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2hvdWxkQnJlYWtcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQnJlYWsoY29udGV4dCwgbG9vcCwgcHJpb3JSZXN1bHQpIHtcblx0XHRcdGlmICh0aGlzLmV4aXQgfHwgdGhpcy5yYWlzZWQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5jYW5jZWwgJiYgIXRoaXMuc2tpcCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBicmVha2luZyA9IHRydWU7XG5cdFx0XHRpZiAodGhpcy5uYW1lICYmIHRoaXMubmFtZSA9PT0gY29udGV4dC5sYWJlbCkge1xuXHRcdFx0XHRicmVha2luZyA9IHRoaXMuY2FuY2VsbGVkID0gdGhpcy5jYW5jZWw7XG5cdFx0XHRcdHRoaXMuY2FuY2VsID0gdGhpcy5za2lwID0gZmFsc2U7XG5cblx0XHRcdFx0aWYgKHRoaXMuY2FuY2VsbGVkKSB7XG5cdFx0XHRcdFx0dGhpcy5yZXN1bHQgPSBwcmlvclJlc3VsdCAmJiBwcmlvclJlc3VsdC5yZXN1bHQgfHwgdGhpcy5yZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYnJlYWtpbmc7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChsb29wICYmICF0aGlzLm5hbWUpIHtcblx0XHRcdFx0YnJlYWtpbmcgPSB0aGlzLmNhbmNlbGxlZCA9IHRoaXMuY2FuY2VsO1xuXHRcdFx0XHR0aGlzLmNhbmNlbCA9IHRoaXMuc2tpcCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnJlc3VsdCA9IHByaW9yUmVzdWx0ICYmIHByaW9yUmVzdWx0LnJlc3VsdCB8fCB0aGlzLnJlc3VsdDtcblx0XHRcdHJldHVybiBicmVha2luZztcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRXhlY3V0aW9uUmVzdWx0O1xufSkoKTtcblxuZXhwb3J0cy5FeGVjdXRpb25SZXN1bHQgPSBFeGVjdXRpb25SZXN1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRpdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxucmVxdWlyZShcIi4vcG9seWZpbGxzXCIpO1xuXG52YXIgX2VudiA9IHJlcXVpcmUoXCIuL2VudlwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBTYW5kQm94ciA9IChmdW5jdGlvbiAoKSB7XG5cdC8qKlxyXG4gICogQ3JlYXRlcyBhIG5ldyBTYW5kYm94XHJcbiAgKiBAY2xhc3NcclxuICAqIEBwYXJhbSB7QVNUfSBhc3QgLSBUaGUgYWJzdHJhY3Qgc3ludGF4IHRyZWUgdG8gZXhlY3V0ZS5cclxuICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgdG8gdXNlIHdpdGggdGhlIHNhbmRib3guXHJcbiAgKi9cblxuXHRmdW5jdGlvbiBTYW5kQm94cihhc3QpIHtcblx0XHR2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNhbmRCb3hyKTtcblxuXHRcdHRoaXMuYXN0ID0gYXN0O1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdH1cblxuXHQvKipcclxuICAqIEV4ZWN1dGVzIHRoZSBhYnN0cmFjdCBzeW50YXggdHJlZSAoQVNUKSBhZ2FpbnN0IHRoZSBwcm92aWRlZCBlbnZpcm9ubWVudCAob3IgdGhlIGRlZmF1bHRcclxuICAqIGVudmlyb25tZW50IGlmIG5vdCBwcm92aWRlZClcclxuICAqIEBwYXJhbSB7RW52aXJvbm1lbnR9IFtlbnZdIC0gVGhlIGVudmlyb25tZW50IHRvIGV4ZWN1dGUgdGhlIEFTVCBhZ2FpbnN0LlxyXG4gICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgZXhlY3V0aW9uXHJcbiAgKi9cblxuXHRfY3JlYXRlQ2xhc3MoU2FuZEJveHIsIFt7XG5cdFx0a2V5OiBcImV4ZWN1dGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZShlbnYpIHtcblx0XHRcdGlmICghZW52KSB7XG5cdFx0XHRcdGVudiA9IFNhbmRCb3hyLmNyZWF0ZUVudmlyb25tZW50KCk7XG5cdFx0XHRcdGVudi5pbml0KHRoaXMub3B0aW9ucyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMucHJvbWlzaWZ5KShlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dCh0aGlzLmFzdCkuZXhlY3V0ZSgpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0cmV0dXJuIHJlcy5yZXN1bHQ7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IF9TeW1ib2wkaXRlcmF0b3IsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc3RlcCgpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzdGVwXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHN0ZXAoZW52KSB7XG5cdFx0XHRpZiAoIWVudikge1xuXHRcdFx0XHRlbnYgPSBTYW5kQm94ci5jcmVhdGVFbnZpcm9ubWVudCgpO1xuXHRcdFx0XHRlbnYuaW5pdCh0aGlzLm9wdGlvbnMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLnN0ZXApKGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KHRoaXMuYXN0KS5leGVjdXRlKCkpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYW4gZW52aXJvbm1lbnQgaW5zdGFuY2UuXHJcbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIGVudmlyb25tZW50IGluc3RhbmNlLlxyXG4gICAqL1xuXHR9XSwgW3tcblx0XHRrZXk6IFwiY3JlYXRlRW52aXJvbm1lbnRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRW52aXJvbm1lbnQoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IF9lbnYuRW52aXJvbm1lbnQoKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbmRCb3hyIGluc3RhbmNlLlxyXG4gICAqIEBwYXJhbSB7QVNUfSBhc3QgLSBUaGUgYWJzdHJhY3Qgc3ludGF4IHRyZWUgdG8gZXhlY3V0ZS5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIHRvIHVzZSB3aXRoIHRoZSBzYW5kYm94LlxyXG4gICAqIEByZXR1cm5zIHtTYW5kQm94cn0gQSBuZXcgc2FuZGJveC5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGFzdCwgb3B0aW9ucykge1xuXHRcdFx0cmV0dXJuIG5ldyBTYW5kQm94cihhc3QsIG9wdGlvbnMpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTYW5kQm94cjtcbn0pKCk7XG5cbmV4cG9ydHMuU2FuZEJveHIgPSBTYW5kQm94cjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW2FzY0l0ZXJhdG9yLCBkZXNjSXRlcmF0b3IsIHlpZWxkSW5kZXhdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5mdW5jdGlvbiBhc2NJdGVyYXRvcihzb3VyY2UsIGxvLCBoaSkge1xuXHR2YXIgaW5kZXg7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gYXNjSXRlcmF0b3IkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aW5kZXggPSBsbztcblxuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRpZiAoIShpbmRleCA8IGhpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoeWllbGRJbmRleChzb3VyY2UsIGluZGV4KSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc2NJdGVyYXRvcihzb3VyY2UsIGxvLCBoaSkge1xuXHR2YXIgaW5kZXg7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzY0l0ZXJhdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGluZGV4ID0gaGk7XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0aWYgKCEoaW5kZXggPj0gbG8pKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh5aWVsZEluZGV4KHNvdXJjZSwgaW5kZXgpLCBcInQwXCIsIDMpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24geWllbGRJbmRleChzb3VyY2UsIGtleSkge1xuXHR2YXIgcHJvcCwgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24geWllbGRJbmRleCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRwcm9wID0gc291cmNlLmdldFByb3BlcnR5KGtleSk7XG5cblx0XHRcdFx0aWYgKCFwcm9wKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZSA9IHByb3AuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwga2V5OiBrZXkgfTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzJdLCB0aGlzKTtcbn1cblxudmFyIEFycmF5SXRlcmF0b3IgPSB7XG5cdGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKG9iaiwgbG8sIGhpLCBkZXNjKSB7XG5cdFx0cmV0dXJuIChkZXNjID8gZGVzY0l0ZXJhdG9yIDogYXNjSXRlcmF0b3IpKG9iaiwgbG8sIGhpKTtcblx0fVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBBcnJheUl0ZXJhdG9yO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9PYmplY3Qka2V5cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3N0cmluZ0l0ZXJhdG9yID0gcmVxdWlyZShcIi4vc3RyaW5nLWl0ZXJhdG9yXCIpO1xuXG52YXIgX3N0cmluZ0l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ0l0ZXJhdG9yKTtcblxudmFyIF9zcGFyc2VJdGVyYXRvciA9IHJlcXVpcmUoXCIuL3NwYXJzZS1pdGVyYXRvclwiKTtcblxudmFyIF9zcGFyc2VJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcGFyc2VJdGVyYXRvcik7XG5cbnZhciBfYXJyYXlJdGVyYXRvciA9IHJlcXVpcmUoXCIuL2FycmF5LWl0ZXJhdG9yXCIpO1xuXG52YXIgX2FycmF5SXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlJdGVyYXRvcik7XG5cbnZhciBfaXRlcmFibGVJdGVyYXRvciA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlLWl0ZXJhdG9yXCIpO1xuXG52YXIgX2l0ZXJhYmxlSXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmFibGVJdGVyYXRvcik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgU1BBUkVfQVJSQVlfREVOU0lUWSA9IDAuODtcblxuZnVuY3Rpb24gYXJyYXlJc1NwYXJzZShhcnIsIGxlbmd0aCkge1xuXHR2YXIgb3duUHJvcGVydHlDb3VudCA9IF9PYmplY3Qka2V5cyhhcnIucHJvcGVydGllcykubGVuZ3RoO1xuXG5cdC8vIHRoaXMgaXMganVzdCB0byByb3VnaGx5IGVzdGltYXRlIGhvdyBkZW5zZSB0aGUgYXJyYXkgaXNcblx0dmFyIGRlbnNpdHkgPSAob3duUHJvcGVydHlDb3VudCAtIDEpIC8gbGVuZ3RoO1xuXHRyZXR1cm4gZGVuc2l0eSA8IFNQQVJFX0FSUkFZX0RFTlNJVFk7XG59XG5cbnZhciBpdGVyYXRlID0ge1xuXHRnZXRJdGVyYXRvcjogZnVuY3Rpb24gZ2V0SXRlcmF0b3IoZW52LCBvYmopIHtcblx0XHR2YXIgaXRlcmF0b3JLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJpdGVyYXRvclwiKTtcblx0XHR2YXIgaXRlcmF0b3IgPSBvYmouZ2V0UHJvcGVydHkoaXRlcmF0b3JLZXkpO1xuXHRcdGlmIChpdGVyYXRvcikge1xuXHRcdFx0dmFyIGZuID0gaXRlcmF0b3IuZ2V0VmFsdWUoKTtcblx0XHRcdHZhciBpdCA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShmbi5jYWxsKG9iaikpO1xuXHRcdFx0cmV0dXJuIF9pdGVyYWJsZUl0ZXJhdG9yMltcImRlZmF1bHRcIl0uY3JlYXRlKGl0KTtcblx0XHR9XG5cblx0XHR2YXIgbGVuZ3RoID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKG9iaikpO1xuXHRcdHJldHVybiB0aGlzLmZvcndhcmQoZW52LCBvYmosIDAsIGxlbmd0aCk7XG5cdH0sXG5cblx0Zm9yd2FyZDogZnVuY3Rpb24gZm9yd2FyZChlbnYsIG9iaiwgbG8sIGhpKSB7XG5cdFx0Ly8gc3RyaW5nIHdpbGwgbmV2ZXIgYmUgZGVuc2Vcblx0XHRpZiAob2JqLmNsYXNzTmFtZSA9PT0gXCJTdHJpbmdcIikge1xuXHRcdFx0cmV0dXJuIF9zdHJpbmdJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShlbnYub2JqZWN0RmFjdG9yeSwgb2JqLCBsbyk7XG5cdFx0fVxuXG5cdFx0aWYgKGFycmF5SXNTcGFyc2Uob2JqLCBoaSkpIHtcblx0XHRcdHJldHVybiBfc3BhcnNlSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbywgaGkgLSAxKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX2FycmF5SXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbywgaGkpO1xuXHR9LFxuXG5cdHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2UoZW52LCBvYmosIGhpKSB7XG5cdFx0dmFyIGxvID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1szXTtcblxuXHRcdGlmIChvYmouY2xhc3NOYW1lID09PSBcIlN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gX3N0cmluZ0l0ZXJhdG9yMltcImRlZmF1bHRcIl0uY3JlYXRlKGVudi5vYmplY3RGYWN0b3J5LCBvYmosIGhpLCB0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAoYXJyYXlJc1NwYXJzZShvYmosIGhpKSkge1xuXHRcdFx0cmV0dXJuIF9zcGFyc2VJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShvYmosIGxvLCBoaSwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIF9hcnJheUl0ZXJhdG9yMltcImRlZmF1bHRcIl0uY3JlYXRlKG9iaiwgbG8sIGhpLCB0cnVlKTtcblx0fVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBpdGVyYXRlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIEl0ZXJhYmxlSXRlcmF0b3IgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBJdGVyYWJsZUl0ZXJhdG9yKGl0KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZXJhYmxlSXRlcmF0b3IpO1xuXG5cdFx0dGhpcy5jdXJyZW50SW5kZXggPSAwO1xuXHRcdHRoaXMuaXRlcmF0b3IgPSBpdDtcblx0XHR0aGlzLmFkdmFuY2VyID0gaXQuZ2V0VmFsdWUoXCJuZXh0XCIpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEl0ZXJhYmxlSXRlcmF0b3IsIFt7XG5cdFx0a2V5OiBcIm5leHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gbmV4dCgpIHtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkodGhpcy5hZHZhbmNlci5jYWxsKHRoaXMuaXRlcmF0b3IpKTtcblx0XHRcdHZhciB2YWx1ZSA9IHsga2V5OiB0aGlzLmN1cnJlbnRJbmRleCsrLCB2YWx1ZTogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQgfTtcblxuXHRcdFx0dmFyIHZhbHVlUHJvcGVydHkgPSByZXN1bHQuZ2V0UHJvcGVydHkoXCJ2YWx1ZVwiKTtcblx0XHRcdGlmICh2YWx1ZVByb3BlcnR5KSB7XG5cdFx0XHRcdHZhbHVlLnZhbHVlID0gdmFsdWVQcm9wZXJ0eS5nZXRWYWx1ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZG9uZSA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShyZXN1bHQuZ2V0VmFsdWUoXCJkb25lXCIpKTtcblx0XHRcdHJldHVybiB7IGRvbmU6IGRvbmUsIHZhbHVlOiB2YWx1ZSB9O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJlYWNoXCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBlYWNoKGZ1bmMpIHtcblx0XHRcdHZhciBkb25lLCBjdXJyZW50LCBfbmV4dDtcblxuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBlYWNoJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGRvbmUgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyO1xuXHRcdFx0XHRcdFx0Y3VycmVudCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdF9uZXh0ID0gdGhpcy5uZXh0KCk7XG5cdFx0XHRcdFx0XHRkb25lID0gX25leHQuZG9uZTtcblx0XHRcdFx0XHRcdGN1cnJlbnQgPSBfbmV4dC52YWx1ZTtcblxuXHRcdFx0XHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmMoY3VycmVudC52YWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDEyO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDIpO1xuXG5cdFx0XHRcdFx0XHR0aGlzW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0XHR0aHJvdyBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBlYWNoLCB0aGlzLCBbWzIsIDEyXV0pO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwicmV0dXJuXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIF9yZXR1cm4oKSB7XG5cdFx0XHR2YXIgcHJvcEluZm8gPSB0aGlzLml0ZXJhdG9yLmdldFByb3BlcnR5KFwicmV0dXJuXCIpO1xuXHRcdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHRcdHZhciByZXR1cm5GdW5jID0gcHJvcEluZm8uZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShyZXR1cm5GdW5jLmNhbGwodGhpcy5pdGVyYXRvcikpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0fVxuXHR9XSwgW3tcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShpdCkge1xuXHRcdFx0cmV0dXJuIG5ldyBJdGVyYWJsZUl0ZXJhdG9yKGl0KTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gSXRlcmFibGVJdGVyYXRvcjtcbn0pKCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSXRlcmFibGVJdGVyYXRvcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRpdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnJlcXVpcmUoXCIuLi9wb2x5ZmlsbHNcIik7XG5cbnZhciBBU0NFTkRJTkcgPSBmdW5jdGlvbiBBU0NFTkRJTkcoYSwgYikge1xuXHRyZXR1cm4gYSAtIGI7XG59O1xudmFyIERFU0NFTkRJTkcgPSBmdW5jdGlvbiBERVNDRU5ESU5HKGEsIGIpIHtcblx0cmV0dXJuIGIgLSBhO1xufTtcblxudmFyIFNwYXJzZUl0ZXJhdG9yID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gU3BhcnNlSXRlcmF0b3Iob2JqLCBzdGFydCwgZW5kLCBkZXNjKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwYXJzZUl0ZXJhdG9yKTtcblxuXHRcdHRoaXMub2JqZWN0ID0gb2JqO1xuXHRcdHRoaXMuc3RhcnQgPSBzdGFydDtcblx0XHR0aGlzLmVuZCA9IGVuZDtcblx0XHR0aGlzLmFzYyA9ICFkZXNjO1xuXHRcdHRoaXMudmVyc2lvbiA9IDA7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoU3BhcnNlSXRlcmF0b3IsIFt7XG5cdFx0a2V5OiBfU3ltYm9sJGl0ZXJhdG9yLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJyZXNldFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcblx0XHRcdHRoaXMudmVyc2lvbiA9IDA7XG5cdFx0XHR0aGlzLnByb3RvdHlwZXMgPSBbXTtcblx0XHRcdHRoaXMucHJvcHMgPSBfT2JqZWN0JGNyZWF0ZShudWxsKTtcblx0XHRcdHRoaXMua2V5cyA9IFtdO1xuXG5cdFx0XHR2YXIgY3VycmVudCA9IHRoaXMub2JqZWN0O1xuXG5cdFx0XHR3aGlsZSAoY3VycmVudCkge1xuXHRcdFx0XHR0aGlzLnByb3RvdHlwZXMucHVzaChjdXJyZW50KTtcblx0XHRcdFx0dGhpcy52ZXJzaW9uICs9IGN1cnJlbnQudmVyc2lvbjtcblxuXHRcdFx0XHRmb3IgKHZhciBfbmFtZSBpbiBjdXJyZW50LnByb3BlcnRpZXMpIHtcblx0XHRcdFx0XHRpZiAoIShfbmFtZSBpbiB0aGlzLnByb3BzKSAmJiBjb250cmFjdHMuaXNJbnRlZ2VyKF9uYW1lKSkge1xuXHRcdFx0XHRcdFx0dmFyIGluZGV4ID0gTnVtYmVyKF9uYW1lKTtcblxuXHRcdFx0XHRcdFx0aWYgKGluZGV4ID49IHRoaXMuc3RhcnQgJiYgaW5kZXggPD0gdGhpcy5lbmQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wc1tfbmFtZV0gPSBjdXJyZW50LmdldE93blByb3BlcnR5KF9uYW1lKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5rZXlzLnB1c2goaW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmtleXMuc29ydCh0aGlzLmFzYyA/IEFTQ0VORElORyA6IERFU0NFTkRJTkcpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJuZXh0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG5leHQoKSB7XG5cdFx0XHRpZiAoIXRoaXMudmVyc2lvbiB8fCB0aGlzLnNob3VsZFJlc2V0KCkpIHtcblx0XHRcdFx0dGhpcy5yZXNldCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5rZXlzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dmFyIGtleSA9IHRoaXMucG9zaXRpb24gPSB0aGlzLmtleXMuc2hpZnQoKTtcblx0XHRcdFx0dmFyIHZhbHVlID0gdGhpcy5wcm9wc1trZXldLmdldFZhbHVlKCk7XG5cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR2YWx1ZTogeyB2YWx1ZTogdmFsdWUsIGtleToga2V5IH0sXG5cdFx0XHRcdFx0ZG9uZTogZmFsc2Vcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZG9uZTogdHJ1ZVxuXHRcdFx0fTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2hvdWxkUmVzZXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2hvdWxkUmVzZXQoKSB7XG5cdFx0XHR2YXIgY3VycmVudFZlcnNpb24gPSB0aGlzLnByb3RvdHlwZXMucmVkdWNlKGZ1bmN0aW9uICh2LCBvKSB7XG5cdFx0XHRcdHJldHVybiBvLnZlcnNpb24gKyB2O1xuXHRcdFx0fSwgMCk7XG5cdFx0XHRpZiAoY3VycmVudFZlcnNpb24gIT09IHRoaXMudmVyc2lvbikge1xuXHRcdFx0XHRpZiAodGhpcy5hc2MpIHtcblx0XHRcdFx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5wb3NpdGlvbiArIDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5lbmQgPSB0aGlzLnBvc2l0aW9uIC0gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XSwgW3tcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShhcnIsIHN0YXJ0LCBlbmQsIGRlc2MpIHtcblx0XHRcdHJldHVybiBuZXcgU3BhcnNlSXRlcmF0b3IoYXJyLCBzdGFydCwgZW5kLCBkZXNjKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gU3BhcnNlSXRlcmF0b3I7XG59KSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNwYXJzZUl0ZXJhdG9yO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW2FzY0l0ZXJhdG9yLCBkZXNjSXRlcmF0b3JdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuZnVuY3Rpb24gYXNjSXRlcmF0b3IoZmFjdG9yeSwgc3RyaW5nVmFsdWUsIHN0YXJ0KSB7XG5cdHZhciBrZXksIF9sZW5ndGgsIHZhbHVlO1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gYXNjSXRlcmF0b3IkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0a2V5ID0gc3RhcnQsIF9sZW5ndGggPSBzdHJpbmdWYWx1ZS5sZW5ndGg7XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0aWYgKCEoa2V5IDwgX2xlbmd0aCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWVba2V5XSk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4geyB2YWx1ZTogdmFsdWUsIGtleToga2V5IH07XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0a2V5Kys7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzY0l0ZXJhdG9yKGZhY3RvcnksIHN0cmluZ1ZhbHVlLCBzdGFydCkge1xuXHR2YXIga2V5LCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXNjSXRlcmF0b3IkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0a2V5ID0gc3RhcnQ7XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0aWYgKCEoa2V5ID49IDApKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZSA9IGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlW2tleV0pO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBrZXk6IGtleSB9O1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGtleS0tO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbnZhciBTdHJpbmdJdGVyYXRvciA9IHtcblx0Y3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUob2JqZWN0RmFjdG9yeSwgdmFsdWUsIHN0YXJ0LCBkZXNjKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlID0gdmFsdWUudG9OYXRpdmUoKTtcblx0XHRyZXR1cm4gKGRlc2MgPyBkZXNjSXRlcmF0b3IgOiBhc2NJdGVyYXRvcikob2JqZWN0RmFjdG9yeSwgc3RyaW5nVmFsdWUsIHN0YXJ0KTtcblx0fVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTdHJpbmdJdGVyYXRvcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmlzUmVzZXJ2ZWQgPSBpc1Jlc2VydmVkO1xuZXhwb3J0cy5pc1N0cmljdFJlc2VydmVkID0gaXNTdHJpY3RSZXNlcnZlZDtcbnZhciBrZXl3b3JkcyA9IHtcblx0XCJlczVcIjogW1wiZG9cIiwgXCJpZlwiLCBcImluXCIsIFwiZm9yXCIsIFwibmV3XCIsIFwidHJ5XCIsIFwidmFyXCIsIFwiY2FzZVwiLCBcImVsc2VcIiwgXCJlbnVtXCIsIFwibnVsbFwiLCBcInRoaXNcIiwgXCJ0cnVlXCIsIFwidm9pZFwiLCBcIndpdGhcIiwgXCJicmVha1wiLCBcImNhdGNoXCIsIFwiY2xhc3NcIiwgXCJjb25zdFwiLCBcImZhbHNlXCIsIFwic3VwZXJcIiwgXCJ0aHJvd1wiLCBcIndoaWxlXCIsIFwiZGVsZXRlXCIsIFwiZXhwb3J0XCIsIFwiaW1wb3J0XCIsIFwicmV0dXJuXCIsIFwic3dpdGNoXCIsIFwidHlwZW9mXCIsIFwiZGVmYXVsdFwiLCBcImV4dGVuZHNcIiwgXCJmaW5hbGx5XCIsIFwiY29udGludWVcIiwgXCJkZWJ1Z2dlclwiLCBcImZ1bmN0aW9uXCIsIFwiaW5zdGFuY2VvZlwiXSxcblxuXHRcImVzNXN0cmljdFwiOiBbXCJpbXBsZW1lbnRzXCIsIFwibGV0XCIsIFwicHJpdmF0ZVwiLCBcInB1YmxpY1wiLCBcImludGVyZmFjZVwiLCBcInBhY2thZ2VcIiwgXCJwcm90ZWN0ZWRcIiwgXCJzdGF0aWNcIiwgXCJ5aWVsZFwiXVxufTtcblxuZnVuY3Rpb24gaXNSZXNlcnZlZChuYW1lKSB7XG5cdHJldHVybiBrZXl3b3Jkcy5lczUuaW5kZXhPZihuYW1lKSA+PSAwO1xufVxuXG5mdW5jdGlvbiBpc1N0cmljdFJlc2VydmVkKG5hbWUpIHtcblx0cmV0dXJuIGtleXdvcmRzLmVzNXN0cmljdC5pbmRleE9mKG5hbWUpID49IDA7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL2ZuL3N0cmluZy9yZXBlYXRcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL2ZuL21hdGgvc2lnblwiKTtcblxucmVxdWlyZShcImNvcmUtanMvZXM2L3Byb21pc2VcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL2VzNi9zeW1ib2xcIik7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQXNzaWdubWVudChsZWZ0LCBzdHJpY3QpIHtcblx0aWYgKHN0cmljdCAmJiBsZWZ0LnR5cGUgPT09IFwiSWRlbnRpZmllclwiKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWROYW1lKGxlZnQubmFtZSwgdHJ1ZSk7XG5cdH1cbn1cblxudmFyIHJ1bGVzID0ge1xuXHRBc3NpZ25tZW50RXhwcmVzc2lvbjogZnVuY3Rpb24gQXNzaWdubWVudEV4cHJlc3Npb24obm9kZSwgc3RyaWN0KSB7XG5cdFx0dmFsaWRhdGVBc3NpZ25tZW50KG5vZGUubGVmdCwgc3RyaWN0KTtcblx0fSxcblxuXHRDYXRjaENsYXVzZTogZnVuY3Rpb24gQ2F0Y2hDbGF1c2Uobm9kZSwgc3RyaWN0KSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWROYW1lKG5vZGUucGFyYW0ubmFtZSwgc3RyaWN0KTtcblx0fSxcblxuXHRJZGVudGlmaWVyOiBmdW5jdGlvbiBJZGVudGlmaWVyKG5vZGUsIHN0cmljdCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkSWRlbnRpZmllcihub2RlLm5hbWUsIHN0cmljdCk7XG5cdH0sXG5cblx0RnVuY3Rpb25EZWNsYXJhdGlvbjogZnVuY3Rpb24gRnVuY3Rpb25EZWNsYXJhdGlvbihub2RlLCBzdHJpY3QpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZE5hbWUobm9kZS5pZC5uYW1lLCBzdHJpY3QpO1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRBcmVWYWxpZEFyZ3VtZW50cyhub2RlLnBhcmFtcywgc3RyaWN0KTtcblx0fSxcblxuXHRGdW5jdGlvbkV4cHJlc3Npb246IGZ1bmN0aW9uIEZ1bmN0aW9uRXhwcmVzc2lvbihub2RlLCBzdHJpY3QpIHtcblx0XHRpZiAobm9kZS5pZCkge1xuXHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWROYW1lKG5vZGUuaWQubmFtZSwgc3RyaWN0KTtcblx0XHR9XG5cblx0XHRjb250cmFjdHMuYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMobm9kZS5wYXJhbXMsIHN0cmljdCk7XG5cdH0sXG5cblx0TGl0ZXJhbDogZnVuY3Rpb24gTGl0ZXJhbChub2RlLCBzdHJpY3QpIHtcblx0XHRpZiAoc3RyaWN0ICYmIG5vZGUucmF3KSB7XG5cdFx0XHRpZiAoY29udHJhY3RzLmlzT2N0YWxMaXRlcmFsKG5vZGUucmF3LCBub2RlLnZhbHVlKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJPY3RhbCBsaXRlcmFscyBhcmUgbm90IGFsbG93ZWQgaW4gc3RyaWN0IG1vZGUuXCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRVcGRhdGVFeHByZXNzaW9uOiBmdW5jdGlvbiBVcGRhdGVFeHByZXNzaW9uKG5vZGUsIHN0cmljdCkge1xuXHRcdHZhbGlkYXRlQXNzaWdubWVudChub2RlLmFyZ3VtZW50LCBzdHJpY3QpO1xuXHR9LFxuXG5cdFZhcmlhYmxlRGVjbGFyYXRvcjogZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdG9yKG5vZGUsIHN0cmljdCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShub2RlLmlkLm5hbWUsIHN0cmljdCk7XG5cdH0sXG5cblx0V2l0aFN0YXRlbWVudDogZnVuY3Rpb24gV2l0aFN0YXRlbWVudChub2RlLCBzdHJpY3QpIHtcblx0XHRpZiAoc3RyaWN0KSB7XG5cdFx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJTdHJpY3QgbW9kZSBjb2RlIG1heSBub3QgaW5jbHVkZSBhIHdpdGggc3RhdGVtZW50XCIpO1xuXHRcdH1cblx0fVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBydWxlcztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIEFyZ3VtZW50VHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKEFyZ3VtZW50VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIEFyZ3VtZW50VHlwZShjYWxsZWUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXJndW1lbnRUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkFyZ3VtZW50c1wiO1xuXHRcdHRoaXMucGFyYW1ldGVyTWFwID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy5jYWxsZWUgPSBjYWxsZWU7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQXJndW1lbnRUeXBlLCBbe1xuXHRcdGtleTogXCJtYXBQcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBtYXBQcm9wZXJ0eShpbmRleCwgYmluZGluZykge1xuXHRcdFx0aW5kZXggPSBTdHJpbmcoaW5kZXgpO1xuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZGVmaW5lT3duUHJvcGVydHlcIiwgdGhpcykuY2FsbCh0aGlzLCBpbmRleCwgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH0sIHRydWUpO1xuXHRcdFx0dGhpcy5wYXJhbWV0ZXJNYXBbaW5kZXhdID0gYmluZGluZztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0UHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvcGVydHkobmFtZSkge1xuXHRcdFx0dmFyIG93blByb3BlcnR5ID0gdGhpcy5nZXRPd25Qcm9wZXJ0eShuYW1lKTtcblx0XHRcdGlmIChvd25Qcm9wZXJ0eSkge1xuXHRcdFx0XHRyZXR1cm4gb3duUHJvcGVydHk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcmd1bWVudFR5cGUucHJvdG90eXBlKSwgXCJnZXRQcm9wZXJ0eVwiLCB0aGlzKS5jYWxsKHRoaXMsIG5hbWUpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eShuYW1lKSB7XG5cdFx0XHRuYW1lID0gU3RyaW5nKG5hbWUpO1xuXG5cdFx0XHRpZiAobmFtZSBpbiB0aGlzLnBhcmFtZXRlck1hcCkge1xuXHRcdFx0XHR2YXIgbWFwcGVkUHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNbbmFtZV07XG5cdFx0XHRcdHZhciBsaW5rZWRQcm9wZXJ0eSA9IHRoaXMucGFyYW1ldGVyTWFwW25hbWVdO1xuXG5cdFx0XHRcdG1hcHBlZFByb3BlcnR5LnZhbHVlID0gbGlua2VkUHJvcGVydHkuZ2V0VmFsdWUoKTtcblx0XHRcdFx0bWFwcGVkUHJvcGVydHkuc2V0VmFsdWUgPSBsaW5rZWRQcm9wZXJ0eS5zZXRWYWx1ZS5iaW5kKGxpbmtlZFByb3BlcnR5KTtcblx0XHRcdFx0cmV0dXJuIG1hcHBlZFByb3BlcnR5O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZ2V0T3duUHJvcGVydHlcIiwgdGhpcykuY2FsbCh0aGlzLCBuYW1lKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVmaW5lT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lT3duUHJvcGVydHkobmFtZSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRuYW1lID0gU3RyaW5nKG5hbWUpO1xuXG5cdFx0XHR2YXIgYWxsb3dlZCA9IF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImRlZmluZU93blByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRpZiAoYWxsb3dlZCAmJiBuYW1lIGluIHRoaXMucGFyYW1ldGVyTWFwKSB7XG5cdFx0XHRcdGlmIChcInNldFwiIGluIGRlc2NyaXB0b3IgfHwgXCJnZXRcIiBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMucGFyYW1ldGVyTWFwW25hbWVdO1xuXHRcdFx0XHR9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdFx0dGhpcy5wYXJhbWV0ZXJNYXBbbmFtZV0uc2V0VmFsdWUoZGVzY3JpcHRvci52YWx1ZSwgdGhyb3dPbkVycm9yKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcIndyaXRhYmxlXCIgaW4gZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci53cml0YWJsZSkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYWxsb3dlZDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkobmFtZSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRuYW1lID0gU3RyaW5nKG5hbWUpO1xuXHRcdFx0aWYgKG5hbWUgaW4gdGhpcy5wYXJhbWV0ZXJNYXApIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMucGFyYW1ldGVyTWFwW25hbWVdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZGVsZXRlUHJvcGVydHlcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gQXJndW1lbnRUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuQXJndW1lbnRUeXBlID0gQXJndW1lbnRUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbnZhciBtYXJrZWQwJDAgPSBbc2V0TGVuZ3RoXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uL2l0ZXJhdG9yc1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBzZXRJbmRleChlbnYsIGFyciwgbmFtZSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSB7XG5cdHZhciBpbmRleCA9IE51bWJlcihuYW1lKTtcblx0dmFyIGxlbmd0aFByb3BlcnR5ID0gYXJyLmdldFByb3BlcnR5KFwibGVuZ3RoXCIpO1xuXHR2YXIgbGVuZ3RoVmFsdWUgPSBsZW5ndGhQcm9wZXJ0eS5nZXRWYWx1ZSgpLnRvTmF0aXZlKCk7XG5cblx0aWYgKCFsZW5ndGhQcm9wZXJ0eS5jYW5TZXRWYWx1ZSgpICYmIGluZGV4ID49IGxlbmd0aFZhbHVlIHx8ICFfb2JqZWN0VHlwZS5PYmplY3RUeXBlLnByb3RvdHlwZS5kZWZpbmVPd25Qcm9wZXJ0eS5jYWxsKGFyciwgbmFtZSwgZGVzY3JpcHRvciwgZmFsc2UsIGVudikpIHtcblxuXHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgZGVmaW5lIHByb3BlcnR5OiBcIiArIG5hbWUgKyBcIiwgb2JqZWN0IGlzIG5vdCBleHRlbnNpYmxlLlwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoaW5kZXggPj0gbGVuZ3RoVmFsdWUpIHtcblx0XHR2YXIgbmV3TGVuZ3RoID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGluZGV4ICsgMSk7XG5cdFx0YXJyLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IG5ld0xlbmd0aCB9LCBmYWxzZSwgZW52KTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBzZXRMZW5ndGgoZW52LCBhcnIsIG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHR2YXIgbmV3TGVuZ3RoVmFsdWUsIG5ld0xlbmd0aCwgY3VycmVudExlbmd0aCwgbm90V3JpdGFibGUsIGksIHN1Y2NlZWRlZCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBrZXk7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXRMZW5ndGgkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvVUludDMyKShkZXNjcmlwdG9yLnZhbHVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRuZXdMZW5ndGhWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gbmV3TGVuZ3RoVmFsdWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZGVzY3JpcHRvci52YWx1ZSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKGNvbnRleHQkMSQwLnQwICE9PSBjb250ZXh0JDEkMC50MSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRocm93IG5ldyBSYW5nZUVycm9yKFwiQXJyYXkgbGVuZ3RoIG91dCBvZiByYW5nZVwiKTtcblxuXHRcdFx0Y2FzZSA5OlxuXG5cdFx0XHRcdGRlc2NyaXB0b3IudmFsdWUgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3TGVuZ3RoVmFsdWUpO1xuXHRcdFx0XHRuZXdMZW5ndGggPSBkZXNjcmlwdG9yLnZhbHVlO1xuXHRcdFx0XHRjdXJyZW50TGVuZ3RoID0gYXJyLmdldFByb3BlcnR5KFwibGVuZ3RoXCIpLmdldFZhbHVlKCk7XG5cblx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRBcnJheUxlbmd0aChuZXdMZW5ndGgudmFsdWUpO1xuXG5cdFx0XHRcdGlmICghKG5ld0xlbmd0aC52YWx1ZSA+PSBjdXJyZW50TGVuZ3RoLnZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX29iamVjdFR5cGUuT2JqZWN0VHlwZS5wcm90b3R5cGUuZGVmaW5lT3duUHJvcGVydHkuY2FsbChhcnIsIG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRpZiAoIShhcnIucHJvcGVydGllcy5sZW5ndGgud3JpdGFibGUgPT09IGZhbHNlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWRlZmluZSBwcm9wZXJ0eTogbGVuZ3RoXCIpO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhbHNlKTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0bm90V3JpdGFibGUgPSBcIndyaXRhYmxlXCIgaW4gZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci53cml0YWJsZTtcblxuXHRcdFx0XHRpZiAobm90V3JpdGFibGUpIHtcblx0XHRcdFx0XHQvLyBzZXQgdG8gd3JpdGFibGUgaW4gY2FzZSByZW1vdmluZyBpdGVtcyBmYWlsc1xuXHRcdFx0XHRcdGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSA9IGN1cnJlbnRMZW5ndGgudmFsdWU7XG5cblx0XHRcdFx0aWYgKF9vYmplY3RUeXBlLk9iamVjdFR5cGUucHJvdG90eXBlLmRlZmluZU93blByb3BlcnR5LmNhbGwoYXJyLCBuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdHN1Y2NlZWRlZCA9IHRydWU7XG5cblx0XHRcdFx0aWYgKCEoaSA+IG5ld0xlbmd0aC52YWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyOTtcblx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKGVudiwgYXJyLCBpIC0gMSwgbmV3TGVuZ3RoLnZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0MTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGtleSA9IF9zdGVwLnZhbHVlLmtleTtcblxuXHRcdFx0XHRpZiAoYXJyLmRlbGV0ZVByb3BlcnR5KGtleSwgZmFsc2UpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3TGVuZ3RoID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSArIDEpO1xuXHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogbmV3TGVuZ3RoIH0sIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRzdWNjZWVkZWQgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDQxKTtcblxuXHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Nztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0Mztcblx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBjb250ZXh0JDEkMFtcImNhdGNoXCJdKDI5KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQyO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gNDc7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0ODtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA1MDpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDUwO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSA1Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCg1MCk7XG5cblx0XHRcdGNhc2UgNTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goNDcpO1xuXG5cdFx0XHRjYXNlIDU1OlxuXG5cdFx0XHRcdGlmIChub3RXcml0YWJsZSkge1xuXHRcdFx0XHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9LCBmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoISghc3VjY2VlZGVkICYmIHRocm93T25FcnJvcikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlZGVmaW5lIHByb3BlcnR5OiBsZW5ndGhcIik7XG5cblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgc3VjY2VlZGVkKTtcblxuXHRcdFx0Y2FzZSA1OTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcywgW1syOSwgNDMsIDQ3LCA1NV0sIFs0OCwsIDUwLCA1NF1dKTtcbn1cblxudmFyIEFycmF5VHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKEFycmF5VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIEFycmF5VHlwZSgpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXJyYXlUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFycmF5VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkFycmF5XCI7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQXJyYXlUeXBlLCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQoZW52KSB7XG5cdFx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcnJheVR5cGUucHJvdG90eXBlKSwgXCJpbml0XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgd3JpdGFibGU6IHRydWUgfSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKG5hbWUsIHZhbHVlKSB7XG5cdFx0XHRpZiAobmFtZSA9PT0gXCJsZW5ndGhcIikge1xuXHRcdFx0XHR2YXIgZW52ID0gdGhpc1tfU3ltYm9sJGZvcihcImVudlwiKV07XG5cdFx0XHRcdCgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShzZXRMZW5ndGgoZW52LCB0aGlzLCBuYW1lLCB7IHZhbHVlOiB2YWx1ZSB9KSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJyYXlUeXBlLnByb3RvdHlwZSksIFwic2V0VmFsdWVcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVmaW5lT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lT3duUHJvcGVydHkobmFtZSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHR2YXIgZW52ID0gdGhpc1tfU3ltYm9sJGZvcihcImVudlwiKV07XG5cdFx0XHRpZiAoY29udHJhY3RzLmlzSW50ZWdlcihuYW1lKSAmJiBjb250cmFjdHMuaXNWYWxpZEFycmF5TGVuZ3RoKE51bWJlcihuYW1lKSArIDEpICYmICF0aGlzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBzZXRJbmRleChlbnYsIHRoaXMsIG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuYW1lID09PSBcImxlbmd0aFwiICYmIFwibGVuZ3RoXCIgaW4gdGhpcy5wcm9wZXJ0aWVzICYmIGRlc2NyaXB0b3IgJiYgXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShzZXRMZW5ndGgoZW52LCB0aGlzLCBuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFycmF5VHlwZS5wcm90b3R5cGUpLCBcImRlZmluZU93blByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0dmFyIGFyciA9IFtdO1xuXG5cdFx0XHQvLyB0aGlzIHdvbid0IGdyYWIgcHJvcGVydGllcyBmcm9tIHRoZSBwcm90b3R5cGUgLSBkbyB3ZSBjYXJlP1xuXHRcdFx0Ly8gaXQncyBhbiBlZGdlIGNhc2UgYnV0IHdlIG1heSB3YW50IHRvIGFkZHJlc3MgaXRcblx0XHRcdGZvciAodmFyIGluZGV4IGluIHRoaXMucHJvcGVydGllcykge1xuXHRcdFx0XHRpZiAodGhpcy5wcm9wZXJ0aWVzW2luZGV4XS5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0YXJyW051bWJlcihpbmRleCldID0gdGhpcy5nZXRWYWx1ZShpbmRleCkudG9OYXRpdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYXJyO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBBcnJheVR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5BcnJheVR5cGUgPSBBcnJheVR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIERhdGVUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoRGF0ZVR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBEYXRlVHlwZSh2YWx1ZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXRlVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudHlwZSA9IFwib2JqZWN0XCI7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkRhdGVcIjtcblxuXHRcdC8vIDExLjYuMSBOb3RlIDFcblx0XHQvLyBBbGwgbmF0aXZlIEVDTUFTY3JpcHQgb2JqZWN0cyBleGNlcHQgRGF0ZSBvYmplY3RzIGhhbmRsZSB0aGUgYWJzZW5jZSBvZiBhIGhpbnQgYXMgaWYgdGhlIGhpbnRcblx0XHQvLyBOdW1iZXIgd2VyZSBnaXZlbjsgRGF0ZSBvYmplY3RzIGhhbmRsZSB0aGUgYWJzZW5jZSBvZiBhIGhpbnQgYXMgaWYgdGhlIGhpbnQgU3RyaW5nIHdlcmUgZ2l2ZW4uXG5cdFx0dGhpcy5wcmltaXRpdmVIaW50ID0gXCJzdHJpbmdcIjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhEYXRlVHlwZSwgW3tcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRGF0ZVR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5EYXRlVHlwZSA9IERhdGVUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBFcnJvclR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhFcnJvclR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBFcnJvclR5cGUoc291cmNlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVycm9yVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihFcnJvclR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuc291cmNlID0gc291cmNlO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJFcnJvclwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEVycm9yVHlwZSwgW3tcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zb3VyY2U7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEVycm9yVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkVycm9yVHlwZSA9IEVycm9yVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRmb3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9mb3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyTGVuZ3RoKHBhcmFtcykge1xuXHRmb3IgKHZhciBpID0gMCwgbG4gPSBwYXJhbXMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHRcdC8vIHBhcmFtZXRlciBsZW5ndGggc2hvdWxkIG9ubHkgaW5jbHVkZSB0aGUgZmlyc3QgXCJGb3JtYWxcIiBwYXJhbWV0ZXJzXG5cdFx0aWYgKHBhcmFtc1tpXS50eXBlICE9PSBcIklkZW50aWZpZXJcIikge1xuXHRcdFx0cmV0dXJuIGk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHBhcmFtcy5sZW5ndGg7XG59XG5cbnZhciBGdW5jdGlvblR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhGdW5jdGlvblR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBGdW5jdGlvblR5cGUobm9kZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGdW5jdGlvblR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoRnVuY3Rpb25UeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnR5cGUgPSBcImZ1bmN0aW9uXCI7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkZ1bmN0aW9uXCI7XG5cdFx0dGhpcy5uYXRpdmUgPSBmYWxzZTtcblx0XHR0aGlzLm5vZGUgPSBub2RlO1xuXG5cdFx0dGhpcy5hcnJvdyA9IG5vZGUgJiYgbm9kZS50eXBlID09PSBcIkFycm93RnVuY3Rpb25FeHByZXNzaW9uXCI7XG5cblx0XHR0aGlzLmJvdW5kU2NvcGUgPSBudWxsO1xuXHRcdHRoaXMuYm91bmRUaGlzID0gbnVsbDtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhGdW5jdGlvblR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChlbnYsIHByb3RvLCBkZXNjcmlwdG9yLCBzdHJpY3QpIHtcblx0XHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEZ1bmN0aW9uVHlwZS5wcm90b3R5cGUpLCBcImluaXRcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuXHRcdFx0aWYgKHN0cmljdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuc3RyaWN0ID0gc3RyaWN0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzZXQgbGVuZ3RoIHByb3BlcnR5IGZyb20gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzXG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShnZXRQYXJhbWV0ZXJMZW5ndGgodGhpcy5ub2RlLnBhcmFtcykpIH0pO1xuXG5cdFx0XHRpZiAoIXRoaXMuYXJyb3cpIHtcblx0XHRcdFx0Ly8gZnVuY3Rpb25zIGhhdmUgYSBwcm90b3R5cGVcblx0XHRcdFx0cHJvdG8gPSBwcm90byB8fCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcInByb3RvdHlwZVwiLCB7IHZhbHVlOiBwcm90bywgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0XHRcdFx0Ly8gc2V0IHRoZSBjb250cnVjdG9yIHByb3BlcnR5IGFzIGFuIGluc3RhbmNlIG9mIGl0c2VsZlxuXHRcdFx0XHRwcm90by5wcm9wZXJ0aWVzLmNvbnN0cnVjdG9yID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB0aGlzIH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjYWxsXCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsKHRoaXNBcmcsIGFyZ3MsIGNhbGxlZSkge1xuXHRcdFx0aWYgKGFyZ3MgPT09IHVuZGVmaW5lZCkgYXJncyA9IFtdO1xuXHRcdFx0dmFyIHNlbGYsIGVudiwgc2NvcGU7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGwkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0c2VsZiA9IHRoaXM7XG5cdFx0XHRcdFx0XHRlbnYgPSB0aGlzW19TeW1ib2wkZm9yKFwiZW52XCIpXTtcblx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZUV4ZWN1dGlvblNjb3BlKHRoaXMsIHRoaXNBcmcpO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUubG9hZEFyZ3ModGhpcy5ub2RlLnBhcmFtcywgYXJncywgdGhpcyk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRzY29wZS5pbml0KHRoaXMubm9kZSAmJiB0aGlzLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGV4ZWN1dGlvblJlc3VsdCwgc2hvdWxkUmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChzZWxmLm5vZGUuYm9keSwgY2FsbGVlKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2hvdWxkUmV0dXJuID0gc2VsZi5hcnJvdyB8fCBleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LmV4aXQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoc2hvdWxkUmV0dXJuICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGwsIHRoaXMpO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiY29uc3RydWN0XCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjb25zdHJ1Y3QodGhpc0FyZywgYXJncywgY2FsbGVlKSB7XG5cdFx0XHRpZiAoYXJncyA9PT0gdW5kZWZpbmVkKSBhcmdzID0gW107XG5cdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjb25zdHJ1Y3QkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0dGhpc0FyZyA9IHRoaXNBcmcgfHwgdGhpc1tfU3ltYm9sJGZvcihcImVudlwiKV0ub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QodGhpcyk7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmNhbGwodGhpc0FyZywgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdGlmICghKHJlc3VsdCAmJiAhcmVzdWx0LmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpc0FyZyk7XG5cblx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY29uc3RydWN0LCB0aGlzKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImJpbmRUaGlzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmRUaGlzKHRoaXNBcmcpIHtcblx0XHRcdHRoaXMuYm91bmRUaGlzID0gdGhpcy5ib3VuZFRoaXMgfHwgdGhpc0FyZztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiYmluZFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmRTY29wZShzY29wZSkge1xuXHRcdFx0dGhpcy5ib3VuZFNjb3BlID0gc2NvcGU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImlzU3RyaWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzU3RyaWN0KCkge1xuXHRcdFx0aWYgKFwic3RyaWN0XCIgaW4gdGhpcykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zdHJpY3Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLnN0cmljdCA9IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUodGhpcy5ub2RlLmJvZHkuYm9keSk7XG5cdFx0fVxuXG5cdFx0Ly8gY3JlYXRlU2NvcGUgKGVudiwgdGhpc0FyZywgaXNOZXcpIHtcblx0XHQvLyBcdC8vIGlmIGEgcGFyZW50IHNjb3BlIGlzIGRlZmluZWQgd2UgbmVlZCB0byBsaW1pdCB0aGlzIHNjb3BlIHRvIHRoYXQgc2NvcGVcblx0XHQvLyBcdGxldCBwcmlvclNjb3BlID0gZW52LmN1cnJlbnQuc2NvcGU7XG5cblx0XHQvLyBcdGlmICh0aGlzLmJvdW5kU2NvcGUpIHtcblx0XHQvLyBcdFx0ZW52LnNldFNjb3BlKHRoaXMuYm91bmRTY29wZS5zY29wZSk7XG5cdFx0Ly8gXHR9XG5cblx0XHQvLyBcdHRoaXNBcmcgPSB0aGlzLmJvdW5kVGhpcyB8fCB0aGlzQXJnO1xuXHRcdC8vIFx0aWYgKHRoaXMuYXJyb3cpIHtcblx0XHQvLyBcdFx0dGhpc0FyZyA9IGVudi5nZXRUaGlzQmluZGluZygpO1xuXHRcdC8vIFx0fVxuXG5cdFx0Ly8gXHRsZXQgc2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUodGhpc0FyZywgcHJpb3JTY29wZSk7XG5cdFx0Ly8gXHRzY29wZS5wcmlvclNjb3BlID0gcHJpb3JTY29wZTtcblx0XHQvLyBcdHJldHVybiBzY29wZTtcblx0XHQvLyB9XG5cblx0fSwge1xuXHRcdGtleTogXCJoYXNJbnN0YW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBoYXNJbnN0YW5jZShvYmopIHtcblx0XHRcdGlmIChvYmogPT09IHRoaXMpIHtcblx0XHRcdFx0Ly8gb2JqZWN0IG9idmlvdXNseSBpc24ndCBhbiBpbnN0YW5jZSBpbiB0aGlzIGNhc2Vcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdmlzaXRlZCA9IFtdO1xuXHRcdFx0dmFyIGN1cnJlbnQgPSBvYmo7XG5cblx0XHRcdHZhciBwcm90byA9IHRoaXMuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdFx0XHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHByb3RvKSB8fCAhY29udHJhY3RzLmlzT2JqZWN0KHByb3RvKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gaGFzIG5vbi1vYmplY3QgcHJvdG90eXBlIGluIGluc3RhbmNlb2YgY2hlY2tcIik7XG5cdFx0XHR9XG5cblx0XHRcdHdoaWxlIChjdXJyZW50KSB7XG5cdFx0XHRcdGlmICh2aXNpdGVkLmluZGV4T2YoY3VycmVudCkgPj0gMCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50ID09PSBwcm90bykge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8ga2VlcCBhIHN0YWNrIHRvIGF2b2lkIGNpcmN1bGFyIHJlZmVyZW5jZVxuXHRcdFx0XHR2aXNpdGVkLnB1c2goY3VycmVudCk7XG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRnVuY3Rpb25UeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuRnVuY3Rpb25UeXBlID0gRnVuY3Rpb25UeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBJdGVyYXRvclR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhJdGVyYXRvclR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBJdGVyYXRvclR5cGUoaXRlcmFibGUpIHtcblx0XHR2YXIga2luZCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFwia2V5K3ZhbHVlXCIgOiBhcmd1bWVudHNbMV07XG5cblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgSXRlcmF0b3JUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEl0ZXJhdG9yVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cblx0XHR0aGlzLml0ZXJhYmxlID0gaXRlcmFibGU7XG5cdFx0dGhpcy5wb3NpdGlvbiA9IDA7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkl0ZXJhdG9yXCI7XG5cdFx0dGhpcy5raW5kID0ga2luZDtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhJdGVyYXRvclR5cGUsIFt7XG5cdFx0a2V5OiBcImFkdmFuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gYWR2YW5jZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLml0ZXJhYmxlLm5leHQoKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gSXRlcmF0b3JUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuSXRlcmF0b3JUeXBlID0gSXRlcmF0b3JUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBNYXBUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoTWFwVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIE1hcFR5cGUoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hcFR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWFwVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIk1hcFwiO1xuXHRcdHRoaXMuZGF0YSA9IFtdO1xuXHR9XG5cblx0Ly8gaW5pdCAoZW52KSB7XG5cdC8vIFx0c3VwZXIuaW5pdCguLi5hcmd1bWVudHMpO1xuXHQvLyBcdGxldCBzZWxmID0gdGhpcztcblxuXHQvLyBcdGxldCBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIFx0XHRyZXR1cm4gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHNlbGYuZGF0YS5maWx0ZXIoZSA9PiBlKS5sZW5ndGgpO1xuXHQvLyBcdH07XG5cblx0Ly8gXHRsZXQgZ2V0dGVyRnVuYyA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUdldHRlcihnZXR0ZXIsIFwic2l6ZVwiKTtcblxuXHQvLyBcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJzaXplXCIsIHtcblx0Ly8gXHRcdGdldHRlcjogZ2V0dGVyLFxuXHQvLyBcdFx0Z2V0OiBnZXR0ZXJGdW5jXG5cdC8vIFx0fSk7XG5cdC8vIH1cblx0cmV0dXJuIE1hcFR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5NYXBUeXBlID0gTWFwVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2Z1bmN0aW9uVHlwZSA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLXR5cGVcIik7XG5cbnZhciBfcHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4vcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIF9wcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBOYXRpdmVGdW5jdGlvblR5cGUgPSAoZnVuY3Rpb24gKF9GdW5jdGlvblR5cGUpIHtcblx0X2luaGVyaXRzKE5hdGl2ZUZ1bmN0aW9uVHlwZSwgX0Z1bmN0aW9uVHlwZSk7XG5cblx0ZnVuY3Rpb24gTmF0aXZlRnVuY3Rpb25UeXBlKGZuKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5hdGl2ZUZ1bmN0aW9uVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihOYXRpdmVGdW5jdGlvblR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMudHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0XHR0aGlzLm5hdGl2ZSA9IHRydWU7XG5cdFx0dGhpcy5uYXRpdmVGdW5jdGlvbiA9IGZuO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE5hdGl2ZUZ1bmN0aW9uVHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KGVudiwgcHJvdG8sIGRlc2NyaXB0b3IpIHtcblx0XHRcdHRoaXNbX1N5bWJvbCRmb3IoXCJlbnZcIildID0gZW52O1xuXG5cdFx0XHR2YXIgbGVuZ3RoID0gdGhpcy5uYXRpdmVGdW5jdGlvbi5sZW5ndGg7XG5cdFx0XHRpZiAoXCJuYXRpdmVMZW5ndGhcIiBpbiB0aGlzLm5hdGl2ZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdGxlbmd0aCA9IHRoaXMubmF0aXZlRnVuY3Rpb24ubmF0aXZlTGVuZ3RoO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJzdHJpY3RcIiBpbiB0aGlzLm5hdGl2ZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdHRoaXMuc3RyaWN0ID0gdGhpcy5uYXRpdmVGdW5jdGlvbi5zdHJpY3Q7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwge1xuXHRcdFx0XHR2YWx1ZTogZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCksXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogZmFsc2Vcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAocHJvdG8gIT09IG51bGwpIHtcblx0XHRcdFx0cHJvdG8gPSBwcm90byB8fCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0cHJvdG8ucHJvcGVydGllcy5jb25zdHJ1Y3RvciA9IG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdGhpcyB9KTtcblxuXHRcdFx0XHRkZXNjcmlwdG9yID0gZGVzY3JpcHRvciB8fCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSB9O1xuXHRcdFx0XHR2YXIgcHJvdG9EZXNjcmlwdG9yID0ge1xuXHRcdFx0XHRcdHZhbHVlOiBwcm90byxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuXHRcdFx0XHRcdGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcblx0XHRcdFx0XHR3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJwcm90b3R5cGVcIiwgcHJvdG9EZXNjcmlwdG9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY2FsbFwiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbCh0aGlzQXJnKSB7XG5cdFx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuXHRcdFx0dmFyIGVudiwgc2VsZiwgc2NvcGU7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGwkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0ZW52ID0gdGhpc1tfU3ltYm9sJGZvcihcImVudlwiKV07XG5cblx0XHRcdFx0XHRcdGlmICghdGhpc0FyZykge1xuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zdHJpY3QgfHwgZW52LmlzU3RyaWN0KCkpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gX3ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBlbnYuZ2xvYmFsO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHNlbGYgPSB0aGlzO1xuXHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlRXhlY3V0aW9uU2NvcGUodGhpcywgdGhpc0FyZyk7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNlbGYubmF0aXZlRnVuY3Rpb24uYXBwbHkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpc0FyZywgc2VsZiksIGFyZ3MpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsLCB0aGlzKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImNvbnN0cnVjdFwiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY29uc3RydWN0KHRoaXNBcmcpIHtcblx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG5cdFx0XHR2YXIgc2VsZiwgZW52LCBzY29wZTtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY29uc3RydWN0JChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdHNlbGYgPSB0aGlzO1xuXHRcdFx0XHRcdFx0ZW52ID0gdGhpc1tfU3ltYm9sJGZvcihcImVudlwiKV07XG5cdFx0XHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVFeGVjdXRpb25TY29wZSh0aGlzLCB0aGlzQXJnKTtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2VsZi5uYXRpdmVGdW5jdGlvbi5hcHBseShlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dCh0aGlzQXJnLCBzZWxmLCB0cnVlKSwgYXJncyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNvbnN0cnVjdCwgdGhpcyk7XG5cdFx0fSlcblx0fV0pO1xuXG5cdHJldHVybiBOYXRpdmVGdW5jdGlvblR5cGU7XG59KShfZnVuY3Rpb25UeXBlLkZ1bmN0aW9uVHlwZSk7XG5cbmV4cG9ydHMuTmF0aXZlRnVuY3Rpb25UeXBlID0gTmF0aXZlRnVuY3Rpb25UeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkZm9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvZm9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIF9wcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZnVuY3Rpb25UeXBlID0gcmVxdWlyZShcIi4vZnVuY3Rpb24tdHlwZVwiKTtcblxudmFyIF9uYXRpdmVGdW5jdGlvblR5cGUgPSByZXF1aXJlKFwiLi9uYXRpdmUtZnVuY3Rpb24tdHlwZVwiKTtcblxudmFyIF9yZWdleFR5cGUgPSByZXF1aXJlKFwiLi9yZWdleC10eXBlXCIpO1xuXG52YXIgX2FycmF5VHlwZSA9IHJlcXVpcmUoXCIuL2FycmF5LXR5cGVcIik7XG5cbnZhciBfc3RyaW5nVHlwZSA9IHJlcXVpcmUoXCIuL3N0cmluZy10eXBlXCIpO1xuXG52YXIgX2RhdGVUeXBlID0gcmVxdWlyZShcIi4vZGF0ZS10eXBlXCIpO1xuXG52YXIgX2Vycm9yVHlwZSA9IHJlcXVpcmUoXCIuL2Vycm9yLXR5cGVcIik7XG5cbnZhciBfYXJndW1lbnRUeXBlID0gcmVxdWlyZShcIi4vYXJndW1lbnQtdHlwZVwiKTtcblxudmFyIF9zZXRUeXBlID0gcmVxdWlyZShcIi4vc2V0LXR5cGVcIik7XG5cbnZhciBfaXRlcmF0b3JUeXBlID0gcmVxdWlyZShcIi4vaXRlcmF0b3ItdHlwZVwiKTtcblxudmFyIF9zeW1ib2xUeXBlID0gcmVxdWlyZShcIi4vc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfbWFwVHlwZSA9IHJlcXVpcmUoXCIuL21hcC10eXBlXCIpO1xuXG52YXIgX3Byb3h5VHlwZSA9IHJlcXVpcmUoXCIuL3Byb3h5LXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIG9ycGhhbnMgPSBfT2JqZWN0JGNyZWF0ZShudWxsKTtcbnZhciBmdW5jdGlvbk5hbWVNYXRjaGVyID0gLyhbXi5dKyg/OlxcW1N5bWJvbFxcLlxcdytcXF0pPykkLztcblxuZnVuY3Rpb24gc2V0T3JwaGFucyhzY29wZSkge1xuXHR2YXIgX2xvb3AgPSBmdW5jdGlvbiAodHlwZU5hbWUpIHtcblx0XHR2YXIgcGFyZW50ID0gc2NvcGUuZ2V0VmFsdWUodHlwZU5hbWUpO1xuXHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdG9ycGhhbnNbdHlwZU5hbWVdLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG5cdFx0XHRcdGNoaWxkLnNldFByb3RvdHlwZShwYXJlbnQuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIikpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGRlbGV0ZSBvcnBoYW5zW3R5cGVOYW1lXTtcblx0XHR9XG5cdH07XG5cblx0Zm9yICh2YXIgdHlwZU5hbWUgaW4gb3JwaGFucykge1xuXHRcdF9sb29wKHR5cGVOYW1lKTtcblx0fVxuXG5cdG9ycGhhbnMgPSBfT2JqZWN0JGNyZWF0ZShudWxsKTtcbn1cblxuZnVuY3Rpb24gc2V0UHJvdG8odHlwZU5hbWUsIGluc3RhbmNlLCBlbnYpIHtcblx0aWYgKCFlbnYuZ2xvYmFsIHx8ICFlbnYuZ2xvYmFsLm93bnModHlwZU5hbWUpKSB7XG5cdFx0Ly8gZHVyaW5nIGluaXRpYWxpemF0aW9uIGl0IGlzIHBvc3NpYmxlIGZvciBvYmplY3RzIHRvIGJlIGNyZWF0ZWRcblx0XHQvLyBiZWZvcmUgdGhlIHR5cGVzIGhhdmUgYmVlbiByZWdpc3RlcmVkIC0gYWRkIGEgcmVnaXN0cnkgb2YgaXRlbXNcblx0XHQvLyBhbmQgdGhlc2UgY2FuIGJlIGZpbGxlZCBpbiB3aGVuIHRoZSB0eXBlIGlzIHJlZ2lzdGVyZWRcblx0XHRvcnBoYW5zW3R5cGVOYW1lXSA9IG9ycGhhbnNbdHlwZU5hbWVdIHx8IFtdO1xuXHRcdG9ycGhhbnNbdHlwZU5hbWVdLnB1c2goaW5zdGFuY2UpO1xuXG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIHByb3RvID0gZW52Lmdsb2JhbC5nZXRWYWx1ZSh0eXBlTmFtZSkuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdGluc3RhbmNlLnNldFByb3RvdHlwZShwcm90byk7XG59XG5cbnZhciBkZWZhdWx0RGVzY3JpcHRvciA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9O1xuZnVuY3Rpb24gY3JlYXRlRGF0YVByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSkge1xuXHR2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHREZXNjcmlwdG9yIDogYXJndW1lbnRzWzFdO1xuXG5cdHZhciBfcmVmJGNvbmZpZ3VyYWJsZSA9IF9yZWYuY29uZmlndXJhYmxlO1xuXHR2YXIgY29uZmlndXJhYmxlID0gX3JlZiRjb25maWd1cmFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJGNvbmZpZ3VyYWJsZTtcblx0dmFyIF9yZWYkZW51bWVyYWJsZSA9IF9yZWYuZW51bWVyYWJsZTtcblx0dmFyIGVudW1lcmFibGUgPSBfcmVmJGVudW1lcmFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJGVudW1lcmFibGU7XG5cdHZhciBfcmVmJHdyaXRhYmxlID0gX3JlZi53cml0YWJsZTtcblx0dmFyIHdyaXRhYmxlID0gX3JlZiR3cml0YWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkd3JpdGFibGU7XG5cblx0cmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSwgZW51bWVyYWJsZTogZW51bWVyYWJsZSwgd3JpdGFibGU6IHdyaXRhYmxlIH07XG59XG5cbnZhciBPYmplY3RGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShlbnYpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JqZWN0RmFjdG9yeSk7XG5cblx0XHR0aGlzLmVudiA9IGVudjtcblx0XHR0aGlzLm9wdGlvbnMgPSBlbnYub3B0aW9ucztcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhPYmplY3RGYWN0b3J5LCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHRzZXRPcnBoYW5zKHRoaXMuZW52KTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGEgcHJpbWl0aXZlIG9iamVjdCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgbmF0aXZlIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZSAtIFRoZSBwcmltaXRpdmUgdmFsdWUuXHJcbiAgICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSBwcmltaXRpdmUgaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlUHJpbWl0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZSh2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlKGNvbnRyYWN0cy5nZXRUeXBlKHZhbHVlKSwgdmFsdWUpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYW4gb2JqZWN0IGJhc2VkIG9uIHRoZSB0eXBlIHNwZWNpZmllZC4gRm9yIGEgcHJpbWl0aXZlIHR5cGUgdGhlIHNlY29uZFxyXG4gICAqIHBhcmFtZXRlciBpcyB1c2VkIGFzIHRoZSBvYmplY3RzIHVuZGVybHlpbmcgdmFsdWUuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG9iamVjdCB0byBjcmVhdGUuXHJcbiAgICogQHBhcmFtIHthbnl9IFt2YWx1ZV0gLSBUaGUgcHJpbWl0aXZlIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3RUeXBlfSBUaGUgbmV3IGluc3RhbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUodHlwZU5hbWUsIHZhbHVlKSB7XG5cdFx0XHQvLyB0aGUgdmFsdWUgaXMgYWxyZWFkeSB3cmFwcGVkIGluIGFuIG9iamVjdFxuXHRcdFx0Ly8gdGhpcyBjYW4gaGFwcGVuIGlmIGFuIGV4Y2VwdGlvbiBpcyByZXRocm93blxuXHRcdFx0aWYgKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgX29iamVjdFR5cGUuT2JqZWN0VHlwZSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBpbnN0YW5jZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0c3dpdGNoICh0eXBlTmFtZSkge1xuXHRcdFx0XHRjYXNlIFwiTnVsbFwiOlxuXHRcdFx0XHRcdHJldHVybiBfcHJpbWl0aXZlVHlwZS5OVUxMO1xuXG5cdFx0XHRcdGNhc2UgXCJVbmRlZmluZWRcIjpcblx0XHRcdFx0XHRyZXR1cm4gX3ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdGNhc2UgXCJTeW1ib2xcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfc3ltYm9sVHlwZS5TeW1ib2xUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiU3RyaW5nXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX3N0cmluZ1R5cGUuU3RyaW5nVHlwZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIk51bWJlclwiOlxuXHRcdFx0XHRjYXNlIFwiQm9vbGVhblwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9wcmltaXRpdmVUeXBlLlByaW1pdGl2ZVR5cGUodmFsdWUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJEYXRlXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX2RhdGVUeXBlLkRhdGVUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiUmVnRXhwXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX3JlZ2V4VHlwZS5SZWdleFR5cGUodmFsdWUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJBcnJheVwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9hcnJheVR5cGUuQXJyYXlUeXBlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIlNldFwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9zZXRUeXBlLlNldFR5cGUoKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiTWFwXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX21hcFR5cGUuTWFwVHlwZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiVHlwZUVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJSZWZlcmVuY2VFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiU3ludGF4RXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIlJhbmdlRXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIlVSSUVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJFdmFsRXJyb3JcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfZXJyb3JUeXBlLkVycm9yVHlwZSh2YWx1ZSk7XG5cblx0XHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdHR5cGVOYW1lID0gdmFsdWUubmFtZSB8fCB0eXBlTmFtZTtcblx0XHRcdFx0XHRcdGlmICh2YWx1ZS5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBtZXNzYWdlID0gdGhpcy5jcmVhdGVQcmltaXRpdmUodmFsdWUubWVzc2FnZSk7XG5cdFx0XHRcdFx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwibWVzc2FnZVwiLCBjcmVhdGVEYXRhUHJvcGVydHlEZXNjcmlwdG9yKG1lc3NhZ2UsIHsgZW51bWVyYWJsZTogZmFsc2UgfSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGEgcHJpbWl0aXZlOiBcIiArIHZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aW5zdGFuY2UuaW5pdCh0aGlzLmVudik7XG5cdFx0XHRzZXRQcm90byh0eXBlTmFtZSwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGVbXX0gW2VsZW1lbnRzXSAtIElmIHByb3ZpZGVkLCB0aGUgZWxlbWVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGUgbmV3IGFycmF5LlxyXG4gICAqIEByZXR1cm5zIHtBcnJheVR5cGV9IFRoZSBhcnJheSBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVBcnJheVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBcnJheShlbGVtZW50cykge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gdGhpcy5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0aWYgKGVsZW1lbnRzKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsbiA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShpLCBjcmVhdGVEYXRhUHJvcGVydHlEZXNjcmlwdG9yKGVsZW1lbnRzW2ldKSwgdHJ1ZSwgdGhpcy5lbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGFuIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGV9IFtwcm90b10gLSBUaGUgcHJvdG90eXBlIHRvIHVzZSB3aXRoIHRoZSBuZXcgb2JqZWN0LiBJZiBubyB2YWx1ZSBpcyBwcm92aWRlZFxyXG4gICAqIHRoZSBPYmplY3QgcHJvdG90eXBlIHdpbGwgYmUgdXNlZC4gSWYgYG51bGxgIGlzIHBhc3NlZCBpbiwgbm8gcHJvdG90eXBlIHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlXHJcbiAgICogbmV3IG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIG9iamVjdCBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVPYmplY3RcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlT2JqZWN0KHByb3RvKSB7XG5cdFx0XHR2YXIgaW5zdGFuY2UgPSBuZXcgX29iamVjdFR5cGUuT2JqZWN0VHlwZSgpO1xuXG5cdFx0XHRpZiAocHJvdG8gIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHByb3RvKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2Uuc2V0UHJvdG90eXBlKHByb3RvLmdldFZhbHVlKFwicHJvdG90eXBlXCIpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXRQcm90byhcIk9iamVjdFwiLCBpbnN0YW5jZSwgdGhpcy5lbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGluc3RhbmNlLmluaXQodGhpcy5lbnYpO1xuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVQcm94eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm94eSh0YXJnZXQsIGhhbmRsZXIpIHtcblx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdCh0YXJnZXQsIFwiUHJveHlcIik7XG5cdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QoaGFuZGxlciwgXCJQcm94eVwiKTtcblxuXHRcdFx0aWYgKHRhcmdldC5pc1Byb3h5ICYmIHRhcmdldC5yZXZva2VkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGhhbmRsZXIuaXNQcm94eSAmJiBoYW5kbGVyLnJldm9rZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgaW5zdGFuY2UgPSBuZXcgX3Byb3h5VHlwZS5Qcm94eVR5cGUodGFyZ2V0LCBoYW5kbGVyKTtcblx0XHRcdGluc3RhbmNlLmluaXQodGhpcy5lbnYpO1xuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVBcmd1bWVudHNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQXJndW1lbnRzKGFyZ3MsIGNhbGxlZSwgc3RyaWN0KSB7XG5cdFx0XHR2YXIgaW5zdGFuY2UgPSBuZXcgX2FyZ3VtZW50VHlwZS5Bcmd1bWVudFR5cGUoKTtcblx0XHRcdHZhciBvYmplY3RDbGFzcyA9IHRoaXMuZW52Lmdsb2JhbC5nZXRWYWx1ZShcIk9iamVjdFwiKTtcblxuXHRcdFx0aW5zdGFuY2UuaW5pdCh0aGlzLmVudiwgb2JqZWN0Q2xhc3MsIG9iamVjdENsYXNzLmdldFByb3RvdHlwZSgpKTtcblx0XHRcdGluc3RhbmNlLnNldFByb3RvdHlwZShvYmplY3RDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKSk7XG5cblx0XHRcdGlmIChzdHJpY3QpIHtcblx0XHRcdFx0dmFyIHRocm93ZXIgPSB0aGlzLmNyZWF0ZVRocm93ZXIoXCInY2FsbGVyJywgJ2NhbGxlZScsIGFuZCAnYXJndW1lbnRzJyBwcm9wZXJ0aWVzIG1heSBub3QgYmUgYWNjZXNzZWQgb24gc3RyaWN0IG1vZGUgZnVuY3Rpb25zIG9yIHRoZSBhcmd1bWVudHMgb2JqZWN0cyBmb3IgY2FsbHMgdG8gdGhlbVwiKTtcblx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZWVcIiwgdGhyb3dlcik7XG5cdFx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVyXCIsIHRocm93ZXIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZWVcIiwge1xuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHR2YWx1ZTogY2FsbGVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUl0ZXJhdG9yXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yKGl0ZXJhYmxlLCBwcm90bykge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9pdGVyYXRvclR5cGUuSXRlcmF0b3JUeXBlKGl0ZXJhYmxlKTtcblxuXHRcdFx0aWYgKCFwcm90bykge1xuXHRcdFx0XHRwcm90byA9IHRoaXMuY3JlYXRlT2JqZWN0KCk7XG5cdFx0XHRcdHByb3RvLmNsYXNzTmFtZSA9IFwiW1N5bWJvbC5pdGVyYXRvcl1cIjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFwcm90by5oYXMoXCJuZXh0XCIpKSB7XG5cdFx0XHRcdHByb3RvLmRlZmluZShcIm5leHRcIiwgdGhpcy5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciByZXN1bHQgPSB0aGlzLm5vZGUuYWR2YW5jZSgpO1xuXHRcdFx0XHRcdGlmIChyZXN1bHQudmFsdWUpIHtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQudmFsdWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHNlbGYuY3JlYXRlSXRlcmF0b3JSZXN1bHQoeyBkb25lOiB0cnVlIH0pO1xuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cblx0XHRcdGluc3RhbmNlLnNldFByb3RvdHlwZShwcm90byk7XG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUl0ZXJhdG9yUmVzdWx0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yUmVzdWx0KF9yZWYyKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZTtcblx0XHRcdHZhciBfcmVmMiRkb25lID0gX3JlZjIuZG9uZTtcblx0XHRcdHZhciBkb25lID0gX3JlZjIkZG9uZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMiRkb25lO1xuXG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5jcmVhdGVPYmplY3QoKTtcblx0XHRcdHJlc3VsdC5kZWZpbmVPd25Qcm9wZXJ0eShcImRvbmVcIiwgeyB2YWx1ZTogdGhpcy5jcmVhdGVQcmltaXRpdmUoZG9uZSkgfSk7XG5cdFx0XHRyZXN1bHQuZGVmaW5lT3duUHJvcGVydHkoXCJ2YWx1ZVwiLCB7IHZhbHVlOiB2YWx1ZSB8fCBfcHJpbWl0aXZlVHlwZS5VTkRFRklORUQgfSk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0ge0FTVHxGdW5jdGlvbn0gZm5Pck5vZGUgLSBUaGUgQVNUIG9yIGZ1bmN0aW9uIHRvIGJlIHVzZWQgd2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gW3Byb3RvXSAtIFRoZSBwcm90b3R5cGUgdG8gdXNlIGZvciB0aGUgZnVuY3Rpb24uIElmIG5vIG9iamVjdCBpcyBwcm92aWRlZFxyXG4gICAqIGFuIGVtcHR5IG9iamVjdCBpcyB1c2VkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBQcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgdXNlZCBmb3IgdGhlIHByb3RvdHlwZS5cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25UeXBlfSBUaGUgZnVuY3Rpb24gaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlRnVuY3Rpb25cIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb24oZm5Pck5vZGUsIHByb3RvKSB7XG5cdFx0XHR2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1syXTtcblxuXHRcdFx0dmFyIF9yZWYzJGNvbmZpZ3VyYWJsZSA9IF9yZWYzLmNvbmZpZ3VyYWJsZTtcblx0XHRcdHZhciBjb25maWd1cmFibGUgPSBfcmVmMyRjb25maWd1cmFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZjMkY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIF9yZWYzJGVudW1lcmFibGUgPSBfcmVmMy5lbnVtZXJhYmxlO1xuXHRcdFx0dmFyIGVudW1lcmFibGUgPSBfcmVmMyRlbnVtZXJhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYzJGVudW1lcmFibGU7XG5cdFx0XHR2YXIgX3JlZjMkd3JpdGFibGUgPSBfcmVmMy53cml0YWJsZTtcblx0XHRcdHZhciB3cml0YWJsZSA9IF9yZWYzJHdyaXRhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjMkd3JpdGFibGU7XG5cdFx0XHR2YXIgX3JlZjMkc3RyaWN0ID0gX3JlZjMuc3RyaWN0O1xuXHRcdFx0dmFyIHN0cmljdCA9IF9yZWYzJHN0cmljdCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMyRzdHJpY3Q7XG5cdFx0XHR2YXIgX3JlZjMkbmFtZSA9IF9yZWYzLm5hbWU7XG5cdFx0XHR2YXIgbmFtZSA9IF9yZWYzJG5hbWUgPT09IHVuZGVmaW5lZCA/IFwiYW5vbnltb3VzXCIgOiBfcmVmMyRuYW1lO1xuXG5cdFx0XHR2YXIgaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGlmICh0eXBlb2YgZm5Pck5vZGUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfbmF0aXZlRnVuY3Rpb25UeXBlLk5hdGl2ZUZ1bmN0aW9uVHlwZShmbk9yTm9kZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfZnVuY3Rpb25UeXBlLkZ1bmN0aW9uVHlwZShmbk9yTm9kZSk7XG5cdFx0XHR9XG5cblx0XHRcdGluc3RhbmNlLmluaXQodGhpcy5lbnYsIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLCBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLCB3cml0YWJsZTogd3JpdGFibGUgfSwgc3RyaWN0KTtcblx0XHRcdGluc3RhbmNlLm5hbWUgPSBuYW1lO1xuXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLmVjbWFWZXJzaW9uID4gNSkge1xuXHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcIm5hbWVcIiwgeyB2YWx1ZTogdGhpcy5jcmVhdGVQcmltaXRpdmUobmFtZSksIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LCB0cnVlLCB0aGlzLmVudik7XG5cdFx0XHR9XG5cblx0XHRcdHNldFByb3RvKFwiRnVuY3Rpb25cIiwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlR2V0dGVyXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUdldHRlcihmdW5jLCBrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jLCAwLCBcImdldCBcIiArIGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVNldHRlclwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTZXR0ZXIoZnVuYywga2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuYywgMSwgXCJzZXQgXCIgKyBrZXkpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB3aXRoIG5vIHByb3RvdHlwZSB0aGF0IGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIFRoZSB1bmRlcmx5aW5nIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggLSBUaGUgbGVuZ3RoIHByb3BlcnR5IG9mIHRoZSBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnVuY05hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXHJcbiAgICogQHJldHVybnMge05hdGl2ZUZ1bmN0aW9uVHlwZX0gVGhlIGZ1bmN0aW9uIGluc3RhbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUJ1aWx0SW5GdW5jdGlvblwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuYywgbGVuZ3RoLCBmdW5jTmFtZSkge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9uYXRpdmVGdW5jdGlvblR5cGUuTmF0aXZlRnVuY3Rpb25UeXBlKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bmNOYW1lICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHNldFByb3RvKFwiRnVuY3Rpb25cIiwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdGluc3RhbmNlW19TeW1ib2wkZm9yKFwiZW52XCIpXSA9IHRoaXMuZW52O1xuXHRcdFx0aW5zdGFuY2UuYnVpbHRJbiA9IHRydWU7XG5cdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHZhbHVlOiB0aGlzLmNyZWF0ZVByaW1pdGl2ZShsZW5ndGgpLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG5cblx0XHRcdHZhciBtYXRjaCA9IGZ1bmN0aW9uTmFtZU1hdGNoZXIuZXhlYyhmdW5jTmFtZSk7XG5cdFx0XHR2YXIgbmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdIHx8IGZ1bmNOYW1lO1xuXG5cdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcIm5hbWVcIiwgeyB2YWx1ZTogdGhpcy5jcmVhdGVQcmltaXRpdmUobmFtZSksIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LCB0cnVlLCB0aGlzLmVudik7XG5cblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVGhyb3dlclwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUaHJvd2VyKG1lc3NhZ2UsIHRocm93ZXIpIHtcblx0XHRcdHRoaXMudGhyb3dlcnMgPSB0aGlzLnRocm93ZXJzIHx8IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdFx0aWYgKG1lc3NhZ2UgaW4gdGhpcy50aHJvd2Vycykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy50aHJvd2Vyc1ttZXNzYWdlXTtcblx0XHRcdH1cblxuXHRcdFx0dGhyb3dlciA9IHRocm93ZXIgfHwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gd2Ugd2FudCB0byBrZWVwIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSB0aHJvd2VycyBiZWNhdXNlIHRoZXJlXG5cdFx0XHQvLyBhcmUgc2lsbHkgdGVzdHMgdGhhdCBjaGVjayBmb3IgdGhpc1xuXHRcdFx0dmFyIHRocm93ZXJJbnN0YW5jZSA9IHRoaXMuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKHRocm93ZXIpO1xuXHRcdFx0cmV0dXJuIHRoaXMudGhyb3dlcnNbbWVzc2FnZV0gPSB7XG5cdFx0XHRcdGdldDogdGhyb3dlckluc3RhbmNlLFxuXHRcdFx0XHRnZXR0ZXI6IHRocm93ZXIsXG5cdFx0XHRcdHNldDogdGhyb3dlckluc3RhbmNlLFxuXHRcdFx0XHRzZXR0ZXI6IHRocm93ZXIsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlXG5cdFx0XHR9O1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBPYmplY3RGYWN0b3J5O1xufSkoKTtcblxuZXhwb3J0cy5PYmplY3RGYWN0b3J5ID0gT2JqZWN0RmFjdG9yeTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRmb3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9mb3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRrZXlzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5c1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW3Byb3BlcnR5SXRlcmF0b3JdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBpbnRlZ2VyTWF0Y2hlciA9IC9eXFxuKyQvO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChrZXkpIHtcblx0cmV0dXJuIGtleSAmJiB0eXBlb2Yga2V5ICE9PSBcInN0cmluZ1wiICYmIGtleS5pc1N5bWJvbDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KSB7XG5cdHJldHVybiBpc1N5bWJvbChrZXkpID8gXCJzeW1ib2xzXCIgOiBcInByb3BlcnRpZXNcIjtcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJdGVyYXRvcihlbnYsIG9iaikge1xuXHR2YXIgdmlzaXRlZCwgb2JqZWN0RmFjdG9yeSwgY3VycmVudCwga2V5cywgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBrZXksIGRlc2MsIHZhbHVlO1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gcHJvcGVydHlJdGVyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHR2aXNpdGVkID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHRcdG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0Y3VycmVudCA9IG9iajtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRpZiAoIWN1cnJlbnQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRrZXlzID0gY3VycmVudC5nZXRPd25Qcm9wZXJ0eUtleXMoXCJTdHJpbmdcIik7XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDg7XG5cdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihrZXlzKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0a2V5ID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdGRlc2MgPSBjdXJyZW50LmdldFByb3BlcnR5KGtleSk7XG5cblx0XHRcdFx0aWYgKCFkZXNjKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEoZGVzYy5lbnVtZXJhYmxlICYmICEoa2V5IGluIHZpc2l0ZWQpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvclJlc3VsdCh7IHZhbHVlOiB2YWx1ZSB9KTtcblxuXHRcdFx0Y2FzZSAxODpcblxuXHRcdFx0XHR2aXNpdGVkW2tleV0gPSB0cnVlO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDI0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwW1wiY2F0Y2hcIl0oOCk7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDEkMC50MDtcblxuXHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDI4O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjk7XG5cblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAzMTtcblxuXHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMzEpO1xuXG5cdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0Y2FzZSAzNjpcblxuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlSXRlcmF0b3JSZXN1bHQoeyBkb25lOiB0cnVlIH0pKTtcblxuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcywgW1s4LCAyNCwgMjgsIDM2XSwgWzI5LCwgMzEsIDM1XV0pO1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUtleUNvbXBhcmVyKGEsIGIpIHtcblx0aWYgKGludGVnZXJNYXRjaGVyLnRlc3QoYSkpIHtcblx0XHRpZiAoaW50ZWdlck1hdGNoZXIudGVzdChiKSkge1xuXHRcdFx0cmV0dXJuIGEgLSBiO1xuXHRcdH1cblxuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0aWYgKGludGVnZXJNYXRjaGVyLnRlc3QoYikpIHtcblx0XHRyZXR1cm4gLTE7XG5cdH1cblxuXHRyZXR1cm4gMDtcbn1cblxudmFyIE9iamVjdFR5cGUgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBPYmplY3RUeXBlKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYmplY3RUeXBlKTtcblxuXHRcdHRoaXMuaXNQcmltaXRpdmUgPSBmYWxzZTtcblx0XHR0aGlzLnR5cGUgPSBcIm9iamVjdFwiO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJPYmplY3RcIjtcblx0XHR0aGlzLmV4dGVuc2libGUgPSB0cnVlO1xuXHRcdHRoaXMucHJvcGVydGllcyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdHRoaXMuc3ltYm9scyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXG5cdFx0dGhpcy52ZXJzaW9uID0gMDtcblx0XHR0aGlzLnByaW1pdGl2ZUhpbnQgPSBcIm51bWJlclwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE9iamVjdFR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChlbnYsIHByb3RvLCBkZXNjcmlwdG9yLCBzdHJpY3QpIHtcblx0XHRcdHRoaXNbX1N5bWJvbCRmb3IoXCJlbnZcIildID0gZW52O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRQcm90b3R5cGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvdG90eXBlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvdG87XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNldFByb3RvdHlwZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRQcm90b3R5cGUocHJvdG8pIHtcblx0XHRcdGlmICh0aGlzLnByb3RvID09PSBwcm90bykge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLmlzRXh0ZW5zaWJsZSgpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY2hlY2sgd2hldGhlciBwcm90b3R5cGUgY2hhaW4gYWxyZWFkeSBpbmNsdWRlcyBvYmplY3Rcblx0XHRcdHZhciBjdXJyZW50ID0gcHJvdG87XG5cdFx0XHR3aGlsZSAoY3VycmVudCkge1xuXHRcdFx0XHRpZiAoY3VycmVudCA9PT0gdGhpcykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnByb3RvID0gcHJvdG87XG5cdFx0XHR0aGlzLnZlcnNpb24rKztcblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KGtleSwgdGFyZ2V0KSB7XG5cdFx0XHR0YXJnZXQgPSB0YXJnZXQgfHwgdGhpcztcblxuXHRcdFx0dmFyIGxvY2FsS2V5ID0gU3RyaW5nKGtleSk7XG5cdFx0XHR2YXIgc291cmNlID0gZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KTtcblxuXHRcdFx0aWYgKGxvY2FsS2V5IGluIHRoaXNbc291cmNlXSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpc1tzb3VyY2VdW2xvY2FsS2V5XS5iaW5kKHRhcmdldCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBjdXJyZW50ID0gdGhpcy5nZXRQcm90b3R5cGUoKTtcblx0XHRcdGlmIChjdXJyZW50KSB7XG5cdFx0XHRcdHJldHVybiBjdXJyZW50LmdldFByb3BlcnR5KGtleSwgdGFyZ2V0KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHkoa2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpc1tnZXRQcm9wZXJ0eVNvdXJjZShrZXkpXVtTdHJpbmcoa2V5KV07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldE93blByb3BlcnR5S2V5c1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eUtleXMoa2V5VHlwZSkge1xuXHRcdFx0dmFyIGtleXMgPSBbXTtcblxuXHRcdFx0aWYgKGtleVR5cGUgIT09IFwiU3ltYm9sXCIpIHtcblx0XHRcdFx0Ly8gbm90ZTogdGhpcyB1c2VzIG5hdGl2ZSBzb3J0IHdoaWNoIG1heSBub3QgYmUgc3RhYmxlXG5cdFx0XHRcdGtleXMgPSBfT2JqZWN0JGtleXModGhpcy5wcm9wZXJ0aWVzKS5zb3J0KHByb3BlcnR5S2V5Q29tcGFyZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoa2V5VHlwZSAhPT0gXCJTdHJpbmdcIikge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5zeW1ib2xzKSB7XG5cdFx0XHRcdFx0a2V5cy5wdXNoKHRoaXMuc3ltYm9sc1trZXldLmtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGtleXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImlzRXh0ZW5zaWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc0V4dGVuc2libGUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5leHRlbnNpYmxlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRJdGVyYXRvclwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRJdGVyYXRvcigpIHtcblx0XHRcdHZhciBlbnYgPSB0aGlzW19TeW1ib2wkZm9yKFwiZW52XCIpXTtcblx0XHRcdHJldHVybiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvcihwcm9wZXJ0eUl0ZXJhdG9yKGVudiwgdGhpcykpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0aWYgKFN0cmluZyhrZXkpIGluIHRoaXNbZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KV0pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBjdXJyZW50ID0gdGhpcy5nZXRQcm90b3R5cGUoKTtcblx0XHRcdGlmIChjdXJyZW50KSB7XG5cdFx0XHRcdHJldHVybiBjdXJyZW50LmhhcyhrZXkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcIm93bnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gb3ducyhrZXkpIHtcblx0XHRcdHJldHVybiBTdHJpbmcoa2V5KSBpbiB0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShrZXksIHZhbHVlLCByZWNlaXZlcikge1xuXHRcdFx0cmVjZWl2ZXIgPSByZWNlaXZlciB8fCB0aGlzO1xuXG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdGlmIChkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdGlmICh0aGlzICE9PSByZWNlaXZlciAmJiByZWNlaXZlci5vd25zKGtleSkpIHtcblx0XHRcdFx0XHR2YXIgcmVjZWl2ZXJEZXNjcmlwdG9yID0gcmVjZWl2ZXIuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0XHRpZiAoIXJlY2VpdmVyRGVzY3JpcHRvci5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkZXNjcmlwdG9yID0gcmVjZWl2ZXJEZXNjcmlwdG9yO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFkZXNjcmlwdG9yLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRcdGRlc2NyaXB0b3IuYmluZChyZWNlaXZlcik7XG5cdFx0XHRcdFx0ZGVzY3JpcHRvci5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXJlY2VpdmVyLm93bnMoa2V5KSkge1xuXHRcdFx0XHRcdHJldHVybiByZWNlaXZlci5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIHtcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghZGVzY3JpcHRvci5jYW5VcGRhdGUoeyB2YWx1ZTogdmFsdWUgfSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZXNjcmlwdG9yLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZWNlaXZlci5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIHtcblx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LCBmYWxzZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInB1dFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHB1dFZhbHVlKGtleSwgdmFsdWUsIHRocm93T25FcnJvcikge1xuXHRcdFx0aWYgKHRoaXMuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdGlmIChkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdGlmICghZGVzY3JpcHRvci5jYW5TZXRWYWx1ZSgpKSB7XG5cdFx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5IHByb3BlcnR5ICdcIiArIGtleSArIFwiJ1wiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGVzY3JpcHRvci5kYXRhUHJvcGVydHkgJiYgIXRoaXMub3ducyhrZXkpKSB7XG5cdFx0XHRcdFx0dGhpc1tnZXRQcm9wZXJ0eVNvdXJjZShrZXkpXVtTdHJpbmcoa2V5KV0gPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlXG5cdFx0XHRcdFx0fSwga2V5KTtcblxuXHRcdFx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlc2NyaXB0b3Iuc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KGtleSwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdGhyb3dPbkVycm9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVmaW5lT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lT3duUHJvcGVydHkoa2V5LCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGRlZmluZSBwcm9wZXJ0eTogXCIgKyBrZXkgKyBcIiwgb2JqZWN0IGlzIG5vdCBleHRlbnNpYmxlXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgY3VycmVudCA9IHRoaXMuZ2V0T3duUHJvcGVydHkoa2V5KTtcblx0XHRcdGlmIChjdXJyZW50KSB7XG5cdFx0XHRcdGlmIChjdXJyZW50LmNhblVwZGF0ZShkZXNjcmlwdG9yKSkge1xuXHRcdFx0XHRcdGN1cnJlbnQudXBkYXRlKGRlc2NyaXB0b3IpO1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6IFwiICsga2V5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuZXh0ZW5zaWJsZSkge1xuXHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBkZWZpbmUgcHJvcGVydHk6IFwiICsga2V5ICsgXCIsIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpc1tnZXRQcm9wZXJ0eVNvdXJjZShrZXkpXVtTdHJpbmcoa2V5KV0gPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgZGVzY3JpcHRvciwga2V5KTtcblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KGtleSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAodGhpcy5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzb3VyY2UgPSBnZXRQcm9wZXJ0eVNvdXJjZShrZXkpO1xuXHRcdFx0a2V5ID0gU3RyaW5nKGtleSk7XG5cblx0XHRcdGlmIChrZXkgaW4gdGhpc1tzb3VyY2VdKSB7XG5cdFx0XHRcdGlmICghdGhpc1tzb3VyY2VdW2tleV0uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBkZWxldGUgcHJvcGVydHk6IFwiICsga2V5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0XHRyZXR1cm4gZGVsZXRlIHRoaXNbc291cmNlXVtrZXldO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWZpbmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lKGtleSwgdmFsdWUpIHtcblx0XHRcdHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cblx0XHRcdHZhciBfcmVmJGNvbmZpZ3VyYWJsZSA9IF9yZWYuY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIGNvbmZpZ3VyYWJsZSA9IF9yZWYkY29uZmlndXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRjb25maWd1cmFibGU7XG5cdFx0XHR2YXIgX3JlZiRlbnVtZXJhYmxlID0gX3JlZi5lbnVtZXJhYmxlO1xuXHRcdFx0dmFyIGVudW1lcmFibGUgPSBfcmVmJGVudW1lcmFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRlbnVtZXJhYmxlO1xuXHRcdFx0dmFyIF9yZWYkd3JpdGFibGUgPSBfcmVmLndyaXRhYmxlO1xuXHRcdFx0dmFyIHdyaXRhYmxlID0gX3JlZiR3cml0YWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkd3JpdGFibGU7XG5cdFx0XHR2YXIgZ2V0dGVyID0gX3JlZi5nZXR0ZXI7XG5cdFx0XHR2YXIgZ2V0ID0gX3JlZi5nZXQ7XG5cdFx0XHR2YXIgc2V0dGVyID0gX3JlZi5zZXR0ZXI7XG5cdFx0XHR2YXIgc2V0ID0gX3JlZi5zZXQ7XG5cblx0XHRcdC8vIHRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBleHRlcm5hbCB1c2FnZSBvbmx5IC0gaXQgcHJvdmlkZXMgYSB3YXkgdG8gZGVmaW5lXG5cdFx0XHQvLyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFuZCBvdmVyd3JpdGUgYW55IGV4aXN0aW5nIHByb3BlcnRpZXMgZXZlbiBpZiB0aGV5IGFyZVxuXHRcdFx0Ly8gbm90IGNvbmZpZ3VyYWJsZVxuXG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IHVuZGVmaW5lZDtcblx0XHRcdGlmIChnZXR0ZXIgfHwgc2V0dGVyKSB7XG5cdFx0XHRcdGRlc2NyaXB0b3IgPSB7IGdldHRlcjogZ2V0dGVyLCBnZXQ6IGdldCwgc2V0dGVyOiBzZXR0ZXIsIHNldDogc2V0LCBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSwgZW51bWVyYWJsZTogZW51bWVyYWJsZSB9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVzY3JpcHRvciA9IHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSwgZW51bWVyYWJsZTogZW51bWVyYWJsZSwgd3JpdGFibGU6IHdyaXRhYmxlIH07XG5cdFx0XHR9XG5cblx0XHRcdHRoaXNbZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KV1bU3RyaW5nKGtleSldID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIGRlc2NyaXB0b3IsIGtleSk7XG5cdFx0XHR0aGlzLnZlcnNpb24rKztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmVtb3ZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShrZXkpIHtcblx0XHRcdC8vIHRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBleHRlcm5hbCB1c2FnZSBvbmx5IC0gaXQgcHJvdmlkZXMgYSB3YXkgdG8gcmVtb3ZlXG5cdFx0XHQvLyBwcm9wZXJ0aWVzIGV2ZW4gaWYgdGhleSBhcmUgbm90IG5vcm1hbGx5IGFibGUgdG8gYmUgZGVsZXRlZFxuXHRcdFx0ZGVsZXRlIHRoaXNbZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KV1bU3RyaW5nKGtleSldO1xuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSkge1xuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBwcm9wZXJ0eSA9IHRoaXMuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0cmV0dXJuIHByb3BlcnR5ICYmIHByb3BlcnR5LmdldFZhbHVlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJlYWNoXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGVhY2goZnVuYykge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0W1wicHJvcGVydGllc1wiLCBcInN5bWJvbHNcIl0uZm9yRWFjaChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBfdGhpc1tzb3VyY2VdKSB7XG5cdFx0XHRcdFx0ZnVuYyhfdGhpc1tzb3VyY2VdW2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZnJlZXplXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGZyZWV6ZSgpIHtcblx0XHRcdHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24gKGRlc2MpIHtcblx0XHRcdFx0aWYgKGRlc2MuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdFx0X3RoaXMyLmRlZmluZU93blByb3BlcnR5KGRlc2Mua2V5LCB7IHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiBmYWxzZSB9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRfdGhpczIuZGVmaW5lT3duUHJvcGVydHkoZGVzYy5rZXksIHsgY29uZmlndXJhYmxlOiBmYWxzZSB9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicHJldmVudEV4dGVuc2lvbnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMoKSB7XG5cdFx0XHR0aGlzLmV4dGVuc2libGUgPSBmYWxzZTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZWFsXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNlYWwoKSB7XG5cdFx0XHR2YXIgX3RoaXMzID0gdGhpcztcblxuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uIChkZXNjKSB7XG5cdFx0XHRcdF90aGlzMy5kZWZpbmVPd25Qcm9wZXJ0eShkZXNjLmtleSwgeyBjb25maWd1cmFibGU6IGZhbHNlIH0sIHRydWUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHR2YXIgdW53cmFwcGVkID0ge307XG5cdFx0XHR2YXIgY3VycmVudCA9IHRoaXM7XG5cblx0XHRcdHdoaWxlIChjdXJyZW50KSB7XG5cdFx0XHRcdGZvciAodmFyIF9uYW1lIGluIGN1cnJlbnQucHJvcGVydGllcykge1xuXHRcdFx0XHRcdGlmIChjdXJyZW50LnByb3BlcnRpZXNbX25hbWVdLmVudW1lcmFibGUgJiYgIShfbmFtZSBpbiB1bndyYXBwZWQpKSB7XG5cdFx0XHRcdFx0XHR1bndyYXBwZWRbX25hbWVdID0gY3VycmVudC5nZXRWYWx1ZShfbmFtZSkudG9OYXRpdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVud3JhcHBlZDtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gT2JqZWN0VHlwZTtcbn0pKCk7XG5cbmV4cG9ydHMuT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBQcmltaXRpdmVUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoUHJpbWl0aXZlVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFByaW1pdGl2ZVR5cGUodmFsdWUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJpbWl0aXZlVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihQcmltaXRpdmVUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblxuXHRcdHRoaXMuaXNQcmltaXRpdmUgPSB0cnVlO1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLnR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHR0aGlzLmNsYXNzTmFtZSA9IGNvbnRyYWN0cy5nZXRUeXBlKHZhbHVlKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhQcmltaXRpdmVUeXBlLCBbe1xuXHRcdGtleTogXCJnZXRQcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRQcm9wZXJ0eShuYW1lKSB7XG5cdFx0XHQvLyBjYW4ndCByZWFkIHByb3BlcnRpZXMgb2YgbnVsbC91bmRlZmluZWRcblx0XHRcdGlmICh0aGlzLnZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByb3BlcnR5ICdcIiArIG5hbWUgKyBcIicgb2YgXCIgKyB0aGlzLnR5cGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJpbWl0aXZlVHlwZS5wcm90b3R5cGUpLCBcImdldFByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFByaW1pdGl2ZVR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5QcmltaXRpdmVUeXBlID0gUHJpbWl0aXZlVHlwZTtcbnZhciBVTkRFRklORUQgPSBuZXcgUHJpbWl0aXZlVHlwZSh1bmRlZmluZWQpO1xuZXhwb3J0cy5VTkRFRklORUQgPSBVTkRFRklORUQ7XG52YXIgTlVMTCA9IG5ldyBQcmltaXRpdmVUeXBlKG51bGwpO1xuZXhwb3J0cy5OVUxMID0gTlVMTDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc09wZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi91dGlscy9vcGVyYXRvcnNcIik7XG5cbnZhciBvcHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNPcGVyYXRvcnMpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBkZWZhdWx0RGVzY3JpcHRvciA9IHtcblx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdHdyaXRhYmxlOiBmYWxzZVxufTtcblxudmFyIFByb3BlcnR5RGVzY3JpcHRvciA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIFByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBjb25maWcsIGtleSkge1xuXHRcdGlmIChjb25maWcgPT09IHVuZGVmaW5lZCkgY29uZmlnID0gZGVmYXVsdERlc2NyaXB0b3I7XG5cblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvcGVydHlEZXNjcmlwdG9yKTtcblxuXHRcdHRoaXMuYmFzZSA9IGJhc2U7XG5cdFx0dGhpcy5jb25maWd1cmFibGUgPSBjb25maWcuY29uZmlndXJhYmxlIHx8IGZhbHNlO1xuXHRcdHRoaXMuZW51bWVyYWJsZSA9IGNvbmZpZy5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuXHRcdHRoaXMua2V5ID0ga2V5O1xuXG5cdFx0aWYgKFwiZ2V0XCIgaW4gY29uZmlnIHx8IFwic2V0XCIgaW4gY29uZmlnKSB7XG5cdFx0XHR0aGlzLmRhdGFQcm9wZXJ0eSA9IGZhbHNlO1xuXHRcdFx0dGhpcy5nZXQgPSBjb25maWcuZ2V0O1xuXHRcdFx0dGhpcy5nZXR0ZXIgPSBjb25maWcuZ2V0dGVyO1xuXHRcdFx0dGhpcy5zZXQgPSBjb25maWcuc2V0O1xuXHRcdFx0dGhpcy5zZXR0ZXIgPSBjb25maWcuc2V0dGVyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLndyaXRhYmxlID0gY29uZmlnLndyaXRhYmxlIHx8IGZhbHNlO1xuXHRcdFx0dGhpcy5kYXRhUHJvcGVydHkgPSB0cnVlO1xuXHRcdFx0dGhpcy52YWx1ZSA9IGNvbmZpZy52YWx1ZTtcblx0XHR9XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoUHJvcGVydHlEZXNjcmlwdG9yLCBbe1xuXHRcdGtleTogXCJiaW5kXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmQob2JqKSB7XG5cdFx0XHR0aGlzLmJhc2UgPSBvYmo7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidXBkYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShkZXNjcmlwdG9yKSB7XG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0aWYgKGRlc2NyaXB0b3IuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcblx0XHRcdFx0XHR0aGlzW3Byb3BdID0gZGVzY3JpcHRvcltwcm9wXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJnZXRcIiBpbiBkZXNjcmlwdG9yIHx8IFwic2V0XCIgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHR0aGlzLndyaXRhYmxlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR0aGlzLmRhdGFQcm9wZXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHR0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0fSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHR0aGlzLndyaXRhYmxlID0gdGhpcy53cml0YWJsZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0aGlzLndyaXRhYmxlO1xuXHRcdFx0XHR0aGlzLmRhdGFQcm9wZXJ0eSA9IHRydWU7XG5cdFx0XHRcdHRoaXMuZ2V0ID0gdGhpcy5nZXR0ZXIgPSB0aGlzLnNldCA9IHRoaXMuc2V0dGVyID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjYW5VcGRhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY2FuVXBkYXRlKGRlc2NyaXB0b3IpIHtcblx0XHRcdGlmICh0aGlzLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwiY29uZmlndXJhYmxlXCIgaW4gZGVzY3JpcHRvciAmJiB0aGlzLmNvbmZpZ3VyYWJsZSAhPT0gZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJlbnVtZXJhYmxlXCIgaW4gZGVzY3JpcHRvciAmJiB0aGlzLmVudW1lcmFibGUgIT09IGRlc2NyaXB0b3IuZW51bWVyYWJsZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoXCJnZXRcIiBpbiBkZXNjcmlwdG9yIHx8IFwic2V0XCIgaW4gZGVzY3JpcHRvcikgJiYgdGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IgJiYgIXRoaXMuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdGlmICghdGhpcy53cml0YWJsZSkge1xuXHRcdFx0XHRcdGlmIChkZXNjcmlwdG9yLndyaXRhYmxlKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuICEoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIHx8IG9wcy5hcmVTYW1lKHRoaXMudmFsdWUsIGRlc2NyaXB0b3IudmFsdWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcImdldFwiIGluIGRlc2NyaXB0b3IgJiYgdGhpcy5nZXQgIT09IGRlc2NyaXB0b3IuZ2V0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwic2V0XCIgaW4gZGVzY3JpcHRvciAmJiB0aGlzLnNldCAhPT0gZGVzY3JpcHRvci5zZXQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdFx0XHRpZiAodGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmdldHRlcikge1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHRoaXMuZ2V0dGVyLmNhbGwodGhpcy5iYXNlKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhblNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNhblNldFZhbHVlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMud3JpdGFibGUgfHwgISF0aGlzLnNldHRlcjtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0XHRcdGlmICghdGhpcy5jYW5TZXRWYWx1ZSgpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5zZXR0ZXIpIHtcblx0XHRcdFx0KDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHRoaXMuc2V0dGVyLmNhbGwodGhpcy5iYXNlLCB2YWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBQcm9wZXJ0eURlc2NyaXB0b3I7XG59KSgpO1xuXG5leHBvcnRzLlByb3BlcnR5RGVzY3JpcHRvciA9IFByb3BlcnR5RGVzY3JpcHRvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG4vLyBpbXBvcnQge2V4ZWN1dGUgYXMgZXhlY30gZnJvbSBcIi4uL3V0aWxzL2Z1bmNcIjtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9wcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi9wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgZW52U3ltYm9sID0gX1N5bWJvbCRmb3IoXCJlbnZcIik7XG5cbmZ1bmN0aW9uIGdldFByb3h5TWV0aG9kKHByb3h5LCBrZXkpIHtcblx0dmFyIGhhbmRsZXIgPSBwcm94eS5oYW5kbGVyLmdldFByb3BlcnR5KGtleSk7XG5cdGlmICghaGFuZGxlcikge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0dmFyIG1ldGhvZCA9IGhhbmRsZXIuZ2V0VmFsdWUoKTtcblx0aWYgKGNvbnRyYWN0cy5pc1VuZGVmaW5lZChtZXRob2QpKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihtZXRob2QsIGtleSk7XG5cdHJldHVybiBtZXRob2Q7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlT3JEZWZhdWx0KG9iaiwga2V5KSB7XG5cdHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBfcHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBhcmd1bWVudHNbMl07XG5cdHZhciB0cmFuc2Zvcm1lciA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZ1bmN0aW9uICh2KSB7XG5cdFx0cmV0dXJuIHY7XG5cdH0gOiBhcmd1bWVudHNbM107XG5cblx0dmFyIHByb3BJbmZvID0gb2JqLmdldFByb3BlcnR5KGtleSk7XG5cdGlmIChwcm9wSW5mbykge1xuXHRcdHJldHVybiB0cmFuc2Zvcm1lcihwcm9wSW5mby5nZXRWYWx1ZSgpKTtcblx0fVxuXG5cdHJldHVybiBkZWZhdWx0VmFsdWU7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShlbnYsIGtleSkge1xuXHRpZiAodHlwZW9mIGtleSAhPT0gXCJvYmplY3RcIikge1xuXHRcdHJldHVybiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KTtcblx0fVxuXG5cdHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGRlbm9ybWFsaXplS2V5KGtleSkge1xuXHRpZiAoa2V5LmlzU3ltYm9sKSB7XG5cdFx0cmV0dXJuIGtleTtcblx0fVxuXG5cdHJldHVybiBrZXkudG9OYXRpdmUoKTtcbn1cblxuZnVuY3Rpb24gdG9Qcm9wZXJ0eURlc2NyaXB0b3IoZW52LCBkZXNjcmlwdG9yKSB7XG5cdHZhciByZXN1bHQgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0aWYgKGRlc2NyaXB0b3IuZ2V0IHx8IGRlc2NyaXB0b3Iuc2V0KSB7XG5cdFx0cmVzdWx0LnNldFZhbHVlKFwiZ2V0XCIsIGRlc2NyaXB0b3IuZ2V0IHx8IF9wcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cdFx0cmVzdWx0LnNldFZhbHVlKFwic2V0XCIsIGRlc2NyaXB0b3Iuc2V0IHx8IF9wcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0LnNldFZhbHVlKFwidmFsdWVcIiwgZGVzY3JpcHRvci52YWx1ZSk7XG5cdFx0cmVzdWx0LnNldFZhbHVlKFwid3JpdGFibGVcIiwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3Iud3JpdGFibGUpKTtcblx0fVxuXG5cdHJlc3VsdC5zZXRWYWx1ZShcImVudW1lcmFibGVcIiwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3IuZW51bWVyYWJsZSkpO1xuXHRyZXN1bHQuc2V0VmFsdWUoXCJjb25maWd1cmFibGVcIiwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHRvQ2FsbChwcm94eSwgbWV0aG9kTmFtZSkge1xuXHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZChwcm94eSwgXCJhcHBseVwiKTtcblx0aWYgKGNvbnRyYWN0cy5pc1VuZGVmaW5lZChwcm94eU1ldGhvZCkpIHtcblx0XHRyZXR1cm4gcHJveHkudGFyZ2V0LmdldFZhbHVlKG1ldGhvZE5hbWUpO1xuXHR9XG5cblx0cmV0dXJuIHByb3h5W2VudlN5bWJvbF0ub2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGhpc0FyZykge1xuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0YXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmIChtZXRob2ROYW1lID09PSBcImFwcGx5XCIgJiYgYXJncy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRhcmdzID0gKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KShhcmdzWzBdKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gcHJveHkuY2FsbCh0aGlzQXJnLCBhcmdzKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJGdW5jdGlvbi5wcm90b3R5cGUuXCIgKyBtZXRob2ROYW1lKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNOb3RSZXZva2VkKHByb3h5LCBtZXRob2ROYW1lKSB7XG5cdGlmIChwcm94eS5yZXZva2VkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIk1ldGhvZCBcIiArIG1ldGhvZE5hbWUgKyBcIiBjYWxsZWQgb24gYSByZXZva2VkIFByb3h5IG9iamVjdFwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiB0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IobWV0aG9kTmFtZSkge1xuXHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YXJpYW50IGNoZWNrIGZhaWxlZCBmb3IgcHJveHkgXCIgKyBtZXRob2ROYW1lICsgXCIgdHJhcFwiKTtcbn1cblxudmFyIFByb3h5VHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKFByb3h5VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFByb3h5VHlwZSh0YXJnZXQsIGhhbmRsZXIpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJveHlUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3h5VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdFx0dGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IHRhcmdldC5jbGFzc05hbWU7XG5cdFx0dGhpcy50eXBlID0gdGFyZ2V0LnR5cGU7XG5cdFx0dGhpcy5yZXZva2VkID0gZmFsc2U7XG5cdFx0dGhpcy5pc1Byb3h5ID0gdHJ1ZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhQcm94eVR5cGUsIFt7XG5cdFx0a2V5OiBcImNhbGxcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGwodGhpc0FyZywgYXJncykge1xuXHRcdFx0dmFyIHByb3h5TWV0aG9kLFxuXHRcdFx0ICAgIF90YXJnZXQsXG5cdFx0XHQgICAgYXJnc0FycmF5LFxuXHRcdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGwkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwiYXBwbHlcIik7XG5cblx0XHRcdFx0XHRcdHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJhcHBseVwiKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKF90YXJnZXQgPSB0aGlzLnRhcmdldCkuY2FsbC5hcHBseShfdGFyZ2V0LCBhcmdzJDIkMCk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0YXJnc0FycmF5ID0gdGhpc1tlbnZTeW1ib2xdLm9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoYXJncyk7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdHJldHVybiBwcm94eU1ldGhvZC5jYWxsKHRoaXMuaGFuZGxlciwgW3RoaXMudGFyZ2V0LCB0aGlzQXJnLCBhcmdzQXJyYXldKTtcblxuXHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGwsIHRoaXMpO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiY29uc3RydWN0XCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjb25zdHJ1Y3QodGhpc0FyZywgYXJncykge1xuXHRcdFx0dmFyIHByb3h5TWV0aG9kLFxuXHRcdFx0ICAgIF90YXJnZXQyLFxuXHRcdFx0ICAgIGFyZ3NBcnJheSxcblx0XHRcdCAgICBuZXdPYmosXG5cdFx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY29uc3RydWN0JChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcImNvbnN0cnVjdFwiKTtcblxuXHRcdFx0XHRcdFx0cHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImNvbnN0cnVjdFwiKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKF90YXJnZXQyID0gdGhpcy50YXJnZXQpLmNvbnN0cnVjdC5hcHBseShfdGFyZ2V0MiwgYXJncyQyJDApO1xuXG5cdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdGFyZ3NBcnJheSA9IHRoaXNbZW52U3ltYm9sXS5vYmplY3RGYWN0b3J5LmNyZWF0ZUFycmF5KGFyZ3MpO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldCwgYXJnc0FycmF5LCB0aGlzXSk7XG5cblx0XHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0XHRuZXdPYmogPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc09iamVjdChuZXdPYmopKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImNvbnN0cnVjdFwiKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdPYmopO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjb25zdHJ1Y3QsIHRoaXMpO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcblx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcImhhc1wiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJoYXNcIik7XG5cdFx0XHRpZiAoIXByb3h5TWV0aG9kKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5oYXMoa2V5KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSldKSkpO1xuXHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHRcdFx0aWYgKCFwcm9wSW5mby5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImhhc1wiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMudGFyZ2V0LmlzRXh0ZW5zaWJsZSgpKSB7XG5cdFx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJoYXNcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcIm93bnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gb3ducyhrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5vd25zKGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KGtleSwgdGFyZ2V0KSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJnZXRcIik7XG5cblx0XHRcdC8vIHNwZWNpYWwgY2FzZSBmb3IgZnVuY3Rpb24gdHlwZXNcblx0XHRcdGlmICh0aGlzLnR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiAoa2V5ID09PSBcImNhbGxcIiB8fCBrZXkgPT09IFwiYXBwbHlcIikpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCB7IHZhbHVlOiB0b0NhbGwodGhpcywga2V5KSB9LCBrZXkpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImdldFwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmdldFByb3BlcnR5KGtleSwgdGFyZ2V0KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciB2YWx1ZSA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShwcm94eU1ldGhvZC5jYWxsKHRoaXMuaGFuZGxlciwgW3RoaXMudGFyZ2V0LCBub3JtYWxpemVLZXkoZW52LCBrZXkpLCB0aGlzXSkpO1xuXHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdGlmIChwcm9wSW5mbyAmJiAhcHJvcEluZm8uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdHZhciB0YXJnZXRWYWx1ZSA9IHByb3BJbmZvLmdldFZhbHVlKCk7XG5cdFx0XHRcdGlmIChwcm9wSW5mby5kYXRhUHJvcGVydHkgJiYgIXByb3BJbmZvLndyaXRhYmxlICYmICFlbnYub3BzLmFyZVNhbWUodmFsdWUsIHRhcmdldFZhbHVlKSkge1xuXHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImdldFwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghcHJvcEluZm8uZGF0YVByb3BlcnR5ICYmIGNvbnRyYWN0cy5pc1VuZGVmaW5lZChwcm9wSW5mby5nZXQpICYmICFjb250cmFjdHMuaXNVbmRlZmluZWQodmFsdWUpKSB7XG5cdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZ2V0XCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgeyB2YWx1ZTogdmFsdWUgfSwga2V5KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHkoa2V5KSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cblx0XHRcdHZhciBwcm94eU1ldGhvZCA9IGdldFByb3h5TWV0aG9kKHRoaXMsIFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIpO1xuXHRcdFx0aWYgKCFwcm94eU1ldGhvZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy50YXJnZXQuZ2V0T3duUHJvcGVydHkoa2V5KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciBkZXNjcmlwdG9yID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSldKSk7XG5cdFx0XHRpZiAoZGVzY3JpcHRvci50eXBlICE9PSBcIm9iamVjdFwiICYmIGRlc2NyaXB0b3IudHlwZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcm9wSW5mbyA9IHRoaXMudGFyZ2V0LmdldE93blByb3BlcnR5KGtleSk7XG5cdFx0XHR2YXIgaGFzRGVzY3JpcHRvciA9ICEhcHJvcEluZm87XG5cdFx0XHR2YXIgZnJvemVuID0gIXRoaXMudGFyZ2V0LmlzRXh0ZW5zaWJsZSgpIHx8IGhhc0Rlc2NyaXB0b3IgJiYgIXByb3BJbmZvLmNvbmZpZ3VyYWJsZTtcblxuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc1VuZGVmaW5lZChkZXNjcmlwdG9yKSkge1xuXHRcdFx0XHRpZiAoZnJvemVuKSB7XG5cdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFoYXNEZXNjcmlwdG9yICYmIGZyb3plbikge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbnVtZXJhYmxlID0gZ2V0VmFsdWVPckRlZmF1bHQoZGVzY3JpcHRvciwgXCJlbnVtZXJhYmxlXCIsIGZhbHNlLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKTtcblx0XHRcdHZhciBjb25maWd1cmFibGUgPSBnZXRWYWx1ZU9yRGVmYXVsdChkZXNjcmlwdG9yLCBcImNvbmZpZ3VyYWJsZVwiLCBmYWxzZSwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbik7XG5cdFx0XHR2YXIgd3JpdGFibGUgPSBnZXRWYWx1ZU9yRGVmYXVsdChkZXNjcmlwdG9yLCBcIndyaXRhYmxlXCIsIGZhbHNlLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKTtcblx0XHRcdHZhciB2YWx1ZSA9IGdldFZhbHVlT3JEZWZhdWx0KGRlc2NyaXB0b3IsIFwidmFsdWVcIik7XG5cdFx0XHR2YXIgZ2V0dGVyID0gZ2V0VmFsdWVPckRlZmF1bHQoZGVzY3JpcHRvciwgXCJnZXRcIiwgbnVsbCk7XG5cdFx0XHR2YXIgc2V0dGVyID0gZ2V0VmFsdWVPckRlZmF1bHQoZGVzY3JpcHRvciwgXCJzZXRcIiwgbnVsbCk7XG5cblx0XHRcdGlmICghY29uZmlndXJhYmxlICYmICghaGFzRGVzY3JpcHRvciB8fCAhZnJvemVuKSkge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcm94eURlc2NyaXB0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRpZiAoZ2V0dGVyIHx8IHNldHRlcikge1xuXHRcdFx0XHRwcm94eURlc2NyaXB0b3IgPSB7IGdldHRlcjogZ2V0dGVyLCBzZXR0ZXI6IHNldHRlciwgZ2V0OiB1bmRlZmluZWQsIHNldDogdW5kZWZpbmVkLCBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSB9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHJveHlEZXNjcmlwdG9yID0geyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLCB3cml0YWJsZTogd3JpdGFibGUgfTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGhhc0Rlc2NyaXB0b3IgJiYgIXByb3BJbmZvLmNhblVwZGF0ZShwcm94eURlc2NyaXB0b3IpKSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBwcm94eURlc2NyaXB0b3IsIGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3RvdHlwZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRQcm90b3R5cGUoKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJnZXRQcm90b3R5cGVPZlwiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJnZXRQcm90b3R5cGVPZlwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcHJvdG8gPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldF0pKTtcblx0XHRcdGlmICghY29udHJhY3RzLmlzT2JqZWN0KHByb3RvKSAmJiAhY29udHJhY3RzLmlzTnVsbChwcm90bykpIHtcblx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZ2V0UHJvdG90eXBlT2ZcIik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSkge1xuXHRcdFx0XHRyZXR1cm4gcHJvdG87XG5cdFx0XHR9XG5cblx0XHRcdHZhciB0YXJnZXRQcm90byA9IHRoaXMudGFyZ2V0LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0aWYgKHRhcmdldFByb3RvICE9PSBwcm90bykge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRQcm90b3R5cGVPZlwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHByb3RvO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRQcm90b3R5cGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0UHJvdG90eXBlKHByb3RvKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJzZXRQcm90b3R5cGVPZlwiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJzZXRQcm90b3R5cGVPZlwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LnNldFByb3RvdHlwZShwcm90byk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIHByb3RvXSkpKTtcblx0XHRcdGlmICh0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdGFyZ2V0UHJvdG8gPSB0aGlzLnRhcmdldC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdGlmIChyZXN1bHQgJiYgdGFyZ2V0UHJvdG8gIT09IHByb3RvKSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcInNldFByb3RvdHlwZU9mXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJpc0V4dGVuc2libGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNFeHRlbnNpYmxlKCkge1xuXHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwiaXNFeHRlbnNpYmxlXCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImlzRXh0ZW5zaWJsZVwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmlzRXh0ZW5zaWJsZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVzdWx0ID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKCgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShwcm94eU1ldGhvZC5jYWxsKHRoaXMuaGFuZGxlciwgW3RoaXMudGFyZ2V0XSkpKTtcblx0XHRcdHZhciB0YXJnZXRSZXN1bHQgPSB0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKTtcblxuXHRcdFx0aWYgKHJlc3VsdCAhPT0gdGFyZ2V0UmVzdWx0KSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImlzRXh0ZW5zaWJsZVwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicHJldmVudEV4dGVuc2lvbnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMoKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LnByZXZlbnRFeHRlbnNpb25zKCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXRdKSkpO1xuXHRcdFx0aWYgKHJlc3VsdCAmJiB0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSkge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkoa2V5LCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcImRlbGV0ZVByb3BlcnR5XCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImRlbGV0ZVByb3BlcnR5XCIpO1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc1VuZGVmaW5lZChwcm94eU1ldGhvZCkpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmRlbGV0ZVByb3BlcnR5KGtleSwgdGhyb3dPbkVycm9yKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSldKSkpO1xuXHRcdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0XHR2YXIgcHJvcEluZm8gPSB0aGlzLnRhcmdldC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRpZiAocHJvcEluZm8gJiYgIXByb3BJbmZvLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImRlbGV0ZVByb3BlcnR5XCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlZmluZU93blByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZU93blByb3BlcnR5KGtleSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHZhciBfdGFyZ2V0MztcblxuXHRcdFx0XHRyZXR1cm4gKF90YXJnZXQzID0gdGhpcy50YXJnZXQpLmRlZmluZU93blByb3BlcnR5LmFwcGx5KF90YXJnZXQzLCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW52ID0gdGhpc1tlbnZTeW1ib2xdO1xuXHRcdFx0dmFyIGRlc2MgPSB0b1Byb3BlcnR5RGVzY3JpcHRvcihlbnYsIGRlc2NyaXB0b3IpO1xuXHRcdFx0dmFyIHJlc3VsdCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKSgoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldCwgbm9ybWFsaXplS2V5KGVudiwga2V5KSwgZGVzY10pKSk7XG5cblx0XHRcdGlmIChyZXN1bHQpIHtcblx0XHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHRcdFx0aWYgKFwiY29uZmlndXJhYmxlXCIgaW4gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAhPT0gcHJvcEluZm8uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIXByb3BJbmZvLmNhblVwZGF0ZShkZXNjcmlwdG9yKSkge1xuXHRcdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZGVmaW5lUHJvcGVydHlcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKCF0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSB8fCBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRPd25Qcm9wZXJ0eUtleXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlLZXlzKGtleVR5cGUpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcIm93bktleXNcIik7XG5cblx0XHRcdHZhciBwcm94eU1ldGhvZCA9IGdldFByb3h5TWV0aG9kKHRoaXMsIFwib3duS2V5c1wiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5nZXRPd25Qcm9wZXJ0eUtleXMoa2V5VHlwZSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcm94eUtleXMgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KSgoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldF0pKSkpO1xuXHRcdFx0dmFyIHJhd0tleXMgPSBwcm94eUtleXMubWFwKGRlbm9ybWFsaXplS2V5KTtcblx0XHRcdHZhciB0YXJnZXRLZXlzID0gdGhpcy50YXJnZXQuZ2V0T3duUHJvcGVydHlLZXlzKCk7XG5cblx0XHRcdGlmICghdGhpcy50YXJnZXQuaXNFeHRlbnNpYmxlKCkpIHtcblx0XHRcdFx0aWYgKHJhd0tleXMubGVuZ3RoICE9PSB0YXJnZXRLZXlzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcIm93bktleXNcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodGFyZ2V0S2V5cy5zb21lKGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJhd0tleXMuaW5kZXhPZihrKSA9PT0gLTE7XG5cdFx0XHRcdH0pKSB7XG5cdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwib3duS2V5c1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGZpeGVkS2V5cyA9IHRhcmdldEtleXMuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdFx0cmV0dXJuICFfdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoaykuY29uZmlndXJhYmxlO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGZpeGVkS2V5cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0aWYgKGZpeGVkS2V5cy5zb21lKGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmF3S2V5cy5pbmRleE9mKGspID09PSAtMTtcblx0XHRcdFx0XHR9KSkge1xuXHRcdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwib3duS2V5c1wiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJhd0tleXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldEl0ZXJhdG9yXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldEl0ZXJhdG9yKCkge1xuXHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwiZW51bWVyYXRlXCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImVudW1lcmF0ZVwiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5nZXRJdGVyYXRvcigpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVzdWx0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXRdKSk7XG5cdFx0XHRpZiAoIWNvbnRyYWN0cy5pc09iamVjdChyZXN1bHQpKSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImVudW1lcmF0ZVwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoa2V5LCB2YWx1ZSkge1xuXHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwic2V0XCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcInNldFwiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHZhciBfdGFyZ2V0NDtcblxuXHRcdFx0XHRyZXR1cm4gKF90YXJnZXQ0ID0gdGhpcy50YXJnZXQpLnNldFZhbHVlLmFwcGx5KF90YXJnZXQ0LCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW52ID0gdGhpc1tlbnZTeW1ib2xdO1xuXHRcdFx0dmFyIGFyZ3MgPSBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSksIHZhbHVlLCB0aGlzXTtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBhcmdzKSkpO1xuXHRcdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0XHR2YXIgcHJvcEluZm8gPSB0aGlzLnRhcmdldC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRpZiAocHJvcEluZm8gJiYgIXByb3BJbmZvLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdHZhciB0YXJnZXRWYWx1ZSA9IHByb3BJbmZvLmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0aWYgKHByb3BJbmZvLmRhdGFQcm9wZXJ0eSAmJiAhcHJvcEluZm8ud3JpdGFibGUgJiYgIWVudi5vcHMuYXJlU2FtZSh2YWx1ZSwgdGFyZ2V0VmFsdWUpKSB7XG5cdFx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJzZXRcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFwcm9wSW5mby5kYXRhUHJvcGVydHkgJiYgY29udHJhY3RzLmlzVW5kZWZpbmVkKHByb3BJbmZvLnNldCkpIHtcblx0XHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcInNldFwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmV2b2tlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJldm9rZSgpIHtcblx0XHRcdHRoaXMucmV2b2tlZCA9IHRydWU7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFByb3h5VHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLlByb3h5VHlwZSA9IFByb3h5VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgUmVnZXhUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoUmVnZXhUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gUmVnZXhUeXBlKHZhbHVlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZ2V4VHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSZWdleFR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuc291cmNlID0gdmFsdWU7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIlJlZ0V4cFwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFJlZ2V4VHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KGVudikge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVnZXhUeXBlLnByb3RvdHlwZSksIFwiaW5pdFwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0dmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuXHRcdFx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHRcdFx0Ly8gbGFzdEluZGV4IGlzIHNldHRhYmxlLCBhbGwgb3RoZXJzIGFyZSByZWFkLW9ubHkgYXR0cmlidXRlc1xuXHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImxhc3RJbmRleFwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLnNvdXJjZS5sYXN0SW5kZXgpLCB3cml0YWJsZTogdHJ1ZSB9KTtcblxuXHRcdFx0W1wic291cmNlXCIsIFwiZ2xvYmFsXCIsIFwiaWdub3JlQ2FzZVwiLCBcIm11bHRpbGluZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0dmFyIGdldHRlciA9IGZ1bmN0aW9uIGdldHRlcigpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc291cmNlW2tleV0pO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR2YXIgZ2V0dGVyRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlR2V0dGVyKGdldHRlciwga2V5KTtcblxuXHRcdFx0XHRfdGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIHtcblx0XHRcdFx0XHRnZXR0ZXI6IGdldHRlcixcblx0XHRcdFx0XHRnZXQ6IGdldHRlckZ1bmMsXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJzb3VyY2VcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5zb3VyY2Uuc291cmNlKSB9KTtcblx0XHRcdC8vIHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJnbG9iYWxcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5zb3VyY2UuZ2xvYmFsKSB9KTtcblx0XHRcdC8vIHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJpZ25vcmVDYXNlXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMuc291cmNlLmlnbm9yZUNhc2UpIH0pO1xuXHRcdFx0Ly8gdGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcIm11bHRpbGluZVwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLnNvdXJjZS5tdWx0aWxpbmUpIH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLnNvdXJjZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUmVnZXhUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuUmVnZXhUeXBlID0gUmVnZXhUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBTZXRUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoU2V0VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFNldFR5cGUoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNldFR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2V0VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIlNldFwiO1xuXHRcdHRoaXMuc2V0RGF0YSA9IFtdO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFNldFR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChlbnYpIHtcblx0XHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFNldFR5cGUucHJvdG90eXBlKSwgXCJpbml0XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJzaXplXCIsIHtcblx0XHRcdFx0Z2V0dGVyOiBmdW5jdGlvbiBnZXR0ZXIoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzZWxmLnNldERhdGEubGVuZ3RoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiBnZXQoKSB7fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInZhbHVlc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZXMoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXREYXRhO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJrZXlzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGtleXMoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXREYXRhO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTZXRUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuU2V0VHlwZSA9IFNldFR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9wcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi9wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgU3RyaW5nVHlwZSA9IChmdW5jdGlvbiAoX1ByaW1pdGl2ZVR5cGUpIHtcblx0X2luaGVyaXRzKFN0cmluZ1R5cGUsIF9QcmltaXRpdmVUeXBlKTtcblxuXHRmdW5jdGlvbiBTdHJpbmdUeXBlKHZhbHVlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0cmluZ1R5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RyaW5nVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcywgdmFsdWUpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFN0cmluZ1R5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChlbnYpIHtcblx0XHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0cmluZ1R5cGUucHJvdG90eXBlKSwgXCJpbml0XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHR2YXIgbGVuZ3RoID0gdGhpcy52YWx1ZS5sZW5ndGg7XG5cblx0XHRcdHRoaXMucHJvcGVydGllcy5sZW5ndGggPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywge1xuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IGZhbHNlLFxuXHRcdFx0XHR2YWx1ZTogZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aClcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyB0b2RvOiBkbyB0aGlzIGxhemlseVxuXHRcdFx0dmFyIGNoYXJBdHRycyA9IHsgd3JpdGFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlIH07XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdC8vIHdlIGFyZSBub3QgdXNpbmcgdGhlIG9iamVjdCBmYWN0b3J5IHRvIGF2b2lkIGNpcmN1bGFyIGxvb3Bcblx0XHRcdFx0dmFyIGMgPSBuZXcgU3RyaW5nVHlwZSh0aGlzLnZhbHVlLmNoYXJBdChpKSk7XG5cdFx0XHRcdGMuc2V0UHJvdG90eXBlKHRoaXMuZ2V0UHJvcGVydHkoKSk7XG5cdFx0XHRcdGMuZGVmaW5lKFwiMFwiLCBjLCBjaGFyQXR0cnMpO1xuXG5cdFx0XHRcdHRoaXMuZGVmaW5lKGksIGMsIGNoYXJBdHRycyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFN0cmluZ1R5cGU7XG59KShfcHJpbWl0aXZlVHlwZS5QcmltaXRpdmVUeXBlKTtcblxuZXhwb3J0cy5TdHJpbmdUeXBlID0gU3RyaW5nVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgR0xPQkFMX1NZTUJPTF9SRUdJU1RSWSA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xudmFyIHVpZCA9IDA7XG5cbnZhciBTeW1ib2xUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoU3ltYm9sVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFN5bWJvbFR5cGUoZGVzY3JpcHRpb24pIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ltYm9sVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTeW1ib2xUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnR5cGUgPSBcInN5bWJvbFwiO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJTeW1ib2xcIjtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cdFx0dGhpcy51aWQgPSB1aWQrKztcblxuXHRcdC8vIGFkZCBzbyB3ZSBjYW4gZWFzaWx5IGNoZWNrIGlmIGFuIG9iamVjdCBpcyBhIHN5bWJvbCB3aGVuIHdlIGNhcmVcblx0XHR0aGlzLmlzU3ltYm9sID0gdHJ1ZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhTeW1ib2xUeXBlLCBbe1xuXHRcdGtleTogXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWZpbmVPd25Qcm9wZXJ0eShrZXksIGRlc2NyaXB0b3IpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoa2V5LCB2YWx1ZSwgdGFyZ2V0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIFwiU3ltYm9sKFwiICsgdGhpcy5kZXNjcmlwdGlvbiArIFwiKVwiO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b1N0cmluZ1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRcdC8vIHRoaXMgbWV0aG9kIGlzIGhlcmUgc28gc3ltYm9scyBjYW4gYmUgY29lcmNlZCBpbnRvIHN0cmluZ3MgZm9yIHByb3BlcnR5IGxvb2t1cHNcblx0XHRcdHJldHVybiBcIkBAXCIgKyB0aGlzLnVpZDtcblx0XHR9XG5cdH1dLCBbe1xuXHRcdGtleTogXCJhZGRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gYWRkKGtleSwgc3ltKSB7XG5cdFx0XHRHTE9CQUxfU1lNQk9MX1JFR0lTVFJZW2tleV0gPSBzeW07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldEJ5S2V5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldEJ5S2V5KGtleSkge1xuXHRcdFx0cmV0dXJuIEdMT0JBTF9TWU1CT0xfUkVHSVNUUllba2V5XTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0QnlJbnN0YW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRCeUluc3RhbmNlKHN5bSkge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIEdMT0JBTF9TWU1CT0xfUkVHSVNUUlkpIHtcblx0XHRcdFx0aWYgKHN5bSA9PT0gR0xPQkFMX1NZTUJPTF9SRUdJU1RSWVtrZXldKSB7XG5cdFx0XHRcdFx0cmV0dXJuIEdMT0JBTF9TWU1CT0xfUkVHSVNUUllba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTeW1ib2xUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuU3ltYm9sVHlwZSA9IFN5bWJvbFR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWNsYXJlID0gZGVjbGFyZTtcbmV4cG9ydHMuYXNzaWduID0gYXNzaWduO1xudmFyIG1hcmtlZDAkMCA9IFtkZWNsYXJlLCBhc3NpZ24sIGRlc3RydWN0dXJlLCBoYW5kbGVEZWZhdWx0LCBkZXN0cnVjdHVyZUFycmF5LCBnZXRPYmplY3RLZXksIGRlc3RydWN0dXJlT2JqZWN0XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfYXN5bmMgPSByZXF1aXJlKFwiLi9hc3luY1wiKTtcblxudmFyIF9uYXRpdmUgPSByZXF1aXJlKFwiLi9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIGRlY2xhcmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSkge1xuXHR2YXIgbGVmdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZWNsYXJlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghKGxlZnROb2RlLnR5cGUgPT09IFwiSWRlbnRpZmllclwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGVmdCA9IGVudi5jcmVhdGVWYXJpYWJsZShsZWZ0Tm9kZS5uYW1lKTtcblxuXHRcdFx0XHRsZWZ0LnNldFZhbHVlKHJpZ2h0VmFsdWUpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBkZXN0cnVjdHVyZShlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBkZWNsYXJlKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBhc3NpZ24oZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSkge1xuXHR2YXIgbGVmdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBhc3NpZ24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBsZWZ0Tm9kZS50eXBlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gY29udGV4dCQxJDAudDAgPT09IFwiSWRlbnRpZmllclwiID8gMyA6IGNvbnRleHQkMSQwLnQwID09PSBcIk1lbWJlckV4cHJlc3Npb25cIiA/IDMgOiA4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGxlZnROb2RlKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRcdGxlZnQuc2V0VmFsdWUocmlnaHRWYWx1ZSk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMCk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gZGVzdHJ1Y3R1cmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgYXNzaWduKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByaWdodFZhbHVlKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc3RydWN0dXJlKGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUsIGNiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzdHJ1Y3R1cmUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBsZWZ0Tm9kZS50eXBlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gY29udGV4dCQxJDAudDAgPT09IFwiQXJyYXlQYXR0ZXJuXCIgPyAzIDogY29udGV4dCQxJDAudDAgPT09IFwiT2JqZWN0UGF0dGVyblwiID8gNiA6IGNvbnRleHQkMSQwLnQwID09PSBcIkFzc2lnbm1lbnRQYXR0ZXJuXCIgPyA5IDogMTI7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gZGVzdHJ1Y3R1cmVBcnJheShlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBjYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDEzKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0cmV0dXJuIGRlc3RydWN0dXJlT2JqZWN0KGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUsIGNiKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTMpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIGhhbmRsZURlZmF1bHQoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgY2IpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTMpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IobGVmdE5vZGUudHlwZSArIFwiIG5vdCBpbXBsZW1lbnRlZFwiKTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlZmF1bHQoZW52LCBsZWZ0LCByaWdodFZhbHVlLCBjYikge1xuXHR2YXIgZGVmYXVsdFZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGhhbmRsZURlZmF1bHQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCEocmlnaHRWYWx1ZSA9PT0gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGxlZnQucmlnaHQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRkZWZhdWx0VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdHJpZ2h0VmFsdWUgPSBkZWZhdWx0VmFsdWUucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBjYihlbnYsIGxlZnQubGVmdCwgcmlnaHRWYWx1ZSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFszXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlc3RydWN0dXJlQXJyYXkoZW52LCBwYXR0ZXJuLCBhcnIsIGNiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzdHJ1Y3R1cmVBcnJheSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfYXN5bmMuZWFjaCkocGF0dGVybi5lbGVtZW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY3VycmVudCwgaW5kZXgpIHtcblx0XHRcdFx0XHR2YXIgcHJvcEluZm8sIHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRwcm9wSW5mbyA9IGFyci5nZXRQcm9wZXJ0eShpbmRleCk7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwcm9wSW5mbyA/IHByb3BJbmZvLmdldFZhbHVlKCkgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IoZW52LCBjdXJyZW50LCB2YWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXRPYmplY3RLZXkoZW52LCBrZXlOb2RlKSB7XG5cdHZhciBrZXk7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0T2JqZWN0S2V5JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICgha2V5Tm9kZS5jb21wdXRlZCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChrZXlOb2RlKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0a2V5ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRpZiAoIWtleS5pc1N5bWJvbCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBrZXkpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9TdHJpbmcpKGtleSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGtleU5vZGUubmFtZSk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZXN0cnVjdHVyZU9iamVjdChlbnYsIHBhdHRlcm4sIG9iaiwgY2IpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXN0cnVjdHVyZU9iamVjdCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfYXN5bmMuZWFjaCkocGF0dGVybi5wcm9wZXJ0aWVzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjdXJyZW50KSB7XG5cdFx0XHRcdFx0dmFyIGtleSwgcHJvcEluZm8sIHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0T2JqZWN0S2V5KGVudiwgY3VycmVudC5rZXkpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdHByb3BJbmZvID0gb2JqLmdldFByb3BlcnR5KGtleSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBwcm9wSW5mbyA/IHByb3BJbmZvLmdldFZhbHVlKCkgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IoZW52LCBjdXJyZW50LnZhbHVlLCB2YWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNl0sIHRoaXMpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9Qcm9taXNlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubWFwID0gbWFwO1xuZXhwb3J0cy5lYWNoID0gZWFjaDtcbmV4cG9ydHMuc3RlcCA9IHN0ZXA7XG5leHBvcnRzLmV4aGF1c3QgPSBleGhhdXN0O1xuZXhwb3J0cy5wcm9taXNpZnkgPSBwcm9taXNpZnk7XG52YXIgbWFya2VkMCQwID0gW21hcCwgZWFjaCwgc3RlcF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnJlcXVpcmUoXCIuLi9wb2x5ZmlsbHNcIik7XG5cbnZhciBvYmplY3RPckZ1bmN0aW9uVHlwZXMgPSB7IFwib2JqZWN0XCI6IHRydWUsIFwiZnVuY3Rpb25cIjogdHJ1ZSB9O1xuZnVuY3Rpb24gaXNPYmplY3RPckZ1bmN0aW9uKG9iaikge1xuXHRyZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogaW4gb2JqZWN0T3JGdW5jdGlvblR5cGVzO1xufVxuXG5mdW5jdGlvbiBpc1RoZW5hYmxlKG9iaikge1xuXHRyZXR1cm4gaXNPYmplY3RPckZ1bmN0aW9uKG9iaikgJiYgdHlwZW9mIG9iai50aGVuID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGlzTmV4dGFibGUob2JqKSB7XG5cdHJldHVybiBpc09iamVjdE9yRnVuY3Rpb24ob2JqKSAmJiB0eXBlb2Ygb2JqLm5leHQgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuZnVuY3Rpb24gbWFwKGFyciwgZnVuYykge1xuXHR2YXIgbWFwcGVkLCBpLCBsbjtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBtYXAkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0bWFwcGVkID0gW107XG5cdFx0XHRcdGkgPSAwLCBsbiA9IGFyci5sZW5ndGg7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCEoaSA8IGxuKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gbWFwcGVkO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChmdW5jKGFycltpXSwgaSwgYXJyKSwgXCJ0MVwiLCA1KTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MiA9IGNvbnRleHQkMSQwLnQxO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MC5wdXNoLmNhbGwoY29udGV4dCQxJDAudDAsIGNvbnRleHQkMSQwLnQyKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpKys7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBtYXBwZWQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZWFjaChhcnIsIGZ1bmMpIHtcblx0dmFyIGFib3J0LCBhYm9ydGVyLCBpLCBsbjtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBlYWNoJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGFib3J0ID0gZmFsc2U7XG5cblx0XHRcdFx0YWJvcnRlciA9IGZ1bmN0aW9uIGFib3J0ZXIoKSB7XG5cdFx0XHRcdFx0YWJvcnQgPSB0cnVlO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGkgPSAwLCBsbiA9IGFyci5sZW5ndGg7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aWYgKCEoaSA8IGxuKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKGZ1bmMoYXJyW2ldLCBpLCBhcnIsIGFib3J0ZXIpLCBcInQwXCIsIDUpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGlmICghYWJvcnQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMCk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBzdGVwKGl0LCBwcmV2KSB7XG5cdHZhciByZXN1bHQsIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHN0ZXAkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0cmVzdWx0ID0gaXQubmV4dChwcmV2KTtcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQudmFsdWU7XG5cblx0XHRcdFx0aWYgKCFpc05leHRhYmxlKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoc3RlcCh2YWx1ZSksIFwidDBcIiwgNCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGlmICghaXNUaGVuYWJsZSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGl0O1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRpZiAoIXJlc3VsdC5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0cmV0dXJuIHN0ZXAoaXQsIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbi8qKlxyXG4gKiBGdWxseSBleGhhdXN0cyBhbiBpdGVyYXRvciwgaW5jbHVkaW5nIGRlbGVnYXRlZCBnZW5lcmF0b3JzLlxyXG4gKiBTcGVjaWFsIGhhbmRsaW5nIGlzIHRha2VuIGlmIGEgUHJvbWlzZSBpcyByZXR1cm5lZCwgcGF1c2luZ1xyXG4gKiB0aGUgZ2VuZXJhdG9yIHVudGlsIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0l0ZXJhdG9yfSBbaXRdIC0gVGhlIGl0ZXJhdG9yXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJldl0gLSBUaGUgcHJldmlvdXMgaXRlcmF0aW9uIHZhbHVlIChpbnRlcm5hbClcclxuICogQHJldHVybnMge09iamVjdHxQcm9taXNlfSBSZXR1cm5zIHRoZSBmaW5hbCB2YWx1ZSwgb3IgYSBQcm9taXNlIGlmXHJcbiAqIGF0IGFueSBwb2ludCBpbiB0aGUgaXRlcmF0aW9uIGEgUHJvbWlzZSBpcyByZXR1cm5lZC5cclxuICovXG5cbmZ1bmN0aW9uIGV4aGF1c3QoX3gsIF94Mikge1xuXHR2YXIgX2FnYWluID0gdHJ1ZTtcblxuXHRfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHtcblx0XHR2YXIgaXQgPSBfeCxcblx0XHQgICAgcHJldiA9IF94Mjtcblx0XHRyZXN1bHQgPSB2YWx1ZSA9IGUgPSB1bmRlZmluZWQ7XG5cdFx0X2FnYWluID0gZmFsc2U7XG5cblx0XHQvLyBzYW5pdHkgY2hlY2tcblx0XHRpZiAoIWlzTmV4dGFibGUoaXQpKSB7XG5cdFx0XHRyZXR1cm4gaXQ7XG5cdFx0fVxuXG5cdFx0dmFyIHJlc3VsdCA9IGl0Lm5leHQocHJldik7XG5cdFx0dmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuXG5cdFx0aWYgKGlzTmV4dGFibGUodmFsdWUpKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YWx1ZSA9IGV4aGF1c3QodmFsdWUpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdC8vIGNhc2NhZGUgdGhlIGVycm9yIHVwc3RyZWFtXG5cdFx0XHRcdHZhciBlID0gaXRbXCJ0aHJvd1wiXShlcnIpO1xuXHRcdFx0XHRfeCA9IGUudmFsdWU7XG5cdFx0XHRcdF94MiA9IHVuZGVmaW5lZDtcblx0XHRcdFx0X2FnYWluID0gdHJ1ZTtcblx0XHRcdFx0Y29udGludWUgX2Z1bmN0aW9uO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChyZXN1bHQuZG9uZSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmIChpc1RoZW5hYmxlKHZhbHVlKSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRyZXR1cm4gZXhoYXVzdChpdCwgcmVzKTtcblx0XHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIGl0W1widGhyb3dcIl0oZXJyKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdF94ID0gaXQ7XG5cdFx0X3gyID0gdmFsdWU7XG5cdFx0X2FnYWluID0gdHJ1ZTtcblx0XHRjb250aW51ZSBfZnVuY3Rpb247XG5cdH1cbn1cblxuLyoqXHJcbiAqIE5vcm1hbGl6ZXMgYSByZXN1bHQgaW50byBhIHByb21pc2UsIHdoZXRoZXIgaXQgaXMgYSBnZW5lcmF0b3IsIHByb21pc2UsXHJcbiAqIG9yIG5vcm1hbCB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHtJdGVyYXRvcn0gW2l0XSAtIFRoZSBpdGVyYXRvci5cclxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyBvciByZWplY3RzIGJhc2VkIG9uIHRoZSByZXN1bHQuXHJcbiAqL1xuXG5mdW5jdGlvbiBwcm9taXNpZnkoaXQpIHtcblx0dHJ5IHtcblx0XHR2YXIgcmVzdWx0ID0gZXhoYXVzdChpdCk7XG5cdFx0aWYgKGlzTmV4dGFibGUocmVzdWx0KSkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRyZXR1cm4gX1Byb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRyZXR1cm4gX1Byb21pc2UucmVqZWN0KGVyci50b05hdGl2ZSgpKTtcblx0fVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hc3NlcnRJc09iamVjdCA9IGFzc2VydElzT2JqZWN0O1xuZXhwb3J0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCA9IGFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkO1xuZXhwb3J0cy5hc3NlcnRBcmdJc05vdE51bGxPclVuZGVmaW5lZCA9IGFzc2VydEFyZ0lzTm90TnVsbE9yVW5kZWZpbmVkO1xuZXhwb3J0cy5hc3NlcnRJc0Z1bmN0aW9uID0gYXNzZXJ0SXNGdW5jdGlvbjtcbmV4cG9ydHMuYXNzZXJ0SXNOb3RDb25zdHJ1Y3RvciA9IGFzc2VydElzTm90Q29uc3RydWN0b3I7XG5leHBvcnRzLmFzc2VydElzQ29uc3RydWN0b3IgPSBhc3NlcnRJc0NvbnN0cnVjdG9yO1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGggPSBhc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGg7XG5leHBvcnRzLmFzc2VydElzVmFsaWRBc3NpZ25tZW50ID0gYXNzZXJ0SXNWYWxpZEFzc2lnbm1lbnQ7XG5leHBvcnRzLmFzc2VydElzVmFsaWRQYXJhbWV0ZXJOYW1lID0gYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWU7XG5leHBvcnRzLmFzc2VydElzVmFsaWROYW1lID0gYXNzZXJ0SXNWYWxpZE5hbWU7XG5leHBvcnRzLmFzc2VydElzTm90R2VuZXJpYyA9IGFzc2VydElzTm90R2VuZXJpYztcbmV4cG9ydHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIgPSBhc3NlcnRJc1ZhbGlkSWRlbnRpZmllcjtcbmV4cG9ydHMuYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMgPSBhc3NlcnRBcmVWYWxpZEFyZ3VtZW50cztcbmV4cG9ydHMuYXNzZXJ0SXNNYXAgPSBhc3NlcnRJc01hcDtcbmV4cG9ydHMuYXNzZXJ0SXNTZXQgPSBhc3NlcnRJc1NldDtcbmV4cG9ydHMuaXNWYWxpZEFycmF5TGVuZ3RoID0gaXNWYWxpZEFycmF5TGVuZ3RoO1xuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuZXhwb3J0cy5pc09jdGFsTGl0ZXJhbCA9IGlzT2N0YWxMaXRlcmFsO1xuZXhwb3J0cy5nZXRUeXBlID0gZ2V0VHlwZTtcbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmV4cG9ydHMuaXNDb25zdHJ1Y3RvciA9IGlzQ29uc3RydWN0b3I7XG5leHBvcnRzLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbmV4cG9ydHMuaXNTdHJpY3ROb2RlID0gaXNTdHJpY3ROb2RlO1xuXG52YXIgX2tleXdvcmRzID0gcmVxdWlyZShcIi4uL2tleXdvcmRzXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF9uYXRpdmUgPSByZXF1aXJlKFwiLi9uYXRpdmVcIik7XG5cbnZhciBvYmplY3RQYXR0ZXJuID0gL1xcW29iamVjdCAoXFx3KylcXF0vO1xudmFyIGludGVnZXJQYXR0ZXJuID0gL14tP1xcZCskLztcbnZhciBvY3RhbFBhdHRlcm4gPSAvXi0/MFswLTddLztcbnZhciBvY3RhbEVzY2FwZVBhdHRlcm4gPSAvXihbXlxcXFxdfFxcXFxbXjAtN10pKlxcXFwoWzAtM11bMC03XXsxLDJ9fFs0LTddWzAtN118WzAtN10pLztcbnZhciB1c2VTdHJpY3RQYXR0ZXJuID0gL15cXHMqKD86J3VzZSBzdHJpY3QnfFwidXNlIHN0cmljdFwiKVxccyo7P1xccyokLztcblxuZnVuY3Rpb24gYXNzZXJ0SXNPYmplY3Qob2JqLCBtZXRob2ROYW1lKSB7XG5cdGlmICghaXNPYmplY3Qob2JqKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHZhbHVlLCBtZXRob2ROYW1lKSB7XG5cdGlmIChpc051bGxPclVuZGVmaW5lZCh2YWx1ZSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKG1ldGhvZE5hbWUgKyBcIiBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWRcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0QXJnSXNOb3ROdWxsT3JVbmRlZmluZWQob2JqKSB7XG5cdGlmIChpc051bGxPclVuZGVmaW5lZChvYmopKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IG51bGwgb3IgdW5kZWZpbmVkIHRvIG9iamVjdFwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc0Z1bmN0aW9uKG9iaiwgYXJnTmFtZSkge1xuXHRpZiAoIWlzRnVuY3Rpb24ob2JqKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYXJnTmFtZSArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTm90Q29uc3RydWN0b3IoY29udGV4dCwgbWV0aG9kTmFtZSkge1xuXHRpZiAoY29udGV4dC5pc05ldykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzQ29uc3RydWN0b3IoY29udGV4dCwgbWV0aG9kTmFtZSkge1xuXHRpZiAoIWNvbnRleHQuaXNOZXcpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKG1ldGhvZE5hbWUgKyBcIiBtdXN0IGJlIGNhbGxlZCB3aXRoICduZXcnXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzVmFsaWRBcnJheUxlbmd0aChsZW5ndGgpIHtcblx0aWYgKCFpc1ZhbGlkQXJyYXlMZW5ndGgobGVuZ3RoKSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBhcnJheSBsZW5ndGhcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZEFzc2lnbm1lbnQobGVmdCwgc3RyaWN0KSB7XG5cdGlmIChsZWZ0ICYmICFsZWZ0LmlzUmVmZXJlbmNlKSB7XG5cdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiSW52YWxpZCBsZWZ0LWhhbmQgc2lkZSBpbiBhc3NpZ25tZW50XCIpO1xuXHR9XG5cblx0aWYgKGxlZnQgJiYgbGVmdC5iYXNlID09PSBsZWZ0LmVudi5nbG9iYWwpIHtcblx0XHRhc3NlcnRJc1ZhbGlkTmFtZShsZWZ0Lm5hbWUsIHN0cmljdCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWUobmFtZSwgc3RyaWN0KSB7XG5cdGlmICgvXlxcZHxbO1xcKFxcKVwiJ10vLnRlc3QobmFtZSkpIHtcblx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIHRva2VuIGluIFwiICsgbmFtZSk7XG5cdH1cblxuXHRhc3NlcnRJc1ZhbGlkTmFtZShuYW1lLCBzdHJpY3QpO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1ZhbGlkTmFtZShuYW1lLCBzdHJpY3QpIHtcblx0aWYgKHN0cmljdCAmJiAobmFtZSA9PT0gXCJhcmd1bWVudHNcIiB8fCBuYW1lID09PSBcImV2YWxcIikpIHtcblx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIGV2YWwgb3IgYXJndW1lbnRzIGluIHN0cmljdCBtb2RlXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTm90R2VuZXJpYyhvYmosIGV4cGVjdGVkQ2xhc3MsIG1ldGhvZE5hbWUpIHtcblx0aWYgKCFvYmogfHwgb2JqLmNsYXNzTmFtZSAhPT0gZXhwZWN0ZWRDbGFzcykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGlzIG5vdCBnZW5lcmljXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzVmFsaWRJZGVudGlmaWVyKG5hbWUsIHN0cmljdCkge1xuXHRpZiAoKDAsIF9rZXl3b3Jkcy5pc1Jlc2VydmVkKShuYW1lKSkge1xuXHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIklsbGVnYWwgdXNlIG9mIHJlc2VydmVkIGtleXdvcmQ6IFwiICsgbmFtZSk7XG5cdH1cblxuXHRpZiAoc3RyaWN0ICYmICgwLCBfa2V5d29yZHMuaXNTdHJpY3RSZXNlcnZlZCkobmFtZSkpIHtcblx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJJbGxlZ2FsIHVzZSBvZiBzdHJpY3QgbW9kZSByZXNlcnZlZCBrZXl3b3JkOiBcIiArIG5hbWUpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFyZVZhbGlkQXJndW1lbnRzKHBhcmFtcywgc3RyaWN0KSB7XG5cdHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSwgaW5kZXgpIHtcblx0XHRhc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZShwYXJhbS5uYW1lLCBzdHJpY3QpO1xuXG5cdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0aWYgKHBhcmFtcy5zb21lKGZ1bmN0aW9uIChwLCBpKSB7XG5cdFx0XHRcdHJldHVybiBpbmRleCAhPT0gaSAmJiBwYXJhbS5uYW1lID09PSBwLm5hbWU7XG5cdFx0XHR9KSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJTdHJpY3QgbW9kZSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgZHVwbGljYXRlIHBhcmFtZXRlciBuYW1lc1wiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRJc01hcChvYmosIG1ldGhvZE5hbWUpIHtcblx0aWYgKCFvYmogfHwgb2JqLmNsYXNzTmFtZSAhPT0gXCJNYXBcIikge1xuXHRcdHRocm93IFR5cGVFcnJvcihcIlRoZSBvYmplY3QgbXVzdCBiZSBhIG1hcCB3aGVuIGNhbGxpbmcgXCIgKyBtZXRob2ROYW1lKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1NldChvYmopIHtcblx0cmV0dXJuIG9iaiAmJiBvYmouY2xhc3NOYW1lID09PSBcIlNldFwiO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkQXJyYXlMZW5ndGgobGVuZ3RoKSB7XG5cdHJldHVybiBpc0ludGVnZXIobGVuZ3RoKSAmJiBsZW5ndGggPj0gMCAmJiBsZW5ndGggPCA0Mjk0OTY3Mjk2O1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcblx0aWYgKCFvYmopIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAob2JqLmlzU3ltYm9sKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKG9iai5pc1ByaW1pdGl2ZSkge1xuXHRcdHJldHVybiBvYmoudmFsdWUgJiYgb2JqLnR5cGUgPT09IFwib2JqZWN0XCI7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNSZWdFeHAob2JqKSB7XG5cdGlmICghaXNPYmplY3Qob2JqKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHZhciBtYXRjaEtleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIm1hdGNoXCIpO1xuXHR2YXIgbWF0Y2hQcm9wID0gb2JqLmdldFByb3BlcnR5KG1hdGNoS2V5KTtcblx0aWYgKG1hdGNoUHJvcCkge1xuXHRcdHZhciBtYXRjaFZhbHVlID0gbWF0Y2hQcm9wLmdldFZhbHVlKCk7XG5cdFx0aWYgKCFpc1VuZGVmaW5lZChtYXRjaFZhbHVlKSkge1xuXHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvQm9vbGVhbikobWF0Y2hWYWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG9iai5jbGFzc05hbWUgPT09IFwiUmVnRXhwXCI7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuXHRyZXR1cm4gb2JqICYmIG9iai50eXBlID09PSBcIm51bWJlclwiO1xufVxuXG5mdW5jdGlvbiBpc09jdGFsTGl0ZXJhbChyYXdWYWx1ZSwgYWN0dWFsVmFsdWUpIHtcblx0aWYgKHR5cGVvZiBhY3R1YWxWYWx1ZSA9PT0gXCJudW1iZXJcIiAmJiBvY3RhbFBhdHRlcm4udGVzdChyYXdWYWx1ZSkpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICh0eXBlb2YgYWN0dWFsVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHR2YXIgbWF0Y2ggPSByYXdWYWx1ZS5tYXRjaChvY3RhbEVzY2FwZVBhdHRlcm4pO1xuXHRcdGlmIChtYXRjaCkge1xuXHRcdFx0Ly8gXFwwIGlzIGFjdHVhbGx5IG5vdCBjb25zaWRlcmVkIGFuIG9jdGFsXG5cdFx0XHRpZiAobWF0Y2hbMl0gIT09IFwiMFwiIHx8IHR5cGVvZiBtYXRjaFszXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFR5cGUob2JqKSB7XG5cdHJldHVybiBvYmplY3RQYXR0ZXJuLmV4ZWMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpWzFdO1xufVxuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChvYmopIHtcblx0cmV0dXJuIGlzVW5kZWZpbmVkKG9iaikgfHwgaXNOdWxsKG9iaik7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuXHRyZXR1cm4gIW9iaiB8fCBvYmouaXNQcmltaXRpdmUgJiYgb2JqLnZhbHVlID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTnVsbChvYmopIHtcblx0cmV0dXJuIG9iaiAmJiBvYmouaXNQcmltaXRpdmUgJiYgb2JqLnZhbHVlID09PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuXHRyZXR1cm4gISFvYmogJiYgb2JqLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiO1xufVxuXG5mdW5jdGlvbiBpc0NvbnN0cnVjdG9yKG9iaikge1xuXHRpZiAoIWlzRnVuY3Rpb24ob2JqKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChvYmouYXJyb3cgfHwgb2JqLmJ1aWx0SW4pIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gaW50ZWdlclBhdHRlcm4udGVzdCh2YWx1ZSk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG5cdFx0cmV0dXJuIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzRGlyZWN0aXZlKG5vZGUpIHtcblx0cmV0dXJuIG5vZGUudHlwZSA9PT0gXCJFeHByZXNzaW9uU3RhdGVtZW50XCIgJiYgbm9kZS5leHByZXNzaW9uLnR5cGUgPT09IFwiTGl0ZXJhbFwiICYmIHR5cGVvZiBub2RlLmV4cHJlc3Npb24udmFsdWUgPT09IFwic3RyaW5nXCI7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaWN0Tm9kZShfeCkge1xuXHR2YXIgX2FnYWluID0gdHJ1ZTtcblxuXHRfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHtcblx0XHR2YXIgbm9kZXMgPSBfeDtcblx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gX2RpZEl0ZXJhdG9yRXJyb3IgPSBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRfYWdhaW4gPSBmYWxzZTtcblxuXHRcdGlmICghbm9kZXMpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShub2RlcykpIHtcblx0XHRcdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0dmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmb3IgKHZhciBfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3Iobm9kZXMpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdFx0XHRcdFx0dmFyIG5vZGUgPSBfc3RlcC52YWx1ZTtcblxuXHRcdFx0XHRcdGlmICghaXNEaXJlY3RpdmUobm9kZSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAobm9kZS5leHByZXNzaW9uLnZhbHVlID09PSBcInVzZSBzdHJpY3RcIiAmJiB1c2VTdHJpY3RQYXR0ZXJuLnRlc3Qobm9kZS5leHByZXNzaW9uLnJhdykpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKG5vZGVzLmJvZHkpIHtcblx0XHRcdF94ID0gbm9kZXMuYm9keTtcblx0XHRcdF9hZ2FpbiA9IHRydWU7XG5cdFx0XHRjb250aW51ZSBfZnVuY3Rpb247XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5leGVjdXRlID0gZXhlY3V0ZTtcbmV4cG9ydHMuY29uc3RydWN0ID0gY29uc3RydWN0O1xuZXhwb3J0cy5jYWxsID0gY2FsbDtcbmV4cG9ydHMudHJ5RXhlY3V0ZSA9IHRyeUV4ZWN1dGU7XG52YXIgbWFya2VkMCQwID0gW2V4ZWN1dGUsIGNvbnN0cnVjdCwgY2FsbCwgdHJ5RXhlY3V0ZV0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5mdW5jdGlvbiBleGVjdXRlKGVudiwgZm4sIGFyZ3MsIHRoaXNBcmcsIGNhbGxlZSwgaXNOZXcpIHtcblx0dmFyIHJldHVyblJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBleGVjdXRlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNhbGxlZSA9IGNhbGxlZSB8fCBmbjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBmbltpc05ldyA/IFwiY29uc3RydWN0XCIgOiBcImNhbGxcIl0odGhpc0FyZywgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm5SZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJldHVyblJlc3VsdCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdChlbnYsIGZuKSB7XG5cdHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMl07XG5cdHZhciBjYWxsZWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY29uc3RydWN0JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNhbGxlZSA9IGZuLm5vZGUgfHwgZm47XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZShlbnYsIGZuLCBhcmdzLCBudWxsLCBjYWxsZWUsIHRydWUpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNhbGwoZW52LCBmbiwgcGFyYW1zLCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzQXJnLCBhcmdzLCBjYWxsZWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbi8vIGxldCBzY29wZSA9IGVudi5jcmVhdGVFeGVjdXRpb25TY29wZShmbiwgdGhpc0FyZyk7XG4vLyB5aWVsZCBzY29wZS5sb2FkQXJncyhwYXJhbXMsIGFyZ3MsIGZuKTtcbi8vIHNjb3BlLmluaXQoZm4ubm9kZSAmJiBmbi5ub2RlLmJvZHkpO1xuXG4vLyByZXR1cm4geWllbGQgc2NvcGUudXNlKGZ1bmN0aW9uKiAoKSB7XG4vLyBcdHJldHVybiB5aWVsZCBmbi5jYWxsKGVudiwgdGhpc0FyZywgYXJncywgY2FsbGVlKTtcbi8vIFx0Ly8gaWYgKGZuLm5hdGl2ZSkge1xuLy8gXHQvLyBcdHJldHVybiB5aWVsZCBmbi5uYXRpdmVGdW5jdGlvbi5hcHBseShlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dCh0aGlzQXJnLCBjYWxsZWUpLCBhcmdzKTtcbi8vIFx0Ly8gfVxuXG4vLyBcdC8vIHJldHVybiB5aWVsZCBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChmbi5ub2RlLmJvZHksIGNhbGxlZSkuZXhlY3V0ZSgpO1xuLy8gfSk7XG5cbmZ1bmN0aW9uIHRyeUV4ZWN1dGUob2JqLCBuYW1lKSB7XG5cdHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMl07XG5cdHZhciBmbiwgZXhlY3V0aW9uUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRyeUV4ZWN1dGUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Zm4gPSBvYmouZ2V0UHJvcGVydHkobmFtZSk7XG5cblx0XHRcdFx0aWYgKGZuKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhbHNlKTtcblxuXHRcdFx0Y2FzZSAzOlxuXG5cdFx0XHRcdGZuID0gZm4uZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRpZiAoIShmbiAmJiBmbi5jbGFzc05hbWUgPT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gZm4uY2FsbChvYmosIGFyZ3MsIGZuKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdCA/IGV4ZWN1dGlvblJlc3VsdC5nZXRWYWx1ZSgpIDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzNdLCB0aGlzKTtcbn1cblxuLy8gLy8gbGV0IGYgPSBmbi5ub2RlIHx8IGZuO1xuLy8gLy8gbGV0IHBhcmFtcyA9IGYucGFyYW1zIHx8IFtdO1xuXG4vLyBsZXQgc2NvcGUgPSBlbnYuY3JlYXRlRXhlY3V0aW9uU2NvcGUoZm4sIHRoaXNBcmcpO1xuLy8gLy8gbGV0IHJldHVyblJlc3VsdDtcblxuLy8gLy8gaWYgKGlzTmV3KSB7XG4vLyAvLyBcdHJldHVyblJlc3VsdCA9IHRoaXNBcmc7XG4vLyAvLyB9XG5cbi8vIC8vIHlpZWxkIHNjb3BlLmxvYWRBcmdzKHBhcmFtcywgYXJncywgZm4pO1xuLy8gLy8gc2NvcGUuaW5pdChmbi5ub2RlICYmIGZuLm5vZGUuYm9keSk7XG5cbi8vIGxldCByZXR1cm5SZXN1bHQgPSB5aWVsZCBzY29wZS51c2UoZnVuY3Rpb24qICgpIHtcbi8vIFx0cmV0dXJuIHlpZWxkIGZuW2lzTmV3ID8gXCJjb25zdHJ1Y3RcIiA6IFwiY2FsbFwiXShlbnYsIHRoaXNBcmcsIGFyZ3MsIGNhbGxlZSk7XG5cbi8vIFx0Ly8gaWYgKGZuLm5hdGl2ZSkge1xuLy8gXHQvLyBcdHJldHVybiB5aWVsZCBmbi5uYXRpdmVGdW5jdGlvbi5hcHBseShlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dCh0aGlzQXJnLCBjYWxsZWUsIGlzTmV3KSwgYXJncykgfHwgcmV0dXJuUmVzdWx0O1xuLy8gXHQvLyB9XG5cbi8vIFx0Ly8gbGV0IGV4ZWN1dGlvblJlc3VsdCA9IHlpZWxkIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGZuLm5vZGUuYm9keSwgY2FsbGVlLCBpc05ldykuZXhlY3V0ZSgpO1xuLy8gXHQvLyBsZXQgc2hvdWxkUmV0dXJuID0gZm4uYXJyb3cgfHwgKGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQuZXhpdCk7XG5cbi8vIFx0Ly8gaWYgKHNob3VsZFJldHVybiAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0KSB7XG4vLyBcdC8vIFx0aWYgKCFpc05ldyB8fCAhZXhlY3V0aW9uUmVzdWx0LnJlc3VsdC5pc1ByaW1pdGl2ZSkge1xuLy8gXHQvLyBcdFx0cmV0dXJuIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQ7XG4vLyBcdC8vIFx0fVxuLy8gXHQvLyB9XG5cbi8vIFx0Ly8gcmV0dXJuIHJldHVyblJlc3VsdDtcbi8vIH0pO1xuXG4vLyBsZXQgc2NvcGUgPSBlbnYuY3JlYXRlRXhlY3V0aW9uU2NvcGUoZm4sIG9iaik7XG4vLyB5aWVsZCBzY29wZS5sb2FkQXJncyhmbi5ub2RlICYmIGZuLm5vZGUucGFyYW1zLCBhcmdzLCBmbik7XG4vLyBzY29wZS5pbml0KGZuLm5vZGUgJiYgZm4ubm9kZS5ib2R5KTtcblxuLy8gbGV0IGV4ZWN1dGlvblJlc3VsdCA9IHlpZWxkIHNjb3BlLnVzZShmdW5jdGlvbiogKCkge1xuLy8gXHRyZXR1cm4geWllbGQgZm4uY2FsbChlbnYsIG9iaiwgYXJncywgZm4pO1xuLy8gXHQvLyBpZiAoZm4ubmF0aXZlKSB7XG4vLyBcdC8vIFx0cmV0dXJuIHlpZWxkIGZuLm5hdGl2ZUZ1bmN0aW9uLmFwcGx5KGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KG9iaiwgb2JqKSwgYXJncyk7XG4vLyBcdC8vIH1cblxuLy8gXHQvLyBsZXQgcmVzdWx0ID0geWllbGQgZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoZm4ubm9kZS5ib2R5LCBmbi5ub2RlKS5leGVjdXRlKCk7XG4vLyBcdC8vIHJldHVybiByZXN1bHQgJiYgcmVzdWx0LnJlc3VsdDtcbi8vIH0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9NYXRoJHNpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL21hdGgvc2lnblwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnByaW1pdGl2ZVRvT2JqZWN0ID0gcHJpbWl0aXZlVG9PYmplY3Q7XG5leHBvcnRzLnRvT2JqZWN0ID0gdG9PYmplY3Q7XG5leHBvcnRzLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG5leHBvcnRzLnRvUHJvcGVydHlLZXkgPSB0b1Byb3BlcnR5S2V5O1xuZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcbmV4cG9ydHMudG9QcmltaXRpdmUgPSB0b1ByaW1pdGl2ZTtcbmV4cG9ydHMudG9TdHJpbmcgPSB0b1N0cmluZztcbmV4cG9ydHMudG9OdW1iZXIgPSB0b051bWJlcjtcbmV4cG9ydHMudG9JbnRlZ2VyID0gdG9JbnRlZ2VyO1xuZXhwb3J0cy50b0ludDMyID0gdG9JbnQzMjtcbmV4cG9ydHMudG9VSW50MzIgPSB0b1VJbnQzMjtcbmV4cG9ydHMudG9Cb29sZWFuID0gdG9Cb29sZWFuO1xuZXhwb3J0cy50b05hdGl2ZUZ1bmN0aW9uID0gdG9OYXRpdmVGdW5jdGlvbjtcbnZhciBtYXJrZWQwJDAgPSBbZ2V0U3RyaW5nLCBnZXRQcmltaXRpdmUsIGdldFZhbHVlcywgdG9MZW5ndGgsIHRvUHJvcGVydHlLZXksIHRvQXJyYXksIHRvUHJpbWl0aXZlLCB0b1N0cmluZywgdG9OdW1iZXIsIHRvSW50ZWdlciwgdG9JbnQzMiwgdG9VSW50MzJdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgc2lnbiA9IF9NYXRoJHNpZ247XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIE1BWF9MRU5HVEggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuXG5mdW5jdGlvbiBnZXRTdHJpbmcodmFsdWUpIHtcblx0dmFyIHByaW1pdGl2ZVZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFN0cmluZyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgXCJ1bmRlZmluZWRcIik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCF2YWx1ZS5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcodmFsdWUudG9OYXRpdmUoKSkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkodmFsdWUsIFwidG9TdHJpbmdcIik7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0cHJpbWl0aXZlVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHByaW1pdGl2ZVZhbHVlICYmIHByaW1pdGl2ZVZhbHVlLmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcocHJpbWl0aXZlVmFsdWUudmFsdWUpKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKSh2YWx1ZSwgXCJ2YWx1ZU9mXCIpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocHJpbWl0aXZlVmFsdWUgJiYgcHJpbWl0aXZlVmFsdWUuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcocHJpbWl0aXZlVmFsdWUudmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUuXCIpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpbWl0aXZlKHZhbHVlKSB7XG5cdHZhciBwcmltaXRpdmVWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRQcmltaXRpdmUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIDApO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGlmICghdmFsdWUuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUudG9OYXRpdmUoKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKSh2YWx1ZSwgXCJ2YWx1ZU9mXCIpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcHJpbWl0aXZlVmFsdWUudG9OYXRpdmUoKSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkodmFsdWUsIFwidG9TdHJpbmdcIik7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZVZhbHVlLnRvTmF0aXZlKCkpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZXMoYXJncykge1xuXHR2YXIgdmFsdWVzLCBpLCBsbjtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRWYWx1ZXMkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0dmFsdWVzID0gW107XG5cdFx0XHRcdGkgPSAwLCBsbiA9IGFyZ3MubGVuZ3RoO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGlmICghKGkgPCBsbikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IHZhbHVlcztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBnZXRQcmltaXRpdmUoYXJnc1tpXSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MC5wdXNoLmNhbGwoY29udGV4dCQxJDAudDAsIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRpKys7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZXMpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzJdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gcHJpbWl0aXZlVG9PYmplY3QoZW52LCB2YWx1ZSkge1xuXHR2YXIgbmV3VmFsdWUgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUpO1xuXHRuZXdWYWx1ZS5pc1ByaW1pdGl2ZSA9IGZhbHNlO1xuXHRuZXdWYWx1ZS50eXBlID0gXCJvYmplY3RcIjtcblx0cmV0dXJuIG5ld1ZhbHVlO1xufVxuXG5mdW5jdGlvbiB0b09iamVjdChlbnYsIG9iaiwgdGhyb3dPbkVycm9yKSB7XG5cdC8vIHRvZG86IGlzIHRoaXMgRVM2IG9ubHk/XG5cdGlmICh0aHJvd09uRXJyb3IgJiYgb2JqLmlzUHJpbWl0aXZlICYmIG9iai52YWx1ZSA9PSBudWxsKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihvYmoudHlwZSArIFwiIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYW4gb2JqZWN0XCIpO1xuXHR9XG5cblx0aWYgKG9iai5pc1ByaW1pdGl2ZSAmJiBvYmoudmFsdWUgIT0gbnVsbCAmJiBvYmoudHlwZSAhPT0gXCJvYmplY3RcIikge1xuXHRcdHJldHVybiBwcmltaXRpdmVUb09iamVjdChlbnYsIG9iai52YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBnZXRFbnYob2JqKSB7XG5cdHJldHVybiBvYmpbX1N5bWJvbCRmb3IoXCJlbnZcIildO1xufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKG9iaikge1xuXHRyZXR1cm4gZ2V0RW52KG9iaikub3B0aW9ucztcbn1cblxuZnVuY3Rpb24gdG9MZW5ndGgob2JqKSB7XG5cdHZhciBsZW5ndGhQcm9wZXJ0eSwgX2xlbmd0aDtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvTGVuZ3RoJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGxlbmd0aFByb3BlcnR5ID0gb2JqLmdldFByb3BlcnR5KFwibGVuZ3RoXCIpO1xuXG5cdFx0XHRcdGlmICghbGVuZ3RoUHJvcGVydHkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShnZXRPcHRpb25zKG9iaikuZWNtYVZlcnNpb24gPT09IDUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIHRvVUludDMyKGxlbmd0aFByb3BlcnR5LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdHJldHVybiB0b0ludGVnZXIobGVuZ3RoUHJvcGVydHkuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0X2xlbmd0aCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgTWF0aC5taW4oTWF0aC5tYXgoX2xlbmd0aCwgMCksIE1BWF9MRU5HVEgpKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAwKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFszXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvUHJvcGVydHlLZXkoa2V5KSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9Qcm9wZXJ0eUtleSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIShrZXkgJiYga2V5LmlzU3ltYm9sKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBrZXkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gdG9TdHJpbmcoa2V5KTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG9iaiwgbGVuZ3RoKSB7XG5cdHZhciBhcnIsXG5cdCAgICBpLFxuXHQgICAgYXJncyQxJDAgPSBhcmd1bWVudHM7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9BcnJheSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRhcnIgPSBbXTtcblxuXHRcdFx0XHRpZiAoIW9iaikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEoYXJncyQxJDAubGVuZ3RoIDwgMykpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gdG9MZW5ndGgob2JqKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdHdoaWxlIChpIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0aWYgKG9iai5oYXMoaSkpIHtcblx0XHRcdFx0XHRcdGFycltpXSA9IG9iai5nZXRWYWx1ZShpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFs1XSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvUHJpbWl0aXZlKG9iaiwgcHJlZmVycmVkVHlwZSkge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvUHJpbWl0aXZlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHByZWZlcnJlZFR5cGUgPSBwcmVmZXJyZWRUeXBlICYmIHByZWZlcnJlZFR5cGUudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0aWYgKCFwcmVmZXJyZWRUeXBlICYmIG9iaikge1xuXHRcdFx0XHRcdHByZWZlcnJlZFR5cGUgPSBvYmoucHJpbWl0aXZlSGludDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghKG9iaiAmJiBvYmouaXNTeW1ib2wpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgU3ltYm9sIHRvIGEgXCIgKyBwcmVmZXJyZWRUeXBlKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRpZiAoIShwcmVmZXJyZWRUeXBlID09PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBnZXRTdHJpbmcob2JqKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGdldFByaW1pdGl2ZShvYmopO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzZdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9TdHJpbmcob2JqKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9TdHJpbmckKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b1ByaW1pdGl2ZShvYmosIFwic3RyaW5nXCIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzddLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9OdW1iZXIob2JqKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9OdW1iZXIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCEoIW9iaiB8fCBvYmoudHlwZSA9PT0gXCJ1bmRlZmluZWRcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgTmFOKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0cmV0dXJuIHRvUHJpbWl0aXZlKG9iaiwgXCJudW1iZXJcIik7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIE51bWJlcihjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbOF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b0ludGVnZXIob2JqKSB7XG5cdHZhciB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b0ludGVnZXIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b051bWJlcihvYmopO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIWlzTmFOKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAwKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRpZiAoISh2YWx1ZSA9PT0gMCB8fCAhaXNGaW5pdGUodmFsdWUpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBzaWduKHZhbHVlKSAqIGZsb29yKGFicyh2YWx1ZSkpKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzldLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9JbnQzMihvYmopIHtcblx0dmFyIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvSW50MzIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b0ludGVnZXIob2JqKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiAwKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzEwXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvVUludDMyKG9iaikge1xuXHR2YXIgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9VSW50MzIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b0ludDMyKG9iaik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlID4+PiAwKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzExXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvQm9vbGVhbihvYmopIHtcblx0aWYgKCFvYmopIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAob2JqLmlzUHJpbWl0aXZlKSB7XG5cdFx0cmV0dXJuIEJvb2xlYW4ob2JqLnZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB0b05hdGl2ZUZ1bmN0aW9uKGVudiwgZm4sIG5hbWUpIHtcblx0cmV0dXJuIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgc2NvcGUsXG5cdFx0ICAgIGFyZ3MsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0c2NvcGUgPSB0aGlzICYmIHRoaXMubm9kZSAmJiB0aGlzLm5vZGUudG9OYXRpdmUoKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gZ2V0VmFsdWVzKGFyZ3MkMiQwKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0dmFsdWUgPSBmbi5hcHBseShzY29wZSwgYXJncyk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgZm4ubGVuZ3RoLCBuYW1lKTtcbn1cblxuLy8gZGVmYXVsdCBjYXNlL251bWJlciIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmUtcHJvcGVydHlcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vcHM7XG5cbnZhciBfbmF0aXZlID0gcmVxdWlyZShcIi4vbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBuZWcodmFsdWUpIHtcblx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gIXZhbHVlO1xufVxuXG5mdW5jdGlvbiBwb3ModmFsdWUpIHtcblx0cmV0dXJuICEhdmFsdWU7XG59XG5cbnZhciBvcHMgPSAoX29wcyA9IHtcblx0Ly8gYWxnb3JpdGhtc1xuXHRhcmVTYW1lOiBmdW5jdGlvbiBhcmVTYW1lKGEsIGIpIHtcblx0XHRpZiAoYS50eXBlICE9PSBiLnR5cGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoYS5pc1ByaW1pdGl2ZSAmJiBiLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRpZiAoYS52YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYS50eXBlID09PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdGlmIChpc05hTihhLnZhbHVlKSAmJiBpc05hTihiLnZhbHVlKSkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGEudmFsdWUgPT09IDApIHtcblx0XHRcdFx0XHQvLyB0aGlzIHdpbGwgYWNjb3VudCBmb3IgbmVnYXRpdmUgemVyb1xuXHRcdFx0XHRcdHJldHVybiAxIC8gYS52YWx1ZSA9PT0gMSAvIGIudmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGEudmFsdWUgPT09IGIudmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGEgPT09IGI7XG5cdH0sXG5cblx0YXJlU2FtZU9yWmVybzogZnVuY3Rpb24gYXJlU2FtZU9yWmVybyhhLCBiKSB7XG5cdFx0aWYgKGEudHlwZSAhPT0gYi50eXBlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0aWYgKGEudmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGEudHlwZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0XHRpZiAoaXNOYU4oYS52YWx1ZSkgJiYgaXNOYU4oYi52YWx1ZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYS52YWx1ZSA9PT0gYi52YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYSA9PT0gYjtcblx0fSxcblxuXHRjb2VyY2l2ZUVxdWFsczogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNvZXJjaXZlRXF1YWxzKGEsIGIpIHtcblx0XHR2YXIgcHJpbWl0aXZlQSwgcHJpbWl0aXZlQjtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNvZXJjaXZlRXF1YWxzJChjb250ZXh0JDEkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBhLnZhbHVlID09IGIudmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpZiAoIShhLnR5cGUgPT09IGIudHlwZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnN0cmljdEVxdWFscyhhLCBiKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHByaW1pdGl2ZUEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYik7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdHByaW1pdGl2ZUIgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIHByaW1pdGl2ZUEgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHByaW1pdGl2ZUIgPT09IFwibnVtYmVyXCIgfHwgKHR5cGVvZiBwcmltaXRpdmVBID09PSBcImJvb2xlYW5cIiB8fCB0eXBlb2YgcHJpbWl0aXZlQiA9PT0gXCJib29sZWFuXCIpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBOdW1iZXIocHJpbWl0aXZlQSkgPT09IE51bWJlcihwcmltaXRpdmVCKSk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRpZiAoISh0eXBlb2YgcHJpbWl0aXZlQSA9PT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gcHJpbWl0aXZlQTtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShiLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwID09PSBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRpZiAoISh0eXBlb2YgcHJpbWl0aXZlQiA9PT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGEsIFwic3RyaW5nXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLnQzID0gcHJpbWl0aXZlQjtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQyID09PSBjb250ZXh0JDEkMC50Myk7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZUEgPT0gcHJpbWl0aXZlQik7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY29lcmNpdmVFcXVhbHMsIHRoaXMpO1xuXHR9KSxcblxuXHQvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuXHRzdHJpY3RFcXVhbHM6IGZ1bmN0aW9uIHN0cmljdEVxdWFscyhhLCBiKSB7XG5cdFx0aWYgKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0cmV0dXJuIGEudmFsdWUgPT09IGIudmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKGEuaXNQcmltaXRpdmUgfHwgYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhID09PSBiO1xuXHR9LFxuXG5cdHJlbGF0aW9uYWxDb21wYXJlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gcmVsYXRpb25hbENvbXBhcmUoYSwgYiwgbGVmdEZpcnN0KSB7XG5cdFx0dmFyIHByaW1pdGl2ZUEsIHByaW1pdGl2ZUI7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiByZWxhdGlvbmFsQ29tcGFyZSQoY29udGV4dCQxJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRwcmltaXRpdmVBID0gdW5kZWZpbmVkLCBwcmltaXRpdmVCID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCFsZWZ0Rmlyc3QpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdHByaW1pdGl2ZUEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYiwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdHByaW1pdGl2ZUIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGIsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQiA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRwcmltaXRpdmVBID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBwcmltaXRpdmVBID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBwcmltaXRpdmVCID09PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwcmltaXRpdmVBIDwgcHJpbWl0aXZlQik7XG5cblx0XHRcdFx0Y2FzZSAxODpcblxuXHRcdFx0XHRcdHByaW1pdGl2ZUEgPSBOdW1iZXIocHJpbWl0aXZlQSk7XG5cdFx0XHRcdFx0cHJpbWl0aXZlQiA9IE51bWJlcihwcmltaXRpdmVCKTtcblxuXHRcdFx0XHRcdGlmICghKGlzTmFOKHByaW1pdGl2ZUEpIHx8IGlzTmFOKHByaW1pdGl2ZUIpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB1bmRlZmluZWQpO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwcmltaXRpdmVBIDwgcHJpbWl0aXZlQik7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgcmVsYXRpb25hbENvbXBhcmUsIHRoaXMpO1xuXHR9KVxuXG59LCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI9PVwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29lcmNpdmVFcXVhbHMoYSwgYik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIiE9XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb2VyY2l2ZUVxdWFscyhhLCBiKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsICFjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIj09PVwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc3RyaWN0RXF1YWxzKGEsIGIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIhPT1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnN0cmljdEVxdWFscyhhLCBiKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsICFjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIitcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCEoYS5pc1ByaW1pdGl2ZSAmJiBiLmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBhLnZhbHVlICsgYi52YWx1ZSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0YSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGIpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGEgKyBiKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIi1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvTnVtYmVyKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgLSBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIvXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikoYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwIC8gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiKlwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvTnVtYmVyKShhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAqIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIiVcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgJSBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI8PFwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCA8PCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI+PlwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCA+PiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI+Pj5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgPj4+IGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcInxcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKShhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikoYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwIHwgY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiXlwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgXiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCImXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAmIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIjxcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnJlbGF0aW9uYWxDb21wYXJlKGEsIGIsIHRydWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwb3MoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIjw9XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZWxhdGlvbmFsQ29tcGFyZShiLCBhLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG5lZyhjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPlwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMucmVsYXRpb25hbENvbXBhcmUoYiwgYSwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwb3MoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIj49XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZWxhdGlvbmFsQ29tcGFyZShhLCBiLCB0cnVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmVnKGNvbnRleHQkMSQwLnQwKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCJpblwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2luKGEsIGIpIHtcblx0dmFyIGJTdHJpbmc7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2luJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9Qcm9wZXJ0eUtleSkoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0YSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCFiLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvU3RyaW5nKShiKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRiU3RyaW5nID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciB0byBzZWFyY2ggZm9yICdcIiArIGEgKyBcIicgaW4gXCIgKyBiU3RyaW5nKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGIuaGFzKGEpKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgX2luLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiaW5zdGFuY2VvZlwiLCBmdW5jdGlvbiBfaW5zdGFuY2VvZihhLCBiKSB7XG5cdGlmIChiLnR5cGUgIT09IFwiZnVuY3Rpb25cIikge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RpbmcgYSBmdW5jdGlvbiBpbiBpbnN0YW5jZW9mIGNoZWNrLCBidXQgZ290IFwiICsgYi50eXBlKTtcblx0fVxuXG5cdGlmIChhLmlzUHJpbWl0aXZlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIGIuaGFzSW5zdGFuY2UoYSk7XG59KSwgX29wcyk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gb3BzO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG5cbi8vIHVzZSBuYXRpdmUgaW1wbGljaXQgY29tYXJpc29uXG4vLyBlcXVhbGl0eSBvcGVyYXRvcnNcblxuLy8gYWRkaXRpdmUgb3BlcmF0b3JzXG5cbi8vIG11bHRpcGxpY2F0aXZlIG9wZXJhdG9yc1xuXG4vLyBiaXR3aXNlIHNoaWZ0IG9wZXJhdG9yc1xuXG4vLyByZWxhdGlvbmFsIG9wZXJhdG9ycyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQXJyYXlFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtBcnJheUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIEFycmF5RXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBvYmplY3RGYWN0b3J5LCBhcnI7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gQXJyYXlFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iamVjdEZhY3RvcnkgPSBjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmVsZW1lbnRzKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMuZWFjaCkoY29udGV4dC5ub2RlLmVsZW1lbnRzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChlbGVtZW50LCBpKSB7XG5cdFx0XHRcdFx0dmFyIGl0ZW07XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGlmICghZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoZWxlbWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRpdGVtID0gY29udGV4dCQyJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShpLCB7IHZhbHVlOiBpdGVtLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sIHRydWUsIGNvbnRleHQuZW52KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSksIFwidDBcIiwgNCk7XG5cblx0XHRcdGNhc2UgNDpcblxuXHRcdFx0XHRhcnIuc2V0VmFsdWUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoY29udGV4dC5ub2RlLmVsZW1lbnRzLmxlbmd0aCkpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQoYXJyKSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBBc3NpZ25tZW50RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbQXNzaWdubWVudEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQXNzaWduID0gcmVxdWlyZShcIi4uL3V0aWxzL2Fzc2lnblwiKTtcblxuZnVuY3Rpb24gQXNzaWdubWVudEV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgcmlnaHQsIHJpZ2h0VmFsdWUsIGxlZnQsIG9wLCBuYXRpdmVWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBBc3NpZ25tZW50RXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJpZ2h0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdHJpZ2h0VmFsdWUgPSByaWdodC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmICghKGNvbnRleHQubm9kZS5vcGVyYXRvciA9PT0gXCI9XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3NpZ24uYXNzaWduKShjb250ZXh0LmVudiwgY29udGV4dC5ub2RlLmxlZnQsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmxlZnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXHRcdFx0XHRvcCA9IGNvbnRleHQubm9kZS5vcGVyYXRvci5zbGljZSgwLCAtMSk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZW52Lm9wc1tvcF0obGVmdC5nZXRWYWx1ZSgpLCByaWdodC5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0bmF0aXZlVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGxlZnQuc2V0VmFsdWUoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmF0aXZlVmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChyaWdodFZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyByZW1vdmUgZXF1YWxzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBCaW5hcnlFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtCaW5hcnlFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIEJpbmFyeUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgbGVmdCwgbGVmdFZhbHVlLCByaWdodCwgcmlnaHRWYWx1ZSwgb3AsIG5ld1ZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEJpbmFyeUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUubGVmdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0bGVmdFZhbHVlID0gbGVmdC5nZXRWYWx1ZSgpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHJpZ2h0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdHJpZ2h0VmFsdWUgPSByaWdodC5nZXRWYWx1ZSgpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRvcCA9IGNvbnRleHQubm9kZS5vcGVyYXRvcjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5lbnYub3BzW29wXShsZWZ0VmFsdWUsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRuZXdWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3VmFsdWUpKSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQmxvY2tTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0Jsb2NrU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBCbG9ja1N0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciByZXN1bHQsIHByaW9yUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEJsb2NrU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZCwgcHJpb3JSZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS50eXBlID09PSBcIlByb2dyYW1cIikge1xuXHRcdFx0XHRcdGNvbnRleHQuZW52LmN1cnJlbnQuaW5pdChjb250ZXh0Lm5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5ib2R5LCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChub2RlLCBpLCBib2R5LCBhYm9ydCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCBmYWxzZSwgcHJpb3JSZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxsRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbQ2FsbEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIGFzc2lnblRoaXMoZW52LCBmbk1lbWJlciwgZm4sIGlzTmV3LCBuYXRpdmUpIHtcblx0aWYgKGlzTmV3KSB7XG5cdFx0Ly8gaWYgdGhpcyBpcyBhIG5hdGl2ZSBjb250cnVjdG9yIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhpc1xuXHRcdC8vIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgb2JqZWN0XG5cdFx0cmV0dXJuIG5hdGl2ZSA/IG51bGwgOiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoZm4pO1xuXHR9XG5cblx0aWYgKGZuTWVtYmVyIGluc3RhbmNlb2YgX2VudlByb3BlcnR5UmVmZXJlbmNlLlByb3BlcnR5UmVmZXJlbmNlICYmICghZm5NZW1iZXIudW5xdWFsaWZpZWQgfHwgZm5NZW1iZXIuYmFzZSAhPT0gZW52Lmdsb2JhbCkpIHtcblx0XHRyZXR1cm4gZm5NZW1iZXIuYmFzZTtcblx0XHQvLyByZXR1cm4gdG9PYmplY3QoZW52LCBmbk1lbWJlci5iYXNlKTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBDYWxsRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBub2RlLCBpc05ldywgZm5NZW1iZXIsIGZuLCBhcmdzLCBzdHJpbmdWYWx1ZSwgbmF0aXZlLCB0aGlzQXJnLCBjYWxsZWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gQ2FsbEV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0bm9kZSA9IGNvbnRleHQubm9kZTtcblx0XHRcdFx0aXNOZXcgPSBjb250ZXh0Lm5vZGUudHlwZSA9PT0gXCJOZXdFeHByZXNzaW9uXCI7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZS5jYWxsZWUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRmbk1lbWJlciA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXHRcdFx0XHRmbiA9IGZuTWVtYmVyLmdldFZhbHVlKCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5tYXApKG5vZGUuYXJndW1lbnRzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChhcmcpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGFyZykuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCA3KTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRhcmdzID0gY29udGV4dCQxJDAudDA7XG5cblx0XHRcdFx0aWYgKCEoIWZuIHx8IGZuLmNsYXNzTmFtZSAhPT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGZuKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFR5cGVFcnJvcihzdHJpbmdWYWx1ZSArIFwiIG5vdCBhIGZ1bmN0aW9uXCIpKSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdG5hdGl2ZSA9IGZuLm5hdGl2ZTtcblx0XHRcdFx0dGhpc0FyZyA9IGFzc2lnblRoaXMoY29udGV4dC5lbnYsIGZuTWVtYmVyLCBmbiwgaXNOZXcsIG5hdGl2ZSk7XG5cdFx0XHRcdGNhbGxlZSA9IGZuTWVtYmVyO1xuXG5cdFx0XHRcdGNhbGxlZS5pZGVudGlmaWVyID0gZm4ubmFtZTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdHJldHVybiAoaXNOZXcgPyBfdXRpbHNGdW5jLmNvbnN0cnVjdCA6IF91dGlsc0Z1bmMuZXhlY3V0ZSkoY29udGV4dC5lbnYsIGZuLCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUpO1xuXG5cdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MiA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDEucmVzdWx0LmNhbGwoY29udGV4dCQxJDAudDEsIGNvbnRleHQkMSQwLnQyKSk7XG5cblx0XHRcdGNhc2UgMjI6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEZWJ1Z2dlclN0YXRlbWVudDtcblxuZnVuY3Rpb24gRGVidWdnZXJTdGF0ZW1lbnQoY29udGV4dCkge1xuXHRpZiAoY29udGV4dC5lbnYub3B0aW9ucy5hbGxvd0RlYnVnZ2VyKSB7XG5cdFx0LyogZXNsaW50LWRpc2FibGUgbm8tZGVidWdnZXIgKi9cblx0XHRkZWJ1Z2dlcjtcblx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWRlYnVnZ2VyICovXG5cdH1cblxuXHRyZXR1cm4gY29udGV4dC5lbXB0eSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRG9XaGlsZVN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbRG9XaGlsZVN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBEb1doaWxlU3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIHJlc3VsdCwgcHJpb3JSZXN1bHQsIHBhc3NlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBEb1doaWxlU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZCwgcHJpb3JSZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHBhc3NlZCA9IHRydWU7XG5cblx0XHRcdFx0aWYgKCEoY29udGV4dC5ub2RlLnR5cGUgPT09IFwiV2hpbGVTdGF0ZW1lbnRcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDEkMC50MCk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aWYgKCFwYXNzZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYm9keSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHJlc3VsdCAmJiByZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgdHJ1ZSwgcHJpb3JSZXN1bHQpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEVtcHR5U3RhdGVtZW50O1xuXG5mdW5jdGlvbiBFbXB0eVN0YXRlbWVudChjb250ZXh0KSB7XG5cdHJldHVybiBjb250ZXh0LmVtcHR5KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFeHByZXNzaW9uU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtFeHByZXNzaW9uU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIEV4cHJlc3Npb25TdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgZXhlY3V0aW9uUmVzdWx0LCBleGVjdXRpb25WYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBFeHByZXNzaW9uU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmV4cHJlc3Npb24pLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRleGVjdXRpb25WYWx1ZSA9IGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChleGVjdXRpb25WYWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRm9ySW5TdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0ZvckluU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIEZvckluU3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIGxlZnQsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZGVjbCwgb2JqLCBpdCwgbmV4dCwgZG9uZSwgcmVzdWx0LCBwcmlvclJlc3VsdCwgaXRSZXN1bHQ7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBGb3JJblN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRsZWZ0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghKGNvbnRleHQubm9kZS5sZWZ0LnR5cGUgPT09IFwiVmFyaWFibGVEZWNsYXJhdGlvblwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDU7XG5cdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihjb250ZXh0Lm5vZGUubGVmdC5kZWNsYXJhdGlvbnMpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlY2wgPSBfc3RlcC52YWx1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoZGVjbCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRsZWZ0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxNztcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMFtcImNhdGNoXCJdKDUpO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQxJDAudDA7XG5cblx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyMTtcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIyO1xuXG5cdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjQ7XG5cblx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDI0KTtcblxuXHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgyMSk7XG5cblx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzNDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzMztcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5sZWZ0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzM6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblxuXHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM2O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnJpZ2h0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdGl0ID0gb2JqLmdldEl0ZXJhdG9yKGNvbnRleHQuZW52KTtcblx0XHRcdFx0bmV4dCA9IGl0LmdldFZhbHVlKFwibmV4dFwiKTtcblx0XHRcdFx0ZG9uZSA9IGZhbHNlO1xuXHRcdFx0XHRyZXN1bHQgPSB1bmRlZmluZWQsIHByaW9yUmVzdWx0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRjYXNlIDQxOlxuXHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1Njtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0NDtcblx0XHRcdFx0cmV0dXJuIG5leHQuY2FsbChpdCwgW10pO1xuXG5cdFx0XHRjYXNlIDQ0OlxuXHRcdFx0XHRpdFJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0ZG9uZSA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShpdFJlc3VsdC5nZXRWYWx1ZShcImRvbmVcIikpO1xuXG5cdFx0XHRcdGlmICghKCFkb25lICYmIGl0UmVzdWx0LmhhcyhcInZhbHVlXCIpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1Mztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxlZnQuc2V0VmFsdWUoaXRSZXN1bHQuZ2V0VmFsdWUoXCJ2YWx1ZVwiKSk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1MDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNTA6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCB0cnVlLCBwcmlvclJlc3VsdCkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDUzOlxuXG5cdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDU2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNTc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbNSwgMTcsIDIxLCAyOV0sIFsyMiwsIDI0LCAyOF1dKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gc2hvdWxkIG9ubHkgYmUgb25lLCBidXRcbi8vIG5lZWQgdG8gdW53cmFwIHRoZSBkZWNsYXJhdGlvbiB0byBnZXQgaXRcbi8vIHRvZG86IHRoaXMgaXMgc2xvcHB5IC0gbmVlZCB0byByZXZpc2l0XG5cbi8vIHRyYWNrIHZpc2l0ZWQgcHJvcGVydGllcyB0byBwcmV2ZW50IGl0ZXJhdGluZyBvdmVyIHNoYWRvd2VkIHByb3BlcnRpZXMsIHJlZ2FyZGxlc3Mgb2YgZW51bWVyYWJsZSBmbGFnXG4vLyAxMi42LjQgTk9URTogYSBwcm9wZXJ0eSBvZiBhIHByb3RvdHlwZSBpcyBub3QgZW51bWVyYXRlZCBpZiBpdCBpcyDigJxzaGFkb3dlZOKAnSBiZWNhdXNlIHNvbWUgcHJldmlvdXNcbi8vIG9iamVjdCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIHNhbWUgbmFtZS4gVGhlIHZhbHVlcyBvZiBbW0VudW1lcmFibGVdXSBhdHRyaWJ1dGVzXG4vLyBhcmUgbm90IGNvbnNpZGVyZWQgd2hlbiBkZXRlcm1pbmluZyBpZiBhIHByb3BlcnR5IG9mIGEgcHJvdG90eXBlIG9iamVjdCBpcyBzaGFkb3dlZCBieSBhIHByZXZpb3VzIG9iamVjdFxuLy8gb24gdGhlIHByb3RvdHlwZSBjaGFpbi5cbi8vIGxldCB2aXNpdGVkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLy8gd2hpbGUgKG9iaikge1xuLy8gXHRmb3IgKGxldCBwcm9wIGluIG9iai5wcm9wZXJ0aWVzKSB7XG4vLyBcdFx0aWYgKG9iai5wcm9wZXJ0aWVzW3Byb3BdLmVudW1lcmFibGUgJiYgIXZpc2l0ZWRbcHJvcF0pIHtcbi8vIFx0XHRcdGxlZnQuc2V0VmFsdWUoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocHJvcCkpO1xuXG4vLyBcdFx0XHRyZXN1bHQgPSB5aWVsZCBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYm9keSkuZXhlY3V0ZSgpO1xuLy8gXHRcdFx0aWYgKHJlc3VsdCAmJiByZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgdHJ1ZSwgcHJpb3JSZXN1bHQpKSB7XG4vLyBcdFx0XHRcdHJldHVybiByZXN1bHQ7XG4vLyBcdFx0XHR9XG4vLyBcdFx0fVxuXG4vLyBcdFx0dmlzaXRlZFtwcm9wXSA9IHRydWU7XG4vLyBcdH1cblxuLy8gXHRwcmlvclJlc3VsdCA9IHJlc3VsdDtcbi8vIFx0b2JqID0gb2JqLmdldFByb3RvdHlwZSgpO1xuLy8gfSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRm9yU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtzaG91bGRDb250aW51ZSwgRm9yU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIHNob3VsZENvbnRpbnVlKGNvbnRleHQpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzaG91bGRDb250aW51ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoY29udGV4dC5ub2RlLnRlc3QpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdHJ1ZSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gRm9yU3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIHJlc3VsdCwgcHJpb3JSZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gRm9yU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmluaXQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXN1bHQgPSB1bmRlZmluZWQsIHByaW9yUmVzdWx0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gc2hvdWxkQ29udGludWUoY29udGV4dCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0aWYgKCFjb250ZXh0JDEkMC5zZW50KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYm9keSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCB0cnVlLCBwcmlvclJlc3VsdCkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS51cGRhdGUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudXBkYXRlKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTU6XG5cblx0XHRcdFx0cHJpb3JSZXN1bHQgPSByZXN1bHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRnVuY3Rpb25EZWNsYXJhdGlvbjtcblxuZnVuY3Rpb24gRnVuY3Rpb25EZWNsYXJhdGlvbihjb250ZXh0KSB7XG5cdHJldHVybiBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5nZXRWYWx1ZShjb250ZXh0Lm5vZGUuaWQubmFtZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZ1bmN0aW9uRXhwcmVzc2lvbjtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5mdW5jdGlvbiBGdW5jdGlvbkV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBzdHJpY3QgPSBjb250ZXh0LmVudi5pc1N0cmljdCgpIHx8IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUoY29udGV4dC5ub2RlLmJvZHkuYm9keSk7XG5cdHZhciBuYW1lID0gY29udGV4dC5ub2RlLmlkID8gY29udGV4dC5ub2RlLmlkLm5hbWUgOiBcImFub255bW91c1wiO1xuXG5cdHZhciBmdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihjb250ZXh0Lm5vZGUsIHVuZGVmaW5lZCwgeyBzdHJpY3Q6IHN0cmljdCwgbmFtZTogbmFtZSB9KTtcblx0ZnVuYy5iaW5kU2NvcGUoY29udGV4dC5lbnYuY3VycmVudCk7XG5cdHJldHVybiBjb250ZXh0LnJlc3VsdChmdW5jKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSWRlbnRpZmllcjtcblxuZnVuY3Rpb24gSWRlbnRpZmllcihjb250ZXh0KSB7XG5cdHZhciBuYW1lID0gY29udGV4dC5ub2RlLm5hbWU7XG5cblx0aWYgKGNvbnRleHQuY2FsbGVlICYmIGNvbnRleHQuY2FsbGVlLmlkZW50aWZpZXIgPT09IG5hbWUpIHtcblx0XHRyZXR1cm4gY29udGV4dC5yZXN1bHQoY29udGV4dC5jYWxsZWUpO1xuXHR9XG5cblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52LmdldFJlZmVyZW5jZShjb250ZXh0Lm5vZGUubmFtZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSWZTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0lmU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIElmU3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIHRlc3RWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBJZlN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS50ZXN0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGVzdFZhbHVlID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRpZiAoISgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKSh0ZXN0VmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5jb25zZXF1ZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5hbHRlcm5hdGUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYWx0ZXJuYXRlKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9hcnJheUV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9hcnJheS1leHByZXNzaW9uXCIpO1xuXG52YXIgX2FycmF5RXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUV4cHJlc3Npb24pO1xuXG52YXIgX2Fzc2lnbm1lbnRFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vYXNzaWdubWVudC1leHByZXNzaW9uXCIpO1xuXG52YXIgX2Fzc2lnbm1lbnRFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbm1lbnRFeHByZXNzaW9uKTtcblxudmFyIF9iaW5hcnlFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vYmluYXJ5LWV4cHJlc3Npb25cIik7XG5cbnZhciBfYmluYXJ5RXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaW5hcnlFeHByZXNzaW9uKTtcblxudmFyIF9ibG9ja1N0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2Jsb2NrLXN0YXRlbWVudFwiKTtcblxudmFyIF9ibG9ja1N0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ibG9ja1N0YXRlbWVudCk7XG5cbnZhciBfaW50ZXJydXB0U3RhdGVtZW50ID0gcmVxdWlyZShcIi4vaW50ZXJydXB0LXN0YXRlbWVudFwiKTtcblxudmFyIF9pbnRlcnJ1cHRTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW50ZXJydXB0U3RhdGVtZW50KTtcblxudmFyIF9jYWxsRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2NhbGwtZXhwcmVzc2lvblwiKTtcblxudmFyIF9jYWxsRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWxsRXhwcmVzc2lvbik7XG5cbnZhciBfaWZTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9pZi1zdGF0ZW1lbnRcIik7XG5cbnZhciBfaWZTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWZTdGF0ZW1lbnQpO1xuXG52YXIgX2RlYnVnZ2VyU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZGVidWdnZXItc3RhdGVtZW50XCIpO1xuXG52YXIgX2RlYnVnZ2VyU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnZ2VyU3RhdGVtZW50KTtcblxudmFyIF9kb1doaWxlU3RhdGVtZW50SnMgPSByZXF1aXJlKFwiLi9kby13aGlsZS1zdGF0ZW1lbnQuanNcIik7XG5cbnZhciBfZG9XaGlsZVN0YXRlbWVudEpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvV2hpbGVTdGF0ZW1lbnRKcyk7XG5cbnZhciBfZW1wdHlTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9lbXB0eS1zdGF0ZW1lbnRcIik7XG5cbnZhciBfZW1wdHlTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW1wdHlTdGF0ZW1lbnQpO1xuXG52YXIgX2V4cHJlc3Npb25TdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9leHByZXNzaW9uLXN0YXRlbWVudFwiKTtcblxudmFyIF9leHByZXNzaW9uU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4cHJlc3Npb25TdGF0ZW1lbnQpO1xuXG52YXIgX2ZvclN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2Zvci1zdGF0ZW1lbnRcIik7XG5cbnZhciBfZm9yU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZvclN0YXRlbWVudCk7XG5cbnZhciBfZm9ySW5TdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9mb3ItaW4tc3RhdGVtZW50XCIpO1xuXG52YXIgX2ZvckluU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZvckluU3RhdGVtZW50KTtcblxudmFyIF9mdW5jdGlvbkRlY2xhcmF0aW9uID0gcmVxdWlyZShcIi4vZnVuY3Rpb24tZGVjbGFyYXRpb25cIik7XG5cbnZhciBfZnVuY3Rpb25EZWNsYXJhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mdW5jdGlvbkRlY2xhcmF0aW9uKTtcblxudmFyIF9mdW5jdGlvbkV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9mdW5jdGlvbi1leHByZXNzaW9uXCIpO1xuXG52YXIgX2Z1bmN0aW9uRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mdW5jdGlvbkV4cHJlc3Npb24pO1xuXG52YXIgX2lkZW50aWZpZXIgPSByZXF1aXJlKFwiLi9pZGVudGlmaWVyXCIpO1xuXG52YXIgX2lkZW50aWZpZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWRlbnRpZmllcik7XG5cbnZhciBfbGFiZWxlZFN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2xhYmVsZWQtc3RhdGVtZW50XCIpO1xuXG52YXIgX2xhYmVsZWRTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGFiZWxlZFN0YXRlbWVudCk7XG5cbnZhciBfbGl0ZXJhbCA9IHJlcXVpcmUoXCIuL2xpdGVyYWxcIik7XG5cbnZhciBfbGl0ZXJhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saXRlcmFsKTtcblxudmFyIF9sb2dpY2FsRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2xvZ2ljYWwtZXhwcmVzc2lvblwiKTtcblxudmFyIF9sb2dpY2FsRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dpY2FsRXhwcmVzc2lvbik7XG5cbnZhciBfbWVtYmVyRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL21lbWJlci1leHByZXNzaW9uXCIpO1xuXG52YXIgX21lbWJlckV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWVtYmVyRXhwcmVzc2lvbik7XG5cbnZhciBfbWV0YVByb3BlcnR5ID0gcmVxdWlyZShcIi4vbWV0YS1wcm9wZXJ0eVwiKTtcblxudmFyIF9tZXRhUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWV0YVByb3BlcnR5KTtcblxudmFyIF9vYmplY3RFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vb2JqZWN0LWV4cHJlc3Npb25cIik7XG5cbnZhciBfb2JqZWN0RXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RFeHByZXNzaW9uKTtcblxudmFyIF9yZXR1cm5TdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9yZXR1cm4tc3RhdGVtZW50XCIpO1xuXG52YXIgX3JldHVyblN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXR1cm5TdGF0ZW1lbnQpO1xuXG52YXIgX3NlcXVlbmNlRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL3NlcXVlbmNlLWV4cHJlc3Npb25cIik7XG5cbnZhciBfc2VxdWVuY2VFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlcXVlbmNlRXhwcmVzc2lvbik7XG5cbnZhciBfc3dpdGNoU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vc3dpdGNoLXN0YXRlbWVudFwiKTtcblxudmFyIF9zd2l0Y2hTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3dpdGNoU3RhdGVtZW50KTtcblxudmFyIF90YWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi90YWdnZWQtdGVtcGxhdGUtZXhwcmVzc2lvblwiKTtcblxudmFyIF90YWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKTtcblxudmFyIF90ZW1wbGF0ZUxpdGVyYWwgPSByZXF1aXJlKFwiLi90ZW1wbGF0ZS1saXRlcmFsXCIpO1xuXG52YXIgX3RlbXBsYXRlTGl0ZXJhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZW1wbGF0ZUxpdGVyYWwpO1xuXG52YXIgX3RoaXNFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vdGhpcy1leHByZXNzaW9uXCIpO1xuXG52YXIgX3RoaXNFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RoaXNFeHByZXNzaW9uKTtcblxudmFyIF90aHJvd1N0YXRlbWVudCA9IHJlcXVpcmUoXCIuL3Rocm93LXN0YXRlbWVudFwiKTtcblxudmFyIF90aHJvd1N0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aHJvd1N0YXRlbWVudCk7XG5cbnZhciBfdHJ5U3RhdGVtZW50ID0gcmVxdWlyZShcIi4vdHJ5LXN0YXRlbWVudFwiKTtcblxudmFyIF90cnlTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHJ5U3RhdGVtZW50KTtcblxudmFyIF91bmFyeUV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi91bmFyeS1leHByZXNzaW9uXCIpO1xuXG52YXIgX3VuYXJ5RXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91bmFyeUV4cHJlc3Npb24pO1xuXG52YXIgX3VwZGF0ZUV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi91cGRhdGUtZXhwcmVzc2lvblwiKTtcblxudmFyIF91cGRhdGVFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VwZGF0ZUV4cHJlc3Npb24pO1xuXG52YXIgX3ZhcmlhYmxlRGVjbGFyYXRpb24gPSByZXF1aXJlKFwiLi92YXJpYWJsZS1kZWNsYXJhdGlvblwiKTtcblxudmFyIF92YXJpYWJsZURlY2xhcmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhcmlhYmxlRGVjbGFyYXRpb24pO1xuXG52YXIgX3ZhcmlhYmxlRGVjbGFyYXRvciA9IHJlcXVpcmUoXCIuL3ZhcmlhYmxlLWRlY2xhcmF0b3JcIik7XG5cbnZhciBfdmFyaWFibGVEZWNsYXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhcmlhYmxlRGVjbGFyYXRvcik7XG5cbnZhciBfd2l0aFN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL3dpdGgtc3RhdGVtZW50XCIpO1xuXG52YXIgX3dpdGhTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2l0aFN0YXRlbWVudCk7XG5cbnZhciB2aXNpdG9ycyA9IHtcblx0QXJyYXlFeHByZXNzaW9uOiBfYXJyYXlFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdEFzc2lnbm1lbnRFeHByZXNzaW9uOiBfYXNzaWdubWVudEV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0QmluYXJ5RXhwcmVzc2lvbjogX2JpbmFyeUV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0QmxvY2tTdGF0ZW1lbnQ6IF9ibG9ja1N0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRCcmVha1N0YXRlbWVudDogX2ludGVycnVwdFN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRDYWxsRXhwcmVzc2lvbjogX2NhbGxFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdENvbmRpdGlvbmFsRXhwcmVzc2lvbjogX2lmU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdERlYnVnZ2VyU3RhdGVtZW50OiBfZGVidWdnZXJTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0RG9XaGlsZVN0YXRlbWVudDogX2RvV2hpbGVTdGF0ZW1lbnRKczJbXCJkZWZhdWx0XCJdLFxuXHRFbXB0eVN0YXRlbWVudDogX2VtcHR5U3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdEV4cHJlc3Npb25TdGF0ZW1lbnQ6IF9leHByZXNzaW9uU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdEZvclN0YXRlbWVudDogX2ZvclN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRGb3JJblN0YXRlbWVudDogX2ZvckluU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdEZ1bmN0aW9uRGVjbGFyYXRpb246IF9mdW5jdGlvbkRlY2xhcmF0aW9uMltcImRlZmF1bHRcIl0sXG5cdEZ1bmN0aW9uRXhwcmVzc2lvbjogX2Z1bmN0aW9uRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRJZGVudGlmaWVyOiBfaWRlbnRpZmllcjJbXCJkZWZhdWx0XCJdLFxuXHRMYWJlbGVkU3RhdGVtZW50OiBfbGFiZWxlZFN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRMaXRlcmFsOiBfbGl0ZXJhbDJbXCJkZWZhdWx0XCJdLFxuXHRMb2dpY2FsRXhwcmVzc2lvbjogX2xvZ2ljYWxFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdE1lbWJlckV4cHJlc3Npb246IF9tZW1iZXJFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdE1ldGFQcm9wZXJ0eTogX21ldGFQcm9wZXJ0eTJbXCJkZWZhdWx0XCJdLFxuXHRPYmplY3RFeHByZXNzaW9uOiBfb2JqZWN0RXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRSZXR1cm5TdGF0ZW1lbnQ6IF9yZXR1cm5TdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0U2VxdWVuY2VFeHByZXNzaW9uOiBfc2VxdWVuY2VFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFN3aXRjaFN0YXRlbWVudDogX3N3aXRjaFN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb246IF90YWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0VGVtcGxhdGVMaXRlcmFsOiBfdGVtcGxhdGVMaXRlcmFsMltcImRlZmF1bHRcIl0sXG5cdFRoaXNFeHByZXNzaW9uOiBfdGhpc0V4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0VGhyb3dTdGF0ZW1lbnQ6IF90aHJvd1N0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRUcnlTdGF0ZW1lbnQ6IF90cnlTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0VW5hcnlFeHByZXNzaW9uOiBfdW5hcnlFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFVwZGF0ZUV4cHJlc3Npb246IF91cGRhdGVFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFZhcmlhYmxlRGVjbGFyYXRpb246IF92YXJpYWJsZURlY2xhcmF0aW9uMltcImRlZmF1bHRcIl0sXG5cdFZhcmlhYmxlRGVjbGFyYXRvcjogX3ZhcmlhYmxlRGVjbGFyYXRvcjJbXCJkZWZhdWx0XCJdLFxuXHRXaXRoU3RhdGVtZW50OiBfd2l0aFN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXG5cdEFycm93RnVuY3Rpb25FeHByZXNzaW9uOiBfZnVuY3Rpb25FeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdENvbnRpbnVlU3RhdGVtZW50OiBfaW50ZXJydXB0U3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdElmU3RhdGVtZW50OiBfaWZTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0TmV3RXhwcmVzc2lvbjogX2NhbGxFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFByb2dyYW06IF9ibG9ja1N0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRXaGlsZVN0YXRlbWVudDogX2RvV2hpbGVTdGF0ZW1lbnRKczJbXCJkZWZhdWx0XCJdXG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0dmlzaXQ6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB2aXNpdChjb250ZXh0KSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB2aXNpdCQoY29udGV4dCQxJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoY29udGV4dC5ub2RlLnR5cGUgaW4gdmlzaXRvcnMpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIGhhbmRsZXIgZGVmaW5lZCBmb3I6IFwiICsgY29udGV4dC5ub2RlLnR5cGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gdmlzaXRvcnNbY29udGV4dC5ub2RlLnR5cGVdKGNvbnRleHQpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgdmlzaXQsIHRoaXMpO1xuXHR9KVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEludGVycnVwdFN0YXRlbWVudDtcblxuZnVuY3Rpb24gSW50ZXJydXB0U3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIGxhYmVsID0gdW5kZWZpbmVkO1xuXHRpZiAoY29udGV4dC5ub2RlLmxhYmVsKSB7XG5cdFx0bGFiZWwgPSBjb250ZXh0Lm5vZGUubGFiZWwubmFtZTtcblx0fVxuXG5cdGlmIChjb250ZXh0Lm5vZGUudHlwZSA9PT0gXCJCcmVha1N0YXRlbWVudFwiKSB7XG5cdFx0cmV0dXJuIGNvbnRleHQuY2FuY2VsKGxhYmVsKTtcblx0fVxuXG5cdHJldHVybiBjb250ZXh0LnNraXAobGFiZWwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTGFiZWxlZFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbTGFiZWxlZFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIExhYmVsZWRTdGF0ZW1lbnQoY29udGV4dCkge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIExhYmVsZWRTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZUxhYmVsKGNvbnRleHQubm9kZS5ib2R5LCBjb250ZXh0Lm5vZGUubGFiZWwubmFtZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IExpdGVyYWw7XG5cbmZ1bmN0aW9uIExpdGVyYWwoY29udGV4dCkge1xuXHRyZXR1cm4gY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoY29udGV4dC5ub2RlLnZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBMb2dpY2FsRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbTG9naWNhbEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gTG9naWNhbEV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgbGVmdCwgcGFzc2VkO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIExvZ2ljYWxFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmxlZnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRsZWZ0ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGxlZnQucmVzdWx0LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRcdGlmICghKHBhc3NlZCAmJiBjb250ZXh0Lm5vZGUub3BlcmF0b3IgPT09IFwifHxcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbGVmdCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0aWYgKCEoIXBhc3NlZCAmJiBjb250ZXh0Lm5vZGUub3BlcmF0b3IgPT09IFwiJiZcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbGVmdCk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnJpZ2h0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTWVtYmVyRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbTWVtYmVyRXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfZW52UHJvcGVydHlSZWZlcmVuY2UgPSByZXF1aXJlKFwiLi4vZW52L3Byb3BlcnR5LXJlZmVyZW5jZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIE1lbWJlckV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqLCBrZXksIHZhbHVlLCBpZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBNZW1iZXJFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLm9iamVjdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdGtleSA9IHVuZGVmaW5lZCwgdmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuY29tcHV0ZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5wcm9wZXJ0eSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGlkID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRpZiAoIWlkLmlzU3ltYm9sKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgdGhlIGlkZW50aWZpZXIgaXMgYSBzeW1ib2wsIGtlZXAgYXMgaXMgLSBwcm9wZXJ0eSByZWZlcmVuY2Ugd2lsbCBoYW5kbGUgaXQgYWNjb3JkaW5nbHlcblx0XHRcdFx0a2V5ID0gaWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNDtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGlkKTtcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0a2V5ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0a2V5ID0gY29udGV4dC5ub2RlLnByb3BlcnR5Lm5hbWU7XG5cblx0XHRcdGNhc2UgMTg6XG5cblx0XHRcdFx0dmFsdWUgPSBuZXcgX2VudlByb3BlcnR5UmVmZXJlbmNlLlByb3BlcnR5UmVmZXJlbmNlKGtleSwgb2JqLCBjb250ZXh0LmVudik7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQodmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAyMDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1ldGFQcm9wZXJ0eTtcblxuZnVuY3Rpb24gTWV0YVByb3BlcnR5KGNvbnRleHQpIHtcblx0dGhyb3cgbmV3IEVycm9yKFwiTWV0YSBwcm9wZXJ0aWVzIG5vdCB5ZXQgaW1wbGVtZW50ZWRcIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9iamVjdEV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW09iamVjdEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIHNldERlc2NyaXB0b3IoZW52LCBvYmosIGRlc2NyaXB0b3IpIHtcblx0dmFyIHN0cmljdCA9IGVudi5pc1N0cmljdCgpO1xuXG5cdGlmIChkZXNjcmlwdG9yLmdldCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRBcmVWYWxpZEFyZ3VtZW50cyhkZXNjcmlwdG9yLmdldC5ub2RlLnBhcmFtcywgc3RyaWN0KTtcblx0XHRkZXNjcmlwdG9yLmdldHRlciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgZGVzY3JpcHRvci5nZXQsIFtdLCB0aGlzLCBkZXNjcmlwdG9yLmdldC5ub2RlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoZGVzY3JpcHRvci5zZXQpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMoZGVzY3JpcHRvci5zZXQubm9kZS5wYXJhbXMsIHN0cmljdCk7XG5cdFx0ZGVzY3JpcHRvci5zZXR0ZXIgPSBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdHZhciBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIGRlc2NyaXB0b3Iuc2V0LCBhcmdzJDIkMCwgdGhpcywgZGVzY3JpcHRvci5zZXQubm9kZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0fSk7XG5cdH1cblxuXHRvYmouZGVmaW5lT3duUHJvcGVydHkoZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEZXNjcmlwdG9yKGtleSwgdmFsdWUpIHtcblx0cmV0dXJuIHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9O1xufVxuXG5mdW5jdGlvbiBPYmplY3RFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iaiwgZGVzY3JpcHRvcnMsIHByb3A7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gT2JqZWN0RXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRvYmogPSBjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdFx0XHRkZXNjcmlwdG9ycyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMuZWFjaCkoY29udGV4dC5ub2RlLnByb3BlcnRpZXMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHByb3BlcnR5KSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlLCBrZXksIGtleVZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUocHJvcGVydHkudmFsdWUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGtleSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghcHJvcGVydHkuY29tcHV0ZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShwcm9wZXJ0eS5rZXkpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdFx0a2V5VmFsdWUgPSBjb250ZXh0JDIkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShrZXlWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdFx0XHRcdGtleSA9IHByb3BlcnR5LmtleS5uYW1lIHx8IHByb3BlcnR5LmtleS52YWx1ZTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gcHJvcGVydHkua2luZDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gY29udGV4dCQyJDAudDAgPT09IFwiZ2V0XCIgPyAxNyA6IGNvbnRleHQkMiQwLnQwID09PSBcInNldFwiID8gMTcgOiAyMDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3JzW25hbWVdID0gZGVzY3JpcHRvcnNbbmFtZV0gfHwgY3JlYXRlRGVzY3JpcHRvcihrZXkpO1xuXHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3JzW25hbWVdW3Byb3BlcnR5LmtpbmRdID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImJyZWFrXCIsIDIyKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRcdFx0XHRcdG9iai5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIGNyZWF0ZURlc2NyaXB0b3Ioa2V5LCB2YWx1ZSkpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAyMik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXG5cdFx0XHRcdGZvciAocHJvcCBpbiBkZXNjcmlwdG9ycykge1xuXHRcdFx0XHRcdHNldERlc2NyaXB0b3IoY29udGV4dC5lbnYsIG9iaiwgZGVzY3JpcHRvcnNbcHJvcF0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChvYmopKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJldHVyblN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbUmV0dXJuU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIFJldHVyblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gUmV0dXJuU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmFyZ3VtZW50KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwLmV4aXQuY2FsbChjb250ZXh0JDEkMC50MCwgY29udGV4dCQxJDAudDEpKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuZXhpdChfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VxdWVuY2VFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtTZXF1ZW5jZUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIFNlcXVlbmNlRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBTZXF1ZW5jZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoZXhwcikuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQodmFsdWUpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN3aXRjaFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbZXhlY3V0ZVN0YXRlbWVudHMsIFN3aXRjaFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gZXhlY3V0ZVN0YXRlbWVudHMoY29udGV4dCwgc3RhdGVtZW50cykge1xuXHR2YXIgcmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGVTdGF0ZW1lbnRzJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkoc3RhdGVtZW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RhdGVtZW50LCBpLCBhbGwsIGFib3J0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShzdGF0ZW1lbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0LmlzQ2FuY2VsbGVkKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIFN3aXRjaFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciB0ZXN0VmFsdWUsIHBhc3NlZCwgdmFsdWUsIGRlZmF1bHRDYXNlLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGN1cnJlbnQsIGNhc2VWYWx1ZTtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFN3aXRjaFN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5kaXNjcmltaW5hbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR0ZXN0VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRwYXNzZWQgPSBmYWxzZTtcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQsIGRlZmF1bHRDYXNlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA4O1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmNhc2VzKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudCA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRcdGlmIChwYXNzZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWN1cnJlbnQudGVzdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGN1cnJlbnQudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRjYXNlVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmIChjb250ZXh0LmVudi5vcHMuYXJlU2FtZShjYXNlVmFsdWUsIHRlc3RWYWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiY29udGludWVcIiwgMzApO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHQvLyBkZWZhdWx0IG1pZ2h0IG5vdCBiZSB0aGUgbGFzdCBjYXNlXG5cdFx0XHRcdGRlZmF1bHRDYXNlID0gY3VycmVudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImNvbnRpbnVlXCIsIDMwKTtcblxuXHRcdFx0Y2FzZSAyMzpcblxuXHRcdFx0XHRwYXNzZWQgPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlU3RhdGVtZW50cyhjb250ZXh0LCBjdXJyZW50LmNvbnNlcXVlbnQpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEodmFsdWUgJiYgdmFsdWUuaXNDYW5jZWxsZWQoKSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSg4KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0MDtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQyO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCg0Mik7XG5cblx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMzkpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRpZiAoISghcGFzc2VkICYmIGRlZmF1bHRDYXNlICYmIGRlZmF1bHRDYXNlLmNvbnNlcXVlbnQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUwO1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZVN0YXRlbWVudHMoY29udGV4dCwgZGVmYXVsdENhc2UuY29uc2VxdWVudCk7XG5cblx0XHRcdGNhc2UgNTA6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgNTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDU0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzLCBbWzgsIDM1LCAzOSwgNDddLCBbNDAsLCA0MiwgNDZdXSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvLWNvbnN1bWFibGUtYXJyYXlcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciB0ZW1wbGF0ZU9iamVjdENhY2hlID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIGJ1aWxkVGVtcGxhdGVPYmplY3QoZW52LCBub2RlKSB7XG5cdC8vIHBlciBzcGVjLCB0ZW1wbGF0ZSBvYmplY3RzIGFyZSBjYWNoZWRcblx0dmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KG5vZGUucXVhc2lzLm1hcChmdW5jdGlvbiAocSkge1xuXHRcdHJldHVybiB7IGNvb2tlZDogcS52YWx1ZS5jb29rZWQsIHJhdzogcS52YWx1ZS5yYXcgfTtcblx0fSkpO1xuXHRpZiAoa2V5IGluIHRlbXBsYXRlT2JqZWN0Q2FjaGUpIHtcblx0XHRyZXR1cm4gdGVtcGxhdGVPYmplY3RDYWNoZVtrZXldO1xuXHR9XG5cblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIHRhZyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdHZhciByYXcgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHR2YXIgcXVhc2lzID0gbm9kZS5xdWFzaXM7XG5cblx0Zm9yICh2YXIgaSA9IDAsIGxuID0gcXVhc2lzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHR0YWcuc2V0VmFsdWUoaSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocXVhc2lzW2ldLnZhbHVlLmNvb2tlZCkpO1xuXHRcdHJhdy5zZXRWYWx1ZShpLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShxdWFzaXNbaV0udmFsdWUucmF3KSk7XG5cdH1cblxuXHRyYXcuZnJlZXplKCk7XG5cdHRhZy5kZWZpbmVPd25Qcm9wZXJ0eShcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7XG5cdHRhZy5mcmVlemUoKTtcblxuXHRyZXR1cm4gdGVtcGxhdGVPYmplY3RDYWNoZVtrZXldID0gdGFnO1xufVxuXG5mdW5jdGlvbiBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgdGVtcGxhdGVPYmplY3QsIHZhbHVlcywgY2FsbGVlLCBmdW5jLCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0dGVtcGxhdGVPYmplY3QgPSBidWlsZFRlbXBsYXRlT2JqZWN0KGNvbnRleHQuZW52LCBjb250ZXh0Lm5vZGUucXVhc2kpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGNvbnRleHQubm9kZS5xdWFzaS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHZhciB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGV4cHIpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZS5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0dmFsdWVzID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGFnKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FsbGVlID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdGZ1bmMgPSBjYWxsZWUuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoY29udGV4dC5lbnYsIGZ1bmMsIFt0ZW1wbGF0ZU9iamVjdF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZXMpKSwgY2FsbGVlLmJhc2UsIGNhbGxlZSk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdCh2YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRlbXBsYXRlTGl0ZXJhbDtcbnZhciBtYXJrZWQwJDAgPSBbVGVtcGxhdGVMaXRlcmFsXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gVGVtcGxhdGVMaXRlcmFsKGNvbnRleHQpIHtcblx0dmFyIHZhbHVlcywgcmVzdWx0LCBxdWFzaXMsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGNvbnRleHQubm9kZS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHZhciB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGV4cHIpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZS5yZXN1bHQuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHZhbHVlcyA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJlc3VsdCA9IFtdO1xuXHRcdFx0XHRxdWFzaXMgPSBjb250ZXh0Lm5vZGUucXVhc2lzO1xuXG5cdFx0XHRcdGZvciAoaSA9IDAsIGxuID0gcXVhc2lzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHRcdFx0XHRyZXN1bHQucHVzaChxdWFzaXNbaV0udmFsdWUuY29va2VkKTtcblxuXHRcdFx0XHRcdGlmIChpIDwgdmFsdWVzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2godmFsdWVzW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHJlc3VsdC5qb2luKFwiXCIpKSkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRoaXNFeHByZXNzaW9uO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIFRoaXNFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIHRoaXNBcmcgPSBjb250ZXh0LmVudi5nZXRUaGlzQmluZGluZygpO1xuXHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXNBcmcpICYmICFjb250ZXh0LmVudi5pc1N0cmljdCgpKSB7XG5cdFx0dGhpc0FyZyA9IGNvbnRleHQuZW52Lmdsb2JhbDtcblx0fVxuXG5cdHJldHVybiBjb250ZXh0LnJlc3VsdCh0aGlzQXJnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRocm93U3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtUaHJvd1N0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIFRocm93U3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIGFyZztcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUaHJvd1N0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5hcmd1bWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGFyZyA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShhcmcpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHJ5U3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtleGVjdXRlQmxvY2ssIFRyeVN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBleGVjdXRlQmxvY2soY29udGV4dCwgYm9keSwgc3dhbGxvdykge1xuXHR2YXIgcmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGVCbG9jayQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRyZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKGJvZHksIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG5vZGUsIGksIGFsbCwgYWJvcnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFzd2FsbG93KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDEpO1xuXG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dC5yYWlzZShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKG5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXN1bHQuY2FuQnJlYWsoKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxLCA3XV0pO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBUcnlTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgcmVzdWx0LCBmaW5hbGl6ZXJSZXN1bHQsIGVyclZhciwgc2NvcGU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gVHJ5U3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUJsb2NrKGNvbnRleHQsIGNvbnRleHQubm9kZS5ibG9jay5ib2R5LCB0cnVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRmaW5hbGl6ZXJSZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdC5yYWlzZWQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuaGFuZGxlcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVyclZhciA9IGNvbnRleHQubm9kZS5oYW5kbGVyLnBhcmFtLm5hbWU7XG5cblx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyKGVyclZhciwgY29udGV4dC5lbnYuaXNTdHJpY3QoKSk7XG5cblx0XHRcdFx0c2NvcGUgPSBjb250ZXh0LmVudi5jcmVhdGVTY29wZSgpO1xuXG5cdFx0XHRcdGNvbnRleHQuZW52LmNyZWF0ZVZhcmlhYmxlKGVyclZhcik7XG5cdFx0XHRcdGNvbnRleHQuZW52LnNldFZhbHVlKGVyclZhciwgcmVzdWx0LnJlc3VsdCk7XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUJsb2NrKGNvbnRleHQsIGNvbnRleHQubm9kZS5oYW5kbGVyLmJvZHkuYm9keSwgdHJ1ZSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRpZiAoY29udGV4dC5ub2RlLmZpbmFsaXplcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuZmluYWxpemVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUJsb2NrKGNvbnRleHQsIGNvbnRleHQubm9kZS5maW5hbGl6ZXIuYm9keSk7XG5cblx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdGZpbmFsaXplclJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEoZmluYWxpemVyUmVzdWx0ICYmIGZpbmFsaXplclJlc3VsdC5jYW5CcmVhaygpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmluYWxpemVyUmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDIzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gbGV0IHNob3VsZFJhaXNlID0gZmFsc2U7XG4vLyBsZXQgc2hvdWxkUmV0dXJuID0gZmFsc2U7XG5cbi8vIGxldCBzaG91bGRUaHJvdyA9IHJlc3VsdCAmJiByZXN1bHQucmFpc2VkO1xuXG4vLyBpZiB0aGVyZSBpcyBubyBjYXRjaCBPUiBpZiBhbiBlcnJvciBpcyByYWlzZWQgd2l0aGluIHRoZSBjYXRjaCB3ZSBuZWVkIHRvIHBhc3MgdGhhdCBvblxuLy8gaWYgKHJlc3VsdCAmJiByZXN1bHQucmFpc2VkKSB7XG4vLyBcdHNob3VsZFJhaXNlID0gdHJ1ZTtcbi8vIFx0Ly8geWllbGQgcmVzdWx0O1xuLy8gfVxuXG4vLyBzaG91bGRSZXR1cm4gPSB0cnVlO1xuXG4vLyBpZiAoc2hvdWxkUmFpc2UpIHtcbi8vIFx0dHJ5IHtcbi8vIFx0XHR0aHJvdyByZXN1bHQucmVzdWx0O1xuLy8gXHR9IGNhdGNoIChlcnIpIHtcbi8vIFx0XHR0aHJvdyBlcnI7XG4vLyBcdH0gZmluYWxseSB7XG4vLyBcdFx0aWYgKHNob3VsZFJldHVybikge1xuLy8gXHRcdFx0cmV0dXJuIGZpbmFsaXplclJlc3VsdDtcbi8vIFx0XHR9XG4vLyBcdH1cbi8vIH0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFVuYXJ5RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbVW5hcnlFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF9lbnZSZWZlcmVuY2UgPSByZXF1aXJlKFwiLi4vZW52L3JlZmVyZW5jZVwiKTtcblxudmFyIF9lbnZQcm9wZXJ0eVJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcHJvcGVydHktcmVmZXJlbmNlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gVW5hcnlFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iamVjdEZhY3RvcnksIHJlc3VsdCwgdmFsdWUsIG5ld1ZhbHVlLCB0eXBlLCBkZWxldGVkLCByZXNvbHZlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBVbmFyeUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0b2JqZWN0RmFjdG9yeSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkLCBuZXdWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0Lm5vZGUub3BlcmF0b3I7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSBjb250ZXh0JDEkMC50MCA9PT0gXCJ0eXBlb2ZcIiA/IDggOiBjb250ZXh0JDEkMC50MCA9PT0gXCItXCIgPyAxMiA6IGNvbnRleHQkMSQwLnQwID09PSBcIitcIiA/IDE5IDogY29udGV4dCQxJDAudDAgPT09IFwiIVwiID8gMjYgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJ+XCIgPyAyOSA6IGNvbnRleHQkMSQwLnQwID09PSBcImRlbGV0ZVwiID8gMzYgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJ2b2lkXCIgPyA0OSA6IDUxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmIChyZXN1bHQgaW5zdGFuY2VvZiBfZW52UmVmZXJlbmNlLlJlZmVyZW5jZSAmJiByZXN1bHQuaXNVbnJlc29sdmVkKCkpIHtcblx0XHRcdFx0XHR0eXBlID0gXCJ1bmRlZmluZWRcIjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdHR5cGUgPSB2YWx1ZSA/IHZhbHVlLnR5cGUgOiBcInVuZGVmaW5lZFwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3VmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0eXBlKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKSh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gLWNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDEuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDEsIGNvbnRleHQkMSQwLnQyKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDMgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKSh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ0ID0gK2NvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDMuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDMsIGNvbnRleHQkMSQwLnQ0KTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0bmV3VmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSghKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKHZhbHVlKSk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdHZhbHVlID0gcmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ1ID0gb2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludDMyKSh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ2ID0gfmNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDUuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDUsIGNvbnRleHQkMSQwLnQ2KTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0ZGVsZXRlZCA9IHRydWU7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdCBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0NTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc29sdmVkID0gIXJlc3VsdC5pc1VucmVzb2x2ZWQoKTtcblxuXHRcdFx0XHRpZiAoIWNvbnRleHQuZW52LmlzU3RyaWN0KCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoISghcmVzb2x2ZWQgfHwgIShyZXN1bHQgaW5zdGFuY2VvZiBfZW52UHJvcGVydHlSZWZlcmVuY2UuUHJvcGVydHlSZWZlcmVuY2UpIHx8IHJlc3VsdC51bnF1YWxpZmllZCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFN5bnRheEVycm9yKFwiRGVsZXRlIG9mIGFuIHVucXVhbGlmaWVkIGlkZW50aWZpZXIgaW4gc3RyaWN0IG1vZGUuXCIpKSk7XG5cblx0XHRcdGNhc2UgNDI6XG5cblx0XHRcdFx0aWYgKHJlc29sdmVkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlZCA9IHJlc3VsdFtcImRlbGV0ZVwiXSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Nztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmFyZ3VtZW50Lm9iamVjdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Nztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgUmVmZXJlbmNlRXJyb3IoY29udGV4dC5ub2RlLmFyZ3VtZW50Lm9iamVjdC5uYW1lICsgXCIgaXMgbm90IGRlZmluZWRcIikpKTtcblxuXHRcdFx0Y2FzZSA0NzpcblxuXHRcdFx0XHRuZXdWYWx1ZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlbGV0ZWQpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDQ5OlxuXHRcdFx0XHRuZXdWYWx1ZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHVuZGVmaW5lZCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgNTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgU3ludGF4RXJyb3IoXCJVbmtub3duIHVuYXJ5IG9wZXJhdG9yOiBcIiArIGNvbnRleHQubm9kZS5vcGVyYXRvcikpKTtcblxuXHRcdFx0Y2FzZSA1Mjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChuZXdWYWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDUzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVXBkYXRlRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbVXBkYXRlRXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIFVwZGF0ZUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSwgcmVmLCBvcmlnaW5hbFZhbHVlLCBuZXdWYWx1ZSwgbmV3V3JhcHBlZFZhbHVlLCByZXR1cm5WYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBVcGRhdGVFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iamVjdEZhY3RvcnkgPSBjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5hcmd1bWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJlZiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkQXNzaWdubWVudChyZWYsIGNvbnRleHQuZW52LmlzU3RyaWN0KCkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikocmVmLmdldFZhbHVlKCkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRuZXdWYWx1ZSA9IG9yaWdpbmFsVmFsdWU7XG5cblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS5vcGVyYXRvciA9PT0gXCIrK1wiKSB7XG5cdFx0XHRcdFx0bmV3VmFsdWUrKztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXdWYWx1ZS0tO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3V3JhcHBlZFZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3VmFsdWUpO1xuXG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShvcmlnaW5hbFZhbHVlKTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IGNvbnRleHQubm9kZS5wcmVmaXggPyBuZXdXcmFwcGVkVmFsdWUgOiBvcmlnaW5hbFZhbHVlO1xuXG5cdFx0XHRcdHJlZi5zZXRWYWx1ZShuZXdXcmFwcGVkVmFsdWUpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KHJldHVyblZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVmFyaWFibGVEZWNsYXJhdGlvbjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdGlvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRpb24oY29udGV4dCkge1xuXHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBkZWNsO1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdGlvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAzO1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmRlY2xhcmF0aW9ucyk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVjbCA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGRlY2wpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSgzKTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxOTtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIxO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgyMSk7XG5cblx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMTgpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuZW1wdHkoKSk7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbMywgMTQsIDE4LCAyNl0sIFsxOSwsIDIxLCAyNV1dKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFZhcmlhYmxlRGVjbGFyYXRvcjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdG9yKGNvbnRleHQpIHtcblx0dmFyIG5hbWUsIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRuYW1lID0gY29udGV4dC5ub2RlLmlkLm5hbWU7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmluaXQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRjYXNlIDY6XG5cblx0XHRcdFx0Ly8gdmFyaWFibGVzIGhhdmUgYWxyZWFkeSBiZWVuIGhvaXN0ZWQgc28gd2UganVzdCBuZWVkIHRvIGluaXRpYWxpemUgdGhlbSBpZiBkZWZpbmVkXG5cdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQuZW52LnNldFZhbHVlKG5hbWUsIHZhbHVlLmdldFZhbHVlKCkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5nZXRSZWZlcmVuY2UobmFtZSkpKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gV2l0aFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbV2l0aFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gV2l0aFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBvYmosIHNjb3BlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFdpdGhTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFjb250ZXh0LmVudi5pc1N0cmljdCgpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFN5bnRheEVycm9yKFwiU3RyaWN0IG1vZGUgY29kZSBtYXkgbm90IGluY2x1ZGUgYSB3aXRoIHN0YXRlbWVudFwiKSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLm9iamVjdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQob2JqKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBUeXBlRXJyb3Iob2JqLmNsYXNzTmFtZSArIFwiIGhhcyBubyBwcm9wZXJ0aWVzXCIpKSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0c2NvcGUgPSBjb250ZXh0LmVudi5jcmVhdGVPYmplY3RTY29wZShvYmosIGNvbnRleHQuZW52LmdldFRoaXNCaW5kaW5nKCkpO1xuXG5cdFx0XHRcdHNjb3BlLmluaXQoY29udGV4dC5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiXX0=
