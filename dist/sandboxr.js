(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SandBoxr = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _src = require("./src");

exports["default"] = _src.SandBoxr;
module.exports = exports["default"];
},{"./src":346}],2:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/array/from"), __esModule: true };
},{"core-js/library/fn/array/from":35}],3:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/get-iterator"), __esModule: true };
},{"core-js/library/fn/get-iterator":36}],4:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/math/sign"), __esModule: true };
},{"core-js/library/fn/math/sign":37}],5:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/epsilon"), __esModule: true };
},{"core-js/library/fn/number/epsilon":38}],6:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/max-safe-integer"), __esModule: true };
},{"core-js/library/fn/number/max-safe-integer":39}],7:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/number/min-safe-integer"), __esModule: true };
},{"core-js/library/fn/number/min-safe-integer":40}],8:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/assign"), __esModule: true };
},{"core-js/library/fn/object/assign":41}],9:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/create"), __esModule: true };
},{"core-js/library/fn/object/create":42}],10:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/define-property"), __esModule: true };
},{"core-js/library/fn/object/define-property":43}],11:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/get-own-property-descriptor"), __esModule: true };
},{"core-js/library/fn/object/get-own-property-descriptor":44}],12:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/keys"), __esModule: true };
},{"core-js/library/fn/object/keys":45}],13:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/set-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/set-prototype-of":46}],14:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/promise"), __esModule: true };
},{"core-js/library/fn/promise":47}],15:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/string/from-code-point"), __esModule: true };
},{"core-js/library/fn/string/from-code-point":48}],16:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol"), __esModule: true };
},{"core-js/library/fn/symbol":50}],17:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/for"), __esModule: true };
},{"core-js/library/fn/symbol/for":49}],18:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/iterator"), __esModule: true };
},{"core-js/library/fn/symbol/iterator":51}],19:[function(require,module,exports){
"use strict";

exports["default"] = Function.prototype.bind;
exports.__esModule = true;
},{}],20:[function(require,module,exports){
"use strict";

exports["default"] = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

exports.__esModule = true;
},{}],21:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;

      _Object$defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
})();

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":10}],22:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = function (obj, key, value) {
  if (key in obj) {
    _Object$defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":10}],23:[function(require,module,exports){
"use strict";

var _Object$getOwnPropertyDescriptor = require("babel-runtime/core-js/object/get-own-property-descriptor")["default"];

exports["default"] = function get(_x, _x2, _x3) {
  var _again = true;

  _function: while (_again) {
    var object = _x,
        property = _x2,
        receiver = _x3;
    desc = parent = getter = undefined;
    _again = false;
    if (object === null) object = Function.prototype;

    var desc = _Object$getOwnPropertyDescriptor(object, property);

    if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);

      if (parent === null) {
        return undefined;
      } else {
        _x = parent;
        _x2 = property;
        _x3 = receiver;
        _again = true;
        continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;

      if (getter === undefined) {
        return undefined;
      }

      return getter.call(receiver);
    }
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/get-own-property-descriptor":11}],24:[function(require,module,exports){
"use strict";

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Object$setPrototypeOf = require("babel-runtime/core-js/object/set-prototype-of")["default"];

exports["default"] = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = _Object$create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/object/set-prototype-of":13}],25:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
};

exports.__esModule = true;
},{}],26:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};

    if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }

    newObj["default"] = obj;
    return newObj;
  }
};

exports.__esModule = true;
},{}],27:[function(require,module,exports){
"use strict";

var _Array$from = require("babel-runtime/core-js/array/from")["default"];

exports["default"] = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return _Array$from(arr);
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/array/from":2}],28:[function(require,module,exports){
(function (global){
// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g =
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this;

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = require("./runtime");

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}

module.exports = { "default": module.exports, __esModule: true };

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlXG4vLyBrZXB0IGlkZW50aWNhbCB0byB0aGUgd2F5IGl0IGlzIG9idGFpbmVkIGluIHJ1bnRpbWUuanNcbnZhciBnID1cbiAgdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOlxuICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB0aGlzO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IG1vZHVsZS5leHBvcnRzLCBfX2VzTW9kdWxlOiB0cnVlIH07XG4iXX0=
},{"./runtime":29}],29:[function(require,module,exports){
(function (process,global){
/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */

"use strict";

var _Symbol = require("babel-runtime/core-js/symbol")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

!(function (global) {
  "use strict";

  var hasOwn = Object.prototype.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var iteratorSymbol = typeof _Symbol === "function" && _Symbol$iterator || "@@iterator";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided, then outerFn.prototype instanceof Generator.
    var generator = _Object$create((outerFn || Generator).prototype);

    generator._invoke = makeInvokeMethod(innerFn, self || null, new Context(tryLocsList || []));

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function (method) {
      prototype[method] = function (arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function (genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor ? ctor === GeneratorFunction ||
    // For the native GeneratorFunction constructor, the best we can
    // do is to check its .name property.
    (ctor.displayName || ctor.name) === "GeneratorFunction" : false;
  };

  runtime.mark = function (genFun) {
    genFun.__proto__ = GeneratorFunctionPrototype;
    genFun.prototype = _Object$create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `value instanceof AwaitArgument` to determine if the yielded value is
  // meant to be awaited. Some may consider the name of this method too
  // cutesy, but they are curmudgeons.
  runtime.awrap = function (arg) {
    return new AwaitArgument(arg);
  };

  function AwaitArgument(arg) {
    this.arg = arg;
  }

  function AsyncIterator(generator) {
    // This invoke function is written in a style that assumes some
    // calling function (or Promise) will handle exceptions.
    function invoke(method, arg) {
      var result = generator[method](arg);
      var value = result.value;
      return value instanceof AwaitArgument ? _Promise.resolve(value.arg).then(invokeNext, invokeThrow) : _Promise.resolve(value).then(function (unwrapped) {
        // When a yielded Promise is resolved, its final value becomes
        // the .value of the Promise<{value,done}> result for the
        // current iteration. If the Promise is rejected, however, the
        // result for this iteration will be rejected with the same
        // reason. Note that rejections of yielded Promises are not
        // thrown back into the generator function, as is the case
        // when an awaited Promise is rejected. This difference in
        // behavior between yield and await is important, because it
        // allows the consumer to decide what to do with the yielded
        // rejection (swallow it and continue, manually .throw it back
        // into the generator, abandon iteration, whatever). With
        // await, by contrast, there is no opportunity to examine the
        // rejection reason outside the generator function, so the
        // only option is to throw it from the await expression, and
        // let the generator function handle the exception.
        result.value = unwrapped;
        return result;
      });
    }

    if (typeof process === "object" && process.domain) {
      invoke = process.domain.bind(invoke);
    }

    var invokeNext = invoke.bind(generator, "next");
    var invokeThrow = invoke.bind(generator, "throw");
    var invokeReturn = invoke.bind(generator, "return");
    var previousPromise;

    function enqueue(method, arg) {
      var enqueueResult =
      // If enqueue has been called before, then we want to wait until
      // all previous Promises have been resolved before calling invoke,
      // so that results are always delivered in the correct order. If
      // enqueue has not been called before, then it is important to
      // call invoke immediately, without waiting on a callback to fire,
      // so that the async generator function has the opportunity to do
      // any necessary setup in a predictable way. This predictability
      // is why the Promise constructor synchronously invokes its
      // executor callback, and why async functions synchronously
      // execute code before the first await. Since we implement simple
      // async functions in terms of async generators, it is especially
      // important to get this right, even though it requires care.
      previousPromise ? previousPromise.then(function () {
        return invoke(method, arg);
      }) : new _Promise(function (resolve) {
        resolve(invoke(method, arg));
      });

      // Avoid propagating enqueueResult failures to Promises returned by
      // later invocations of the iterator.
      previousPromise = enqueueResult["catch"](function (ignored) {});

      return enqueueResult;
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function (innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));

    return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.
    : iter.next().then(function (result) {
      return result.done ? result.value : iter.next();
    });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          if (method === "return" || method === "throw" && delegate.iterator[method] === undefined) {
            // A return or throw (when the delegate iterator has no throw
            // method) always terminates the yield* loop.
            context.delegate = null;

            // If the delegate iterator has a return method, give it a
            // chance to clean up.
            var returnMethod = delegate.iterator["return"];
            if (returnMethod) {
              var record = tryCatch(returnMethod, delegate.iterator, arg);
              if (record.type === "throw") {
                // If the return method threw an exception, let that
                // exception prevail over the original return or throw.
                method = "throw";
                arg = record.arg;
                continue;
              }
            }

            if (method === "return") {
              // Continue with the outer return, now that the delegate
              // iterator has been terminated.
              continue;
            }
          }

          var record = tryCatch(delegate.iterator[method], delegate.iterator, arg);

          if (record.type === "throw") {
            context.delegate = null;

            // Like returning generator.throw(uncaught), but without the
            // overhead of an extra function call.
            method = "throw";
            arg = record.arg;
            continue;
          }

          // Delegate generator ran and handled its own exceptions so
          // regardless of what the method was, we continue as if it is
          // "next" with an undefined arg.
          method = "next";
          arg = undefined;

          var info = record.arg;
          if (info.done) {
            context[delegate.resultName] = info.value;
            context.next = delegate.nextLoc;
          } else {
            state = GenStateSuspendedYield;
            return info;
          }

          context.delegate = null;
        }

        if (method === "next") {
          if (state === GenStateSuspendedYield) {
            context.sent = arg;
          } else {
            context.sent = undefined;
          }
        } else if (method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw arg;
          }

          if (context.dispatchException(arg)) {
            // If the dispatched exception was caught by a catch block,
            // then let that catch block handle the exception normally.
            method = "next";
            arg = undefined;
          }
        } else if (method === "return") {
          context.abrupt("return", arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done ? GenStateCompleted : GenStateSuspendedYield;

          var info = {
            value: record.arg,
            done: context.done
          };

          if (record.arg === ContinueSentinel) {
            if (context.delegate && method === "next") {
              // Deliberately forget the last sent value so that we don't
              // accidentally pass it on to the delegate.
              arg = undefined;
            }
          } else {
            return info;
          }
        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(arg) call above.
          method = "throw";
          arg = record.arg;
        }
      }
    };
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[iteratorSymbol] = function () {
    return this;
  };

  Gp.toString = function () {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function (object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1,
            next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function reset(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      this.sent = undefined;
      this.done = false;
      this.delegate = null;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function stop() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function dispatchException(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;
        return !!caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }
          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function abrupt(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.next = finallyEntry.finallyLoc;
      } else {
        this.complete(record);
      }

      return ContinueSentinel;
    },

    complete: function complete(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" || record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = record.arg;
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }
    },

    finish: function finish(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function _catch(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function delegateYield(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      return ContinueSentinel;
    }
  };
})(
// Among the various tricks for obtaining a reference to the global
// object, this seems to be the most reliable technique that does not
// use indirect eval (which violates Content Security Policy).
typeof global === "object" ? global : typeof window === "object" ? window : typeof self === "object" ? self : undefined);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW5cbiAqIGFkZGl0aW9uYWwgZ3JhbnQgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpblxuICogdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX1N5bWJvbCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfUHJvbWlzZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKVtcImRlZmF1bHRcIl07XG5cbiEoZnVuY3Rpb24gKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBfU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX1N5bWJvbCRpdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBnZW5lcmF0b3IgPSBfT2JqZWN0JGNyZWF0ZSgob3V0ZXJGbiB8fCBHZW5lcmF0b3IpLnByb3RvdHlwZSk7XG5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiB8fCBudWxsLCBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSkpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICBnZW5GdW4ucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnRgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLiBTb21lIG1heSBjb25zaWRlciB0aGUgbmFtZSBvZiB0aGlzIG1ldGhvZCB0b29cbiAgLy8gY3V0ZXN5LCBidXQgdGhleSBhcmUgY3VybXVkZ2VvbnMuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIG5ldyBBd2FpdEFyZ3VtZW50KGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQXdhaXRBcmd1bWVudChhcmcpIHtcbiAgICB0aGlzLmFyZyA9IGFyZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgLy8gVGhpcyBpbnZva2UgZnVuY3Rpb24gaXMgd3JpdHRlbiBpbiBhIHN0eWxlIHRoYXQgYXNzdW1lcyBzb21lXG4gICAgLy8gY2FsbGluZyBmdW5jdGlvbiAob3IgUHJvbWlzZSkgd2lsbCBoYW5kbGUgZXhjZXB0aW9ucy5cbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZW5lcmF0b3JbbWV0aG9kXShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudCA/IF9Qcm9taXNlLnJlc29sdmUodmFsdWUuYXJnKS50aGVuKGludm9rZU5leHQsIGludm9rZVRocm93KSA6IF9Qcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgaW52b2tlID0gcHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VOZXh0ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcIm5leHRcIik7XG4gICAgdmFyIGludm9rZVRocm93ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInRocm93XCIpO1xuICAgIHZhciBpbnZva2VSZXR1cm4gPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwicmV0dXJuXCIpO1xuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgZW5xdWV1ZVJlc3VsdCA9XG4gICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pIDogbmV3IF9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUoaW52b2tlKG1ldGhvZCwgYXJnKSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZW5xdWV1ZVJlc3VsdCBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieVxuICAgICAgLy8gbGF0ZXIgaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgcHJldmlvdXNQcm9taXNlID0gZW5xdWV1ZVJlc3VsdFtcImNhdGNoXCJdKGZ1bmN0aW9uIChpZ25vcmVkKSB7fSk7XG5cbiAgICAgIHJldHVybiBlbnF1ZXVlUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIgfHwgbWV0aG9kID09PSBcInRocm93XCIgJiYgZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBBIHJldHVybiBvciB0aHJvdyAod2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIHRocm93XG4gICAgICAgICAgICAvLyBtZXRob2QpIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICB2YXIgcmV0dXJuTWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAocmV0dXJuTWV0aG9kKSB7XG4gICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChyZXR1cm5NZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuICAgICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXR1cm4gbWV0aG9kIHRocmV3IGFuIGV4Y2VwdGlvbiwgbGV0IHRoYXRcbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gcHJldmFpbCBvdmVyIHRoZSBvcmlnaW5hbCByZXR1cm4gb3IgdGhyb3cuXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHRoZSBvdXRlciByZXR1cm4sIG5vdyB0aGF0IHRoZSBkZWxlZ2F0ZVxuICAgICAgICAgICAgICAvLyBpdGVyYXRvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExpa2UgcmV0dXJuaW5nIGdlbmVyYXRvci50aHJvdyh1bmNhdWdodCksIGJ1dCB3aXRob3V0IHRoZVxuICAgICAgICAgICAgLy8gb3ZlcmhlYWQgb2YgYW4gZXh0cmEgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWxlZ2F0ZSBnZW5lcmF0b3IgcmFuIGFuZCBoYW5kbGVkIGl0cyBvd24gZXhjZXB0aW9ucyBzb1xuICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgbWV0aG9kIHdhcywgd2UgY29udGludWUgYXMgaWYgaXQgaXNcbiAgICAgICAgICAvLyBcIm5leHRcIiB3aXRoIGFuIHVuZGVmaW5lZCBhcmcuXG4gICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gYXJnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmRlbGVnYXRlICYmIG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICB0aGlzLnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcbiAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJiAodHlwZSA9PT0gXCJicmVha1wiIHx8IHR5cGUgPT09IFwiY29udGludWVcIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHwgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbi8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdFxuLy8gdXNlIGluZGlyZWN0IGV2YWwgKHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KS5cbnR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOiB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDogdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdW5kZWZpbmVkKTsiXX0=
},{"_process":30,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/promise":14,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":18}],30:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;

function drainQueue() {
    if (draining) {
        return;
    }
    draining = true;
    var currentQueue;
    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        var i = -1;
        while (++i < len) {
            currentQueue[i]();
        }
        len = queue.length;
    }
    draining = false;
}
process.nextTick = function (fun) {
    queue.push(fun);
    if (!draining) {
        setTimeout(drainQueue, 0);
    }
};

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],31:[function(require,module,exports){
require('../modules/es6.object.to-string');
require('../modules/es6.string.iterator');
require('../modules/web.dom.iterable');
require('../modules/es6.promise');
module.exports = require('../modules/$.core').Promise;
},{"../modules/$.core":128,"../modules/es6.object.to-string":178,"../modules/es6.promise":179,"../modules/es6.string.iterator":180,"../modules/web.dom.iterable":183}],32:[function(require,module,exports){
require('../modules/es6.symbol');
module.exports = require('../modules/$.core').Symbol;
},{"../modules/$.core":128,"../modules/es6.symbol":182}],33:[function(require,module,exports){
require('../../modules/es6.math.sign');
module.exports = require('../../modules/$.core').Math.sign;
},{"../../modules/$.core":128,"../../modules/es6.math.sign":177}],34:[function(require,module,exports){
require('../../modules/es6.string.repeat');
module.exports = require('../../modules/$.core').String.repeat;
},{"../../modules/$.core":128,"../../modules/es6.string.repeat":181}],35:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/es6.array.from');
module.exports = require('../../modules/$.core').Array.from;
},{"../../modules/$.core":57,"../../modules/es6.array.from":108,"../../modules/es6.string.iterator":121}],36:[function(require,module,exports){
require('../modules/web.dom.iterable');
require('../modules/es6.string.iterator');
module.exports = require('../modules/core.get-iterator');
},{"../modules/core.get-iterator":107,"../modules/es6.string.iterator":121,"../modules/web.dom.iterable":123}],37:[function(require,module,exports){
arguments[4][33][0].apply(exports,arguments)
},{"../../modules/$.core":57,"../../modules/es6.math.sign":110,"dup":33}],38:[function(require,module,exports){
require('../../modules/es6.number.epsilon');
module.exports = Math.pow(2, -52);
},{"../../modules/es6.number.epsilon":111}],39:[function(require,module,exports){
require('../../modules/es6.number.max-safe-integer');
module.exports = 0x1fffffffffffff;
},{"../../modules/es6.number.max-safe-integer":112}],40:[function(require,module,exports){
require('../../modules/es6.number.min-safe-integer');
module.exports = -0x1fffffffffffff;
},{"../../modules/es6.number.min-safe-integer":113}],41:[function(require,module,exports){
require('../../modules/es6.object.assign');
module.exports = require('../../modules/$.core').Object.assign;
},{"../../modules/$.core":57,"../../modules/es6.object.assign":114}],42:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function create(P, D){
  return $.create(P, D);
};
},{"../../modules/$":80}],43:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function defineProperty(it, key, desc){
  return $.setDesc(it, key, desc);
};
},{"../../modules/$":80}],44:[function(require,module,exports){
var $ = require('../../modules/$');
require('../../modules/es6.object.get-own-property-descriptor');
module.exports = function getOwnPropertyDescriptor(it, key){
  return $.getDesc(it, key);
};
},{"../../modules/$":80,"../../modules/es6.object.get-own-property-descriptor":115}],45:[function(require,module,exports){
require('../../modules/es6.object.keys');
module.exports = require('../../modules/$.core').Object.keys;
},{"../../modules/$.core":57,"../../modules/es6.object.keys":116}],46:[function(require,module,exports){
require('../../modules/es6.object.set-prototype-of');
module.exports = require('../../modules/$.core').Object.setPrototypeOf;
},{"../../modules/$.core":57,"../../modules/es6.object.set-prototype-of":117}],47:[function(require,module,exports){
arguments[4][31][0].apply(exports,arguments)
},{"../modules/$.core":57,"../modules/es6.object.to-string":118,"../modules/es6.promise":119,"../modules/es6.string.iterator":121,"../modules/web.dom.iterable":123,"dup":31}],48:[function(require,module,exports){
require('../../modules/es6.string.from-code-point');
module.exports = require('../../modules/$.core').String.fromCodePoint;
},{"../../modules/$.core":57,"../../modules/es6.string.from-code-point":120}],49:[function(require,module,exports){
require('../../modules/es6.symbol');
module.exports = require('../../modules/$.core').Symbol['for'];
},{"../../modules/$.core":57,"../../modules/es6.symbol":122}],50:[function(require,module,exports){
require('../../modules/es6.symbol');
module.exports = require('../../modules/$.core').Symbol;
},{"../../modules/$.core":57,"../../modules/es6.symbol":122}],51:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/web.dom.iterable');
module.exports = require('../../modules/$.wks')('iterator');
},{"../../modules/$.wks":105,"../../modules/es6.string.iterator":121,"../../modules/web.dom.iterable":123}],52:[function(require,module,exports){
module.exports = function(it){
  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
  return it;
};
},{}],53:[function(require,module,exports){
var isObject = require('./$.is-object');
module.exports = function(it){
  if(!isObject(it))throw TypeError(it + ' is not an object!');
  return it;
};
},{"./$.is-object":73}],54:[function(require,module,exports){
// 19.1.2.1 Object.assign(target, source, ...)
var toObject = require('./$.to-object')
  , IObject  = require('./$.iobject')
  , enumKeys = require('./$.enum-keys');

module.exports = require('./$.fails')(function(){
  return Symbol() in Object.assign({}); // Object.assign available and Symbol is native
}) ? function assign(target, source){   // eslint-disable-line no-unused-vars
  var T = toObject(target)
    , l = arguments.length
    , i = 1;
  while(l > i){
    var S      = IObject(arguments[i++])
      , keys   = enumKeys(S)
      , length = keys.length
      , j      = 0
      , key;
    while(length > j)T[key = keys[j++]] = S[key];
  }
  return T;
} : Object.assign;
},{"./$.enum-keys":62,"./$.fails":63,"./$.iobject":71,"./$.to-object":102}],55:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./$.cof')
  , TAG = require('./$.wks')('toStringTag')
  // ES3 wrong here
  , ARG = cof(function(){ return arguments; }()) == 'Arguments';

module.exports = function(it){
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};
},{"./$.cof":56,"./$.wks":105}],56:[function(require,module,exports){
var toString = {}.toString;

module.exports = function(it){
  return toString.call(it).slice(8, -1);
};
},{}],57:[function(require,module,exports){
var core = module.exports = {};
if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef
},{}],58:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./$.a-function');
module.exports = function(fn, that, length){
  aFunction(fn);
  if(that === undefined)return fn;
  switch(length){
    case 1: return function(a){
      return fn.call(that, a);
    };
    case 2: return function(a, b){
      return fn.call(that, a, b);
    };
    case 3: return function(a, b, c){
      return fn.call(that, a, b, c);
    };
  } return function(/* ...args */){
      return fn.apply(that, arguments);
    };
};
},{"./$.a-function":52}],59:[function(require,module,exports){
var global    = require('./$.global')
  , core      = require('./$.core')
  , PROTOTYPE = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    if(own && key in exports)continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    if(isGlobal && typeof target[key] != 'function')exp = source[key];
    // bind timers to global for call from export context
    else if(type & $def.B && own)exp = ctx(out, global);
    // wrap global constructors for prevent change them in library
    else if(type & $def.W && target[key] == out)!function(C){
      exp = function(param){
        return this instanceof C ? new C(param) : C(param);
      };
      exp[PROTOTYPE] = C[PROTOTYPE];
    }(out);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export
    exports[key] = exp;
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":57,"./$.global":66}],60:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function(it){
  if(it == undefined)throw TypeError("Can't call method on  " + it);
  return it;
};
},{}],61:[function(require,module,exports){
var isObject = require('./$.is-object')
  , document = require('./$.global').document
  // in old IE typeof document.createElement is 'object'
  , is = isObject(document) && isObject(document.createElement);
module.exports = function(it){
  return is ? document.createElement(it) : {};
};
},{"./$.global":66,"./$.is-object":73}],62:[function(require,module,exports){
// all enumerable object keys, includes symbols
var $ = require('./$');
module.exports = function(it){
  var keys       = $.getKeys(it)
    , getSymbols = $.getSymbols;
  if(getSymbols){
    var symbols = getSymbols(it)
      , isEnum  = $.isEnum
      , i       = 0
      , key;
    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);
  }
  return keys;
};
},{"./$":80}],63:[function(require,module,exports){
module.exports = function(exec){
  try {
    return !!exec();
  } catch(e){
    return true;
  }
};
},{}],64:[function(require,module,exports){
var ctx         = require('./$.ctx')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , anObject    = require('./$.an-object')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
module.exports = function(iterable, entries, fn, that){
  var iterFn = getIterFn(iterable)
    , f      = ctx(fn, that, entries ? 2 : 1)
    , index  = 0
    , length, step, iterator;
  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){
    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){
    call(iterator, f, step.value, entries);
  }
};
},{"./$.an-object":53,"./$.ctx":58,"./$.is-array-iter":72,"./$.iter-call":74,"./$.to-length":101,"./core.get-iterator-method":106}],65:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toString  = {}.toString
  , toIObject = require('./$.to-iobject')
  , getNames  = require('./$').getNames;

var windowNames = typeof window == 'object' && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function(it){
  try {
    return getNames(it);
  } catch(e){
    return windowNames.slice();
  }
};

module.exports.get = function getOwnPropertyNames(it){
  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);
  return getNames(toIObject(it));
};
},{"./$":80,"./$.to-iobject":100}],66:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var UNDEFINED = 'undefined';
var global = module.exports = typeof window != UNDEFINED && window.Math == Math
  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();
if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef
},{}],67:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function(it, key){
  return hasOwnProperty.call(it, key);
};
},{}],68:[function(require,module,exports){
var $          = require('./$')
  , createDesc = require('./$.property-desc');
module.exports = require('./$.support-desc') ? function(object, key, value){
  return $.setDesc(object, key, createDesc(1, value));
} : function(object, key, value){
  object[key] = value;
  return object;
};
},{"./$":80,"./$.property-desc":86,"./$.support-desc":95}],69:[function(require,module,exports){
module.exports = require('./$.global').document && document.documentElement;
},{"./$.global":66}],70:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function(fn, args, that){
  var un = that === undefined;
  switch(args.length){
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return              fn.apply(that, args);
};
},{}],71:[function(require,module,exports){
// indexed object, fallback for non-array-like ES3 strings
var cof = require('./$.cof');
module.exports = 0 in Object('z') ? Object : function(it){
  return cof(it) == 'String' ? it.split('') : Object(it);
};
},{"./$.cof":56}],72:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./$.iterators')
  , ITERATOR  = require('./$.wks')('iterator');
module.exports = function(it){
  return (Iterators.Array || Array.prototype[ITERATOR]) === it;
};
},{"./$.iterators":79,"./$.wks":105}],73:[function(require,module,exports){
// http://jsperf.com/core-js-isobject
module.exports = function(it){
  return it !== null && (typeof it == 'object' || typeof it == 'function');
};
},{}],74:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./$.an-object');
module.exports = function(iterator, fn, value, entries){
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch(e){
    var ret = iterator['return'];
    if(ret !== undefined)anObject(ret.call(iterator));
    throw e;
  }
};
},{"./$.an-object":53}],75:[function(require,module,exports){
'use strict';
var $ = require('./$')
  , IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });

module.exports = function(Constructor, NAME, next){
  Constructor.prototype = $.create(IteratorPrototype, {next: require('./$.property-desc')(1,next)});
  require('./$.tag')(Constructor, NAME + ' Iterator');
};
},{"./$":80,"./$.hide":68,"./$.property-desc":86,"./$.tag":96,"./$.wks":105}],76:[function(require,module,exports){
'use strict';
var LIBRARY         = require('./$.library')
  , $def            = require('./$.def')
  , $redef          = require('./$.redef')
  , hide            = require('./$.hide')
  , has             = require('./$.has')
  , SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , Iterators       = require('./$.iterators')
  , BUGGY           = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`
  , FF_ITERATOR     = '@@iterator'
  , KEYS            = 'keys'
  , VALUES          = 'values';
var returnThis = function(){ return this; };
module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){
  require('./$.iter-create')(Constructor, NAME, next);
  var createMethod = function(kind){
    switch(kind){
      case KEYS: return function keys(){ return new Constructor(this, kind); };
      case VALUES: return function values(){ return new Constructor(this, kind); };
    } return function entries(){ return new Constructor(this, kind); };
  };
  var TAG      = NAME + ' Iterator'
    , proto    = Base.prototype
    , _native  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]
    , _default = _native || createMethod(DEFAULT)
    , methods, key;
  // Fix native
  if(_native){
    var IteratorPrototype = require('./$').getProto(_default.call(new Base));
    // Set @@toStringTag to native iterators
    require('./$.tag')(IteratorPrototype, TAG, true);
    // FF fix
    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, SYMBOL_ITERATOR, returnThis);
  }
  // Define iterator
  if(!LIBRARY || FORCE)hide(proto, SYMBOL_ITERATOR, _default);
  // Plug for library
  Iterators[NAME] = _default;
  Iterators[TAG]  = returnThis;
  if(DEFAULT){
    methods = {
      keys:    IS_SET            ? _default : createMethod(KEYS),
      values:  DEFAULT == VALUES ? _default : createMethod(VALUES),
      entries: DEFAULT != VALUES ? _default : createMethod('entries')
    };
    if(FORCE)for(key in methods){
      if(!(key in proto))$redef(proto, key, methods[key]);
    } else $def($def.P + $def.F * BUGGY, NAME, methods);
  }
};
},{"./$":80,"./$.def":59,"./$.has":67,"./$.hide":68,"./$.iter-create":75,"./$.iterators":79,"./$.library":82,"./$.redef":87,"./$.tag":96,"./$.wks":105}],77:[function(require,module,exports){
var SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , SAFE_CLOSING    = false;
try {
  var riter = [7][SYMBOL_ITERATOR]();
  riter['return'] = function(){ SAFE_CLOSING = true; };
  Array.from(riter, function(){ throw 2; });
} catch(e){ /* empty */ }
module.exports = function(exec){
  if(!SAFE_CLOSING)return false;
  var safe = false;
  try {
    var arr  = [7]
      , iter = arr[SYMBOL_ITERATOR]();
    iter.next = function(){ safe = true; };
    arr[SYMBOL_ITERATOR] = function(){ return iter; };
    exec(arr);
  } catch(e){ /* empty */ }
  return safe;
};
},{"./$.wks":105}],78:[function(require,module,exports){
module.exports = function(done, value){
  return {value: value, done: !!done};
};
},{}],79:[function(require,module,exports){
module.exports = {};
},{}],80:[function(require,module,exports){
var $Object = Object;
module.exports = {
  create:     $Object.create,
  getProto:   $Object.getPrototypeOf,
  isEnum:     {}.propertyIsEnumerable,
  getDesc:    $Object.getOwnPropertyDescriptor,
  setDesc:    $Object.defineProperty,
  setDescs:   $Object.defineProperties,
  getKeys:    $Object.keys,
  getNames:   $Object.getOwnPropertyNames,
  getSymbols: $Object.getOwnPropertySymbols,
  each:       [].forEach
};
},{}],81:[function(require,module,exports){
var $         = require('./$')
  , toIObject = require('./$.to-iobject');
module.exports = function(object, el){
  var O      = toIObject(object)
    , keys   = $.getKeys(O)
    , length = keys.length
    , index  = 0
    , key;
  while(length > index)if(O[key = keys[index++]] === el)return key;
};
},{"./$":80,"./$.to-iobject":100}],82:[function(require,module,exports){
module.exports = true;
},{}],83:[function(require,module,exports){
var global    = require('./$.global')
  , macrotask = require('./$.task').set
  , Observer  = global.MutationObserver || global.WebKitMutationObserver
  , process   = global.process
  , isNode    = require('./$.cof')(process) == 'process'
  , head, last, notify;

var flush = function(){
  var parent, domain;
  if(isNode && (parent = process.domain)){
    process.domain = null;
    parent.exit();
  }
  while(head){
    domain = head.domain;
    if(domain)domain.enter();
    head.fn.call(); // <- currently we use it only for Promise - try / catch not required
    if(domain)domain.exit();
    head = head.next;
  } last = undefined;
  if(parent)parent.enter();
}

// Node.js
if(isNode){
  notify = function(){
    process.nextTick(flush);
  };
// browsers with MutationObserver
} else if(Observer){
  var toggle = 1
    , node   = document.createTextNode('');
  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new
  notify = function(){
    node.data = toggle = -toggle;
  };
// for other environments - macrotask based on:
// - setImmediate
// - MessageChannel
// - window.postMessag
// - onreadystatechange
// - setTimeout
} else {
  notify = function(){
    // strange IE + webpack dev server bug - use .call(global)
    macrotask.call(global, flush);
  };
}

module.exports = function asap(fn){
  var task = {fn: fn, next: undefined, domain: isNode && process.domain};
  if(last)last.next = task;
  if(!head){
    head = task;
    notify();
  } last = task;
};
},{"./$.cof":56,"./$.global":66,"./$.task":97}],84:[function(require,module,exports){
var $redef = require('./$.redef');
module.exports = function(target, src){
  for(var key in src)$redef(target, key, src[key]);
  return target;
};
},{"./$.redef":87}],85:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
module.exports = function(KEY, exec){
  var $def = require('./$.def')
    , fn   = (require('./$.core').Object || {})[KEY] || Object[KEY]
    , exp  = {};
  exp[KEY] = exec(fn);
  $def($def.S + $def.F * require('./$.fails')(function(){ fn(1); }), 'Object', exp);
};
},{"./$.core":57,"./$.def":59,"./$.fails":63}],86:[function(require,module,exports){
module.exports = function(bitmap, value){
  return {
    enumerable  : !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable    : !(bitmap & 4),
    value       : value
  };
};
},{}],87:[function(require,module,exports){
module.exports = require('./$.hide');
},{"./$.hide":68}],88:[function(require,module,exports){
module.exports = Object.is || function is(x, y){
  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
};
},{}],89:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var getDesc  = require('./$').getDesc
  , isObject = require('./$.is-object')
  , anObject = require('./$.an-object');
var check = function(O, proto){
  anObject(O);
  if(!isObject(proto) && proto !== null)throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} // eslint-disable-line
    ? function(buggy, set){
        try {
          set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);
          set({}, []);
        } catch(e){ buggy = true; }
        return function setPrototypeOf(O, proto){
          check(O, proto);
          if(buggy)O.__proto__ = proto;
          else set(O, proto);
          return O;
        };
      }()
    : undefined),
  check: check
};
},{"./$":80,"./$.an-object":53,"./$.ctx":58,"./$.is-object":73}],90:[function(require,module,exports){
var global = require('./$.global')
  , SHARED = '__core-js_shared__'
  , store  = global[SHARED] || (global[SHARED] = {});
module.exports = function(key){
  return store[key] || (store[key] = {});
};
},{"./$.global":66}],91:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
module.exports = Math.sign || function sign(x){
  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
};
},{}],92:[function(require,module,exports){
'use strict';
var $       = require('./$')
  , SPECIES = require('./$.wks')('species');
module.exports = function(C){
  if(require('./$.support-desc') && !(SPECIES in C))$.setDesc(C, SPECIES, {
    configurable: true,
    get: function(){ return this; }
  });
};
},{"./$":80,"./$.support-desc":95,"./$.wks":105}],93:[function(require,module,exports){
module.exports = function(it, Constructor, name){
  if(!(it instanceof Constructor))throw TypeError(name + ": use the 'new' operator!");
  return it;
};
},{}],94:[function(require,module,exports){
// true  -> String#at
// false -> String#codePointAt
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');
module.exports = function(TO_STRING){
  return function(that, pos){
    var s = String(defined(that))
      , i = toInteger(pos)
      , l = s.length
      , a, b;
    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l
      || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
        ? TO_STRING ? s.charAt(i) : a
        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};
},{"./$.defined":60,"./$.to-integer":99}],95:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./$.fails')(function(){
  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
});
},{"./$.fails":63}],96:[function(require,module,exports){
var has  = require('./$.has')
  , hide = require('./$.hide')
  , TAG  = require('./$.wks')('toStringTag');

module.exports = function(it, tag, stat){
  if(it && !has(it = stat ? it : it.prototype, TAG))hide(it, TAG, tag);
};
},{"./$.has":67,"./$.hide":68,"./$.wks":105}],97:[function(require,module,exports){
'use strict';
var ctx                = require('./$.ctx')
  , invoke             = require('./$.invoke')
  , html               = require('./$.html')
  , cel                = require('./$.dom-create')
  , global             = require('./$.global')
  , process            = global.process
  , setTask            = global.setImmediate
  , clearTask          = global.clearImmediate
  , MessageChannel     = global.MessageChannel
  , counter            = 0
  , queue              = {}
  , ONREADYSTATECHANGE = 'onreadystatechange'
  , defer, channel, port;
var run = function(){
  var id = +this;
  if(queue.hasOwnProperty(id)){
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listner = function(event){
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if(!setTask || !clearTask){
  setTask = function setImmediate(fn){
    var args = [], i = 1;
    while(arguments.length > i)args.push(arguments[i++]);
    queue[++counter] = function(){
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id){
    delete queue[id];
  };
  // Node.js 0.8-
  if(require('./$.cof')(process) == 'process'){
    defer = function(id){
      process.nextTick(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if(MessageChannel){
    channel = new MessageChannel;
    port    = channel.port2;
    channel.port1.onmessage = listner;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScript){
    defer = function(id){
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listner, false);
  // IE8-
  } else if(ONREADYSTATECHANGE in cel('script')){
    defer = function(id){
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function(id){
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set:   setTask,
  clear: clearTask
};
},{"./$.cof":56,"./$.ctx":58,"./$.dom-create":61,"./$.global":66,"./$.html":69,"./$.invoke":70}],98:[function(require,module,exports){
var toInteger = require('./$.to-integer')
  , max       = Math.max
  , min       = Math.min;
module.exports = function(index, length){
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};
},{"./$.to-integer":99}],99:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil  = Math.ceil
  , floor = Math.floor;
module.exports = function(it){
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};
},{}],100:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./$.iobject')
  , defined = require('./$.defined');
module.exports = function(it){
  return IObject(defined(it));
};
},{"./$.defined":60,"./$.iobject":71}],101:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./$.to-integer')
  , min       = Math.min;
module.exports = function(it){
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};
},{"./$.to-integer":99}],102:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./$.defined');
module.exports = function(it){
  return Object(defined(it));
};
},{"./$.defined":60}],103:[function(require,module,exports){
var id = 0
  , px = Math.random();
module.exports = function(key){
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};
},{}],104:[function(require,module,exports){
module.exports = function(){ /* empty */ };
},{}],105:[function(require,module,exports){
var store  = require('./$.shared')('wks')
  , Symbol = require('./$.global').Symbol;
module.exports = function(name){
  return store[name] || (store[name] =
    Symbol && Symbol[name] || (Symbol || require('./$.uid'))('Symbol.' + name));
};
},{"./$.global":66,"./$.shared":90,"./$.uid":103}],106:[function(require,module,exports){
var classof   = require('./$.classof')
  , ITERATOR  = require('./$.wks')('iterator')
  , Iterators = require('./$.iterators');
module.exports = require('./$.core').getIteratorMethod = function(it){
  if(it != undefined)return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];
};
},{"./$.classof":55,"./$.core":57,"./$.iterators":79,"./$.wks":105}],107:[function(require,module,exports){
var anObject = require('./$.an-object')
  , get      = require('./core.get-iterator-method');
module.exports = require('./$.core').getIterator = function(it){
  var iterFn = get(it);
  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};
},{"./$.an-object":53,"./$.core":57,"./core.get-iterator-method":106}],108:[function(require,module,exports){
'use strict';
var ctx         = require('./$.ctx')
  , $def        = require('./$.def')
  , toObject    = require('./$.to-object')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
$def($def.S + $def.F * !require('./$.iter-detect')(function(iter){ Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){
    var O       = toObject(arrayLike)
      , C       = typeof this == 'function' ? this : Array
      , mapfn   = arguments[1]
      , mapping = mapfn !== undefined
      , index   = 0
      , iterFn  = getIterFn(O)
      , length, result, step, iterator;
    if(mapping)mapfn = ctx(mapfn, arguments[2], 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){
      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){
        result[index] = mapping ? call(iterator, mapfn, [step.value, index], true) : step.value;
      }
    } else {
      for(result = new C(length = toLength(O.length)); length > index; index++){
        result[index] = mapping ? mapfn(O[index], index) : O[index];
      }
    }
    result.length = index;
    return result;
  }
});
},{"./$.ctx":58,"./$.def":59,"./$.is-array-iter":72,"./$.iter-call":74,"./$.iter-detect":77,"./$.to-length":101,"./$.to-object":102,"./core.get-iterator-method":106}],109:[function(require,module,exports){
'use strict';
var setUnscope = require('./$.unscope')
  , step       = require('./$.iter-step')
  , Iterators  = require('./$.iterators')
  , toIObject  = require('./$.to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
require('./$.iter-define')(Array, 'Array', function(iterated, kind){
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , kind  = this._k
    , index = this._i++;
  if(!O || index >= O.length){
    this._t = undefined;
    return step(1);
  }
  if(kind == 'keys'  )return step(0, index);
  if(kind == 'values')return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

setUnscope('keys');
setUnscope('values');
setUnscope('entries');
},{"./$.iter-define":76,"./$.iter-step":78,"./$.iterators":79,"./$.to-iobject":100,"./$.unscope":104}],110:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
var $def = require('./$.def');

$def($def.S, 'Math', {sign: require('./$.sign')});
},{"./$.def":59,"./$.sign":91}],111:[function(require,module,exports){
// 20.1.2.1 Number.EPSILON
var $def = require('./$.def');

$def($def.S, 'Number', {EPSILON: Math.pow(2, -52)});
},{"./$.def":59}],112:[function(require,module,exports){
// 20.1.2.6 Number.MAX_SAFE_INTEGER
var $def = require('./$.def');

$def($def.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});
},{"./$.def":59}],113:[function(require,module,exports){
// 20.1.2.10 Number.MIN_SAFE_INTEGER
var $def = require('./$.def');

$def($def.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});
},{"./$.def":59}],114:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $def = require('./$.def');

$def($def.S + $def.F, 'Object', {assign: require('./$.assign')});
},{"./$.assign":54,"./$.def":59}],115:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./$.to-iobject');

require('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){
  return function getOwnPropertyDescriptor(it, key){
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});
},{"./$.object-sap":85,"./$.to-iobject":100}],116:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./$.to-object');

require('./$.object-sap')('keys', function($keys){
  return function keys(it){
    return $keys(toObject(it));
  };
});
},{"./$.object-sap":85,"./$.to-object":102}],117:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $def = require('./$.def');
$def($def.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});
},{"./$.def":59,"./$.set-proto":89}],118:[function(require,module,exports){

},{}],119:[function(require,module,exports){
'use strict';
var $          = require('./$')
  , LIBRARY    = require('./$.library')
  , global     = require('./$.global')
  , ctx        = require('./$.ctx')
  , classof    = require('./$.classof')
  , $def       = require('./$.def')
  , isObject   = require('./$.is-object')
  , anObject   = require('./$.an-object')
  , aFunction  = require('./$.a-function')
  , strictNew  = require('./$.strict-new')
  , forOf      = require('./$.for-of')
  , setProto   = require('./$.set-proto').set
  , same       = require('./$.same')
  , species    = require('./$.species')
  , SPECIES    = require('./$.wks')('species')
  , RECORD     = require('./$.uid')('record')
  , asap       = require('./$.microtask')
  , PROMISE    = 'Promise'
  , process    = global.process
  , isNode     = classof(process) == 'process'
  , P          = global[PROMISE]
  , Wrapper;

var testResolve = function(sub){
  var test = new P(function(){});
  if(sub)test.constructor = Object;
  return P.resolve(test) === test;
};

var useNative = function(){
  var works = false;
  function P2(x){
    var self = new P(x);
    setProto(self, P2.prototype);
    return self;
  }
  try {
    works = P && P.resolve && testResolve();
    setProto(P2, P);
    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});
    // actual Firefox has broken subclass support, test that
    if(!(P2.resolve(5).then(function(){}) instanceof P2)){
      works = false;
    }
    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162
    if(works && require('./$.support-desc')){
      var thenableThenGotten = false;
      P.resolve($.setDesc({}, 'then', {
        get: function(){ thenableThenGotten = true; }
      }));
      works = thenableThenGotten;
    }
  } catch(e){ works = false; }
  return works;
}();

// helpers
var isPromise = function(it){
  return isObject(it) && (useNative ? classof(it) == 'Promise' : RECORD in it);
};
var sameConstructor = function(a, b){
  // library wrapper special case
  if(LIBRARY && a === P && b === Wrapper)return true;
  return same(a, b);
};
var getConstructor = function(C){
  var S = anObject(C)[SPECIES];
  return S != undefined ? S : C;
};
var isThenable = function(it){
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function(record, isReject){
  if(record.n)return;
  record.n = true;
  var chain = record.c;
  asap(function(){
    var value = record.v
      , ok    = record.s == 1
      , i     = 0;
    var run = function(react){
      var cb = ok ? react.ok : react.fail
        , ret, then;
      try {
        if(cb){
          if(!ok)record.h = true;
          ret = cb === true ? value : cb(value);
          if(ret === react.P){
            react.rej(TypeError('Promise-chain cycle'));
          } else if(then = isThenable(ret)){
            then.call(ret, react.res, react.rej);
          } else react.res(ret);
        } else react.rej(value);
      } catch(err){
        react.rej(err);
      }
    };
    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach
    chain.length = 0;
    record.n = false;
    if(isReject)setTimeout(function(){
      if(isUnhandled(record.p)){
        if(isNode){
          process.emit('unhandledRejection', value, record.p);
        } else if(global.console && console.error){
          console.error('Unhandled promise rejection', value);
        }
      } record.a = undefined;
    }, 1);
  });
};
var isUnhandled = function(promise){
  var record = promise[RECORD]
    , chain  = record.a || record.c
    , i      = 0
    , react;
  if(record.h)return false;
  while(chain.length > i){
    react = chain[i++];
    if(react.fail || !isUnhandled(react.P))return false;
  } return true;
};
var $reject = function(value){
  var record = this;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  record.v = value;
  record.s = 2;
  record.a = record.c.slice();
  notify(record, true);
};
var $resolve = function(value){
  var record = this
    , then;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  try {
    if(then = isThenable(value)){
      asap(function(){
        var wrapper = {r: record, d: false}; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch(e){
          $reject.call(wrapper, e);
        }
      });
    } else {
      record.v = value;
      record.s = 1;
      notify(record, false);
    }
  } catch(e){
    $reject.call({r: record, d: false}, e); // wrap
  }
};

// constructor polyfill
if(!useNative){
  // 25.4.3.1 Promise(executor)
  P = function Promise(executor){
    aFunction(executor);
    var record = {
      p: strictNew(this, P, PROMISE),         // <- promise
      c: [],                                  // <- awaiting reactions
      a: undefined,                           // <- checked in isUnhandled reactions
      s: 0,                                   // <- state
      d: false,                               // <- done
      v: undefined,                           // <- value
      h: false,                               // <- handled rejection
      n: false                                // <- notify
    };
    this[RECORD] = record;
    try {
      executor(ctx($resolve, record, 1), ctx($reject, record, 1));
    } catch(err){
      $reject.call(record, err);
    }
  };
  require('./$.mix')(P.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected){
      var S = anObject(anObject(this).constructor)[SPECIES];
      var react = {
        ok:   typeof onFulfilled == 'function' ? onFulfilled : true,
        fail: typeof onRejected == 'function'  ? onRejected  : false
      };
      var promise = react.P = new (S != undefined ? S : P)(function(res, rej){
        react.res = aFunction(res);
        react.rej = aFunction(rej);
      });
      var record = this[RECORD];
      record.c.push(react);
      if(record.a)record.a.push(react);
      if(record.s)notify(record, false);
      return promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function(onRejected){
      return this.then(undefined, onRejected);
    }
  });
}

// export
$def($def.G + $def.W + $def.F * !useNative, {Promise: P});
require('./$.tag')(P, PROMISE);
species(P);
species(Wrapper = require('./$.core')[PROMISE]);

// statics
$def($def.S + $def.F * !useNative, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r){
    return new this(function(res, rej){ rej(r); });
  }
});
$def($def.S + $def.F * (!useNative || testResolve(true)), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x){
    return isPromise(x) && sameConstructor(x.constructor, this)
      ? x : new this(function(res){ res(x); });
  }
});
$def($def.S + $def.F * !(useNative && require('./$.iter-detect')(function(iter){
  P.all(iter)['catch'](function(){});
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable){
    var C      = getConstructor(this)
      , values = [];
    return new C(function(res, rej){
      forOf(iterable, false, values.push, values);
      var remaining = values.length
        , results   = Array(remaining);
      if(remaining)$.each.call(values, function(promise, index){
        C.resolve(promise).then(function(value){
          results[index] = value;
          --remaining || res(results);
        }, rej);
      });
      else res(results);
    });
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable){
    var C = getConstructor(this);
    return new C(function(res, rej){
      forOf(iterable, false, function(promise){
        C.resolve(promise).then(res, rej);
      });
    });
  }
});
},{"./$":80,"./$.a-function":52,"./$.an-object":53,"./$.classof":55,"./$.core":57,"./$.ctx":58,"./$.def":59,"./$.for-of":64,"./$.global":66,"./$.is-object":73,"./$.iter-detect":77,"./$.library":82,"./$.microtask":83,"./$.mix":84,"./$.same":88,"./$.set-proto":89,"./$.species":92,"./$.strict-new":93,"./$.support-desc":95,"./$.tag":96,"./$.uid":103,"./$.wks":105}],120:[function(require,module,exports){
var $def    = require('./$.def')
  , toIndex = require('./$.to-index')
  , fromCharCode = String.fromCharCode
  , $fromCodePoint = String.fromCodePoint;

// length should be 1, old FF problem
$def($def.S + $def.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
  // 21.1.2.2 String.fromCodePoint(...codePoints)
  fromCodePoint: function fromCodePoint(x){ // eslint-disable-line no-unused-vars
    var res = []
      , len = arguments.length
      , i   = 0
      , code;
    while(len > i){
      code = +arguments[i++];
      if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');
      res.push(code < 0x10000
        ? fromCharCode(code)
        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
      );
    } return res.join('');
  }
});
},{"./$.def":59,"./$.to-index":98}],121:[function(require,module,exports){
'use strict';
var $at  = require('./$.string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./$.iter-define')(String, 'String', function(iterated){
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , index = this._i
    , point;
  if(index >= O.length)return {value: undefined, done: true};
  point = $at(O, index);
  this._i += point.length;
  return {value: point, done: false};
});
},{"./$.iter-define":76,"./$.string-at":94}],122:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var $              = require('./$')
  , global         = require('./$.global')
  , has            = require('./$.has')
  , SUPPORT_DESC   = require('./$.support-desc')
  , $def           = require('./$.def')
  , $redef         = require('./$.redef')
  , shared         = require('./$.shared')
  , setTag         = require('./$.tag')
  , uid            = require('./$.uid')
  , wks            = require('./$.wks')
  , keyOf          = require('./$.keyof')
  , $names         = require('./$.get-names')
  , enumKeys       = require('./$.enum-keys')
  , isObject       = require('./$.is-object')
  , anObject       = require('./$.an-object')
  , toIObject      = require('./$.to-iobject')
  , createDesc     = require('./$.property-desc')
  , getDesc        = $.getDesc
  , setDesc        = $.setDesc
  , _create        = $.create
  , getNames       = $names.get
  , $Symbol        = global.Symbol
  , setter         = false
  , HIDDEN         = wks('_hidden')
  , isEnum         = $.isEnum
  , SymbolRegistry = shared('symbol-registry')
  , AllSymbols     = shared('symbols')
  , useNative      = typeof $Symbol == 'function'
  , ObjectProto    = Object.prototype;

var setSymbolDesc = SUPPORT_DESC ? function(){ // fallback for old Android
  try {
    return _create(setDesc({}, HIDDEN, {
      get: function(){
        return setDesc(this, HIDDEN, {value: false})[HIDDEN];
      }
    }))[HIDDEN] || setDesc;
  } catch(e){
    return function(it, key, D){
      var protoDesc = getDesc(ObjectProto, key);
      if(protoDesc)delete ObjectProto[key];
      setDesc(it, key, D);
      if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);
    };
  }
}() : setDesc;

var wrap = function(tag){
  var sym = AllSymbols[tag] = _create($Symbol.prototype);
  sym._k = tag;
  SUPPORT_DESC && setter && setSymbolDesc(ObjectProto, tag, {
    configurable: true,
    set: function(value){
      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    }
  });
  return sym;
};

var $defineProperty = function defineProperty(it, key, D){
  if(D && has(AllSymbols, key)){
    if(!D.enumerable){
      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;
      D = _create(D, {enumerable: createDesc(0, false)});
    } return setSymbolDesc(it, key, D);
  } return setDesc(it, key, D);
};
var $defineProperties = function defineProperties(it, P){
  anObject(it);
  var keys = enumKeys(P = toIObject(P))
    , i    = 0
    , l = keys.length
    , key;
  while(l > i)$defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P){
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key){
  var E = isEnum.call(this, key);
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]
    ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){
  var D = getDesc(it = toIObject(it), key);
  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);
  return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);
  return result;
};

// 19.4.1.1 Symbol([description])
if(!useNative){
  $Symbol = function Symbol(){
    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor');
    return wrap(uid(arguments[0]));
  };
  $redef($Symbol.prototype, 'toString', function toString(){
    return this._k;
  });

  $.create     = $create;
  $.isEnum     = $propertyIsEnumerable;
  $.getDesc    = $getOwnPropertyDescriptor;
  $.setDesc    = $defineProperty;
  $.setDescs   = $defineProperties;
  $.getNames   = $names.get = $getOwnPropertyNames;
  $.getSymbols = $getOwnPropertySymbols;

  if(SUPPORT_DESC && !require('./$.library')){
    $redef(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }
}

// MS Edge converts symbol values to JSON as {}
// WebKit converts symbol values in objects to JSON as null
if(!useNative || require('./$.fails')(function(){
  return JSON.stringify([{a: $Symbol()}, [$Symbol()]]) != '[{},[null]]';
}))$redef($Symbol.prototype, 'toJSON', function toJSON(){
  if(useNative && isObject(this))return this;
});

var symbolStatics = {
  // 19.4.2.1 Symbol.for(key)
  'for': function(key){
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(key){
    return keyOf(SymbolRegistry, key);
  },
  useSetter: function(){ setter = true; },
  useSimple: function(){ setter = false; }
};
// 19.4.2.2 Symbol.hasInstance
// 19.4.2.3 Symbol.isConcatSpreadable
// 19.4.2.4 Symbol.iterator
// 19.4.2.6 Symbol.match
// 19.4.2.8 Symbol.replace
// 19.4.2.9 Symbol.search
// 19.4.2.10 Symbol.species
// 19.4.2.11 Symbol.split
// 19.4.2.12 Symbol.toPrimitive
// 19.4.2.13 Symbol.toStringTag
// 19.4.2.14 Symbol.unscopables
$.each.call((
    'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +
    'species,split,toPrimitive,toStringTag,unscopables'
  ).split(','), function(it){
    var sym = wks(it);
    symbolStatics[it] = useNative ? sym : wrap(sym);
  }
);

setter = true;

$def($def.G + $def.W, {Symbol: $Symbol});

$def($def.S, 'Symbol', symbolStatics);

$def($def.S + $def.F * !useNative, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 19.4.3.5 Symbol.prototype[@@toStringTag]
setTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setTag(global.JSON, 'JSON', true);
},{"./$":80,"./$.an-object":53,"./$.def":59,"./$.enum-keys":62,"./$.fails":63,"./$.get-names":65,"./$.global":66,"./$.has":67,"./$.is-object":73,"./$.keyof":81,"./$.library":82,"./$.property-desc":86,"./$.redef":87,"./$.shared":90,"./$.support-desc":95,"./$.tag":96,"./$.to-iobject":100,"./$.uid":103,"./$.wks":105}],123:[function(require,module,exports){
require('./es6.array.iterator');
var Iterators = require('./$.iterators');
Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
},{"./$.iterators":79,"./es6.array.iterator":109}],124:[function(require,module,exports){
arguments[4][52][0].apply(exports,arguments)
},{"dup":52}],125:[function(require,module,exports){
arguments[4][53][0].apply(exports,arguments)
},{"./$.is-object":144,"dup":53}],126:[function(require,module,exports){
arguments[4][55][0].apply(exports,arguments)
},{"./$.cof":127,"./$.wks":174,"dup":55}],127:[function(require,module,exports){
arguments[4][56][0].apply(exports,arguments)
},{"dup":56}],128:[function(require,module,exports){
arguments[4][57][0].apply(exports,arguments)
},{"dup":57}],129:[function(require,module,exports){
arguments[4][58][0].apply(exports,arguments)
},{"./$.a-function":124,"dup":58}],130:[function(require,module,exports){
var global     = require('./$.global')
  , core       = require('./$.core')
  , hide       = require('./$.hide')
  , $redef     = require('./$.redef')
  , PROTOTYPE  = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    if(type & $def.B && own)exp = ctx(out, global);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if(target && !own)$redef(target, key, out);
    // export
    if(exports[key] != out)hide(exports, key, exp);
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
global.core = core;
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":128,"./$.global":137,"./$.hide":139,"./$.redef":157}],131:[function(require,module,exports){
arguments[4][60][0].apply(exports,arguments)
},{"dup":60}],132:[function(require,module,exports){
arguments[4][61][0].apply(exports,arguments)
},{"./$.global":137,"./$.is-object":144,"dup":61}],133:[function(require,module,exports){
arguments[4][62][0].apply(exports,arguments)
},{"./$":151,"dup":62}],134:[function(require,module,exports){
arguments[4][63][0].apply(exports,arguments)
},{"dup":63}],135:[function(require,module,exports){
arguments[4][64][0].apply(exports,arguments)
},{"./$.an-object":125,"./$.ctx":129,"./$.is-array-iter":143,"./$.iter-call":145,"./$.to-length":171,"./core.get-iterator-method":175,"dup":64}],136:[function(require,module,exports){
arguments[4][65][0].apply(exports,arguments)
},{"./$":151,"./$.to-iobject":170,"dup":65}],137:[function(require,module,exports){
arguments[4][66][0].apply(exports,arguments)
},{"dup":66}],138:[function(require,module,exports){
arguments[4][67][0].apply(exports,arguments)
},{"dup":67}],139:[function(require,module,exports){
arguments[4][68][0].apply(exports,arguments)
},{"./$":151,"./$.property-desc":156,"./$.support-desc":166,"dup":68}],140:[function(require,module,exports){
arguments[4][69][0].apply(exports,arguments)
},{"./$.global":137,"dup":69}],141:[function(require,module,exports){
arguments[4][70][0].apply(exports,arguments)
},{"dup":70}],142:[function(require,module,exports){
arguments[4][71][0].apply(exports,arguments)
},{"./$.cof":127,"dup":71}],143:[function(require,module,exports){
arguments[4][72][0].apply(exports,arguments)
},{"./$.iterators":150,"./$.wks":174,"dup":72}],144:[function(require,module,exports){
arguments[4][73][0].apply(exports,arguments)
},{"dup":73}],145:[function(require,module,exports){
arguments[4][74][0].apply(exports,arguments)
},{"./$.an-object":125,"dup":74}],146:[function(require,module,exports){
arguments[4][75][0].apply(exports,arguments)
},{"./$":151,"./$.hide":139,"./$.property-desc":156,"./$.tag":167,"./$.wks":174,"dup":75}],147:[function(require,module,exports){
arguments[4][76][0].apply(exports,arguments)
},{"./$":151,"./$.def":130,"./$.has":138,"./$.hide":139,"./$.iter-create":146,"./$.iterators":150,"./$.library":153,"./$.redef":157,"./$.tag":167,"./$.wks":174,"dup":76}],148:[function(require,module,exports){
arguments[4][77][0].apply(exports,arguments)
},{"./$.wks":174,"dup":77}],149:[function(require,module,exports){
arguments[4][78][0].apply(exports,arguments)
},{"dup":78}],150:[function(require,module,exports){
arguments[4][79][0].apply(exports,arguments)
},{"dup":79}],151:[function(require,module,exports){
arguments[4][80][0].apply(exports,arguments)
},{"dup":80}],152:[function(require,module,exports){
arguments[4][81][0].apply(exports,arguments)
},{"./$":151,"./$.to-iobject":170,"dup":81}],153:[function(require,module,exports){
module.exports = false;
},{}],154:[function(require,module,exports){
arguments[4][83][0].apply(exports,arguments)
},{"./$.cof":127,"./$.global":137,"./$.task":168,"dup":83}],155:[function(require,module,exports){
arguments[4][84][0].apply(exports,arguments)
},{"./$.redef":157,"dup":84}],156:[function(require,module,exports){
arguments[4][86][0].apply(exports,arguments)
},{"dup":86}],157:[function(require,module,exports){
// add fake Function#toString
// for correct work wrapped methods / constructors with methods like LoDash isNative
var global    = require('./$.global')
  , hide      = require('./$.hide')
  , SRC       = require('./$.uid')('src')
  , TO_STRING = 'toString'
  , $toString = Function[TO_STRING]
  , TPL       = ('' + $toString).split(TO_STRING);

require('./$.core').inspectSource = function(it){
  return $toString.call(it);
};

(module.exports = function(O, key, val, safe){
  if(typeof val == 'function'){
    hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
    if(!('name' in val))val.name = key;
  }
  if(O === global){
    O[key] = val;
  } else {
    if(!safe)delete O[key];
    hide(O, key, val);
  }
})(Function.prototype, TO_STRING, function toString(){
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});
},{"./$.core":128,"./$.global":137,"./$.hide":139,"./$.uid":172}],158:[function(require,module,exports){
arguments[4][88][0].apply(exports,arguments)
},{"dup":88}],159:[function(require,module,exports){
arguments[4][89][0].apply(exports,arguments)
},{"./$":151,"./$.an-object":125,"./$.ctx":129,"./$.is-object":144,"dup":89}],160:[function(require,module,exports){
arguments[4][90][0].apply(exports,arguments)
},{"./$.global":137,"dup":90}],161:[function(require,module,exports){
arguments[4][91][0].apply(exports,arguments)
},{"dup":91}],162:[function(require,module,exports){
arguments[4][92][0].apply(exports,arguments)
},{"./$":151,"./$.support-desc":166,"./$.wks":174,"dup":92}],163:[function(require,module,exports){
arguments[4][93][0].apply(exports,arguments)
},{"dup":93}],164:[function(require,module,exports){
arguments[4][94][0].apply(exports,arguments)
},{"./$.defined":131,"./$.to-integer":169,"dup":94}],165:[function(require,module,exports){
'use strict';
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');

module.exports = function repeat(count){
  var str = String(defined(this))
    , res = ''
    , n   = toInteger(count);
  if(n < 0 || n == Infinity)throw RangeError("Count can't be negative");
  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;
  return res;
};
},{"./$.defined":131,"./$.to-integer":169}],166:[function(require,module,exports){
arguments[4][95][0].apply(exports,arguments)
},{"./$.fails":134,"dup":95}],167:[function(require,module,exports){
arguments[4][96][0].apply(exports,arguments)
},{"./$.has":138,"./$.hide":139,"./$.wks":174,"dup":96}],168:[function(require,module,exports){
arguments[4][97][0].apply(exports,arguments)
},{"./$.cof":127,"./$.ctx":129,"./$.dom-create":132,"./$.global":137,"./$.html":140,"./$.invoke":141,"dup":97}],169:[function(require,module,exports){
arguments[4][99][0].apply(exports,arguments)
},{"dup":99}],170:[function(require,module,exports){
arguments[4][100][0].apply(exports,arguments)
},{"./$.defined":131,"./$.iobject":142,"dup":100}],171:[function(require,module,exports){
arguments[4][101][0].apply(exports,arguments)
},{"./$.to-integer":169,"dup":101}],172:[function(require,module,exports){
arguments[4][103][0].apply(exports,arguments)
},{"dup":103}],173:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./$.wks')('unscopables');
if(!(UNSCOPABLES in []))require('./$.hide')(Array.prototype, UNSCOPABLES, {});
module.exports = function(key){
  [][UNSCOPABLES][key] = true;
};
},{"./$.hide":139,"./$.wks":174}],174:[function(require,module,exports){
arguments[4][105][0].apply(exports,arguments)
},{"./$.global":137,"./$.shared":160,"./$.uid":172,"dup":105}],175:[function(require,module,exports){
arguments[4][106][0].apply(exports,arguments)
},{"./$.classof":126,"./$.core":128,"./$.iterators":150,"./$.wks":174,"dup":106}],176:[function(require,module,exports){
arguments[4][109][0].apply(exports,arguments)
},{"./$.iter-define":147,"./$.iter-step":149,"./$.iterators":150,"./$.to-iobject":170,"./$.unscope":173,"dup":109}],177:[function(require,module,exports){
arguments[4][110][0].apply(exports,arguments)
},{"./$.def":130,"./$.sign":161,"dup":110}],178:[function(require,module,exports){
'use strict';
// 19.1.3.6 Object.prototype.toString()
var classof = require('./$.classof')
  , test    = {};
test[require('./$.wks')('toStringTag')] = 'z';
if(test + '' != '[object z]'){
  require('./$.redef')(Object.prototype, 'toString', function toString(){
    return '[object ' + classof(this) + ']';
  }, true);
}
},{"./$.classof":126,"./$.redef":157,"./$.wks":174}],179:[function(require,module,exports){
arguments[4][119][0].apply(exports,arguments)
},{"./$":151,"./$.a-function":124,"./$.an-object":125,"./$.classof":126,"./$.core":128,"./$.ctx":129,"./$.def":130,"./$.for-of":135,"./$.global":137,"./$.is-object":144,"./$.iter-detect":148,"./$.library":153,"./$.microtask":154,"./$.mix":155,"./$.same":158,"./$.set-proto":159,"./$.species":162,"./$.strict-new":163,"./$.support-desc":166,"./$.tag":167,"./$.uid":172,"./$.wks":174,"dup":119}],180:[function(require,module,exports){
arguments[4][121][0].apply(exports,arguments)
},{"./$.iter-define":147,"./$.string-at":164,"dup":121}],181:[function(require,module,exports){
var $def = require('./$.def');

$def($def.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./$.string-repeat')
});
},{"./$.def":130,"./$.string-repeat":165}],182:[function(require,module,exports){
arguments[4][122][0].apply(exports,arguments)
},{"./$":151,"./$.an-object":125,"./$.def":130,"./$.enum-keys":133,"./$.fails":134,"./$.get-names":136,"./$.global":137,"./$.has":138,"./$.is-object":144,"./$.keyof":152,"./$.library":153,"./$.property-desc":156,"./$.redef":157,"./$.shared":160,"./$.support-desc":166,"./$.tag":167,"./$.to-iobject":170,"./$.uid":172,"./$.wks":174,"dup":122}],183:[function(require,module,exports){
require('./es6.array.iterator');
var global      = require('./$.global')
  , hide        = require('./$.hide')
  , Iterators   = require('./$.iterators')
  , ITERATOR    = require('./$.wks')('iterator')
  , NL          = global.NodeList
  , HTC         = global.HTMLCollection
  , NLProto     = NL && NL.prototype
  , HTCProto    = HTC && HTC.prototype
  , ArrayValues = Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
if(NL && !(ITERATOR in NLProto))hide(NLProto, ITERATOR, ArrayValues);
if(HTC && !(ITERATOR in HTCProto))hide(HTCProto, ITERATOR, ArrayValues);
},{"./$.global":137,"./$.hide":139,"./$.iterators":150,"./$.wks":174,"./es6.array.iterator":176}],184:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPropertyDescriptor = require("../types/property-descriptor");

var DeclarativeEnvironment = (function () {
	function DeclarativeEnvironment(parent, thisArg, env, strict) {
		_classCallCheck(this, DeclarativeEnvironment);

		this.properties = _Object$create(null);
		this.parent = parent && parent.scope;
		this.thisBinding = thisArg;
		this.env = env;
		this.strict = strict;
	}

	_createClass(DeclarativeEnvironment, [{
		key: "setParent",
		value: function setParent(parent) {
			this.parent = parent.scope || parent;
		}
	}, {
		key: "getReference",
		value: function getReference(key) {
			var ref = new _reference.Reference(key, this, this.env);
			ref.unqualified = true;
			return ref;
		}
	}, {
		key: "has",
		value: function has(key) {
			return key in this.properties;
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.has(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			if (!this.has(key)) {
				return true;
			}

			if (!this.properties[key].configurable) {
				return false;
			}

			delete this.properties[key];
			return true;
		}
	}, {
		key: "createVariable",
		value: function createVariable(key) {
			if (this.has(key)) {
				return this.properties[key];
			}

			return this.properties[key] = new _typesPropertyDescriptor.PropertyDescriptor(this, {
				value: undefined,
				configurable: false,
				enumerable: true,
				writable: true
			});
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, throwOnError) {
			if (this.has(key)) {
				if (!this.properties[key].writable) {
					if (throwOnError) {
						throw TypeError("Cannot write to immutable binding: " + key);
					}

					return false;
				}

				this.properties[key].setValue(value);
				return true;
			} else {
				var _parent;

				return (_parent = this.parent).setValue.apply(_parent, arguments);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(key, throwOnError) {
			if (this.has(key)) {
				if (!this.properties[key].value) {
					if (throwOnError) {
						throw ReferenceError(key + " is not defined");
					}

					return undefined;
				}

				return this.properties[key].getValue();
			}
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return DeclarativeEnvironment;
})();

exports.DeclarativeEnvironment = DeclarativeEnvironment;
},{"../types/property-descriptor":366,"./reference":189,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21}],185:[function(require,module,exports){
// todo: switch to estree-walker
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.visit = visit;

function visit(node, callback) {
	if (!node) {
		return;
	}

	if (Array.isArray(node)) {
		node.forEach(function (n) {
			return visit(n, callback);
		});
		return;
	}

	switch (node.type) {
		case "Program":
		case "BlockStatement":
			visit(node.body, callback);
			break;

		case "CatchClause":
			visit(node.body, callback);
			break;

		case "DoWhileStatement":
		case "WhileStatement":
			visit(node.test, callback);
			visit(node.body, callback);
			break;

		case "ExpressionStatement":
			visit(node.expression, callback);
			break;

		case "ForStatement":
			visit(node.init, callback);
			visit(node.body, callback);
			break;

		case "ForInStatement":
			visit(node.left, callback);
			visit(node.body, callback);
			break;

		case "IfStatement":
			// do not scan `test`
			visit(node.consequent, callback);
			visit(node.alternate, callback);
			break;

		case "LabeledStatement":
			visit(node.body, callback);
			break;

		case "SwitchStatement":
			visit(node.discriminant, callback);
			break;

		case "SwitchCase":
			visit(node.consequent, callback);
			break;

		case "TryStatement":
			visit(node.block, callback);
			visit(node.handler, callback);
			visit(node.finalizer, callback);
			break;

		case "VariableDeclaration":
			visit(node.declarations, callback);
			break;

		case "FunctionDeclaration":
		case "VariableDeclarator":
			callback(node);
			break;

		default:
		// ignore all other nodes
	}
}

;
},{}],186:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$assign = require("babel-runtime/core-js/object/assign")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _executionContext = require("../execution-context");

var _declarativeEnvironment = require("./declarative-environment");

var _objectEnvironment = require("./object-environment");

var _reference = require("./reference");

var _es5 = require("../es5");

var _es52 = _interopRequireDefault(_es5);

var _es6 = require("../es6");

var _es62 = _interopRequireDefault(_es6);

var _utilsOperators = require("../utils/operators");

var _utilsOperators2 = _interopRequireDefault(_utilsOperators);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _scope = require("./scope");

var defaultOptions = {
	allowDebugger: false,
	useStrict: false,
	ecmaVersion: 5
};

var Environment = (function () {
	function Environment() {
		_classCallCheck(this, Environment);
	}

	_createClass(Environment, [{
		key: "init",
		value: function init() {
			var _this = this;

			var options = arguments.length <= 0 || arguments[0] === undefined ? defaultOptions : arguments[0];

			// clear state in case of re-init
			this.current = null;
			this.globalScope = null;

			this.options = _Object$assign({}, defaultOptions, options);
			(options.ecmaVersion === 6 ? _es62["default"] : _es52["default"])(this);

			// todo: improve this
			this.ops = _Object$assign(_utilsOperators2["default"], options.operators);
			this.ops.env = this;

			this.objectFactory.init();

			if (options.exclude && options.exclude.length > 0) {
				options.exclude.forEach(function (name) {
					var segments = name.split(".");
					var parent = _this.global;

					while (segments.length > 1) {
						parent = parent.getValue(segments.shift());

						// api not defined - assume user error?
						if (!parent) {
							return;
						}
					}

					parent.remove(segments.shift());
				});
			}
		}

		/**
   * Gets a reference from the environment
   * @param {String} key - The key of the property
   * @returns {Reference} The reference.
   */
	}, {
		key: "getReference",
		value: function getReference(key) {
			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.owns(key)) {
					return scope.getReference(key, true);
				}

				scope = scope.parent;
			}

			return new _reference.Reference(key, undefined, this);
		}
	}, {
		key: "getValue",
		value: function getValue(key) {
			return this.getReference(key).getValue();
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, strict) {
			this.current.scope.setValue(key, value, strict);
		}
	}, {
		key: "has",
		value: function has(key) {
			return this.current.scope.has(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			this.current.scope.deleteVariable(key);
		}

		/**
   * Declares a variable within the current scope.
   * @param {String} key - the key of the variable.
   * @param {Boolean} [immutable] - whether the variable is immutable or not.
   * @returns {PropertyDescriptor} The property descriptor for the new variabble.
   */
	}, {
		key: "createVariable",
		value: function createVariable(key, immutable) {
			contracts.assertIsValidIdentifier(key, this.isStrict());
			return this.current.scope.createVariable(key, !immutable);
		}

		/**
   * Indicates whether the current lexical scope is in strict mode.
   * @returns {Boolean} true if in strict mode; false otherwise.
   */
	}, {
		key: "isStrict",
		value: function isStrict() {
			if (this.options.useStrict) {
				return true;
			}

			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.strict) {
					return true;
				}

				scope = scope.parent;
			}

			return false;
		}

		/**
   * Gets the current `this` object for the environment.
   * @returns {ObjectType} The `this` object for the current scope.
   */
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			var thisArg = this.current.scope.getThisBinding();
			if (thisArg) {
				return thisArg;
			}

			if (this.isStrict()) {
				return _typesPrimitiveType.UNDEFINED;
			}

			return this.global;
		}
	}, {
		key: "createExecutionContext",
		value: function createExecutionContext(node, callee, isNew) {
			return new _executionContext.ExecutionContext(this, node, callee, isNew);
		}

		/**
   * Creates a new declarative scope.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @param {Boolean} [strict] - Indicates whether the scope is in strict mode.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createScope",
		value: function createScope(thisArg, strict) {
			return this.setScope(new _declarativeEnvironment.DeclarativeEnvironment(this.current, thisArg, this, strict || this.isStrict()));
		}

		/**
   * Creates a new scope based on the provided object. This is used for the `with`
   * statement, as well as the global scope.
   * @param {ObjectType} obj - The object to bind the scope to.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @param {Boolean} [strict] - Indicates whether the scope is in strict mode.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createObjectScope",
		value: function createObjectScope(obj, thisArg, strict) {
			return this.setScope(new _objectEnvironment.ObjectEnvironment(this.current, obj, thisArg, this, strict || this.isStrict()));
		}
	}, {
		key: "createExecutionScope",
		value: function createExecutionScope(fn, thisArg) {
			var priorScope = this.current.scope;

			// if a parent scope is defined we need to limit this scope to that scope
			if (fn.boundScope) {
				this.setScope(fn.boundScope.scope);
			}

			thisArg = fn.boundThis || thisArg;
			if (fn.arrow) {
				thisArg = this.getThisBinding();
			}

			var scope = this.createScope(thisArg);
			scope.priorScope = priorScope;
			return scope;
		}

		/**
   * Sets the current scope.
   * @param {Environment} scope - Sets the current environment.
   * @returns {Scope} The created scope.
   */
	}, {
		key: "setScope",
		value: function setScope(scope) {
			return this.current = new _scope.Scope(this, scope);
		}
	}]);

	return Environment;
})();

exports.Environment = Environment;
},{"../es5":230,"../es6":285,"../execution-context":344,"../types/primitive-type":365,"../utils/contracts":373,"../utils/operators":377,"./declarative-environment":184,"./object-environment":187,"./reference":189,"./scope":190,"babel-runtime/core-js/object/assign":8,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/helpers/interop-require-wildcard":26}],187:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propertyReference = require("./property-reference");

var ObjectEnvironment = (function () {
	function ObjectEnvironment(parent, obj, thisArg, env, strict) {
		_classCallCheck(this, ObjectEnvironment);

		this.parent = parent && parent.scope;
		this.object = obj;
		this.thisBinding = thisArg || obj;
		this.env = env;
		this.strict = strict;
	}

	_createClass(ObjectEnvironment, [{
		key: "getReference",
		value: function getReference(key, unqualified) {
			var ref = new _propertyReference.PropertyReference(key, this.object, this.env);
			ref.unqualified = unqualified;
			return ref;
		}
	}, {
		key: "has",
		value: function has(key) {
			return this.parent ? this.parent.has(key) : this.owns(key);
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.object.has(key);
		}
	}, {
		key: "getVariable",
		value: function getVariable(key) {
			return this.object.getProperty(key);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(key) {
			return this.object.deleteProperty(key, false);
		}
	}, {
		key: "createVariable",
		value: function createVariable(key, immutable) {
			if (this.parent) {
				var _parent;

				return (_parent = this.parent).createVariable.apply(_parent, arguments);
			}

			this.object.defineOwnProperty(key, {
				value: undefined,
				configurable: immutable,
				enumerable: true,
				writable: true
			}, this.env.isStrict());

			return this.object.getProperty(key);
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, throwOnError) {
			if (this.parent && !this.object.has(key)) {
				var _parent2;

				(_parent2 = this.parent).setValue.apply(_parent2, arguments);
			} else {
				this.object.setValue(key, value, throwOnError);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(key, throwOnError) {
			if (!this.owns(key)) {
				if (throwOnError) {
					throw ReferenceError(key + " is not defined.");
				}

				return undefined;
			}

			return this.object.getValue(key);
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return ObjectEnvironment;
})();

exports.ObjectEnvironment = ObjectEnvironment;
},{"./property-reference":188,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21}],188:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPrimitiveType = require("../types/primitive-type");

/**
 * An object which represents a reference to an object's property.
 */

var PropertyReference = (function (_Reference) {
	_inherits(PropertyReference, _Reference);

	function PropertyReference(key, object, env) {
		_classCallCheck(this, PropertyReference);

		_get(Object.getPrototypeOf(PropertyReference.prototype), "constructor", this).call(this, key, object, env);
		this.isPropertyReference = true;
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(PropertyReference, [{
		key: "getValue",
		value: function getValue() {
			var prop = this.base.getProperty(this.key);
			return prop && prop.getValue() || _typesPrimitiveType.UNDEFINED;
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @param {Boolean} throwOnError - Set true if a failed assignment should throw an exception.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value, throwOnError) {
			if (throwOnError) {
				// todo: why can't this go in the setValue function?
				var propInfo = this.base.getProperty(this.key);
				if (propInfo && !propInfo.canSetValue()) {
					throw TypeError("Cannot assign to read only property '" + this.key + "'");
				}

				if (!propInfo && !this.base.isExtensible()) {
					throw TypeError("Cannot assign to '" + this.key + "' on non-extensible object");
				}
			}

			var result = this.base.setValue(this.key, value);
			if (!result && throwOnError) {
				throw TypeError("Cannot assign to read only property '" + this.key + "'");
			}

			return result;
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			return this.base.deleteProperty(this.key, this.env.isStrict());
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return false;
		}
	}]);

	return PropertyReference;
})(_reference.Reference);

exports.PropertyReference = PropertyReference;
},{"../types/primitive-type":365,"./reference":189,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],189:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var Reference = (function () {
	function Reference(key, base, env) {
		_classCallCheck(this, Reference);

		this.isReference = true;
		this.unqualified = false;

		this.key = key;
		this.base = base;
		this.env = env;
		this.strict = env.isStrict();
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(Reference, [{
		key: "getValue",
		value: function getValue() {
			if (!this.base) {
				throw ReferenceError(this.key + " is not defined");
			}

			return this.base.getValue(this.key, this.strict);
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (this.base) {
				if (!this.base.setValue(this.key, value) && this.strict) {
					throw TypeError();
				}

				return true;
			}

			// check identifier before strict
			contracts.assertIsValidIdentifier(this.key, this.strict);

			if (this.strict) {
				throw ReferenceError(this.key + " is not defined");
			}

			return this.env.global.defineOwnProperty(this.key, {
				value: value,
				configurable: true,
				enumerable: true,
				writable: true
			}, false, this.env);
		}
	}, {
		key: "isStrict",
		value: function isStrict() {
			return this.strict || this.env.isStrict();
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			if (this.base) {
				return this.base.deleteVariable(this.key);
			}

			return true;
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return !this.base;
		}
	}]);

	return Reference;
})();

exports.Reference = Reference;
},{"../utils/contracts":373,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/interop-require-wildcard":26}],190:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _estreeWalker = require("../estree-walker");

var _estreeWalker2 = _interopRequireDefault(_estreeWalker);

var _hoister = require("./hoister");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _syntaxRules = require("../syntax-rules");

var _syntaxRules2 = _interopRequireDefault(_syntaxRules);

var _utilsAsync = require("../utils/async");

var _utilsAssign = require("../utils/assign");

function validateSyntax(root) {
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = _getIterator(_estreeWalker2["default"].create(root)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var node = _step.value;

			if (node.type in _syntaxRules2["default"]) {
				_syntaxRules2["default"][node.type](node, true);
			}
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator["return"]) {
				_iterator["return"]();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}
}

var Scope = (function () {
	function Scope(env, scope) {
		_classCallCheck(this, Scope);

		env.globalScope = env.globalScope || this;

		this.scope = scope;
		this.env = env;
		this.priorScope = (env.current || env.globalScope).scope;
	}

	/**
  * Initializes the scope by validating the function body and hoisting variables.
  * @param {AST} node - The node to be executed.
  * @returns {void}
  */

	_createClass(Scope, [{
		key: "init",
		value: function init(node) {
			var _this = this;

			if (!node) {
				return;
			}

			var env = this.env;
			this.scope.strict = contracts.isStrictNode(node.body);

			var strict = this.scope.strict || env.isStrict();
			if (strict && node.type === "Program") {
				validateSyntax(node);
			}

			(0, _hoister.visit)(node, function (decl) {
				var name = decl.name || decl.id.name;
				contracts.assertIsValidParameterName(name, strict);

				var value = _typesPrimitiveType.UNDEFINED;
				if (decl.type === "FunctionDeclaration") {
					// functions can be used before they are defined
					var strictFunc = strict || contracts.isStrictNode(decl.body.body);
					value = env.objectFactory.createFunction(decl, undefined, { strict: strictFunc });
					value.bindScope(_this);
				} else if (_this.scope.has(name)) {
					return;
				}

				var newVar = env.createVariable(name, true);
				newVar.setValue(value);
			});
		}
	}, {
		key: "loadComplexArgs",
		value: _regeneratorRuntime.mark(function loadComplexArgs(params, args, callee) {
			var env, strict, scope, argIndex, argLength;
			return _regeneratorRuntime.wrap(function loadComplexArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						env = this.env;
						strict = env.isStrict() || contracts.isStrictNode(callee.node);
						scope = this.createParameterScope();
						argIndex = 0;
						argLength = args.length;
						context$2$0.next = 7;
						return (0, _utilsAsync.each)(params, _regeneratorRuntime.mark(function callee$2$0(param, index) {
							var rest, restIndex;
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										if (!(param.type === "RestElement")) {
											context$3$0.next = 7;
											break;
										}

										rest = env.objectFactory.createArray();
										restIndex = 0;

										while (argIndex < argLength) {
											rest.setValue(restIndex++, args[argIndex++] || _typesPrimitiveType.UNDEFINED);
										}

										scope.setValue(param.name, rest);
										context$3$0.next = 9;
										break;

									case 7:
										context$3$0.next = 9;
										return (0, _utilsAssign.declare)(env, param, args[argIndex++] || _typesPrimitiveType.UNDEFINED, true);

									case 9:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 7:

						if (!callee.arrow) {
							(function () {
								// preserve the passed in arguments, even if defaults are used instead
								var argumentList = env.objectFactory.createArguments(args, callee, strict);
								scope.createVariable("arguments");
								scope.setValue("arguments", argumentList);

								args.forEach(function (value, index) {
									argumentList.defineOwnProperty(index, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								});

								argumentList.defineOwnProperty("length", {
									value: env.objectFactory.createPrimitive(args.length),
									configurable: true,
									writable: true
								});
							})();
						}

						// return scope back to main scope
						this.env.setScope(this.scope);

					case 9:
					case "end":
						return context$2$0.stop();
				}
			}, loadComplexArgs, this);
		})

		/**
   * Loads the arguments into the scope and creates the special `arguments` object.
   * @param {AST[]} params - The parameter identifiers
   * @param {ObjectType[]} args - The argument values
   * @param {FunctionType} callee - The function
   * @returns {void}
   */
	}, {
		key: "loadArgs",
		value: _regeneratorRuntime.mark(function loadArgs(params, args, callee) {
			var env, scope, strictCallee, strict, argumentList, argsLength, shouldMap, _i, ln, param, value, _name, descriptor, i;

			return _regeneratorRuntime.wrap(function loadArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (!(params && params.some(function (p) {
							return p.type !== "Identifier";
						}))) {
							context$2$0.next = 4;
							break;
						}

						context$2$0.next = 3;
						return this.loadComplexArgs(params, args, callee);

					case 3:
						return context$2$0.abrupt("return");

					case 4:
						env = this.env;
						scope = this.scope;
						strictCallee = contracts.isStrictNode(callee.node);
						strict = env.isStrict() || strictCallee;
						argumentList = env.objectFactory.createArguments(args, callee, strict);

						scope.createVariable("arguments");
						scope.setValue("arguments", argumentList);

						argsLength = args.length;

						if (params) {
							shouldMap = !strictCallee;

							for (_i = 0, ln = params.length; _i < ln; _i++) {
								param = params[_i];
								value = args[_i] || _typesPrimitiveType.UNDEFINED;
								_name = param.name;

								if (shouldMap && !scope.has(_name)) {
									descriptor = scope.createVariable(_name);

									if (argsLength > _i) {
										argumentList.mapProperty(_i, descriptor);
									}
								}

								if (!shouldMap && _i < argsLength) {
									argumentList.defineOwnProperty(_i, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								}

								contracts.assertIsValidParameterName(_name, strict);
								scope.setValue(_name, value);
							}
						}

						// just set value if additional, unnamed arguments are passed in
						i = params ? params.length : 0;

						for (; i < argsLength; i++) {
							argumentList.defineOwnProperty(i, {
								value: args[i],
								configurable: true,
								enumerable: true,
								writable: true
							});
						}

						argumentList.defineOwnProperty("length", {
							value: env.objectFactory.createPrimitive(argsLength),
							configurable: true,
							writable: true
						});

					case 16:
					case "end":
						return context$2$0.stop();
				}
			}, loadArgs, this);
		})
	}, {
		key: "createParameterScope",
		value: function createParameterScope() {
			var scope = this.env.createScope();
			scope.scope.setParent(this.scope.parent);
			this.scope.setParent(scope);
			return scope.scope;
		}

		/**
   * Runs the passed in function and exits the scope when the function completes,
   * returning the environment back to the previos state.
   * @param {Function} inner - The function to execute.
   * @returns {Iterator} The function results
   */
	}, {
		key: "use",
		value: _regeneratorRuntime.mark(function use(inner) {
			var result;
			return _regeneratorRuntime.wrap(function use$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.prev = 0;
						context$2$0.next = 3;
						return inner();

					case 3:
						result = context$2$0.sent;

						this.exit();
						return context$2$0.abrupt("return", result);

					case 8:
						context$2$0.prev = 8;
						context$2$0.t0 = context$2$0["catch"](0);

						this.exit();
						throw context$2$0.t0;

					case 12:
					case "end":
						return context$2$0.stop();
				}
			}, use, this, [[0, 8]]);
		})

		/**
   * Exits the scope, returning the environment to it's previous state.
   * (Typically you would call `use` which handles exiting the scope itself.)
   * @returns {void}
   */
	}, {
		key: "exit",
		value: function exit() {
			this.env.setScope(this.priorScope);
		}
	}]);

	return Scope;
})();

exports.Scope = Scope;

// create a temporary scope for the argument declarations

// todo: this method is getting far too complex
},{"../estree-walker":343,"../syntax-rules":354,"../types/primitive-type":365,"../utils/assign":371,"../utils/async":372,"../utils/contracts":373,"./hoister":185,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],191:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getStartIndex = getStartIndex;
exports.getEndIndex = getEndIndex;
exports.executeCallback = executeCallback;
exports.executeAccumulator = executeAccumulator;
exports.isSpreadable = isSpreadable;
var marked0$0 = [executeCallback, executeAccumulator].map(_regeneratorRuntime.mark);

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _typesSymbolType = require("../../types/symbol-type");

var _typesPrimitiveType = require("../../types/primitive-type");

function getStartIndex(index, length) {
	if (index < 0) {
		return Math.max(length - Math.abs(index), 0);
	}

	return Math.min(index || 0, length);
}

function getEndIndex(index, length) {
	if (index < 0) {
		return Math.max(length + index, 0);
	}

	return Math.min(index, length);
}

function executeCallback(env, callback, entry, thisArg, arr) {
	var key, args;
	return _regeneratorRuntime.wrap(function executeCallback$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!thisArg) {
					thisArg = callback.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;
				}

				key = env.objectFactory.createPrimitive(entry.key);
				args = [entry.value, key, arr];
				context$1$0.next = 5;
				return callback.call(thisArg, args) || _typesPrimitiveType.UNDEFINED;

			case 5:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function executeAccumulator(env, callback, priorValue, entry, arr) {
	var args;
	return _regeneratorRuntime.wrap(function executeAccumulator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				args = [priorValue || _typesPrimitiveType.UNDEFINED, entry.value || _typesPrimitiveType.UNDEFINED, env.objectFactory.createPrimitive(entry.key), arr];
				context$1$0.next = 3;
				return callback.call(_typesPrimitiveType.UNDEFINED, args) || _typesPrimitiveType.UNDEFINED;

			case 3:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function isSpreadable(obj) {
	if (!(0, _utilsContracts.isObject)(obj)) {
		return false;
	}

	var key = _typesSymbolType.SymbolType.getByKey("isConcatSpreadable");
	var propInfo = obj.getProperty(key);
	if (propInfo) {
		var spreadable = propInfo.getValue();
		if (!(0, _utilsContracts.isUndefined)(spreadable)) {
			return (0, _utilsNative.toBoolean)(spreadable);
		}
	}

	return obj.className === "Array";
}
},{"../../types/primitive-type":365,"../../types/symbol-type":370,"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],192:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("concat", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, arrays = Array(_len), _key = 0; _key < _len; _key++) {
			arrays[_key] = arguments[_key];
		}

		var newArray, current, index, i, _length;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					newArray = factory.create("Array");

					// add "this" array to bunch
					arrays.unshift((0, _utilsNative.toObject)(env, this.node));

					current = undefined, index = 0, i = undefined;

				case 3:
					if (!(arrays.length > 0)) {
						context$2$0.next = 15;
						break;
					}

					current = arrays.shift();

					if (!(0, _arrayHelpers.isSpreadable)(current)) {
						context$2$0.next = 12;
						break;
					}

					context$2$0.next = 8;
					return (0, _utilsNative.toLength)(current);

				case 8:
					_length = context$2$0.sent;

					for (i = 0; i < _length; i++) {
						if (current.has(i)) {
							newArray.setValue(index, current.getValue(i));
						}

						index++;
					}
					context$2$0.next = 13;
					break;

				case 12:
					newArray.setValue(index++, current);

				case 13:
					context$2$0.next = 3;
					break;

				case 15:

					newArray.setValue("length", factory.createPrimitive(index));
					return context$2$0.abrupt("return", newArray);

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.concat"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"./array-helpers":191,"babel-runtime/regenerator":28}],193:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("every", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Array.prototype.every");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(arr);

				case 4:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(callback, arr);

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 9;
					_iterator = _getIterator(_iterators2["default"].forward(arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step.value;
					context$2$0.next = 15;
					return (0, _arrayHelpers.executeCallback)(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 19:
					_iteratorNormalCompletion = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", factory.createPrimitive(true));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.every"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/contracts":373,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],194:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("filter", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, newArray, index, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Array.prototype.filter");

					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(arr);

				case 4:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(callback, arr);

					newArray = factory.create("Array");
					index = 0;
					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 11;
					_iterator = _getIterator(_iterators2["default"].forward(arr, 0, length));

				case 13:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 23;
						break;
					}

					entry = _step.value;
					context$2$0.next = 17;
					return (0, _arrayHelpers.executeCallback)(env, callback, entry, thisArg, arr);

				case 17:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						newArray.setIndex(index++, entry.value);
					}

				case 20:
					_iteratorNormalCompletion = true;
					context$2$0.next = 13;
					break;

				case 23:
					context$2$0.next = 29;
					break;

				case 25:
					context$2$0.prev = 25;
					context$2$0.t1 = context$2$0["catch"](11);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 29:
					context$2$0.prev = 29;
					context$2$0.prev = 30;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 32:
					context$2$0.prev = 32;

					if (!_didIteratorError) {
						context$2$0.next = 35;
						break;
					}

					throw _iteratorError;

				case 35:
					return context$2$0.finish(32);

				case 36:
					return context$2$0.finish(29);

				case 37:
					return context$2$0.abrupt("return", newArray);

				case 38:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[11, 25, 29, 37], [30,, 32, 36]]);
	}), 1, "Array.prototype.filter"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/contracts":373,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],195:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("forEach", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(callback, arr);

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 8;
					_iterator = _getIterator(_iterators2["default"].forward(arr, 0, length));

				case 10:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 17;
						break;
					}

					entry = _step.value;
					context$2$0.next = 14;
					return (0, _arrayHelpers.executeCallback)(env, callback, entry, thisArg, arr);

				case 14:
					_iteratorNormalCompletion = true;
					context$2$0.next = 10;
					break;

				case 17:
					context$2$0.next = 23;
					break;

				case 19:
					context$2$0.prev = 19;
					context$2$0.t0 = context$2$0["catch"](8);
					_didIteratorError = true;
					_iteratorError = context$2$0.t0;

				case 23:
					context$2$0.prev = 23;
					context$2$0.prev = 24;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 26:
					context$2$0.prev = 26;

					if (!_didIteratorError) {
						context$2$0.next = 29;
						break;
					}

					throw _iteratorError;

				case 29:
					return context$2$0.finish(26);

				case 30:
					return context$2$0.finish(23);

				case 31:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 19, 23, 31], [24,, 26, 30]]);
	}), 1, "Array.prototype.forEach"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/contracts":373,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],196:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("indexOf", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    notFound,
		    _iteratorNormalCompletion,
		    _didIteratorError,
		    _iteratorError,
		    _iterator,
		    _step,
		    _step$value,
		    key,
		    value,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = 0;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;
					notFound = factory.createPrimitive(-1);

					if (!(length === 0 || index >= length)) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", notFound);

				case 15:

					index = (0, _arrayHelpers.getStartIndex)(index, length);

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 19;
					_iterator = _getIterator(_iterators2["default"].forward(this.node, index, length));

				case 21:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 30;
						break;
					}

					_step$value = _step.value;
					key = _step$value.key;
					value = _step$value.value;

					if (!env.ops.strictEquals(searchElement, value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 27;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(key));

				case 27:
					_iteratorNormalCompletion = true;
					context$2$0.next = 21;
					break;

				case 30:
					context$2$0.next = 36;
					break;

				case 32:
					context$2$0.prev = 32;
					context$2$0.t1 = context$2$0["catch"](19);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 36:
					context$2$0.prev = 36;
					context$2$0.prev = 37;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 39:
					context$2$0.prev = 39;

					if (!_didIteratorError) {
						context$2$0.next = 42;
						break;
					}

					throw _iteratorError;

				case 42:
					return context$2$0.finish(39);

				case 43:
					return context$2$0.finish(36);

				case 44:
					return context$2$0.abrupt("return", notFound);

				case 45:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[19, 32, 36, 44], [37,, 39, 43]]);
	}), 1, "Array.prototype.indexOf"));
};

module.exports = exports["default"];
},{"../../iterators":348,"../../types/primitive-type":365,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],197:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	var proto = $target.getValue("prototype");
	$target.define("isArray", factory.createBuiltInFunction(function (obj) {
		return factory.createPrimitive(!!(obj && (obj.className === "Array" || obj === proto)));
	}, 1, "Array.isArray"));
};

module.exports = exports["default"];
},{}],198:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _typesPrimitiveType = require("../../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("join", factory.createBuiltInFunction(_regeneratorRuntime.mark(function join(separator) {
		var length,
		    stringValues,
		    stringValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function join$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;

					if (!(args$2$0.length === 0 || separator === _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 7;
						break;
					}

					context$2$0.t0 = ",";
					context$2$0.next = 10;
					break;

				case 7:
					context$2$0.next = 9;
					return (0, _utilsNative.toString)(separator);

				case 9:
					context$2$0.t0 = context$2$0.sent;

				case 10:
					separator = context$2$0.t0;
					stringValues = [];
					stringValue = undefined;
					i = 0;

				case 14:
					if (!(i < length)) {
						context$2$0.next = 29;
						break;
					}

					stringValue = "";

					if (!this.node.has(i)) {
						context$2$0.next = 25;
						break;
					}

					stringValue = this.node.getValue(i);

					if (!(0, _utilsContracts.isNullOrUndefined)(stringValue)) {
						context$2$0.next = 22;
						break;
					}

					stringValue = "";
					context$2$0.next = 25;
					break;

				case 22:
					context$2$0.next = 24;
					return (0, _utilsNative.toString)(stringValue);

				case 24:
					stringValue = context$2$0.sent;

				case 25:

					stringValues.push(stringValue);

				case 26:
					i++;
					context$2$0.next = 14;
					break;

				case 29:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValues.join(separator)));

				case 30:
				case "end":
					return context$2$0.stop();
			}
		}, join, this);
	}), 1, "Array.prototype.join"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":365,"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],199:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

exports["default"] = function ($target, env, factory) {
	$target.define("lastIndexOf", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    _iteratorNormalCompletion,
		    _didIteratorError,
		    _iteratorError,
		    _iterator,
		    _step,
		    _step$value,
		    key,
		    value,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = length - 1;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;

					if (index < 0) {
						index = length - Math.abs(index);
					}

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 16;
					_iterator = _getIterator(_iterators2["default"].reverse(this.node, index));

				case 18:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 27;
						break;
					}

					_step$value = _step.value;
					key = _step$value.key;
					value = _step$value.value;

					if (!env.ops.strictEquals(searchElement, value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 24;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(key));

				case 24:
					_iteratorNormalCompletion = true;
					context$2$0.next = 18;
					break;

				case 27:
					context$2$0.next = 33;
					break;

				case 29:
					context$2$0.prev = 29;
					context$2$0.t1 = context$2$0["catch"](16);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 33:
					context$2$0.prev = 33;
					context$2$0.prev = 34;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 36:
					context$2$0.prev = 36;

					if (!_didIteratorError) {
						context$2$0.next = 39;
						break;
					}

					throw _iteratorError;

				case 39:
					return context$2$0.finish(36);

				case 40:
					return context$2$0.finish(33);

				case 41:
					return context$2$0.abrupt("return", factory.createPrimitive(-1));

				case 42:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[16, 29, 33, 41], [34,, 36, 40]]);
	}), 1, "Array.prototype.lastIndexOf"));
};

module.exports = exports["default"];
},{"../../iterators":348,"../../types/primitive-type":365,"../../utils/native":375,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],200:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
		value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
		$target.define("map", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
				var arr, length, newArray, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry, value;

				return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
								case 0:
										arr = (0, _utilsNative.toObject)(env, this.node);
										context$2$0.next = 3;
										return (0, _utilsNative.toLength)(arr);

								case 3:
										length = context$2$0.sent;

										(0, _utilsContracts.assertIsNotNullOrUndefined)(arr, "Array.prototype.map");
										(0, _utilsContracts.assertIsFunction)(callback, arr);

										newArray = factory.create("Array");

										newArray.setValue("length", factory.createPrimitive(length));

										_iteratorNormalCompletion = true;
										_didIteratorError = false;
										_iteratorError = undefined;
										context$2$0.prev = 11;
										_iterator = _getIterator(_iterators2["default"].forward(arr, 0, length));

								case 13:
										if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
												context$2$0.next = 22;
												break;
										}

										entry = _step.value;
										context$2$0.next = 17;
										return (0, _arrayHelpers.executeCallback)(env, callback, entry, thisArg, arr);

								case 17:
										value = context$2$0.sent;

										newArray.setIndex(entry.key, value);

								case 19:
										_iteratorNormalCompletion = true;
										context$2$0.next = 13;
										break;

								case 22:
										context$2$0.next = 28;
										break;

								case 24:
										context$2$0.prev = 24;
										context$2$0.t0 = context$2$0["catch"](11);
										_didIteratorError = true;
										_iteratorError = context$2$0.t0;

								case 28:
										context$2$0.prev = 28;
										context$2$0.prev = 29;

										if (!_iteratorNormalCompletion && _iterator["return"]) {
												_iterator["return"]();
										}

								case 31:
										context$2$0.prev = 31;

										if (!_didIteratorError) {
												context$2$0.next = 34;
												break;
										}

										throw _iteratorError;

								case 34:
										return context$2$0.finish(31);

								case 35:
										return context$2$0.finish(28);

								case 36:
										return context$2$0.abrupt("return", newArray);

								case 37:
								case "end":
										return context$2$0.stop();
						}
				}, callee$1$0, this, [[11, 24, 28, 36], [29,, 31, 35]]);
		}), 1, "Array.prototype.map"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/contracts":373,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],201:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _typesPrimitiveType = require("../../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("pop", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					i = context$2$0.sent;

					if (i > 0) {
						i--;

						if (this.node.has(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i, true);
						}
					}

					this.node.setValue("length", factory.createPrimitive(i));
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.pop"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":365,"../../utils/native":375,"babel-runtime/regenerator":28}],202:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("push", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var start, i, _length, newLength;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					start = context$2$0.sent;
					i = 0;

					for (_length = items.length; i < _length; i++) {
						this.node.setValue(start + i, items[i]);
					}

					newLength = factory.createPrimitive(start + i);

					this.node.setValue("length", newLength);
					return context$2$0.abrupt("return", newLength);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.push"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"babel-runtime/regenerator":28}],203:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("reduceRight", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var length,
		    arr,
		    accumulator,
		    hasInitialValue,
		    hasElements,
		    _iteratorNormalCompletion,
		    _didIteratorError,
		    _iteratorError,
		    _iterator,
		    _step,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Array.prototype.reduceRight");
					arr = (0, _utilsNative.toObject)(env, this.node);

					(0, _utilsContracts.assertIsFunction)(callback, arr);

					accumulator = undefined;
					hasInitialValue = false;

					if (args$2$0.length > 1) {
						accumulator = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 14;
					_iterator = _getIterator(_iterators2["default"].reverse(arr, length - 1));

				case 16:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					accumulator = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return (0, _arrayHelpers.executeAccumulator)(env, callback, accumulator, entry, arr);

				case 25:
					accumulator = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError = true;
					_iteratorError = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					throw TypeError("Reduce of empty array with no initial value");

				case 45:
					return context$2$0.abrupt("return", accumulator);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduceRight"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/contracts":373,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],204:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("reduce", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var arr,
		    length,
		    hasInitialValue,
		    value,
		    hasElements,
		    _iteratorNormalCompletion,
		    _didIteratorError,
		    _iteratorError,
		    _iterator,
		    _step,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Array.prototype.reduce");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(arr);

				case 4:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(callback, arr);

					hasInitialValue = false;
					value = undefined;

					if (args$2$0.length > 1) {
						value = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 14;
					_iterator = _getIterator(_iterators2["default"].forward(arr, 0, length));

				case 16:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					value = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return (0, _arrayHelpers.executeAccumulator)(env, callback, value, entry, arr);

				case 25:
					value = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError = true;
					_iteratorError = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					throw TypeError("Reduce of empty array with no initial value");

				case 45:
					return context$2$0.abrupt("return", value);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduce"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/contracts":373,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],205:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("reverse", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, middle, lower, upper, upperValue, lowerValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					middle = Math.floor(length / 2);
					lower = 0;
					upper = undefined, upperValue = undefined, lowerValue = undefined;

					while (lower !== middle) {
						upper = length - lower - 1;
						lowerValue = this.node.has(lower) && this.node.getValue(lower);
						upperValue = this.node.has(upper) && this.node.getValue(upper);

						if (upperValue) {
							this.node.setValue(lower, upperValue);
						}

						if (lowerValue) {
							this.node.setValue(upper, lowerValue);
						}

						if (upperValue && !lowerValue) {
							this.node.deleteProperty(upper);
						} else if (lowerValue && !upperValue) {
							this.node.deleteProperty(lower);
						}

						lower++;
					}

					return context$2$0.abrupt("return", this.node);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.reverse"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"babel-runtime/regenerator":28}],206:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _typesPrimitiveType = require("../../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("shift", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, length, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;
					i = 0;

					if (length > 0) {
						if (this.node.has(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i);
						}

						while (++i < length) {
							if (this.node.has(i)) {
								this.node.setValue(i - 1, this.node.getValue(i));
							} else {
								this.node.deleteProperty(i);
							}
						}

						this.node.deleteProperty(length - 1);
					}

					this.node.setValue("length", factory.createPrimitive(length === 0 ? 0 : --length));
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.shift"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":365,"../../utils/native":375,"babel-runtime/regenerator":28}],207:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _arrayHelpers = require("./array-helpers");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

exports["default"] = function ($target, env, factory) {
	$target.define("slice", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(begin, end) {
		var source, length, arr, newLength, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _step$value, key, value, index;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					source = this.node;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;

					if (!begin) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(begin);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					begin = context$2$0.t0;

					if (!(!end || end.type === "undefined")) {
						context$2$0.next = 16;
						break;
					}

					end = length;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toInteger)(end);

				case 18:
					end = context$2$0.sent;

				case 19:

					begin = (0, _arrayHelpers.getStartIndex)(begin, length);
					end = (0, _arrayHelpers.getEndIndex)(end, length);

					arr = factory.create("Array");
					newLength = 0;
					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 26;

					for (_iterator = _getIterator(_iterators2["default"].forward(source, begin, end)); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
						_step$value = _step.value;
						key = _step$value.key;
						value = _step$value.value;
						index = key - begin;

						arr.setValue(index, value);
						newLength = ++index;
					}

					context$2$0.next = 34;
					break;

				case 30:
					context$2$0.prev = 30;
					context$2$0.t1 = context$2$0["catch"](26);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 34:
					context$2$0.prev = 34;
					context$2$0.prev = 35;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 37:
					context$2$0.prev = 37;

					if (!_didIteratorError) {
						context$2$0.next = 40;
						break;
					}

					throw _iteratorError;

				case 40:
					return context$2$0.finish(37);

				case 41:
					return context$2$0.finish(34);

				case 42:
					arr.setValue("length", factory.createPrimitive(newLength));
					return context$2$0.abrupt("return", arr);

				case 44:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[26, 30, 34, 42], [35,, 37, 41]]);
	}), 2, "Array.prototype.slice"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],208:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("some", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Array.prototype.some");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(this.node);

				case 4:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(callback, this.node);

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 9;
					_iterator = _getIterator(_iterators2["default"].forward(arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step.value;
					context$2$0.next = 15;
					return (0, _arrayHelpers.executeCallback)(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(true));

				case 19:
					_iteratorNormalCompletion = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.some"));
};

module.exports = exports["default"];
},{"../../iterators/":348,"../../utils/contracts":373,"../../utils/native":375,"./array-helpers":191,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],209:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _utilsAsync = require("../../utils/async");

var _typesPrimitiveType = require("../../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("sort", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(compareFunction) {
		var arr, length, i, comparer, sortedArray;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = this.node;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;
					i = 0;
					comparer = undefined;

					if ((0, _utilsContracts.isNullOrUndefined)(compareFunction)) {
						comparer = function defaultComparer(a, b) {
							a = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(a));
							b = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(b));

							if (a < b) {
								return -1;
							}

							if (a > b) {
								return 1;
							}

							return 0;
						};
					} else {
						comparer = function (a, b) {
							var result = (0, _utilsAsync.exhaust)(compareFunction.call(_typesPrimitiveType.UNDEFINED, [a, b]));
							if (result) {
								return result.toNative();
							}

							return undefined;
						};
					}

					// to array, run the wrapped comparer, then re-assign indexes
					context$2$0.next = 9;
					return (0, _utilsNative.toArray)(arr, length);

				case 9:
					context$2$0.t0 = function (el) {
						return el.isPrimitive && el.value === undefined ? undefined : el;
					};

					context$2$0.t1 = comparer;
					sortedArray = context$2$0.sent.
					// undefined positions are handled by the underlying sort algorithm, so replace them with the raw primitive value
					map(context$2$0.t0).sort(context$2$0.t1);

					while (i < length) {
						if (i in sortedArray) {
							arr.setValue(i, sortedArray[i]);
						} else {
							arr.deleteProperty(i, false);
						}

						i++;
					}

					return context$2$0.abrupt("return", arr);

				case 14:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.sort"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":365,"../../utils/async":372,"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],210:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("splice", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, deleteCount) {
		for (var _len = arguments.length, elements = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
			elements[_key - 2] = arguments[_key];
		}

		var length, removed, k, newCount, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(start);

				case 5:
					start = context$2$0.sent;

					if (start < 0) {
						start = Math.max(length + start, 0);
					} else {
						start = Math.min(start, length);
					}

					context$2$0.next = 9;
					return (0, _utilsNative.toInteger)(deleteCount);

				case 9:
					deleteCount = context$2$0.sent;

					if (deleteCount < 0) {
						deleteCount = 0;
					} else {
						deleteCount = Math.min(Math.max(deleteCount, 0), length - start);
					}

					removed = factory.create("Array");
					k = 0;

					while (k < deleteCount) {
						if (this.node.has(k + start)) {
							removed.setValue(k, this.node.getValue(k + start));
						}

						k++;
					}

					newCount = elements.length;

					if (newCount < deleteCount) {
						k = start;

						while (k < length - deleteCount) {
							if (this.node.has(k + deleteCount)) {
								this.node.setValue(k + newCount, this.node.getValue(k + deleteCount));
							} else {
								this.node.deleteProperty(k + deleteCount);
							}

							k++;
						}

						k = length;
						while (k > length - deleteCount + newCount) {
							this.node.deleteProperty(--k);
						}
					} else if (newCount > deleteCount) {
						k = length - start;
						while (k > start) {
							if (this.node.has(k + deleteCount - 1)) {
								this.node.setValue(k + newCount - 1, this.node.getValue(k + deleteCount - 1));
							} else {
								this.node.deleteProperty(k + newCount - 1);
							}

							k--;
						}
					}

					k = start;
					for (i = 0; i < newCount; i++) {
						this.node.setValue(k, elements[i]);
						k++;
					}

					this.node.setValue("length", factory.createPrimitive(length - deleteCount + newCount));
					return context$2$0.abrupt("return", removed);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.splice"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"babel-runtime/regenerator":28}],211:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("toLocaleString", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, arr, i, current, func;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					arr = new Array(length);
					i = 0;
					current = undefined;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 23;
						break;
					}

					if (!this.node.has(i)) {
						context$2$0.next = 20;
						break;
					}

					current = this.node.getValue(i);

					if (!(0, _utilsContracts.isNullOrUndefined)(current)) {
						context$2$0.next = 13;
						break;
					}

					arr[i] = "";
					context$2$0.next = 20;
					break;

				case 13:
					func = current.getValue("toLocaleString") || current.getValue("toString");
					context$2$0.next = 16;
					return func.call(current);

				case 16:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 19;
					return (0, _utilsNative.toString)(context$2$0.t0);

				case 19:
					arr[i] = context$2$0.sent;

				case 20:

					i++;
					context$2$0.next = 6;
					break;

				case 23:
					return context$2$0.abrupt("return", factory.createPrimitive(arr.join()));

				case 24:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.toLocaleString"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],212:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("toString", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var func;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Array.prototype.toString");
					func = this.node.getValue("join");

					if (!func || !(0, _utilsContracts.isFunction)(func)) {
						func = env.global.getValue("Object").getValue("toString");
					}

					context$2$0.next = 5;
					return func.call(this.node);

				case 5:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.toString"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"babel-runtime/regenerator":28}],213:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("unshift", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var length, argCount, i, toIndex, fromIndex, newLength;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(this.node);

				case 2:
					length = context$2$0.sent;
					argCount = items.length;
					i = length;
					toIndex = undefined, fromIndex = undefined;

					while (i > 0) {
						fromIndex = i - 1;
						toIndex = i + argCount - 1;

						if (this.node.has(fromIndex)) {
							this.node.setValue(toIndex, this.node.getValue(fromIndex));
						} else {
							this.node.deleteProperty(toIndex, true);
						}

						i--;
					}

					for (i = 0; i < argCount; i++) {
						this.node.setValue(i, items[i]);
					}

					newLength = factory.createPrimitive(argCount + length);

					this.node.setValue("length", newLength);
					return context$2$0.abrupt("return", newLength);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.unshift"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"babel-runtime/regenerator":28}],214:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _arrayIsArray = require("./array.is-array");

var _arrayIsArray2 = _interopRequireDefault(_arrayIsArray);

var _arrayConcat = require("./array.concat");

var _arrayConcat2 = _interopRequireDefault(_arrayConcat);

var _arrayEvery = require("./array.every");

var _arrayEvery2 = _interopRequireDefault(_arrayEvery);

var _arrayFilter = require("./array.filter");

var _arrayFilter2 = _interopRequireDefault(_arrayFilter);

var _arrayForEach = require("./array.for-each");

var _arrayForEach2 = _interopRequireDefault(_arrayForEach);

var _arrayIndexOf = require("./array.index-of");

var _arrayIndexOf2 = _interopRequireDefault(_arrayIndexOf);

var _arrayJoin = require("./array.join");

var _arrayJoin2 = _interopRequireDefault(_arrayJoin);

var _arrayLastIndexOf = require("./array.last-index-of");

var _arrayLastIndexOf2 = _interopRequireDefault(_arrayLastIndexOf);

var _arrayMap = require("./array.map");

var _arrayMap2 = _interopRequireDefault(_arrayMap);

var _arrayPop = require("./array.pop");

var _arrayPop2 = _interopRequireDefault(_arrayPop);

var _arrayPush = require("./array.push");

var _arrayPush2 = _interopRequireDefault(_arrayPush);

var _arrayReduce = require("./array.reduce");

var _arrayReduce2 = _interopRequireDefault(_arrayReduce);

var _arrayReduceRight = require("./array.reduce-right");

var _arrayReduceRight2 = _interopRequireDefault(_arrayReduceRight);

var _arrayReverse = require("./array.reverse");

var _arrayReverse2 = _interopRequireDefault(_arrayReverse);

var _arrayShift = require("./array.shift");

var _arrayShift2 = _interopRequireDefault(_arrayShift);

var _arraySlice = require("./array.slice");

var _arraySlice2 = _interopRequireDefault(_arraySlice);

var _arraySome = require("./array.some");

var _arraySome2 = _interopRequireDefault(_arraySome);

var _arraySort = require("./array.sort");

var _arraySort2 = _interopRequireDefault(_arraySort);

var _arraySplice = require("./array.splice");

var _arraySplice2 = _interopRequireDefault(_arraySplice);

var _arrayToLocaleString = require("./array.to-locale-string");

var _arrayToLocaleString2 = _interopRequireDefault(_arrayToLocaleString);

var _arrayToString = require("./array.to-string");

var _arrayToString2 = _interopRequireDefault(_arrayToString);

var _arrayUnshift = require("./array.unshift");

var _arrayUnshift2 = _interopRequireDefault(_arrayUnshift);

exports["default"] = function (env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Array";
	proto.define("length", objectFactory.createPrimitive(0), { configurable: false, enumerable: false, writable: true });

	var arrayClass = objectFactory.createFunction(function (length) {
		if (arguments.length === 1 && length.type === "number") {
			(0, _utilsContracts.assertIsValidArrayLength)(arguments[0].toNative());

			var newArray = objectFactory.createArray();
			newArray.setValue("length", length);
			return newArray;
		}

		return objectFactory.createArray(arguments);
	}, proto, { configurable: false, enumerable: false, writable: false });

	(0, _arrayIsArray2["default"])(arrayClass, env, objectFactory);
	(0, _arrayPush2["default"])(proto, env, objectFactory);
	(0, _arrayPop2["default"])(proto, env, objectFactory);
	(0, _arrayShift2["default"])(proto, env, objectFactory);
	(0, _arrayUnshift2["default"])(proto, env, objectFactory);
	(0, _arraySlice2["default"])(proto, env, objectFactory);
	(0, _arraySplice2["default"])(proto, env, objectFactory);
	(0, _arrayConcat2["default"])(proto, env, objectFactory);
	(0, _arrayJoin2["default"])(proto, env, objectFactory);
	(0, _arrayIndexOf2["default"])(proto, env, objectFactory);
	(0, _arrayLastIndexOf2["default"])(proto, env, objectFactory);
	(0, _arrayForEach2["default"])(proto, env, objectFactory);
	(0, _arrayMap2["default"])(proto, env, objectFactory);
	(0, _arrayFilter2["default"])(proto, env, objectFactory);
	(0, _arrayEvery2["default"])(proto, env, objectFactory);
	(0, _arraySome2["default"])(proto, env, objectFactory);
	(0, _arrayReduce2["default"])(proto, env, objectFactory);
	(0, _arrayReduceRight2["default"])(proto, env, objectFactory);
	(0, _arrayReverse2["default"])(proto, env, objectFactory);
	(0, _arraySort2["default"])(proto, env, objectFactory);
	(0, _arrayToLocaleString2["default"])(proto, env, objectFactory);
	(0, _arrayToString2["default"])(proto, env, objectFactory);

	globalObject.define("Array", arrayClass);
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"./array.concat":192,"./array.every":193,"./array.filter":194,"./array.for-each":195,"./array.index-of":196,"./array.is-array":197,"./array.join":198,"./array.last-index-of":199,"./array.map":200,"./array.pop":201,"./array.push":202,"./array.reduce":204,"./array.reduce-right":203,"./array.reverse":205,"./array.shift":206,"./array.slice":207,"./array.some":208,"./array.sort":209,"./array.splice":210,"./array.to-locale-string":211,"./array.to-string":212,"./array.unshift":213,"babel-runtime/helpers/interop-require-default":25}],215:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = booleanApi;

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsNative = require("../../utils/native");

function booleanApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Boolean";
	proto.value = false;

	var booleanClass = objectFactory.createFunction(function (obj) {
		var booleanValue = (0, _utilsNative.toBoolean)(obj);

		// called as new
		if (this.isNew) {
			return (0, _utilsNative.primitiveToObject)(env, booleanValue);
		}

		return objectFactory.create("Boolean", booleanValue);
	}, proto, { configurable: false, enumerable: false, writable: false });

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.toString");
		return objectFactory.createPrimitive(String(this.node.value));
	}, 0, "Boolean.prototype.toString"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "Boolean.prototype.valueOf"));

	globalObject.define("Boolean", booleanClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/helpers/interop-require-wildcard":26}],216:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = consoleApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var methods = ["log", "info", "error", "warn"];

function consoleApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var consoleClass = objectFactory.createObject();

	methods.forEach(function (name) {
		consoleClass.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			var stringValues;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toString)(arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						}));

					case 2:
						stringValues = context$3$0.sent;

						console[name].apply(console, _toConsumableArray(stringValues));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, "console." + name));
	});

	globalObject.define("console", consoleClass);
}

module.exports = exports["default"];
},{"../../utils/async":372,"../../utils/native":375,"babel-runtime/helpers/to-consumable-array":27,"babel-runtime/regenerator":28}],217:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _bind = require("babel-runtime/helpers/bind")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = dateApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var staticMethods = ["now"];
var protoMethods = ["getDate", "getDay", "getFullYear", "getHours", "getMilliseconds", "getMinutes", "getMonth", "getMilliseconds", "getMinutes", "getMonth", "getSeconds", "getTime", "getTimezoneOffset", "getUTCDay", "getUTCDate", "getUTCFullYear", "getUTCHours", "getUTCMilliseconds", "getUTCMinutes", "getUTCMonth", "getUTCSeconds", "getYear", "toDateString", "toGMTString", "toISOString", "toJSON", "toLocaleString", "toLocaleDateString", "toLocaleTimeString", "toString", "toTimeString", "toUTCString"];
var setters = ["setDate", "setFullYear", "setHours", "setMilliseconds", "setMinutes", "setMonth", "setSeconds", "setTime", "setUTCDate", "setUTCFullYear", "setUTCHours", "setUTCMilliseconds", "setUTCMinutes", "setUTCMonth", "setUTCSeconds", "setYear"];

function dateApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Date";
	proto.value = new Date(0);

	var dateClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(p1, p2, p3, p4, p5, p6, p7) {
		var dateValue,
		    args,
		    primitiveValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					dateValue = undefined, args = undefined;

					if (!(args$2$0.length === 0)) {
						context$2$0.next = 5;
						break;
					}

					args = [];
					context$2$0.next = 22;
					break;

				case 5:
					if (!(args$2$0.length === 1)) {
						context$2$0.next = 20;
						break;
					}

					if (!p1.isPrimitive) {
						context$2$0.next = 10;
						break;
					}

					args = [p1.value];
					context$2$0.next = 18;
					break;

				case 10:
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(p1);

				case 12:
					primitiveValue = context$2$0.sent;

					if (!(typeof primitiveValue !== "string")) {
						context$2$0.next = 17;
						break;
					}

					context$2$0.next = 16;
					return (0, _utilsNative.toNumber)(p1);

				case 16:
					primitiveValue = context$2$0.sent;

				case 17:

					args = [primitiveValue];

				case 18:
					context$2$0.next = 22;
					break;

				case 20:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 21);

				case 21:
					args = context$2$0.t0;

				case 22:
					if (!this.isNew) {
						context$2$0.next = 35;
						break;
					}

					context$2$0.t1 = args.length;
					context$2$0.next = context$2$0.t1 === 0 ? 26 : context$2$0.t1 === 1 ? 28 : 30;
					break;

				case 26:
					dateValue = new Date();
					return context$2$0.abrupt("break", 34);

				case 28:
					dateValue = new Date(args[0]);
					return context$2$0.abrupt("break", 34);

				case 30:
					i = args.length;

					while (i < 7) {
						// default day to 1, all others to 0
						args[i++] = i === 3 ? 1 : 0;
					}

					dateValue = new (_bind.apply(Date, [null].concat(_toConsumableArray(args))))();
					return context$2$0.abrupt("break", 34);

				case 34:
					return context$2$0.abrupt("return", objectFactory.create("Date", dateValue));

				case 35:

					dateValue = Date.apply(undefined, _toConsumableArray(args));
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	dateClass.define("parse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue, dateValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(value, "string");

				case 2:
					stringValue = context$2$0.sent;
					dateValue = Date.parse(stringValue);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Date.prototype.parse"));

	dateClass.define("UTC", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var args,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Date.UTC.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 7, "Date.prototype.UTC"));

	staticMethods.forEach(function (name) {
		dateClass.define(name, (0, _utilsNative.toNativeFunction)(env, Date[name], "Date." + name));
	});

	protoMethods.forEach(function (name) {
		proto.define(name, (0, _utilsNative.toNativeFunction)(env, Date.prototype[name], "Date.prototype." + name));
	});

	setters.forEach(function (name) {
		var marked2$0 = [setter].map(_regeneratorRuntime.mark);

		function setter() {
			var args,
			    args$3$0 = arguments;
			return _regeneratorRuntime.wrap(function setter$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toPrimitive)(arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						})), "t0", 1);

					case 1:
						args = context$3$0.t0;

						Date.prototype[name].apply(this.node.value, args);

					case 3:
					case "end":
						return context$3$0.stop();
				}
			}, marked2$0[0], this);
		}

		proto.define(name, objectFactory.createBuiltInFunction(setter, Date.prototype[name].length, "Date.prototype." + name));
	});

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		return objectFactory.createPrimitive(this.node.value.valueOf());
	}, 0, "Date.prototype.valueOf"));

	globalObject.define("Date", dateClass);
}

module.exports = exports["default"];
},{"../../utils/async":372,"../../utils/native":375,"babel-runtime/helpers/bind":19,"babel-runtime/helpers/to-consumable-array":27,"babel-runtime/regenerator":28}],218:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = errorApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var errorTypes = ["TypeError", "ReferenceError", "SyntaxError", "RangeError", "URIError", "EvalError"];

function errorApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Error";
	proto.define("name", objectFactory.createPrimitive("Error"));
	proto.define("message", objectFactory.createPrimitive(""));

	var errorClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(message) {
		var messageString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					messageString = undefined;

					if (contracts.isNullOrUndefined(message)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toString)(message);

				case 4:
					messageString = context$2$0.sent;

				case 5:
					return context$2$0.abrupt("return", objectFactory.create("Error", new Error(messageString)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	proto.define("toString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var name, msg;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					name = this.node.getValue("name");
					msg = undefined;

					if (!this.node.has("message")) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toString)(this.node.getValue("message"));

				case 5:
					msg = context$2$0.sent;

				case 6:
					context$2$0.t0 = name;

					if (!context$2$0.t0) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toString)(name);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					name = context$2$0.t0;

					if (!(name && msg)) {
						context$2$0.next = 14;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.create("String", name + ": " + msg));

				case 14:
					return context$2$0.abrupt("return", objectFactory.create("String", name || msg));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Error.prototype.toString"));

	globalObject.define("Error", errorClass);

	errorTypes.forEach(function (errorType) {
		var typeProto = objectFactory.createObject();
		typeProto.define("name", objectFactory.createPrimitive(errorType));

		// add to prototype chain to represent inheritance
		typeProto.setPrototype(proto);

		var errClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$2$0(message) {
			var messageString, nativeError;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(message);

					case 2:
						messageString = context$3$0.sent;
						nativeError = new global[errorType](messageString);
						return context$3$0.abrupt("return", objectFactory.create(errorType, nativeError));

					case 5:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), typeProto, { configurable: false, enumerable: false, writable: false });

		globalObject.define(errorType, errClass);
	});
}

module.exports = exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lczUvZXJyb3IvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBlcnJvckFwaTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIGVycm9yVHlwZXMgPSBbXCJUeXBlRXJyb3JcIiwgXCJSZWZlcmVuY2VFcnJvclwiLCBcIlN5bnRheEVycm9yXCIsIFwiUmFuZ2VFcnJvclwiLCBcIlVSSUVycm9yXCIsIFwiRXZhbEVycm9yXCJdO1xuXG5mdW5jdGlvbiBlcnJvckFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJFcnJvclwiO1xuXHRwcm90by5kZWZpbmUoXCJuYW1lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiRXJyb3JcIikpO1xuXHRwcm90by5kZWZpbmUoXCJtZXNzYWdlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiXCIpKTtcblxuXHR2YXIgZXJyb3JDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobWVzc2FnZSkge1xuXHRcdHZhciBtZXNzYWdlU3RyaW5nO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKGNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChtZXNzYWdlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykobWVzc2FnZSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdG1lc3NhZ2VTdHJpbmcgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiRXJyb3JcIiwgbmV3IEVycm9yKG1lc3NhZ2VTdHJpbmcpKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIG5hbWUsIG1zZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bmFtZSA9IHRoaXMubm9kZS5nZXRWYWx1ZShcIm5hbWVcIik7XG5cdFx0XHRcdFx0bXNnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5vZGUuaGFzKFwibWVzc2FnZVwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlLmdldFZhbHVlKFwibWVzc2FnZVwiKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdG1zZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gbmFtZTtcblxuXHRcdFx0XHRcdGlmICghY29udGV4dCQyJDAudDApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykobmFtZSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRuYW1lID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoIShuYW1lICYmIG1zZykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTdHJpbmdcIiwgbmFtZSArIFwiOiBcIiArIG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN0cmluZ1wiLCBuYW1lIHx8IG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJFcnJvci5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJFcnJvclwiLCBlcnJvckNsYXNzKTtcblxuXHRlcnJvclR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yVHlwZSkge1xuXHRcdHZhciB0eXBlUHJvdG8gPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdHR5cGVQcm90by5kZWZpbmUoXCJuYW1lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVycm9yVHlwZSkpO1xuXG5cdFx0Ly8gYWRkIHRvIHByb3RvdHlwZSBjaGFpbiB0byByZXByZXNlbnQgaW5oZXJpdGFuY2Vcblx0XHR0eXBlUHJvdG8uc2V0UHJvdG90eXBlKHByb3RvKTtcblxuXHRcdHZhciBlcnJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAobWVzc2FnZSkge1xuXHRcdFx0dmFyIG1lc3NhZ2VTdHJpbmcsIG5hdGl2ZUVycm9yO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKG1lc3NhZ2UpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0bWVzc2FnZVN0cmluZyA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRuYXRpdmVFcnJvciA9IG5ldyBnbG9iYWxbZXJyb3JUeXBlXShtZXNzYWdlU3RyaW5nKTtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoZXJyb3JUeXBlLCBuYXRpdmVFcnJvcikpO1xuXG5cdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdH0pLCB0eXBlUHJvdG8sIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUoZXJyb3JUeXBlLCBlcnJDbGFzcyk7XG5cdH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyJdfQ==
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],219:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.defineThis = defineThis;

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

function defineThis(env, fn, thisArg) {
	if (fn.builtIn || fn.isStrict()) {
		return thisArg || _typesPrimitiveType.UNDEFINED;
	}

	if ((0, _utilsContracts.isNullOrUndefined)(thisArg)) {
		return env.global;
	}

	return (0, _utilsNative.toObject)(env, thisArg);
}
},{"../../types/primitive-type":365,"../../utils/contracts":373,"../../utils/native":375}],220:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _functionHelpers = require("./function-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("apply", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg, argsArray) {
		var args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!argsArray) {
						context$2$0.next = 3;
						break;
					}

					if (!(argsArray.className !== "Arguments" && argsArray.className !== "Array" && argsArray.className !== "Function")) {
						context$2$0.next = 3;
						break;
					}

					throw TypeError("Arguments list was wrong type");

				case 3:
					context$2$0.next = 5;
					return (0, _utilsNative.toArray)(argsArray);

				case 5:
					args = context$2$0.sent;

					thisArg = (0, _functionHelpers.defineThis)(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield(this.node.call(thisArg, args), "t0", 9);

				case 9:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 10:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Function.prototype.apply"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"./function-helpers":219,"babel-runtime/regenerator":28}],221:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
		value: true
});

var _functionHelpers = require("./function-helpers");

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
		$target.define("bind", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
				for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
						args[_key - 1] = arguments[_key];
				}

				var fn, callee, params, nativeFunc, boundFunc, thrower;
				return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
								case 0:
										fn = this.node;
										callee = fn.native ? fn : fn.node;
										params = callee.params || [];

										thisArg = (0, _functionHelpers.defineThis)(env, this.node, thisArg);

										nativeFunc = _regeneratorRuntime.mark(function nativeFunc() {
												for (var _len2 = arguments.length, additionalArgs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
														additionalArgs[_key2] = arguments[_key2];
												}

												var mergedArgs;
												return _regeneratorRuntime.wrap(function nativeFunc$(context$3$0) {
														while (1) switch (context$3$0.prev = context$3$0.next) {
																case 0:
																		mergedArgs = args.concat(additionalArgs);
																		return context$3$0.delegateYield(fn[this.isNew ? "construct" : "call"](thisArg, mergedArgs), "t0", 2);

																case 2:
																		return context$3$0.abrupt("return", context$3$0.t0);

																case 3:
																case "end":
																		return context$3$0.stop();
														}
												}, nativeFunc, this);
										});

										nativeFunc.nativeLength = Math.max(params.length - args.length, 0);
										nativeFunc.strict = env.isStrict() || !fn.native && (0, _utilsContracts.isStrictNode)(fn.node.body.body);

										boundFunc = factory.createFunction(nativeFunc, null);

										boundFunc.canConstruct = this.node.canConstruct;
										boundFunc.bindScope(this.env.current);
										boundFunc.bindThis(thisArg);

										if (!nativeFunc.strict) {
												boundFunc.remove("caller");
												boundFunc.remove("arguments");

												// these will be added in strict mode, but should always be here for bound functions
												thrower = factory.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");

												boundFunc.defineOwnProperty("caller", thrower);
												boundFunc.defineOwnProperty("arguments", thrower);
										}

										return context$2$0.abrupt("return", boundFunc);

								case 13:
								case "end":
										return context$2$0.stop();
						}
				}, callee$1$0, this);
		}), 1, "Function.prototype.bind"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"./function-helpers":219,"babel-runtime/regenerator":28}],222:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _functionHelpers = require("./function-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("call", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			args[_key - 1] = arguments[_key];
		}

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					thisArg = (0, _functionHelpers.defineThis)(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield(this.node.call(thisArg, args), "t0", 3);

				case 3:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype.call"));
};

module.exports = exports["default"];
},{"./function-helpers":219,"babel-runtime/regenerator":28}],223:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("toString", factory.createBuiltInFunction(function () {
		if (this.node.native) {
			return factory.createPrimitive("function () { [native code] }");
		}

		return factory.createPrimitive("function () { [user code] }");
	}, 0, "Function.prototype.toString"));
};

module.exports = exports["default"];
},{}],224:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = functionApi;

var _typesNativeFunctionType = require("../../types/native-function-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var _functionApply = require("./function.apply");

var _functionApply2 = _interopRequireDefault(_functionApply);

var _functionBind = require("./function.bind");

var _functionBind2 = _interopRequireDefault(_functionBind);

var _functionCall = require("./function.call");

var _functionCall2 = _interopRequireDefault(_functionCall);

var _functionToString = require("./function.to-string");

var _functionToString2 = _interopRequireDefault(_functionToString);

var frozen = { configurable: false, enumerable: false, writable: false };

function functionApi(env) {
	var options = env.options;
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var funcClass = undefined;

	var funcCtor = _regeneratorRuntime.mark(function funcCtor() {
		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		var funcInstance;
		return _regeneratorRuntime.wrap(function funcCtor$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					funcInstance = undefined;

					if (!(options.parser && args.length > 0)) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var body, params, bodyString, ast, callee, userNode, strict, wrappedFunc;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									body = args.pop();
									params = "";

									if (!(args.length > 0)) {
										context$3$0.next = 6;
										break;
									}

									context$3$0.next = 5;
									return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg, index) {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													if (!contracts.isNull(arg)) {
														context$4$0.next = 2;
														break;
													}

													throw SyntaxError("Unexpected token null");

												case 2:
													if (!contracts.isUndefined(arg)) {
														context$4$0.next = 6;
														break;
													}

													context$4$0.t0 = "";
													context$4$0.next = 9;
													break;

												case 6:
													context$4$0.next = 8;
													return (0, _utilsNative.toString)(arg);

												case 8:
													context$4$0.t0 = context$4$0.sent;

												case 9:
													return context$4$0.abrupt("return", context$4$0.t0);

												case 10:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 5:
									params = context$3$0.sent.
									// the spec allows parameters to be comma-delimited, so we will join and split again comma
									join(",");

								case 6:
									context$3$0.next = 8;
									return (0, _utilsNative.toString)(body);

								case 8:
									bodyString = context$3$0.sent;
									ast = options.parser("(function(" + params + "){" + bodyString + "}).apply($this,$args);");
									callee = ast.body[0].expression.callee.object;
									userNode = callee.body.body;
									strict = contracts.isStrictNode(userNode);
									wrappedFunc = _regeneratorRuntime.mark(function wrappedFunc() {
										var thisArg,
										    $args,
										    executionResult,
										    args$4$0 = arguments;
										return _regeneratorRuntime.wrap(function wrappedFunc$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													thisArg = undefined;

													if (this.isNew) {
														thisArg = objectFactory.createObject(funcInstance);
													} else {
														thisArg = this.node;

														if (!strict && contracts.isUndefined(thisArg)) {
															thisArg = globalObject;
														}
													}

													env.createVariable("$this").setValue(thisArg);

													$args = objectFactory.createArray(args$4$0);

													env.createVariable("$args").setValue($args);

													context$4$0.next = 7;
													return env.createExecutionContext(ast).execute();

												case 7:
													executionResult = context$4$0.sent;

													if (!this.isNew) {
														context$4$0.next = 10;
														break;
													}

													return context$4$0.abrupt("return", thisArg);

												case 10:
													return context$4$0.abrupt("return", executionResult && executionResult.result || _typesPrimitiveType.UNDEFINED);

												case 11:
												case "end":
													return context$4$0.stop();
											}
										}, wrappedFunc, this);
									});

									wrappedFunc.nativeLength = callee.params.length;
									wrappedFunc.strict = strict;
									funcInstance = objectFactory.createFunction(wrappedFunc, undefined, { strict: strict });
									funcInstance.bindScope(env.globalScope);

								case 18:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 3);

				case 3:
					context$2$0.next = 6;
					break;

				case 5:
					funcInstance = objectFactory.createFunction(function () {});

				case 6:

					funcInstance.setValue("constructor", funcClass);
					return context$2$0.abrupt("return", funcInstance);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, funcCtor, this);
	});

	// the prototype of a function is actually callable and evaluates as a function
	var proto = new _typesNativeFunctionType.NativeFunctionType(function () {
		if (this.isNew) {
			throw TypeError("Function.protoype is not a constructor");
		}

		return _typesPrimitiveType.UNDEFINED;
	});

	proto[_Symbol$for("env")] = env;

	funcCtor.nativeLength = 1;
	funcClass = objectFactory.createFunction(funcCtor, proto, frozen);
	funcClass.setValue("constructor", funcClass);

	globalObject.define("Function", funcClass);

	proto.define("length", objectFactory.createPrimitive(0), { writable: false });
	proto.define("name", objectFactory.createPrimitive(""), { writable: false });

	// function itself is a function
	funcClass.setPrototype(proto);

	(0, _functionApply2["default"])(proto, env, objectFactory);
	(0, _functionBind2["default"])(proto, env, objectFactory);
	(0, _functionCall2["default"])(proto, env, objectFactory);
	(0, _functionToString2["default"])(proto, env, objectFactory);

	var thrower = function thrower() {
		if (this.isStrict()) {
			throw TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
		}

		return undefined;
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);

	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: true
	};

	proto.defineOwnProperty("caller", prop);
	proto.defineOwnProperty("callee", prop);
	proto.defineOwnProperty("arguments", prop);
}

module.exports = exports["default"];
},{"../../types/native-function-type":362,"../../types/primitive-type":365,"../../utils/async":372,"../../utils/contracts":373,"../../utils/native":375,"./function.apply":220,"./function.bind":221,"./function.call":222,"./function.to-string":223,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],225:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _envReference = require("../env/reference");

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	var parser = env.options.parser;

	function createScope(body, directCall) {
		var strictScope = env.isStrict();
		var strictCode = strictScope || (0, _utilsContracts.isStrictNode)(body);
		var inGlobal = env.current.scope.parent === env.globalScope.scope;

		// use the same scope unless this is an "indirect" call
		// in which case we use the global scope
		if (directCall) {
			if (strictCode) {
				var thisArg = undefined;
				if (strictScope) {
					thisArg = inGlobal ? $target : _typesPrimitiveType.UNDEFINED;
				} else {
					thisArg = env.getThisBinding() || $target;
				}

				return env.createScope(thisArg);
			}

			return env.setScope(env.current.scope.parent);
		}

		var scope = env.setScope(env.globalScope.scope);
		if (strictCode) {
			scope = env.createScope($target);
		}

		return scope;
	}

	function isDirectCall(context) {
		return context.callee instanceof _envReference.Reference && context.callee.base === $target;
	}

	$target.define("eval", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(code) {
		var ast, scope, executionResult;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (code) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 2:
					if (!(code.type !== "string")) {
						context$2$0.next = 4;
						break;
					}

					return context$2$0.abrupt("return", code);

				case 4:
					ast = undefined;
					context$2$0.prev = 5;

					ast = parser(code.value);
					context$2$0.next = 14;
					break;

				case 9:
					context$2$0.prev = 9;
					context$2$0.t0 = context$2$0["catch"](5);

					if (!(context$2$0.t0 instanceof SyntaxError && /assigning to rvalue/i.test(context$2$0.t0.message))) {
						context$2$0.next = 13;
						break;
					}

					throw ReferenceError("Invalid left-hand side in assignment");

				case 13:
					throw context$2$0.t0;

				case 14:
					scope = createScope(ast.body, isDirectCall(this));
					context$2$0.next = 17;
					return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return env.createExecutionContext(ast).execute();

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 17:
					executionResult = context$2$0.sent;
					return context$2$0.abrupt("return", executionResult && executionResult.result ? executionResult.result.getValue() : _typesPrimitiveType.UNDEFINED);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[5, 9]]);
	}), 1, "eval"));
};

module.exports = exports["default"];

// hack because acorn throws syntax error
},{"../env/reference":189,"../types/primitive-type":365,"../utils/contracts":373,"babel-runtime/regenerator":28}],226:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("isFinite", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toNumber)(value);

				case 2:
					numberValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(isFinite(numberValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "isFinite"));
};

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],227:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("isNaN", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toNumber)(value);

				case 2:
					numberValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(isNaN(numberValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "isNaN"));
};

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],228:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("parseInt", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, radix) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(value);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(radix, "number");

				case 5:
					radix = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(parseInt(stringValue, radix)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "parseInt"));
};

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],229:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _globalEval = require("./global.eval");

var _globalEval2 = _interopRequireDefault(_globalEval);

var _globalIsFinite = require("./global.is-finite");

var _globalIsFinite2 = _interopRequireDefault(_globalIsFinite);

var _globalIsNan = require("./global.is-nan");

var _globalIsNan2 = _interopRequireDefault(_globalIsNan);

var _globalParseInt = require("./global.parse-int");

var _globalParseInt2 = _interopRequireDefault(_globalParseInt);

exports["default"] = function (env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var options = env.options;

	globalObject.define("Infinity", objectFactory.createPrimitive(Infinity), { configurable: false, writable: false });
	globalObject.define("NaN", objectFactory.createPrimitive(NaN), { configurable: false, writable: false });

	["parseFloat", "decodeURI", "encodeURI", "decodeURIComponent", "encodeURIComponent", "escape", "unescape"].forEach(function (name) {
		globalObject.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0(value) {
			var stringValue;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(value);

					case 2:
						stringValue = context$3$0.sent;
						return context$3$0.abrupt("return", objectFactory.createPrimitive(global[name](stringValue)));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, name));
	});

	(0, _globalIsFinite2["default"])(globalObject, env, objectFactory);
	(0, _globalIsNan2["default"])(globalObject, env, objectFactory);
	(0, _globalParseInt2["default"])(globalObject, env, objectFactory);

	if (options.parser) {
		(0, _globalEval2["default"])(globalObject, env, objectFactory);
	}
};

module.exports = exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lczUvZ2xvYmFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfZ2xvYmFsRXZhbCA9IHJlcXVpcmUoXCIuL2dsb2JhbC5ldmFsXCIpO1xuXG52YXIgX2dsb2JhbEV2YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xvYmFsRXZhbCk7XG5cbnZhciBfZ2xvYmFsSXNGaW5pdGUgPSByZXF1aXJlKFwiLi9nbG9iYWwuaXMtZmluaXRlXCIpO1xuXG52YXIgX2dsb2JhbElzRmluaXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsb2JhbElzRmluaXRlKTtcblxudmFyIF9nbG9iYWxJc05hbiA9IHJlcXVpcmUoXCIuL2dsb2JhbC5pcy1uYW5cIik7XG5cbnZhciBfZ2xvYmFsSXNOYW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xvYmFsSXNOYW4pO1xuXG52YXIgX2dsb2JhbFBhcnNlSW50ID0gcmVxdWlyZShcIi4vZ2xvYmFsLnBhcnNlLWludFwiKTtcblxudmFyIF9nbG9iYWxQYXJzZUludDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbG9iYWxQYXJzZUludCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIG9wdGlvbnMgPSBlbnYub3B0aW9ucztcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiSW5maW5pdHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoSW5maW5pdHkpLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIk5hTlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRbXCJwYXJzZUZsb2F0XCIsIFwiZGVjb2RlVVJJXCIsIFwiZW5jb2RlVVJJXCIsIFwiZGVjb2RlVVJJQ29tcG9uZW50XCIsIFwiZW5jb2RlVVJJQ29tcG9uZW50XCIsIFwiZXNjYXBlXCIsIFwidW5lc2NhcGVcIl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAodmFsdWUpIHtcblx0XHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGdsb2JhbFtuYW1lXShzdHJpbmdWYWx1ZSkpKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHR9KSwgMSwgbmFtZSkpO1xuXHR9KTtcblxuXHQoMCwgX2dsb2JhbElzRmluaXRlMltcImRlZmF1bHRcIl0pKGdsb2JhbE9iamVjdCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9nbG9iYWxJc05hbjJbXCJkZWZhdWx0XCJdKShnbG9iYWxPYmplY3QsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfZ2xvYmFsUGFyc2VJbnQyW1wiZGVmYXVsdFwiXSkoZ2xvYmFsT2JqZWN0LCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXG5cdGlmIChvcHRpb25zLnBhcnNlcikge1xuXHRcdCgwLCBfZ2xvYmFsRXZhbDJbXCJkZWZhdWx0XCJdKShnbG9iYWxPYmplY3QsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il19
},{"../utils/native":375,"./global.eval":225,"./global.is-finite":226,"./global.is-nan":227,"./global.parse-int":228,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],230:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ecma51;

var _typesPrimitiveType = require("../types/primitive-type");

var _typesObjectFactory = require("../types/object-factory");

var _number = require("./number/");

var _number2 = _interopRequireDefault(_number);

var _string = require("./string/");

var _string2 = _interopRequireDefault(_string);

var _function = require("./function/");

var _function2 = _interopRequireDefault(_function);

var _object = require("./object/");

var _object2 = _interopRequireDefault(_object);

var _boolean = require("./boolean/");

var _boolean2 = _interopRequireDefault(_boolean);

var _date = require("./date/");

var _date2 = _interopRequireDefault(_date);

var _array = require("./array/");

var _array2 = _interopRequireDefault(_array);

var _math = require("./math/");

var _math2 = _interopRequireDefault(_math);

var _regex = require("./regex/");

var _regex2 = _interopRequireDefault(_regex);

var _error = require("./error/");

var _error2 = _interopRequireDefault(_error);

var _json = require("./json/");

var _json2 = _interopRequireDefault(_json);

var _console = require("./console/");

var _console2 = _interopRequireDefault(_console);

var _globals = require("./globals");

var _globals2 = _interopRequireDefault(_globals);

var frozen = { configurable: false, enumerable: false, writable: false };

function ecma51(env) {
	var objectFactory = env.objectFactory = new _typesObjectFactory.ObjectFactory(env);
	var globalObject = env.global = objectFactory.createObject();

	env.createObjectScope(globalObject);

	globalObject.define("undefined", _typesPrimitiveType.UNDEFINED, frozen);
	globalObject.define("null", _typesPrimitiveType.NULL, frozen);

	// todo: node vs browser - do we care?
	globalObject.define("window", globalObject, frozen);

	(0, _function2["default"])(env);
	(0, _object2["default"])(env);
	(0, _array2["default"])(env);
	(0, _boolean2["default"])(env);
	(0, _number2["default"])(env);
	(0, _string2["default"])(env);
	(0, _date2["default"])(env);
	(0, _regex2["default"])(env);
	(0, _math2["default"])(env);
	(0, _error2["default"])(env);
	(0, _json2["default"])(env);
	(0, _console2["default"])(env);
	(0, _globals2["default"])(env);
}

module.exports = exports["default"];
},{"../types/object-factory":363,"../types/primitive-type":365,"./array/":214,"./boolean/":215,"./console/":216,"./date/":217,"./error/":218,"./function/":224,"./globals":229,"./json/":231,"./math/":234,"./number/":235,"./object/":239,"./regex/":259,"./string/":263,"babel-runtime/helpers/interop-require-default":25}],231:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = jsonApi;

var _jsonParse = require("./json.parse");

var _jsonParse2 = _interopRequireDefault(_jsonParse);

var _jsonStringify = require("./json.stringify");

var _jsonStringify2 = _interopRequireDefault(_jsonStringify);

function jsonApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var jsonClass = objectFactory.createObject();
	jsonClass.className = "JSON";

	(0, _jsonParse2["default"])(jsonClass, env, objectFactory);
	(0, _jsonStringify2["default"])(jsonClass, env, objectFactory);

	globalObject.define("JSON", jsonClass);
}

module.exports = exports["default"];
},{"./json.parse":232,"./json.stringify":233,"babel-runtime/helpers/interop-require-default":25}],232:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [deserialize].map(_regeneratorRuntime.mark);

	function createReviver(reviver) {
		if (reviver && reviver.className === "Function") {
			return _regeneratorRuntime.mark(function callee$2$0(holder, key, value) {
				var args;
				return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
					while (1) switch (context$3$0.prev = context$3$0.next) {
						case 0:
							args = [factory.createPrimitive(key), value];
							return context$3$0.delegateYield(reviver.call(holder, args), "t0", 2);

						case 2:
							return context$3$0.abrupt("return", context$3$0.t0);

						case 3:
						case "end":
							return context$3$0.stop();
					}
				}, callee$2$0, this);
			});
		}

		return function (holder, key, value) {
			return value;
		};
	}

	function deserialize(value, reviver) {
		var valueType, arr, i, ln, element, elementValue, obj, propValue, prop;
		return _regeneratorRuntime.wrap(function deserialize$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					valueType = (0, _utilsContracts.getType)(value);
					context$2$0.t0 = valueType;
					context$2$0.next = context$2$0.t0 === "Undefined" ? 4 : context$2$0.t0 === "Null" ? 4 : context$2$0.t0 === "String" ? 4 : context$2$0.t0 === "Number" ? 4 : context$2$0.t0 === "Boolean" ? 4 : context$2$0.t0 === "Array" ? 5 : 28;
					break;

				case 4:
					return context$2$0.abrupt("return", factory.create(valueType, value));

				case 5:
					arr = factory.createArray();
					i = 0, ln = value.length;

				case 7:
					if (!(i < ln)) {
						context$2$0.next = 27;
						break;
					}

					element = value[i];
					context$2$0.t1 = arr;
					context$2$0.t2 = String(i);
					context$2$0.next = 13;
					return deserialize(element, reviver);

				case 13:
					context$2$0.t3 = context$2$0.sent;
					context$2$0.next = 16;
					return reviver(context$2$0.t1, context$2$0.t2, context$2$0.t3);

				case 16:
					elementValue = context$2$0.sent;

					if ((0, _utilsContracts.isUndefined)(elementValue)) {
						context$2$0.next = 24;
						break;
					}

					context$2$0.t4 = arr;
					context$2$0.t5 = i;
					context$2$0.next = 22;
					return deserialize(element);

				case 22:
					context$2$0.t6 = context$2$0.sent;
					context$2$0.t4.setIndex.call(context$2$0.t4, context$2$0.t5, context$2$0.t6);

				case 24:
					i++;
					context$2$0.next = 7;
					break;

				case 27:
					return context$2$0.abrupt("return", arr);

				case 28:
					obj = factory.createObject();
					propValue = undefined;
					context$2$0.t7 = _regeneratorRuntime.keys(value);

				case 31:
					if ((context$2$0.t8 = context$2$0.t7()).done) {
						context$2$0.next = 45;
						break;
					}

					prop = context$2$0.t8.value;

					if (!value.hasOwnProperty(prop)) {
						context$2$0.next = 43;
						break;
					}

					context$2$0.t9 = obj;
					context$2$0.t10 = prop;
					context$2$0.next = 38;
					return deserialize(value[prop], reviver);

				case 38:
					context$2$0.t11 = context$2$0.sent;
					context$2$0.next = 41;
					return reviver(context$2$0.t9, context$2$0.t10, context$2$0.t11);

				case 41:
					propValue = context$2$0.sent;

					if (!(0, _utilsContracts.isUndefined)(propValue)) {
						obj.defineOwnProperty(prop, { value: propValue, configurable: true, enumerable: true, writable: true });
					}

				case 43:
					context$2$0.next = 31;
					break;

				case 45:
					return context$2$0.abrupt("return", obj);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	$target.define("parse", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str, reviver) {
		var stringValue, parsedObject, deserializedObject;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					reviver = createReviver(reviver);

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(str);

				case 3:
					stringValue = context$2$0.sent;
					parsedObject = JSON.parse(stringValue);
					context$2$0.next = 7;
					return deserialize(parsedObject, reviver);

				case 7:
					deserializedObject = context$2$0.sent;
					context$2$0.next = 10;
					return reviver(deserializedObject, "", deserializedObject) || _typesPrimitiveType.UNDEFINED;

				case 10:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "JSON.parse"));
};

module.exports = exports["default"];

// these are the only types supported by JSON.parse - sad face...
},{"../../types/primitive-type":365,"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],233:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var _utilsFunc = require("../../utils/func");

var primitives = {
	"String": true,
	"Number": true,
	"Boolean": true,
	"Date": true
};

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [serialize, serializeObject, serializeArray, createReplacer, getSpacer].map(_regeneratorRuntime.mark);

	var serializePrimitive = JSON.stringify;

	function serialize(stack, obj, replacer, gap, depth) {
		var jsonString, jsonResult;
		return _regeneratorRuntime.wrap(function serialize$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (obj) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", serializePrimitive());

				case 2:
					if (!(obj.isPrimitive || obj.className in primitives)) {
						context$2$0.next = 4;
						break;
					}

					return context$2$0.abrupt("return", serializePrimitive(obj.value));

				case 4:
					if (!(obj.className === "Function")) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", undefined);

				case 6:
					context$2$0.next = 8;
					return (0, _utilsFunc.tryExecute)(obj, "toJSON");

				case 8:
					jsonString = context$2$0.sent;

					if (!jsonString) {
						context$2$0.next = 11;
						break;
					}

					return context$2$0.abrupt("return", serializePrimitive(jsonString.value));

				case 11:
					if (!(stack.indexOf(obj) >= 0)) {
						context$2$0.next = 13;
						break;
					}

					throw TypeError("Converting circular structure to JSON");

				case 13:

					depth++;
					stack.push(obj);

					jsonResult = undefined;

					if (!(obj.className === "Array")) {
						context$2$0.next = 22;
						break;
					}

					context$2$0.next = 19;
					return serializeArray(stack, obj, replacer);

				case 19:
					jsonResult = context$2$0.sent;
					context$2$0.next = 25;
					break;

				case 22:
					context$2$0.next = 24;
					return serializeObject(stack, obj, replacer, gap, depth);

				case 24:
					jsonResult = context$2$0.sent;

				case 25:

					depth--;
					stack.pop();
					return context$2$0.abrupt("return", jsonResult);

				case 28:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	function formatValues(values, gap, depth) {
		if (values.length === 0) {
			return "";
		}

		if (!gap) {
			return values.join(",");
		}

		var indent = "\n" + gap.repeat(depth);
		var joinedValues = values.join(indent + ",");

		// remove indent on closing
		return indent + joinedValues + "\n" + gap.repeat(depth - 1);
	}

	function serializeObject(stack, obj, replacer, gap, depth) {
		var colon, values, value, prop;
		return _regeneratorRuntime.wrap(function serializeObject$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					colon = gap ? ": " : ":";
					values = [];
					value = undefined;
					context$2$0.t0 = _regeneratorRuntime.keys(obj.properties);

				case 4:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 20;
						break;
					}

					prop = context$2$0.t1.value;

					if (!obj.properties[prop].enumerable) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.next = 9;
					return replacer(obj, prop, obj.getValue(prop));

				case 9:
					value = context$2$0.sent;

					if ((0, _utilsContracts.isNullOrUndefined)(value)) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t2 = values;
					context$2$0.t3 = serializePrimitive(prop) + colon;
					context$2$0.next = 15;
					return serialize(stack, value, replacer, gap, depth);

				case 15:
					context$2$0.t4 = context$2$0.sent;
					context$2$0.t5 = context$2$0.t3 + context$2$0.t4;
					context$2$0.t2.push.call(context$2$0.t2, context$2$0.t5);

				case 18:
					context$2$0.next = 4;
					break;

				case 20:
					return context$2$0.abrupt("return", "{" + formatValues(values, gap, depth, gap, depth) + "}");

				case 21:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[1], this);
	}

	function serializeArray(stack, arr, replacer, gap, depth) {
		var length, values, i, value;
		return _regeneratorRuntime.wrap(function serializeArray$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					length = arr.getValue("length").toNative();
					values = [];
					i = 0;

				case 3:
					if (!(i < length)) {
						context$2$0.next = 21;
						break;
					}

					value = undefined;

					if (!arr.has(i)) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.next = 8;
					return replacer(arr, String(i), arr.getValue(i));

				case 8:
					value = context$2$0.sent;

				case 9:
					if (!(0, _utilsContracts.isNullOrUndefined)(value)) {
						context$2$0.next = 13;
						break;
					}

					// undefined positions are replaced with null
					values.push("null");
					context$2$0.next = 18;
					break;

				case 13:
					context$2$0.t0 = values;
					context$2$0.next = 16;
					return serialize(stack, value, replacer);

				case 16:
					context$2$0.t1 = context$2$0.sent;
					context$2$0.t0.push.call(context$2$0.t0, context$2$0.t1);

				case 18:
					i++;
					context$2$0.next = 3;
					break;

				case 21:
					return context$2$0.abrupt("return", "[" + formatValues(values, gap, depth) + "]");

				case 22:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[2], this);
	}

	function createReplacer(replacer) {
		var _ret;

		return _regeneratorRuntime.wrap(function createReplacer$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!replacer) {
						context$2$0.next = 8;
						break;
					}

					if (!(replacer.className === "Function")) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", _regeneratorRuntime.mark(function callee$2$0(holder, key, value) {
						var args;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									args = [factory.createPrimitive(key), value];
									context$3$0.next = 3;
									return replacer.call(holder, args);

								case 3:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 4:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 3:
					if (!(replacer.className === "Array")) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var arr, keys;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toArray)(replacer);

								case 2:
									arr = context$3$0.sent;
									return context$3$0.delegateYield((0, _utilsAsync.map)(arr, _regeneratorRuntime.mark(function callee$3$0(arg) {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													if (!(arg.className === "String")) {
														context$4$0.next = 4;
														break;
													}

													context$4$0.next = 3;
													return (0, _utilsNative.toString)(arg);

												case 3:
													return context$4$0.abrupt("return", context$4$0.sent);

												case 4:
													if (!(arg.className === "Number")) {
														context$4$0.next = 9;
														break;
													}

													context$4$0.next = 7;
													return (0, _utilsNative.toNumber)(arg);

												case 7:
													context$4$0.t0 = context$4$0.sent;
													return context$4$0.abrupt("return", String(context$4$0.t0));

												case 9:
													return context$4$0.abrupt("return", undefined);

												case 10:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									})), "t0", 4);

								case 4:
									keys = context$3$0.t0;
									return context$3$0.abrupt("return", {
										v: function (holder, key, value) {
											// allow empty key - this will be from the root
											if (!key || keys.indexOf(key) >= 0) {
												return value;
											}

											return undefined;
										}
									});

								case 6:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 5);

				case 5:
					_ret = context$2$0.t0;

					if (!(typeof _ret === "object")) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.abrupt("return", _ret.v);

				case 8:
					return context$2$0.abrupt("return", function (holder, key, value) {
						return value;
					});

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[3], this);
	}

	function getSpacer(spacer) {
		var count, gap;
		return _regeneratorRuntime.wrap(function getSpacer$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!spacer) {
						context$2$0.next = 16;
						break;
					}

					if (!(spacer.className === "Number")) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.t0 = Math;
					context$2$0.next = 5;
					return (0, _utilsNative.toNumber)(spacer);

				case 5:
					context$2$0.t1 = context$2$0.sent;
					count = context$2$0.t0.floor.call(context$2$0.t0, context$2$0.t1);

					count = Math.max(Math.min(10, count), 0);

					if (!(count > 0)) {
						context$2$0.next = 10;
						break;
					}

					return context$2$0.abrupt("return", " ".repeat(count));

				case 10:
					return context$2$0.abrupt("return", "");

				case 11:
					if (!(spacer.className === "String")) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.next = 14;
					return (0, _utilsNative.toString)(spacer);

				case 14:
					gap = context$2$0.sent;
					return context$2$0.abrupt("return", gap.substr(0, 10));

				case 16:
					return context$2$0.abrupt("return", "");

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[4], this);
	}

	$target.define("stringify", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, replacer, spacer) {
		var stack;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return createReplacer(replacer);

				case 2:
					replacer = context$2$0.sent;
					context$2$0.next = 5;
					return getSpacer(spacer);

				case 5:
					spacer = context$2$0.sent;
					context$2$0.next = 8;
					return replacer(obj, "", obj);

				case 8:
					obj = context$2$0.sent;

					if (!(0, _utilsContracts.isUndefined)(obj)) {
						context$2$0.next = 11;
						break;
					}

					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 11:
					stack = [];
					context$2$0.t0 = factory;
					context$2$0.next = 15;
					return serialize(stack, obj, replacer, spacer, 0);

				case 15:
					context$2$0.t1 = context$2$0.sent;
					return context$2$0.abrupt("return", context$2$0.t0.createPrimitive.call(context$2$0.t0, context$2$0.t1));

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "JSON.stringify"));
};

module.exports = exports["default"];

// run at the top value
},{"../../types/primitive-type":365,"../../utils/async":372,"../../utils/contracts":373,"../../utils/func":374,"../../utils/native":375,"babel-runtime/regenerator":28}],234:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = mathApi;

var _utilsNative = require("../../utils/native");

var constants = ["E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"];
var methods = ["abs", "acos", "asin", "atan", "atan2", "ceil", "cos", "exp", "floor", "log", "max", "min", "pow", "random", "round", "sin", "sqrt", "tan"];

function mathApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var mathClass = objectFactory.createObject();
	mathClass.className = "Math";

	constants.forEach(function (name) {
		mathClass.define(name, objectFactory.createPrimitive(Math[name]), { configurable: false, enumerable: false, writable: false });
	});

	methods.forEach(function (name) {
		mathClass.define(name, (0, _utilsNative.toNativeFunction)(env, Math[name], "Math." + name));
	});

	globalObject.define("Math", mathClass);
}

module.exports = exports["default"];
},{"../../utils/native":375}],235:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = numberApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _numberToFixed = require("./number.to-fixed");

var _numberToFixed2 = _interopRequireDefault(_numberToFixed);

var _numberToString = require("./number.to-string");

var _numberToString2 = _interopRequireDefault(_numberToString);

var _numberValueOf = require("./number.value-of");

var _numberValueOf2 = _interopRequireDefault(_numberValueOf);

function numberApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "Number";
	proto.value = 0;

	var numberClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(obj) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(obj, "number");

				case 2:
					context$2$0.t0 = context$2$0.sent;
					numberValue = Number(context$2$0.t0);

					if (!this.isNew) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, numberValue));

				case 6:
					return context$2$0.abrupt("return", objectFactory.create("Number", numberValue));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	["MAX_VALUE", "MIN_VALUE", "NaN", "NEGATIVE_INFINITY", "POSITIVE_INFINITY"].forEach(function (name) {
		numberClass.define(name, objectFactory.createPrimitive(Number[name]), { configurable: false, enumerable: false, writable: false });
	});

	(0, _numberToFixed2["default"])(proto, env, objectFactory);
	(0, _numberToString2["default"])(proto, env, objectFactory);
	(0, _numberValueOf2["default"])(proto, env, objectFactory);

	["toExponential", "toPrecision", "toLocaleString"].forEach(function (name) {
		var fn = Number.prototype[name];
		if (fn) {
			(function () {
				var methodName = "Number.prototype." + name;
				proto.define(name, objectFactory.createBuiltInFunction(function () {
					(0, _utilsContracts.assertIsNotGeneric)(this.node, "Number", methodName);
					return objectFactory.createPrimitive(fn.call(this.node.value));
				}, fn.length, methodName));
			})();
		}
	});

	globalObject.define("Number", numberClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"./number.to-fixed":236,"./number.to-string":237,"./number.value-of":238,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],236:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("toFixed", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(fractionDigits) {
		var digits;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotGeneric)(this.node, "Number", "Number.prototype.toFixed");

					digits = 0;

					if (!fractionDigits) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toNumber)(fractionDigits);

				case 5:
					digits = context$2$0.sent;

				case 6:
					return context$2$0.abrupt("return", factory.createPrimitive(Number.prototype.toFixed.call(this.node.value, digits)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toFixed"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],237:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("toString", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(radix) {
		var radixValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotGeneric)(this.node, "Number", "Number.prototype.toString");

					radixValue = 10;

					if (!radix) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(radix, "number");

				case 5:
					radixValue = context$2$0.sent;

					if (!(radixValue < 2 || radixValue > 36)) {
						context$2$0.next = 8;
						break;
					}

					throw RangeError("toString() radix argument must be between 2 and 36");

				case 8:
					return context$2$0.abrupt("return", factory.createPrimitive(this.node.value == null ? "0" : this.node.value.toString(radixValue)));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toString"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],238:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("valueOf", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsNotGeneric)(this.node, "Number", "Number.prototype.valueOf");
		return factory.createPrimitive(this.node.value == null ? 0 : this.node.value);
	}, 0, "Number.prototype.valueOf"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373}],239:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = objectApi;

var _typesObjectType = require("../../types/object-type");

var _objectCreate = require("./object.create");

var _objectCreate2 = _interopRequireDefault(_objectCreate);

var _objectDefineProperties = require("./object.define-properties");

var _objectDefineProperties2 = _interopRequireDefault(_objectDefineProperties);

var _objectDefineProperty = require("./object.define-property");

var _objectDefineProperty2 = _interopRequireDefault(_objectDefineProperty);

var _objectFreeze = require("./object.freeze");

var _objectFreeze2 = _interopRequireDefault(_objectFreeze);

var _objectGetOwnPropertyDescriptor = require("./object.get-own-property-descriptor");

var _objectGetOwnPropertyDescriptor2 = _interopRequireDefault(_objectGetOwnPropertyDescriptor);

var _objectGetOwnPropertyNames = require("./object.get-own-property-names");

var _objectGetOwnPropertyNames2 = _interopRequireDefault(_objectGetOwnPropertyNames);

var _objectGetPrototypeOf = require("./object.get-prototype-of");

var _objectGetPrototypeOf2 = _interopRequireDefault(_objectGetPrototypeOf);

var _objectIsExtensible = require("./object.is-extensible");

var _objectIsExtensible2 = _interopRequireDefault(_objectIsExtensible);

var _objectIsFrozen = require("./object.is-frozen");

var _objectIsFrozen2 = _interopRequireDefault(_objectIsFrozen);

var _objectIsSealed = require("./object.is-sealed");

var _objectIsSealed2 = _interopRequireDefault(_objectIsSealed);

var _objectKeys = require("./object.keys");

var _objectKeys2 = _interopRequireDefault(_objectKeys);

var _objectPreventExtensions = require("./object.prevent-extensions");

var _objectPreventExtensions2 = _interopRequireDefault(_objectPreventExtensions);

var _objectSeal = require("./object.seal");

var _objectSeal2 = _interopRequireDefault(_objectSeal);

var _objectHasOwnProperty = require("./object.has-own-property");

var _objectHasOwnProperty2 = _interopRequireDefault(_objectHasOwnProperty);

var _objectIsPrototypeOf = require("./object.is-prototype-of");

var _objectIsPrototypeOf2 = _interopRequireDefault(_objectIsPrototypeOf);

var _objectPropertyIsEnumerable = require("./object.property-is-enumerable");

var _objectPropertyIsEnumerable2 = _interopRequireDefault(_objectPropertyIsEnumerable);

var _objectToString = require("./object.to-string");

var _objectToString2 = _interopRequireDefault(_objectToString);

var _objectValueOf = require("./object.value-of");

var _objectValueOf2 = _interopRequireDefault(_objectValueOf);

function objectApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = new _typesObjectType.ObjectType();
	var objectClass = objectFactory.createFunction(function (value) {
		if (value) {
			if (value.isPrimitive) {
				if (value.value == null) {
					return objectFactory.createObject();
				}

				var objectWrapper = objectFactory.createPrimitive(value.value);
				objectWrapper.type = "object";
				objectWrapper.isPrimitive = false;
				return objectWrapper;
			}

			if (value.isSymbol) {
				// should return a new symbol instance
				return objectFactory.create("Symbol", value.description);
			}

			// if an object is passed in just return
			return value;
		}

		return objectFactory.createObject();
	}, proto, { configurable: false, enumerable: false, writable: false });

	(0, _objectHasOwnProperty2["default"])(proto, env, objectFactory);
	(0, _objectIsPrototypeOf2["default"])(proto, env, objectFactory);
	(0, _objectToString2["default"])(proto, env, objectFactory);
	(0, _objectValueOf2["default"])(proto, env, objectFactory);

	(0, _objectCreate2["default"])(objectClass, env, objectFactory);
	(0, _objectDefineProperty2["default"])(objectClass, env, objectFactory);
	(0, _objectDefineProperties2["default"])(objectClass, env, objectFactory);
	(0, _objectFreeze2["default"])(objectClass, env, objectFactory);
	(0, _objectGetOwnPropertyDescriptor2["default"])(objectClass, env, objectFactory);
	(0, _objectGetOwnPropertyNames2["default"])(objectClass, env, objectFactory);
	(0, _objectGetPrototypeOf2["default"])(objectClass, env, objectFactory);
	(0, _objectIsExtensible2["default"])(objectClass, env, objectFactory);
	(0, _objectIsFrozen2["default"])(objectClass, env, objectFactory);
	(0, _objectIsSealed2["default"])(objectClass, env, objectFactory);
	(0, _objectKeys2["default"])(objectClass, env, objectFactory);
	(0, _objectPreventExtensions2["default"])(objectClass, env, objectFactory);
	(0, _objectPropertyIsEnumerable2["default"])(proto, env, objectFactory);
	(0, _objectSeal2["default"])(objectClass, env, objectFactory);

	// function is an object - make sure that it is in the prototype chain
	globalObject.getValue("Function").getPrototype().setPrototype(proto);
	globalObject.define("Object", objectClass);
}

module.exports = exports["default"];
},{"../../types/object-type":364,"./object.create":241,"./object.define-properties":242,"./object.define-property":243,"./object.freeze":244,"./object.get-own-property-descriptor":245,"./object.get-own-property-names":246,"./object.get-prototype-of":247,"./object.has-own-property":248,"./object.is-extensible":249,"./object.is-frozen":250,"./object.is-prototype-of":251,"./object.is-sealed":252,"./object.keys":253,"./object.prevent-extensions":254,"./object.property-is-enumerable":255,"./object.seal":256,"./object.to-string":257,"./object.value-of":258,"babel-runtime/helpers/interop-require-default":25}],240:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.defineProperty = defineProperty;
exports.confirmObject = confirmObject;
exports.getOwnPropertyDescriptor = getOwnPropertyDescriptor;
var marked0$0 = [defineProperty, getOwnPropertyDescriptor].map(_regeneratorRuntime.mark);

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _typesPrimitiveType = require("../../types/primitive-type");

function getOptions(obj) {
	return obj[_Symbol$for("env")].options;
}

function defineProperty(env, obj, key, descriptor) {
	var throwOnError = arguments.length <= 4 || arguments[4] === undefined ? true : arguments[4];
	var stringValue, options;
	return _regeneratorRuntime.wrap(function defineProperty$(context$1$0) {
		var _this2 = this;

		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if ((0, _utilsContracts.isObject)(descriptor)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return (0, _utilsNative.toString)(descriptor);

			case 3:
				stringValue = context$1$0.sent;
				throw TypeError("Property description must be an object: " + stringValue);

			case 5:
				options = _Object$create(null);

				if (!descriptor) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(_regeneratorRuntime.mark(function callee$1$0() {
					var hasValue, hasGetter, hasSetter, currentScope;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						var _this = this;

						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								hasValue = descriptor.has("value");
								hasGetter = descriptor.has("get");
								hasSetter = descriptor.has("set");

								if (!((hasValue || descriptor.has("writable")) && (hasGetter || hasSetter))) {
									context$2$0.next = 5;
									break;
								}

								throw TypeError("Invalid property. A property cannot both have accessors and be writable or have a value");

							case 5:

								["writable", "enumerable", "configurable"].forEach(function (prop) {
									if (descriptor.has(prop)) {
										var attrValue = descriptor.getValue(prop);
										options[prop] = (0, _utilsNative.toBoolean)(attrValue);
									}
								});

								currentScope = env.current.scope;

								if (!hasGetter) {
									context$2$0.next = 9;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var getter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												getter = descriptor.getValue("get") || _typesPrimitiveType.UNDEFINED;

												if (!(getter.isPrimitive && getter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.get = options.getter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(getter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(getter);

											case 8:
												stringValue = context$3$0.sent;
												throw TypeError("Getter must be a function: " + stringValue);

											case 10:

												options.get = getter;
												options.getter = _regeneratorRuntime.mark(function callee$3$0() {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = getter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return getter.call(thisArg) || _typesPrimitiveType.UNDEFINED;

																			case 2:
																				return context$5$0.abrupt("return", context$5$0.sent);

																			case 3:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t0", 9);

							case 9:
								if (!hasSetter) {
									context$2$0.next = 11;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var setter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												setter = descriptor.getValue("set") || _typesPrimitiveType.UNDEFINED;

												if (!(setter.isPrimitive && setter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.set = options.setter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(setter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(setter);

											case 8:
												stringValue = context$3$0.sent;
												throw TypeError("Setter must be a function: " + stringValue);

											case 10:

												options.set = setter;
												options.setter = _regeneratorRuntime.mark(function callee$3$0(value) {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = setter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return setter.call(thisArg, [value]);

																			case 2:
																				return context$5$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

																			case 3:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t1", 11);

							case 11:

								if (hasValue) {
									options.value = descriptor.getValue("value") || _typesPrimitiveType.UNDEFINED;
								}

							case 12:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, _this2);
				})(), "t0", 8);

			case 8:
				return context$1$0.abrupt("return", obj.defineOwnProperty(key, options, throwOnError, env));

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function confirmObject(obj, methodName) {
	if ((0, _utilsContracts.isObject)(obj)) {
		return true;
	}

	if (getOptions(obj).ecmaVersion > 5) {
		return false;
	}

	throw TypeError(methodName + " called on non-object");
}

function getOwnPropertyDescriptor(env, target, propertyKey) {
	var key, descriptor, result;
	return _regeneratorRuntime.wrap(function getOwnPropertyDescriptor$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsNative.toPropertyKey)(propertyKey);

			case 2:
				key = context$1$0.sent;
				descriptor = target.getOwnProperty(key);

				if (!descriptor) {
					context$1$0.next = 10;
					break;
				}

				result = env.objectFactory.createObject();

				if (descriptor.dataProperty) {
					result.setValue("value", descriptor.value);
					result.setValue("writable", env.objectFactory.createPrimitive(descriptor.writable));
				} else {
					result.setValue("get", descriptor.get || _typesPrimitiveType.UNDEFINED);
					result.setValue("set", descriptor.set || _typesPrimitiveType.UNDEFINED);
				}

				result.setValue("enumerable", env.objectFactory.createPrimitive(descriptor.enumerable));
				result.setValue("configurable", env.objectFactory.createPrimitive(descriptor.configurable));
				return context$1$0.abrupt("return", result);

			case 10:
				return context$1$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

// we only keep a copy of the original getter/setter for use with `getOwnPropertyDescriptor`
},{"../../types/primitive-type":365,"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/symbol/for":17,"babel-runtime/regenerator":28}],241:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("create", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(parent, descriptors) {
		var stringValue, obj, prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(parent && parent.isPrimitive && parent.value !== null)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(parent);

				case 3:
					stringValue = context$2$0.sent;
					throw TypeError("Object prototype may only be an Object or null: " + stringValue);

				case 5:
					if (!(descriptors && descriptors.isPrimitive && descriptors.value === null)) {
						context$2$0.next = 7;
						break;
					}

					throw TypeError("Cannot convert null or undefined to object");

				case 7:
					obj = factory.createObject();

					if (parent) {
						obj.setPrototype(parent);
					}

					if (!descriptors) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 11:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 18;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.next = 16;
					return (0, _objectHelpers.defineProperty)(env, obj, prop, descriptors.getValue(prop));

				case 16:
					context$2$0.next = 11;
					break;

				case 18:
					return context$2$0.abrupt("return", obj);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.create"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"./object-helpers":240,"babel-runtime/regenerator":28}],242:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("defineProperties", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, descriptors) {
		var prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(obj, "Object.defineProperties");
					(0, _utilsContracts.assertArgIsNotNullOrUndefined)(descriptors);

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 3:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 10;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 8;
					return (0, _objectHelpers.defineProperty)(env, obj, prop, descriptors.getValue(prop));

				case 8:
					context$2$0.next = 3;
					break;

				case 10:
					return context$2$0.abrupt("return", obj);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.defineProperties"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"./object-helpers":240,"babel-runtime/regenerator":28}],243:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("defineProperty", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, propertyKey, descriptor) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(obj, "Object.defineProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _objectHelpers.defineProperty)(env, obj, key, descriptor);

				case 6:
					return context$2$0.abrupt("return", obj);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Object.defineProperty"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"./object-helpers":240,"babel-runtime/regenerator":28}],244:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("freeze", factory.createBuiltInFunction(function (obj) {
		if ((0, _objectHelpers.confirmObject)(obj, "Object.freeze")) {
			obj.freeze();
		}

		return obj;
	}, 1, "Object.freeze"));
};

module.exports = exports["default"];
},{"./object-helpers":240}],245:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("getOwnPropertyDescriptor", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, key) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(obj, "Object.getOwnPropertyDescriptor");
					(0, _objectHelpers.confirmObject)(obj, "Object.getOwnPropertyDescriptor");

					context$2$0.next = 4;
					return (0, _objectHelpers.getOwnPropertyDescriptor)(env, obj, key);

				case 4:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.getOwnPropertyDescriptor"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"./object-helpers":240,"babel-runtime/regenerator":28}],246:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("getOwnPropertyNames", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsObject)(obj, "Object.getOwnPropertyNames");

		var arr = factory.createArray();
		obj.getOwnPropertyKeys().forEach(function (name, index) {
			arr.setValue(index, factory.createPrimitive(name));
		});

		return arr;
	}, 1, "Object.getOwnPropertyNames"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _typesPrimitiveType = require("../../types/primitive-type");

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("getPrototypeOf", factory.createBuiltInFunction(function (obj) {
		if (!(0, _objectHelpers.confirmObject)(obj, "Object.getPrototypeOf")) {
			obj = (0, _utilsNative.toObject)(env, obj, true);
		}

		var objProto = obj.getPrototype();
		return objProto || _typesPrimitiveType.NULL;
	}, 1, "Object.getPrototypeOf"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":365,"../../utils/native":375,"./object-helpers":240}],248:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("hasOwnProperty", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var k;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Object.prototype.hasOwnProperty");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(key);

				case 3:
					k = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(this.node.owns(k)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.prototype.hasOwnProperty"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],249:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("isExtensible", factory.createBuiltInFunction(function (obj) {
		if (!(0, _objectHelpers.confirmObject)(obj, "Object.isExtensible")) {
			return factory.createPrimitive(false);
		}

		return factory.createPrimitive(obj.isExtensible());
	}, 1, "Object.isExtensible"));
};

module.exports = exports["default"];
},{"./object-helpers":240}],250:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("isFrozen", factory.createBuiltInFunction(function (obj) {
		if (!(0, _objectHelpers.confirmObject)(obj, "Object.isFrozen")) {
			return factory.createPrimitive(true);
		}

		if (obj.isPrimitive) {
			return factory.createPrimitive(true);
		}

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].writable || obj.properties[prop].configurable) {
					return factory.createPrimitive(false);
				}
			}
		}

		return factory.createPrimitive(!obj.extensible);
	}, 1, "Object.isFrozen"));
};

module.exports = exports["default"];
},{"./object-helpers":240}],251:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("isPrototypeOf", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Object.isPrototypeOf");

		var current = obj;
		while (current) {
			if (this.node === current) {
				return factory.createPrimitive(true);
			}

			current = current.getPrototype();
		}

		return factory.createPrimitive(false);
	}, 1, "Object.isPrototypeOf"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373}],252:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("isSealed", factory.createBuiltInFunction(function (obj) {
		if (!(0, _objectHelpers.confirmObject)(obj, "Object.isSealed")) {
			return factory.createPrimitive(true);
		}

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].configurable) {
					return factory.createPrimitive(false);
				}
			}
		}

		return factory.createPrimitive(!obj.extensible);
	}, 1, "Object.isSealed"));
};

module.exports = exports["default"];
},{"./object-helpers":240}],253:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("keys", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsObject)(obj);

		var arr = factory.createArray();
		var index = 0;

		obj.getOwnPropertyKeys().forEach(function (key) {
			if (typeof key === "string") {
				var propInfo = obj.getProperty(key);
				if (propInfo && propInfo.enumerable) {
					arr.setValue(index++, factory.createPrimitive(key));
				}
			}
		});

		return arr;
	}, 1, "Object.keys"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373}],254:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("preventExtensions", factory.createBuiltInFunction(function (obj) {
		if ((0, _objectHelpers.confirmObject)(obj, "Object.preventExtensions")) {
			obj.preventExtensions();
		}

		return obj;
	}, 1, "Object.preventExtensions"));
};

module.exports = exports["default"];
},{"./object-helpers":240}],255:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("propertyIsEnumerable", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var k, descriptor;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Object.propertyIsEnumerable");

					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(key);

				case 3:
					k = context$2$0.sent;
					descriptor = this.node.getOwnProperty(k);
					return context$2$0.abrupt("return", factory.createPrimitive(!!(descriptor && descriptor.enumerable)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.propertyIsEnumerable"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],256:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectHelpers = require("./object-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("seal", factory.createBuiltInFunction(function (obj) {
		if ((0, _objectHelpers.confirmObject)(obj, "Object.seal")) {
			obj.seal();
		}

		return obj;
	}, 1, "Object.seal"));
};

module.exports = exports["default"];
},{"./object-helpers":240}],257:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	var toStringFunc = factory.createBuiltInFunction(function () {
		var className = this.node ? this.node.className : "Undefined";
		return factory.createPrimitive("[object " + className + "]");
	}, 0, "Object.prototype.toString");

	// Object.prototype.toString === Object.prototype.toLocaleString
	$target.define("toString", toStringFunc);
	$target.define("toLocaleString", toStringFunc);
};

module.exports = exports["default"];
},{}],258:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("valueOf", factory.createBuiltInFunction(function () {
		return (0, _utilsNative.toObject)(env, this.node, true);
	}, 0, "Object.prototype.valueOf"));
};

module.exports = exports["default"];
},{"../../utils/native":375}],259:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _regexExec = require("./regex.exec");

var _regexExec2 = _interopRequireDefault(_regexExec);

var _regexTest = require("./regex.test");

var _regexTest2 = _interopRequireDefault(_regexTest);

var _regexToString = require("./regex.to-string");

var _regexToString2 = _interopRequireDefault(_regexToString);

exports["default"] = function (env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = objectFactory.createObject();
	proto.className = "RegExp";

	var regexClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(pattern, flags) {
		var patternString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(pattern && pattern.className === "RegExp")) {
						context$2$0.next = 4;
						break;
					}

					if (!(0, _utilsContracts.isUndefined)(flags)) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", pattern);

				case 3:
					throw TypeError("Cannot supply flags when constructing one RegExp from another");

				case 4:
					if (!(0, _utilsContracts.isUndefined)(pattern)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = "";
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(pattern);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					patternString = context$2$0.t0;

					if (!(0, _utilsContracts.isUndefined)(flags)) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.t1 = "";
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(flags);

				case 18:
					context$2$0.t1 = context$2$0.sent;

				case 19:
					flags = context$2$0.t1;
					return context$2$0.abrupt("return", objectFactory.create("RegExp", new RegExp(patternString, flags)));

				case 21:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	(0, _regexExec2["default"])(proto, env, objectFactory);
	(0, _regexTest2["default"])(proto, env, objectFactory);
	(0, _regexToString2["default"])(proto, env, objectFactory);

	proto.define("compile", (0, _utilsNative.toNativeFunction)(env, RegExp.prototype.compile, "RegExp.prototype.compile"));
	proto.defineOwnProperty("lastIndex", { value: objectFactory.createPrimitive(0), writable: true });

	["global", "ignoreCase", "multiline", "source"].forEach(function (name) {
		proto.defineOwnProperty(name, { value: objectFactory.createPrimitive(RegExp.prototype[name]) });
	});

	globalObject.define("RegExp", regexClass);
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"./regex.exec":260,"./regex.test":261,"./regex.to-string":262,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],260:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
		value: true
});

var _utilsNative = require("../../utils/native");

var _typesPrimitiveType = require("../../types/primitive-type");

exports["default"] = function ($target, env, factory) {
		$target.define("exec", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
				var stringValue, match, arr, i, ln;
				return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
								case 0:
										context$2$0.next = 2;
										return (0, _utilsNative.toString)(str);

								case 2:
										stringValue = context$2$0.sent;
										context$2$0.next = 5;
										return (0, _utilsNative.toInt32)(this.node.getValue("lastIndex"));

								case 5:
										this.node.source.lastIndex = context$2$0.sent;
										match = this.node.source.exec(stringValue);

										// update the last index from the underlying regex
										this.node.setValue("lastIndex", factory.createPrimitive(this.node.source.lastIndex));

										if (!match) {
												context$2$0.next = 14;
												break;
										}

										arr = factory.createArray();

										for (i = 0, ln = match.length; i < ln; i++) {
												arr.setValue(i, factory.createPrimitive(match[i]));
										}

										// extra properties are added to the array
										arr.setValue("index", factory.createPrimitive(match.index));
										arr.setValue("input", factory.createPrimitive(match.input));
										return context$2$0.abrupt("return", arr);

								case 14:
										return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

								case 15:
								case "end":
										return context$2$0.stop();
						}
				}, callee$1$0, this);
		}), 1, "RegExp.prototype.exec"));
};

module.exports = exports["default"];

// update underlying regex in case the index was manually updated

// get match from underlying regex
},{"../../types/primitive-type":365,"../../utils/native":375,"babel-runtime/regenerator":28}],261:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("test", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
		var stringValue, testValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(str);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInt32)(this.node.getValue("lastIndex"));

				case 5:
					this.node.source.lastIndex = context$2$0.sent;
					testValue = this.node.source.test(stringValue);

					this.node.setValue("lastIndex", factory.createPrimitive(this.node.source.lastIndex));

					return context$2$0.abrupt("return", factory.createPrimitive(testValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "RegExp.prototype.test"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"babel-runtime/regenerator":28}],262:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function ($target, env, factory) {
	$target.define("toString", factory.createBuiltInFunction(function () {
		return factory.createPrimitive(String(this.node.source));
	}, 0, "RegExp.prototype.toString"));
};

module.exports = exports["default"];
},{}],263:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var _stringFromCharCode = require("./string.from-char-code");

var _stringFromCharCode2 = _interopRequireDefault(_stringFromCharCode);

var _stringConcat = require("./string.concat");

var _stringConcat2 = _interopRequireDefault(_stringConcat);

var _stringMatch = require("./string.match");

var _stringMatch2 = _interopRequireDefault(_stringMatch);

var _stringReplace = require("./string.replace");

var _stringReplace2 = _interopRequireDefault(_stringReplace);

var _stringSearch = require("./string.search");

var _stringSearch2 = _interopRequireDefault(_stringSearch);

var _stringSlice = require("./string.slice");

var _stringSlice2 = _interopRequireDefault(_stringSlice);

var _stringSplit = require("./string.split");

var _stringSplit2 = _interopRequireDefault(_stringSplit);

var _stringSubstring = require("./string.substring");

var _stringSubstring2 = _interopRequireDefault(_stringSubstring);

var _stringToString = require("./string.to-string");

var _stringToString2 = _interopRequireDefault(_stringToString);

var _stringTrim = require("./string.trim");

var _stringTrim2 = _interopRequireDefault(_stringTrim);

var _stringValueOf = require("./string.value-of");

var _stringValueOf2 = _interopRequireDefault(_stringValueOf);

exports["default"] = function (env) {
	var marked1$0 = [getString].map(_regeneratorRuntime.mark);
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	function getString(value, isNew) {
		return _regeneratorRuntime.wrap(function getString$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (value) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", "");

				case 2:
					if (!(!isNew && value.isSymbol)) {
						context$2$0.next = 4;
						break;
					}

					return context$2$0.abrupt("return", "Symbol(" + value.description + ")");

				case 4:
					context$2$0.next = 6;
					return (0, _utilsNative.toString)(value.getValue());

				case 6:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	var proto = objectFactory.createObject();

	// prototype can be coerced into an empty string
	proto.value = "";
	proto.className = "String";
	proto.defineOwnProperty("length", { value: objectFactory.createPrimitive(0) });

	var stringClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return getString(value, this.isNew);

				case 2:
					stringValue = context$2$0.sent;

					if (!this.isNew) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, stringValue));

				case 5:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { configurable: false, enumerable: false, writable: false });

	(0, _stringFromCharCode2["default"])(stringClass, env, objectFactory);

	(0, _stringConcat2["default"])(proto, env, objectFactory);
	(0, _stringMatch2["default"])(proto, env, objectFactory);
	(0, _stringReplace2["default"])(proto, env, objectFactory);
	(0, _stringSearch2["default"])(proto, env, objectFactory);
	(0, _stringSlice2["default"])(proto, env, objectFactory);
	(0, _stringSplit2["default"])(proto, env, objectFactory);
	(0, _stringSubstring2["default"])(proto, env, objectFactory);
	(0, _stringToString2["default"])(proto, env, objectFactory);
	(0, _stringTrim2["default"])(proto, env, objectFactory);
	(0, _stringValueOf2["default"])(proto, env, objectFactory);

	["charAt", "charCodeAt", "indexOf", "lastIndexOf", "localeCompare", "substr", "toLocaleLowerCase", "toLocaleUpperCase", "toLowerCase", "toUpperCase"].forEach(function (name) {
		proto.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
			var stringValue,
			    args,
			    args$3$0 = arguments;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(this.node);

					case 2:
						stringValue = context$3$0.sent;
						return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toPrimitive)(arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						})), "t0", 4);

					case 4:
						args = context$3$0.t0;
						return context$3$0.abrupt("return", objectFactory.createPrimitive(String.prototype[name].apply(stringValue, args)));

					case 6:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), String.prototype[name].length, "String.prototype." + name));
	});

	globalObject.define("String", stringClass);
};

module.exports = exports["default"];

// called as new
},{"../../utils/async":372,"../../utils/native":375,"./string.concat":264,"./string.from-char-code":265,"./string.match":266,"./string.replace":267,"./string.search":268,"./string.slice":269,"./string.split":270,"./string.substring":271,"./string.to-string":272,"./string.trim":273,"./string.value-of":274,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],264:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var _utilsAsync = require("../../utils/async");

exports["default"] = function ($target, env, factory) {
	$target.define("concat", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		var stringValue, values;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.concat");

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					values = [stringValue];
					context$2$0.t0 = values;
					context$2$0.next = 8;
					return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toString)(arg);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 8:
					context$2$0.t1 = context$2$0.sent;
					values = context$2$0.t0.concat.call(context$2$0.t0, context$2$0.t1);
					return context$2$0.abrupt("return", factory.createPrimitive(values.join("")));

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.concat"));
};

module.exports = exports["default"];
},{"../../utils/async":372,"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],265:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsAsync = require("../../utils/async");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("fromCharCode", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, charCodes = Array(_len), _key = 0; _key < _len; _key++) {
			charCodes[_key] = arguments[_key];
		}

		var args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(charCodes, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(arg);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", factory.createPrimitive(String.fromCharCode.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.fromCharCode"));
};

module.exports = exports["default"];
},{"../../utils/async":372,"../../utils/native":375,"babel-runtime/regenerator":28}],266:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("match", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, actualRegex, match, _ret;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;
					actualRegex = undefined;

					if (!(regex && regex.className === "RegExp")) {
						context$2$0.next = 8;
						break;
					}

					actualRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 8:
					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					actualRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					match = stringValue.match(actualRegex);

					if (!match) {
						context$2$0.next = 19;
						break;
					}

					_ret = (function () {
						var matches = factory.createArray();

						match.forEach(function (value, index) {
							matches.setValue(index, factory.createPrimitive(value));
						});

						matches.setValue("index", factory.createPrimitive(match.index));
						matches.setValue("input", factory.createPrimitive(match.input));
						return {
							v: matches
						};
					})();

					if (!(typeof _ret === "object")) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", _ret.v);

				case 19:
					return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.match"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":365,"../../utils/native":375,"babel-runtime/regenerator":28}],267:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _typesSymbolType = require("../../types/symbol-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

exports["default"] = function ($target, env, factory) {
	function getMethod(obj, key) {
		var propInfo = obj.getProperty(key);
		if (!propInfo) {
			return null;
		}

		var method = propInfo.getValue();
		if (method.type !== "function") {
			throw TypeError(key + " is not a method");
		}

		return method;
	}

	$target.define("replace", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regexOrSubstr, substrOrFn) {
		var replaceKey, replaceMethod, stringValue, matcher, replacer;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.replace");

					replaceKey = _typesSymbolType.SymbolType.getByKey("replace");

					if (!(replaceKey && !(0, _utilsContracts.isNullOrUndefined)(regexOrSubstr))) {
						context$2$0.next = 8;
						break;
					}

					replaceMethod = getMethod(regexOrSubstr, replaceKey);

					if (!replaceMethod) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 7;
					return replaceMethod.call(regexOrSubstr, [this.node, substrOrFn]);

				case 7:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(this.node);

				case 10:
					stringValue = context$2$0.sent;
					matcher = undefined;

					if (!(regexOrSubstr && regexOrSubstr.className === "RegExp")) {
						context$2$0.next = 16;
						break;
					}

					matcher = regexOrSubstr.source;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(regexOrSubstr);

				case 18:
					matcher = context$2$0.sent;

				case 19:
					replacer = undefined;

					if (!(substrOrFn && substrOrFn.type === "function")) {
						context$2$0.next = 24;
						break;
					}

					replacer = function () {
						var thisArg = substrOrFn.isStrict() || substrOrFn.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;

						for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
							args[_key] = arguments[_key];
						}

						var mappedArgs = args.map(function (arg) {
							return factory.createPrimitive(arg);
						});
						var replacedValue = (0, _utilsAsync.exhaust)(substrOrFn.call(thisArg, mappedArgs));
						return replacedValue ? (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(replacedValue)) : undefined;
					};
					context$2$0.next = 27;
					break;

				case 24:
					context$2$0.next = 26;
					return (0, _utilsNative.toString)(substrOrFn);

				case 26:
					replacer = context$2$0.sent;

				case 27:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.replace(matcher, replacer)));

				case 28:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.replace"));
};

module.exports = exports["default"];
},{"../../types/primitive-type":365,"../../types/symbol-type":370,"../../utils/async":372,"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],268:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("search", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, underlyingRegex;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;
					underlyingRegex = undefined;

					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					if (!(regex.className === "RegExp")) {
						context$2$0.next = 9;
						break;
					}

					underlyingRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 9:
					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toString)(regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					underlyingRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.search(underlyingRegex)));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.search"));
};

module.exports = exports["default"];
},{"../../utils/native":375,"babel-runtime/regenerator":28}],269:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("slice", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var stringValue, startValue, endValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(start);

				case 5:
					startValue = context$2$0.sent;
					endValue = undefined;

					if ((0, _utilsContracts.isNullOrUndefined)(end)) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(end);

				case 10:
					endValue = context$2$0.sent;

				case 11:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.slice(startValue, endValue)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.slice"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],270:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("split", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(separator, limit) {
		var stringValue, limitValue, arr, separatorValue, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					stringValue = context$2$0.sent;

					separator = separator && separator.getValue();
					limit = limit && limit.getValue();

					if (!(0, _utilsContracts.isUndefined)(limit)) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.t0 = undefined;
					context$2$0.next = 12;
					break;

				case 9:
					context$2$0.next = 11;
					return (0, _utilsNative.toUInt32)(limit);

				case 11:
					context$2$0.t0 = context$2$0.sent;

				case 12:
					limitValue = context$2$0.t0;
					arr = factory.createArray();

					if (!(0, _utilsContracts.isUndefined)(separator)) {
						context$2$0.next = 18;
						break;
					}

					arr.setValue(0, factory.createPrimitive(stringValue));
					context$2$0.next = 28;
					break;

				case 18:
					separatorValue = undefined;

					if (!(separator.className === "RegExp")) {
						context$2$0.next = 23;
						break;
					}

					separatorValue = separator.source;
					context$2$0.next = 26;
					break;

				case 23:
					context$2$0.next = 25;
					return (0, _utilsNative.toString)(separator);

				case 25:
					separatorValue = context$2$0.sent;

				case 26:
					result = stringValue.split(separatorValue, limitValue);

					result.forEach(function (value, index) {
						arr.setValue(index, factory.createPrimitive(value));
					});

				case 28:
					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.split"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],271:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("substring", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var value, length;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(this.node);

				case 2:
					value = context$2$0.sent;
					length = value.length;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(start);

				case 6:
					start = context$2$0.sent;

					if (!(0, _utilsContracts.isNullOrUndefined)(end)) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.t0 = length;
					context$2$0.next = 14;
					break;

				case 11:
					context$2$0.next = 13;
					return (0, _utilsNative.toInteger)(end);

				case 13:
					context$2$0.t0 = context$2$0.sent;

				case 14:
					end = context$2$0.t0;
					return context$2$0.abrupt("return", factory.createPrimitive(value.substring(start, end)));

				case 16:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.substring"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],272:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("toString", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsNotGeneric)(this.node, "String", "String.prototype.toString");
		return factory.createPrimitive(this.node.toNative());
	}, 0, "String.prototype.toString"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373}],273:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

var _utilsNative = require("../../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("trim", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.trim");

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.trim()));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "String.prototype.trim"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373,"../../utils/native":375,"babel-runtime/regenerator":28}],274:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("valueOf", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsNotGeneric)(this.node, "String", "String.prototype.valueOf");
		return factory.createPrimitive(this.node.value);
	}, 0, "String.prototype.valueOf"));
};

module.exports = exports["default"];
},{"../../utils/contracts":373}],275:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.normalizeIndex = normalizeIndex;
exports.executeCallback = executeCallback;
var marked0$0 = [executeCallback].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function normalizeIndex(index, length) {
	if (index < 0) {
		return Math.max(length + index, 0);
	}

	return Math.min(index, length);
}

function executeCallback(env, callback, entry, thisArg, arr) {
	var scope, args;
	return _regeneratorRuntime.wrap(function executeCallback$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!thisArg) {
					thisArg = callback.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;
				}

				scope = env.createExecutionScope(callback, thisArg);

				scope.init(callback.node.body);

				args = [entry.value, env.objectFactory.createPrimitive(entry.key), arr];
				context$1$0.next = 6;
				return callback.call(thisArg, args) || _typesPrimitiveType.UNDEFINED;

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

// yield scope.loadArgs(callback.node.params, args, callback);

// return yield scope.use(function* () {
// 	let executionResult = yield env.createExecutionContext(callback.node.body, callback.node).execute();
// 	if (executionResult && executionResult.exit) {
// 		return executionResult.result || UNDEFINED;
// 	}

// 	return UNDEFINED;
// });
},{"../types/primitive-type":365,"babel-runtime/regenerator":28}],276:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("copyWithin", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, start, end) {
		var arr, length, to, from, final, count, dir;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(target);

				case 6:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.t1 = length;
					to = (0, _arrayHelpers.normalizeIndex)(context$2$0.t0, context$2$0.t1);
					context$2$0.next = 11;
					return (0, _utilsNative.toInteger)(start);

				case 11:
					context$2$0.t2 = context$2$0.sent;
					context$2$0.t3 = length;
					from = (0, _arrayHelpers.normalizeIndex)(context$2$0.t2, context$2$0.t3);

					if (!(0, _utilsContracts.isUndefined)(end)) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t4 = length;
					context$2$0.next = 23;
					break;

				case 18:
					context$2$0.next = 20;
					return (0, _utilsNative.toInteger)(end);

				case 20:
					context$2$0.t5 = context$2$0.sent;
					context$2$0.t6 = length;
					context$2$0.t4 = (0, _arrayHelpers.normalizeIndex)(context$2$0.t5, context$2$0.t6);

				case 23:
					final = context$2$0.t4;
					count = Math.min(final - from, length - to);
					dir = 1;

					if (from < to && to < from + count) {
						dir = -1;
						from = from + count - 1;
						to = to + count - 1;
					}

					while (count > 0) {
						if (arr.has(from)) {
							arr.setValue(to, arr.getValue(from));
						} else {
							arr.deleteProperty(to, true);
						}

						from += dir;
						to += dir;
						count--;
					}

					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.copyWithin"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"./array-helpers":275,"babel-runtime/regenerator":28}],277:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("fill", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, start, end) {
		var arr, length, k, final;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					if (!start) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(start);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					k = context$2$0.t0;

					if (!(0, _utilsContracts.isUndefined)(end)) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.t1 = length;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toInteger)(end);

				case 18:
					context$2$0.t1 = context$2$0.sent;

				case 19:
					final = context$2$0.t1;

					k = (0, _arrayHelpers.normalizeIndex)(k, length);
					final = (0, _arrayHelpers.normalizeIndex)(final, length);

					while (k < final) {
						arr.setValue(k++, value);
					}

					return context$2$0.abrupt("return", arr);

				case 24:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.fill"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"./array-helpers":275,"babel-runtime/regenerator":28}],278:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _typesPrimitiveType = require("../types/primitive-type");

var _arrayHelpers = require("./array-helpers");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("findIndex", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var length, i, propInfo, value, passed;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Array.prototype.findIndex");

					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(this.node);

				case 3:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(predicate, "predicate");

					i = 0;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 18;
						break;
					}

					propInfo = this.node.getProperty(i);
					value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 11;
					return (0, _arrayHelpers.executeCallback)(env, predicate, { key: i, value: value }, thisArg, this.node);

				case 11:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(i));

				case 15:

					i++;
					context$2$0.next = 6;
					break;

				case 18:
					return context$2$0.abrupt("return", factory.createPrimitive(-1));

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.findIndex"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../utils/contracts":373,"../utils/native":375,"./array-helpers":275,"babel-runtime/regenerator":28}],279:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

var _arrayHelpers = require("./array-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("find", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var arr, length, i, propInfo, value, passed;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(arr);

				case 3:
					length = context$2$0.sent;

					(0, _utilsContracts.assertIsFunction)(predicate, "predicate");

					// for some reason the spec for the find methods calls empty array slots
					// how that is useful, beats me
					i = 0;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 18;
						break;
					}

					propInfo = arr.getProperty(i);
					value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 11;
					return (0, _arrayHelpers.executeCallback)(env, predicate, { key: i, value: value }, thisArg, arr);

				case 11:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", value);

				case 15:

					i++;
					context$2$0.next = 6;
					break;

				case 18:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.find"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../utils/contracts":373,"../utils/native":375,"./array-helpers":275,"babel-runtime/regenerator":28}],280:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _typesSymbolType = require("../types/symbol-type");

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _iterators = require("../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [createArray].map(_regeneratorRuntime.mark);

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");

	function createArray(ctor, source) {
		var args, hasIterator, _length;

		return _regeneratorRuntime.wrap(function createArray$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(ctor === $target || !(0, _utilsContracts.isConstructor)(ctor))) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createArray());

				case 2:
					args = [];
					hasIterator = source.has(iteratorKey);

					if (hasIterator) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toLength)(source);

				case 7:
					_length = context$2$0.sent;

					args.push(factory.createPrimitive(_length));

				case 9:
					context$2$0.next = 11;
					return ctor.construct(ctor, args);

				case 11:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	$target.define("from", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(items, mapFn, thisArg) {
		var mapper, arr, it, length, done, current, _it$next, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					thisArg = thisArg || _typesPrimitiveType.UNDEFINED;

					mapper = undefined;

					if ((0, _utilsContracts.isUndefined)(mapFn)) {
						mapper = function (v) {
							return v;
						};
					} else {
						(0, _utilsContracts.assertIsFunction)(mapFn, "mapFn");
						mapper = _regeneratorRuntime.mark(function callee$2$0(v, i) {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return mapFn.call(thisArg, [v, factory.createPrimitive(i)]);

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						});
					}

					context$2$0.next = 5;
					return createArray(this.node, items);

				case 5:
					arr = context$2$0.sent;
					it = _iterators2["default"].getIterator(items);
					length = 0;
					done = false;

				case 9:
					if (done) {
						context$2$0.next = 29;
						break;
					}

					context$2$0.prev = 10;
					current = undefined;
					_it$next = it.next();
					done = _it$next.done;
					current = _it$next.value;

					if (done) {
						context$2$0.next = 21;
						break;
					}

					context$2$0.next = 18;
					return mapper(current.value || _typesPrimitiveType.UNDEFINED, current.key);

				case 18:
					value = context$2$0.sent;

					arr.setValue(current.key, value);
					length = current.key + 1;

				case 21:
					context$2$0.next = 27;
					break;

				case 23:
					context$2$0.prev = 23;
					context$2$0.t0 = context$2$0["catch"](10);

					if ("return" in it) {
						it["return"]();
					}

					throw context$2$0.t0;

				case 27:
					context$2$0.next = 9;
					break;

				case 29:

					arr.setValue("length", factory.createPrimitive(length));
					return context$2$0.abrupt("return", arr);

				case 31:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[10, 23]]);
	}), 1, "Array.from"));
};

module.exports = exports["default"];
},{"../iterators/":348,"../types/primitive-type":365,"../types/symbol-type":370,"../utils/contracts":373,"../utils/native":375,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],281:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _typesSymbolType = require("../types/symbol-type");

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	var iteratorProto = factory.createObject();
	iteratorProto.className = "Array Iterator";

	iteratorProto.define("next", factory.createBuiltInFunction(function () {
		var result = this.node.advance();
		if (result.value) {
			return result.value;
		}

		return factory.createIteratorResult({ done: result.done });
	}, 0, "ArrayIterator.prototype.next"));

	function createIteratorValue(arr, index, kind) {
		var key = undefined;
		if (kind !== "value") {
			key = factory.createPrimitive(index);
			if (kind === "key") {
				return key;
			}
		}

		var propInfo = arr.getProperty(index);
		var value = _typesPrimitiveType.UNDEFINED;

		if (propInfo) {
			value = propInfo.getValue();
		}

		if (kind === "value") {
			return value;
		}

		return factory.createArray([key, value]);
	}

	function getIterator(arr, kind) {
		var done, index, _length, value;

		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					done = false;
					index = 0;

				case 2:
					if (done) {
						context$2$0.next = 11;
						break;
					}

					_length = (0, _utilsAsync.exhaust)((0, _utilsNative.toLength)(arr));
					value = _typesPrimitiveType.UNDEFINED;

					if (index >= _length) {
						done = true;
					} else {
						value = createIteratorValue(arr, index, kind);
					}

					context$2$0.next = 8;
					return factory.createIteratorResult({ value: value, done: done });

				case 8:
					index++;
					context$2$0.next = 2;
					break;

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	$target.define("keys", factory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr, "key");
		return factory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.keys"));

	$target.define("entries", factory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr);
		return factory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.entries"));

	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");
	iteratorProto.define(stringTagKey, factory.createPrimitive("Array Iterator"), { writable: false });

	var iteratorFunc = factory.createBuiltInFunction(function () {
		var arr = (0, _utilsNative.toObject)(env, this.node, true);
		var it = getIterator(arr, "value");
		return factory.createIterator(it, iteratorProto);
	}, 0, "Array.prototype.values");

	$target.define("values", iteratorFunc);

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	$target.define(iteratorKey, iteratorFunc);
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../types/symbol-type":370,"../utils/async":372,"../utils/native":375,"babel-runtime/regenerator":28}],282:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _arrayCopyWithin = require("./array.copy-within");

var _arrayCopyWithin2 = _interopRequireDefault(_arrayCopyWithin);

var _arrayFill = require("./array.fill");

var _arrayFill2 = _interopRequireDefault(_arrayFill);

var _arrayFind = require("./array.find");

var _arrayFind2 = _interopRequireDefault(_arrayFind);

var _arrayFindIndex = require("./array.find-index");

var _arrayFindIndex2 = _interopRequireDefault(_arrayFindIndex);

var _arrayFrom = require("./array.from");

var _arrayFrom2 = _interopRequireDefault(_arrayFrom);

var _arrayIterator = require("./array.iterator");

var _arrayIterator2 = _interopRequireDefault(_arrayIterator);

var _arrayOf = require("./array.of");

var _arrayOf2 = _interopRequireDefault(_arrayOf);

exports["default"] = function ($global, env, factory) {
	var arrayClass = $global.getValue("Array");
	var proto = arrayClass.getValue("prototype");

	(0, _arrayFrom2["default"])(arrayClass, env, factory);
	(0, _arrayOf2["default"])(arrayClass, env, factory);

	(0, _arrayCopyWithin2["default"])(proto, env, factory);
	(0, _arrayFill2["default"])(proto, env, factory);
	(0, _arrayFind2["default"])(proto, env, factory);
	(0, _arrayFindIndex2["default"])(proto, env, factory);
	(0, _arrayIterator2["default"])(proto, env, factory);
};

module.exports = exports["default"];
},{"./array.copy-within":276,"./array.fill":277,"./array.find":279,"./array.find-index":278,"./array.from":280,"./array.iterator":281,"./array.of":283,"babel-runtime/helpers/interop-require-default":25}],283:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("of", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var length, lengthValue, arr, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(this.node === $target || !(0, _utilsContracts.isConstructor)(this.node))) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createArray(items));

				case 2:
					length = items.length;
					lengthValue = factory.createPrimitive(length);
					context$2$0.next = 6;
					return this.node.construct(this.node, [lengthValue]);

				case 6:
					arr = context$2$0.sent;
					i = 0;

					while (i < length) {
						arr.defineOwnProperty(i, { value: items[i], configurable: true, enumerable: true, writable: true }, true);
						i++;
					}

					arr.setValue("length", lengthValue);
					return context$2$0.abrupt("return", arr);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.of"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"babel-runtime/regenerator":28}],284:[function(require,module,exports){
"use strict";

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.findIndex = findIndex;

function findIndex(obj, key) {
	var env = obj[_Symbol$for("env")];

	for (var i = 0, _length = obj.data.length; i < _length; i++) {
		var current = obj.data[i];
		if (current) {
			if (env.ops.areSameOrZero(key, current.key)) {
				return i;
			}
		}
	}

	return -1;
}
},{"babel-runtime/core-js/symbol/for":17}],285:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _es5 = require("../es5/");

var _es52 = _interopRequireDefault(_es5);

var _number = require("./number");

var _number2 = _interopRequireDefault(_number);

var _array = require("./array");

var _array2 = _interopRequireDefault(_array);

var _object = require("./object");

var _object2 = _interopRequireDefault(_object);

var _symbol = require("./symbol");

var _symbol2 = _interopRequireDefault(_symbol);

var _string = require("./string");

var _string2 = _interopRequireDefault(_string);

var _proxy = require("./proxy");

var _proxy2 = _interopRequireDefault(_proxy);

var _set = require("./set");

var _set2 = _interopRequireDefault(_set);

var _map = require("./map");

var _map2 = _interopRequireDefault(_map);

var _math = require("./math");

var _math2 = _interopRequireDefault(_math);

var _reflect = require("./reflect");

var _reflect2 = _interopRequireDefault(_reflect);

var _regex = require("./regex");

var _regex2 = _interopRequireDefault(_regex);

var _typesSymbolType = require("../types/symbol-type");

exports["default"] = function (env) {
	(0, _es52["default"])(env);

	var objectFactory = env.objectFactory;
	var $global = env.global;

	(0, _symbol2["default"])($global, env, objectFactory);
	(0, _object2["default"])($global, env, objectFactory);
	(0, _string2["default"])($global, env, objectFactory);
	(0, _array2["default"])($global, env, objectFactory);
	(0, _number2["default"])($global, env, objectFactory);
	(0, _math2["default"])($global, env, objectFactory);
	(0, _proxy2["default"])($global, env, objectFactory);
	(0, _regex2["default"])($global, env, objectFactory);
	(0, _reflect2["default"])($global, env, objectFactory);
	(0, _map2["default"])($global, env, objectFactory);
	(0, _set2["default"])($global, env, objectFactory);

	// setup class symbols
	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");
	var speciesKey = _typesSymbolType.SymbolType.getByKey("species");
	["Function", "Number", "Boolean", "Object", "Array", "String", "Date", "RegExp", "JSON", "Error", "Math", "Map", "Set"].forEach(function (typeName) {
		var ctor = $global.getValue(typeName);

		var speciesGetter = function speciesGetter() {
			return ctor;
		};
		var speciesGetterFunc = objectFactory.createGetter(speciesGetter, "[Symbol.species]");
		ctor.define(speciesKey, null, { getter: speciesGetter, get: speciesGetterFunc });

		if (ctor.owns("prototype")) {
			var proto = ctor.getValue("prototype");
			// proto.define(stringTagKey, objectFactory.createPrimitive(typeName), { writable: false });

			// prototypes in ES6 can't be coerced into primitives
			proto.className = "Object";
		} else {
			ctor.define(stringTagKey, objectFactory.createPrimitive(typeName), { writable: false });
		}
	});

	// update length attributes on built-ins
	var lengthAttr = { configurable: true, enumerable: false, writable: false };
	$global.getValue("Function").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Number").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Boolean").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Object").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Array").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("String").define("length", objectFactory.createPrimitive(1), lengthAttr);
	$global.getValue("Date").define("length", objectFactory.createPrimitive(7), lengthAttr);
	$global.getValue("RegExp").define("length", objectFactory.createPrimitive(2), lengthAttr);
	$global.getValue("Map").define("length", objectFactory.createPrimitive(0), lengthAttr);
	$global.getValue("Set").define("length", objectFactory.createPrimitive(0), lengthAttr);

	var funcProto = $global.getValue("Function").getValue("prototype");

	var thrower = function thrower() {
		throw TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);
	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: false
	};

	funcProto.define("caller", null, prop);
	funcProto.define("arguments", null, prop);
};

module.exports = exports["default"];
},{"../es5/":230,"../types/symbol-type":370,"./array":282,"./map":292,"./math":295,"./number":300,"./object":306,"./proxy":309,"./reflect":320,"./regex":325,"./set":332,"./string":338,"./symbol":342,"babel-runtime/helpers/interop-require-default":25}],286:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("clear", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.clear");
		this.node.data = [];
	}, 0, "Map.prototype.clear"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],287:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("delete", factory.createBuiltInFunction(function (key) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.delete");

		var data = this.node.data;
		if (data.length > 0) {
			var index = (0, _collectionHelpers.findIndex)(this.node, key);
			if (index >= 0) {
				// leave holes in array
				data[index] = undefined;
				return factory.createPrimitive(true);
			}
		}

		return factory.createPrimitive(false);
	}, 1, "Map.prototype.delete"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"./collection-helpers":284}],288:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("forEach", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var data, index, entry, args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.forEach");
					(0, _utilsContracts.assertIsFunction)(callback, "callback");

					thisArg = thisArg || _typesPrimitiveType.UNDEFINED;
					data = this.node.data;
					index = 0;

				case 5:
					if (!(index < data.length)) {
						context$2$0.next = 13;
						break;
					}

					entry = data[index++];

					if (!entry) {
						context$2$0.next = 11;
						break;
					}

					args = [entry.value, entry.key, this.node];
					context$2$0.next = 11;
					return callback.call(thisArg, args);

				case 11:
					context$2$0.next = 5;
					break;

				case 13:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Map.prototype.forEach"));
};

module.exports = exports["default"];

// length might change during iteration
},{"../types/primitive-type":365,"../utils/contracts":373,"babel-runtime/regenerator":28}],289:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("get", factory.createBuiltInFunction(function (key) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.get");

		var index = (0, _collectionHelpers.findIndex)(this.node, key);
		if (index >= 0) {
			return this.node.data[index].value;
		}

		return _typesPrimitiveType.UNDEFINED;
	}, 1, "Map.prototype.get"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../utils/contracts":373,"./collection-helpers":284}],290:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("has", factory.createBuiltInFunction(function (key) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.has");
		return factory.createPrimitive((0, _collectionHelpers.findIndex)(this.node, key) >= 0);
	}, 1, "Map.prototype.has"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"./collection-helpers":284}],291:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesSymbolType = require("../types/symbol-type");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	function createIteratorValue(entry, kind) {
		if (kind === "key") {
			return entry.key;
		}

		if (kind === "value") {
			return entry.value;
		}

		return factory.createArray([entry.key, entry.value]);
	}

	function getIterator(obj, kind) {
		var done, index, value, current;
		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					done = false;
					index = 0;

				case 2:
					if (done) {
						context$2$0.next = 16;
						break;
					}

					value = undefined;

				case 4:
					if (!(index < obj.data.length)) {
						context$2$0.next = 11;
						break;
					}

					current = obj.data[index++];

					if (!current) {
						context$2$0.next = 9;
						break;
					}

					value = createIteratorValue(current, kind);
					return context$2$0.abrupt("break", 11);

				case 9:
					context$2$0.next = 4;
					break;

				case 11:

					done = !value;
					context$2$0.next = 14;
					return factory.createIteratorResult({ value: value, done: done });

				case 14:
					context$2$0.next = 2;
					break;

				case 16:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	var proto = factory.createObject();
	proto.define(_typesSymbolType.SymbolType.getByKey("toStringTag"), factory.createPrimitive("Map Iterator"), { writable: false });

	$target.define("keys", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.keys");
		var it = getIterator(this.node, "key");
		return factory.createIterator(it, proto);
	}, 0, "Map.prototype.keys"));

	$target.define("values", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.values");
		var it = getIterator(this.node, "value");
		return factory.createIterator(it, proto);
	}, 0, "Map.prototype.values"));

	var iteratorFunc = factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.entries");
		var it = getIterator(this.node);
		return factory.createIterator(it, proto);
	}, 0, "Map.prototype.entries");

	$target.define("entries", iteratorFunc);

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	$target.define(iteratorKey, iteratorFunc);
};

module.exports = exports["default"];
},{"../types/symbol-type":370,"../utils/contracts":373,"babel-runtime/regenerator":28}],292:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

var _iterators = require("../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _mapClear = require("./map.clear");

var _mapClear2 = _interopRequireDefault(_mapClear);

var _mapDelete = require("./map.delete");

var _mapDelete2 = _interopRequireDefault(_mapDelete);

var _mapForEach = require("./map.for-each");

var _mapForEach2 = _interopRequireDefault(_mapForEach);

var _mapGet = require("./map.get");

var _mapGet2 = _interopRequireDefault(_mapGet);

var _mapHas = require("./map.has");

var _mapHas2 = _interopRequireDefault(_mapHas);

var _mapSet = require("./map.set");

var _mapSet2 = _interopRequireDefault(_mapSet);

var _mapSize = require("./map.size");

var _mapSize2 = _interopRequireDefault(_mapSize);

var _mapIterator = require("./map.iterator");

var _mapIterator2 = _interopRequireDefault(_mapIterator);

exports["default"] = function ($global, env, factory) {
	var proto = factory.createObject();

	var mapClass = factory.createFunction(_regeneratorRuntime.mark(function callee$1$0(iterable) {
		var instance;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw TypeError("Constructor Map requires 'new'");

				case 2:
					instance = factory.create("Map");

					if ((0, _utilsContracts.isNullOrUndefined)(iterable)) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var setter, it;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									(0, _utilsContracts.assertIsObject)(iterable, "Map");

									setter = instance.getValue("set");

									(0, _utilsContracts.assertIsFunction)(setter, "set");

									it = _iterators2["default"].getIterator(iterable);
									context$3$0.next = 6;
									return it.each(_regeneratorRuntime.mark(function callee$3$0(item) {
										var key, value;
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													(0, _utilsContracts.assertIsObject)(item, "Map");

													key = item.getValue("0") || _typesPrimitiveType.UNDEFINED;
													value = item.getValue("1") || _typesPrimitiveType.UNDEFINED;
													context$4$0.next = 5;
													return setter.call(instance, [key, value]);

												case 5:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 6:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 5);

				case 5:
					return context$2$0.abrupt("return", instance);

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { name: "Map", writable: false });

	(0, _mapClear2["default"])(proto, env, factory);
	(0, _mapDelete2["default"])(proto, env, factory);
	(0, _mapForEach2["default"])(proto, env, factory);
	(0, _mapGet2["default"])(proto, env, factory);
	(0, _mapHas2["default"])(proto, env, factory);
	(0, _mapSet2["default"])(proto, env, factory);
	(0, _mapIterator2["default"])(proto, env, factory);
	(0, _mapSize2["default"])(proto, env, factory);

	$global.define("Map", mapClass);
};

module.exports = exports["default"];
},{"../iterators/":348,"../types/primitive-type":365,"../utils/contracts":373,"./map.clear":286,"./map.delete":287,"./map.for-each":288,"./map.get":289,"./map.has":290,"./map.iterator":291,"./map.set":293,"./map.size":294,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],293:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _collectionHelpers = require("./collection-helpers");

exports["default"] = function ($target, env, factory) {
	$target.define("set", factory.createBuiltInFunction(function (key, value) {
		(0, _utilsContracts.assertIsMap)(this.node, "Map.prototype.set");

		var index = (0, _collectionHelpers.findIndex)(this.node, key);
		if (index >= 0) {
			this.node.data[index].value = value;
			return this.node;
		}

		this.node.data.push({ key: key, value: value });
		return this.node;
	}, 2, "Map.prototype.set"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"./collection-helpers":284}],294:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	var getter = function getter() {
		(0, _utilsContracts.assertIsMap)(this, "Map.prototype.size");
		return factory.createPrimitive(this.data.filter(function (v) {
			return v;
		}).length);
	};

	var getterFunc = factory.createGetter(function () {
		return getter.call(this.node);
	}, "size");

	$target.define("size", null, {
		getter: getter,
		get: getterFunc
	});
};

module.exports = exports["default"];
},{"../utils/contracts":373}],295:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function ($global, env, factory) {
	var mathClass = $global.getValue("Math");

	["acosh", "asinh", "atanh", "cbrt", "clz32", "cosh", "expm1", "fround", "hypot", "imul", "log10", "log2", "log1p", "sign", "sinh", "tanh", "trunc"].forEach(function (name) {
		mathClass.define(name, (0, _utilsNative.toNativeFunction)(env, Math[name], "Math." + name));
	});
};

module.exports = exports["default"];
},{"../utils/native":375}],296:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("isFinite", factory.createBuiltInFunction(function (value) {
		if (!(0, _utilsContracts.isNumber)(value)) {
			return factory.createPrimitive(false);
		}

		var numberValue = value.toNative();
		if (isNaN(numberValue) || !isFinite(numberValue)) {
			return factory.createPrimitive(false);
		}

		return factory.createPrimitive(true);
	}, 1, "Number.isFinite"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],297:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("isInteger", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue, intValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if ((0, _utilsContracts.isNumber)(value)) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 2:
					numberValue = value.toNative();

					if (!(isNaN(numberValue) || !isFinite(numberValue))) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 5:
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(value);

				case 7:
					intValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(numberValue === intValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.isInteger"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],298:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("isNaN", factory.createBuiltInFunction(function (value) {
		if (!(0, _utilsContracts.isNumber)(value)) {
			return factory.createPrimitive(false);
		}

		return factory.createPrimitive(isNaN(value.toNative()));
	}, 1, "Number.isNaN"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],299:[function(require,module,exports){
"use strict";

var _Number$MAX_SAFE_INTEGER = require("babel-runtime/core-js/number/max-safe-integer")["default"];

var _Number$MIN_SAFE_INTEGER = require("babel-runtime/core-js/number/min-safe-integer")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	var MAX_SAFE_INTEGER = _Number$MAX_SAFE_INTEGER || 9007199254740991;
	var MIN_SAFE_INTEGER = _Number$MIN_SAFE_INTEGER || -9007199254740991;

	target.define("MAX_SAFE_INTEGER", factory.createPrimitive(MAX_SAFE_INTEGER), { configurable: false, writable: false });
	target.define("MIN_SAFE_INTEGER", factory.createPrimitive(MIN_SAFE_INTEGER), { configurable: false, writable: false });

	target.define("isSafeInteger", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var numberValue, intValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if ((0, _utilsContracts.isNumber)(value)) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 2:
					numberValue = value.toNative();

					if (!(isNaN(numberValue) || !isFinite(numberValue))) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 5:
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(value);

				case 7:
					intValue = context$2$0.sent;

					if (!(intValue !== numberValue)) {
						context$2$0.next = 10;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(false));

				case 10:
					return context$2$0.abrupt("return", factory.createPrimitive(Math.abs(numberValue) <= MAX_SAFE_INTEGER));

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.isSafeInteger"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/core-js/number/max-safe-integer":6,"babel-runtime/core-js/number/min-safe-integer":7,"babel-runtime/regenerator":28}],300:[function(require,module,exports){
"use strict";

var _Number$EPSILON = require("babel-runtime/core-js/number/epsilon")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _numberIsFinite = require("./number.is-finite");

var _numberIsFinite2 = _interopRequireDefault(_numberIsFinite);

var _numberIsInteger = require("./number.is-integer");

var _numberIsInteger2 = _interopRequireDefault(_numberIsInteger);

var _numberIsNan = require("./number.is-nan");

var _numberIsNan2 = _interopRequireDefault(_numberIsNan);

var _numberIsSafeInteger = require("./number.is-safe-integer");

var _numberIsSafeInteger2 = _interopRequireDefault(_numberIsSafeInteger);

var _numberParseFloat = require("./number.parse-float");

var _numberParseFloat2 = _interopRequireDefault(_numberParseFloat);

var _numberParseInt = require("./number.parse-int");

var _numberParseInt2 = _interopRequireDefault(_numberParseInt);

exports["default"] = function (globalObject, env, factory) {
	var numberClass = globalObject.getValue("Number");

	(0, _numberIsFinite2["default"])(numberClass, env, factory);
	(0, _numberIsInteger2["default"])(numberClass, env, factory);
	(0, _numberIsNan2["default"])(numberClass, env, factory);
	(0, _numberIsSafeInteger2["default"])(numberClass, env, factory);
	(0, _numberParseFloat2["default"])(numberClass, env, factory);
	(0, _numberParseInt2["default"])(numberClass, env, factory);

	var epsilonValue = factory.createPrimitive(_Number$EPSILON || 2.220446049250313e-16);
	numberClass.define("EPSILON", epsilonValue, { configurable: false, writable: false });
};

module.exports = exports["default"];
},{"./number.is-finite":296,"./number.is-integer":297,"./number.is-nan":298,"./number.is-safe-integer":299,"./number.parse-float":301,"./number.parse-int":302,"babel-runtime/core-js/number/epsilon":5,"babel-runtime/helpers/interop-require-default":25}],301:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("parseFloat", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(value);

				case 2:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(parseFloat(stringValue)));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.parseFloat"));
};

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],302:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("parseInt", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, radix) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return toString(value);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(radix, "number");

				case 5:
					radix = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(parseInt(stringValue, radix)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Number.parseInt"));
};

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],303:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (objectClass, env, factory) {
	objectClass.define("assign", factory.createBuiltInFunction(function (target) {
		var to = (0, _utilsNative.toObject)(target, true);

		for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			sources[_key - 1] = arguments[_key];
		}

		sources.forEach(function (next) {
			if (!(0, _utilsContracts.isNullOrUndefined)(next)) {
				(function () {
					var source = (0, _utilsNative.toObject)(next);

					source.getOwnPropertyKeys().forEach(function (key) {
						var desc = source.getOwnProperty(key);
						if (desc && desc.enumerable) {
							if (!to.setValue(key, desc.getValue())) {
								throw TypeError("Cannot assign to read only property '" + key + "'");
							}
						}
					});
				})();
			}
		});

		return to;
	}, 2, "Object.assign"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375}],304:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("getOwnPropertySymbols", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(obj, "Object.getOwnPropertySymbols");
		var keys = [];

		obj.getOwnPropertyKeys("Symbol").forEach(function (key) {
			if (key && key.isSymbol) {
				keys.push(key);
			}
		});

		return factory.createArray(keys);
	}, 1, "Object.getOwnPropertySymbols"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],305:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function (target, env, factory) {
	target.define("is", factory.createBuiltInFunction(function (a, b) {
		var result = env.ops.areSame(a || _typesPrimitiveType.UNDEFINED, b || _typesPrimitiveType.UNDEFINED);
		return factory.createPrimitive(result);
	}, 2, "Object.is"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365}],306:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _objectIs = require("./object.is");

var _objectIs2 = _interopRequireDefault(_objectIs);

var _objectAssign = require("./object.assign");

var _objectAssign2 = _interopRequireDefault(_objectAssign);

var _objectGetOwnPropertySymbols = require("./object.get-own-property-symbols");

var _objectGetOwnPropertySymbols2 = _interopRequireDefault(_objectGetOwnPropertySymbols);

var _objectSetPrototypeOf = require("./object.set-prototype-of");

var _objectSetPrototypeOf2 = _interopRequireDefault(_objectSetPrototypeOf);

var _objectToString = require("./object.to-string");

var _objectToString2 = _interopRequireDefault(_objectToString);

exports["default"] = function (globalObject, env, factory) {
	var objectClass = globalObject.getValue("Object");
	var proto = objectClass.getValue("prototype");

	objectClass.define("getOwnPropertyNames", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(obj, "Object.getOwnPropertyNames");

		var keys = [];
		obj.getOwnPropertyKeys("String").forEach(function (key) {
			if (typeof key === "string") {
				keys.push(factory.createPrimitive(key));
			}
		});

		return factory.createArray(keys);
	}, 1, "Object.getOwnPropertyNames"));

	objectClass.define("keys", factory.createBuiltInFunction(function (obj) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(obj, "Object.keys");

		var keys = [];
		obj.getOwnPropertyKeys("String").forEach(function (key) {
			if (typeof key === "string") {
				var propInfo = obj.getProperty(key);
				if (propInfo && propInfo.enumerable) {
					keys.push(factory.createPrimitive(key));
				}
			}
		});

		return factory.createArray(keys);
	}, 1, "Object.keys"));

	(0, _objectAssign2["default"])(objectClass, env, factory);
	(0, _objectIs2["default"])(objectClass, env, factory);
	(0, _objectGetOwnPropertySymbols2["default"])(objectClass, env, factory);
	(0, _objectSetPrototypeOf2["default"])(objectClass, env, factory);
	(0, _objectToString2["default"])(proto, env, factory);
};

module.exports = exports["default"];
},{"../utils/contracts":373,"./object.assign":303,"./object.get-own-property-symbols":304,"./object.is":305,"./object.set-prototype-of":307,"./object.to-string":308,"babel-runtime/helpers/interop-require-default":25}],307:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("setPrototypeOf", factory.createBuiltInFunction(function (target, proto) {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(target, "setPrototypeOf");

		if (!(0, _utilsContracts.isObject)(proto) && !(0, _utilsContracts.isNull)(proto)) {
			throw TypeError("Object prototype may only be an Object or null");
		}

		if ((0, _utilsContracts.isObject)(target) && !target.setPrototype(proto)) {
			throw TypeError(target.className + " is not extensible");
		}

		return target;
	}, 2, "Object.setPrototypeOf"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],308:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _typesSymbolType = require("../types/symbol-type");

exports["default"] = function (target, env, factory) {
	var stringTagKey = _typesSymbolType.SymbolType.getByKey("toStringTag");

	function objectToString(obj) {
		var tag = obj.className;

		if (!(0, _utilsContracts.isNullOrUndefined)(obj)) {
			var tagProperty = obj.getProperty(stringTagKey);
			if (tagProperty) {
				var tagValue = tagProperty.getValue();
				if (tagValue && tagValue.type === "string") {
					tag = tagValue.toNative();
				}
			}
		}

		return factory.createPrimitive("[object " + tag + "]");
	};

	target.define("toString", factory.createBuiltInFunction(function () {
		return objectToString(this.node);
	}, 0, "Object.prototype.toString"));

	target.define("toLocaleString", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "Object.prototype.toLocaleString");
		return objectToString(this.node);
	}, 0, "Object.prototype.toLocaleString"));
};

module.exports = exports["default"];
},{"../types/symbol-type":370,"../utils/contracts":373}],309:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

exports["default"] = function (globalObject, env, factory) {
	var proxyClass = factory.createFunction(function (target, handler) {
		if (!this.isNew) {
			throw TypeError();
		}

		return factory.createProxy(target, handler);
	}, null, { name: "Proxy" });

	proxyClass.define("revocable", factory.createBuiltInFunction(function (target, handler) {
		var proxy = factory.createProxy(target, handler);

		var obj = factory.createObject();
		obj.define("proxy", proxy);
		obj.define("revoke", factory.createBuiltInFunction(function () {
			proxy.revoke();
		}, 0, "revoke"));

		return obj;
	}, 2, "Proxy.revocable"));

	proxyClass.define("length", factory.createPrimitive(2), { writable: false });
	globalObject.define("Proxy", proxyClass);
};

module.exports = exports["default"];
},{}],310:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("apply", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, thisArg, argsArray) {
		var args, callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsFunction)(target, "target");

					if (argsArray) {
						(0, _utilsContracts.assertIsObject)(argsArray, "Reflect.apply");
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toArray)(argsArray);

				case 4:
					args = context$2$0.sent;
					callee = target.native ? target : target.node;
					context$2$0.next = 8;
					return target.call(thisArg, args, callee);

				case 8:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.apply"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],311:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("construct", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, argsArray, newTarget) {
		var args, callee, proto, obj;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsFunction)(target, "target");

					if (argsArray) {
						(0, _utilsContracts.assertIsObject)(argsArray, "Reflect.construct");
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toArray)(argsArray);

				case 4:
					args = context$2$0.sent;
					callee = target.node || target;
					proto = newTarget || target;
					obj = factory.createObject(proto);
					context$2$0.next = 10;
					return target.construct(obj, args, callee);

				case 10:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.construct"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],312:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _es5Object = require("../es5/object/");

exports["default"] = function ($target, env, factory) {
	$target.define("defineProperty", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey, descriptor) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.defineProperty");

					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					context$2$0.t0 = factory;
					context$2$0.next = 7;
					return (0, _es5Object.defineProperty)(env, target, key, descriptor, false);

				case 7:
					context$2$0.t1 = context$2$0.sent;
					return context$2$0.abrupt("return", context$2$0.t0.createPrimitive.call(context$2$0.t0, context$2$0.t1));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.defineProperty"));
};

module.exports = exports["default"];
},{"../es5/object/":239,"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],313:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("deleteProperty", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.deleteProperty");

					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(target.deleteProperty(key, false)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.deleteProperty"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],314:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("enumerate", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.enumerate");
		return target.getIterator();
	}, 1, "Reflect.enumerate"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],315:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _es5Object = require("../es5/object/");

exports["default"] = function ($target, env, factory) {
	$target.define("getOwnPropertyDescriptor", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.getOwnPropertyDescriptor");
					context$2$0.next = 3;
					return (0, _es5Object.getOwnPropertyDescriptor)(env, target, propertyKey);

				case 3:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.getOwnPropertyDescriptor"));
};

module.exports = exports["default"];
},{"../es5/object/":239,"../utils/contracts":373,"babel-runtime/regenerator":28}],316:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("getPrototypeOf", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.getPrototypeOf");
		return target.getPrototype();
	}, 1, "Reflect.getPrototypeOf"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],317:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("get", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey, receiver) {
		var key, property;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.get");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					property = target.getProperty(key);

					if (!property) {
						context$2$0.next = 8;
						break;
					}

					property.bind(receiver || target);
					return context$2$0.abrupt("return", property.getValue());

				case 8:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.get"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],318:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("has", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, propertyKey) {
		var key;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.has");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(propertyKey);

				case 3:
					key = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(target.has(key)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Reflect.has"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],319:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("isExtensible", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.isExtensible");
		return factory.createPrimitive(target.isExtensible());
	}, 1, "Reflect.isExtensible"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],320:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reflectApply = require("./reflect.apply");

var _reflectApply2 = _interopRequireDefault(_reflectApply);

var _reflectConstruct = require("./reflect.construct");

var _reflectConstruct2 = _interopRequireDefault(_reflectConstruct);

var _reflectDefineProperty = require("./reflect.define-property");

var _reflectDefineProperty2 = _interopRequireDefault(_reflectDefineProperty);

var _reflectDeleteProperty = require("./reflect.delete-property");

var _reflectDeleteProperty2 = _interopRequireDefault(_reflectDeleteProperty);

var _reflectEnumerate = require("./reflect.enumerate");

var _reflectEnumerate2 = _interopRequireDefault(_reflectEnumerate);

var _reflectGet = require("./reflect.get");

var _reflectGet2 = _interopRequireDefault(_reflectGet);

var _reflectGetOwnPropertyDescriptor = require("./reflect.get-own-property-descriptor");

var _reflectGetOwnPropertyDescriptor2 = _interopRequireDefault(_reflectGetOwnPropertyDescriptor);

var _reflectGetPrototypeOf = require("./reflect.get-prototype-of");

var _reflectGetPrototypeOf2 = _interopRequireDefault(_reflectGetPrototypeOf);

var _reflectHas = require("./reflect.has");

var _reflectHas2 = _interopRequireDefault(_reflectHas);

var _reflectIsExtensible = require("./reflect.is-extensible");

var _reflectIsExtensible2 = _interopRequireDefault(_reflectIsExtensible);

var _reflectOwnKeys = require("./reflect.own-keys");

var _reflectOwnKeys2 = _interopRequireDefault(_reflectOwnKeys);

var _reflectPreventExtensions = require("./reflect.prevent-extensions");

var _reflectPreventExtensions2 = _interopRequireDefault(_reflectPreventExtensions);

var _reflectSet = require("./reflect.set");

var _reflectSet2 = _interopRequireDefault(_reflectSet);

var _reflectSetPrototypeOf = require("./reflect.set-prototype-of");

var _reflectSetPrototypeOf2 = _interopRequireDefault(_reflectSetPrototypeOf);

exports["default"] = function (globalObject, env, factory) {
	var reflectClass = factory.createObject();

	(0, _reflectApply2["default"])(reflectClass, env, factory);
	(0, _reflectConstruct2["default"])(reflectClass, env, factory);
	(0, _reflectDefineProperty2["default"])(reflectClass, env, factory);
	(0, _reflectDeleteProperty2["default"])(reflectClass, env, factory);
	(0, _reflectEnumerate2["default"])(reflectClass, env, factory);
	(0, _reflectGet2["default"])(reflectClass, env, factory);
	(0, _reflectGetOwnPropertyDescriptor2["default"])(reflectClass, env, factory);
	(0, _reflectGetPrototypeOf2["default"])(reflectClass, env, factory);
	(0, _reflectHas2["default"])(reflectClass, env, factory);
	(0, _reflectIsExtensible2["default"])(reflectClass, env, factory);
	(0, _reflectOwnKeys2["default"])(reflectClass, env, factory);
	(0, _reflectPreventExtensions2["default"])(reflectClass, env, factory);
	(0, _reflectSet2["default"])(reflectClass, env, factory);
	(0, _reflectSetPrototypeOf2["default"])(reflectClass, env, factory);

	globalObject.define("Reflect", reflectClass);
};

module.exports = exports["default"];
},{"./reflect.apply":310,"./reflect.construct":311,"./reflect.define-property":312,"./reflect.delete-property":313,"./reflect.enumerate":314,"./reflect.get":317,"./reflect.get-own-property-descriptor":315,"./reflect.get-prototype-of":316,"./reflect.has":318,"./reflect.is-extensible":319,"./reflect.own-keys":321,"./reflect.prevent-extensions":322,"./reflect.set":324,"./reflect.set-prototype-of":323,"babel-runtime/helpers/interop-require-default":25}],321:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("ownKeys", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.ownKeys");

		var keys = target.getOwnPropertyKeys().map(function (key) {
			return factory.createPrimitive(key);
		});
		return factory.createArray(keys);
	}, 1, "Reflect.ownKeys"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],322:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("preventExtensions", factory.createBuiltInFunction(function (target) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.preventExtensions");
		return factory.createPrimitive(target.preventExtensions());
	}, 1, "Reflect.preventExtensions"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],323:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("setPrototypeOf", factory.createBuiltInFunction(function (target, proto) {
		(0, _utilsContracts.assertIsObject)(target, "Reflect.setPrototypeOf");

		if (proto !== _typesPrimitiveType.NULL && proto.type !== "object") {
			throw TypeError("The prototype must be an object or null");
		}

		return factory.createPrimitive(target.setPrototype(proto));
	}, 2, "Reflect.setPrototypeOf"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../utils/contracts":373}],324:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function ($target, env, factory) {
	$target.define("set", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, key, value, receiver) {
		var k;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsObject)(target, "Reflect.set");
					context$2$0.next = 3;
					return (0, _utilsNative.toPropertyKey)(key);

				case 3:
					k = context$2$0.sent;

					if ((0, _utilsContracts.isUndefined)(receiver)) {
						receiver = target;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(target.setValue(k, value, receiver)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Reflect.set"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],325:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesSymbolType = require("../types/symbol-type");

var _utilsAsync = require("../utils/async");

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (globalObject, env, factory) {
	var regexClass = globalObject.getValue("RegExp");
	var proto = regexClass.getValue("prototype");

	var replaceKey = _typesSymbolType.SymbolType.getByKey("replace");
	proto.define(replaceKey, factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, replaceValue) {
		var stringValue, replacer;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(value);

				case 2:
					stringValue = context$2$0.sent;
					replacer = undefined;

					if (!(0, _utilsContracts.isFunction)(replaceValue)) {
						context$2$0.next = 8;
						break;
					}

					replacer = function () {
						var thisArg = replaceValue.strict || env.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;

						for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
							args[_key] = arguments[_key];
						}

						var mappedArgs = args.map(function (arg) {
							return factory.createPrimitive(arg);
						});
						var result = (0, _utilsAsync.exhaust)(replaceValue.call(thisArg, mappedArgs));
						return result ? (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(result)) : undefined;
					};
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(replaceValue);

				case 10:
					replacer = context$2$0.sent;

				case 11:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.replace(this.node.source, replacer)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "RegExp.prototype[Symbol.replace]"));

	["source", "global", "ignoreCase", "multiline"].forEach(function (key) {
		var source = RegExp.prototype;
		var getter = function getter() {
			return factory.createPrimitive(source[key]);
		};
		var getterFunc = factory.createGetter(getter, key);

		proto.define(key, null, {
			getter: getter,
			get: getterFunc
		});
	});
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../types/symbol-type":370,"../utils/async":372,"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],326:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("add", factory.createBuiltInFunction(function (value) {
		(0, _utilsContracts.assertIsSet)(this.node, "Set.prototype.add");

		if (!this.node.data.some(function (e) {
			return e && env.ops.areSameOrZero(e, value);
		})) {
			this.node.data.push(value);
		}

		return this.node;
	}, 1, "Set.prototype.add"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],327:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("clear", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsSet)(this.node, "Set.prototype.clear");
		this.node.data = [];
	}, 0, "Set.prototype.clear"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],328:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("delete", factory.createBuiltInFunction(function (value) {
		(0, _utilsContracts.assertIsSet)(this.node, "Set.prototype.delete");

		var entries = this.node.data;
		var index = entries.length;

		while (index--) {
			var current = entries[index];
			if (current && env.ops.areSameOrZero(current, value)) {
				entries[index] = undefined;
				return factory.createPrimitive(true);
			}
		}

		return factory.createPrimitive(false);
	}, 1, "Set.prototype.delete"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],329:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function ($target, env, factory) {
	$target.define("forEach", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var data, index, entry, args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsSet)(this.node, "Set.prototype.forEach");

					thisArg = thisArg || _typesPrimitiveType.UNDEFINED;
					data = this.node.data;
					index = 0;

				case 4:
					if (!(index < data.length)) {
						context$2$0.next = 12;
						break;
					}

					entry = data[index++];

					if (!entry) {
						context$2$0.next = 10;
						break;
					}

					args = [entry, entry, this.node];
					context$2$0.next = 10;
					return callback.call(thisArg, args);

				case 10:
					context$2$0.next = 4;
					break;

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Set.prototype.forEach"));
};

module.exports = exports["default"];

// length might change during iteration
},{"../types/primitive-type":365,"../utils/contracts":373,"babel-runtime/regenerator":28}],330:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	$target.define("has", factory.createBuiltInFunction(function (value) {
		(0, _utilsContracts.assertIsSet)(this.node, "Set.prototype.has");
		var has = this.node.data.some(function (e) {
			return e && env.ops.areSameOrZero(e, value);
		});
		return factory.createPrimitive(has);
	}, 1, "Set.prototype.has"));
};

module.exports = exports["default"];
},{"../utils/contracts":373}],331:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _typesSymbolType = require("../types/symbol-type");

exports["default"] = function ($target, env, factory) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	function getIterator(obj, kind) {
		var index, done, value;
		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					index = 0;
					done = false;

				case 2:
					if (done) {
						context$2$0.next = 16;
						break;
					}

					value = undefined;

				case 4:
					if (!(index < obj.data.length)) {
						context$2$0.next = 10;
						break;
					}

					value = obj.data[index++];

					if (!value) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.abrupt("break", 10);

				case 8:
					context$2$0.next = 4;
					break;

				case 10:

					done = !value;
					if (value && kind !== "key" && kind !== "value") {
						value = factory.createArray([value, value]);
					}

					context$2$0.next = 14;
					return factory.createIteratorResult({ value: value, done: done });

				case 14:
					context$2$0.next = 2;
					break;

				case 16:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	var proto = factory.createObject();
	proto.define(_typesSymbolType.SymbolType.getByKey("toStringTag"), factory.createPrimitive("Set Iterator"), { writable: false });

	$target.define("entries", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsSet)(this.node, "Set.prototype.entries");
		var it = getIterator(this.node, "key+value");
		return factory.createIterator(it, proto);
	}, 0, "Set.prototype.entries"));

	var valuesFunc = factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsSet)(this.node, "Set.prototype.values");
		var it = getIterator(this.node, "value");
		return factory.createIterator(it, proto);
	}, 0, "Set.prototype.values");

	$target.define("values", valuesFunc);
	$target.define("keys", valuesFunc);

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	$target.define(iteratorKey, valuesFunc);
};

module.exports = exports["default"];
},{"../types/symbol-type":370,"../utils/contracts":373,"babel-runtime/regenerator":28}],332:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _iterators = require("../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _setAdd = require("./set.add");

var _setAdd2 = _interopRequireDefault(_setAdd);

var _setClear = require("./set.clear");

var _setClear2 = _interopRequireDefault(_setClear);

var _setDelete = require("./set.delete");

var _setDelete2 = _interopRequireDefault(_setDelete);

var _setForEach = require("./set.for-each");

var _setForEach2 = _interopRequireDefault(_setForEach);

var _setHas = require("./set.has");

var _setHas2 = _interopRequireDefault(_setHas);

var _setSize = require("./set.size");

var _setSize2 = _interopRequireDefault(_setSize);

var _setIterator = require("./set.iterator");

var _setIterator2 = _interopRequireDefault(_setIterator);

exports["default"] = function ($global, env, factory) {
	var proto = factory.createObject();

	var setClass = factory.createFunction(_regeneratorRuntime.mark(function callee$1$0(iterable) {
		var instance;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw TypeError("Constructor Set requires 'new'");

				case 2:
					instance = factory.create("Set");

					if ((0, _utilsContracts.isNullOrUndefined)(iterable)) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var adder, it;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									(0, _utilsContracts.assertIsObject)(iterable, "Set");

									adder = proto.getValue("add");

									(0, _utilsContracts.assertIsFunction)(adder, "add");

									it = _iterators2["default"].getIterator(iterable);
									context$3$0.next = 6;
									return it.each(_regeneratorRuntime.mark(function callee$3$0(item) {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													context$4$0.next = 2;
													return adder.call(instance, [item]);

												case 2:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 6:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 5);

				case 5:
					return context$2$0.abrupt("return", instance);

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), proto, { name: "Set" });

	(0, _setAdd2["default"])(proto, env, factory);
	(0, _setClear2["default"])(proto, env, factory);
	(0, _setDelete2["default"])(proto, env, factory);
	(0, _setForEach2["default"])(proto, env, factory);
	(0, _setHas2["default"])(proto, env, factory);
	(0, _setSize2["default"])(proto, env, factory);
	(0, _setIterator2["default"])(proto, env, factory);

	$global.define("Set", setClass);
};

module.exports = exports["default"];
},{"../iterators":348,"../utils/contracts":373,"./set.add":326,"./set.clear":327,"./set.delete":328,"./set.for-each":329,"./set.has":330,"./set.iterator":331,"./set.size":333,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],333:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

exports["default"] = function ($target, env, factory) {
	var getter = function getter() {
		(0, _utilsContracts.assertIsSet)(this, "Set.prototype.size");
		return factory.createPrimitive(this.data.filter(function (v) {
			return v;
		}).length);
	};

	var getterFunc = factory.createGetter(function () {
		return getter.call(this.node);
	}, "size");

	$target.define("size", null, {
		getter: getter,
		get: getterFunc
	});
};

module.exports = exports["default"];
},{"../utils/contracts":373}],334:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("codePointAt", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(pos) {
		var stringValue, position;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.codePointAt");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(pos);

				case 6:
					position = context$2$0.sent;

					if (!(position < 0 || position >= stringValue.length)) {
						context$2$0.next = 9;
						break;
					}

					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 9:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.codePointAt(position)));

				case 10:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.codePointAt"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],335:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _String$fromCodePoint = require("babel-runtime/core-js/string/from-code-point")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("fromCodePoint", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, codePoints = Array(_len), _key = 0; _key < _len; _key++) {
			codePoints[_key] = arguments[_key];
		}

		var args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsAsync.map)(codePoints, _regeneratorRuntime.mark(function callee$2$0(cp) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toNumber)(cp);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 2:
					args = context$2$0.sent;
					return context$2$0.abrupt("return", factory.createPrimitive(_String$fromCodePoint.apply(String, _toConsumableArray(args))));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.fromCodePoint"));
};

module.exports = exports["default"];
},{"../utils/async":372,"../utils/native":375,"babel-runtime/core-js/string/from-code-point":15,"babel-runtime/helpers/to-consumable-array":27,"babel-runtime/regenerator":28}],336:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	function stringIncludes(source, search, start, end) {
		if (!search) {
			return true;
		}

		if (start < 0 || end > source.length) {
			return false;
		}

		return source.substring(start, end) === search;
	}

	target.define("endsWith", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchString, endPosition) {
		var stringValue, searchValue, end;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.endsWith");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;

					if (!(0, _utilsContracts.isRegExp)(searchString)) {
						context$2$0.next = 6;
						break;
					}

					throw TypeError("First argument to String.prototype.endsWith must not be a regular expression");

				case 6:
					context$2$0.next = 8;
					return (0, _utilsNative.toString)(searchString);

				case 8:
					searchValue = context$2$0.sent;
					end = stringValue.length;

					if ((0, _utilsContracts.isUndefined)(endPosition)) {
						context$2$0.next = 14;
						break;
					}

					context$2$0.next = 13;
					return (0, _utilsNative.toInteger)(endPosition);

				case 13:
					end = context$2$0.sent;

				case 14:

					end = Math.min(Math.max(end, 0), stringValue.length);
					return context$2$0.abrupt("return", factory.createPrimitive(stringIncludes(stringValue, searchValue, end - searchValue.length, end)));

				case 16:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.endsWith"));

	target.define("startsWith", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchString, startPosition) {
		var stringValue, searchValue, start;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.startsWith");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;

					if (!(0, _utilsContracts.isRegExp)(searchString)) {
						context$2$0.next = 6;
						break;
					}

					throw TypeError("First argument to String.prototype.startsWith must not be a regular expression");

				case 6:
					context$2$0.next = 8;
					return (0, _utilsNative.toString)(searchString);

				case 8:
					searchValue = context$2$0.sent;
					context$2$0.next = 11;
					return (0, _utilsNative.toInteger)(startPosition);

				case 11:
					start = context$2$0.sent;

					start = Math.max(start, 0);
					return context$2$0.abrupt("return", factory.createPrimitive(stringIncludes(stringValue, searchValue, start, start + searchValue.length)));

				case 14:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.startsWith"));

	target.define("includes", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchString, position) {
		var stringValue, searchValue, length, start, end, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.includes");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;

					if (!(0, _utilsContracts.isRegExp)(searchString)) {
						context$2$0.next = 6;
						break;
					}

					throw TypeError("First argument to String.prototype.includes must not be a regular expression");

				case 6:
					context$2$0.next = 8;
					return (0, _utilsNative.toString)(searchString);

				case 8:
					searchValue = context$2$0.sent;
					length = stringValue.length;
					context$2$0.next = 12;
					return (0, _utilsNative.toInteger)(position);

				case 12:
					start = context$2$0.sent;

					start = Math.min(Math.max(start, 0), length);

					end = start + searchValue.length;
					result = false;

				case 16:
					if (!stringIncludes(stringValue, searchValue, start++, end++)) {
						context$2$0.next = 19;
						break;
					}

					result = true;
					return context$2$0.abrupt("break", 20);

				case 19:
					if (end <= length) {
						context$2$0.next = 16;
						break;
					}

				case 20:
					return context$2$0.abrupt("return", factory.createPrimitive(result));

				case 21:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.includes"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],337:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _typesSymbolType = require("../types/symbol-type");

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	var marked1$0 = [getIterator].map(_regeneratorRuntime.mark);

	var iteratorProto = factory.createObject();
	iteratorProto.className = "String Iterator";

	iteratorProto.define("next", factory.createBuiltInFunction(function () {
		var result = this.node.advance();
		if (result.value) {
			return result.value;
		}

		var obj = factory.createObject();
		obj.define("done", factory.createPrimitive(result.done));
		return obj;
	}, 0, "StringIterator.prototype.next"));

	function getIterator(stringValue) {
		var length, done, index, value;
		return _regeneratorRuntime.wrap(function getIterator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					length = stringValue.length;
					done = false;
					index = 0;

				case 3:
					if (done) {
						context$2$0.next = 10;
						break;
					}

					value = _typesPrimitiveType.UNDEFINED;

					if (index === length) {
						done = true;
					} else {
						value = factory.createPrimitive(stringValue[index++]);
					}

					context$2$0.next = 8;
					return factory.createIteratorResult({ value: value, done: done });

				case 8:
					context$2$0.next = 3;
					break;

				case 10:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
	target.define(iteratorKey, factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var stringValue, it;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.protoype[Symbol.iterator]");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					it = getIterator(stringValue);
					return context$2$0.abrupt("return", factory.createIterator(it, iteratorProto));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "[Symbol.iterator]"));
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../types/symbol-type":370,"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],338:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _stringCodePointAt = require("./string.code-point-at");

var _stringCodePointAt2 = _interopRequireDefault(_stringCodePointAt);

var _stringFromCodePoint = require("./string.from-code-point");

var _stringFromCodePoint2 = _interopRequireDefault(_stringFromCodePoint);

var _stringIncludes = require("./string.includes");

var _stringIncludes2 = _interopRequireDefault(_stringIncludes);

var _stringIterator = require("./string.iterator");

var _stringIterator2 = _interopRequireDefault(_stringIterator);

var _stringNormalize = require("./string.normalize");

var _stringNormalize2 = _interopRequireDefault(_stringNormalize);

var _stringRaw = require("./string.raw");

var _stringRaw2 = _interopRequireDefault(_stringRaw);

var _stringRepeat = require("./string.repeat");

var _stringRepeat2 = _interopRequireDefault(_stringRepeat);

exports["default"] = function (globalObject, env, factory) {
	var stringClass = globalObject.getValue("String");
	var proto = stringClass.getValue("prototype");

	(0, _stringFromCodePoint2["default"])(stringClass, env, factory);
	(0, _stringRaw2["default"])(stringClass, env, factory);
	(0, _stringCodePointAt2["default"])(proto, env, factory);
	(0, _stringIncludes2["default"])(proto, env, factory);
	(0, _stringNormalize2["default"])(proto, env, factory);
	(0, _stringRepeat2["default"])(proto, env, factory);
	(0, _stringIterator2["default"])(proto, env, factory);
};

module.exports = exports["default"];
},{"./string.code-point-at":334,"./string.from-code-point":335,"./string.includes":336,"./string.iterator":337,"./string.normalize":339,"./string.raw":340,"./string.repeat":341,"babel-runtime/helpers/interop-require-default":25}],339:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("normalize", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(form) {
		var stringValue, formValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.normalize");
					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					formValue = "NFC";

					if ((0, _utilsContracts.isUndefined)(form)) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 8;
					return (0, _utilsNative.toString)(form);

				case 8:
					formValue = context$2$0.sent;

					if (/^NFK?(?:C|D)$/.test(formValue)) {
						context$2$0.next = 11;
						break;
					}

					throw RangeError("Supported forms are NFC, NFD, NFKC, or NFKD");

				case 11:
					return context$2$0.abrupt("return", factory.createPrimitive(stringValue.normalize(formValue)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "String.prototype.normalize"));
};

module.exports = exports["default"];

// valid forms
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],340:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

exports["default"] = function (target, env, factory) {
	target.define("raw", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(template) {
		for (var _len = arguments.length, substitutions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			substitutions[_key - 1] = arguments[_key];
		}

		var numberOfSubstitutions, cooked, raw, literalSegments, stringElements, nextIndex, nextSegment, next;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					numberOfSubstitutions = substitutions.length;
					cooked = (0, _utilsNative.toObject)(env, template, true);
					raw = (0, _utilsNative.toObject)(env, cooked.getValue("raw"), true);
					context$2$0.next = 5;
					return (0, _utilsNative.toLength)(raw);

				case 5:
					literalSegments = context$2$0.sent;

					if (!(literalSegments <= 0)) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.abrupt("return", factory.createPrimitive(""));

				case 8:
					stringElements = [];
					nextIndex = 0;

				case 10:
					if (!(nextIndex < literalSegments)) {
						context$2$0.next = 26;
						break;
					}

					context$2$0.next = 13;
					return (0, _utilsNative.toString)(raw.getValue(nextIndex));

				case 13:
					nextSegment = context$2$0.sent;

					stringElements.push(nextSegment);

					if (!(nextIndex + 1 === literalSegments)) {
						context$2$0.next = 17;
						break;
					}

					return context$2$0.abrupt("break", 26);

				case 17:
					next = "";

					if (!(nextIndex < numberOfSubstitutions)) {
						context$2$0.next = 22;
						break;
					}

					context$2$0.next = 21;
					return (0, _utilsNative.toString)(substitutions[nextIndex]);

				case 21:
					next = context$2$0.sent;

				case 22:

					stringElements.push(next);
					nextIndex++;
					context$2$0.next = 10;
					break;

				case 26:
					return context$2$0.abrupt("return", factory.createPrimitive(stringElements.join("")));

				case 27:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.raw"));
};

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],341:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (target, env, factory) {
	target.define("repeat", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(count) {
		var stringValue, countValue, returnValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					(0, _utilsContracts.assertIsNotNullOrUndefined)(this.node, "String.prototype.repeat");

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(this.node);

				case 3:
					stringValue = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(count);

				case 6:
					countValue = context$2$0.sent;

					if (!(countValue < 0 || !isFinite(countValue))) {
						context$2$0.next = 9;
						break;
					}

					throw RangeError("Invalid count value");

				case 9:
					returnValue = "";

					if (countValue > 0 && stringValue) {
						if (countValue === 1) {
							returnValue = stringValue;
						} else {
							while (countValue > 0) {
								returnValue += stringValue;
								countValue--;
							}
						}
					}

					return context$2$0.abrupt("return", factory.createPrimitive(returnValue));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.repeat"));
};

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],342:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _typesSymbolType = require("../types/symbol-type");

var _typesPrimitiveType = require("../types/primitive-type");

var _utilsContracts = require("../utils/contracts");

exports["default"] = function (globalObject, env, factory) {
	var frozen = { configurable: false, enumerable: false, writable: false };

	var symbolClass = factory.createFunction(_regeneratorRuntime.mark(function callee$1$0(desc) {
		var descString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw TypeError("Symbol is not a constructor");

				case 2:
					context$2$0.next = 4;
					return (0, _utilsNative.toString)(desc);

				case 4:
					descString = context$2$0.sent;
					return context$2$0.abrupt("return", factory.create("Symbol", descString));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}));

	symbolClass.define("for", factory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var keyString, instance;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(key);

				case 2:
					keyString = context$2$0.sent;
					instance = _typesSymbolType.SymbolType.getByKey(keyString);

					if (!instance) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", instance);

				case 6:
					return context$2$0.abrupt("return", factory.create("Symbol", keyString));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Symbol.for"));

	symbolClass.define("keyFor", factory.createBuiltInFunction(function (sym) {
		return _typesSymbolType.SymbolType.getByInstance(sym) || _typesPrimitiveType.UNDEFINED;
	}, 1, "Symbol.keyFor"));

	var proto = symbolClass.getValue("prototype");
	proto.define("toString", factory.createBuiltInFunction(function () {
		var stringValue = "Symbol(" + this.node.description + ")";
		return factory.createPrimitive(stringValue);
	}, 0, "Symbol.prototype.toString"));

	proto.define("valueOf", factory.createBuiltInFunction(function () {
		(0, _utilsContracts.assertIsNotGeneric)(this.node, "Symbol", "Symbol.prototype.valueOf");
		return this.node;
	}, 0, "Symbol.prototype.valueOf"));

	["hasInstance", "isConcatSpreadable", "iterator", "replace", "species", "toStringTag"].forEach(function (key) {
		var sym = factory.create("Symbol", "@@" + key);

		// add to global registry
		_typesSymbolType.SymbolType.add(key, sym);
		symbolClass.define(key, sym, frozen);
	});

	var toStringTagSymbol = _typesSymbolType.SymbolType.getByKey("toStringTag");
	proto.define(toStringTagSymbol, factory.createPrimitive("Symbol"), { writable: false });

	globalObject.define("Symbol", symbolClass);
};

module.exports = exports["default"];
},{"../types/primitive-type":365,"../types/symbol-type":370,"../utils/contracts":373,"../utils/native":375,"babel-runtime/regenerator":28}],343:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [walk].map(_regeneratorRuntime.mark);
function walk(node) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, n;

	return _regeneratorRuntime.wrap(function walk$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!Array.isArray(node)) {
					context$1$0.next = 27;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 4;
				_iterator = _getIterator(node);

			case 6:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				n = _step.value;
				return context$1$0.delegateYield(walk(n), "t0", 9);

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 6;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t1 = context$1$0["catch"](4);
				_didIteratorError = true;
				_iteratorError = context$1$0.t1;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return");

			case 27:
				context$1$0.next = 29;
				return node;

			case 29:
				context$1$0.t2 = node.type;
				context$1$0.next = context$1$0.t2 === "ArrayExpression" ? 32 : context$1$0.t2 === "AssignmentExpression" ? 35 : context$1$0.t2 === "BinaryExpression" ? 38 : context$1$0.t2 === "LogicalExpression" ? 38 : context$1$0.t2 === "BlockStatement" ? 41 : context$1$0.t2 === "LabeledStatement" ? 41 : context$1$0.t2 === "Program" ? 41 : context$1$0.t2 === "CallExpression" ? 43 : context$1$0.t2 === "NewExpression" ? 43 : context$1$0.t2 === "CatchClause" ? 46 : context$1$0.t2 === "ConditionalExpression" ? 49 : context$1$0.t2 === "IfStatement" ? 49 : context$1$0.t2 === "DoWhileStatement" ? 54 : context$1$0.t2 === "ExpressionStatement" ? 57 : context$1$0.t2 === "ForStatement" ? 59 : context$1$0.t2 === "ForInStatement" ? 67 : context$1$0.t2 === "FunctionDeclaration" ? 71 : context$1$0.t2 === "FunctionExpression" ? 71 : context$1$0.t2 === "MemberExpression" ? 76 : context$1$0.t2 === "ObjectExpression" ? 80 : context$1$0.t2 === "Property" ? 82 : context$1$0.t2 === "ReturnStatement" ? 84 : context$1$0.t2 === "SequenceExpression" ? 87 : context$1$0.t2 === "SwitchStatement" ? 89 : context$1$0.t2 === "SwitchCase" ? 92 : context$1$0.t2 === "ThrowStatement" ? 94 : context$1$0.t2 === "UnaryExpression" ? 94 : context$1$0.t2 === "UpdateExpression" ? 94 : context$1$0.t2 === "TryStatement" ? 96 : context$1$0.t2 === "VariableDeclaration" ? 102 : context$1$0.t2 === "VariableDeclarator" ? 104 : context$1$0.t2 === "WhileStatement" ? 108 : context$1$0.t2 === "WithStatement" ? 111 : context$1$0.t2 === "BreakStatement" ? 114 : context$1$0.t2 === "ContinueStatement" ? 114 : context$1$0.t2 === "EmptyStatement" ? 114 : context$1$0.t2 === "Identifier" ? 114 : context$1$0.t2 === "Literal" ? 114 : context$1$0.t2 === "ThisExpression" ? 114 : 115;
				break;

			case 32:
				if (!node.elements) {
					context$1$0.next = 34;
					break;
				}

				return context$1$0.delegateYield(walk(node.elements), "t3", 34);

			case 34:
				return context$1$0.abrupt("break", 115);

			case 35:
				return context$1$0.delegateYield(walk(node.right), "t4", 36);

			case 36:
				return context$1$0.delegateYield(walk(node.left), "t5", 37);

			case 37:
				return context$1$0.abrupt("break", 115);

			case 38:
				return context$1$0.delegateYield(walk(node.left), "t6", 39);

			case 39:
				return context$1$0.delegateYield(walk(node.right), "t7", 40);

			case 40:
				return context$1$0.abrupt("break", 115);

			case 41:
				return context$1$0.delegateYield(walk(node.body), "t8", 42);

			case 42:
				return context$1$0.abrupt("break", 115);

			case 43:
				return context$1$0.delegateYield(walk(node.callee), "t9", 44);

			case 44:
				return context$1$0.delegateYield(walk(node.arguments), "t10", 45);

			case 45:
				return context$1$0.abrupt("break", 115);

			case 46:
				return context$1$0.delegateYield(walk(node.param), "t11", 47);

			case 47:
				return context$1$0.delegateYield(walk(node.body), "t12", 48);

			case 48:
				return context$1$0.abrupt("break", 115);

			case 49:
				return context$1$0.delegateYield(walk(node.test), "t13", 50);

			case 50:
				return context$1$0.delegateYield(walk(node.consequent), "t14", 51);

			case 51:
				if (!node.alternate) {
					context$1$0.next = 53;
					break;
				}

				return context$1$0.delegateYield(node.alternate, "t15", 53);

			case 53:
				return context$1$0.abrupt("break", 115);

			case 54:
				return context$1$0.delegateYield(walk(node.body), "t16", 55);

			case 55:
				return context$1$0.delegateYield(walk(node.test), "t17", 56);

			case 56:
				return context$1$0.abrupt("break", 115);

			case 57:
				return context$1$0.delegateYield(walk(node.expression), "t18", 58);

			case 58:
				return context$1$0.abrupt("break", 115);

			case 59:
				if (!node.init) {
					context$1$0.next = 61;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t19", 61);

			case 61:
				if (!node.test) {
					context$1$0.next = 63;
					break;
				}

				return context$1$0.delegateYield(walk(node.test), "t20", 63);

			case 63:
				return context$1$0.delegateYield(walk(node.body), "t21", 64);

			case 64:
				if (!node.update) {
					context$1$0.next = 66;
					break;
				}

				return context$1$0.delegateYield(walk(node.update), "t22", 66);

			case 66:
				return context$1$0.abrupt("break", 115);

			case 67:
				return context$1$0.delegateYield(walk(node.right), "t23", 68);

			case 68:
				return context$1$0.delegateYield(walk(node.left), "t24", 69);

			case 69:
				return context$1$0.delegateYield(walk(node.body), "t25", 70);

			case 70:
				return context$1$0.abrupt("break", 115);

			case 71:
				if (!node.id) {
					context$1$0.next = 73;
					break;
				}

				return context$1$0.delegateYield(walk(node.id), "t26", 73);

			case 73:
				return context$1$0.delegateYield(walk(node.params), "t27", 74);

			case 74:
				return context$1$0.delegateYield(walk(node.body), "t28", 75);

			case 75:
				return context$1$0.abrupt("break", 115);

			case 76:
				return context$1$0.delegateYield(walk(node.object), "t29", 77);

			case 77:
				if (!node.computed) {
					context$1$0.next = 79;
					break;
				}

				return context$1$0.delegateYield(walk(node.property), "t30", 79);

			case 79:
				return context$1$0.abrupt("break", 115);

			case 80:
				return context$1$0.delegateYield(walk(node.properties), "t31", 81);

			case 81:
				return context$1$0.abrupt("break", 115);

			case 82:
				return context$1$0.delegateYield(walk(node.value), "t32", 83);

			case 83:
				return context$1$0.abrupt("break", 115);

			case 84:
				if (!node.argument) {
					context$1$0.next = 86;
					break;
				}

				return context$1$0.delegateYield(walk(node.argument), "t33", 86);

			case 86:
				return context$1$0.abrupt("break", 115);

			case 87:
				return context$1$0.delegateYield(walk(node.expressions), "t34", 88);

			case 88:
				return context$1$0.abrupt("break", 115);

			case 89:
				return context$1$0.delegateYield(walk(node.discriminant), "t35", 90);

			case 90:
				return context$1$0.delegateYield(walk(node.cases), "t36", 91);

			case 91:
				return context$1$0.abrupt("break", 115);

			case 92:
				return context$1$0.delegateYield(walk(node.consequent), "t37", 93);

			case 93:
				return context$1$0.abrupt("break", 115);

			case 94:
				return context$1$0.delegateYield(walk(node.argument), "t38", 95);

			case 95:
				return context$1$0.abrupt("break", 115);

			case 96:
				return context$1$0.delegateYield(walk(node.block), "t39", 97);

			case 97:
				if (!node.handler) {
					context$1$0.next = 99;
					break;
				}

				return context$1$0.delegateYield(walk(node.handler), "t40", 99);

			case 99:
				if (!node.finalizer) {
					context$1$0.next = 101;
					break;
				}

				return context$1$0.delegateYield(walk(node.finalizer), "t41", 101);

			case 101:
				return context$1$0.abrupt("break", 115);

			case 102:
				return context$1$0.delegateYield(walk(node.declarations), "t42", 103);

			case 103:
				return context$1$0.abrupt("break", 115);

			case 104:
				return context$1$0.delegateYield(walk(node.id), "t43", 105);

			case 105:
				if (!node.init) {
					context$1$0.next = 107;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t44", 107);

			case 107:
				return context$1$0.abrupt("break", 115);

			case 108:
				return context$1$0.delegateYield(walk(node.test), "t45", 109);

			case 109:
				return context$1$0.delegateYield(walk(node.body), "t46", 110);

			case 110:
				return context$1$0.abrupt("break", 115);

			case 111:
				return context$1$0.delegateYield(walk(node.object), "t47", 112);

			case 112:
				return context$1$0.delegateYield(walk(node.body), "t48", 113);

			case 113:
				return context$1$0.abrupt("break", 115);

			case 114:
				return context$1$0.abrupt("break", 115);

			case 115:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[4, 14, 18, 26], [19,, 21, 25]]);
}

// do nothing

var EstreeWalker = (function () {
	function EstreeWalker(node) {
		_classCallCheck(this, EstreeWalker);

		this.root = node;
	}

	_createClass(EstreeWalker, [{
		key: _Symbol$iterator,
		value: function value() {
			return walk(this.root);
		}
	}], [{
		key: "create",
		value: function create(node) {
			return new EstreeWalker(node);
		}
	}]);

	return EstreeWalker;
})();

exports["default"] = EstreeWalker;
;
module.exports = exports["default"];

// right should be evaluated first

// do nothing else
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/symbol/iterator":18,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/regenerator":28}],344:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("./types/primitive-type");

var _executionResult = require("./execution-result");

var _visitors = require("./visitors");

var _visitors2 = _interopRequireDefault(_visitors);

var ExecutionContext = (function () {
	function ExecutionContext(env, node, callee, isNew) {
		_classCallCheck(this, ExecutionContext);

		this.node = node;
		this.callee = callee;
		this.env = env;
		this.isNew = !!isNew;

		this.label = "";
		this.value = null;
		this.strict = false;
	}

	_createClass(ExecutionContext, [{
		key: "execute",
		value: _regeneratorRuntime.mark(function execute() {
			var executionResult;
			return _regeneratorRuntime.wrap(function execute$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						executionResult = undefined;
						context$2$0.prev = 1;
						context$2$0.next = 4;
						return _visitors2["default"].visit(this);

					case 4:
						executionResult = context$2$0.sent;
						context$2$0.next = 10;
						break;

					case 7:
						context$2$0.prev = 7;
						context$2$0.t0 = context$2$0["catch"](1);

						executionResult = this.raise(context$2$0.t0);

					case 10:
						if (!(executionResult && executionResult.raised)) {
							context$2$0.next = 12;
							break;
						}

						throw this.env.objectFactory.create("Error", executionResult.result);

					case 12:
						return context$2$0.abrupt("return", executionResult || this.empty());

					case 13:
					case "end":
						return context$2$0.stop();
				}
			}, execute, this, [[1, 7]]);
		})
	}, {
		key: "create",
		value: function create(node, callee, isNew) {
			var context = new ExecutionContext(this.env, node, callee || this.callee, isNew);
			context.value = this.value;
			return context;
		}
	}, {
		key: "createLabel",
		value: function createLabel(node, label) {
			var context = this.create(node);
			context.label = label;
			return context;
		}
	}, {
		key: "cancel",
		value: function cancel(label) {
			var result = this.result(this.value, label);
			result.cancel = true;
			return result;
		}
	}, {
		key: "skip",
		value: function skip(label) {
			var result = this.result(this.value, label);
			result.skip = true;
			return result;
		}
	}, {
		key: "raise",
		value: function raise(err) {
			var result = this.result(err);
			result.raised = result.exit = true;
			return result;
		}
	}, {
		key: "exit",
		value: function exit(value) {
			this.callee = null;

			var result = this.result(value);
			result.exit = true;
			return result;
		}
	}, {
		key: "result",
		value: function result(value, name, obj) {
			this.value = value;
			return new _executionResult.ExecutionResult(value, name, obj);
		}
	}, {
		key: "empty",
		value: function empty() {
			return this.result(_typesPrimitiveType.UNDEFINED);
		}
	}]);

	return ExecutionContext;
})();

exports.ExecutionContext = ExecutionContext;
;
},{"./execution-result":345,"./types/primitive-type":365,"./visitors":393,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],345:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var ExecutionResult = (function () {
	function ExecutionResult(value, name, obj) {
		_classCallCheck(this, ExecutionResult);

		this.result = value;
		this.name = name;
		this.object = obj;

		this.cancel = false;
		this.cancelled = false;
		this.exit = false;
		this.skip = false;
		this.raised = false;
	}

	_createClass(ExecutionResult, [{
		key: "isCancelled",
		value: function isCancelled() {
			return this.cancel || this.exit || this.raised;
		}
	}, {
		key: "canBreak",
		value: function canBreak() {
			return this.isCancelled() || this.skip;
		}
	}, {
		key: "shouldBreak",
		value: function shouldBreak(context, loop, priorResult) {
			if (this.exit || this.raised) {
				return true;
			}

			if (!this.cancel && !this.skip) {
				return false;
			}

			var breaking = true;
			if (this.name && this.name === context.label) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;

				if (this.cancelled) {
					this.result = priorResult && priorResult.result || this.result;
				}

				return breaking;
			}

			if (loop && !this.name) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;
			}

			this.result = priorResult && priorResult.result || this.result;
			return breaking;
		}
	}]);

	return ExecutionResult;
})();

exports.ExecutionResult = ExecutionResult;
},{"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21}],346:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

require("./polyfills");

var _env = require("./env");

var _utilsAsync = require("./utils/async");

var SandBoxr = (function () {
	/**
  * Creates a new Sandbox
  * @class
  * @param {AST} ast - The abstract syntax tree to execute.
  * @param {Object} [options] The options to use with the sandbox.
  */

	function SandBoxr(ast) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, SandBoxr);

		this.ast = ast;
		this.options = options;
	}

	/**
  * Executes the abstract syntax tree (AST) against the provided environment (or the default
  * environment if not provided)
  * @param {Environment} [env] - The environment to execute the AST against.
  * @returns {Promise} A promise that resolves with the result of the execution
  */

	_createClass(SandBoxr, [{
		key: "execute",
		value: function execute(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.promisify)(env.createExecutionContext(this.ast).execute()).then(function (res) {
				return res.result;
			});
		}
	}, {
		key: _Symbol$iterator,
		value: function value() {
			return this.step();
		}
	}, {
		key: "step",
		value: function step(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.step)(env.createExecutionContext(this.ast).execute());
		}

		/**
   * Creates an environment instance.
   * @returns {Object} The environment instance.
   */
	}], [{
		key: "createEnvironment",
		value: function createEnvironment() {
			return new _env.Environment();
		}

		/**
   * Creates a new SandBoxr instance.
   * @param {AST} ast - The abstract syntax tree to execute.
   * @param {Object} [options] The options to use with the sandbox.
   * @returns {SandBoxr} A new sandbox.
   */
	}, {
		key: "create",
		value: function create(ast, options) {
			return new SandBoxr(ast, options);
		}
	}]);

	return SandBoxr;
})();

exports.SandBoxr = SandBoxr;
},{"./env":186,"./polyfills":353,"./utils/async":372,"babel-runtime/core-js/symbol/iterator":18,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21}],347:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator, yieldIndex].map(_regeneratorRuntime.mark);

function ascIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = lo;

			case 1:
				if (!(index < hi)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index++;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = hi;

			case 1:
				if (!(index >= lo)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index--;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function yieldIndex(source, key) {
	var prop, value;
	return _regeneratorRuntime.wrap(function yieldIndex$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				prop = source.getProperty(key);

				if (!prop) {
					context$1$0.next = 5;
					break;
				}

				value = prop.getValue();
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

var ArrayIterator = {
	create: function create(obj, lo, hi, desc) {
		return (desc ? descIterator : ascIterator)(obj, lo, hi);
	}
};

exports["default"] = ArrayIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":28}],348:[function(require,module,exports){
"use strict";

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _stringIterator = require("./string-iterator");

var _stringIterator2 = _interopRequireDefault(_stringIterator);

var _sparseIterator = require("./sparse-iterator");

var _sparseIterator2 = _interopRequireDefault(_sparseIterator);

var _arrayIterator = require("./array-iterator");

var _arrayIterator2 = _interopRequireDefault(_arrayIterator);

var _iterableIterator = require("./iterable-iterator");

var _iterableIterator2 = _interopRequireDefault(_iterableIterator);

var _typesSymbolType = require("../types/symbol-type");

var _utilsNative = require("../utils/native");

var _utilsAsync = require("../utils/async");

require("../polyfills");

var SPARE_ARRAY_DENSITY = 0.8;

function arrayIsSparse(arr, length) {
	var ownPropertyCount = _Object$keys(arr.properties).length;

	// this is just to roughly estimate how dense the array is
	var density = (ownPropertyCount - 1) / length;
	return density < SPARE_ARRAY_DENSITY;
}

var iterate = {
	getIterator: function getIterator(obj) {
		var iteratorKey = _typesSymbolType.SymbolType.getByKey("iterator");
		var iterator = obj.getProperty(iteratorKey);
		if (iterator) {
			var fn = iterator.getValue();
			var it = (0, _utilsAsync.exhaust)(fn.call(obj));
			return _iterableIterator2["default"].create(it);
		}

		var length = (0, _utilsAsync.exhaust)((0, _utilsNative.toLength)(obj));
		return this.forward(obj, 0, length);
	},

	forward: function forward(obj, lo, hi) {
		// string will never be dense
		if (obj.className === "String") {
			return _stringIterator2["default"].create(obj, lo);
		}

		if (arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi - 1);
		}

		return _arrayIterator2["default"].create(obj, lo, hi);
	},

	reverse: function reverse(obj, hi) {
		var lo = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];

		if (obj.className === "String") {
			return _stringIterator2["default"].create(obj, hi, true);
		}

		if (obj.className !== "Array" || arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi, true);
		}

		return _arrayIterator2["default"].create(obj, lo, hi, true);
	}
};

exports["default"] = iterate;
module.exports = exports["default"];
},{"../polyfills":353,"../types/symbol-type":370,"../utils/async":372,"../utils/native":375,"./array-iterator":347,"./iterable-iterator":349,"./sparse-iterator":350,"./string-iterator":351,"babel-runtime/core-js/object/keys":12,"babel-runtime/helpers/interop-require-default":25}],349:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsAsync = require("../utils/async");

var _typesPrimitiveType = require("../types/primitive-type");

var IterableIterator = (function () {
	function IterableIterator(it) {
		_classCallCheck(this, IterableIterator);

		this.currentIndex = 0;
		this.iterator = it;
		this.advancer = it.getValue("next");
	}

	_createClass(IterableIterator, [{
		key: "next",
		value: function next() {
			var result = (0, _utilsAsync.exhaust)(this.advancer.call(this.iterator));
			var value = { key: this.currentIndex++, value: _typesPrimitiveType.UNDEFINED };

			var valueProperty = result.getProperty("value");
			if (valueProperty) {
				value.value = valueProperty.getValue();
			}

			var done = (0, _utilsNative.toBoolean)(result.getValue("done"));
			return { done: done, value: value };
		}
	}, {
		key: "each",
		value: _regeneratorRuntime.mark(function each(func) {
			var done, current, _next;

			return _regeneratorRuntime.wrap(function each$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						done = false;

					case 1:
						if (done) {
							context$2$0.next = 18;
							break;
						}

						context$2$0.prev = 2;
						current = undefined;
						_next = this.next();
						done = _next.done;
						current = _next.value;

						if (done) {
							context$2$0.next = 10;
							break;
						}

						context$2$0.next = 10;
						return func(current.value || _typesPrimitiveType.UNDEFINED);

					case 10:
						context$2$0.next = 16;
						break;

					case 12:
						context$2$0.prev = 12;
						context$2$0.t0 = context$2$0["catch"](2);

						this["return"]();
						throw context$2$0.t0;

					case 16:
						context$2$0.next = 1;
						break;

					case 18:
					case "end":
						return context$2$0.stop();
				}
			}, each, this, [[2, 12]]);
		})
	}, {
		key: "return",
		value: function _return() {
			var propInfo = this.iterator.getProperty("return");
			if (propInfo) {
				var returnFunc = propInfo.getValue();
				return (0, _utilsAsync.exhaust)(returnFunc.call(this.iterator));
			}

			return _typesPrimitiveType.UNDEFINED;
		}
	}], [{
		key: "create",
		value: function create(it) {
			return new IterableIterator(it);
		}
	}]);

	return IterableIterator;
})();

exports["default"] = IterableIterator;
module.exports = exports["default"];
},{"../types/primitive-type":365,"../utils/async":372,"../utils/native":375,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/regenerator":28}],350:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

require("../polyfills");

var ASCENDING = function ASCENDING(a, b) {
	return a - b;
};
var DESCENDING = function DESCENDING(a, b) {
	return b - a;
};

var SparseIterator = (function () {
	function SparseIterator(obj, start, end, desc) {
		_classCallCheck(this, SparseIterator);

		this.object = obj;
		this.start = start;
		this.end = end;
		this.asc = !desc;
		this.version = 0;
	}

	_createClass(SparseIterator, [{
		key: _Symbol$iterator,
		value: function value() {
			return this;
		}
	}, {
		key: "reset",
		value: function reset() {
			this.version = 0;
			this.prototypes = [];
			this.props = _Object$create(null);
			this.keys = [];

			var current = this.object;

			while (current) {
				this.prototypes.push(current);
				this.version += current.version;

				for (var _name in current.properties) {
					if (!(_name in this.props) && contracts.isInteger(_name)) {
						var index = Number(_name);

						if (index >= this.start && index <= this.end) {
							this.props[_name] = current.getOwnProperty(_name);
							this.keys.push(index);
						}
					}
				}

				current = current.getPrototype();
			}

			this.keys.sort(this.asc ? ASCENDING : DESCENDING);
		}
	}, {
		key: "next",
		value: function next() {
			if (!this.version || this.shouldReset()) {
				this.reset();
			}

			if (this.keys.length > 0) {
				var key = this.position = this.keys.shift();
				var value = this.props[key].getValue();

				return {
					value: { value: value, key: key },
					done: false
				};
			}

			return {
				done: true
			};
		}
	}, {
		key: "shouldReset",
		value: function shouldReset() {
			var currentVersion = this.prototypes.reduce(function (v, o) {
				return o.version + v;
			}, 0);
			if (currentVersion !== this.version) {
				if (this.asc) {
					this.start = this.position + 1;
				} else {
					this.end = this.position - 1;
				}

				return true;
			}

			return false;
		}
	}], [{
		key: "create",
		value: function create(arr, start, end, desc) {
			return new SparseIterator(arr, start, end, desc);
		}
	}]);

	return SparseIterator;
})();

exports["default"] = SparseIterator;
module.exports = exports["default"];
},{"../polyfills":353,"../utils/contracts":373,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/symbol/iterator":18,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/interop-require-wildcard":26}],351:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator].map(_regeneratorRuntime.mark);
function ascIterator(stringValue, start, length) {
	var key, value;
	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				key = start;

			case 1:
				if (!(key < length)) {
					context$1$0.next = 8;
					break;
				}

				value = stringValue.getValue(key);
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
				key++;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(stringValue, start) {
	var key, value;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				key = start;

			case 1:
				if (!(key >= 0)) {
					context$1$0.next = 8;
					break;
				}

				value = stringValue.getValue(key);
				context$1$0.next = 5;
				return { value: value, key: key };

			case 5:
				key--;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

var StringIterator = {
	create: function create(value, start, desc) {
		var length = value.toNative().length;
		return (desc ? descIterator : ascIterator)(value, start, length);
	}
};

exports["default"] = StringIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":28}],352:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.isReserved = isReserved;
exports.isStrictReserved = isStrictReserved;
var keywords = {
	"es5": ["do", "if", "in", "for", "new", "try", "var", "case", "else", "enum", "null", "this", "true", "void", "with", "break", "catch", "class", "const", "false", "super", "throw", "while", "delete", "export", "import", "return", "switch", "typeof", "default", "extends", "finally", "continue", "debugger", "function", "instanceof"],

	"es5strict": ["implements", "let", "private", "public", "interface", "package", "protected", "static", "yield"]
};

function isReserved(name) {
	return keywords.es5.indexOf(name) >= 0;
}

function isStrictReserved(name) {
	return keywords.es5strict.indexOf(name) >= 0;
}
},{}],353:[function(require,module,exports){
"use strict";

require("core-js/fn/string/repeat");

require("core-js/fn/math/sign");

require("core-js/es6/promise");

require("core-js/es6/symbol");
},{"core-js/es6/promise":31,"core-js/es6/symbol":32,"core-js/fn/math/sign":33,"core-js/fn/string/repeat":34}],354:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("./utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function validateAssignment(left, strict) {
	if (strict && left.type === "Identifier") {
		contracts.assertIsValidName(left.name, true);
	}
}

var rules = {
	AssignmentExpression: function AssignmentExpression(node, strict) {
		validateAssignment(node.left, strict);
	},

	CatchClause: function CatchClause(node, strict) {
		contracts.assertIsValidName(node.param.name, strict);
	},

	Identifier: function Identifier(node, strict) {
		contracts.assertIsValidIdentifier(node.name, strict);
	},

	FunctionDeclaration: function FunctionDeclaration(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
		contracts.assertAreValidArguments(node.params, strict);
	},

	FunctionExpression: function FunctionExpression(node, strict) {
		if (node.id) {
			contracts.assertIsValidName(node.id.name, strict);
		}

		contracts.assertAreValidArguments(node.params, strict);
	},

	Literal: function Literal(node, strict) {
		if (strict && node.raw) {
			if (contracts.isOctalLiteral(node.raw, node.value)) {
				throw SyntaxError("Octal literals are not allowed in strict mode.");
			}
		}
	},

	UpdateExpression: function UpdateExpression(node, strict) {
		validateAssignment(node.argument, strict);
	},

	VariableDeclarator: function VariableDeclarator(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
	},

	WithStatement: function WithStatement(node, strict) {
		if (strict) {
			throw SyntaxError("Strict mode code may not include a with statement");
		}
	}
};

exports["default"] = rules;
module.exports = exports["default"];
},{"./utils/contracts":373,"babel-runtime/helpers/interop-require-wildcard":26}],355:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ArgumentType = (function (_ObjectType) {
	_inherits(ArgumentType, _ObjectType);

	function ArgumentType(callee) {
		_classCallCheck(this, ArgumentType);

		_get(Object.getPrototypeOf(ArgumentType.prototype), "constructor", this).call(this);
		this.className = "Arguments";
		this.parameterMap = _Object$create(null);
		this.callee = callee;
	}

	_createClass(ArgumentType, [{
		key: "mapProperty",
		value: function mapProperty(index, binding) {
			index = String(index);
			_get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).call(this, index, { configurable: true, enumerable: true, writable: true, value: undefined }, true);
			this.parameterMap[index] = binding;
		}
	}, {
		key: "getProperty",
		value: function getProperty(name) {
			var ownProperty = this.getOwnProperty(name);
			if (ownProperty) {
				return ownProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getProperty", this).call(this, name);
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(name) {
			name = String(name);

			if (name in this.parameterMap) {
				var mappedProperty = this.properties[name];
				var linkedProperty = this.parameterMap[name];

				mappedProperty.value = linkedProperty.getValue();
				mappedProperty.setValue = linkedProperty.setValue.bind(linkedProperty);
				return mappedProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getOwnProperty", this).call(this, name);
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			name = String(name);

			var allowed = _get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).apply(this, arguments);
			if (allowed && name in this.parameterMap) {
				if ("set" in descriptor || "get" in descriptor) {
					delete this.parameterMap[name];
				} else if ("value" in descriptor) {
					this.parameterMap[name].setValue(descriptor.value, throwOnError);
				}

				if ("writable" in descriptor && !descriptor.writable) {
					delete this.parameterMap[name];
				}
			}

			return allowed;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(name, throwOnError) {
			name = String(name);
			if (name in this.parameterMap) {
				delete this.parameterMap[name];
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "deleteProperty", this).apply(this, arguments);
		}
	}]);

	return ArgumentType;
})(_objectType.ObjectType);

exports.ArgumentType = ArgumentType;
},{"./object-type":364,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],356:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _iterators = require("../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../utils/async");

var ArrayType = (function (_ObjectType) {
	_inherits(ArrayType, _ObjectType);

	function ArrayType() {
		_classCallCheck(this, ArrayType);

		_get(Object.getPrototypeOf(ArrayType.prototype), "constructor", this).call(this);
		this.className = "Array";
	}

	_createClass(ArrayType, [{
		key: "init",
		value: function init(env) {
			_get(Object.getPrototypeOf(ArrayType.prototype), "init", this).apply(this, arguments);
			this.defineOwnProperty("length", { value: env.objectFactory.createPrimitive(0), writable: true });
		}
	}, {
		key: "setValue",
		value: function setValue(name, value) {
			if (name === "length") {
				return this.setLength({ value: value }, false);
			}

			return _get(Object.getPrototypeOf(ArrayType.prototype), "setValue", this).apply(this, arguments);
		}
	}, {
		key: "setIndex",
		value: function setIndex(key, value, descriptor, throwOnError) {
			descriptor = descriptor || { value: value, configurable: true, enumerable: true, writable: true };

			var index = Number(key);
			var lengthProperty = this.getProperty("length");
			var lengthValue = lengthProperty.getValue().toNative();

			if (!lengthProperty.canSetValue() && index >= lengthValue || !_get(Object.getPrototypeOf(ArrayType.prototype), "defineOwnProperty", this).call(this, key, descriptor)) {

				if (throwOnError) {
					throw TypeError("Cannot define property: " + key + ", object is not extensible.");
				}

				return false;
			}

			if (index >= lengthValue) {
				var newLength = this[_Symbol$for("env")].objectFactory.createPrimitive(index + 1);
				this.defineOwnProperty("length", { value: newLength });
			}

			return true;
		}
	}, {
		key: "setLength",
		value: function setLength(descriptor, throwOnError) {
			var env = this[_Symbol$for("env")];

			var newLengthValue = (0, _utilsAsync.exhaust)((0, _utilsNative.toUInt32)(descriptor.value));
			if (newLengthValue !== (0, _utilsAsync.exhaust)((0, _utilsNative.toNumber)(descriptor.value))) {
				throw RangeError("Array length out of range");
			}

			descriptor.value = env.objectFactory.createPrimitive(newLengthValue);
			var newLength = descriptor.value;
			var currentLength = this.getValue("length");
			contracts.assertIsValidArrayLength(newLength.toNative());

			if (newLength.toNative() >= currentLength.toNative()) {
				return _get(Object.getPrototypeOf(ArrayType.prototype), "defineOwnProperty", this).call(this, "length", descriptor, throwOnError);
			}

			var isWritable = this.getProperty("length").writable;
			if (isWritable === false) {
				if (throwOnError) {
					throw TypeError("Cannot redefine property: length");
				}

				return false;
			}

			var notWritable = "writable" in descriptor && !descriptor.writable;
			if (notWritable) {
				// set to writable in case removing items fails
				descriptor.writable = true;
			}

			var i = currentLength.toNative();
			if (!_get(Object.getPrototypeOf(ArrayType.prototype), "defineOwnProperty", this).call(this, "length", descriptor, throwOnError)) {
				return false;
			}

			var succeeded = true;

			if (i > newLength.toNative()) {
				var _iteratorNormalCompletion = true;
				var _didIteratorError = false;
				var _iteratorError = undefined;

				try {
					for (var _iterator = _getIterator(_iterators2["default"].reverse(this, i - 1, newLength.toNative())), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
						var key = _step.value.key;

						if (!this.deleteProperty(key, false)) {
							newLength = env.objectFactory.createPrimitive(key + 1);
							this.defineOwnProperty("length", { value: newLength });
							succeeded = false;
							break;
						}
					}
				} catch (err) {
					_didIteratorError = true;
					_iteratorError = err;
				} finally {
					try {
						if (!_iteratorNormalCompletion && _iterator["return"]) {
							_iterator["return"]();
						}
					} finally {
						if (_didIteratorError) {
							throw _iteratorError;
						}
					}
				}
			}

			if (notWritable) {
				this.defineOwnProperty("length", { writable: false });
			}

			if (!succeeded && throwOnError) {
				throw TypeError("Cannot redefine property: length");
			}

			return succeeded;
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			if (contracts.isInteger(name) && contracts.isValidArrayLength(Number(name) + 1) && !this.owns(name)) {
				return this.setIndex(name, null, descriptor, throwOnError);
			}

			if (name === "length" && "length" in this.properties && descriptor && "value" in descriptor) {
				return this.setLength(descriptor, throwOnError);
			}

			return _get(Object.getPrototypeOf(ArrayType.prototype), "defineOwnProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var arr = [];

			// this won't grab properties from the prototype - do we care?
			// it's an edge case but we may want to address it
			for (var index in this.properties) {
				if (this.properties[index].enumerable) {
					arr[Number(index)] = this.getValue(index).toNative();
				}
			}

			return arr;
		}
	}]);

	return ArrayType;
})(_objectType.ObjectType);

exports.ArrayType = ArrayType;
},{"../iterators":348,"../utils/async":372,"../utils/contracts":373,"../utils/native":375,"./object-type":364,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/helpers/interop-require-wildcard":26}],357:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var CollectionType = (function (_ObjectType) {
	_inherits(CollectionType, _ObjectType);

	function CollectionType(className) {
		_classCallCheck(this, CollectionType);

		_get(Object.getPrototypeOf(CollectionType.prototype), "constructor", this).call(this);
		this.className = className;
		this.data = [];
	}

	return CollectionType;
})(_objectType.ObjectType);

exports.CollectionType = CollectionType;
},{"./object-type":364,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],358:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var DateType = (function (_ObjectType) {
	_inherits(DateType, _ObjectType);

	function DateType(value) {
		_classCallCheck(this, DateType);

		_get(Object.getPrototypeOf(DateType.prototype), "constructor", this).call(this);
		this.value = value;
		this.type = "object";
		this.className = "Date";

		// 11.6.1 Note 1
		// All native ECMAScript objects except Date objects handle the absence of a hint as if the hint
		// Number were given; Date objects handle the absence of a hint as if the hint String were given.
		this.primitiveHint = "string";
	}

	_createClass(DateType, [{
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return DateType;
})(_objectType.ObjectType);

exports.DateType = DateType;
},{"./object-type":364,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],359:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ErrorType = (function (_ObjectType) {
	_inherits(ErrorType, _ObjectType);

	function ErrorType(source) {
		_classCallCheck(this, ErrorType);

		_get(Object.getPrototypeOf(ErrorType.prototype), "constructor", this).call(this);
		this.source = source;
		this.className = "Error";
	}

	_createClass(ErrorType, [{
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return ErrorType;
})(_objectType.ObjectType);

exports.ErrorType = ErrorType;
},{"./object-type":364,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],360:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _propertyDescriptor = require("./property-descriptor");

var _primitiveType = require("./primitive-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function getParameterLength(params) {
	for (var i = 0, ln = params.length; i < ln; i++) {
		// parameter length should only include the first "Formal" parameters
		if (params[i].type !== "Identifier") {
			return i;
		}
	}

	return params.length;
}

var FunctionType = (function (_ObjectType) {
	_inherits(FunctionType, _ObjectType);

	function FunctionType(node) {
		_classCallCheck(this, FunctionType);

		_get(Object.getPrototypeOf(FunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.className = "Function";
		this.native = false;
		this.node = node;

		this.arrow = node && node.type === "ArrowFunctionExpression";
		this.canConstruct = !this.arrow;

		this.boundScope = null;
		this.boundThis = null;
	}

	_createClass(FunctionType, [{
		key: "init",
		value: function init(env, proto, descriptor, strict) {
			_get(Object.getPrototypeOf(FunctionType.prototype), "init", this).apply(this, arguments);

			if (strict !== undefined) {
				this.strict = strict;
			}

			// set length property from the number of parameters
			this.defineOwnProperty("length", { value: env.objectFactory.createPrimitive(getParameterLength(this.node.params)) });

			if (!this.arrow) {
				// functions have a prototype
				proto = proto || env.objectFactory.createObject();
				this.defineOwnProperty("prototype", { value: proto, writable: true });

				// set the contructor property as an instance of itself
				proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });
			}
		}
	}, {
		key: "call",
		value: _regeneratorRuntime.mark(function call(thisArg, args, callee) {
			if (args === undefined) args = [];
			var self, env, scope;
			return _regeneratorRuntime.wrap(function call$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						self = this;
						env = this[_Symbol$for("env")];
						scope = env.createExecutionScope(this, thisArg);
						context$2$0.next = 5;
						return scope.loadArgs(this.node.params, args, this);

					case 5:
						scope.init(this.node && this.node.body);

						context$2$0.next = 8;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							var executionResult, shouldReturn;
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return env.createExecutionContext(self.node.body, callee).execute();

									case 2:
										executionResult = context$3$0.sent;
										shouldReturn = self.arrow || executionResult && executionResult.exit;

										if (!(shouldReturn && executionResult.result)) {
											context$3$0.next = 6;
											break;
										}

										return context$3$0.abrupt("return", executionResult.result);

									case 6:
										return context$3$0.abrupt("return", _primitiveType.UNDEFINED);

									case 7:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 8:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 9:
					case "end":
						return context$2$0.stop();
				}
			}, call, this);
		})
	}, {
		key: "construct",
		value: _regeneratorRuntime.mark(function construct(thisArg, args, callee) {
			if (args === undefined) args = [];
			var result;
			return _regeneratorRuntime.wrap(function construct$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (!thisArg || thisArg === this) {
							thisArg = this[_Symbol$for("env")].objectFactory.createObject(this);
						}

						context$2$0.next = 3;
						return this.call(thisArg, args, callee);

					case 3:
						result = context$2$0.sent;

						if (!(result && !result.isPrimitive)) {
							context$2$0.next = 6;
							break;
						}

						return context$2$0.abrupt("return", result);

					case 6:
						return context$2$0.abrupt("return", thisArg);

					case 7:
					case "end":
						return context$2$0.stop();
				}
			}, construct, this);
		})
	}, {
		key: "bindThis",
		value: function bindThis(thisArg) {
			this.boundThis = this.boundThis || thisArg;
		}
	}, {
		key: "bindScope",
		value: function bindScope(scope) {
			this.boundScope = scope;
		}
	}, {
		key: "isStrict",
		value: function isStrict() {
			if ("strict" in this) {
				return this.strict;
			}

			if (this.native) {
				return false;
			}

			return this.strict = contracts.isStrictNode(this.node.body.body);
		}

		// createScope (env, thisArg, isNew) {
		// 	// if a parent scope is defined we need to limit this scope to that scope
		// 	let priorScope = env.current.scope;

		// 	if (this.boundScope) {
		// 		env.setScope(this.boundScope.scope);
		// 	}

		// 	thisArg = this.boundThis || thisArg;
		// 	if (this.arrow) {
		// 		thisArg = env.getThisBinding();
		// 	}

		// 	let scope = env.createScope(thisArg, priorScope);
		// 	scope.priorScope = priorScope;
		// 	return scope;
		// }

	}, {
		key: "hasInstance",
		value: function hasInstance(obj) {
			if (obj === this) {
				// object obviously isn't an instance in this case
				return false;
			}

			var visited = [];
			var current = obj;

			var proto = this.getValue("prototype");
			if (contracts.isNullOrUndefined(proto) || !contracts.isObject(proto)) {
				throw TypeError("Function has non-object prototype in instanceof check");
			}

			while (current) {
				if (visited.indexOf(current) >= 0) {
					return false;
				}

				if (current === proto) {
					return true;
				}

				// keep a stack to avoid circular reference
				visited.push(current);
				current = current.getPrototype();
			}

			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return undefined;
		}
	}]);

	return FunctionType;
})(_objectType.ObjectType);

exports.FunctionType = FunctionType;
},{"../utils/contracts":373,"./object-type":364,"./primitive-type":365,"./property-descriptor":366,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],361:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var IteratorType = (function (_ObjectType) {
	_inherits(IteratorType, _ObjectType);

	function IteratorType(iterable) {
		var kind = arguments.length <= 1 || arguments[1] === undefined ? "key+value" : arguments[1];

		_classCallCheck(this, IteratorType);

		_get(Object.getPrototypeOf(IteratorType.prototype), "constructor", this).call(this);

		this.iterable = iterable;
		this.position = 0;
		this.className = "Iterator";
		this.kind = kind;
	}

	_createClass(IteratorType, [{
		key: "advance",
		value: function advance() {
			return this.iterable.next();
		}
	}]);

	return IteratorType;
})(_objectType.ObjectType);

exports.IteratorType = IteratorType;
},{"./object-type":364,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],362:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _functionType = require("./function-type");

var _propertyDescriptor = require("./property-descriptor");

var _primitiveType = require("./primitive-type");

var NativeFunctionType = (function (_FunctionType) {
	_inherits(NativeFunctionType, _FunctionType);

	function NativeFunctionType(fn) {
		_classCallCheck(this, NativeFunctionType);

		_get(Object.getPrototypeOf(NativeFunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.native = true;
		this.nativeFunction = fn;
	}

	_createClass(NativeFunctionType, [{
		key: "init",
		value: function init(env, proto, descriptor) {
			this[_Symbol$for("env")] = env;

			var length = this.nativeFunction.length;
			if ("nativeLength" in this.nativeFunction) {
				length = this.nativeFunction.nativeLength;
			}

			if ("strict" in this.nativeFunction) {
				this.strict = this.nativeFunction.strict;
			}

			this.defineOwnProperty("length", {
				value: env.objectFactory.createPrimitive(length),
				configurable: false,
				enumerable: false,
				writable: false
			});

			if (proto !== null) {
				proto = proto || env.objectFactory.createObject();
				proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });

				descriptor = descriptor || { configurable: false, enumerable: false, writable: true };
				var protoDescriptor = {
					value: proto,
					configurable: descriptor.configurable,
					enumerable: descriptor.enumerable,
					writable: descriptor.writable
				};

				this.defineOwnProperty("prototype", protoDescriptor);
			}
		}
	}, {
		key: "call",
		value: _regeneratorRuntime.mark(function call(thisArg, args, callee) {
			if (args === undefined) args = [];
			var env, self, scope;
			return _regeneratorRuntime.wrap(function call$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						callee = callee || this;
						env = this[_Symbol$for("env")];

						if (!thisArg) {
							if (this.strict || env.isStrict()) {
								thisArg = _primitiveType.UNDEFINED;
							} else {
								thisArg = env.global;
							}
						}

						self = this;
						scope = env.createExecutionScope(this, thisArg);
						context$2$0.next = 7;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return self.nativeFunction.apply(env.createExecutionContext(thisArg, callee), args);

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 7:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 8:
					case "end":
						return context$2$0.stop();
				}
			}, call, this);
		})
	}, {
		key: "construct",
		value: _regeneratorRuntime.mark(function construct(thisArg) {
			var args = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
			var self, env, scope;
			return _regeneratorRuntime.wrap(function construct$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						self = this;
						env = this[_Symbol$for("env")];
						scope = env.createExecutionScope(this, thisArg);
						context$2$0.next = 5;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return self.nativeFunction.apply(env.createExecutionContext(thisArg, self, true), args);

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 5:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 6:
					case "end":
						return context$2$0.stop();
				}
			}, construct, this);
		})
	}]);

	return NativeFunctionType;
})(_functionType.FunctionType);

exports.NativeFunctionType = NativeFunctionType;
},{"./function-type":360,"./primitive-type":365,"./property-descriptor":366,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24,"babel-runtime/regenerator":28}],363:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _primitiveType = require("./primitive-type");

var _functionType = require("./function-type");

var _nativeFunctionType = require("./native-function-type");

var _regexType = require("./regex-type");

var _arrayType = require("./array-type");

var _stringType = require("./string-type");

var _dateType = require("./date-type");

var _errorType = require("./error-type");

var _argumentType = require("./argument-type");

var _iteratorType = require("./iterator-type");

var _symbolType = require("./symbol-type");

var _collectionType = require("./collection-type");

var _proxyType = require("./proxy-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var orphans = _Object$create(null);
var functionNameMatcher = /([^.]+(?:\[Symbol\.\w+\])?)$/;

function setOrphans(scope) {
	var _loop = function (typeName) {
		var parent = scope.getValue(typeName);
		if (parent) {
			orphans[typeName].forEach(function (child) {
				child.setPrototype(parent.getValue("prototype"));
			});

			delete orphans[typeName];
		}
	};

	for (var typeName in orphans) {
		_loop(typeName);
	}

	orphans = _Object$create(null);
}

function setProto(typeName, instance, env) {
	if (!env.global || !env.global.owns(typeName)) {
		// during initialization it is possible for objects to be created
		// before the types have been registered - add a registry of items
		// and these can be filled in when the type is registered
		orphans[typeName] = orphans[typeName] || [];
		orphans[typeName].push(instance);

		return;
	}

	var proto = env.global.getValue(typeName).getValue("prototype");
	instance.setPrototype(proto);
}

var defaultDescriptor = { configurable: true, enumerable: true, writable: true };
function createDataPropertyDescriptor(value) {
	var _ref = arguments.length <= 1 || arguments[1] === undefined ? defaultDescriptor : arguments[1];

	var _ref$configurable = _ref.configurable;
	var configurable = _ref$configurable === undefined ? true : _ref$configurable;
	var _ref$enumerable = _ref.enumerable;
	var enumerable = _ref$enumerable === undefined ? true : _ref$enumerable;
	var _ref$writable = _ref.writable;
	var writable = _ref$writable === undefined ? true : _ref$writable;

	return { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
}

var ObjectFactory = (function () {
	function ObjectFactory(env) {
		_classCallCheck(this, ObjectFactory);

		this.env = env;
		this.options = env.options;
		this.ecmaVersion = env.options.ecmaVersion || 5;
	}

	_createClass(ObjectFactory, [{
		key: "init",
		value: function init() {
			setOrphans(this.env);
		}

		/**
   * Creates a primitive object based on the provided native value.
   * @param {any} value - The primitive value.
   * @returns {ObjectType} The primitive instance.
   */
	}, {
		key: "createPrimitive",
		value: function createPrimitive(value) {
			return this.create(contracts.getType(value), value);
		}

		/**
   * Creates an object based on the type specified. For a primitive type the second
   * parameter is used as the objects underlying value.
   * @param {String} typeName - The name of the object to create.
   * @param {any} [value] - The primitive value.
   * @returns {ObjectType} The new instance.
   */
	}, {
		key: "create",
		value: function create(typeName, value) {
			// the value is already wrapped in an object
			// this can happen if an exception is rethrown
			if (value && value instanceof _objectType.ObjectType) {
				return value;
			}

			var instance = undefined;

			switch (typeName) {
				case "Null":
					return _primitiveType.NULL;

				case "Undefined":
					return _primitiveType.UNDEFINED;

				case "Symbol":
					instance = new _symbolType.SymbolType(value);
					break;

				case "String":
					instance = new _stringType.StringType(value);
					break;

				case "Number":
				case "Boolean":
					instance = new _primitiveType.PrimitiveType(value);
					break;

				case "Date":
					instance = new _dateType.DateType(value);
					break;

				case "RegExp":
					instance = new _regexType.RegexType(value);
					break;

				case "Array":
					instance = new _arrayType.ArrayType();
					break;

				case "Set":
					instance = new _collectionType.CollectionType("Set");
					break;

				case "Map":
					instance = new _collectionType.CollectionType("Map");
					break;

				case "Error":
				case "TypeError":
				case "ReferenceError":
				case "SyntaxError":
				case "RangeError":
				case "URIError":
				case "EvalError":
					instance = new _errorType.ErrorType(value);

					if (value) {
						typeName = value.name || typeName;
						if (value.message) {
							var message = this.createPrimitive(value.message);
							instance.defineOwnProperty("message", createDataPropertyDescriptor(message, { enumerable: false }));
						}
					}

					break;

				default:
					throw Error("Not a primitive: " + value);
			}

			instance.init(this.env);
			setProto(typeName, instance, this.env);
			return instance;
		}

		/**
   * Creates an array object.
   * @param {ObjectType[]} [elements] - If provided, the elements will be added to the new array.
   * @returns {ArrayType} The array instance.
   */
	}, {
		key: "createArray",
		value: function createArray(elements) {
			var instance = this.create("Array");

			if (elements) {
				for (var i = 0, ln = elements.length; i < ln; i++) {
					instance.defineOwnProperty(i, createDataPropertyDescriptor(elements[i]), true, this.env);
				}
			}

			return instance;
		}

		/**
   * Creates an object.
   * @param {ObjectType} [proto] - The prototype to use with the new object. If no value is provided
   * the Object prototype will be used. If `null` is passed in, no prototype will be assigned to the
   * new object.
   * @returns {ObjectType} The object instance.
   */
	}, {
		key: "createObject",
		value: function createObject(proto) {
			var instance = new _objectType.ObjectType();

			if (proto !== null) {
				if (proto) {
					instance.setPrototype(proto.getValue("prototype"));
				} else {
					setProto("Object", instance, this.env);
				}
			}

			instance.init(this.env);
			return instance;
		}
	}, {
		key: "createProxy",
		value: function createProxy(target, handler) {
			contracts.assertIsObject(target, "Proxy");
			contracts.assertIsObject(handler, "Proxy");

			if (target.isProxy && target.revoked) {
				throw TypeError();
			}

			if (handler.isProxy && handler.revoked) {
				throw TypeError();
			}

			var instance = new _proxyType.ProxyType(target, handler);
			instance.init(this.env);
			return instance;
		}
	}, {
		key: "createArguments",
		value: function createArguments(args, callee, strict) {
			var instance = new _argumentType.ArgumentType();
			var objectClass = this.env.global.getValue("Object");

			instance.init(this.env, objectClass, objectClass.getPrototype());
			instance.setPrototype(objectClass.getValue("prototype"));

			if (strict) {
				var thrower = this.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
				instance.defineOwnProperty("callee", thrower);
				instance.defineOwnProperty("caller", thrower);
			} else {
				instance.defineOwnProperty("callee", {
					configurable: true,
					enumerable: false,
					value: callee,
					writable: true
				});
			}

			var stringTagKey = _symbolType.SymbolType.getByKey("toStringTag");
			if (stringTagKey) {
				instance.define(stringTagKey, this.createPrimitive("Arguments"));
			}

			return instance;
		}
	}, {
		key: "createIterator",
		value: function createIterator(iterable, proto) {
			var self = this;
			var instance = new _iteratorType.IteratorType(iterable);

			if (!proto) {
				proto = this.createObject();
				proto.className = "[Symbol.iterator]";
			}

			if (!proto.has("next")) {
				proto.define("next", this.createBuiltInFunction(function () {
					var result = this.node.advance();
					if (result.value) {
						return result.value;
					}

					return self.createIteratorResult({ done: true });
				}));
			}

			instance.setPrototype(proto);
			return instance;
		}
	}, {
		key: "createIteratorResult",
		value: function createIteratorResult(_ref2) {
			var value = _ref2.value;
			var _ref2$done = _ref2.done;
			var done = _ref2$done === undefined ? false : _ref2$done;

			var result = this.createObject();
			result.defineOwnProperty("done", { value: this.createPrimitive(done) });
			result.defineOwnProperty("value", { value: value || _primitiveType.UNDEFINED });
			return result;
		}

		/**
   * Creates a function instance.
   * @param {AST|Function} fnOrNode - The AST or function to be used when the function is called.
   * @param {ObjectType} [proto] - The prototype to use for the function. If no object is provided
   * an empty object is used.
   * @param {Object} [options] - Property values to be used for the prototype.
   * @returns {FunctionType} The function instance.
   */
	}, {
		key: "createFunction",
		value: function createFunction(fnOrNode, proto) {
			var _ref3 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref3$configurable = _ref3.configurable;
			var configurable = _ref3$configurable === undefined ? false : _ref3$configurable;
			var _ref3$enumerable = _ref3.enumerable;
			var enumerable = _ref3$enumerable === undefined ? false : _ref3$enumerable;
			var _ref3$writable = _ref3.writable;
			var writable = _ref3$writable === undefined ? true : _ref3$writable;
			var _ref3$strict = _ref3.strict;
			var strict = _ref3$strict === undefined ? false : _ref3$strict;
			var _ref3$name = _ref3.name;
			var name = _ref3$name === undefined ? "anonymous" : _ref3$name;

			var instance = undefined;

			if (typeof fnOrNode === "function") {
				instance = new _nativeFunctionType.NativeFunctionType(fnOrNode);
			} else {
				instance = new _functionType.FunctionType(fnOrNode);
			}

			instance.init(this.env, proto, { configurable: configurable, enumerable: enumerable, writable: writable }, strict);
			instance.name = name;

			if (this.options.ecmaVersion > 5) {
				instance.defineOwnProperty("name", { value: this.createPrimitive(name), configurable: true }, true, this.env);
			}

			setProto("Function", instance, this.env);
			return instance;
		}
	}, {
		key: "createGetter",
		value: function createGetter(func, key) {
			return this.createBuiltInFunction(func, 0, "get " + key);
		}
	}, {
		key: "createSetter",
		value: function createSetter(func, key) {
			return this.createBuiltInFunction(func, 1, "set " + key);
		}

		/**
   * Creates a function with no prototype that cannot be instantiated.
   * @param {Function} func - The underlying function.
   * @param {Number} length - The length property of the function.
   * @param {String} funcName - The name of the function.
   * @returns {NativeFunctionType} The function instance.
   */
	}, {
		key: "createBuiltInFunction",
		value: function createBuiltInFunction(func, length, funcName) {
			var instance = new _nativeFunctionType.NativeFunctionType(function () {
				if (this.isNew) {
					throw TypeError(funcName + " is not a constructor");
				}

				return func.apply(this, arguments);
			});

			setProto("Function", instance, this.env);
			instance[_Symbol$for("env")] = this.env;
			instance.builtIn = true;
			instance.canConstruct = false;
			instance.defineOwnProperty("length", { value: this.createPrimitive(length), configurable: this.ecmaVersion > 5 });

			var match = functionNameMatcher.exec(funcName);
			var name = match && match[1] || funcName;

			instance.defineOwnProperty("name", { value: this.createPrimitive(name), configurable: true }, true, this.env);

			return instance;
		}
	}, {
		key: "createThrower",
		value: function createThrower(message, thrower) {
			this.throwers = this.throwers || _Object$create(null);
			if (message in this.throwers) {
				return this.throwers[message];
			}

			thrower = thrower || function () {
				throw TypeError(message);
			};

			// we want to keep the same instance of the throwers because there
			// are silly tests that check for this
			var throwerInstance = this.createBuiltInFunction(thrower);
			return this.throwers[message] = {
				get: throwerInstance,
				getter: thrower,
				set: throwerInstance,
				setter: thrower,
				enumerable: false,
				configurable: false
			};
		}
	}]);

	return ObjectFactory;
})();

exports.ObjectFactory = ObjectFactory;
},{"../utils/contracts":373,"./argument-type":355,"./array-type":356,"./collection-type":357,"./date-type":358,"./error-type":359,"./function-type":360,"./iterator-type":361,"./native-function-type":362,"./object-type":364,"./primitive-type":365,"./proxy-type":367,"./regex-type":368,"./string-type":369,"./symbol-type":370,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/interop-require-wildcard":26}],364:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [propertyIterator].map(_regeneratorRuntime.mark);

var _utilsOperators = require("../utils/operators");

var _propertyDescriptor = require("./property-descriptor");

var integerMatcher = /^\n+$/;

function isSymbol(key) {
	return key && typeof key !== "string" && key.isSymbol;
}

function getPropertySource(key) {
	return isSymbol(key) ? "symbols" : "properties";
}

function propertyIterator(env, obj) {
	var visited, objectFactory, current, keys, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, key, desc, value;

	return _regeneratorRuntime.wrap(function propertyIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				visited = _Object$create(null);
				objectFactory = env.objectFactory;
				current = obj;

			case 3:
				if (!current) {
					context$1$0.next = 39;
					break;
				}

				keys = current.getOwnPropertyKeys("String");
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 8;
				_iterator = _getIterator(keys);

			case 10:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 22;
					break;
				}

				key = _step.value;
				desc = current.getProperty(key);

				if (!desc) {
					context$1$0.next = 19;
					break;
				}

				if (!(desc.enumerable && !(key in visited))) {
					context$1$0.next = 18;
					break;
				}

				value = objectFactory.createPrimitive(key);
				context$1$0.next = 18;
				return objectFactory.createIteratorResult({ value: value });

			case 18:

				visited[key] = true;

			case 19:
				_iteratorNormalCompletion = true;
				context$1$0.next = 10;
				break;

			case 22:
				context$1$0.next = 28;
				break;

			case 24:
				context$1$0.prev = 24;
				context$1$0.t0 = context$1$0["catch"](8);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 28:
				context$1$0.prev = 28;
				context$1$0.prev = 29;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 31:
				context$1$0.prev = 31;

				if (!_didIteratorError) {
					context$1$0.next = 34;
					break;
				}

				throw _iteratorError;

			case 34:
				return context$1$0.finish(31);

			case 35:
				return context$1$0.finish(28);

			case 36:

				current = current.getPrototype();
				context$1$0.next = 3;
				break;

			case 39:
				return context$1$0.abrupt("return", objectFactory.createIteratorResult({ done: true }));

			case 40:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[8, 24, 28, 36], [29,, 31, 35]]);
}

function propertyKeyComparer(a, b) {
	if (integerMatcher.test(a)) {
		if (integerMatcher.test(b)) {
			return a - b;
		}

		return 1;
	}

	if (integerMatcher.test(b)) {
		return -1;
	}

	return 0;
}

var ObjectType = (function () {
	function ObjectType() {
		_classCallCheck(this, ObjectType);

		this.isPrimitive = false;
		this.type = "object";
		this.className = "Object";
		this.extensible = true;
		this.properties = _Object$create(null);
		this.symbols = _Object$create(null);

		this.version = 0;
		this.primitiveHint = "number";
	}

	_createClass(ObjectType, [{
		key: "init",
		value: function init(env, proto, descriptor, strict) {
			this[_Symbol$for("env")] = env;
		}
	}, {
		key: "getPrototype",
		value: function getPrototype() {
			return this.proto;
		}
	}, {
		key: "setPrototype",
		value: function setPrototype(proto) {
			if (this.proto === proto) {
				return true;
			}

			if (!this.isExtensible()) {
				return false;
			}

			// check whether prototype chain already includes object
			var current = proto;
			while (current) {
				if (current === this) {
					return false;
				}

				current = current.getPrototype();
			}

			this.proto = proto;
			this.version++;

			return true;
		}
	}, {
		key: "getProperty",
		value: function getProperty(key, target) {
			target = target || this;

			var localKey = String(key);
			var source = getPropertySource(key);

			if (localKey in this[source]) {
				return this[source][localKey].bind(target);
			}

			var current = this.getPrototype();
			if (current) {
				return current.getProperty(key, target);
			}

			return undefined;
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(key) {
			return this[getPropertySource(key)][String(key)];
		}
	}, {
		key: "getOwnPropertyKeys",
		value: function getOwnPropertyKeys(keyType) {
			var keys = [];

			if (keyType !== "Symbol") {
				// note: this uses native sort which may not be stable
				keys = _Object$keys(this.properties).sort(propertyKeyComparer);
			}

			if (keyType !== "String") {
				for (var key in this.symbols) {
					keys.push(this.symbols[key].key);
				}
			}

			return keys;
		}
	}, {
		key: "isExtensible",
		value: function isExtensible() {
			return this.extensible;
		}
	}, {
		key: "getIterator",
		value: function getIterator() {
			var env = this[_Symbol$for("env")];
			return env.objectFactory.createIterator(propertyIterator(env, this));
		}
	}, {
		key: "has",
		value: function has(key) {
			if (String(key) in this[getPropertySource(key)]) {
				return true;
			}

			var current = this.getPrototype();
			if (current) {
				return current.has(key);
			}

			return false;
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return String(key) in this[getPropertySource(key)];
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, receiver) {
			receiver = receiver || this;

			var descriptor = this.getProperty(key);
			if (descriptor) {
				if (this !== receiver && receiver.owns(key)) {
					var receiverDescriptor = receiver.getProperty(key);
					if (!receiverDescriptor.dataProperty) {
						return false;
					}

					descriptor = receiverDescriptor;
				}

				if (descriptor.hasValue() && (0, _utilsOperators.areSame)(descriptor.getValue(), value)) {
					return true;
				}

				if (!descriptor.canSetValue()) {
					return false;
				}

				if (!descriptor.dataProperty) {
					descriptor.bind(receiver);
					descriptor.setValue(value);
					return true;
				}

				if (!descriptor.canUpdate({ value: value })) {
					return false;
				}

				if (!receiver.owns(key)) {
					return receiver.defineOwnProperty(key, {
						value: value,
						configurable: true,
						enumerable: true,
						writable: true
					}, false);
				}

				descriptor.setValue(value);
				return true;
			}

			return receiver.defineOwnProperty(key, {
				value: value,
				configurable: true,
				enumerable: true,
				writable: true
			}, false);
		}

		// putValue (key, value, throwOnError) {
		// 	if (this.isPrimitive) {
		// 		return;
		// 	}

		// 	let descriptor = this.getProperty(key);
		// 	if (descriptor) {
		// 		if (!descriptor.canSetValue()) {
		// 			if (throwOnError) {
		// 				throw TypeError(`Cannot assign to read only property '${key}'`);
		// 			}

		// 			return;
		// 		}

		// 		if (descriptor.dataProperty && !this.owns(key)) {
		// 			this[getPropertySource(key)][String(key)] = new PropertyDescriptor(this, {
		// 				value: value,
		// 				configurable: descriptor.configurable,
		// 				enumerable: descriptor.enumerable,
		// 				writable: descriptor.writable
		// 			}, key);

		// 			this.version++;
		// 		} else {
		// 			descriptor.setValue(value);
		// 		}
		// 	} else {
		// 		this.defineOwnProperty(key, { value: value, configurable: true, enumerable: true, writable: true }, throwOnError);
		// 	}
		// }

	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor, throwOnError) {
			if (this.isPrimitive) {
				if (throwOnError) {
					throw TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			var current = this.getOwnProperty(key);
			if (current) {
				if (current.canUpdate(descriptor)) {
					current.update(descriptor);
					return true;
				}

				if (throwOnError) {
					throw TypeError("Cannot redefine property: " + key);
				}

				return false;
			} else if (!this.extensible) {
				if (throwOnError) {
					throw TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor, key);
			this.version++;
			return true;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(key, throwOnError) {
			if (this.isPrimitive) {
				return false;
			}

			var source = getPropertySource(key);
			key = String(key);

			if (key in this[source]) {
				if (!this[source][key].configurable) {
					if (throwOnError) {
						throw TypeError("Cannot delete property: " + key);
					}

					return false;
				}
			}

			this.version++;
			return delete this[source][key];
		}
	}, {
		key: "define",
		value: function define(key, value) {
			var _ref = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref$configurable = _ref.configurable;
			var configurable = _ref$configurable === undefined ? true : _ref$configurable;
			var _ref$enumerable = _ref.enumerable;
			var enumerable = _ref$enumerable === undefined ? false : _ref$enumerable;
			var _ref$writable = _ref.writable;
			var writable = _ref$writable === undefined ? true : _ref$writable;
			var getter = _ref.getter;
			var get = _ref.get;
			var setter = _ref.setter;
			var set = _ref.set;

			// this method is intended for external usage only - it provides a way to define
			// methods and properties and overwrite any existing properties even if they are
			// not configurable

			var descriptor = undefined;
			if (getter || setter) {
				descriptor = { getter: getter, get: get, setter: setter, set: set, configurable: configurable, enumerable: enumerable };
			} else {
				descriptor = { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor, key);
			this.version++;
		}
	}, {
		key: "remove",
		value: function remove(key) {
			// this method is intended for external usage only - it provides a way to remove
			// properties even if they are not normally able to be deleted
			delete this[getPropertySource(key)][String(key)];
			this.version++;
		}
	}, {
		key: "getValue",
		value: function getValue(key) {
			if (arguments.length > 0) {
				var property = this.getProperty(key);
				return property && property.getValue();
			}

			return this;
		}
	}, {
		key: "each",
		value: function each(func) {
			var _this = this;

			["properties", "symbols"].forEach(function (source) {
				for (var key in _this[source]) {
					func(_this[source][key]);
				}
			});
		}
	}, {
		key: "freeze",
		value: function freeze() {
			var _this2 = this;

			this.each(function (desc) {
				if (desc.dataProperty) {
					_this2.defineOwnProperty(desc.key, { writable: false, configurable: false });
				} else {
					_this2.defineOwnProperty(desc.key, { configurable: false });
				}
			});

			this.preventExtensions();
		}
	}, {
		key: "preventExtensions",
		value: function preventExtensions() {
			this.extensible = false;
			return true;
		}
	}, {
		key: "seal",
		value: function seal() {
			var _this3 = this;

			this.each(function (desc) {
				_this3.defineOwnProperty(desc.key, { configurable: false }, true);
			});

			this.preventExtensions();
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var unwrapped = {};
			var current = this;

			while (current) {
				for (var _name in current.properties) {
					if (current.properties[_name].enumerable && !(_name in unwrapped)) {
						unwrapped[_name] = current.getValue(_name).toNative();
					}
				}

				current = current.getPrototype();
			}

			return unwrapped;
		}
	}]);

	return ObjectType;
})();

exports.ObjectType = ObjectType;
},{"../utils/operators":377,"./property-descriptor":366,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/object/create":9,"babel-runtime/core-js/object/keys":12,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/regenerator":28}],365:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var PrimitiveType = (function (_ObjectType) {
	_inherits(PrimitiveType, _ObjectType);

	function PrimitiveType(value) {
		_classCallCheck(this, PrimitiveType);

		_get(Object.getPrototypeOf(PrimitiveType.prototype), "constructor", this).call(this);

		this.isPrimitive = true;
		this.value = value;
		this.type = typeof value;

		this.className = contracts.getType(value);
	}

	_createClass(PrimitiveType, [{
		key: "getProperty",
		value: function getProperty(name) {
			// can't read properties of null/undefined
			if (this.value == null) {
				throw TypeError("Cannot read property '" + name + "' of " + this.type);
			}

			return _get(Object.getPrototypeOf(PrimitiveType.prototype), "getProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return PrimitiveType;
})(_objectType.ObjectType);

exports.PrimitiveType = PrimitiveType;
var UNDEFINED = new PrimitiveType(undefined);
exports.UNDEFINED = UNDEFINED;
var NULL = new PrimitiveType(null);
exports.NULL = NULL;
},{"../utils/contracts":373,"./object-type":364,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24,"babel-runtime/helpers/interop-require-wildcard":26}],366:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsOperators = require("../utils/operators");

var _utilsAsync = require("../utils/async");

var _utilsObject = require("../utils/object");

var defaultDescriptor = {
	configurable: false,
	enumerable: false,
	writable: false
};

var PropertyDescriptor = (function () {
	function PropertyDescriptor(base, config, key) {
		if (config === undefined) config = defaultDescriptor;

		_classCallCheck(this, PropertyDescriptor);

		this.base = base;
		this.configurable = config.configurable || false;
		this.enumerable = config.enumerable || false;
		this.key = key;

		if ("get" in config || "set" in config) {
			this.dataProperty = false;
			this.get = config.get;
			this.getter = config.getter;
			this.set = config.set;
			this.setter = config.setter;
		} else {
			this.writable = config.writable || false;
			this.dataProperty = true;
			this.value = config.value;
		}
	}

	_createClass(PropertyDescriptor, [{
		key: "bind",
		value: function bind(obj) {
			this.base = obj;
			return this;
		}
	}, {
		key: "update",
		value: function update(descriptor) {
			for (var prop in descriptor) {
				if ((0, _utilsObject.owns)(descriptor, prop)) {
					this[prop] = descriptor[prop];
				}
			}

			if ("get" in descriptor || "set" in descriptor) {
				this.writable = undefined;
				this.dataProperty = false;
				this.value = undefined;
			} else if ("value" in descriptor) {
				this.writable = this.writable === undefined ? false : this.writable;
				this.dataProperty = true;
				this.get = this.getter = this.set = this.setter = undefined;
			}
		}
	}, {
		key: "canUpdate",
		value: function canUpdate(descriptor) {
			if (this.configurable) {
				return true;
			}

			if ("configurable" in descriptor && this.configurable !== descriptor.configurable) {
				return false;
			}

			if ("enumerable" in descriptor && this.enumerable !== descriptor.enumerable) {
				return false;
			}

			if (("get" in descriptor || "set" in descriptor) && this.dataProperty) {
				return false;
			}

			if ("value" in descriptor && !this.dataProperty) {
				return false;
			}

			if (this.dataProperty) {
				if (!this.writable) {
					if (descriptor.writable) {
						return false;
					}

					return !("value" in descriptor) || (0, _utilsOperators.areSame)(this.value, descriptor.value);
				}

				return true;
			}

			if ("get" in descriptor && this.get !== descriptor.get) {
				return false;
			}

			if ("set" in descriptor && this.set !== descriptor.set) {
				return false;
			}

			return true;
		}
	}, {
		key: "getValue",
		value: function getValue() {
			if (this.dataProperty) {
				return this.value;
			}

			if (this.getter) {
				return (0, _utilsAsync.exhaust)(this.getter.call(this.base));
			}

			return undefined;
		}
	}, {
		key: "canSetValue",
		value: function canSetValue(value) {
			return this.writable || !!this.setter;
		}
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (!this.canSetValue()) {
				return;
			}

			if (this.dataProperty) {
				this.value = value;
			} else if (this.setter) {
				(0, _utilsAsync.exhaust)(this.setter.call(this.base, value));
			}
		}
	}, {
		key: "hasValue",
		value: function hasValue() {
			return !!this.value || !!this.getter;
		}
	}]);

	return PropertyDescriptor;
})();

exports.PropertyDescriptor = PropertyDescriptor;
},{"../utils/async":372,"../utils/object":376,"../utils/operators":377,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21}],367:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _primitiveType = require("./primitive-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

// import {execute as exec} from "../utils/func";

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

var _propertyDescriptor = require("./property-descriptor");

var envSymbol = _Symbol$for("env");

function getProxyMethod(proxy, key) {
	var handler = proxy.handler.getProperty(key);
	if (!handler) {
		return null;
	}

	var method = handler.getValue();
	if (contracts.isUndefined(method)) {
		return null;
	}

	contracts.assertIsFunction(method, key);
	return method;
}

function getValueOrDefault(obj, key) {
	var defaultValue = arguments.length <= 2 || arguments[2] === undefined ? _primitiveType.UNDEFINED : arguments[2];
	var transformer = arguments.length <= 3 || arguments[3] === undefined ? function (v) {
		return v;
	} : arguments[3];

	var propInfo = obj.getProperty(key);
	if (propInfo) {
		return transformer(propInfo.getValue());
	}

	return defaultValue;
}

function normalizeKey(env, key) {
	if (typeof key !== "object") {
		return env.objectFactory.createPrimitive(String(key));
	}

	return key;
}

function denormalizeKey(key) {
	if (key.isSymbol) {
		return key;
	}

	return key.toNative();
}

function toPropertyDescriptor(env, descriptor) {
	var result = env.objectFactory.createObject();
	if (descriptor.get || descriptor.set) {
		result.setValue("get", descriptor.get || _primitiveType.UNDEFINED);
		result.setValue("set", descriptor.set || _primitiveType.UNDEFINED);
	} else {
		result.setValue("value", descriptor.value);
		result.setValue("writable", env.objectFactory.createPrimitive(descriptor.writable));
	}

	result.setValue("enumerable", env.objectFactory.createPrimitive(descriptor.enumerable));
	result.setValue("configurable", env.objectFactory.createPrimitive(descriptor.configurable));
	return result;
}

function toCall(proxy, methodName) {
	var proxyMethod = getProxyMethod(proxy, "apply");
	if (contracts.isUndefined(proxyMethod)) {
		return proxy.target.getValue(methodName);
	}

	return proxy[envSymbol].objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
			args[_key - 1] = arguments[_key];
		}

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (methodName === "apply" && args.length > 0) {
						args = (0, _utilsNative.toArray)(args[0]);
					}

					context$2$0.next = 3;
					return proxy.call(thisArg, args);

				case 3:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype." + methodName);
}

function assertIsNotRevoked(proxy, methodName) {
	if (proxy.revoked) {
		throw TypeError("Method " + methodName + " called on a revoked Proxy object");
	}
}

function throwProxyInvariantError(methodName) {
	throw TypeError("Invariant check failed for proxy " + methodName + " trap");
}

var ProxyType = (function (_ObjectType) {
	_inherits(ProxyType, _ObjectType);

	function ProxyType(target, handler) {
		_classCallCheck(this, ProxyType);

		_get(Object.getPrototypeOf(ProxyType.prototype), "constructor", this).call(this);
		this.target = target;
		this.handler = handler;
		this.className = target.className;
		this.type = target.type;
		this.revoked = false;
		this.isProxy = true;
	}

	_createClass(ProxyType, [{
		key: "call",
		value: _regeneratorRuntime.mark(function call(thisArg, args) {
			var proxyMethod,
			    _target,
			    argsArray,
			    args$2$0 = arguments;

			return _regeneratorRuntime.wrap(function call$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						assertIsNotRevoked(this, "apply");

						proxyMethod = getProxyMethod(this, "apply");

						if (!contracts.isUndefined(proxyMethod)) {
							context$2$0.next = 6;
							break;
						}

						context$2$0.next = 5;
						return (_target = this.target).call.apply(_target, args$2$0);

					case 5:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 6:
						argsArray = this[envSymbol].objectFactory.createArray(args);
						context$2$0.next = 9;
						return proxyMethod.call(this.handler, [this.target, thisArg, argsArray]);

					case 9:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 10:
					case "end":
						return context$2$0.stop();
				}
			}, call, this);
		})
	}, {
		key: "construct",
		value: _regeneratorRuntime.mark(function construct(thisArg, args) {
			var proxyMethod,
			    _target2,
			    argsArray,
			    newObj,
			    args$2$0 = arguments;

			return _regeneratorRuntime.wrap(function construct$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						assertIsNotRevoked(this, "construct");

						proxyMethod = getProxyMethod(this, "construct");

						if (!contracts.isUndefined(proxyMethod)) {
							context$2$0.next = 6;
							break;
						}

						context$2$0.next = 5;
						return (_target2 = this.target).construct.apply(_target2, args$2$0);

					case 5:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 6:
						argsArray = this[envSymbol].objectFactory.createArray(args);
						context$2$0.next = 9;
						return proxyMethod.call(this.handler, [this.target, argsArray, this]);

					case 9:
						newObj = context$2$0.sent;

						if (!contracts.isObject(newObj)) {
							throwProxyInvariantError("construct");
						}

						return context$2$0.abrupt("return", newObj);

					case 12:
					case "end":
						return context$2$0.stop();
				}
			}, construct, this);
		})
	}, {
		key: "has",
		value: function has(key) {
			assertIsNotRevoked(this, "has");

			var proxyMethod = getProxyMethod(this, "has");
			if (!proxyMethod) {
				return this.target.has(key);
			}

			var env = this[envSymbol];
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key)])));
			if (!result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo) {
					if (!propInfo.configurable) {
						throwProxyInvariantError("has");
					}

					if (!this.target.isExtensible()) {
						throwProxyInvariantError("has");
					}
				}
			}

			return result;
		}
	}, {
		key: "owns",
		value: function owns(key) {
			return this.target.owns(key);
		}
	}, {
		key: "getProperty",
		value: function getProperty(key, target) {
			assertIsNotRevoked(this, "get");

			// special case for function types
			if (this.type === "function" && (key === "call" || key === "apply")) {
				return new _propertyDescriptor.PropertyDescriptor(this, { value: toCall(this, key) }, key);
			}

			var proxyMethod = getProxyMethod(this, "get");
			if (!proxyMethod) {
				return this.target.getProperty(key, target);
			}

			var env = this[envSymbol];
			var value = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key), this]));
			var propInfo = this.target.getProperty(key);
			if (propInfo && !propInfo.configurable) {
				var targetValue = propInfo.getValue();
				if (propInfo.dataProperty && !propInfo.writable && !env.ops.areSame(value, targetValue)) {
					throwProxyInvariantError("get");
				}

				if (!propInfo.dataProperty && contracts.isUndefined(propInfo.get) && !contracts.isUndefined(value)) {
					throwProxyInvariantError("get");
				}
			}

			return new _propertyDescriptor.PropertyDescriptor(this, { value: value }, key);
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(key) {
			assertIsNotRevoked(this, "getOwnPropertyDescriptor");

			var proxyMethod = getProxyMethod(this, "getOwnPropertyDescriptor");
			if (!proxyMethod) {
				return this.target.getOwnProperty(key);
			}

			var env = this[envSymbol];
			var descriptor = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key)]));
			if (descriptor.type !== "object" && descriptor.type !== "undefined") {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			var propInfo = this.target.getOwnProperty(key);
			var hasDescriptor = !!propInfo;
			var frozen = !this.target.isExtensible() || hasDescriptor && !propInfo.configurable;

			if (contracts.isUndefined(descriptor)) {
				if (frozen) {
					throwProxyInvariantError("getOwnPropertyDescriptor");
				}

				return undefined;
			}

			if (!hasDescriptor && frozen) {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			var enumerable = getValueOrDefault(descriptor, "enumerable", false, _utilsNative.toBoolean);
			var configurable = getValueOrDefault(descriptor, "configurable", false, _utilsNative.toBoolean);
			var writable = getValueOrDefault(descriptor, "writable", false, _utilsNative.toBoolean);
			var value = getValueOrDefault(descriptor, "value");
			var getter = getValueOrDefault(descriptor, "get", null);
			var setter = getValueOrDefault(descriptor, "set", null);

			if (!configurable && (!hasDescriptor || !frozen)) {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			var proxyDescriptor = undefined;
			if (getter || setter) {
				proxyDescriptor = { getter: getter, setter: setter, get: undefined, set: undefined, enumerable: enumerable, configurable: configurable };
			} else {
				proxyDescriptor = { value: value, enumerable: enumerable, configurable: configurable, writable: writable };
			}

			if (hasDescriptor && !propInfo.canUpdate(proxyDescriptor)) {
				throwProxyInvariantError("getOwnPropertyDescriptor");
			}

			return new _propertyDescriptor.PropertyDescriptor(this, proxyDescriptor, key);
		}
	}, {
		key: "getPrototype",
		value: function getPrototype() {
			assertIsNotRevoked(this, "getPrototypeOf");

			var proxyMethod = getProxyMethod(this, "getPrototypeOf");
			if (!proxyMethod) {
				return this.target.getPrototype();
			}

			var proto = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target]));
			if (!contracts.isObject(proto) && !contracts.isNull(proto)) {
				throwProxyInvariantError("getPrototypeOf");
			}

			if (this.target.isExtensible()) {
				return proto;
			}

			var targetProto = this.target.getPrototype();
			if (targetProto !== proto) {
				throwProxyInvariantError("getPrototypeOf");
			}

			return proto;
		}
	}, {
		key: "setPrototype",
		value: function setPrototype(proto) {
			assertIsNotRevoked(this, "setPrototypeOf");

			var proxyMethod = getProxyMethod(this, "setPrototypeOf");
			if (!proxyMethod) {
				return this.target.setPrototype(proto);
			}

			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, proto])));
			if (this.target.isExtensible()) {
				return result;
			}

			var targetProto = this.target.getPrototype();
			if (result && targetProto !== proto) {
				throwProxyInvariantError("setPrototypeOf");
			}

			return result;
		}
	}, {
		key: "isExtensible",
		value: function isExtensible() {
			assertIsNotRevoked(this, "isExtensible");

			var proxyMethod = getProxyMethod(this, "isExtensible");
			if (!proxyMethod) {
				return this.target.isExtensible();
			}

			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target])));
			var targetResult = this.target.isExtensible();

			if (result !== targetResult) {
				throwProxyInvariantError("isExtensible");
			}

			return result;
		}
	}, {
		key: "preventExtensions",
		value: function preventExtensions() {
			assertIsNotRevoked(this, "preventExtensions");

			var proxyMethod = getProxyMethod(this, "preventExtensions");
			if (!proxyMethod) {
				return this.target.preventExtensions();
			}

			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target])));
			if (result && this.target.isExtensible()) {
				throwProxyInvariantError("preventExtensions");
			}

			return result;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(key, throwOnError) {
			assertIsNotRevoked(this, "deleteProperty");

			var proxyMethod = getProxyMethod(this, "deleteProperty");
			if (contracts.isUndefined(proxyMethod)) {
				return this.target.deleteProperty(key, throwOnError);
			}

			var env = this[envSymbol];
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key)])));
			if (result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo && !propInfo.configurable) {
					throwProxyInvariantError("deleteProperty");
				}
			}

			return result;
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor, throwOnError) {
			assertIsNotRevoked(this, "defineProperty");

			var proxyMethod = getProxyMethod(this, "defineProperty");
			if (contracts.isUndefined(proxyMethod)) {
				var _target3;

				return (_target3 = this.target).defineOwnProperty.apply(_target3, arguments);
			}

			var env = this[envSymbol];
			var desc = toPropertyDescriptor(env, descriptor);
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target, normalizeKey(env, key), desc])));

			if (result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo) {
					if ("configurable" in descriptor && descriptor.configurable !== propInfo.configurable) {
						throwProxyInvariantError("defineProperty");
					}

					if (!propInfo.canUpdate(descriptor)) {
						throwProxyInvariantError("defineProperty");
					}
				} else if (!this.target.isExtensible() || descriptor.configurable === false) {
					throwProxyInvariantError("defineProperty");
				}
			}

			return result;
		}
	}, {
		key: "getOwnPropertyKeys",
		value: function getOwnPropertyKeys(keyType) {
			var _this = this;

			assertIsNotRevoked(this, "ownKeys");

			var proxyMethod = getProxyMethod(this, "ownKeys");
			if (contracts.isUndefined(proxyMethod)) {
				return this.target.getOwnPropertyKeys(keyType);
			}

			var proxyKeys = (0, _utilsAsync.exhaust)((0, _utilsNative.toArray)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target]))));
			var rawKeys = proxyKeys.map(denormalizeKey);
			var targetKeys = this.target.getOwnPropertyKeys();

			if (!this.target.isExtensible()) {
				if (rawKeys.length !== targetKeys.length) {
					throwProxyInvariantError("ownKeys");
				}

				if (targetKeys.some(function (k) {
					return rawKeys.indexOf(k) === -1;
				})) {
					throwProxyInvariantError("ownKeys");
				}
			} else {
				var fixedKeys = targetKeys.filter(function (k) {
					return !_this.target.getProperty(k).configurable;
				});
				if (fixedKeys.length > 0) {
					if (fixedKeys.some(function (k) {
						return rawKeys.indexOf(k) === -1;
					})) {
						throwProxyInvariantError("ownKeys");
					}
				}
			}

			return rawKeys;
		}
	}, {
		key: "getIterator",
		value: function getIterator() {
			assertIsNotRevoked(this, "enumerate");

			var proxyMethod = getProxyMethod(this, "enumerate");
			if (contracts.isUndefined(proxyMethod)) {
				return this.target.getIterator();
			}

			var result = (0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, [this.target]));
			if (!contracts.isObject(result)) {
				throwProxyInvariantError("enumerate");
			}

			return result;
		}
	}, {
		key: "setValue",
		value: function setValue(key, value) {
			assertIsNotRevoked(this, "set");

			var proxyMethod = getProxyMethod(this, "set");
			if (contracts.isUndefined(proxyMethod)) {
				var _target4;

				return (_target4 = this.target).setValue.apply(_target4, arguments);
			}

			var env = this[envSymbol];
			var args = [this.target, normalizeKey(env, key), value, this];
			var result = (0, _utilsNative.toBoolean)((0, _utilsAsync.exhaust)(proxyMethod.call(this.handler, args)));
			if (result) {
				var propInfo = this.target.getProperty(key);
				if (propInfo && !propInfo.configurable) {
					var targetValue = propInfo.getValue();
					if (propInfo.dataProperty && !propInfo.writable && !env.ops.areSame(value, targetValue)) {
						throwProxyInvariantError("set");
					}

					if (!propInfo.dataProperty && contracts.isUndefined(propInfo.set)) {
						throwProxyInvariantError("set");
					}
				}
			}

			return result;
		}
	}, {
		key: "revoke",
		value: function revoke() {
			this.revoked = true;
		}
	}]);

	return ProxyType;
})(_objectType.ObjectType);

exports.ProxyType = ProxyType;
},{"../utils/async":372,"../utils/contracts":373,"../utils/native":375,"./object-type":364,"./primitive-type":365,"./property-descriptor":366,"babel-runtime/core-js/symbol/for":17,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],368:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var RegexType = (function (_ObjectType) {
	_inherits(RegexType, _ObjectType);

	function RegexType(value) {
		_classCallCheck(this, RegexType);

		_get(Object.getPrototypeOf(RegexType.prototype), "constructor", this).call(this);
		this.source = value;
		this.className = "RegExp";
	}

	_createClass(RegexType, [{
		key: "init",
		value: function init(env) {
			var _this = this;

			_get(Object.getPrototypeOf(RegexType.prototype), "init", this).apply(this, arguments);

			// lastIndex is settable, all others are read-only attributes
			this.defineOwnProperty("lastIndex", { value: env.objectFactory.createPrimitive(this.source.lastIndex), writable: true });

			["source", "global", "ignoreCase", "multiline"].forEach(function (key) {
				if (env.options.ecmaVersion > 5) {
					var getter = function getter() {
						return objectFactory.createPrimitive(this.source[key]);
					};
					var getterFunc = objectFactory.createGetter(getter, key);

					_this.defineOwnProperty(key, {
						getter: getter,
						get: getterFunc,
						configurable: true
					});
				} else {
					_this.defineOwnProperty(key, { value: env.objectFactory.createPrimitive(_this.source[key]) });
				}
			});
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return RegexType;
})(_objectType.ObjectType);

exports.RegexType = RegexType;
},{"./object-type":364,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],369:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _primitiveType = require("./primitive-type");

var _propertyDescriptor = require("./property-descriptor");

var StringType = (function (_PrimitiveType) {
	_inherits(StringType, _PrimitiveType);

	function StringType(value) {
		_classCallCheck(this, StringType);

		_get(Object.getPrototypeOf(StringType.prototype), "constructor", this).call(this, value);
	}

	_createClass(StringType, [{
		key: "init",
		value: function init(env) {
			_get(Object.getPrototypeOf(StringType.prototype), "init", this).apply(this, arguments);
			var length = this.value.length;

			this.properties.length = new _propertyDescriptor.PropertyDescriptor(this, {
				configurable: false,
				enumerable: false,
				writable: false,
				value: env.objectFactory.createPrimitive(length)
			});

			// todo: do this lazily
			var charAttrs = { writable: false, enumerable: true, configurable: false };
			for (var i = 0; i < length; i++) {
				// we are not using the object factory to avoid circular loop
				var c = new StringType(this.value.charAt(i));
				c.setPrototype(this.getProperty());
				c.define("0", c, charAttrs);

				this.define(i, c, charAttrs);
			}
		}
	}]);

	return StringType;
})(_primitiveType.PrimitiveType);

exports.StringType = StringType;
},{"./primitive-type":365,"./property-descriptor":366,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],370:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var GLOBAL_SYMBOL_REGISTRY = _Object$create(null);
var uid = 0;

var SymbolType = (function (_ObjectType) {
	_inherits(SymbolType, _ObjectType);

	function SymbolType(description) {
		_classCallCheck(this, SymbolType);

		_get(Object.getPrototypeOf(SymbolType.prototype), "constructor", this).call(this);
		this.type = "symbol";
		this.className = "Symbol";
		this.description = description;
		this.uid = uid++;

		// add so we can easily check if an object is a symbol when we care
		this.isSymbol = true;
	}

	_createClass(SymbolType, [{
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor) {
			return false;
		}
	}, {
		key: "setValue",
		value: function setValue(key, value, target) {
			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return "Symbol(" + this.description + ")";
		}
	}, {
		key: "toString",
		value: function toString() {
			// this method is here so symbols can be coerced into strings for property lookups
			return "@@" + this.uid;
		}
	}], [{
		key: "add",
		value: function add(key, sym) {
			GLOBAL_SYMBOL_REGISTRY[key] = sym;
		}
	}, {
		key: "getByKey",
		value: function getByKey(key) {
			return GLOBAL_SYMBOL_REGISTRY[key];
		}
	}, {
		key: "getByInstance",
		value: function getByInstance(sym) {
			for (var key in GLOBAL_SYMBOL_REGISTRY) {
				if (sym === GLOBAL_SYMBOL_REGISTRY[key]) {
					return GLOBAL_SYMBOL_REGISTRY[key];
				}
			}

			return undefined;
		}
	}]);

	return SymbolType;
})(_objectType.ObjectType);

exports.SymbolType = SymbolType;
},{"./object-type":364,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/class-call-check":20,"babel-runtime/helpers/create-class":21,"babel-runtime/helpers/get":23,"babel-runtime/helpers/inherits":24}],371:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.declare = declare;
exports.assign = assign;
var marked0$0 = [declare, assign, destructure, handleDefault, destructureArray, getObjectKey, destructureObject].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

var _async = require("./async");

var _native = require("./native");

function declare(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function declare$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(leftNode.type === "Identifier")) {
					context$1$0.next = 5;
					break;
				}

				left = env.createVariable(leftNode.name);

				left.setValue(rightValue);
				context$1$0.next = 7;
				break;

			case 5:
				context$1$0.next = 7;
				return destructure(env, leftNode, rightValue, declare);

			case 7:
				return context$1$0.abrupt("return", rightValue);

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function assign(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function assign$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "Identifier" ? 3 : context$1$0.t0 === "MemberExpression" ? 3 : 8;
				break;

			case 3:
				context$1$0.next = 5;
				return env.createExecutionContext(leftNode).execute();

			case 5:
				left = context$1$0.sent.result;

				left.setValue(rightValue, env.isStrict());
				return context$1$0.abrupt("break", 10);

			case 8:
				context$1$0.next = 10;
				return destructure(env, leftNode, rightValue, assign);

			case 10:
				return context$1$0.abrupt("return", rightValue);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function destructure(env, leftNode, rightValue, cb) {
	return _regeneratorRuntime.wrap(function destructure$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "ArrayPattern" ? 3 : context$1$0.t0 === "ObjectPattern" ? 6 : context$1$0.t0 === "AssignmentPattern" ? 9 : 12;
				break;

			case 3:
				context$1$0.next = 5;
				return destructureArray(env, leftNode, rightValue, cb);

			case 5:
				return context$1$0.abrupt("break", 13);

			case 6:
				context$1$0.next = 8;
				return destructureObject(env, leftNode, rightValue, cb);

			case 8:
				return context$1$0.abrupt("break", 13);

			case 9:
				context$1$0.next = 11;
				return handleDefault(env, leftNode, rightValue, cb);

			case 11:
				return context$1$0.abrupt("break", 13);

			case 12:
				throw Error(leftNode.type + " not implemented");

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function handleDefault(env, left, rightValue, cb) {
	var defaultValue;
	return _regeneratorRuntime.wrap(function handleDefault$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(rightValue === _typesPrimitiveType.UNDEFINED)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(left.right).execute();

			case 3:
				defaultValue = context$1$0.sent;

				rightValue = defaultValue.result.getValue();

			case 5:
				context$1$0.next = 7;
				return cb(env, left.left, rightValue);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function destructureArray(env, pattern, arr, cb) {
	return _regeneratorRuntime.wrap(function destructureArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.elements, _regeneratorRuntime.mark(function callee$1$0(current, index) {
					var propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								propInfo = arr.getProperty(index);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 4;
								return cb(env, current, value);

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function getObjectKey(env, keyNode) {
	var key;
	return _regeneratorRuntime.wrap(function getObjectKey$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!keyNode.computed) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(keyNode).execute();

			case 3:
				key = context$1$0.sent.result.getValue();

				if (!key.isSymbol) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", key);

			case 6:
				context$1$0.next = 8;
				return (0, _native.toString)(key);

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
				return context$1$0.abrupt("return", keyNode.name);

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function destructureObject(env, pattern, obj, cb) {
	return _regeneratorRuntime.wrap(function destructureObject$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.properties, _regeneratorRuntime.mark(function callee$1$0(current) {
					var key, propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return getObjectKey(env, current.key);

							case 2:
								key = context$2$0.sent;
								propInfo = obj.getProperty(key);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 7;
								return cb(env, current.value, value);

							case 7:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}
},{"../types/primitive-type":365,"./async":372,"./native":375,"babel-runtime/regenerator":28}],372:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.map = map;
exports.each = each;
exports.step = step;
exports.exhaust = exhaust;
exports.promisify = promisify;
var marked0$0 = [map, each, step].map(_regeneratorRuntime.mark);

require("../polyfills");

var objectOrFunctionTypes = { "object": true, "function": true };
function isObjectOrFunction(obj) {
	return obj && typeof obj in objectOrFunctionTypes;
}

function isThenable(obj) {
	return isObjectOrFunction(obj) && typeof obj.then === "function";
}

function isNextable(obj) {
	return isObjectOrFunction(obj) && typeof obj.next === "function";
}

function map(arr, func) {
	var mapped;
	return _regeneratorRuntime.wrap(function map$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				mapped = [];
				return context$1$0.delegateYield(each(arr, _regeneratorRuntime.mark(function callee$1$0() {
					var args$2$0 = arguments;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.t0 = mapped;
								return context$2$0.delegateYield(func.apply(undefined, args$2$0), "t1", 2);

							case 2:
								context$2$0.t2 = context$2$0.t1;
								context$2$0.t0.push.call(context$2$0.t0, context$2$0.t2);

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 2);

			case 2:
				return context$1$0.abrupt("return", mapped);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function each(arr, func) {
	var aborted, aborter, i, ln;
	return _regeneratorRuntime.wrap(function each$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				aborted = false;

				aborter = function aborter() {
					aborted = true;
				};

				i = 0, ln = arr.length;

			case 3:
				if (!(!aborted && i < ln)) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(func(arr[i], i, arr, aborter), "t0", 5);

			case 5:
				i++;
				context$1$0.next = 3;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function step(it, prev) {
	var result, value;
	return _regeneratorRuntime.wrap(function step$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = it.next(prev);
				value = result.value;

				if (!isNextable(value)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(step(value), "t0", 4);

			case 4:
				context$1$0.next = 9;
				break;

			case 6:
				if (!isThenable(value)) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 9;
				return value.then(function (res) {
					return it;
				});

			case 9:
				if (!result.done) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 13:
				context$1$0.next = 15;
				return step(it, value);

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function tryCatch(it, priorValue, method) {
	try {
		var _it$method = it[method](priorValue);

		var done = _it$method.done;
		var value = _it$method.value;

		return { state: "next", done: done, value: value };
	} catch (err) {
		return { state: "throw", value: err };
	}
}

/**
 * Fully exhausts an iterator, including delegated generators.
 * Special handling is taken if a Promise is returned, pausing
 * the generator until the promise is resolved.
 *
 * @param {Iterator} [it] - The iterator
 * @param {Object} [value] - The previous iteration value (internal)
 * @param {Array<Iterator>} [stack] - The stack of iterators (internal)
 * @returns {Object|Promise} Returns the final value, or a Promise if
 * at any point in the iteration a Promise is returned.
 */

function exhaust(it, value) {
	var stack = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];

	var state = "next";

	while (it) {
		if (!isNextable(it)) {
			value = it;

			if (!(it = stack.pop())) {
				break;
			}
		}

		var done = undefined;

		var _tryCatch = tryCatch(it, value, state);

		state = _tryCatch.state;
		done = _tryCatch.done;
		value = _tryCatch.value;

		if (state === "throw") {
			if (it = stack.pop()) {
				continue;
			}

			throw value;
		}

		if (isNextable(value)) {
			stack.push(it);

			it = value;
			value = undefined;

			continue;
		}

		if (isThenable(value)) {
			return value.then(function (res) {
				return exhaust(it, res, stack);
			}, function (err) {
				return it["throw"](err);
			});
		}

		if (done) {
			it = stack.pop();
		}
	}

	return value;
}

/**
 * Normalizes a result into a promise, whether it is a generator, promise,
 * or normal value.
 *
 * @param {Iterator} [it] - The iterator.
 * @returns {Promise} A promise which resolves or rejects based on the result.
 */

function promisify(it) {
	try {
		var result = exhaust(it);
		if (isNextable(result)) {
			return result;
		}

		return _Promise.resolve(result);
	} catch (err) {
		if (typeof err === "object" && typeof err.toNative === "function") {
			err = err.toNative();
		}

		return _Promise.reject(err);
	}
}
},{"../polyfills":353,"babel-runtime/core-js/promise":14,"babel-runtime/regenerator":28}],373:[function(require,module,exports){
"use strict";

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.assertIsObject = assertIsObject;
exports.assertIsNotNullOrUndefined = assertIsNotNullOrUndefined;
exports.assertArgIsNotNullOrUndefined = assertArgIsNotNullOrUndefined;
exports.assertIsFunction = assertIsFunction;
exports.assertIsNotConstructor = assertIsNotConstructor;
exports.assertIsConstructor = assertIsConstructor;
exports.assertIsValidArrayLength = assertIsValidArrayLength;
exports.assertIsValidAssignment = assertIsValidAssignment;
exports.assertIsValidParameterName = assertIsValidParameterName;
exports.assertIsValidName = assertIsValidName;
exports.assertIsNotGeneric = assertIsNotGeneric;
exports.assertIsValidIdentifier = assertIsValidIdentifier;
exports.assertAreValidArguments = assertAreValidArguments;
exports.assertIsMap = assertIsMap;
exports.assertIsSet = assertIsSet;
exports.isValidArrayLength = isValidArrayLength;
exports.isObject = isObject;
exports.isRegExp = isRegExp;
exports.isNumber = isNumber;
exports.isOctalLiteral = isOctalLiteral;
exports.getType = getType;
exports.isNullOrUndefined = isNullOrUndefined;
exports.isUndefined = isUndefined;
exports.isNull = isNull;
exports.isFunction = isFunction;
exports.isConstructor = isConstructor;
exports.isInteger = isInteger;
exports.isStrictNode = isStrictNode;

var _keywords = require("../keywords");

var _typesSymbolType = require("../types/symbol-type");

var _native = require("./native");

var objectPattern = /\[object (\w+)\]/;
var integerPattern = /^-?\d+$/;
var octalPattern = /^-?0[0-7]/;
var octalEscapePattern = /^([^\\]|\\[^0-7])*\\([0-3][0-7]{1,2}|[4-7][0-7]|[0-7])/;
var useStrictPattern = /^\s*(?:'use strict'|"use strict")\s*;?\s*$/;

function assertIsObject(obj, methodName) {
	if (!isObject(obj)) {
		throw TypeError(methodName + " called on non-object");
	}
}

function assertIsNotNullOrUndefined(value, methodName) {
	if (isNullOrUndefined(value)) {
		throw TypeError(methodName + " called on null or undefined");
	}
}

function assertArgIsNotNullOrUndefined(obj) {
	if (isNullOrUndefined(obj)) {
		throw TypeError("Cannot convert null or undefined to object");
	}
}

function assertIsFunction(obj, argName) {
	if (!isFunction(obj)) {
		throw TypeError(argName + " is not a function");
	}
}

function assertIsNotConstructor(context, methodName) {
	if (context.isNew) {
		throw TypeError(methodName + " is not a constructor");
	}
}

function assertIsConstructor(context, methodName) {
	if (!context.isNew) {
		throw TypeError(methodName + " must be called with 'new'");
	}
}

function assertIsValidArrayLength(length) {
	if (!isValidArrayLength(length)) {
		throw RangeError("Invalid array length");
	}
}

function assertIsValidAssignment(left, strict) {
	if (left && !left.isReference) {
		throw ReferenceError("Invalid left-hand side in assignment");
	}

	if (left && left.base === left.env.global) {
		assertIsValidName(left.name, strict);
	}
}

function assertIsValidParameterName(name, strict) {
	if (/^\d|[;\(\)"']/.test(name)) {
		throw SyntaxError("Unexpected token in " + name);
	}

	assertIsValidName(name, strict);
}

function assertIsValidName(name, strict) {
	if (strict && (name === "arguments" || name === "eval")) {
		throw SyntaxError("Unexpected eval or arguments in strict mode");
	}
}

function assertIsNotGeneric(obj, expectedClass, methodName) {
	if (!obj || obj.className !== expectedClass) {
		throw TypeError(methodName + " is not generic");
	}
}

function assertIsValidIdentifier(name, strict) {
	if ((0, _keywords.isReserved)(name)) {
		throw SyntaxError("Illegal use of reserved keyword: " + name);
	}

	if (strict && (0, _keywords.isStrictReserved)(name)) {
		throw SyntaxError("Illegal use of strict mode reserved keyword: " + name);
	}
}

function assertAreValidArguments(params, strict) {
	params.forEach(function (param, index) {
		assertIsValidParameterName(param.name, strict);

		if (strict) {
			if (params.some(function (p, i) {
				return index !== i && param.name === p.name;
			})) {
				throw SyntaxError("Strict mode function may not have duplicate parameter names");
			}
		}
	});
}

function assertIsMap(obj, methodName) {
	if (!obj || obj.className !== "Map") {
		throw TypeError("The object must be a map when calling " + methodName);
	}
}

function assertIsSet(obj, methodName) {
	if (!obj || obj.className !== "Set") {
		throw TypeError("The object must be a set when calling " + methodName);
	}
}

function isValidArrayLength(length) {
	return isInteger(length) && length >= 0 && length < 4294967296;
}

function isObject(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isSymbol) {
		return false;
	}

	if (obj.isPrimitive) {
		return obj.value && obj.type === "object";
	}

	return true;
}

function isRegExp(obj) {
	if (!isObject(obj)) {
		return false;
	}

	var matchKey = _typesSymbolType.SymbolType.getByKey("match");
	var matchProp = obj.getProperty(matchKey);
	if (matchProp) {
		var matchValue = matchProp.getValue();
		if (!isUndefined(matchValue)) {
			return (0, _native.toBoolean)(matchValue);
		}
	}

	return obj.className === "RegExp";
}

function isNumber(obj) {
	return obj && obj.type === "number";
}

function isOctalLiteral(rawValue, actualValue) {
	if (typeof actualValue === "number" && octalPattern.test(rawValue)) {
		return true;
	}

	if (typeof actualValue === "string") {
		var match = rawValue.match(octalEscapePattern);
		if (match) {
			// \0 is actually not considered an octal
			if (match[2] !== "0" || typeof match[3] !== "undefined") {
				return true;
			}
		}
	}

	return false;
}

function getType(obj) {
	return objectPattern.exec(Object.prototype.toString.call(obj))[1];
}

function isNullOrUndefined(obj) {
	return isUndefined(obj) || isNull(obj);
}

function isUndefined(obj) {
	return !obj || obj.isPrimitive && obj.value === undefined;
}

function isNull(obj) {
	return obj && obj.isPrimitive && obj.value === null;
}

function isFunction(obj) {
	return !!obj && obj.className === "Function";
}

function isConstructor(obj) {
	if (!isFunction(obj)) {
		return false;
	}

	return obj.canConstruct;
}

function isInteger(value) {
	if (typeof value === "string") {
		return integerPattern.test(value);
	}

	if (typeof value === "number") {
		return isFinite(value) && Math.floor(value) === value;
	}

	return false;
}

function isDirective(node) {
	return node.type === "ExpressionStatement" && node.expression.type === "Literal" && typeof node.expression.value === "string";
}

function isStrictNode(_x) {
	var _again = true;

	_function: while (_again) {
		var nodes = _x;
		_iteratorNormalCompletion = _didIteratorError = _iteratorError = undefined;
		_again = false;

		if (!nodes) {
			return false;
		}

		if (Array.isArray(nodes)) {
			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = _getIterator(nodes), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var node = _step.value;

					if (!isDirective(node)) {
						return false;
					}

					if (node.expression.value === "use strict" && useStrictPattern.test(node.expression.raw)) {
						return true;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return false;
		}

		if (nodes.body) {
			_x = nodes.body;
			_again = true;
			continue _function;
		}

		return false;
	}
}
},{"../keywords":352,"../types/symbol-type":370,"./native":375,"babel-runtime/core-js/get-iterator":3}],374:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.execute = execute;
exports.construct = construct;
exports.call = call;
exports.tryExecute = tryExecute;
var marked0$0 = [execute, construct, call, tryExecute].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function execute(env, fn, args, thisArg, callee, isNew) {
	var returnResult;
	return _regeneratorRuntime.wrap(function execute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				callee = callee || fn;
				context$1$0.next = 3;
				return fn[isNew ? "construct" : "call"](thisArg, args, callee);

			case 3:
				returnResult = context$1$0.sent;
				return context$1$0.abrupt("return", returnResult || _typesPrimitiveType.UNDEFINED);

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function construct(env, fn) {
	var args = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
	var callee;
	return _regeneratorRuntime.wrap(function construct$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				callee = fn.node || fn;
				context$1$0.next = 3;
				return execute(env, fn, args, null, callee, true);

			case 3:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function call(env, fn, params, args, thisArg, callee) {
	return _regeneratorRuntime.wrap(function call$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return fn.call(thisArg, args, callee);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

// let scope = env.createExecutionScope(fn, thisArg);
// yield scope.loadArgs(params, args, fn);
// scope.init(fn.node && fn.node.body);

// return yield scope.use(function* () {
// 	return yield fn.call(env, thisArg, args, callee);
// 	// if (fn.native) {
// 	// 	return yield fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee), args);
// 	// }

// 	// return yield env.createExecutionContext(fn.node.body, callee).execute();
// });

function tryExecute(obj, name) {
	var args = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
	var fn, executionResult;
	return _regeneratorRuntime.wrap(function tryExecute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				fn = obj.getProperty(name);

				if (fn) {
					context$1$0.next = 3;
					break;
				}

				return context$1$0.abrupt("return", false);

			case 3:

				fn = fn.getValue();

				if (!(fn && fn.className === "Function")) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 7;
				return fn.call(obj, args, fn);

			case 7:
				executionResult = context$1$0.sent;
				return context$1$0.abrupt("return", executionResult ? executionResult.getValue() : _typesPrimitiveType.UNDEFINED);

			case 9:
				return context$1$0.abrupt("return", false);

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

// // let f = fn.node || fn;
// // let params = f.params || [];

// let scope = env.createExecutionScope(fn, thisArg);
// // let returnResult;

// // if (isNew) {
// // 	returnResult = thisArg;
// // }

// // yield scope.loadArgs(params, args, fn);
// // scope.init(fn.node && fn.node.body);

// let returnResult = yield scope.use(function* () {
// 	return yield fn[isNew ? "construct" : "call"](env, thisArg, args, callee);

// 	// if (fn.native) {
// 	// 	return yield fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee, isNew), args) || returnResult;
// 	// }

// 	// let executionResult = yield env.createExecutionContext(fn.node.body, callee, isNew).execute();
// 	// let shouldReturn = fn.arrow || (executionResult && executionResult.exit);

// 	// if (shouldReturn && executionResult.result) {
// 	// 	if (!isNew || !executionResult.result.isPrimitive) {
// 	// 		return executionResult.result;
// 	// 	}
// 	// }

// 	// return returnResult;
// });

// let scope = env.createExecutionScope(fn, obj);
// yield scope.loadArgs(fn.node && fn.node.params, args, fn);
// scope.init(fn.node && fn.node.body);

// let executionResult = yield scope.use(function* () {
// 	return yield fn.call(env, obj, args, fn);
// 	// if (fn.native) {
// 	// 	return yield fn.nativeFunction.apply(env.createExecutionContext(obj, obj), args);
// 	// }

// 	// let result = yield env.createExecutionContext(fn.node.body, fn.node).execute();
// 	// return result && result.result;
// });
},{"../types/primitive-type":365,"babel-runtime/regenerator":28}],375:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Math$sign = require("babel-runtime/core-js/math/sign")["default"];

var _Symbol$for = require("babel-runtime/core-js/symbol/for")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.primitiveToObject = primitiveToObject;
exports.toObject = toObject;
exports.toLength = toLength;
exports.toPropertyKey = toPropertyKey;
exports.toArray = toArray;
exports.toPrimitive = toPrimitive;
exports.toString = toString;
exports.toNumber = toNumber;
exports.toInteger = toInteger;
exports.toInt32 = toInt32;
exports.toUInt32 = toUInt32;
exports.toBoolean = toBoolean;
exports.toNativeFunction = toNativeFunction;
var marked0$0 = [getString, getPrimitive, getValues, toLength, toPropertyKey, toArray, toPrimitive, toString, toNumber, toInteger, toInt32, toUInt32].map(_regeneratorRuntime.mark);

require("../polyfills");

var _utilsFunc = require("../utils/func");

var sign = _Math$sign;
var floor = Math.floor;
var abs = Math.abs;
var MAX_LENGTH = Math.pow(2, 53) - 1;

function getString(value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", "undefined");

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", String(value.toNative()));

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(value, "toString");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(value, "valueOf");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 14:
				throw TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function getPrimitive(value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", value.toNative());

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(value, "valueOf");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(value, "toString");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 14:
				throw TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function getValues(args) {
	var values, i, ln;
	return _regeneratorRuntime.wrap(function getValues$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				values = [];
				i = 0, ln = args.length;

			case 2:
				if (!(i < ln)) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.t0 = values;
				context$1$0.next = 6;
				return getPrimitive(args[i]);

			case 6:
				context$1$0.t1 = context$1$0.sent;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t1);

			case 8:
				i++;
				context$1$0.next = 2;
				break;

			case 11:
				return context$1$0.abrupt("return", values);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function primitiveToObject(env, value) {
	var newValue = env.objectFactory.createPrimitive(value);
	newValue.isPrimitive = false;
	newValue.type = "object";
	return newValue;
}

function toObject(env, obj, throwOnError) {
	// todo: is this ES6 only?
	if (throwOnError && obj.isPrimitive && obj.value == null) {
		throw TypeError(obj.type + " cannot be converted to an object");
	}

	if (obj.isPrimitive && obj.value != null && obj.type !== "object") {
		return primitiveToObject(env, obj.value);
	}

	return obj;
}

function getEnv(obj) {
	return obj[_Symbol$for("env")];
}

function getOptions(obj) {
	return getEnv(obj).options;
}

function toLength(obj) {
	var lengthProperty, _length;

	return _regeneratorRuntime.wrap(function toLength$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				lengthProperty = obj.getProperty("length");

				if (!lengthProperty) {
					context$1$0.next = 10;
					break;
				}

				if (!(getOptions(obj).ecmaVersion === 5)) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return toUInt32(lengthProperty.getValue());

			case 5:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 6:
				context$1$0.next = 8;
				return toInteger(lengthProperty.getValue());

			case 8:
				_length = context$1$0.sent;
				return context$1$0.abrupt("return", Math.min(Math.max(_length, 0), MAX_LENGTH));

			case 10:
				return context$1$0.abrupt("return", 0);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function toPropertyKey(key) {
	return _regeneratorRuntime.wrap(function toPropertyKey$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(key && key.isSymbol)) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", key);

			case 2:
				context$1$0.next = 4;
				return toString(key);

			case 4:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function toArray(obj, length) {
	var arr,
	    i,
	    args$1$0 = arguments;
	return _regeneratorRuntime.wrap(function toArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				arr = [];

				if (!obj) {
					context$1$0.next = 8;
					break;
				}

				if (!(args$1$0.length < 3)) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return toLength(obj);

			case 5:
				length = context$1$0.sent;

			case 6:
				i = 0;

				while (i < length) {
					if (obj.has(i)) {
						arr[i] = obj.getValue(i);
					}

					i++;
				}

			case 8:
				return context$1$0.abrupt("return", arr);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function toPrimitive(obj, preferredType) {
	return _regeneratorRuntime.wrap(function toPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				preferredType = preferredType && preferredType.toLowerCase();
				if (!preferredType && obj) {
					preferredType = obj.primitiveHint;
				}

				if (!(obj && obj.isSymbol)) {
					context$1$0.next = 4;
					break;
				}

				throw TypeError("Cannot convert Symbol to a " + preferredType);

			case 4:
				if (!(preferredType === "string")) {
					context$1$0.next = 8;
					break;
				}

				context$1$0.next = 7;
				return getString(obj);

			case 7:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 8:
				context$1$0.next = 10;
				return getPrimitive(obj);

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}

function toString(obj) {
	return _regeneratorRuntime.wrap(function toString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toPrimitive(obj, "string");

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", String(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[7], this);
}

function toNumber(obj) {
	return _regeneratorRuntime.wrap(function toNumber$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(!obj || obj.type === "undefined")) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", NaN);

			case 2:
				context$1$0.next = 4;
				return toPrimitive(obj, "number");

			case 4:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", Number(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[8], this);
}

function toInteger(obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInteger$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toNumber(obj);

			case 2:
				value = context$1$0.sent;

				if (!isNaN(value)) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 5:
				if (!(value === 0 || !isFinite(value))) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 7:
				return context$1$0.abrupt("return", sign(value) * floor(abs(value)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[9], this);
}

function toInt32(obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInteger(obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", isFinite(value) ? value : 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[10], this);
}

function toUInt32(obj) {
	var value;
	return _regeneratorRuntime.wrap(function toUInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInt32(obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", value >>> 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[11], this);
}

function toBoolean(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isPrimitive) {
		return Boolean(obj.value);
	}

	return true;
}

function toNativeFunction(env, fn, name) {
	return env.objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var thisArg,
		    args,
		    value,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					thisArg = undefined;

					if (this && this.node && (this.node.isPrimitive || this.node.className === "Date")) {
						thisArg = this.node.toNative();
					}

					context$2$0.next = 4;
					return getValues(args$2$0);

				case 4:
					args = context$2$0.sent;
					value = fn.apply(thisArg, args);
					return context$2$0.abrupt("return", env.objectFactory.createPrimitive(value));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), fn.length, name);
}

// default case/number
},{"../polyfills":353,"../utils/func":374,"babel-runtime/core-js/math/sign":4,"babel-runtime/core-js/symbol/for":17,"babel-runtime/regenerator":28}],376:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.owns = owns;
var hasOwn = Object.prototype.hasOwnProperty;

function owns(obj, prop) {
	return hasOwn.call(obj, prop);
}
},{}],377:[function(require,module,exports){
"use strict";

var _defineProperty = require("babel-runtime/helpers/define-property")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _ops;

var _native = require("./native");

function neg(value) {
	if (value === undefined) {
		return false;
	}

	return !value;
}

function pos(value) {
	return !!value;
}

var ops = (_ops = {
	// algorithms
	areSame: function areSame(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}

				if (a.value === 0) {
					// this will account for negative zero
					return 1 / a.value === 1 / b.value;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	areSameOrZero: function areSameOrZero(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	coerciveEquals: _regeneratorRuntime.mark(function coerciveEquals(a, b) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function coerciveEquals$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (!(a.isPrimitive && b.isPrimitive)) {
						context$1$0.next = 2;
						break;
					}

					return context$1$0.abrupt("return", a.value == b.value);

				case 2:
					if (!(a.type === b.type)) {
						context$1$0.next = 4;
						break;
					}

					return context$1$0.abrupt("return", this.strictEquals(a, b));

				case 4:
					context$1$0.next = 6;
					return (0, _native.toPrimitive)(a);

				case 6:
					primitiveA = context$1$0.sent;
					context$1$0.next = 9;
					return (0, _native.toPrimitive)(b);

				case 9:
					primitiveB = context$1$0.sent;

					if (!(typeof primitiveA === "number" || typeof primitiveB === "number" || (typeof primitiveA === "boolean" || typeof primitiveB === "boolean"))) {
						context$1$0.next = 12;
						break;
					}

					return context$1$0.abrupt("return", Number(primitiveA) === Number(primitiveB));

				case 12:
					if (!(typeof primitiveA === "string")) {
						context$1$0.next = 18;
						break;
					}

					context$1$0.t0 = primitiveA;
					context$1$0.next = 16;
					return (0, _native.toPrimitive)(b, "string");

				case 16:
					context$1$0.t1 = context$1$0.sent;
					return context$1$0.abrupt("return", context$1$0.t0 === context$1$0.t1);

				case 18:
					if (!(typeof primitiveB === "string")) {
						context$1$0.next = 24;
						break;
					}

					context$1$0.next = 21;
					return (0, _native.toPrimitive)(a, "string");

				case 21:
					context$1$0.t2 = context$1$0.sent;
					context$1$0.t3 = primitiveB;
					return context$1$0.abrupt("return", context$1$0.t2 === context$1$0.t3);

				case 24:
					return context$1$0.abrupt("return", primitiveA == primitiveB);

				case 25:
				case "end":
					return context$1$0.stop();
			}
		}, coerciveEquals, this);
	}),

	/* eslint-enable eqeqeq */
	strictEquals: function strictEquals(a, b) {
		if (a.isPrimitive && b.isPrimitive) {
			return a.value === b.value;
		}

		if (a.isPrimitive || b.isPrimitive) {
			return false;
		}

		return a === b;
	},

	relationalCompare: _regeneratorRuntime.mark(function relationalCompare(a, b, leftFirst) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function relationalCompare$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					primitiveA = undefined, primitiveB = undefined;

					if (!leftFirst) {
						context$1$0.next = 10;
						break;
					}

					context$1$0.next = 4;
					return (0, _native.toPrimitive)(a, "number");

				case 4:
					primitiveA = context$1$0.sent;
					context$1$0.next = 7;
					return (0, _native.toPrimitive)(b, "number");

				case 7:
					primitiveB = context$1$0.sent;
					context$1$0.next = 16;
					break;

				case 10:
					context$1$0.next = 12;
					return (0, _native.toPrimitive)(b, "number");

				case 12:
					primitiveB = context$1$0.sent;
					context$1$0.next = 15;
					return (0, _native.toPrimitive)(a, "number");

				case 15:
					primitiveA = context$1$0.sent;

				case 16:
					if (!(typeof primitiveA === "string" && typeof primitiveB === "string")) {
						context$1$0.next = 18;
						break;
					}

					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 18:

					primitiveA = Number(primitiveA);
					primitiveB = Number(primitiveB);

					if (!(isNaN(primitiveA) || isNaN(primitiveB))) {
						context$1$0.next = 22;
						break;
					}

					return context$1$0.abrupt("return", undefined);

				case 22:
					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 23:
				case "end":
					return context$1$0.stop();
			}
		}, relationalCompare, this);
	})

}, _defineProperty(_ops, "==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "===", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "+", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(a.isPrimitive && b.isPrimitive)) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", a.value + b.value);

			case 2:
				context$1$0.next = 4;
				return (0, _native.toPrimitive)(a);

			case 4:
				a = context$1$0.sent;
				context$1$0.next = 7;
				return (0, _native.toPrimitive)(b);

			case 7:
				b = context$1$0.sent;
				return context$1$0.abrupt("return", a + b);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "-", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 - context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "/", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 / context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "*", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 * context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "%", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 % context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 << context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >>> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "|", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 | context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "^", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 ^ context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "&", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 & context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "in", _regeneratorRuntime.mark(function _in(a, b) {
	var bString;
	return _regeneratorRuntime.wrap(function _in$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPropertyKey)(a);

			case 2:
				a = context$1$0.sent;

				if (!b.isPrimitive) {
					context$1$0.next = 8;
					break;
				}

				context$1$0.next = 6;
				return (0, _native.toString)(b);

			case 6:
				bString = context$1$0.sent;
				throw TypeError("Cannot use 'in' operator to search for '" + a + "' in " + bString);

			case 8:
				return context$1$0.abrupt("return", b.has(a));

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _in, this);
})), _defineProperty(_ops, "instanceof", function _instanceof(a, b) {
	if (b.type !== "function") {
		throw TypeError("Expecting a function in instanceof check, but got " + b.type);
	}

	if (a.isPrimitive) {
		return false;
	}

	return b.hasInstance(a);
}), _ops);

exports["default"] = ops;
module.exports = exports["default"];

/* eslint-disable eqeqeq */

// use native implicit comarison
// equality operators

// additive operators

// multiplicative operators

// bitwise shift operators

// relational operators
},{"./native":375,"babel-runtime/helpers/define-property":22,"babel-runtime/regenerator":28}],378:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ArrayExpression;
var marked0$0 = [ArrayExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function ArrayExpression(context) {
	var objectFactory, arr;
	return _regeneratorRuntime.wrap(function ArrayExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				arr = objectFactory.create("Array");

				if (!context.node.elements) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.elements, _regeneratorRuntime.mark(function callee$1$0(element, i) {
					var item;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!element) {
									context$2$0.next = 5;
									break;
								}

								context$2$0.next = 3;
								return context.create(element).execute();

							case 3:
								item = context$2$0.sent.result.getValue();

								arr.defineOwnProperty(i, { value: item, configurable: true, enumerable: true, writable: true }, true, context.env);

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 4);

			case 4:

				arr.setValue("length", objectFactory.createPrimitive(context.node.elements.length));

			case 5:
				return context$1$0.abrupt("return", context.result(arr));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":372,"babel-runtime/regenerator":28}],379:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = AssignmentExpression;
var marked0$0 = [AssignmentExpression].map(_regeneratorRuntime.mark);

var _utilsAssign = require("../utils/assign");

function AssignmentExpression(context) {
	var right, rightValue, left, op, nativeValue;
	return _regeneratorRuntime.wrap(function AssignmentExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.right).execute();

			case 2:
				right = context$1$0.sent.result;
				rightValue = right.getValue();

				if (!(context.node.operator === "=")) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 7;
				return (0, _utilsAssign.assign)(context.env, context.node.left, rightValue);

			case 7:
				context$1$0.next = 18;
				break;

			case 9:
				context$1$0.next = 11;
				return context.create(context.node.left).execute();

			case 11:
				left = context$1$0.sent.result;
				op = context.node.operator.slice(0, -1);
				context$1$0.next = 15;
				return context.env.ops[op](left.getValue(), rightValue);

			case 15:
				nativeValue = context$1$0.sent;

				rightValue = context.env.objectFactory.createPrimitive(nativeValue);
				left.setValue(rightValue, context.env.isStrict());

			case 18:
				return context$1$0.abrupt("return", context.result(rightValue));

			case 19:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];

// remove equals
},{"../utils/assign":371,"babel-runtime/regenerator":28}],380:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BinaryExpression;
var marked0$0 = [BinaryExpression].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function BinaryExpression(context) {
	var left, leftValue, right, rightValue, op, newValue;
	return _regeneratorRuntime.wrap(function BinaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent.result;
				leftValue = left.getValue() || _typesPrimitiveType.UNDEFINED;
				context$1$0.next = 6;
				return context.create(context.node.right).execute();

			case 6:
				right = context$1$0.sent.result;
				rightValue = right.getValue() || _typesPrimitiveType.UNDEFINED;
				op = context.node.operator;
				context$1$0.next = 11;
				return context.env.ops[op](leftValue, rightValue);

			case 11:
				newValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(newValue)));

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":365,"babel-runtime/regenerator":28}],381:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BlockStatement;
var marked0$0 = [BlockStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function BlockStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function BlockStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;

				if (context.node.type === "Program") {
					context.env.current.init(context.node);
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.body, _regeneratorRuntime.mark(function callee$1$0(node, i, body, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(node).execute();

							case 2:
								result = context$2$0.sent;

								if (result.shouldBreak(context, false, priorResult)) {
									abort();
								}

								priorResult = result;

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":372,"babel-runtime/regenerator":28}],382:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = CallExpression;
var marked0$0 = [CallExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

var _utilsAsync = require("../utils/async");

var _typesPrimitiveType = require("../types/primitive-type");

function assignThis(env, fnMember, fn, isNew, native) {
	if (isNew) {
		return null;
	}

	if (fnMember instanceof _envPropertyReference.PropertyReference && (!fnMember.unqualified || fnMember.base !== env.global)) {
		var thisArg = fnMember.base;
		if (env.options.ecmaVersion === 5) {
			return (0, _utilsNative.toObject)(env, thisArg);
		}

		return thisArg;
	}

	return null;
}

function CallExpression(context) {
	var node, isNew, fnMember, fn, args, stringValue, native, thisArg, callee, result;
	return _regeneratorRuntime.wrap(function CallExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				node = context.node;
				isNew = context.node.type === "NewExpression";
				context$1$0.next = 4;
				return context.create(node.callee).execute();

			case 4:
				fnMember = context$1$0.sent.result;
				fn = fnMember.getValue();
				return context$1$0.delegateYield((0, _utilsAsync.map)(node.arguments, _regeneratorRuntime.mark(function callee$1$0(arg) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(arg).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent.result.getValue());

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 7);

			case 7:
				args = context$1$0.t0;

				if (!(!fn || fn.className !== "Function")) {
					context$1$0.next = 13;
					break;
				}

				context$1$0.next = 11;
				return (0, _utilsNative.toString)(fn);

			case 11:
				stringValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.raise(new TypeError(stringValue + " not a function")));

			case 13:
				native = fn.native;
				thisArg = assignThis(context.env, fnMember, fn, isNew, native);
				callee = fnMember;

				callee.identifier = fn.name;
				context$1$0.next = 19;
				return fn[isNew ? "construct" : "call"](thisArg, args, callee);

			case 19:
				result = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(result || _typesPrimitiveType.UNDEFINED));

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];

// return context.result(yield (isNew ? construct : exec)(context.env, fn, args, thisArg, callee));
},{"../env/property-reference":188,"../types/primitive-type":365,"../utils/async":372,"../utils/native":375,"babel-runtime/regenerator":28}],383:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DebuggerStatement;

function DebuggerStatement(context) {
	if (context.env.options.allowDebugger) {
		/* eslint-disable no-debugger */
		debugger;
		/* eslint-enable no-debugger */
	}

	return context.empty();
}

module.exports = exports["default"];
},{}],384:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DoWhileStatement;
var marked0$0 = [DoWhileStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function DoWhileStatement(context) {
	var result, priorResult, passed;
	return _regeneratorRuntime.wrap(function DoWhileStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;
				passed = true;

				if (!(context.node.type === "WhileStatement")) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.test).execute();

			case 5:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t0);

			case 7:
				if (!passed) {
					context$1$0.next = 20;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.body).execute();

			case 10:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 13:
				context$1$0.next = 15;
				return context.create(context.node.test).execute();

			case 15:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t1);

				priorResult = result;
				context$1$0.next = 7;
				break;

			case 20:
				return context$1$0.abrupt("return", result);

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],385:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = EmptyStatement;

function EmptyStatement(context) {
	return context.empty();
}

module.exports = exports["default"];
},{}],386:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ExpressionStatement;
var marked0$0 = [ExpressionStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ExpressionStatement(context) {
	var executionResult, executionValue;
	return _regeneratorRuntime.wrap(function ExpressionStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.expression).execute();

			case 2:
				executionResult = context$1$0.sent;
				executionValue = executionResult && executionResult.result && executionResult.result.getValue();
				return context$1$0.abrupt("return", context.result(executionValue || _typesPrimitiveType.UNDEFINED));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":365,"babel-runtime/regenerator":28}],387:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForInStatement;
var marked0$0 = [ForInStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

function ForInStatement(context) {
	var left, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl, obj, it, next, done, result, priorResult, itResult;

	return _regeneratorRuntime.wrap(function ForInStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				left = undefined;

				if (!(context.node.left.type === "VariableDeclaration")) {
					context$1$0.next = 31;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 5;
				_iterator = _getIterator(context.node.left.declarations);

			case 7:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 15;
					break;
				}

				decl = _step.value;
				context$1$0.next = 11;
				return context.create(decl).execute();

			case 11:
				left = context$1$0.sent.result;

			case 12:
				_iteratorNormalCompletion = true;
				context$1$0.next = 7;
				break;

			case 15:
				context$1$0.next = 21;
				break;

			case 17:
				context$1$0.prev = 17;
				context$1$0.t0 = context$1$0["catch"](5);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 21:
				context$1$0.prev = 21;
				context$1$0.prev = 22;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 24:
				context$1$0.prev = 24;

				if (!_didIteratorError) {
					context$1$0.next = 27;
					break;
				}

				throw _iteratorError;

			case 27:
				return context$1$0.finish(24);

			case 28:
				return context$1$0.finish(21);

			case 29:
				context$1$0.next = 34;
				break;

			case 31:
				context$1$0.next = 33;
				return context.create(context.node.left).execute();

			case 33:
				left = context$1$0.sent.result;

			case 34:
				context$1$0.next = 36;
				return context.create(context.node.right).execute();

			case 36:
				obj = context$1$0.sent.result.getValue();

				if (!(0, _utilsContracts.isNullOrUndefined)(obj)) {
					context$1$0.next = 39;
					break;
				}

				return context$1$0.abrupt("return", context.empty());

			case 39:
				it = obj.getIterator(context.env);
				next = it.getValue("next");
				done = false;
				result = undefined, priorResult = undefined;

			case 43:
				if (done) {
					context$1$0.next = 58;
					break;
				}

				context$1$0.next = 46;
				return next.call(it, []);

			case 46:
				itResult = context$1$0.sent;

				done = (0, _utilsNative.toBoolean)(itResult.getValue("done"));

				if (!(!done && itResult.has("value"))) {
					context$1$0.next = 55;
					break;
				}

				left.setValue(itResult.getValue("value"));
				context$1$0.next = 52;
				return context.create(context.node.body).execute();

			case 52:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 55;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 55:

				priorResult = result;
				context$1$0.next = 43;
				break;

			case 58:
				return context$1$0.abrupt("return", result);

			case 59:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[5, 17, 21, 29], [22,, 24, 28]]);
}

module.exports = exports["default"];

// should only be one, but
// need to unwrap the declaration to get it
// todo: this is sloppy - need to revisit

// track visited properties to prevent iterating over shadowed properties, regardless of enumerable flag
// 12.6.4 NOTE: a property of a prototype is not enumerated if it is “shadowed” because some previous
// object in the prototype chain has a property with the same name. The values of [[Enumerable]] attributes
// are not considered when determining if a property of a prototype object is shadowed by a previous object
// on the prototype chain.
// let visited = Object.create(null);

// while (obj) {
// 	for (let prop in obj.properties) {
// 		if (obj.properties[prop].enumerable && !visited[prop]) {
// 			left.setValue(context.env.objectFactory.createPrimitive(prop));

// 			result = yield context.create(context.node.body).execute();
// 			if (result && result.shouldBreak(context, true, priorResult)) {
// 				return result;
// 			}
// 		}

// 		visited[prop] = true;
// 	}

// 	priorResult = result;
// 	obj = obj.getPrototype();
// }
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":28}],388:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForStatement;
var marked0$0 = [shouldContinue, ForStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function shouldContinue(context) {
	return _regeneratorRuntime.wrap(function shouldContinue$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (context.node.test) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", true);

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.test).execute();

			case 4:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", (0, _utilsNative.toBoolean)(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function ForStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function ForStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.init) {
					context$1$0.next = 3;
					break;
				}

				context$1$0.next = 3;
				return context.create(context.node.init).execute();

			case 3:
				result = undefined, priorResult = undefined;

			case 4:
				context$1$0.next = 6;
				return shouldContinue(context);

			case 6:
				if (!context$1$0.sent) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.next = 9;
				return context.create(context.node.body).execute();

			case 9:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 12;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 12:
				if (!context.node.update) {
					context$1$0.next = 15;
					break;
				}

				context$1$0.next = 15;
				return context.create(context.node.update).execute();

			case 15:

				priorResult = result;
				context$1$0.next = 4;
				break;

			case 18:
				return context$1$0.abrupt("return", result);

			case 19:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],389:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionDeclaration;

function FunctionDeclaration(context) {
	return context.result(context.env.getValue(context.node.id.name));
}

module.exports = exports["default"];
},{}],390:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionExpression;

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function FunctionExpression(context) {
	var objectFactory = context.env.objectFactory;
	var strict = context.env.isStrict() || contracts.isStrictNode(context.node.body.body);
	var name = context.node.id ? context.node.id.name : "anonymous";

	var func = objectFactory.createFunction(context.node, undefined, { strict: strict, name: name });
	func.bindScope(context.env.current);
	return context.result(func);
}

module.exports = exports["default"];
},{"../utils/contracts":373,"babel-runtime/helpers/interop-require-wildcard":26}],391:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Identifier;

function Identifier(context) {
	var name = context.node.name;

	if (context.callee && context.callee.identifier === name) {
		return context.result(context.callee);
	}

	return context.result(context.env.getReference(context.node.name));
}

module.exports = exports["default"];
},{}],392:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = IfStatement;
var marked0$0 = [IfStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function IfStatement(context) {
	var testValue;
	return _regeneratorRuntime.wrap(function IfStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.test).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();

				if (!(0, _utilsNative.toBoolean)(testValue)) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 6;
				return context.create(context.node.consequent).execute();

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
				if (!context.node.alternate) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.alternate).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],393:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _arrayExpression = require("./array-expression");

var _arrayExpression2 = _interopRequireDefault(_arrayExpression);

var _assignmentExpression = require("./assignment-expression");

var _assignmentExpression2 = _interopRequireDefault(_assignmentExpression);

var _binaryExpression = require("./binary-expression");

var _binaryExpression2 = _interopRequireDefault(_binaryExpression);

var _blockStatement = require("./block-statement");

var _blockStatement2 = _interopRequireDefault(_blockStatement);

var _interruptStatement = require("./interrupt-statement");

var _interruptStatement2 = _interopRequireDefault(_interruptStatement);

var _callExpression = require("./call-expression");

var _callExpression2 = _interopRequireDefault(_callExpression);

var _ifStatement = require("./if-statement");

var _ifStatement2 = _interopRequireDefault(_ifStatement);

var _debuggerStatement = require("./debugger-statement");

var _debuggerStatement2 = _interopRequireDefault(_debuggerStatement);

var _doWhileStatementJs = require("./do-while-statement.js");

var _doWhileStatementJs2 = _interopRequireDefault(_doWhileStatementJs);

var _emptyStatement = require("./empty-statement");

var _emptyStatement2 = _interopRequireDefault(_emptyStatement);

var _expressionStatement = require("./expression-statement");

var _expressionStatement2 = _interopRequireDefault(_expressionStatement);

var _forStatement = require("./for-statement");

var _forStatement2 = _interopRequireDefault(_forStatement);

var _forInStatement = require("./for-in-statement");

var _forInStatement2 = _interopRequireDefault(_forInStatement);

var _functionDeclaration = require("./function-declaration");

var _functionDeclaration2 = _interopRequireDefault(_functionDeclaration);

var _functionExpression = require("./function-expression");

var _functionExpression2 = _interopRequireDefault(_functionExpression);

var _identifier = require("./identifier");

var _identifier2 = _interopRequireDefault(_identifier);

var _labeledStatement = require("./labeled-statement");

var _labeledStatement2 = _interopRequireDefault(_labeledStatement);

var _literal = require("./literal");

var _literal2 = _interopRequireDefault(_literal);

var _logicalExpression = require("./logical-expression");

var _logicalExpression2 = _interopRequireDefault(_logicalExpression);

var _memberExpression = require("./member-expression");

var _memberExpression2 = _interopRequireDefault(_memberExpression);

var _metaProperty = require("./meta-property");

var _metaProperty2 = _interopRequireDefault(_metaProperty);

var _objectExpression = require("./object-expression");

var _objectExpression2 = _interopRequireDefault(_objectExpression);

var _returnStatement = require("./return-statement");

var _returnStatement2 = _interopRequireDefault(_returnStatement);

var _sequenceExpression = require("./sequence-expression");

var _sequenceExpression2 = _interopRequireDefault(_sequenceExpression);

var _switchStatement = require("./switch-statement");

var _switchStatement2 = _interopRequireDefault(_switchStatement);

var _taggedTemplateExpression = require("./tagged-template-expression");

var _taggedTemplateExpression2 = _interopRequireDefault(_taggedTemplateExpression);

var _templateLiteral = require("./template-literal");

var _templateLiteral2 = _interopRequireDefault(_templateLiteral);

var _thisExpression = require("./this-expression");

var _thisExpression2 = _interopRequireDefault(_thisExpression);

var _throwStatement = require("./throw-statement");

var _throwStatement2 = _interopRequireDefault(_throwStatement);

var _tryStatement = require("./try-statement");

var _tryStatement2 = _interopRequireDefault(_tryStatement);

var _unaryExpression = require("./unary-expression");

var _unaryExpression2 = _interopRequireDefault(_unaryExpression);

var _updateExpression = require("./update-expression");

var _updateExpression2 = _interopRequireDefault(_updateExpression);

var _variableDeclaration = require("./variable-declaration");

var _variableDeclaration2 = _interopRequireDefault(_variableDeclaration);

var _variableDeclarator = require("./variable-declarator");

var _variableDeclarator2 = _interopRequireDefault(_variableDeclarator);

var _withStatement = require("./with-statement");

var _withStatement2 = _interopRequireDefault(_withStatement);

var visitors = {
	ArrayExpression: _arrayExpression2["default"],
	AssignmentExpression: _assignmentExpression2["default"],
	BinaryExpression: _binaryExpression2["default"],
	BlockStatement: _blockStatement2["default"],
	BreakStatement: _interruptStatement2["default"],
	CallExpression: _callExpression2["default"],
	ConditionalExpression: _ifStatement2["default"],
	DebuggerStatement: _debuggerStatement2["default"],
	DoWhileStatement: _doWhileStatementJs2["default"],
	EmptyStatement: _emptyStatement2["default"],
	ExpressionStatement: _expressionStatement2["default"],
	ForStatement: _forStatement2["default"],
	ForInStatement: _forInStatement2["default"],
	FunctionDeclaration: _functionDeclaration2["default"],
	FunctionExpression: _functionExpression2["default"],
	Identifier: _identifier2["default"],
	LabeledStatement: _labeledStatement2["default"],
	Literal: _literal2["default"],
	LogicalExpression: _logicalExpression2["default"],
	MemberExpression: _memberExpression2["default"],
	MetaProperty: _metaProperty2["default"],
	ObjectExpression: _objectExpression2["default"],
	ReturnStatement: _returnStatement2["default"],
	SequenceExpression: _sequenceExpression2["default"],
	SwitchStatement: _switchStatement2["default"],
	TaggedTemplateExpression: _taggedTemplateExpression2["default"],
	TemplateLiteral: _templateLiteral2["default"],
	ThisExpression: _thisExpression2["default"],
	ThrowStatement: _throwStatement2["default"],
	TryStatement: _tryStatement2["default"],
	UnaryExpression: _unaryExpression2["default"],
	UpdateExpression: _updateExpression2["default"],
	VariableDeclaration: _variableDeclaration2["default"],
	VariableDeclarator: _variableDeclarator2["default"],
	WithStatement: _withStatement2["default"],

	ArrowFunctionExpression: _functionExpression2["default"],
	ContinueStatement: _interruptStatement2["default"],
	IfStatement: _ifStatement2["default"],
	NewExpression: _callExpression2["default"],
	Program: _blockStatement2["default"],
	WhileStatement: _doWhileStatementJs2["default"]
};

exports["default"] = {
	visit: _regeneratorRuntime.mark(function visit(context) {
		return _regeneratorRuntime.wrap(function visit$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (context.node.type in visitors) {
						context$1$0.next = 2;
						break;
					}

					throw TypeError("No handler defined for: " + context.node.type);

				case 2:
					context$1$0.next = 4;
					return visitors[context.node.type](context);

				case 4:
					return context$1$0.abrupt("return", context$1$0.sent);

				case 5:
				case "end":
					return context$1$0.stop();
			}
		}, visit, this);
	})
};
module.exports = exports["default"];
},{"./array-expression":378,"./assignment-expression":379,"./binary-expression":380,"./block-statement":381,"./call-expression":382,"./debugger-statement":383,"./do-while-statement.js":384,"./empty-statement":385,"./expression-statement":386,"./for-in-statement":387,"./for-statement":388,"./function-declaration":389,"./function-expression":390,"./identifier":391,"./if-statement":392,"./interrupt-statement":394,"./labeled-statement":395,"./literal":396,"./logical-expression":397,"./member-expression":398,"./meta-property":399,"./object-expression":400,"./return-statement":401,"./sequence-expression":402,"./switch-statement":403,"./tagged-template-expression":404,"./template-literal":405,"./this-expression":406,"./throw-statement":407,"./try-statement":408,"./unary-expression":409,"./update-expression":410,"./variable-declaration":411,"./variable-declarator":412,"./with-statement":413,"babel-runtime/helpers/interop-require-default":25,"babel-runtime/regenerator":28}],394:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = InterruptStatement;

function InterruptStatement(context) {
	var label = undefined;
	if (context.node.label) {
		label = context.node.label.name;
	}

	if (context.node.type === "BreakStatement") {
		return context.cancel(label);
	}

	return context.skip(label);
}

module.exports = exports["default"];
},{}],395:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LabeledStatement;
var marked0$0 = [LabeledStatement].map(_regeneratorRuntime.mark);

function LabeledStatement(context) {
	return _regeneratorRuntime.wrap(function LabeledStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.createLabel(context.node.body, context.node.label.name).execute();

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

;
module.exports = exports["default"];
},{"babel-runtime/regenerator":28}],396:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Literal;

function Literal(context) {
	return context.result(context.env.objectFactory.createPrimitive(context.node.value));
}

module.exports = exports["default"];
},{}],397:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LogicalExpression;
var marked0$0 = [LogicalExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function LogicalExpression(context) {
	var left, passed;
	return _regeneratorRuntime.wrap(function LogicalExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent;
				passed = (0, _utilsNative.toBoolean)(left.result.getValue());

				if (!(passed && context.node.operator === "||")) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 6:
				if (!(!passed && context.node.operator === "&&")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 8:
				context$1$0.next = 10;
				return context.create(context.node.right).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":375,"babel-runtime/regenerator":28}],398:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MemberExpression;
var marked0$0 = [MemberExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function MemberExpression(context) {
	var obj, key, value, id;
	return _regeneratorRuntime.wrap(function MemberExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.object).execute();

			case 2:
				obj = context$1$0.sent.result.getValue();
				key = undefined, value = undefined;

				if (!context.node.computed) {
					context$1$0.next = 17;
					break;
				}

				context$1$0.next = 7;
				return context.create(context.node.property).execute();

			case 7:
				id = context$1$0.sent.result.getValue();

				if (!id.isSymbol) {
					context$1$0.next = 12;
					break;
				}

				// if the identifier is a symbol, keep as is - property reference will handle it accordingly
				key = id;
				context$1$0.next = 15;
				break;

			case 12:
				context$1$0.next = 14;
				return (0, _utilsNative.toString)(id);

			case 14:
				key = context$1$0.sent;

			case 15:
				context$1$0.next = 18;
				break;

			case 17:
				key = context.node.property.name;

			case 18:

				value = new _envPropertyReference.PropertyReference(key, obj, context.env);
				return context$1$0.abrupt("return", context.result(value));

			case 20:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":188,"../utils/native":375,"babel-runtime/regenerator":28}],399:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MetaProperty;

function MetaProperty(context) {
	throw Error("Meta properties not yet implemented");
}

module.exports = exports["default"];
},{}],400:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ObjectExpression;
var marked0$0 = [ObjectExpression].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

function setDescriptor(env, obj, descriptor) {
	var strict = env.isStrict();

	if (descriptor.get) {
		contracts.assertAreValidArguments(descriptor.get.node.params, strict);
		descriptor.getter = _regeneratorRuntime.mark(function callee$1$0() {
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return descriptor.get.call(this);

					case 2:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 3:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	if (descriptor.set) {
		contracts.assertAreValidArguments(descriptor.set.node.params, strict);
		descriptor.setter = _regeneratorRuntime.mark(function callee$1$0(value) {
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return descriptor.set.call(this, [value]);

					case 2:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	obj.defineOwnProperty(descriptor.key, descriptor);
}

function createDescriptor(key, value) {
	return { key: key, value: value, configurable: true, enumerable: true, writable: true };
}

function ObjectExpression(context) {
	var obj, descriptors, prop;
	return _regeneratorRuntime.wrap(function ObjectExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				obj = context.env.objectFactory.createObject();
				descriptors = _Object$create(null);
				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.properties, _regeneratorRuntime.mark(function callee$1$0(property) {
					var value, key, keyValue;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(property.value).execute();

							case 2:
								value = context$2$0.sent.result.getValue();
								key = undefined;

								if (!property.computed) {
									context$2$0.next = 13;
									break;
								}

								context$2$0.next = 7;
								return context.create(property.key).execute();

							case 7:
								keyValue = context$2$0.sent.result.getValue();
								context$2$0.next = 10;
								return (0, _utilsNative.toPropertyKey)(keyValue);

							case 10:
								key = context$2$0.sent;
								context$2$0.next = 14;
								break;

							case 13:
								key = property.key.name || property.key.value;

							case 14:
								context$2$0.t0 = property.kind;
								context$2$0.next = context$2$0.t0 === "get" ? 17 : context$2$0.t0 === "set" ? 17 : 20;
								break;

							case 17:
								descriptors[key] = descriptors[key] || createDescriptor(key);
								descriptors[key][property.kind] = value;
								return context$2$0.abrupt("break", 22);

							case 20:
								obj.defineOwnProperty(key, createDescriptor(key, value));
								return context$2$0.abrupt("break", 22);

							case 22:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:

				for (prop in descriptors) {
					setDescriptor(context.env, obj, descriptors[prop]);
				}

				return context$1$0.abrupt("return", context.result(obj));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":372,"../utils/contracts":373,"../utils/native":375,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],401:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ReturnStatement;
var marked0$0 = [ReturnStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ReturnStatement(context) {
	return _regeneratorRuntime.wrap(function ReturnStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.argument) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.t0 = context;
				context$1$0.next = 4;
				return context.create(context.node.argument).execute();

			case 4:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context$1$0.t0.exit.call(context$1$0.t0, context$1$0.t1));

			case 6:
				return context$1$0.abrupt("return", context.exit(_typesPrimitiveType.UNDEFINED));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":365,"babel-runtime/regenerator":28}],402:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SequenceExpression;
var marked0$0 = [SequenceExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function SequenceExpression(context) {
	var value;
	return _regeneratorRuntime.wrap(function SequenceExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				value = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent.result.getValue();

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", context.result(value));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":372,"babel-runtime/regenerator":28}],403:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SwitchStatement;
var marked0$0 = [executeStatements, SwitchStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function executeStatements(context, statements) {
	var result;
	return _regeneratorRuntime.wrap(function executeStatements$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(statements, _regeneratorRuntime.mark(function callee$1$0(statement, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(statement).execute();

							case 2:
								result = context$2$0.sent;

								if (result && result.isCancelled()) {
									abort();
								}

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function SwitchStatement(context) {
	var testValue, passed, value, defaultCase, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, current, caseValue;

	return _regeneratorRuntime.wrap(function SwitchStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.discriminant).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();
				passed = false;
				value = undefined, defaultCase = undefined;
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 8;
				_iterator = _getIterator(context.node.cases);

			case 10:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 33;
					break;
				}

				current = _step.value;

				if (passed) {
					context$1$0.next = 23;
					break;
				}

				if (!current.test) {
					context$1$0.next = 21;
					break;
				}

				context$1$0.next = 16;
				return context.create(current.test).execute();

			case 16:
				caseValue = context$1$0.sent.result.getValue();

				if (context.env.ops.strictEquals(caseValue, testValue)) {
					context$1$0.next = 19;
					break;
				}

				return context$1$0.abrupt("continue", 30);

			case 19:
				context$1$0.next = 23;
				break;

			case 21:
				// default might not be the last case
				defaultCase = current;
				return context$1$0.abrupt("continue", 30);

			case 23:

				passed = true;
				context$1$0.next = 26;
				return executeStatements(context, current.consequent);

			case 26:
				value = context$1$0.sent;

				if (!(value && value.isCancelled())) {
					context$1$0.next = 30;
					break;
				}

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 30:
				_iteratorNormalCompletion = true;
				context$1$0.next = 10;
				break;

			case 33:
				context$1$0.next = 39;
				break;

			case 35:
				context$1$0.prev = 35;
				context$1$0.t0 = context$1$0["catch"](8);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 39:
				context$1$0.prev = 39;
				context$1$0.prev = 40;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 42:
				context$1$0.prev = 42;

				if (!_didIteratorError) {
					context$1$0.next = 45;
					break;
				}

				throw _iteratorError;

			case 45:
				return context$1$0.finish(42);

			case 46:
				return context$1$0.finish(39);

			case 47:
				if (!(!passed && defaultCase && defaultCase.consequent)) {
					context$1$0.next = 53;
					break;
				}

				context$1$0.next = 50;
				return executeStatements(context, defaultCase.consequent);

			case 50:
				value = context$1$0.sent;

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 53:
				return context$1$0.abrupt("return", value);

			case 54:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this, [[8, 35, 39, 47], [40,, 42, 46]]);
}

module.exports = exports["default"];
},{"../utils/async":372,"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":28}],404:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TaggedTemplateExpression;
var marked0$0 = [TaggedTemplateExpression].map(_regeneratorRuntime.mark);

var _utilsFunc = require("../utils/func");

var _utilsAsync = require("../utils/async");

var templateObjectCache = _Object$create(null);

function buildTemplateObject(env, node) {
	// per spec, template objects are cached
	var key = JSON.stringify(node.quasis.map(function (q) {
		return { cooked: q.value.cooked, raw: q.value.raw };
	}));
	if (key in templateObjectCache) {
		return templateObjectCache[key];
	}

	var objectFactory = env.objectFactory;
	var tag = objectFactory.create("Array");
	var raw = objectFactory.create("Array");
	var quasis = node.quasis;

	for (var i = 0, ln = quasis.length; i < ln; i++) {
		tag.setValue(i, objectFactory.createPrimitive(quasis[i].value.cooked));
		raw.setValue(i, objectFactory.createPrimitive(quasis[i].value.raw));
	}

	raw.freeze();
	tag.defineOwnProperty("raw", { value: raw });
	tag.freeze();

	return templateObjectCache[key] = tag;
}

function TaggedTemplateExpression(context) {
	var templateObject, values, callee, func, value;
	return _regeneratorRuntime.wrap(function TaggedTemplateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				templateObject = buildTemplateObject(context.env, context.node.quasi);
				context$1$0.next = 3;
				return (0, _utilsAsync.map)(context.node.quasi.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return value.result.getValue();

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				values = context$1$0.sent;
				context$1$0.next = 6;
				return context.create(context.node.tag).execute();

			case 6:
				callee = context$1$0.sent.result;
				func = callee.getValue();
				context$1$0.next = 10;
				return (0, _utilsFunc.execute)(context.env, func, [templateObject].concat(_toConsumableArray(values)), callee.base, callee);

			case 10:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(value));

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":372,"../utils/func":374,"babel-runtime/core-js/object/create":9,"babel-runtime/helpers/to-consumable-array":27,"babel-runtime/regenerator":28}],405:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TemplateLiteral;
var marked0$0 = [TemplateLiteral].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

function TemplateLiteral(context) {
	var values, result, quasis, i, ln;
	return _regeneratorRuntime.wrap(function TemplateLiteral$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsAsync.map)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return (0, _utilsNative.toString)(value.result.getValue());

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
				values = context$1$0.sent;
				result = [];
				quasis = context.node.quasis;

				for (i = 0, ln = quasis.length; i < ln; i++) {
					result.push(quasis[i].value.cooked);

					if (i < values.length) {
						result.push(values[i]);
					}
				}

				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(result.join(""))));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":372,"../utils/native":375,"babel-runtime/regenerator":28}],406:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThisExpression;

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function ThisExpression(context) {
	var thisArg = context.env.getThisBinding();
	if (contracts.isNullOrUndefined(thisArg) && !context.env.isStrict()) {
		thisArg = context.env.global;
	}

	return context.result(thisArg);
}

module.exports = exports["default"];
},{"../utils/contracts":373,"babel-runtime/helpers/interop-require-wildcard":26}],407:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThrowStatement;
var marked0$0 = [ThrowStatement].map(_regeneratorRuntime.mark);

function ThrowStatement(context) {
	var arg;
	return _regeneratorRuntime.wrap(function ThrowStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.argument).execute();

			case 2:
				arg = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context.raise(arg));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":28}],408:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TryStatement;
var marked0$0 = [executeBlock, TryStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

function executeBlock(context, body, swallow) {
	var result;
	return _regeneratorRuntime.wrap(function executeBlock$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(body, _regeneratorRuntime.mark(function callee$1$0(node, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!swallow) {
									context$2$0.next = 12;
									break;
								}

								context$2$0.prev = 1;
								context$2$0.next = 4;
								return context.create(node).execute();

							case 4:
								result = context$2$0.sent;
								context$2$0.next = 10;
								break;

							case 7:
								context$2$0.prev = 7;
								context$2$0.t0 = context$2$0["catch"](1);

								result = context.raise(context$2$0.t0);

							case 10:
								context$2$0.next = 15;
								break;

							case 12:
								context$2$0.next = 14;
								return context.create(node).execute();

							case 14:
								result = context$2$0.sent;

							case 15:

								if (result.canBreak()) {
									abort();
								}

							case 16:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this, [[1, 7]]);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function TryStatement(context) {
	var result, finalizerResult, errVar, scope;
	return _regeneratorRuntime.wrap(function TryStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return executeBlock(context, context.node.block.body, true);

			case 2:
				result = context$1$0.sent;
				finalizerResult = undefined;

				if (!(result && result.raised)) {
					context$1$0.next = 14;
					break;
				}

				if (!context.node.handler) {
					context$1$0.next = 14;
					break;
				}

				errVar = context.node.handler.param.name;

				contracts.assertIsValidIdentifier(errVar, context.env.isStrict());

				scope = context.env.createScope();

				context.env.createVariable(errVar);
				context.env.setValue(errVar, result.result);

				context$1$0.next = 13;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return executeBlock(context, context.node.handler.body.body, true);

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 13:
				result = context$1$0.sent;

			case 14:
				if (context.node.finalizer) {
					context$1$0.next = 16;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 16:
				if (!context.node.finalizer) {
					context$1$0.next = 22;
					break;
				}

				context$1$0.next = 19;
				return executeBlock(context, context.node.finalizer.body);

			case 19:
				finalizerResult = context$1$0.sent;

				if (!(finalizerResult && finalizerResult.canBreak())) {
					context$1$0.next = 22;
					break;
				}

				return context$1$0.abrupt("return", finalizerResult);

			case 22:
				return context$1$0.abrupt("return", result);

			case 23:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];

// let shouldRaise = false;
// let shouldReturn = false;

// let shouldThrow = result && result.raised;

// if there is no catch OR if an error is raised within the catch we need to pass that on
// if (result && result.raised) {
// 	shouldRaise = true;
// 	// yield result;
// }

// shouldReturn = true;

// if (shouldRaise) {
// 	try {
// 		throw result.result;
// 	} catch (err) {
// 		throw err;
// 	} finally {
// 		if (shouldReturn) {
// 			return finalizerResult;
// 		}
// 	}
// }
},{"../utils/async":372,"../utils/contracts":373,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],409:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UnaryExpression;
var marked0$0 = [UnaryExpression].map(_regeneratorRuntime.mark);

var _envReference = require("../env/reference");

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function UnaryExpression(context) {
	var objectFactory, result, value, newValue, type, deleted, resolved;
	return _regeneratorRuntime.wrap(function UnaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				result = context$1$0.sent.result;
				value = undefined, newValue = undefined;
				context$1$0.t0 = context.node.operator;
				context$1$0.next = context$1$0.t0 === "typeof" ? 8 : context$1$0.t0 === "-" ? 12 : context$1$0.t0 === "+" ? 19 : context$1$0.t0 === "!" ? 26 : context$1$0.t0 === "~" ? 29 : context$1$0.t0 === "delete" ? 36 : context$1$0.t0 === "void" ? 49 : 51;
				break;

			case 8:
				type = undefined;

				if (result instanceof _envReference.Reference && result.isUnresolved()) {
					type = "undefined";
				} else {
					value = result.getValue();
					type = value ? value.type : "undefined";
				}

				newValue = objectFactory.createPrimitive(type);
				return context$1$0.abrupt("break", 52);

			case 12:
				value = result.getValue();
				context$1$0.t1 = objectFactory;
				context$1$0.next = 16;
				return (0, _utilsNative.toNumber)(value);

			case 16:
				context$1$0.t2 = -context$1$0.sent;
				newValue = context$1$0.t1.createPrimitive.call(context$1$0.t1, context$1$0.t2);
				return context$1$0.abrupt("break", 52);

			case 19:
				value = result.getValue();
				context$1$0.t3 = objectFactory;
				context$1$0.next = 23;
				return (0, _utilsNative.toNumber)(value);

			case 23:
				context$1$0.t4 = +context$1$0.sent;
				newValue = context$1$0.t3.createPrimitive.call(context$1$0.t3, context$1$0.t4);
				return context$1$0.abrupt("break", 52);

			case 26:
				value = result.getValue();
				newValue = objectFactory.createPrimitive(!(0, _utilsNative.toBoolean)(value));
				return context$1$0.abrupt("break", 52);

			case 29:
				value = result.getValue();
				context$1$0.t5 = objectFactory;
				context$1$0.next = 33;
				return (0, _utilsNative.toInt32)(value);

			case 33:
				context$1$0.t6 = ~context$1$0.sent;
				newValue = context$1$0.t5.createPrimitive.call(context$1$0.t5, context$1$0.t6);
				return context$1$0.abrupt("break", 52);

			case 36:
				deleted = true;

				if (!(result && result instanceof _envReference.Reference)) {
					context$1$0.next = 45;
					break;
				}

				resolved = !result.isUnresolved();

				if (!context.env.isStrict()) {
					context$1$0.next = 42;
					break;
				}

				if (!(!resolved || !(result instanceof _envPropertyReference.PropertyReference) || result.unqualified)) {
					context$1$0.next = 42;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Delete of an unqualified identifier in strict mode.")));

			case 42:

				if (resolved) {
					deleted = result["delete"]();
				}
				context$1$0.next = 47;
				break;

			case 45:
				if (!context.node.argument.object) {
					context$1$0.next = 47;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new ReferenceError(context.node.argument.object.name + " is not defined")));

			case 47:

				newValue = objectFactory.createPrimitive(deleted);
				return context$1$0.abrupt("break", 52);

			case 49:
				newValue = objectFactory.createPrimitive(undefined);
				return context$1$0.abrupt("break", 52);

			case 51:
				return context$1$0.abrupt("return", context.raise(new SyntaxError("Unknown unary operator: " + context.node.operator)));

			case 52:
				return context$1$0.abrupt("return", context.result(newValue));

			case 53:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":188,"../env/reference":189,"../utils/native":375,"babel-runtime/regenerator":28}],410:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UpdateExpression;
var marked0$0 = [UpdateExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function UpdateExpression(context) {
	var objectFactory, ref, originalValue, newValue, newWrappedValue, returnValue;
	return _regeneratorRuntime.wrap(function UpdateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				ref = context$1$0.sent.result;

				contracts.assertIsValidAssignment(ref, context.env.isStrict());

				context$1$0.next = 7;
				return (0, _utilsNative.toNumber)(ref.getValue());

			case 7:
				originalValue = context$1$0.sent;
				newValue = originalValue;

				if (context.node.operator === "++") {
					newValue++;
				} else {
					newValue--;
				}

				newWrappedValue = objectFactory.createPrimitive(newValue);

				originalValue = objectFactory.createPrimitive(originalValue);

				returnValue = context.node.prefix ? newWrappedValue : originalValue;

				ref.setValue(newWrappedValue);
				return context$1$0.abrupt("return", context.result(returnValue));

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":373,"../utils/native":375,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}],411:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclaration;
var marked0$0 = [VariableDeclaration].map(_regeneratorRuntime.mark);

function VariableDeclaration(context) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl;

	return _regeneratorRuntime.wrap(function VariableDeclaration$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 3;
				_iterator = _getIterator(context.node.declarations);

			case 5:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				decl = _step.value;
				context$1$0.next = 9;
				return context.create(decl).execute();

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 5;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t0 = context$1$0["catch"](3);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return", context.empty());

			case 27:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[3, 14, 18, 26], [19,, 21, 25]]);
}

module.exports = exports["default"];
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":28}],412:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclarator;
var marked0$0 = [VariableDeclarator].map(_regeneratorRuntime.mark);

function VariableDeclarator(context) {
	var name, value;
	return _regeneratorRuntime.wrap(function VariableDeclarator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				name = context.node.id.name;
				value = undefined;

				if (!context.node.init) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.init).execute();

			case 5:
				value = context$1$0.sent.result;

			case 6:

				// variables have already been hoisted so we just need to initialize them if defined
				if (value) {
					context.env.setValue(name, value.getValue());
				}

				return context$1$0.abrupt("return", context.result(context.env.getReference(name)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":28}],413:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = WithStatement;
var marked0$0 = [WithStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function WithStatement(context) {
	var obj, scope;
	return _regeneratorRuntime.wrap(function WithStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.env.isStrict()) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Strict mode code may not include a with statement")));

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.object).execute();

			case 4:
				obj = context$1$0.sent.result.getValue();

				if (!contracts.isNullOrUndefined(obj)) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new TypeError(obj.className + " has no properties")));

			case 7:
				scope = context.env.createObjectScope(obj, context.env.getThisBinding());

				scope.init(context.node.body);

				context$1$0.next = 11;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(context.node.body).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 11:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":373,"babel-runtime/helpers/interop-require-wildcard":26,"babel-runtime/regenerator":28}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbWF0aC9zaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9udW1iZXIvZXBzaWxvbi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbnVtYmVyL21heC1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL251bWJlci9taW4tc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N0cmluZy9mcm9tLWNvZGUtcG9pbnQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2Zvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9iaW5kLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG8tY29uc3VtYWJsZS1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3IvcnVudGltZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9lczYvcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2VzNi9zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9tYXRoL3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9zdHJpbmcvcmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL251bWJlci9lcHNpbG9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9udW1iZXIvbWF4LXNhZmUtaW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vbnVtYmVyL21pbi1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3RyaW5nL2Zyb20tY29kZS1wb2ludC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2Zvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY2xhc3NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWYuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmVudW0ta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZm9yLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2V0LW5hbWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmh0bWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pbnZva2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXMtYXJyYXktaXRlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmlzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXJhdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQua2V5b2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWl4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnByb3BlcnR5LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnNhbWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaGFyZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc3BlY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnN0cmljdC1uZXcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdXBwb3J0LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YWcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8taW5kZXguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8taW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLWxlbmd0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnVpZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnVuc2NvcGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC53a3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubWF0aC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5udW1iZXIuZXBzaWxvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubnVtYmVyLm1heC1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm51bWJlci5taW4tc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnByb21pc2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5mcm9tLWNvZGUtcG9pbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQuZGVmLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLmxpYnJhcnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQucmVkZWYuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQuc3RyaW5nLXJlcGVhdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvJC51bnNjb3BlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5yZXBlYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJzcmMvZW52L2RlY2xhcmF0aXZlLWVudmlyb25tZW50LmpzIiwic3JjL2Vudi9ob2lzdGVyLmpzIiwic3JjL2Vudi9pbmRleC5qcyIsInNyYy9lbnYvb2JqZWN0LWVudmlyb25tZW50LmpzIiwic3JjL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2UuanMiLCJzcmMvZW52L3JlZmVyZW5jZS5qcyIsInNyYy9lbnYvc2NvcGUuanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LWhlbHBlcnMuanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LmNvbmNhdC5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkuZXZlcnkuanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LmZpbHRlci5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkuZm9yLWVhY2guanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LmluZGV4LW9mLmpzIiwic3JjL2VzNS9hcnJheS9hcnJheS5pcy1hcnJheS5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkuam9pbi5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkubGFzdC1pbmRleC1vZi5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkubWFwLmpzIiwic3JjL2VzNS9hcnJheS9hcnJheS5wb3AuanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LnB1c2guanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LnJlZHVjZS1yaWdodC5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkucmVkdWNlLmpzIiwic3JjL2VzNS9hcnJheS9hcnJheS5yZXZlcnNlLmpzIiwic3JjL2VzNS9hcnJheS9hcnJheS5zaGlmdC5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkuc2xpY2UuanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LnNvbWUuanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LnNvcnQuanMiLCJzcmMvZXM1L2FycmF5L2FycmF5LnNwbGljZS5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyIsInNyYy9lczUvYXJyYXkvYXJyYXkudG8tc3RyaW5nLmpzIiwic3JjL2VzNS9hcnJheS9hcnJheS51bnNoaWZ0LmpzIiwic3JjL2VzNS9hcnJheS9pbmRleC5qcyIsInNyYy9lczUvYm9vbGVhbi9pbmRleC5qcyIsInNyYy9lczUvY29uc29sZS9pbmRleC5qcyIsInNyYy9lczUvZGF0ZS9pbmRleC5qcyIsInNyYy9lczUvZXJyb3IvaW5kZXguanMiLCJzcmMvZXM1L2Z1bmN0aW9uL2Z1bmN0aW9uLWhlbHBlcnMuanMiLCJzcmMvZXM1L2Z1bmN0aW9uL2Z1bmN0aW9uLmFwcGx5LmpzIiwic3JjL2VzNS9mdW5jdGlvbi9mdW5jdGlvbi5iaW5kLmpzIiwic3JjL2VzNS9mdW5jdGlvbi9mdW5jdGlvbi5jYWxsLmpzIiwic3JjL2VzNS9mdW5jdGlvbi9mdW5jdGlvbi50by1zdHJpbmcuanMiLCJzcmMvZXM1L2Z1bmN0aW9uL2luZGV4LmpzIiwic3JjL2VzNS9nbG9iYWwuZXZhbC5qcyIsInNyYy9lczUvZ2xvYmFsLmlzLWZpbml0ZS5qcyIsInNyYy9lczUvZ2xvYmFsLmlzLW5hbi5qcyIsInNyYy9lczUvZ2xvYmFsLnBhcnNlLWludC5qcyIsInNyYy9lczUvZ2xvYmFscy5qcyIsInNyYy9lczUvaW5kZXguanMiLCJzcmMvZXM1L2pzb24vaW5kZXguanMiLCJzcmMvZXM1L2pzb24vanNvbi5wYXJzZS5qcyIsInNyYy9lczUvanNvbi9qc29uLnN0cmluZ2lmeS5qcyIsInNyYy9lczUvbWF0aC9pbmRleC5qcyIsInNyYy9lczUvbnVtYmVyL2luZGV4LmpzIiwic3JjL2VzNS9udW1iZXIvbnVtYmVyLnRvLWZpeGVkLmpzIiwic3JjL2VzNS9udW1iZXIvbnVtYmVyLnRvLXN0cmluZy5qcyIsInNyYy9lczUvbnVtYmVyL251bWJlci52YWx1ZS1vZi5qcyIsInNyYy9lczUvb2JqZWN0L2luZGV4LmpzIiwic3JjL2VzNS9vYmplY3Qvb2JqZWN0LWhlbHBlcnMuanMiLCJzcmMvZXM1L29iamVjdC9vYmplY3QuY3JlYXRlLmpzIiwic3JjL2VzNS9vYmplY3Qvb2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzLmpzIiwic3JjL2VzNS9vYmplY3Qvb2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyIsInNyYy9lczUvb2JqZWN0L29iamVjdC5mcmVlemUuanMiLCJzcmMvZXM1L29iamVjdC9vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwic3JjL2VzNS9vYmplY3Qvb2JqZWN0LmdldC1vd24tcHJvcGVydHktbmFtZXMuanMiLCJzcmMvZXM1L29iamVjdC9vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsInNyYy9lczUvb2JqZWN0L29iamVjdC5oYXMtb3duLXByb3BlcnR5LmpzIiwic3JjL2VzNS9vYmplY3Qvb2JqZWN0LmlzLWV4dGVuc2libGUuanMiLCJzcmMvZXM1L29iamVjdC9vYmplY3QuaXMtZnJvemVuLmpzIiwic3JjL2VzNS9vYmplY3Qvb2JqZWN0LmlzLXByb3RvdHlwZS1vZi5qcyIsInNyYy9lczUvb2JqZWN0L29iamVjdC5pcy1zZWFsZWQuanMiLCJzcmMvZXM1L29iamVjdC9vYmplY3Qua2V5cy5qcyIsInNyYy9lczUvb2JqZWN0L29iamVjdC5wcmV2ZW50LWV4dGVuc2lvbnMuanMiLCJzcmMvZXM1L29iamVjdC9vYmplY3QucHJvcGVydHktaXMtZW51bWVyYWJsZS5qcyIsInNyYy9lczUvb2JqZWN0L29iamVjdC5zZWFsLmpzIiwic3JjL2VzNS9vYmplY3Qvb2JqZWN0LnRvLXN0cmluZy5qcyIsInNyYy9lczUvb2JqZWN0L29iamVjdC52YWx1ZS1vZi5qcyIsInNyYy9lczUvcmVnZXgvaW5kZXguanMiLCJzcmMvZXM1L3JlZ2V4L3JlZ2V4LmV4ZWMuanMiLCJzcmMvZXM1L3JlZ2V4L3JlZ2V4LnRlc3QuanMiLCJzcmMvZXM1L3JlZ2V4L3JlZ2V4LnRvLXN0cmluZy5qcyIsInNyYy9lczUvc3RyaW5nL2luZGV4LmpzIiwic3JjL2VzNS9zdHJpbmcvc3RyaW5nLmNvbmNhdC5qcyIsInNyYy9lczUvc3RyaW5nL3N0cmluZy5mcm9tLWNoYXItY29kZS5qcyIsInNyYy9lczUvc3RyaW5nL3N0cmluZy5tYXRjaC5qcyIsInNyYy9lczUvc3RyaW5nL3N0cmluZy5yZXBsYWNlLmpzIiwic3JjL2VzNS9zdHJpbmcvc3RyaW5nLnNlYXJjaC5qcyIsInNyYy9lczUvc3RyaW5nL3N0cmluZy5zbGljZS5qcyIsInNyYy9lczUvc3RyaW5nL3N0cmluZy5zcGxpdC5qcyIsInNyYy9lczUvc3RyaW5nL3N0cmluZy5zdWJzdHJpbmcuanMiLCJzcmMvZXM1L3N0cmluZy9zdHJpbmcudG8tc3RyaW5nLmpzIiwic3JjL2VzNS9zdHJpbmcvc3RyaW5nLnRyaW0uanMiLCJzcmMvZXM1L3N0cmluZy9zdHJpbmcudmFsdWUtb2YuanMiLCJzcmMvZXM2L2FycmF5LWhlbHBlcnMuanMiLCJzcmMvZXM2L2FycmF5LmNvcHktd2l0aGluLmpzIiwic3JjL2VzNi9hcnJheS5maWxsLmpzIiwic3JjL2VzNi9hcnJheS5maW5kLWluZGV4LmpzIiwic3JjL2VzNi9hcnJheS5maW5kLmpzIiwic3JjL2VzNi9hcnJheS5mcm9tLmpzIiwic3JjL2VzNi9hcnJheS5pdGVyYXRvci5qcyIsInNyYy9lczYvYXJyYXkuanMiLCJzcmMvZXM2L2FycmF5Lm9mLmpzIiwic3JjL2VzNi9jb2xsZWN0aW9uLWhlbHBlcnMuanMiLCJzcmMvZXM2L2luZGV4LmpzIiwic3JjL2VzNi9tYXAuY2xlYXIuanMiLCJzcmMvZXM2L21hcC5kZWxldGUuanMiLCJzcmMvZXM2L21hcC5mb3ItZWFjaC5qcyIsInNyYy9lczYvbWFwLmdldC5qcyIsInNyYy9lczYvbWFwLmhhcy5qcyIsInNyYy9lczYvbWFwLml0ZXJhdG9yLmpzIiwic3JjL2VzNi9tYXAuanMiLCJzcmMvZXM2L21hcC5zZXQuanMiLCJzcmMvZXM2L21hcC5zaXplLmpzIiwic3JjL2VzNi9tYXRoLmpzIiwic3JjL2VzNi9udW1iZXIuaXMtZmluaXRlLmpzIiwic3JjL2VzNi9udW1iZXIuaXMtaW50ZWdlci5qcyIsInNyYy9lczYvbnVtYmVyLmlzLW5hbi5qcyIsInNyYy9lczYvbnVtYmVyLmlzLXNhZmUtaW50ZWdlci5qcyIsInNyYy9lczYvbnVtYmVyLmpzIiwic3JjL2VzNi9udW1iZXIucGFyc2UtZmxvYXQuanMiLCJzcmMvZXM2L251bWJlci5wYXJzZS1pbnQuanMiLCJzcmMvZXM2L29iamVjdC5hc3NpZ24uanMiLCJzcmMvZXM2L29iamVjdC5nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMuanMiLCJzcmMvZXM2L29iamVjdC5pcy5qcyIsInNyYy9lczYvb2JqZWN0LmpzIiwic3JjL2VzNi9vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsInNyYy9lczYvb2JqZWN0LnRvLXN0cmluZy5qcyIsInNyYy9lczYvcHJveHkuanMiLCJzcmMvZXM2L3JlZmxlY3QuYXBwbHkuanMiLCJzcmMvZXM2L3JlZmxlY3QuY29uc3RydWN0LmpzIiwic3JjL2VzNi9yZWZsZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyIsInNyYy9lczYvcmVmbGVjdC5kZWxldGUtcHJvcGVydHkuanMiLCJzcmMvZXM2L3JlZmxlY3QuZW51bWVyYXRlLmpzIiwic3JjL2VzNi9yZWZsZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsInNyYy9lczYvcmVmbGVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwic3JjL2VzNi9yZWZsZWN0LmdldC5qcyIsInNyYy9lczYvcmVmbGVjdC5oYXMuanMiLCJzcmMvZXM2L3JlZmxlY3QuaXMtZXh0ZW5zaWJsZS5qcyIsInNyYy9lczYvcmVmbGVjdC5qcyIsInNyYy9lczYvcmVmbGVjdC5vd24ta2V5cy5qcyIsInNyYy9lczYvcmVmbGVjdC5wcmV2ZW50LWV4dGVuc2lvbnMuanMiLCJzcmMvZXM2L3JlZmxlY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsInNyYy9lczYvcmVmbGVjdC5zZXQuanMiLCJzcmMvZXM2L3JlZ2V4LmpzIiwic3JjL2VzNi9zZXQuYWRkLmpzIiwic3JjL2VzNi9zZXQuY2xlYXIuanMiLCJzcmMvZXM2L3NldC5kZWxldGUuanMiLCJzcmMvZXM2L3NldC5mb3ItZWFjaC5qcyIsInNyYy9lczYvc2V0Lmhhcy5qcyIsInNyYy9lczYvc2V0Lml0ZXJhdG9yLmpzIiwic3JjL2VzNi9zZXQuanMiLCJzcmMvZXM2L3NldC5zaXplLmpzIiwic3JjL2VzNi9zdHJpbmcuY29kZS1wb2ludC1hdC5qcyIsInNyYy9lczYvc3RyaW5nLmZyb20tY29kZS1wb2ludC5qcyIsInNyYy9lczYvc3RyaW5nLmluY2x1ZGVzLmpzIiwic3JjL2VzNi9zdHJpbmcuaXRlcmF0b3IuanMiLCJzcmMvZXM2L3N0cmluZy5qcyIsInNyYy9lczYvc3RyaW5nLm5vcm1hbGl6ZS5qcyIsInNyYy9lczYvc3RyaW5nLnJhdy5qcyIsInNyYy9lczYvc3RyaW5nLnJlcGVhdC5qcyIsInNyYy9lczYvc3ltYm9sLmpzIiwic3JjL2VzdHJlZS13YWxrZXIuanMiLCJzcmMvZXhlY3V0aW9uLWNvbnRleHQuanMiLCJzcmMvZXhlY3V0aW9uLXJlc3VsdC5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9pdGVyYXRvcnMvYXJyYXktaXRlcmF0b3IuanMiLCJzcmMvaXRlcmF0b3JzL2luZGV4LmpzIiwic3JjL2l0ZXJhdG9ycy9pdGVyYWJsZS1pdGVyYXRvci5qcyIsInNyYy9pdGVyYXRvcnMvc3BhcnNlLWl0ZXJhdG9yLmpzIiwic3JjL2l0ZXJhdG9ycy9zdHJpbmctaXRlcmF0b3IuanMiLCJzcmMva2V5d29yZHMuanMiLCJzcmMvcG9seWZpbGxzLmpzIiwic3JjL3N5bnRheC1ydWxlcy5qcyIsInNyYy90eXBlcy9hcmd1bWVudC10eXBlLmpzIiwic3JjL3R5cGVzL2FycmF5LXR5cGUuanMiLCJzcmMvdHlwZXMvY29sbGVjdGlvbi10eXBlLmpzIiwic3JjL3R5cGVzL2RhdGUtdHlwZS5qcyIsInNyYy90eXBlcy9lcnJvci10eXBlLmpzIiwic3JjL3R5cGVzL2Z1bmN0aW9uLXR5cGUuanMiLCJzcmMvdHlwZXMvaXRlcmF0b3ItdHlwZS5qcyIsInNyYy90eXBlcy9uYXRpdmUtZnVuY3Rpb24tdHlwZS5qcyIsInNyYy90eXBlcy9vYmplY3QtZmFjdG9yeS5qcyIsInNyYy90eXBlcy9vYmplY3QtdHlwZS5qcyIsInNyYy90eXBlcy9wcmltaXRpdmUtdHlwZS5qcyIsInNyYy90eXBlcy9wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwic3JjL3R5cGVzL3Byb3h5LXR5cGUuanMiLCJzcmMvdHlwZXMvcmVnZXgtdHlwZS5qcyIsInNyYy90eXBlcy9zdHJpbmctdHlwZS5qcyIsInNyYy90eXBlcy9zeW1ib2wtdHlwZS5qcyIsInNyYy91dGlscy9hc3NpZ24uanMiLCJzcmMvdXRpbHMvYXN5bmMuanMiLCJzcmMvdXRpbHMvY29udHJhY3RzLmpzIiwic3JjL3V0aWxzL2Z1bmMuanMiLCJzcmMvdXRpbHMvbmF0aXZlLmpzIiwic3JjL3V0aWxzL29iamVjdC5qcyIsInNyYy91dGlscy9vcGVyYXRvcnMuanMiLCJzcmMvdmlzaXRvcnMvYXJyYXktZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9hc3NpZ25tZW50LWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvYmluYXJ5LWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvYmxvY2stc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2NhbGwtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9kZWJ1Z2dlci1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZG8td2hpbGUtc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2VtcHR5LXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9leHByZXNzaW9uLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9mb3ItaW4tc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2Zvci1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZnVuY3Rpb24tZGVjbGFyYXRpb24uanMiLCJzcmMvdmlzaXRvcnMvZnVuY3Rpb24tZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9pZGVudGlmaWVyLmpzIiwic3JjL3Zpc2l0b3JzL2lmLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9pbmRleC5qcyIsInNyYy92aXNpdG9ycy9pbnRlcnJ1cHQtc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2xhYmVsZWQtc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2xpdGVyYWwuanMiLCJzcmMvdmlzaXRvcnMvbG9naWNhbC1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL21lbWJlci1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL21ldGEtcHJvcGVydHkuanMiLCJzcmMvdmlzaXRvcnMvb2JqZWN0LWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvcmV0dXJuLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9zZXF1ZW5jZS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3N3aXRjaC1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvdGFnZ2VkLXRlbXBsYXRlLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvdGVtcGxhdGUtbGl0ZXJhbC5qcyIsInNyYy92aXNpdG9ycy90aGlzLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvdGhyb3ctc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL3RyeS1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvdW5hcnktZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy91cGRhdGUtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy92YXJpYWJsZS1kZWNsYXJhdGlvbi5qcyIsInNyYy92aXNpdG9ycy92YXJpYWJsZS1kZWNsYXJhdG9yLmpzIiwic3JjL3Zpc2l0b3JzL3dpdGgtc3RhdGVtZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOzs7O0FDRkE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7O0FDREE7QUFDQTs7OztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM01BO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6Q0E7Ozs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOVBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2V0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDelFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaGZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOVRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbmNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMWhCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDelBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcGhCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcE1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaE1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9JQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbWF0aC9zaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL251bWJlci9lcHNpbG9uXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL251bWJlci9tYXgtc2FmZS1pbnRlZ2VyXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL251bWJlci9taW4tc2FmZS1pbnRlZ2VyXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zdHJpbmcvZnJvbS1jb2RlLXBvaW50XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvZm9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXG4gICAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KSgpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7XG4gIHZhciBfYWdhaW4gPSB0cnVlO1xuXG4gIF9mdW5jdGlvbjogd2hpbGUgKF9hZ2Fpbikge1xuICAgIHZhciBvYmplY3QgPSBfeCxcbiAgICAgICAgcHJvcGVydHkgPSBfeDIsXG4gICAgICAgIHJlY2VpdmVyID0gX3gzO1xuICAgIGRlc2MgPSBwYXJlbnQgPSBnZXR0ZXIgPSB1bmRlZmluZWQ7XG4gICAgX2FnYWluID0gZmFsc2U7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gICAgdmFyIGRlc2MgPSBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcblxuICAgIGlmIChkZXNjID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcblxuICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3ggPSBwYXJlbnQ7XG4gICAgICAgIF94MiA9IHByb3BlcnR5O1xuICAgICAgICBfeDMgPSByZWNlaXZlcjtcbiAgICAgICAgX2FnYWluID0gdHJ1ZTtcbiAgICAgICAgY29udGludWUgX2Z1bmN0aW9uO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHtcbiAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfT2JqZWN0JHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcbiAgICBcImRlZmF1bHRcIjogb2JqXG4gIH07XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkge1xuICAgIHJldHVybiBvYmo7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG5ld09iaiA9IHt9O1xuXG4gICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5ld09ialtcImRlZmF1bHRcIl0gPSBvYmo7XG4gICAgcmV0dXJuIG5ld09iajtcbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9BcnJheSRmcm9tID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tXCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9BcnJheSRmcm9tKGFycik7XG4gIH1cbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlXG4vLyBrZXB0IGlkZW50aWNhbCB0byB0aGUgd2F5IGl0IGlzIG9idGFpbmVkIGluIHJ1bnRpbWUuanNcbnZhciBnID1cbiAgdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOlxuICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB0aGlzO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IG1vZHVsZS5leHBvcnRzLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eUwybHVaR1Y0TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN1FVRkJRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lMeThnVkdocGN5QnRaWFJvYjJRZ2IyWWdiMkowWVdsdWFXNW5JR0VnY21WbVpYSmxibU5sSUhSdklIUm9aU0JuYkc5aVlXd2diMkpxWldOMElHNWxaV1J6SUhSdklHSmxYRzR2THlCclpYQjBJR2xrWlc1MGFXTmhiQ0IwYnlCMGFHVWdkMkY1SUdsMElHbHpJRzlpZEdGcGJtVmtJR2x1SUhKMWJuUnBiV1V1YW5OY2JuWmhjaUJuSUQxY2JpQWdkSGx3Wlc5bUlHZHNiMkpoYkNBOVBUMGdYQ0p2WW1wbFkzUmNJaUEvSUdkc2IySmhiQ0E2WEc0Z0lIUjVjR1Z2WmlCM2FXNWtiM2NnUFQwOUlGd2liMkpxWldOMFhDSWdQeUIzYVc1a2IzY2dPbHh1SUNCMGVYQmxiMllnYzJWc1ppQTlQVDBnWENKdlltcGxZM1JjSWlBL0lITmxiR1lnT2lCMGFHbHpPMXh1WEc0dkx5QlZjMlVnWUdkbGRFOTNibEJ5YjNCbGNuUjVUbUZ0WlhOZ0lHSmxZMkYxYzJVZ2JtOTBJR0ZzYkNCaWNtOTNjMlZ5Y3lCemRYQndiM0owSUdOaGJHeHBibWRjYmk4dklHQm9ZWE5QZDI1UWNtOXdaWEowZVdBZ2IyNGdkR2hsSUdkc2IySmhiQ0JnYzJWc1ptQWdiMkpxWldOMElHbHVJR0VnZDI5eWEyVnlMaUJUWldVZ0l6RTRNeTVjYm5aaGNpQm9ZV1JTZFc1MGFXMWxJRDBnWnk1eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVZ0ppWmNiaUFnVDJKcVpXTjBMbWRsZEU5M2JsQnliM0JsY25SNVRtRnRaWE1vWnlrdWFXNWtaWGhQWmloY0luSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpWd2lLU0ErUFNBd08xeHVYRzR2THlCVFlYWmxJSFJvWlNCdmJHUWdjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxJR2x1SUdOaGMyVWdhWFFnYm1WbFpITWdkRzhnWW1VZ2NtVnpkRzl5WldRZ2JHRjBaWEl1WEc1MllYSWdiMnhrVW5WdWRHbHRaU0E5SUdoaFpGSjFiblJwYldVZ0ppWWdaeTV5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1U3WEc1Y2JpOHZJRVp2Y21ObElISmxaWFpoYkhWMFlYUnBiMjRnYjJZZ2NuVnVkR2x0WlM1cWN5NWNibWN1Y21WblpXNWxjbUYwYjNKU2RXNTBhVzFsSUQwZ2RXNWtaV1pwYm1Wa08xeHVYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJSEpsY1hWcGNtVW9YQ0l1TDNKMWJuUnBiV1ZjSWlrN1hHNWNibWxtSUNob1lXUlNkVzUwYVcxbEtTQjdYRzRnSUM4dklGSmxjM1J2Y21VZ2RHaGxJRzl5YVdkcGJtRnNJSEoxYm5ScGJXVXVYRzRnSUdjdWNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbElEMGdiMnhrVW5WdWRHbHRaVHRjYm4wZ1pXeHpaU0I3WEc0Z0lDOHZJRkpsYlc5MlpTQjBhR1VnWjJ4dlltRnNJSEJ5YjNCbGNuUjVJR0ZrWkdWa0lHSjVJSEoxYm5ScGJXVXVhbk11WEc0Z0lIUnllU0I3WEc0Z0lDQWdaR1ZzWlhSbElHY3VjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxPMXh1SUNCOUlHTmhkR05vS0dVcElIdGNiaUFnSUNCbkxuSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTQTlJSFZ1WkdWbWFXNWxaRHRjYmlBZ2ZWeHVmVnh1WEc1dGIyUjFiR1V1Wlhod2IzSjBjeUE5SUhzZ1hDSmtaV1poZFd4MFhDSTZJRzF2WkhWc1pTNWxlSEJ2Y25SekxDQmZYMlZ6VFc5a2RXeGxPaUIwY25WbElIMDdYRzRpWFgwPSIsIihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9tYXN0ZXIvTElDRU5TRSBmaWxlLiBBblxuICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluXG4gKiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfU3ltYm9sID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2xcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRpdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9Qcm9taXNlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlXCIpW1wiZGVmYXVsdFwiXTtcblxuIShmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gdHlwZW9mIF9TeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBfU3ltYm9sJGl0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuXG4gIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCI7XG4gIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgaWYgKHJ1bnRpbWUpIHtcbiAgICBpZiAoaW5Nb2R1bGUpIHtcbiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSxcbiAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXNcbiAgICAvLyBhbHJlYWR5IGRlZmluZWQgZ2xvYmFsbHkuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyXG4gIC8vIG1vZHVsZS5leHBvcnRzIChpZiB3ZSdyZSBpbiBhIG1vZHVsZSkgb3IgYSBuZXcsIGVtcHR5IG9iamVjdC5cbiAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIGdlbmVyYXRvciA9IF9PYmplY3QkY3JlYXRlKChvdXRlckZuIHx8IEdlbmVyYXRvcikucHJvdG90eXBlKTtcblxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmIHx8IG51bGwsIG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKSk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIHJ1bnRpbWUud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvciA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgOiBmYWxzZTtcbiAgfTtcblxuICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBfT2JqZWN0JGNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudGAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuIFNvbWUgbWF5IGNvbnNpZGVyIHRoZSBuYW1lIG9mIHRoaXMgbWV0aG9kIHRvb1xuICAvLyBjdXRlc3ksIGJ1dCB0aGV5IGFyZSBjdXJtdWRnZW9ucy5cbiAgcnVudGltZS5hd3JhcCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4gbmV3IEF3YWl0QXJndW1lbnQoYXJnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBBd2FpdEFyZ3VtZW50KGFyZykge1xuICAgIHRoaXMuYXJnID0gYXJnO1xuICB9XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IpIHtcbiAgICAvLyBUaGlzIGludm9rZSBmdW5jdGlvbiBpcyB3cml0dGVuIGluIGEgc3R5bGUgdGhhdCBhc3N1bWVzIHNvbWVcbiAgICAvLyBjYWxsaW5nIGZ1bmN0aW9uIChvciBQcm9taXNlKSB3aWxsIGhhbmRsZSBleGNlcHRpb25zLlxuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IGdlbmVyYXRvclttZXRob2RdKGFyZyk7XG4gICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBBd2FpdEFyZ3VtZW50ID8gX1Byb21pc2UucmVzb2x2ZSh2YWx1ZS5hcmcpLnRoZW4oaW52b2tlTmV4dCwgaW52b2tlVGhyb3cpIDogX1Byb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodW53cmFwcGVkKSB7XG4gICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGhvd2V2ZXIsIHRoZVxuICAgICAgICAvLyByZXN1bHQgZm9yIHRoaXMgaXRlcmF0aW9uIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAvLyByZWFzb24uIE5vdGUgdGhhdCByZWplY3Rpb25zIG9mIHlpZWxkZWQgUHJvbWlzZXMgYXJlIG5vdFxuICAgICAgICAvLyB0aHJvd24gYmFjayBpbnRvIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIGFzIGlzIHRoZSBjYXNlXG4gICAgICAgIC8vIHdoZW4gYW4gYXdhaXRlZCBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzIGRpZmZlcmVuY2UgaW5cbiAgICAgICAgLy8gYmVoYXZpb3IgYmV0d2VlbiB5aWVsZCBhbmQgYXdhaXQgaXMgaW1wb3J0YW50LCBiZWNhdXNlIGl0XG4gICAgICAgIC8vIGFsbG93cyB0aGUgY29uc3VtZXIgdG8gZGVjaWRlIHdoYXQgdG8gZG8gd2l0aCB0aGUgeWllbGRlZFxuICAgICAgICAvLyByZWplY3Rpb24gKHN3YWxsb3cgaXQgYW5kIGNvbnRpbnVlLCBtYW51YWxseSAudGhyb3cgaXQgYmFja1xuICAgICAgICAvLyBpbnRvIHRoZSBnZW5lcmF0b3IsIGFiYW5kb24gaXRlcmF0aW9uLCB3aGF0ZXZlcikuIFdpdGhcbiAgICAgICAgLy8gYXdhaXQsIGJ5IGNvbnRyYXN0LCB0aGVyZSBpcyBubyBvcHBvcnR1bml0eSB0byBleGFtaW5lIHRoZVxuICAgICAgICAvLyByZWplY3Rpb24gcmVhc29uIG91dHNpZGUgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgc28gdGhlXG4gICAgICAgIC8vIG9ubHkgb3B0aW9uIGlzIHRvIHRocm93IGl0IGZyb20gdGhlIGF3YWl0IGV4cHJlc3Npb24sIGFuZFxuICAgICAgICAvLyBsZXQgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiBoYW5kbGUgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZG9tYWluKSB7XG4gICAgICBpbnZva2UgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSk7XG4gICAgfVxuXG4gICAgdmFyIGludm9rZU5leHQgPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwibmV4dFwiKTtcbiAgICB2YXIgaW52b2tlVGhyb3cgPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwidGhyb3dcIik7XG4gICAgdmFyIGludm9rZVJldHVybiA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJyZXR1cm5cIik7XG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciBlbnF1ZXVlUmVzdWx0ID1cbiAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSkgOiBuZXcgX1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmVzb2x2ZShpbnZva2UobWV0aG9kLCBhcmcpKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBlbnF1ZXVlUmVzdWx0IGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5XG4gICAgICAvLyBsYXRlciBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICBwcmV2aW91c1Byb21pc2UgPSBlbnF1ZXVlUmVzdWx0W1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGlnbm9yZWQpIHt9KTtcblxuICAgICAgcmV0dXJuIGVucXVldWVSZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgcnVudGltZS5hc3luYyA9IGZ1bmN0aW9uIChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkpO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKSA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIiB8fCBtZXRob2QgPT09IFwidGhyb3dcIiAmJiBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2RdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEEgcmV0dXJuIG9yIHRocm93ICh3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gdGhyb3dcbiAgICAgICAgICAgIC8vIG1ldGhvZCkgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICAgIHZhciByZXR1cm5NZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5NZXRob2QpIHtcbiAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKHJldHVybk1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG4gICAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJldHVybiBtZXRob2QgdGhyZXcgYW4gZXhjZXB0aW9uLCBsZXQgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiBwcmV2YWlsIG92ZXIgdGhlIG9yaWdpbmFsIHJldHVybiBvciB0aHJvdy5cbiAgICAgICAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggdGhlIG91dGVyIHJldHVybiwgbm93IHRoYXQgdGhlIGRlbGVnYXRlXG4gICAgICAgICAgICAgIC8vIGl0ZXJhdG9yIGhhcyBiZWVuIHRlcm1pbmF0ZWQuXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2RdLCBkZWxlZ2F0ZS5pdGVyYXRvciwgYXJnKTtcblxuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gTGlrZSByZXR1cm5pbmcgZ2VuZXJhdG9yLnRocm93KHVuY2F1Z2h0KSwgYnV0IHdpdGhvdXQgdGhlXG4gICAgICAgICAgICAvLyBvdmVyaGVhZCBvZiBhbiBleHRyYSBmdW5jdGlvbiBjYWxsLlxuICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERlbGVnYXRlIGdlbmVyYXRvciByYW4gYW5kIGhhbmRsZWQgaXRzIG93biBleGNlcHRpb25zIHNvXG4gICAgICAgICAgLy8gcmVnYXJkbGVzcyBvZiB3aGF0IHRoZSBtZXRob2Qgd2FzLCB3ZSBjb250aW51ZSBhcyBpZiBpdCBpc1xuICAgICAgICAgIC8vIFwibmV4dFwiIHdpdGggYW4gdW5kZWZpbmVkIGFyZy5cbiAgICAgICAgICBtZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG4gICAgICAgICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSBhcmc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oYXJnKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgICBtZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lID8gR2VuU3RhdGVDb21wbGV0ZWQgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuZGVsZWdhdGUgJiYgbWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgcnVudGltZS5rZXlzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsXG4gICAgICAgICAgICBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgcnVudGltZS52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIHRoaXMuc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuICAgICAgICByZXR1cm4gISFjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiYgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmICh0eXBlID09PSBcImJyZWFrXCIgfHwgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJiBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJiBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fCByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaChmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcbn0pKFxuLy8gQW1vbmcgdGhlIHZhcmlvdXMgdHJpY2tzIGZvciBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbFxuLy8gb2JqZWN0LCB0aGlzIHNlZW1zIHRvIGJlIHRoZSBtb3N0IHJlbGlhYmxlIHRlY2huaXF1ZSB0aGF0IGRvZXMgbm90XG4vLyB1c2UgaW5kaXJlY3QgZXZhbCAod2hpY2ggdmlvbGF0ZXMgQ29udGVudCBTZWN1cml0eSBQb2xpY3kpLlxudHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6IHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB1bmRlZmluZWQpO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJyksdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpWVdKbGJDMXlkVzUwYVcxbEwzSmxaMlZ1WlhKaGRHOXlMM0oxYm5ScGJXVXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWk4cUtseHVJQ29nUTI5d2VYSnBaMmgwSUNoaktTQXlNREUwTENCR1lXTmxZbTl2YXl3Z1NXNWpMbHh1SUNvZ1FXeHNJSEpwWjJoMGN5QnlaWE5sY25abFpDNWNiaUFxWEc0Z0tpQlVhR2x6SUhOdmRYSmpaU0JqYjJSbElHbHpJR3hwWTJWdWMyVmtJSFZ1WkdWeUlIUm9aU0JDVTBRdGMzUjViR1VnYkdsalpXNXpaU0JtYjNWdVpDQnBiaUIwYUdWY2JpQXFJR2gwZEhCek9pOHZjbUYzTG1kcGRHaDFZaTVqYjIwdlptRmpaV0p2YjJzdmNtVm5aVzVsY21GMGIzSXZiV0Z6ZEdWeUwweEpRMFZPVTBVZ1ptbHNaUzRnUVc1Y2JpQXFJR0ZrWkdsMGFXOXVZV3dnWjNKaGJuUWdiMllnY0dGMFpXNTBJSEpwWjJoMGN5QmpZVzRnWW1VZ1ptOTFibVFnYVc0Z2RHaGxJRkJCVkVWT1ZGTWdabWxzWlNCcGJseHVJQ29nZEdobElITmhiV1VnWkdseVpXTjBiM0o1TGx4dUlDb3ZYRzVjYmx3aWRYTmxJSE4wY21samRGd2lPMXh1WEc1MllYSWdYMU41YldKdmJDQTlJSEpsY1hWcGNtVW9YQ0ppWVdKbGJDMXlkVzUwYVcxbEwyTnZjbVV0YW5NdmMzbHRZbTlzWENJcFcxd2laR1ZtWVhWc2RGd2lYVHRjYmx4dWRtRnlJRjlUZVcxaWIyd2thWFJsY21GMGIzSWdQU0J5WlhGMWFYSmxLRndpWW1GaVpXd3RjblZ1ZEdsdFpTOWpiM0psTFdwekwzTjViV0p2YkM5cGRHVnlZWFJ2Y2x3aUtWdGNJbVJsWm1GMWJIUmNJbDA3WEc1Y2JuWmhjaUJmVDJKcVpXTjBKR055WldGMFpTQTlJSEpsY1hWcGNtVW9YQ0ppWVdKbGJDMXlkVzUwYVcxbEwyTnZjbVV0YW5NdmIySnFaV04wTDJOeVpXRjBaVndpS1Z0Y0ltUmxabUYxYkhSY0lsMDdYRzVjYm5aaGNpQmZVSEp2YldselpTQTlJSEpsY1hWcGNtVW9YQ0ppWVdKbGJDMXlkVzUwYVcxbEwyTnZjbVV0YW5NdmNISnZiV2x6WlZ3aUtWdGNJbVJsWm1GMWJIUmNJbDA3WEc1Y2JpRW9ablZ1WTNScGIyNGdLR2RzYjJKaGJDa2dlMXh1SUNCY0luVnpaU0J6ZEhKcFkzUmNJanRjYmx4dUlDQjJZWElnYUdGelQzZHVJRDBnVDJKcVpXTjBMbkJ5YjNSdmRIbHdaUzVvWVhOUGQyNVFjbTl3WlhKMGVUdGNiaUFnZG1GeUlIVnVaR1ZtYVc1bFpEc2dMeThnVFc5eVpTQmpiMjF3Y21WemMybGliR1VnZEdoaGJpQjJiMmxrSURBdVhHNGdJSFpoY2lCcGRHVnlZWFJ2Y2xONWJXSnZiQ0E5SUhSNWNHVnZaaUJmVTNsdFltOXNJRDA5UFNCY0ltWjFibU4wYVc5dVhDSWdKaVlnWDFONWJXSnZiQ1JwZEdWeVlYUnZjaUI4ZkNCY0lrQkFhWFJsY21GMGIzSmNJanRjYmx4dUlDQjJZWElnYVc1TmIyUjFiR1VnUFNCMGVYQmxiMllnYlc5a2RXeGxJRDA5UFNCY0ltOWlhbVZqZEZ3aU8xeHVJQ0IyWVhJZ2NuVnVkR2x0WlNBOUlHZHNiMkpoYkM1eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVN1hHNGdJR2xtSUNoeWRXNTBhVzFsS1NCN1hHNGdJQ0FnYVdZZ0tHbHVUVzlrZFd4bEtTQjdYRzRnSUNBZ0lDQXZMeUJKWmlCeVpXZGxibVZ5WVhSdmNsSjFiblJwYldVZ2FYTWdaR1ZtYVc1bFpDQm5iRzlpWVd4c2VTQmhibVFnZDJVbmNtVWdhVzRnWVNCdGIyUjFiR1VzWEc0Z0lDQWdJQ0F2THlCdFlXdGxJSFJvWlNCbGVIQnZjblJ6SUc5aWFtVmpkQ0JwWkdWdWRHbGpZV3dnZEc4Z2NtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExseHVJQ0FnSUNBZ2JXOWtkV3hsTG1WNGNHOXlkSE1nUFNCeWRXNTBhVzFsTzF4dUlDQWdJSDFjYmlBZ0lDQXZMeUJFYjI0bmRDQmliM1JvWlhJZ1pYWmhiSFZoZEdsdVp5QjBhR1VnY21WemRDQnZaaUIwYUdseklHWnBiR1VnYVdZZ2RHaGxJSEoxYm5ScGJXVWdkMkZ6WEc0Z0lDQWdMeThnWVd4eVpXRmtlU0JrWldacGJtVmtJR2RzYjJKaGJHeDVMbHh1SUNBZ0lISmxkSFZ5Ymp0Y2JpQWdmVnh1WEc0Z0lDOHZJRVJsWm1sdVpTQjBhR1VnY25WdWRHbHRaU0JuYkc5aVlXeHNlU0FvWVhNZ1pYaHdaV04wWldRZ1lua2daMlZ1WlhKaGRHVmtJR052WkdVcElHRnpJR1ZwZEdobGNseHVJQ0F2THlCdGIyUjFiR1V1Wlhod2IzSjBjeUFvYVdZZ2QyVW5jbVVnYVc0Z1lTQnRiMlIxYkdVcElHOXlJR0VnYm1WM0xDQmxiWEIwZVNCdlltcGxZM1F1WEc0Z0lISjFiblJwYldVZ1BTQm5iRzlpWVd3dWNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbElEMGdhVzVOYjJSMWJHVWdQeUJ0YjJSMWJHVXVaWGh3YjNKMGN5QTZJSHQ5TzF4dVhHNGdJR1oxYm1OMGFXOXVJSGR5WVhBb2FXNXVaWEpHYml3Z2IzVjBaWEpHYml3Z2MyVnNaaXdnZEhKNVRHOWpjMHhwYzNRcElIdGNiaUFnSUNBdkx5QkpaaUJ2ZFhSbGNrWnVJSEJ5YjNacFpHVmtMQ0IwYUdWdUlHOTFkR1Z5Um00dWNISnZkRzkwZVhCbElHbHVjM1JoYm1ObGIyWWdSMlZ1WlhKaGRHOXlMbHh1SUNBZ0lIWmhjaUJuWlc1bGNtRjBiM0lnUFNCZlQySnFaV04wSkdOeVpXRjBaU2dvYjNWMFpYSkdiaUI4ZkNCSFpXNWxjbUYwYjNJcExuQnliM1J2ZEhsd1pTazdYRzVjYmlBZ0lDQm5aVzVsY21GMGIzSXVYMmx1ZG05clpTQTlJRzFoYTJWSmJuWnZhMlZOWlhSb2IyUW9hVzV1WlhKR2Jpd2djMlZzWmlCOGZDQnVkV3hzTENCdVpYY2dRMjl1ZEdWNGRDaDBjbmxNYjJOelRHbHpkQ0I4ZkNCYlhTa3BPMXh1WEc0Z0lDQWdjbVYwZFhKdUlHZGxibVZ5WVhSdmNqdGNiaUFnZlZ4dUlDQnlkVzUwYVcxbExuZHlZWEFnUFNCM2NtRndPMXh1WEc0Z0lDOHZJRlJ5ZVM5allYUmphQ0JvWld4d1pYSWdkRzhnYldsdWFXMXBlbVVnWkdWdmNIUnBiV2w2WVhScGIyNXpMaUJTWlhSMWNtNXpJR0VnWTI5dGNHeGxkR2x2Ymx4dUlDQXZMeUJ5WldOdmNtUWdiR2xyWlNCamIyNTBaWGgwTG5SeWVVVnVkSEpwWlhOYmFWMHVZMjl0Y0d4bGRHbHZiaTRnVkdocGN5QnBiblJsY21aaFkyVWdZMjkxYkdSY2JpQWdMeThnYUdGMlpTQmlaV1Z1SUNoaGJtUWdkMkZ6SUhCeVpYWnBiM1Z6YkhrcElHUmxjMmxuYm1Wa0lIUnZJSFJoYTJVZ1lTQmpiRzl6ZFhKbElIUnZJR0psWEc0Z0lDOHZJR2x1ZG05clpXUWdkMmwwYUc5MWRDQmhjbWQxYldWdWRITXNJR0oxZENCcGJpQmhiR3dnZEdobElHTmhjMlZ6SUhkbElHTmhjbVVnWVdKdmRYUWdkMlZjYmlBZ0x5OGdZV3h5WldGa2VTQm9ZWFpsSUdGdUlHVjRhWE4wYVc1bklHMWxkR2h2WkNCM1pTQjNZVzUwSUhSdklHTmhiR3dzSUhOdklIUm9aWEpsSjNNZ2JtOGdibVZsWkZ4dUlDQXZMeUIwYnlCamNtVmhkR1VnWVNCdVpYY2dablZ1WTNScGIyNGdiMkpxWldOMExpQlhaU0JqWVc0Z1pYWmxiaUJuWlhRZ1lYZGhlU0IzYVhSb0lHRnpjM1Z0YVc1blhHNGdJQzh2SUhSb1pTQnRaWFJvYjJRZ2RHRnJaWE1nWlhoaFkzUnNlU0J2Ym1VZ1lYSm5kVzFsYm5Rc0lITnBibU5sSUhSb1lYUWdhR0Z3Y0dWdWN5QjBieUJpWlNCMGNuVmxYRzRnSUM4dklHbHVJR1YyWlhKNUlHTmhjMlVzSUhOdklIZGxJR1J2YmlkMElHaGhkbVVnZEc4Z2RHOTFZMmdnZEdobElHRnlaM1Z0Wlc1MGN5QnZZbXBsWTNRdUlGUm9aVnh1SUNBdkx5QnZibXg1SUdGa1pHbDBhVzl1WVd3Z1lXeHNiMk5oZEdsdmJpQnlaWEYxYVhKbFpDQnBjeUIwYUdVZ1kyOXRjR3hsZEdsdmJpQnlaV052Y21Rc0lIZG9hV05vWEc0Z0lDOHZJR2hoY3lCaElITjBZV0pzWlNCemFHRndaU0JoYm1RZ2MyOGdhRzl3WldaMWJHeDVJSE5vYjNWc1pDQmlaU0JqYUdWaGNDQjBieUJoYkd4dlkyRjBaUzVjYmlBZ1puVnVZM1JwYjI0Z2RISjVRMkYwWTJnb1ptNHNJRzlpYWl3Z1lYSm5LU0I3WEc0Z0lDQWdkSEo1SUh0Y2JpQWdJQ0FnSUhKbGRIVnliaUI3SUhSNWNHVTZJRndpYm05eWJXRnNYQ0lzSUdGeVp6b2dabTR1WTJGc2JDaHZZbW9zSUdGeVp5a2dmVHRjYmlBZ0lDQjlJR05oZEdOb0lDaGxjbklwSUh0Y2JpQWdJQ0FnSUhKbGRIVnliaUI3SUhSNWNHVTZJRndpZEdoeWIzZGNJaXdnWVhKbk9pQmxjbklnZlR0Y2JpQWdJQ0I5WEc0Z0lIMWNibHh1SUNCMllYSWdSMlZ1VTNSaGRHVlRkWE53Wlc1a1pXUlRkR0Z5ZENBOUlGd2ljM1Z6Y0dWdVpHVmtVM1JoY25SY0lqdGNiaUFnZG1GeUlFZGxibE4wWVhSbFUzVnpjR1Z1WkdWa1dXbGxiR1FnUFNCY0luTjFjM0JsYm1SbFpGbHBaV3hrWENJN1hHNGdJSFpoY2lCSFpXNVRkR0YwWlVWNFpXTjFkR2x1WnlBOUlGd2laWGhsWTNWMGFXNW5YQ0k3WEc0Z0lIWmhjaUJIWlc1VGRHRjBaVU52YlhCc1pYUmxaQ0E5SUZ3aVkyOXRjR3hsZEdWa1hDSTdYRzVjYmlBZ0x5OGdVbVYwZFhKdWFXNW5JSFJvYVhNZ2IySnFaV04wSUdaeWIyMGdkR2hsSUdsdWJtVnlSbTRnYUdGeklIUm9aU0J6WVcxbElHVm1abVZqZENCaGMxeHVJQ0F2THlCaWNtVmhhMmx1WnlCdmRYUWdiMllnZEdobElHUnBjM0JoZEdOb0lITjNhWFJqYUNCemRHRjBaVzFsYm5RdVhHNGdJSFpoY2lCRGIyNTBhVzUxWlZObGJuUnBibVZzSUQwZ2UzMDdYRzVjYmlBZ0x5OGdSSFZ0YlhrZ1kyOXVjM1J5ZFdOMGIzSWdablZ1WTNScGIyNXpJSFJvWVhRZ2QyVWdkWE5sSUdGeklIUm9aU0F1WTI5dWMzUnlkV04wYjNJZ1lXNWtYRzRnSUM4dklDNWpiMjV6ZEhKMVkzUnZjaTV3Y205MGIzUjVjR1VnY0hKdmNHVnlkR2xsY3lCbWIzSWdablZ1WTNScGIyNXpJSFJvWVhRZ2NtVjBkWEp1SUVkbGJtVnlZWFJ2Y2x4dUlDQXZMeUJ2WW1wbFkzUnpMaUJHYjNJZ1puVnNiQ0J6Y0dWaklHTnZiWEJzYVdGdVkyVXNJSGx2ZFNCdFlYa2dkMmx6YUNCMGJ5QmpiMjVtYVdkMWNtVWdlVzkxY2x4dUlDQXZMeUJ0YVc1cFptbGxjaUJ1YjNRZ2RHOGdiV0Z1WjJ4bElIUm9aU0J1WVcxbGN5QnZaaUIwYUdWelpTQjBkMjhnWm5WdVkzUnBiMjV6TGx4dUlDQm1kVzVqZEdsdmJpQkhaVzVsY21GMGIzSW9LU0I3ZlZ4dUlDQm1kVzVqZEdsdmJpQkhaVzVsY21GMGIzSkdkVzVqZEdsdmJpZ3BJSHQ5WEc0Z0lHWjFibU4wYVc5dUlFZGxibVZ5WVhSdmNrWjFibU4wYVc5dVVISnZkRzkwZVhCbEtDa2dlMzFjYmx4dUlDQjJZWElnUjNBZ1BTQkhaVzVsY21GMGIzSkdkVzVqZEdsdmJsQnliM1J2ZEhsd1pTNXdjbTkwYjNSNWNHVWdQU0JIWlc1bGNtRjBiM0l1Y0hKdmRHOTBlWEJsTzF4dUlDQkhaVzVsY21GMGIzSkdkVzVqZEdsdmJpNXdjbTkwYjNSNWNHVWdQU0JIY0M1amIyNXpkSEoxWTNSdmNpQTlJRWRsYm1WeVlYUnZja1oxYm1OMGFXOXVVSEp2ZEc5MGVYQmxPMXh1SUNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmxCeWIzUnZkSGx3WlM1amIyNXpkSEoxWTNSdmNpQTlJRWRsYm1WeVlYUnZja1oxYm1OMGFXOXVPMXh1SUNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2Ymk1a2FYTndiR0Y1VG1GdFpTQTlJRndpUjJWdVpYSmhkRzl5Um5WdVkzUnBiMjVjSWp0Y2JseHVJQ0F2THlCSVpXeHdaWElnWm05eUlHUmxabWx1YVc1bklIUm9aU0F1Ym1WNGRDd2dMblJvY205M0xDQmhibVFnTG5KbGRIVnliaUJ0WlhSb2IyUnpJRzltSUhSb1pWeHVJQ0F2THlCSmRHVnlZWFJ2Y2lCcGJuUmxjbVpoWTJVZ2FXNGdkR1Z5YlhNZ2IyWWdZU0J6YVc1bmJHVWdMbDlwYm5admEyVWdiV1YwYUc5a0xseHVJQ0JtZFc1amRHbHZiaUJrWldacGJtVkpkR1Z5WVhSdmNrMWxkR2h2WkhNb2NISnZkRzkwZVhCbEtTQjdYRzRnSUNBZ1cxd2libVY0ZEZ3aUxDQmNJblJvY205M1hDSXNJRndpY21WMGRYSnVYQ0pkTG1admNrVmhZMmdvWm5WdVkzUnBiMjRnS0cxbGRHaHZaQ2tnZTF4dUlDQWdJQ0FnY0hKdmRHOTBlWEJsVzIxbGRHaHZaRjBnUFNCbWRXNWpkR2x2YmlBb1lYSm5LU0I3WEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUIwYUdsekxsOXBiblp2YTJVb2JXVjBhRzlrTENCaGNtY3BPMXh1SUNBZ0lDQWdmVHRjYmlBZ0lDQjlLVHRjYmlBZ2ZWeHVYRzRnSUhKMWJuUnBiV1V1YVhOSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmlBOUlHWjFibU4wYVc5dUlDaG5aVzVHZFc0cElIdGNiaUFnSUNCMllYSWdZM1J2Y2lBOUlIUjVjR1Z2WmlCblpXNUdkVzRnUFQwOUlGd2lablZ1WTNScGIyNWNJaUFtSmlCblpXNUdkVzR1WTI5dWMzUnlkV04wYjNJN1hHNGdJQ0FnY21WMGRYSnVJR04wYjNJZ1B5QmpkRzl5SUQwOVBTQkhaVzVsY21GMGIzSkdkVzVqZEdsdmJpQjhmRnh1SUNBZ0lDOHZJRVp2Y2lCMGFHVWdibUYwYVhabElFZGxibVZ5WVhSdmNrWjFibU4wYVc5dUlHTnZibk4wY25WamRHOXlMQ0IwYUdVZ1ltVnpkQ0IzWlNCallXNWNiaUFnSUNBdkx5QmtieUJwY3lCMGJ5QmphR1ZqYXlCcGRITWdMbTVoYldVZ2NISnZjR1Z5ZEhrdVhHNGdJQ0FnS0dOMGIzSXVaR2x6Y0d4aGVVNWhiV1VnZkh3Z1kzUnZjaTV1WVcxbEtTQTlQVDBnWENKSFpXNWxjbUYwYjNKR2RXNWpkR2x2Ymx3aUlEb2dabUZzYzJVN1hHNGdJSDA3WEc1Y2JpQWdjblZ1ZEdsdFpTNXRZWEpySUQwZ1puVnVZM1JwYjI0Z0tHZGxia1oxYmlrZ2UxeHVJQ0FnSUdkbGJrWjFiaTVmWDNCeWIzUnZYMThnUFNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmxCeWIzUnZkSGx3WlR0Y2JpQWdJQ0JuWlc1R2RXNHVjSEp2ZEc5MGVYQmxJRDBnWDA5aWFtVmpkQ1JqY21WaGRHVW9SM0FwTzF4dUlDQWdJSEpsZEhWeWJpQm5aVzVHZFc0N1hHNGdJSDA3WEc1Y2JpQWdMeThnVjJsMGFHbHVJSFJvWlNCaWIyUjVJRzltSUdGdWVTQmhjM2x1WXlCbWRXNWpkR2x2Yml3Z1lHRjNZV2wwSUhoZ0lHbHpJSFJ5WVc1elptOXliV1ZrSUhSdlhHNGdJQzh2SUdCNWFXVnNaQ0J5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1V1WVhkeVlYQW9lQ2xnTENCemJ5QjBhR0YwSUhSb1pTQnlkVzUwYVcxbElHTmhiaUIwWlhOMFhHNGdJQzh2SUdCMllXeDFaU0JwYm5OMFlXNWpaVzltSUVGM1lXbDBRWEpuZFcxbGJuUmdJSFJ2SUdSbGRHVnliV2x1WlNCcFppQjBhR1VnZVdsbGJHUmxaQ0IyWVd4MVpTQnBjMXh1SUNBdkx5QnRaV0Z1ZENCMGJ5QmlaU0JoZDJGcGRHVmtMaUJUYjIxbElHMWhlU0JqYjI1emFXUmxjaUIwYUdVZ2JtRnRaU0J2WmlCMGFHbHpJRzFsZEdodlpDQjBiMjljYmlBZ0x5OGdZM1YwWlhONUxDQmlkWFFnZEdobGVTQmhjbVVnWTNWeWJYVmtaMlZ2Ym5NdVhHNGdJSEoxYm5ScGJXVXVZWGR5WVhBZ1BTQm1kVzVqZEdsdmJpQW9ZWEpuS1NCN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCQmQyRnBkRUZ5WjNWdFpXNTBLR0Z5WnlrN1hHNGdJSDA3WEc1Y2JpQWdablZ1WTNScGIyNGdRWGRoYVhSQmNtZDFiV1Z1ZENoaGNtY3BJSHRjYmlBZ0lDQjBhR2x6TG1GeVp5QTlJR0Z5Wnp0Y2JpQWdmVnh1WEc0Z0lHWjFibU4wYVc5dUlFRnplVzVqU1hSbGNtRjBiM0lvWjJWdVpYSmhkRzl5S1NCN1hHNGdJQ0FnTHk4Z1ZHaHBjeUJwYm5admEyVWdablZ1WTNScGIyNGdhWE1nZDNKcGRIUmxiaUJwYmlCaElITjBlV3hsSUhSb1lYUWdZWE56ZFcxbGN5QnpiMjFsWEc0Z0lDQWdMeThnWTJGc2JHbHVaeUJtZFc1amRHbHZiaUFvYjNJZ1VISnZiV2x6WlNrZ2QybHNiQ0JvWVc1a2JHVWdaWGhqWlhCMGFXOXVjeTVjYmlBZ0lDQm1kVzVqZEdsdmJpQnBiblp2YTJVb2JXVjBhRzlrTENCaGNtY3BJSHRjYmlBZ0lDQWdJSFpoY2lCeVpYTjFiSFFnUFNCblpXNWxjbUYwYjNKYmJXVjBhRzlrWFNoaGNtY3BPMXh1SUNBZ0lDQWdkbUZ5SUhaaGJIVmxJRDBnY21WemRXeDBMblpoYkhWbE8xeHVJQ0FnSUNBZ2NtVjBkWEp1SUhaaGJIVmxJR2x1YzNSaGJtTmxiMllnUVhkaGFYUkJjbWQxYldWdWRDQS9JRjlRY205dGFYTmxMbkpsYzI5c2RtVW9kbUZzZFdVdVlYSm5LUzUwYUdWdUtHbHVkbTlyWlU1bGVIUXNJR2x1ZG05clpWUm9jbTkzS1NBNklGOVFjbTl0YVhObExuSmxjMjlzZG1Vb2RtRnNkV1VwTG5Sb1pXNG9ablZ1WTNScGIyNGdLSFZ1ZDNKaGNIQmxaQ2tnZTF4dUlDQWdJQ0FnSUNBdkx5QlhhR1Z1SUdFZ2VXbGxiR1JsWkNCUWNtOXRhWE5sSUdseklISmxjMjlzZG1Wa0xDQnBkSE1nWm1sdVlXd2dkbUZzZFdVZ1ltVmpiMjFsYzF4dUlDQWdJQ0FnSUNBdkx5QjBhR1VnTG5aaGJIVmxJRzltSUhSb1pTQlFjbTl0YVhObFBIdDJZV3gxWlN4a2IyNWxmVDRnY21WemRXeDBJR1p2Y2lCMGFHVmNiaUFnSUNBZ0lDQWdMeThnWTNWeWNtVnVkQ0JwZEdWeVlYUnBiMjR1SUVsbUlIUm9aU0JRY205dGFYTmxJR2x6SUhKbGFtVmpkR1ZrTENCb2IzZGxkbVZ5TENCMGFHVmNiaUFnSUNBZ0lDQWdMeThnY21WemRXeDBJR1p2Y2lCMGFHbHpJR2wwWlhKaGRHbHZiaUIzYVd4c0lHSmxJSEpsYW1WamRHVmtJSGRwZEdnZ2RHaGxJSE5oYldWY2JpQWdJQ0FnSUNBZ0x5OGdjbVZoYzI5dUxpQk9iM1JsSUhSb1lYUWdjbVZxWldOMGFXOXVjeUJ2WmlCNWFXVnNaR1ZrSUZCeWIyMXBjMlZ6SUdGeVpTQnViM1JjYmlBZ0lDQWdJQ0FnTHk4Z2RHaHliM2R1SUdKaFkyc2dhVzUwYnlCMGFHVWdaMlZ1WlhKaGRHOXlJR1oxYm1OMGFXOXVMQ0JoY3lCcGN5QjBhR1VnWTJGelpWeHVJQ0FnSUNBZ0lDQXZMeUIzYUdWdUlHRnVJR0YzWVdsMFpXUWdVSEp2YldselpTQnBjeUJ5WldwbFkzUmxaQzRnVkdocGN5QmthV1ptWlhKbGJtTmxJR2x1WEc0Z0lDQWdJQ0FnSUM4dklHSmxhR0YyYVc5eUlHSmxkSGRsWlc0Z2VXbGxiR1FnWVc1a0lHRjNZV2wwSUdseklHbHRjRzl5ZEdGdWRDd2dZbVZqWVhWelpTQnBkRnh1SUNBZ0lDQWdJQ0F2THlCaGJHeHZkM01nZEdobElHTnZibk4xYldWeUlIUnZJR1JsWTJsa1pTQjNhR0YwSUhSdklHUnZJSGRwZEdnZ2RHaGxJSGxwWld4a1pXUmNiaUFnSUNBZ0lDQWdMeThnY21WcVpXTjBhVzl1SUNoemQyRnNiRzkzSUdsMElHRnVaQ0JqYjI1MGFXNTFaU3dnYldGdWRXRnNiSGtnTG5Sb2NtOTNJR2wwSUdKaFkydGNiaUFnSUNBZ0lDQWdMeThnYVc1MGJ5QjBhR1VnWjJWdVpYSmhkRzl5TENCaFltRnVaRzl1SUdsMFpYSmhkR2x2Yml3Z2QyaGhkR1YyWlhJcExpQlhhWFJvWEc0Z0lDQWdJQ0FnSUM4dklHRjNZV2wwTENCaWVTQmpiMjUwY21GemRDd2dkR2hsY21VZ2FYTWdibThnYjNCd2IzSjBkVzVwZEhrZ2RHOGdaWGhoYldsdVpTQjBhR1ZjYmlBZ0lDQWdJQ0FnTHk4Z2NtVnFaV04wYVc5dUlISmxZWE52YmlCdmRYUnphV1JsSUhSb1pTQm5aVzVsY21GMGIzSWdablZ1WTNScGIyNHNJSE52SUhSb1pWeHVJQ0FnSUNBZ0lDQXZMeUJ2Ym14NUlHOXdkR2x2YmlCcGN5QjBieUIwYUhKdmR5QnBkQ0JtY205dElIUm9aU0JoZDJGcGRDQmxlSEJ5WlhOemFXOXVMQ0JoYm1SY2JpQWdJQ0FnSUNBZ0x5OGdiR1YwSUhSb1pTQm5aVzVsY21GMGIzSWdablZ1WTNScGIyNGdhR0Z1Wkd4bElIUm9aU0JsZUdObGNIUnBiMjR1WEc0Z0lDQWdJQ0FnSUhKbGMzVnNkQzUyWVd4MVpTQTlJSFZ1ZDNKaGNIQmxaRHRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJSEpsYzNWc2REdGNiaUFnSUNBZ0lIMHBPMXh1SUNBZ0lIMWNibHh1SUNBZ0lHbG1JQ2gwZVhCbGIyWWdjSEp2WTJWemN5QTlQVDBnWENKdlltcGxZM1JjSWlBbUppQndjbTlqWlhOekxtUnZiV0ZwYmlrZ2UxeHVJQ0FnSUNBZ2FXNTJiMnRsSUQwZ2NISnZZMlZ6Y3k1a2IyMWhhVzR1WW1sdVpDaHBiblp2YTJVcE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUhaaGNpQnBiblp2YTJWT1pYaDBJRDBnYVc1MmIydGxMbUpwYm1Rb1oyVnVaWEpoZEc5eUxDQmNJbTVsZUhSY0lpazdYRzRnSUNBZ2RtRnlJR2x1ZG05clpWUm9jbTkzSUQwZ2FXNTJiMnRsTG1KcGJtUW9aMlZ1WlhKaGRHOXlMQ0JjSW5Sb2NtOTNYQ0lwTzF4dUlDQWdJSFpoY2lCcGJuWnZhMlZTWlhSMWNtNGdQU0JwYm5admEyVXVZbWx1WkNoblpXNWxjbUYwYjNJc0lGd2ljbVYwZFhKdVhDSXBPMXh1SUNBZ0lIWmhjaUJ3Y21WMmFXOTFjMUJ5YjIxcGMyVTdYRzVjYmlBZ0lDQm1kVzVqZEdsdmJpQmxibkYxWlhWbEtHMWxkR2h2WkN3Z1lYSm5LU0I3WEc0Z0lDQWdJQ0IyWVhJZ1pXNXhkV1YxWlZKbGMzVnNkQ0E5WEc0Z0lDQWdJQ0F2THlCSlppQmxibkYxWlhWbElHaGhjeUJpWldWdUlHTmhiR3hsWkNCaVpXWnZjbVVzSUhSb1pXNGdkMlVnZDJGdWRDQjBieUIzWVdsMElIVnVkR2xzWEc0Z0lDQWdJQ0F2THlCaGJHd2djSEpsZG1sdmRYTWdVSEp2YldselpYTWdhR0YyWlNCaVpXVnVJSEpsYzI5c2RtVmtJR0psWm05eVpTQmpZV3hzYVc1bklHbHVkbTlyWlN4Y2JpQWdJQ0FnSUM4dklITnZJSFJvWVhRZ2NtVnpkV3gwY3lCaGNtVWdZV3gzWVhseklHUmxiR2wyWlhKbFpDQnBiaUIwYUdVZ1kyOXljbVZqZENCdmNtUmxjaTRnU1daY2JpQWdJQ0FnSUM4dklHVnVjWFZsZFdVZ2FHRnpJRzV2ZENCaVpXVnVJR05oYkd4bFpDQmlaV1p2Y21Vc0lIUm9aVzRnYVhRZ2FYTWdhVzF3YjNKMFlXNTBJSFJ2WEc0Z0lDQWdJQ0F2THlCallXeHNJR2x1ZG05clpTQnBiVzFsWkdsaGRHVnNlU3dnZDJsMGFHOTFkQ0IzWVdsMGFXNW5JRzl1SUdFZ1kyRnNiR0poWTJzZ2RHOGdabWx5WlN4Y2JpQWdJQ0FnSUM4dklITnZJSFJvWVhRZ2RHaGxJR0Z6ZVc1aklHZGxibVZ5WVhSdmNpQm1kVzVqZEdsdmJpQm9ZWE1nZEdobElHOXdjRzl5ZEhWdWFYUjVJSFJ2SUdSdlhHNGdJQ0FnSUNBdkx5QmhibmtnYm1WalpYTnpZWEo1SUhObGRIVndJR2x1SUdFZ2NISmxaR2xqZEdGaWJHVWdkMkY1TGlCVWFHbHpJSEJ5WldScFkzUmhZbWxzYVhSNVhHNGdJQ0FnSUNBdkx5QnBjeUIzYUhrZ2RHaGxJRkJ5YjIxcGMyVWdZMjl1YzNSeWRXTjBiM0lnYzNsdVkyaHliMjV2ZFhOc2VTQnBiblp2YTJWeklHbDBjMXh1SUNBZ0lDQWdMeThnWlhobFkzVjBiM0lnWTJGc2JHSmhZMnNzSUdGdVpDQjNhSGtnWVhONWJtTWdablZ1WTNScGIyNXpJSE41Ym1Ob2NtOXViM1Z6YkhsY2JpQWdJQ0FnSUM4dklHVjRaV04xZEdVZ1kyOWtaU0JpWldadmNtVWdkR2hsSUdacGNuTjBJR0YzWVdsMExpQlRhVzVqWlNCM1pTQnBiWEJzWlcxbGJuUWdjMmx0Y0d4bFhHNGdJQ0FnSUNBdkx5QmhjM2x1WXlCbWRXNWpkR2x2Ym5NZ2FXNGdkR1Z5YlhNZ2IyWWdZWE41Ym1NZ1oyVnVaWEpoZEc5eWN5d2dhWFFnYVhNZ1pYTndaV05wWVd4c2VWeHVJQ0FnSUNBZ0x5OGdhVzF3YjNKMFlXNTBJSFJ2SUdkbGRDQjBhR2x6SUhKcFoyaDBMQ0JsZG1WdUlIUm9iM1ZuYUNCcGRDQnlaWEYxYVhKbGN5QmpZWEpsTGx4dUlDQWdJQ0FnY0hKbGRtbHZkWE5RY205dGFYTmxJRDhnY0hKbGRtbHZkWE5RY205dGFYTmxMblJvWlc0b1puVnVZM1JwYjI0Z0tDa2dlMXh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdhVzUyYjJ0bEtHMWxkR2h2WkN3Z1lYSm5LVHRjYmlBZ0lDQWdJSDBwSURvZ2JtVjNJRjlRY205dGFYTmxLR1oxYm1OMGFXOXVJQ2h5WlhOdmJIWmxLU0I3WEc0Z0lDQWdJQ0FnSUhKbGMyOXNkbVVvYVc1MmIydGxLRzFsZEdodlpDd2dZWEpuS1NrN1hHNGdJQ0FnSUNCOUtUdGNibHh1SUNBZ0lDQWdMeThnUVhadmFXUWdjSEp2Y0dGbllYUnBibWNnWlc1eGRXVjFaVkpsYzNWc2RDQm1ZV2xzZFhKbGN5QjBieUJRY205dGFYTmxjeUJ5WlhSMWNtNWxaQ0JpZVZ4dUlDQWdJQ0FnTHk4Z2JHRjBaWElnYVc1MmIyTmhkR2x2Ym5NZ2IyWWdkR2hsSUdsMFpYSmhkRzl5TGx4dUlDQWdJQ0FnY0hKbGRtbHZkWE5RY205dGFYTmxJRDBnWlc1eGRXVjFaVkpsYzNWc2RGdGNJbU5oZEdOb1hDSmRLR1oxYm1OMGFXOXVJQ2hwWjI1dmNtVmtLU0I3ZlNrN1hHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCbGJuRjFaWFZsVW1WemRXeDBPMXh1SUNBZ0lIMWNibHh1SUNBZ0lDOHZJRVJsWm1sdVpTQjBhR1VnZFc1cFptbGxaQ0JvWld4d1pYSWdiV1YwYUc5a0lIUm9ZWFFnYVhNZ2RYTmxaQ0IwYnlCcGJYQnNaVzFsYm5RZ0xtNWxlSFFzWEc0Z0lDQWdMeThnTG5Sb2NtOTNMQ0JoYm1RZ0xuSmxkSFZ5YmlBb2MyVmxJR1JsWm1sdVpVbDBaWEpoZEc5eVRXVjBhRzlrY3lrdVhHNGdJQ0FnZEdocGN5NWZhVzUyYjJ0bElEMGdaVzV4ZFdWMVpUdGNiaUFnZlZ4dVhHNGdJR1JsWm1sdVpVbDBaWEpoZEc5eVRXVjBhRzlrY3loQmMzbHVZMGwwWlhKaGRHOXlMbkJ5YjNSdmRIbHdaU2s3WEc1Y2JpQWdMeThnVG05MFpTQjBhR0YwSUhOcGJYQnNaU0JoYzNsdVl5Qm1kVzVqZEdsdmJuTWdZWEpsSUdsdGNHeGxiV1Z1ZEdWa0lHOXVJSFJ2Y0NCdlpseHVJQ0F2THlCQmMzbHVZMGwwWlhKaGRHOXlJRzlpYW1WamRITTdJSFJvWlhrZ2FuVnpkQ0J5WlhSMWNtNGdZU0JRY205dGFYTmxJR1p2Y2lCMGFHVWdkbUZzZFdVZ2IyWmNiaUFnTHk4Z2RHaGxJR1pwYm1Gc0lISmxjM1ZzZENCd2NtOWtkV05sWkNCaWVTQjBhR1VnYVhSbGNtRjBiM0l1WEc0Z0lISjFiblJwYldVdVlYTjVibU1nUFNCbWRXNWpkR2x2YmlBb2FXNXVaWEpHYml3Z2IzVjBaWEpHYml3Z2MyVnNaaXdnZEhKNVRHOWpjMHhwYzNRcElIdGNiaUFnSUNCMllYSWdhWFJsY2lBOUlHNWxkeUJCYzNsdVkwbDBaWEpoZEc5eUtIZHlZWEFvYVc1dVpYSkdiaXdnYjNWMFpYSkdiaXdnYzJWc1ppd2dkSEo1VEc5amMweHBjM1FwS1R0Y2JseHVJQ0FnSUhKbGRIVnliaUJ5ZFc1MGFXMWxMbWx6UjJWdVpYSmhkRzl5Um5WdVkzUnBiMjRvYjNWMFpYSkdiaWtnUHlCcGRHVnlJQzh2SUVsbUlHOTFkR1Z5Um00Z2FYTWdZU0JuWlc1bGNtRjBiM0lzSUhKbGRIVnliaUIwYUdVZ1puVnNiQ0JwZEdWeVlYUnZjaTVjYmlBZ0lDQTZJR2wwWlhJdWJtVjRkQ2dwTG5Sb1pXNG9ablZ1WTNScGIyNGdLSEpsYzNWc2RDa2dlMXh1SUNBZ0lDQWdjbVYwZFhKdUlISmxjM1ZzZEM1a2IyNWxJRDhnY21WemRXeDBMblpoYkhWbElEb2dhWFJsY2k1dVpYaDBLQ2s3WEc0Z0lDQWdmU2s3WEc0Z0lIMDdYRzVjYmlBZ1puVnVZM1JwYjI0Z2JXRnJaVWx1ZG05clpVMWxkR2h2WkNocGJtNWxja1p1TENCelpXeG1MQ0JqYjI1MFpYaDBLU0I3WEc0Z0lDQWdkbUZ5SUhOMFlYUmxJRDBnUjJWdVUzUmhkR1ZUZFhOd1pXNWtaV1JUZEdGeWREdGNibHh1SUNBZ0lISmxkSFZ5YmlCbWRXNWpkR2x2YmlCcGJuWnZhMlVvYldWMGFHOWtMQ0JoY21jcElIdGNiaUFnSUNBZ0lHbG1JQ2h6ZEdGMFpTQTlQVDBnUjJWdVUzUmhkR1ZGZUdWamRYUnBibWNwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0Z3aVIyVnVaWEpoZEc5eUlHbHpJR0ZzY21WaFpIa2djblZ1Ym1sdVoxd2lLVHRjYmlBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnYVdZZ0tITjBZWFJsSUQwOVBTQkhaVzVUZEdGMFpVTnZiWEJzWlhSbFpDa2dlMXh1SUNBZ0lDQWdJQ0JwWmlBb2JXVjBhRzlrSUQwOVBTQmNJblJvY205M1hDSXBJSHRjYmlBZ0lDQWdJQ0FnSUNCMGFISnZkeUJoY21jN1hHNGdJQ0FnSUNBZ0lIMWNibHh1SUNBZ0lDQWdJQ0F2THlCQ1pTQm1iM0puYVhacGJtY3NJSEJsY2lBeU5TNHpMak11TXk0eklHOW1JSFJvWlNCemNHVmpPbHh1SUNBZ0lDQWdJQ0F2THlCb2RIUndjem92TDNCbGIzQnNaUzV0YjNwcGJHeGhMbTl5Wnk5K2FtOXlaVzVrYjNKbVppOWxjell0WkhKaFpuUXVhSFJ0YkNOelpXTXRaMlZ1WlhKaGRHOXljbVZ6ZFcxbFhHNGdJQ0FnSUNBZ0lISmxkSFZ5YmlCa2IyNWxVbVZ6ZFd4MEtDazdYRzRnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJSGRvYVd4bElDaDBjblZsS1NCN1hHNGdJQ0FnSUNBZ0lIWmhjaUJrWld4bFoyRjBaU0E5SUdOdmJuUmxlSFF1WkdWc1pXZGhkR1U3WEc0Z0lDQWdJQ0FnSUdsbUlDaGtaV3hsWjJGMFpTa2dlMXh1SUNBZ0lDQWdJQ0FnSUdsbUlDaHRaWFJvYjJRZ1BUMDlJRndpY21WMGRYSnVYQ0lnZkh3Z2JXVjBhRzlrSUQwOVBTQmNJblJvY205M1hDSWdKaVlnWkdWc1pXZGhkR1V1YVhSbGNtRjBiM0piYldWMGFHOWtYU0E5UFQwZ2RXNWtaV1pwYm1Wa0tTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QkJJSEpsZEhWeWJpQnZjaUIwYUhKdmR5QW9kMmhsYmlCMGFHVWdaR1ZzWldkaGRHVWdhWFJsY21GMGIzSWdhR0Z6SUc1dklIUm9jbTkzWEc0Z0lDQWdJQ0FnSUNBZ0lDQXZMeUJ0WlhSb2IyUXBJR0ZzZDJGNWN5QjBaWEp0YVc1aGRHVnpJSFJvWlNCNWFXVnNaQ29nYkc5dmNDNWNiaUFnSUNBZ0lDQWdJQ0FnSUdOdmJuUmxlSFF1WkdWc1pXZGhkR1VnUFNCdWRXeHNPMXh1WEc0Z0lDQWdJQ0FnSUNBZ0lDQXZMeUJKWmlCMGFHVWdaR1ZzWldkaGRHVWdhWFJsY21GMGIzSWdhR0Z6SUdFZ2NtVjBkWEp1SUcxbGRHaHZaQ3dnWjJsMlpTQnBkQ0JoWEc0Z0lDQWdJQ0FnSUNBZ0lDQXZMeUJqYUdGdVkyVWdkRzhnWTJ4bFlXNGdkWEF1WEc0Z0lDQWdJQ0FnSUNBZ0lDQjJZWElnY21WMGRYSnVUV1YwYUc5a0lEMGdaR1ZzWldkaGRHVXVhWFJsY21GMGIzSmJYQ0p5WlhSMWNtNWNJbDA3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnBaaUFvY21WMGRYSnVUV1YwYUc5a0tTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJ5WldOdmNtUWdQU0IwY25sRFlYUmphQ2h5WlhSMWNtNU5aWFJvYjJRc0lHUmxiR1ZuWVhSbExtbDBaWEpoZEc5eUxDQmhjbWNwTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JwWmlBb2NtVmpiM0prTG5SNWNHVWdQVDA5SUZ3aWRHaHliM2RjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDOHZJRWxtSUhSb1pTQnlaWFIxY200Z2JXVjBhRzlrSUhSb2NtVjNJR0Z1SUdWNFkyVndkR2x2Yml3Z2JHVjBJSFJvWVhSY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkx5QmxlR05sY0hScGIyNGdjSEpsZG1GcGJDQnZkbVZ5SUhSb1pTQnZjbWxuYVc1aGJDQnlaWFIxY200Z2IzSWdkR2h5YjNjdVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2JXVjBhRzlrSUQwZ1hDSjBhSEp2ZDF3aU8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHRnlaeUE5SUhKbFkyOXlaQzVoY21jN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1kyOXVkR2x1ZFdVN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdhV1lnS0cxbGRHaHZaQ0E5UFQwZ1hDSnlaWFIxY201Y0lpa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMeUJEYjI1MGFXNTFaU0IzYVhSb0lIUm9aU0J2ZFhSbGNpQnlaWFIxY200c0lHNXZkeUIwYUdGMElIUm9aU0JrWld4bFoyRjBaVnh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMeUJwZEdWeVlYUnZjaUJvWVhNZ1ltVmxiaUIwWlhKdGFXNWhkR1ZrTGx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JqYjI1MGFXNTFaVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ0lDQjJZWElnY21WamIzSmtJRDBnZEhKNVEyRjBZMmdvWkdWc1pXZGhkR1V1YVhSbGNtRjBiM0piYldWMGFHOWtYU3dnWkdWc1pXZGhkR1V1YVhSbGNtRjBiM0lzSUdGeVp5azdYRzVjYmlBZ0lDQWdJQ0FnSUNCcFppQW9jbVZqYjNKa0xuUjVjR1VnUFQwOUlGd2lkR2h5YjNkY0lpa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ1kyOXVkR1Y0ZEM1a1pXeGxaMkYwWlNBOUlHNTFiR3c3WEc1Y2JpQWdJQ0FnSUNBZ0lDQWdJQzh2SUV4cGEyVWdjbVYwZFhKdWFXNW5JR2RsYm1WeVlYUnZjaTUwYUhKdmR5aDFibU5oZFdkb2RDa3NJR0oxZENCM2FYUm9iM1YwSUhSb1pWeHVJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z2IzWmxjbWhsWVdRZ2IyWWdZVzRnWlhoMGNtRWdablZ1WTNScGIyNGdZMkZzYkM1Y2JpQWdJQ0FnSUNBZ0lDQWdJRzFsZEdodlpDQTlJRndpZEdoeWIzZGNJanRjYmlBZ0lDQWdJQ0FnSUNBZ0lHRnlaeUE5SUhKbFkyOXlaQzVoY21jN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JqYjI1MGFXNTFaVHRjYmlBZ0lDQWdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lDQWdJQ0F2THlCRVpXeGxaMkYwWlNCblpXNWxjbUYwYjNJZ2NtRnVJR0Z1WkNCb1lXNWtiR1ZrSUdsMGN5QnZkMjRnWlhoalpYQjBhVzl1Y3lCemIxeHVJQ0FnSUNBZ0lDQWdJQzh2SUhKbFoyRnlaR3hsYzNNZ2IyWWdkMmhoZENCMGFHVWdiV1YwYUc5a0lIZGhjeXdnZDJVZ1kyOXVkR2x1ZFdVZ1lYTWdhV1lnYVhRZ2FYTmNiaUFnSUNBZ0lDQWdJQ0F2THlCY0ltNWxlSFJjSWlCM2FYUm9JR0Z1SUhWdVpHVm1hVzVsWkNCaGNtY3VYRzRnSUNBZ0lDQWdJQ0FnYldWMGFHOWtJRDBnWENKdVpYaDBYQ0k3WEc0Z0lDQWdJQ0FnSUNBZ1lYSm5JRDBnZFc1a1pXWnBibVZrTzF4dVhHNGdJQ0FnSUNBZ0lDQWdkbUZ5SUdsdVptOGdQU0J5WldOdmNtUXVZWEpuTzF4dUlDQWdJQ0FnSUNBZ0lHbG1JQ2hwYm1adkxtUnZibVVwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR052Ym5SbGVIUmJaR1ZzWldkaGRHVXVjbVZ6ZFd4MFRtRnRaVjBnUFNCcGJtWnZMblpoYkhWbE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWRHVjRkQzV1WlhoMElEMGdaR1ZzWldkaGRHVXVibVY0ZEV4dll6dGNiaUFnSUNBZ0lDQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2MzUmhkR1VnUFNCSFpXNVRkR0YwWlZOMWMzQmxibVJsWkZscFpXeGtPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUdsdVptODdYRzRnSUNBZ0lDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNBZ0lDQWdZMjl1ZEdWNGRDNWtaV3hsWjJGMFpTQTlJRzUxYkd3N1hHNGdJQ0FnSUNBZ0lIMWNibHh1SUNBZ0lDQWdJQ0JwWmlBb2JXVjBhRzlrSUQwOVBTQmNJbTVsZUhSY0lpa2dlMXh1SUNBZ0lDQWdJQ0FnSUdsbUlDaHpkR0YwWlNBOVBUMGdSMlZ1VTNSaGRHVlRkWE53Wlc1a1pXUlphV1ZzWkNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWRHVjRkQzV6Wlc1MElEMGdZWEpuTzF4dUlDQWdJQ0FnSUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JqYjI1MFpYaDBMbk5sYm5RZ1BTQjFibVJsWm1sdVpXUTdYRzRnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnYVdZZ0tHMWxkR2h2WkNBOVBUMGdYQ0owYUhKdmQxd2lLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLSE4wWVhSbElEMDlQU0JIWlc1VGRHRjBaVk4xYzNCbGJtUmxaRk4wWVhKMEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCemRHRjBaU0E5SUVkbGJsTjBZWFJsUTI5dGNHeGxkR1ZrTzF4dUlDQWdJQ0FnSUNBZ0lDQWdkR2h5YjNjZ1lYSm5PMXh1SUNBZ0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQWdJR2xtSUNoamIyNTBaWGgwTG1ScGMzQmhkR05vUlhoalpYQjBhVzl1S0dGeVp5a3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZJRWxtSUhSb1pTQmthWE53WVhSamFHVmtJR1Y0WTJWd2RHbHZiaUIzWVhNZ1kyRjFaMmgwSUdKNUlHRWdZMkYwWTJnZ1lteHZZMnNzWEc0Z0lDQWdJQ0FnSUNBZ0lDQXZMeUIwYUdWdUlHeGxkQ0IwYUdGMElHTmhkR05vSUdKc2IyTnJJR2hoYm1Sc1pTQjBhR1VnWlhoalpYQjBhVzl1SUc1dmNtMWhiR3g1TGx4dUlDQWdJQ0FnSUNBZ0lDQWdiV1YwYUc5a0lEMGdYQ0p1WlhoMFhDSTdYRzRnSUNBZ0lDQWdJQ0FnSUNCaGNtY2dQU0IxYm1SbFptbHVaV1E3WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQjlJR1ZzYzJVZ2FXWWdLRzFsZEdodlpDQTlQVDBnWENKeVpYUjFjbTVjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJR052Ym5SbGVIUXVZV0p5ZFhCMEtGd2ljbVYwZFhKdVhDSXNJR0Z5WnlrN1hHNGdJQ0FnSUNBZ0lIMWNibHh1SUNBZ0lDQWdJQ0J6ZEdGMFpTQTlJRWRsYmxOMFlYUmxSWGhsWTNWMGFXNW5PMXh1WEc0Z0lDQWdJQ0FnSUhaaGNpQnlaV052Y21RZ1BTQjBjbmxEWVhSamFDaHBibTVsY2tadUxDQnpaV3htTENCamIyNTBaWGgwS1R0Y2JpQWdJQ0FnSUNBZ2FXWWdLSEpsWTI5eVpDNTBlWEJsSUQwOVBTQmNJbTV2Y20xaGJGd2lLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0x5OGdTV1lnWVc0Z1pYaGpaWEIwYVc5dUlHbHpJSFJvY205M2JpQm1jbTl0SUdsdWJtVnlSbTRzSUhkbElHeGxZWFpsSUhOMFlYUmxJRDA5UFZ4dUlDQWdJQ0FnSUNBZ0lDOHZJRWRsYmxOMFlYUmxSWGhsWTNWMGFXNW5JR0Z1WkNCc2IyOXdJR0poWTJzZ1ptOXlJR0Z1YjNSb1pYSWdhVzUyYjJOaGRHbHZiaTVjYmlBZ0lDQWdJQ0FnSUNCemRHRjBaU0E5SUdOdmJuUmxlSFF1Wkc5dVpTQS9JRWRsYmxOMFlYUmxRMjl0Y0d4bGRHVmtJRG9nUjJWdVUzUmhkR1ZUZFhOd1pXNWtaV1JaYVdWc1pEdGNibHh1SUNBZ0lDQWdJQ0FnSUhaaGNpQnBibVp2SUQwZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnZG1Gc2RXVTZJSEpsWTI5eVpDNWhjbWNzWEc0Z0lDQWdJQ0FnSUNBZ0lDQmtiMjVsT2lCamIyNTBaWGgwTG1SdmJtVmNiaUFnSUNBZ0lDQWdJQ0I5TzF4dVhHNGdJQ0FnSUNBZ0lDQWdhV1lnS0hKbFkyOXlaQzVoY21jZ1BUMDlJRU52Ym5ScGJuVmxVMlZ1ZEdsdVpXd3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2hqYjI1MFpYaDBMbVJsYkdWbllYUmxJQ1ltSUcxbGRHaHZaQ0E5UFQwZ1hDSnVaWGgwWENJcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0x5OGdSR1ZzYVdKbGNtRjBaV3g1SUdadmNtZGxkQ0IwYUdVZ2JHRnpkQ0J6Wlc1MElIWmhiSFZsSUhOdklIUm9ZWFFnZDJVZ1pHOXVKM1JjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdMeThnWVdOamFXUmxiblJoYkd4NUlIQmhjM01nYVhRZ2IyNGdkRzhnZEdobElHUmxiR1ZuWVhSbExseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCaGNtY2dQU0IxYm1SbFptbHVaV1E3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCcGJtWnZPMXh1SUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ2ZTQmxiSE5sSUdsbUlDaHlaV052Y21RdWRIbHdaU0E5UFQwZ1hDSjBhSEp2ZDF3aUtTQjdYRzRnSUNBZ0lDQWdJQ0FnYzNSaGRHVWdQU0JIWlc1VGRHRjBaVU52YlhCc1pYUmxaRHRjYmlBZ0lDQWdJQ0FnSUNBdkx5QkVhWE53WVhSamFDQjBhR1VnWlhoalpYQjBhVzl1SUdKNUlHeHZiM0JwYm1jZ1ltRmpheUJoY205MWJtUWdkRzhnZEdobFhHNGdJQ0FnSUNBZ0lDQWdMeThnWTI5dWRHVjRkQzVrYVhOd1lYUmphRVY0WTJWd2RHbHZiaWhoY21jcElHTmhiR3dnWVdKdmRtVXVYRzRnSUNBZ0lDQWdJQ0FnYldWMGFHOWtJRDBnWENKMGFISnZkMXdpTzF4dUlDQWdJQ0FnSUNBZ0lHRnlaeUE5SUhKbFkyOXlaQzVoY21jN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lIMWNiaUFnSUNCOU8xeHVJQ0I5WEc1Y2JpQWdMeThnUkdWbWFXNWxJRWRsYm1WeVlYUnZjaTV3Y205MGIzUjVjR1V1ZTI1bGVIUXNkR2h5YjNjc2NtVjBkWEp1ZlNCcGJpQjBaWEp0Y3lCdlppQjBhR1ZjYmlBZ0x5OGdkVzVwWm1sbFpDQXVYMmx1ZG05clpTQm9aV3h3WlhJZ2JXVjBhRzlrTGx4dUlDQmtaV1pwYm1WSmRHVnlZWFJ2Y2sxbGRHaHZaSE1vUjNBcE8xeHVYRzRnSUVkd1cybDBaWEpoZEc5eVUzbHRZbTlzWFNBOUlHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ0lDQnlaWFIxY200Z2RHaHBjenRjYmlBZ2ZUdGNibHh1SUNCSGNDNTBiMU4wY21sdVp5QTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdYQ0piYjJKcVpXTjBJRWRsYm1WeVlYUnZjbDFjSWp0Y2JpQWdmVHRjYmx4dUlDQm1kVzVqZEdsdmJpQndkWE5vVkhKNVJXNTBjbmtvYkc5amN5a2dlMXh1SUNBZ0lIWmhjaUJsYm5SeWVTQTlJSHNnZEhKNVRHOWpPaUJzYjJOeld6QmRJSDA3WEc1Y2JpQWdJQ0JwWmlBb01TQnBiaUJzYjJOektTQjdYRzRnSUNBZ0lDQmxiblJ5ZVM1allYUmphRXh2WXlBOUlHeHZZM05iTVYwN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnYVdZZ0tESWdhVzRnYkc5amN5a2dlMXh1SUNBZ0lDQWdaVzUwY25rdVptbHVZV3hzZVV4dll5QTlJR3h2WTNOYk1sMDdYRzRnSUNBZ0lDQmxiblJ5ZVM1aFpuUmxja3h2WXlBOUlHeHZZM05iTTEwN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnZEdocGN5NTBjbmxGYm5SeWFXVnpMbkIxYzJnb1pXNTBjbmtwTzF4dUlDQjlYRzVjYmlBZ1puVnVZM1JwYjI0Z2NtVnpaWFJVY25sRmJuUnllU2hsYm5SeWVTa2dlMXh1SUNBZ0lIWmhjaUJ5WldOdmNtUWdQU0JsYm5SeWVTNWpiMjF3YkdWMGFXOXVJSHg4SUh0OU8xeHVJQ0FnSUhKbFkyOXlaQzUwZVhCbElEMGdYQ0p1YjNKdFlXeGNJanRjYmlBZ0lDQmtaV3hsZEdVZ2NtVmpiM0prTG1GeVp6dGNiaUFnSUNCbGJuUnllUzVqYjIxd2JHVjBhVzl1SUQwZ2NtVmpiM0prTzF4dUlDQjlYRzVjYmlBZ1puVnVZM1JwYjI0Z1EyOXVkR1Y0ZENoMGNubE1iMk56VEdsemRDa2dlMXh1SUNBZ0lDOHZJRlJvWlNCeWIyOTBJR1Z1ZEhKNUlHOWlhbVZqZENBb1pXWm1aV04wYVhabGJIa2dZU0IwY25rZ2MzUmhkR1Z0Wlc1MElIZHBkR2h2ZFhRZ1lTQmpZWFJqYUZ4dUlDQWdJQzh2SUc5eUlHRWdabWx1WVd4c2VTQmliRzlqYXlrZ1oybDJaWE1nZFhNZ1lTQndiR0ZqWlNCMGJ5QnpkRzl5WlNCMllXeDFaWE1nZEdoeWIzZHVJR1p5YjIxY2JpQWdJQ0F2THlCc2IyTmhkR2x2Ym5NZ2QyaGxjbVVnZEdobGNtVWdhWE1nYm04Z1pXNWpiRzl6YVc1bklIUnllU0J6ZEdGMFpXMWxiblF1WEc0Z0lDQWdkR2hwY3k1MGNubEZiblJ5YVdWeklEMGdXM3NnZEhKNVRHOWpPaUJjSW5KdmIzUmNJaUI5WFR0Y2JpQWdJQ0IwY25sTWIyTnpUR2x6ZEM1bWIzSkZZV05vS0hCMWMyaFVjbmxGYm5SeWVTd2dkR2hwY3lrN1hHNGdJQ0FnZEdocGN5NXlaWE5sZENoMGNuVmxLVHRjYmlBZ2ZWeHVYRzRnSUhKMWJuUnBiV1V1YTJWNWN5QTlJR1oxYm1OMGFXOXVJQ2h2WW1wbFkzUXBJSHRjYmlBZ0lDQjJZWElnYTJWNWN5QTlJRnRkTzF4dUlDQWdJR1p2Y2lBb2RtRnlJR3RsZVNCcGJpQnZZbXBsWTNRcElIdGNiaUFnSUNBZ0lHdGxlWE11Y0hWemFDaHJaWGtwTzF4dUlDQWdJSDFjYmlBZ0lDQnJaWGx6TG5KbGRtVnljMlVvS1R0Y2JseHVJQ0FnSUM4dklGSmhkR2hsY2lCMGFHRnVJSEpsZEhWeWJtbHVaeUJoYmlCdlltcGxZM1FnZDJsMGFDQmhJRzVsZUhRZ2JXVjBhRzlrTENCM1pTQnJaV1Z3WEc0Z0lDQWdMeThnZEdocGJtZHpJSE5wYlhCc1pTQmhibVFnY21WMGRYSnVJSFJvWlNCdVpYaDBJR1oxYm1OMGFXOXVJR2wwYzJWc1ppNWNiaUFnSUNCeVpYUjFjbTRnWm5WdVkzUnBiMjRnYm1WNGRDZ3BJSHRjYmlBZ0lDQWdJSGRvYVd4bElDaHJaWGx6TG14bGJtZDBhQ2tnZTF4dUlDQWdJQ0FnSUNCMllYSWdhMlY1SUQwZ2EyVjVjeTV3YjNBb0tUdGNiaUFnSUNBZ0lDQWdhV1lnS0d0bGVTQnBiaUJ2WW1wbFkzUXBJSHRjYmlBZ0lDQWdJQ0FnSUNCdVpYaDBMblpoYkhWbElEMGdhMlY1TzF4dUlDQWdJQ0FnSUNBZ0lHNWxlSFF1Wkc5dVpTQTlJR1poYkhObE8xeHVJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQnVaWGgwTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lDOHZJRlJ2SUdGMmIybGtJR055WldGMGFXNW5JR0Z1SUdGa1pHbDBhVzl1WVd3Z2IySnFaV04wTENCM1pTQnFkWE4wSUdoaGJtY2dkR2hsSUM1MllXeDFaVnh1SUNBZ0lDQWdMeThnWVc1a0lDNWtiMjVsSUhCeWIzQmxjblJwWlhNZ2IyWm1JSFJvWlNCdVpYaDBJR1oxYm1OMGFXOXVJRzlpYW1WamRDQnBkSE5sYkdZdUlGUm9hWE5jYmlBZ0lDQWdJQzh2SUdGc2MyOGdaVzV6ZFhKbGN5QjBhR0YwSUhSb1pTQnRhVzVwWm1sbGNpQjNhV3hzSUc1dmRDQmhibTl1ZVcxcGVtVWdkR2hsSUdaMWJtTjBhVzl1TGx4dUlDQWdJQ0FnYm1WNGRDNWtiMjVsSUQwZ2RISjFaVHRjYmlBZ0lDQWdJSEpsZEhWeWJpQnVaWGgwTzF4dUlDQWdJSDA3WEc0Z0lIMDdYRzVjYmlBZ1puVnVZM1JwYjI0Z2RtRnNkV1Z6S0dsMFpYSmhZbXhsS1NCN1hHNGdJQ0FnYVdZZ0tHbDBaWEpoWW14bEtTQjdYRzRnSUNBZ0lDQjJZWElnYVhSbGNtRjBiM0pOWlhSb2IyUWdQU0JwZEdWeVlXSnNaVnRwZEdWeVlYUnZjbE41YldKdmJGMDdYRzRnSUNBZ0lDQnBaaUFvYVhSbGNtRjBiM0pOWlhSb2IyUXBJSHRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJR2wwWlhKaGRHOXlUV1YwYUc5a0xtTmhiR3dvYVhSbGNtRmliR1VwTzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCcFppQW9kSGx3Wlc5bUlHbDBaWEpoWW14bExtNWxlSFFnUFQwOUlGd2lablZ1WTNScGIyNWNJaWtnZTF4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnYVhSbGNtRmliR1U3WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUdsbUlDZ2hhWE5PWVU0b2FYUmxjbUZpYkdVdWJHVnVaM1JvS1NrZ2UxeHVJQ0FnSUNBZ0lDQjJZWElnYVNBOUlDMHhMRnh1SUNBZ0lDQWdJQ0FnSUNBZ2JtVjRkQ0E5SUdaMWJtTjBhVzl1SUc1bGVIUW9LU0I3WEc0Z0lDQWdJQ0FnSUNBZ2QyaHBiR1VnS0NzcmFTQThJR2wwWlhKaFlteGxMbXhsYm1kMGFDa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLR2hoYzA5M2JpNWpZV3hzS0dsMFpYSmhZbXhsTENCcEtTa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnVaWGgwTG5aaGJIVmxJRDBnYVhSbGNtRmliR1ZiYVYwN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUc1bGVIUXVaRzl1WlNBOUlHWmhiSE5sTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdibVY0ZER0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lDQWdJQ0J1WlhoMExuWmhiSFZsSUQwZ2RXNWtaV1pwYm1Wa08xeHVJQ0FnSUNBZ0lDQWdJRzVsZUhRdVpHOXVaU0E5SUhSeWRXVTdYRzVjYmlBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYm1WNGREdGNiaUFnSUNBZ0lDQWdmVHRjYmx4dUlDQWdJQ0FnSUNCeVpYUjFjbTRnYm1WNGRDNXVaWGgwSUQwZ2JtVjRkRHRjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlYRzVjYmlBZ0lDQXZMeUJTWlhSMWNtNGdZVzRnYVhSbGNtRjBiM0lnZDJsMGFDQnVieUIyWVd4MVpYTXVYRzRnSUNBZ2NtVjBkWEp1SUhzZ2JtVjRkRG9nWkc5dVpWSmxjM1ZzZENCOU8xeHVJQ0I5WEc0Z0lISjFiblJwYldVdWRtRnNkV1Z6SUQwZ2RtRnNkV1Z6TzF4dVhHNGdJR1oxYm1OMGFXOXVJR1J2Ym1WU1pYTjFiSFFvS1NCN1hHNGdJQ0FnY21WMGRYSnVJSHNnZG1Gc2RXVTZJSFZ1WkdWbWFXNWxaQ3dnWkc5dVpUb2dkSEoxWlNCOU8xeHVJQ0I5WEc1Y2JpQWdRMjl1ZEdWNGRDNXdjbTkwYjNSNWNHVWdQU0I3WEc0Z0lDQWdZMjl1YzNSeWRXTjBiM0k2SUVOdmJuUmxlSFFzWEc1Y2JpQWdJQ0J5WlhObGREb2dablZ1WTNScGIyNGdjbVZ6WlhRb2MydHBjRlJsYlhCU1pYTmxkQ2tnZTF4dUlDQWdJQ0FnZEdocGN5NXdjbVYySUQwZ01EdGNiaUFnSUNBZ0lIUm9hWE11Ym1WNGRDQTlJREE3WEc0Z0lDQWdJQ0IwYUdsekxuTmxiblFnUFNCMWJtUmxabWx1WldRN1hHNGdJQ0FnSUNCMGFHbHpMbVJ2Ym1VZ1BTQm1ZV3h6WlR0Y2JpQWdJQ0FnSUhSb2FYTXVaR1ZzWldkaGRHVWdQU0J1ZFd4c08xeHVYRzRnSUNBZ0lDQjBhR2x6TG5SeWVVVnVkSEpwWlhNdVptOXlSV0ZqYUNoeVpYTmxkRlJ5ZVVWdWRISjVLVHRjYmx4dUlDQWdJQ0FnYVdZZ0tDRnphMmx3VkdWdGNGSmxjMlYwS1NCN1hHNGdJQ0FnSUNBZ0lHWnZjaUFvZG1GeUlHNWhiV1VnYVc0Z2RHaHBjeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDOHZJRTV2ZENCemRYSmxJR0ZpYjNWMElIUm9aU0J2Y0hScGJXRnNJRzl5WkdWeUlHOW1JSFJvWlhObElHTnZibVJwZEdsdmJuTTZYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tHNWhiV1V1WTJoaGNrRjBLREFwSUQwOVBTQmNJblJjSWlBbUppQm9ZWE5QZDI0dVkyRnNiQ2gwYUdsekxDQnVZVzFsS1NBbUppQWhhWE5PWVU0b0syNWhiV1V1YzJ4cFkyVW9NU2twS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0IwYUdselcyNWhiV1ZkSUQwZ2RXNWtaV1pwYm1Wa08xeHVJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnZlZ4dUlDQWdJSDBzWEc1Y2JpQWdJQ0J6ZEc5d09pQm1kVzVqZEdsdmJpQnpkRzl3S0NrZ2UxeHVJQ0FnSUNBZ2RHaHBjeTVrYjI1bElEMGdkSEoxWlR0Y2JseHVJQ0FnSUNBZ2RtRnlJSEp2YjNSRmJuUnllU0E5SUhSb2FYTXVkSEo1Ulc1MGNtbGxjMXN3WFR0Y2JpQWdJQ0FnSUhaaGNpQnliMjkwVW1WamIzSmtJRDBnY205dmRFVnVkSEo1TG1OdmJYQnNaWFJwYjI0N1hHNGdJQ0FnSUNCcFppQW9jbTl2ZEZKbFkyOXlaQzUwZVhCbElEMDlQU0JjSW5Sb2NtOTNYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHliM2NnY205dmRGSmxZMjl5WkM1aGNtYzdYRzRnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJSEpsZEhWeWJpQjBhR2x6TG5KMllXdzdYRzRnSUNBZ2ZTeGNibHh1SUNBZ0lHUnBjM0JoZEdOb1JYaGpaWEIwYVc5dU9pQm1kVzVqZEdsdmJpQmthWE53WVhSamFFVjRZMlZ3ZEdsdmJpaGxlR05sY0hScGIyNHBJSHRjYmlBZ0lDQWdJR2xtSUNoMGFHbHpMbVJ2Ym1VcElIdGNiaUFnSUNBZ0lDQWdkR2h5YjNjZ1pYaGpaWEIwYVc5dU8xeHVJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQjJZWElnWTI5dWRHVjRkQ0E5SUhSb2FYTTdYRzRnSUNBZ0lDQm1kVzVqZEdsdmJpQm9ZVzVrYkdVb2JHOWpMQ0JqWVhWbmFIUXBJSHRjYmlBZ0lDQWdJQ0FnY21WamIzSmtMblI1Y0dVZ1BTQmNJblJvY205M1hDSTdYRzRnSUNBZ0lDQWdJSEpsWTI5eVpDNWhjbWNnUFNCbGVHTmxjSFJwYjI0N1hHNGdJQ0FnSUNBZ0lHTnZiblJsZUhRdWJtVjRkQ0E5SUd4dll6dGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlDRWhZMkYxWjJoME8xeHVJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQm1iM0lnS0haaGNpQnBJRDBnZEdocGN5NTBjbmxGYm5SeWFXVnpMbXhsYm1kMGFDQXRJREU3SUdrZ1BqMGdNRHNnTFMxcEtTQjdYRzRnSUNBZ0lDQWdJSFpoY2lCbGJuUnllU0E5SUhSb2FYTXVkSEo1Ulc1MGNtbGxjMXRwWFR0Y2JpQWdJQ0FnSUNBZ2RtRnlJSEpsWTI5eVpDQTlJR1Z1ZEhKNUxtTnZiWEJzWlhScGIyNDdYRzVjYmlBZ0lDQWdJQ0FnYVdZZ0tHVnVkSEo1TG5SeWVVeHZZeUE5UFQwZ1hDSnliMjkwWENJcElIdGNiaUFnSUNBZ0lDQWdJQ0F2THlCRmVHTmxjSFJwYjI0Z2RHaHliM2R1SUc5MWRITnBaR1VnYjJZZ1lXNTVJSFJ5ZVNCaWJHOWpheUIwYUdGMElHTnZkV3hrSUdoaGJtUnNaVnh1SUNBZ0lDQWdJQ0FnSUM4dklHbDBMQ0J6YnlCelpYUWdkR2hsSUdOdmJYQnNaWFJwYjI0Z2RtRnNkV1VnYjJZZ2RHaGxJR1Z1ZEdseVpTQm1kVzVqZEdsdmJpQjBiMXh1SUNBZ0lDQWdJQ0FnSUM4dklIUm9jbTkzSUhSb1pTQmxlR05sY0hScGIyNHVYRzRnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJR2hoYm1Sc1pTaGNJbVZ1WkZ3aUtUdGNiaUFnSUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0FnSUdsbUlDaGxiblJ5ZVM1MGNubE1iMk1nUEQwZ2RHaHBjeTV3Y21WMktTQjdYRzRnSUNBZ0lDQWdJQ0FnZG1GeUlHaGhjME5oZEdOb0lEMGdhR0Z6VDNkdUxtTmhiR3dvWlc1MGNua3NJRndpWTJGMFkyaE1iMk5jSWlrN1hHNGdJQ0FnSUNBZ0lDQWdkbUZ5SUdoaGMwWnBibUZzYkhrZ1BTQm9ZWE5QZDI0dVkyRnNiQ2hsYm5SeWVTd2dYQ0ptYVc1aGJHeDVURzlqWENJcE8xeHVYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tHaGhjME5oZEdOb0lDWW1JR2hoYzBacGJtRnNiSGtwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoMGFHbHpMbkJ5WlhZZ1BDQmxiblJ5ZVM1allYUmphRXh2WXlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYUdGdVpHeGxLR1Z1ZEhKNUxtTmhkR05vVEc5akxDQjBjblZsS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDBnWld4elpTQnBaaUFvZEdocGN5NXdjbVYySUR3Z1pXNTBjbmt1Wm1sdVlXeHNlVXh2WXlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYUdGdVpHeGxLR1Z1ZEhKNUxtWnBibUZzYkhsTWIyTXBPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQWdJSDBnWld4elpTQnBaaUFvYUdGelEyRjBZMmdwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoMGFHbHpMbkJ5WlhZZ1BDQmxiblJ5ZVM1allYUmphRXh2WXlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYUdGdVpHeGxLR1Z1ZEhKNUxtTmhkR05vVEc5akxDQjBjblZsS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNCOUlHVnNjMlVnYVdZZ0tHaGhjMFpwYm1Gc2JIa3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gwYUdsekxuQnlaWFlnUENCbGJuUnllUzVtYVc1aGJHeDVURzlqS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJvWVc1a2JHVW9aVzUwY25rdVptbHVZV3hzZVV4dll5azdYRzRnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWhjSW5SeWVTQnpkR0YwWlcxbGJuUWdkMmwwYUc5MWRDQmpZWFJqYUNCdmNpQm1hVzVoYkd4NVhDSXBPMXh1SUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUgwc1hHNWNiaUFnSUNCaFluSjFjSFE2SUdaMWJtTjBhVzl1SUdGaWNuVndkQ2gwZVhCbExDQmhjbWNwSUh0Y2JpQWdJQ0FnSUdadmNpQW9kbUZ5SUdrZ1BTQjBhR2x6TG5SeWVVVnVkSEpwWlhNdWJHVnVaM1JvSUMwZ01Uc2dhU0ErUFNBd095QXRMV2twSUh0Y2JpQWdJQ0FnSUNBZ2RtRnlJR1Z1ZEhKNUlEMGdkR2hwY3k1MGNubEZiblJ5YVdWelcybGRPMXh1SUNBZ0lDQWdJQ0JwWmlBb1pXNTBjbmt1ZEhKNVRHOWpJRHc5SUhSb2FYTXVjSEpsZGlBbUppQm9ZWE5QZDI0dVkyRnNiQ2hsYm5SeWVTd2dYQ0ptYVc1aGJHeDVURzlqWENJcElDWW1JSFJvYVhNdWNISmxkaUE4SUdWdWRISjVMbVpwYm1Gc2JIbE1iMk1wSUh0Y2JpQWdJQ0FnSUNBZ0lDQjJZWElnWm1sdVlXeHNlVVZ1ZEhKNUlEMGdaVzUwY25rN1hHNGdJQ0FnSUNBZ0lDQWdZbkpsWVdzN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdhV1lnS0dacGJtRnNiSGxGYm5SeWVTQW1KaUFvZEhsd1pTQTlQVDBnWENKaWNtVmhhMXdpSUh4OElIUjVjR1VnUFQwOUlGd2lZMjl1ZEdsdWRXVmNJaWtnSmlZZ1ptbHVZV3hzZVVWdWRISjVMblJ5ZVV4dll5QThQU0JoY21jZ0ppWWdZWEpuSUR3OUlHWnBibUZzYkhsRmJuUnllUzVtYVc1aGJHeDVURzlqS1NCN1hHNGdJQ0FnSUNBZ0lDOHZJRWxuYm05eVpTQjBhR1VnWm1sdVlXeHNlU0JsYm5SeWVTQnBaaUJqYjI1MGNtOXNJR2x6SUc1dmRDQnFkVzF3YVc1bklIUnZJR0ZjYmlBZ0lDQWdJQ0FnTHk4Z2JHOWpZWFJwYjI0Z2IzVjBjMmxrWlNCMGFHVWdkSEo1TDJOaGRHTm9JR0pzYjJOckxseHVJQ0FnSUNBZ0lDQm1hVzVoYkd4NVJXNTBjbmtnUFNCdWRXeHNPMXh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0IyWVhJZ2NtVmpiM0prSUQwZ1ptbHVZV3hzZVVWdWRISjVJRDhnWm1sdVlXeHNlVVZ1ZEhKNUxtTnZiWEJzWlhScGIyNGdPaUI3ZlR0Y2JpQWdJQ0FnSUhKbFkyOXlaQzUwZVhCbElEMGdkSGx3WlR0Y2JpQWdJQ0FnSUhKbFkyOXlaQzVoY21jZ1BTQmhjbWM3WEc1Y2JpQWdJQ0FnSUdsbUlDaG1hVzVoYkd4NVJXNTBjbmtwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV1WlhoMElEMGdabWx1WVd4c2VVVnVkSEo1TG1acGJtRnNiSGxNYjJNN1hHNGdJQ0FnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMbU52YlhCc1pYUmxLSEpsWTI5eVpDazdYRzRnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJSEpsZEhWeWJpQkRiMjUwYVc1MVpWTmxiblJwYm1Wc08xeHVJQ0FnSUgwc1hHNWNiaUFnSUNCamIyMXdiR1YwWlRvZ1puVnVZM1JwYjI0Z1kyOXRjR3hsZEdVb2NtVmpiM0prTENCaFpuUmxja3h2WXlrZ2UxeHVJQ0FnSUNBZ2FXWWdLSEpsWTI5eVpDNTBlWEJsSUQwOVBTQmNJblJvY205M1hDSXBJSHRjYmlBZ0lDQWdJQ0FnZEdoeWIzY2djbVZqYjNKa0xtRnlaenRjYmlBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1MGVYQmxJRDA5UFNCY0ltSnlaV0ZyWENJZ2ZId2djbVZqYjNKa0xuUjVjR1VnUFQwOUlGd2lZMjl1ZEdsdWRXVmNJaWtnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMbTVsZUhRZ1BTQnlaV052Y21RdVlYSm5PMXh1SUNBZ0lDQWdmU0JsYkhObElHbG1JQ2h5WldOdmNtUXVkSGx3WlNBOVBUMGdYQ0p5WlhSMWNtNWNJaWtnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMbkoyWVd3Z1BTQnlaV052Y21RdVlYSm5PMXh1SUNBZ0lDQWdJQ0IwYUdsekxtNWxlSFFnUFNCY0ltVnVaRndpTzF4dUlDQWdJQ0FnZlNCbGJITmxJR2xtSUNoeVpXTnZjbVF1ZEhsd1pTQTlQVDBnWENKdWIzSnRZV3hjSWlBbUppQmhablJsY2t4dll5a2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxtNWxlSFFnUFNCaFpuUmxja3h2WXp0Y2JpQWdJQ0FnSUgxY2JpQWdJQ0I5TEZ4dVhHNGdJQ0FnWm1sdWFYTm9PaUJtZFc1amRHbHZiaUJtYVc1cGMyZ29abWx1WVd4c2VVeHZZeWtnZTF4dUlDQWdJQ0FnWm05eUlDaDJZWElnYVNBOUlIUm9hWE11ZEhKNVJXNTBjbWxsY3k1c1pXNW5kR2dnTFNBeE95QnBJRDQ5SURBN0lDMHRhU2tnZTF4dUlDQWdJQ0FnSUNCMllYSWdaVzUwY25rZ1BTQjBhR2x6TG5SeWVVVnVkSEpwWlhOYmFWMDdYRzRnSUNBZ0lDQWdJR2xtSUNobGJuUnllUzVtYVc1aGJHeDVURzlqSUQwOVBTQm1hVzVoYkd4NVRHOWpLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2RHaHBjeTVqYjIxd2JHVjBaU2hsYm5SeWVTNWpiMjF3YkdWMGFXOXVMQ0JsYm5SeWVTNWhablJsY2t4dll5azdYRzRnSUNBZ0lDQWdJQ0FnY21WelpYUlVjbmxGYm5SeWVTaGxiblJ5ZVNrN1hHNGdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlFTnZiblJwYm5WbFUyVnVkR2x1Wld3N1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lIMWNiaUFnSUNCOUxGeHVYRzRnSUNBZ1hDSmpZWFJqYUZ3aU9pQm1kVzVqZEdsdmJpQmZZMkYwWTJnb2RISjVURzlqS1NCN1hHNGdJQ0FnSUNCbWIzSWdLSFpoY2lCcElEMGdkR2hwY3k1MGNubEZiblJ5YVdWekxteGxibWQwYUNBdElERTdJR2tnUGowZ01Ec2dMUzFwS1NCN1hHNGdJQ0FnSUNBZ0lIWmhjaUJsYm5SeWVTQTlJSFJvYVhNdWRISjVSVzUwY21sbGMxdHBYVHRjYmlBZ0lDQWdJQ0FnYVdZZ0tHVnVkSEo1TG5SeWVVeHZZeUE5UFQwZ2RISjVURzlqS1NCN1hHNGdJQ0FnSUNBZ0lDQWdkbUZ5SUhKbFkyOXlaQ0E5SUdWdWRISjVMbU52YlhCc1pYUnBiMjQ3WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLSEpsWTI5eVpDNTBlWEJsSUQwOVBTQmNJblJvY205M1hDSXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUIwYUhKdmQyNGdQU0J5WldOdmNtUXVZWEpuTzF4dUlDQWdJQ0FnSUNBZ0lDQWdjbVZ6WlhSVWNubEZiblJ5ZVNobGJuUnllU2s3WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQjBhSEp2ZDI0N1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdMeThnVkdobElHTnZiblJsZUhRdVkyRjBZMmdnYldWMGFHOWtJRzExYzNRZ2IyNXNlU0JpWlNCallXeHNaV1FnZDJsMGFDQmhJR3h2WTJGMGFXOXVYRzRnSUNBZ0lDQXZMeUJoY21kMWJXVnVkQ0IwYUdGMElHTnZjbkpsYzNCdmJtUnpJSFJ2SUdFZ2EyNXZkMjRnWTJGMFkyZ2dZbXh2WTJzdVhHNGdJQ0FnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvWENKcGJHeGxaMkZzSUdOaGRHTm9JR0YwZEdWdGNIUmNJaWs3WEc0Z0lDQWdmU3hjYmx4dUlDQWdJR1JsYkdWbllYUmxXV2xsYkdRNklHWjFibU4wYVc5dUlHUmxiR1ZuWVhSbFdXbGxiR1FvYVhSbGNtRmliR1VzSUhKbGMzVnNkRTVoYldVc0lHNWxlSFJNYjJNcElIdGNiaUFnSUNBZ0lIUm9hWE11WkdWc1pXZGhkR1VnUFNCN1hHNGdJQ0FnSUNBZ0lHbDBaWEpoZEc5eU9pQjJZV3gxWlhNb2FYUmxjbUZpYkdVcExGeHVJQ0FnSUNBZ0lDQnlaWE4xYkhST1lXMWxPaUJ5WlhOMWJIUk9ZVzFsTEZ4dUlDQWdJQ0FnSUNCdVpYaDBURzlqT2lCdVpYaDBURzlqWEc0Z0lDQWdJQ0I5TzF4dVhHNGdJQ0FnSUNCeVpYUjFjbTRnUTI5dWRHbHVkV1ZUWlc1MGFXNWxiRHRjYmlBZ0lDQjlYRzRnSUgwN1hHNTlLU2hjYmk4dklFRnRiMjVuSUhSb1pTQjJZWEpwYjNWeklIUnlhV05yY3lCbWIzSWdiMkowWVdsdWFXNW5JR0VnY21WbVpYSmxibU5sSUhSdklIUm9aU0JuYkc5aVlXeGNiaTh2SUc5aWFtVmpkQ3dnZEdocGN5QnpaV1Z0Y3lCMGJ5QmlaU0IwYUdVZ2JXOXpkQ0J5Wld4cFlXSnNaU0IwWldOb2JtbHhkV1VnZEdoaGRDQmtiMlZ6SUc1dmRGeHVMeThnZFhObElHbHVaR2x5WldOMElHVjJZV3dnS0hkb2FXTm9JSFpwYjJ4aGRHVnpJRU52Ym5SbGJuUWdVMlZqZFhKcGRIa2dVRzlzYVdONUtTNWNiblI1Y0dWdlppQm5iRzlpWVd3Z1BUMDlJRndpYjJKcVpXTjBYQ0lnUHlCbmJHOWlZV3dnT2lCMGVYQmxiMllnZDJsdVpHOTNJRDA5UFNCY0ltOWlhbVZqZEZ3aUlEOGdkMmx1Wkc5M0lEb2dkSGx3Wlc5bUlITmxiR1lnUFQwOUlGd2liMkpxWldOMFhDSWdQeUJ6Wld4bUlEb2dkVzVrWldacGJtVmtLVHNpWFgwPSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gdHJ1ZTtcbiAgICB2YXIgY3VycmVudFF1ZXVlO1xuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB2YXIgaSA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICBjdXJyZW50UXVldWVbaV0oKTtcbiAgICAgICAgfVxuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG59XG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHF1ZXVlLnB1c2goZnVuKTtcbiAgICBpZiAoIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzLyQuY29yZScpLlByb21pc2U7IiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvJC5jb3JlJykuU3ltYm9sOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm1hdGguc2lnbicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk1hdGguc2lnbjsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcucmVwZWF0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuU3RyaW5nLnJlcGVhdDsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5BcnJheS5mcm9tOyIsInJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3InKTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5udW1iZXIuZXBzaWxvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLnBvdygyLCAtNTIpOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm51bWJlci5tYXgtc2FmZS1pbnRlZ2VyJyk7XG5tb2R1bGUuZXhwb3J0cyA9IDB4MWZmZmZmZmZmZmZmZmY7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYubnVtYmVyLm1pbi1zYWZlLWludGVnZXInKTtcbm1vZHVsZS5leHBvcnRzID0gLTB4MWZmZmZmZmZmZmZmZmY7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5hc3NpZ247IiwidmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuICByZXR1cm4gJC5jcmVhdGUoUCwgRCk7XG59OyIsInZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuICByZXR1cm4gJC5zZXREZXNjKGl0LCBrZXksIGRlc2MpO1xufTsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIHJldHVybiAkLmdldERlc2MoaXQsIGtleSk7XG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuT2JqZWN0LmtleXM7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLmZyb20tY29kZS1wb2ludCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLlN0cmluZy5mcm9tQ29kZVBvaW50OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLlN5bWJvbFsnZm9yJ107IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuU3ltYm9sOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC53a3MnKSgnaXRlcmF0b3InKTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07IiwiLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpXG4gICwgSU9iamVjdCAgPSByZXF1aXJlKCcuLyQuaW9iamVjdCcpXG4gICwgZW51bUtleXMgPSByZXF1aXJlKCcuLyQuZW51bS1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIFN5bWJvbCgpIGluIE9iamVjdC5hc3NpZ24oe30pOyAvLyBPYmplY3QuYXNzaWduIGF2YWlsYWJsZSBhbmQgU3ltYm9sIGlzIG5hdGl2ZVxufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpXG4gICAgLCBsID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgaSA9IDE7XG4gIHdoaWxlKGwgPiBpKXtcbiAgICB2YXIgUyAgICAgID0gSU9iamVjdChhcmd1bWVudHNbaSsrXSlcbiAgICAgICwga2V5cyAgID0gZW51bUtleXMoUylcbiAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICwgaiAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUobGVuZ3RoID4gailUW2tleSA9IGtleXNbaisrXV0gPSBTW2tleV07XG4gIH1cbiAgcmV0dXJuIFQ7XG59IDogT2JqZWN0LmFzc2lnbjsiLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vJC5jb2YnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vJC53a3MnKSgndG9TdHJpbmdUYWcnKVxuICAvLyBFUzMgd3JvbmcgaGVyZVxuICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gKE8gPSBPYmplY3QoaXQpKVtUQUddKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07IiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTsiLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuLyQuYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH0gcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn07IiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vJC5jb3JlJylcbiAgLCBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBjdHggPSBmdW5jdGlvbihmbiwgdGhhdCl7XG4gIHJldHVybiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcbnZhciAkZGVmID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIGtleSwgb3duLCBvdXQsIGV4cFxuICAgICwgaXNHbG9iYWwgPSB0eXBlICYgJGRlZi5HXG4gICAgLCBpc1Byb3RvICA9IHR5cGUgJiAkZGVmLlBcbiAgICAsIHRhcmdldCAgID0gaXNHbG9iYWwgPyBnbG9iYWwgOiB0eXBlICYgJGRlZi5TXG4gICAgICAgID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwgZXhwb3J0cyAgPSBpc0dsb2JhbCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICBpZihpc0dsb2JhbClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gISh0eXBlICYgJGRlZi5GKSAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDtcbiAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGlmKGlzR2xvYmFsICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nKWV4cCA9IHNvdXJjZVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgZWxzZSBpZih0eXBlICYgJGRlZi5CICYmIG93billeHAgPSBjdHgob3V0LCBnbG9iYWwpO1xuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgZWxzZSBpZih0eXBlICYgJGRlZi5XICYmIHRhcmdldFtrZXldID09IG91dCkhZnVuY3Rpb24oQyl7XG4gICAgICBleHAgPSBmdW5jdGlvbihwYXJhbSl7XG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQyA/IG5ldyBDKHBhcmFtKSA6IEMocGFyYW0pO1xuICAgICAgfTtcbiAgICAgIGV4cFtQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgIH0ob3V0KTtcbiAgICBlbHNlIGV4cCA9IGlzUHJvdG8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0XG4gICAgZXhwb3J0c1trZXldID0gZXhwO1xuICAgIGlmKGlzUHJvdG8pKGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pKVtrZXldID0gb3V0O1xuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRkZWYuRiA9IDE7ICAvLyBmb3JjZWRcbiRkZWYuRyA9IDI7ICAvLyBnbG9iYWxcbiRkZWYuUyA9IDQ7ICAvLyBzdGF0aWNcbiRkZWYuUCA9IDg7ICAvLyBwcm90b1xuJGRlZi5CID0gMTY7IC8vIGJpbmRcbiRkZWYuVyA9IDMyOyAvLyB3cmFwXG5tb2R1bGUuZXhwb3J0cyA9ICRkZWY7IiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59OyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKVxuICAsIGRvY3VtZW50ID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59OyIsIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgJCA9IHJlcXVpcmUoJy4vJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBrZXlzICAgICAgID0gJC5nZXRLZXlzKGl0KVxuICAgICwgZ2V0U3ltYm9scyA9ICQuZ2V0U3ltYm9scztcbiAgaWYoZ2V0U3ltYm9scyl7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KVxuICAgICAgLCBpc0VudW0gID0gJC5pc0VudW1cbiAgICAgICwgaSAgICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKHN5bWJvbHMubGVuZ3RoID4gaSlpZihpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSlrZXlzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07IiwidmFyIGN0eCAgICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuLyQuaXRlci1jYWxsJylcbiAgLCBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vJC5pcy1hcnJheS1pdGVyJylcbiAgLCBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKVxuICAsIHRvTGVuZ3RoICAgID0gcmVxdWlyZSgnLi8kLnRvLWxlbmd0aCcpXG4gICwgZ2V0SXRlckZuICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQpe1xuICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKGl0ZXJhYmxlKVxuICAgICwgZiAgICAgID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yO1xuICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuICBpZihpc0FycmF5SXRlcihpdGVyRm4pKWZvcihsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICB9IGVsc2UgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7ICl7XG4gICAgY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gIH1cbn07IiwiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKVxuICAsIGdldE5hbWVzICA9IHJlcXVpcmUoJy4vJCcpLmdldE5hbWVzO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbihpdCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdldE5hbWVzKGl0KTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIGlmKHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nKXJldHVybiBnZXRXaW5kb3dOYW1lcyhpdCk7XG4gIHJldHVybiBnZXROYW1lcyh0b0lPYmplY3QoaXQpKTtcbn07IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBVTkRFRklORUQgPSAndW5kZWZpbmVkJztcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gVU5ERUZJTkVEICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSBVTkRFRklORUQgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07IiwidmFyICQgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuLyQucHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuc3VwcG9ydC1kZXNjJykgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICByZXR1cm4gJC5zZXREZXNjKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJykuZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyIsIi8vIGZhc3QgYXBwbHksIGh0dHA6Ly9qc3BlcmYubG5raXQuY29tL2Zhc3QtYXBwbHkvNVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgYXJncywgdGhhdCl7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoKGFyZ3MubGVuZ3RoKXtcbiAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCk7XG4gICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgfSByZXR1cm4gICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIGFyZ3MpO1xufTsiLCIvLyBpbmRleGVkIG9iamVjdCwgZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi8kLmNvZicpO1xubW9kdWxlLmV4cG9ydHMgPSAwIGluIE9iamVjdCgneicpID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59OyIsIi8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3JcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIChJdGVyYXRvcnMuQXJyYXkgfHwgQXJyYXkucHJvdG90eXBlW0lURVJBVE9SXSkgPT09IGl0O1xufTsiLCIvLyBodHRwOi8vanNwZXJmLmNvbS9jb3JlLWpzLWlzb2JqZWN0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICE9PSBudWxsICYmICh0eXBlb2YgaXQgPT0gJ29iamVjdCcgfHwgdHlwZW9mIGl0ID09ICdmdW5jdGlvbicpO1xufTsiLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIGVudHJpZXMpe1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2goZSl7XG4gICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTtcbiAgICBpZihyZXQgIT09IHVuZGVmaW5lZClhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLyQnKVxuICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuLyQuaGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCl7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9ICQuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogcmVxdWlyZSgnLi8kLnByb3BlcnR5LWRlc2MnKSgxLG5leHQpfSk7XG4gIHJlcXVpcmUoJy4vJC50YWcnKShDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgICAgICAgICA9IHJlcXVpcmUoJy4vJC5saWJyYXJ5JylcbiAgLCAkZGVmICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgLCAkcmVkZWYgICAgICAgICAgPSByZXF1aXJlKCcuLyQucmVkZWYnKVxuICAsIGhpZGUgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGFzJylcbiAgLCBTWU1CT0xfSVRFUkFUT1IgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgICAgICAgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJylcbiAgLCBCVUdHWSAgICAgICAgICAgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSkgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICAsIEZGX0lURVJBVE9SICAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgICA9ICdrZXlzJ1xuICAsIFZBTFVFUyAgICAgICAgICA9ICd2YWx1ZXMnO1xudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0Upe1xuICByZXF1aXJlKCcuLyQuaXRlci1jcmVhdGUnKShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBwcm90byAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCBfbmF0aXZlICA9IHByb3RvW1NZTUJPTF9JVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF1cbiAgICAsIF9kZWZhdWx0ID0gX25hdGl2ZSB8fCBjcmVhdGVNZXRob2QoREVGQVVMVClcbiAgICAsIG1ldGhvZHMsIGtleTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZihfbmF0aXZlKXtcbiAgICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSByZXF1aXJlKCcuLyQnKS5nZXRQcm90byhfZGVmYXVsdC5jYWxsKG5ldyBCYXNlKSk7XG4gICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgIHJlcXVpcmUoJy4vJC50YWcnKShJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAvLyBGRiBmaXhcbiAgICBpZighTElCUkFSWSAmJiBoYXMocHJvdG8sIEZGX0lURVJBVE9SKSloaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBTWU1CT0xfSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZighTElCUkFSWSB8fCBGT1JDRSloaWRlKHByb3RvLCBTWU1CT0xfSVRFUkFUT1IsIF9kZWZhdWx0KTtcbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSBfZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgICAgICAgID8gX2RlZmF1bHQgOiBjcmVhdGVNZXRob2QoS0VZUyksXG4gICAgICB2YWx1ZXM6ICBERUZBVUxUID09IFZBTFVFUyA/IF9kZWZhdWx0IDogY3JlYXRlTWV0aG9kKFZBTFVFUyksXG4gICAgICBlbnRyaWVzOiBERUZBVUxUICE9IFZBTFVFUyA/IF9kZWZhdWx0IDogY3JlYXRlTWV0aG9kKCdlbnRyaWVzJylcbiAgICB9O1xuICAgIGlmKEZPUkNFKWZvcihrZXkgaW4gbWV0aG9kcyl7XG4gICAgICBpZighKGtleSBpbiBwcm90bykpJHJlZGVmKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRkZWYoJGRlZi5QICsgJGRlZi5GICogQlVHR1ksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG59OyIsInZhciBTWU1CT0xfSVRFUkFUT1IgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgICAgPSBmYWxzZTtcbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtTWU1CT0xfSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcbiAgaWYoIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciAgPSBbN11cbiAgICAgICwgaXRlciA9IGFycltTWU1CT0xfSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgc2FmZSA9IHRydWU7IH07XG4gICAgYXJyW1NZTUJPTF9JVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZG9uZSwgdmFsdWUpe1xuICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7fTsiLCJ2YXIgJE9iamVjdCA9IE9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGU6ICAgICAkT2JqZWN0LmNyZWF0ZSxcbiAgZ2V0UHJvdG86ICAgJE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgaXNFbnVtOiAgICAge30ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gIGdldERlc2M6ICAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICBzZXREZXNjOiAgICAkT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuICBzZXREZXNjczogICAkT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsXG4gIGdldEtleXM6ICAgICRPYmplY3Qua2V5cyxcbiAgZ2V0TmFtZXM6ICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICBnZXRTeW1ib2xzOiAkT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgZWFjaDogICAgICAgW10uZm9yRWFjaFxufTsiLCJ2YXIgJCAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSAkLmdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXHJcbiAgLCBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuLyQudGFzaycpLnNldFxyXG4gICwgT2JzZXJ2ZXIgID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcclxuICAsIHByb2Nlc3MgICA9IGdsb2JhbC5wcm9jZXNzXHJcbiAgLCBpc05vZGUgICAgPSByZXF1aXJlKCcuLyQuY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnXHJcbiAgLCBoZWFkLCBsYXN0LCBub3RpZnk7XHJcblxyXG52YXIgZmx1c2ggPSBmdW5jdGlvbigpe1xyXG4gIHZhciBwYXJlbnQsIGRvbWFpbjtcclxuICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSl7XHJcbiAgICBwcm9jZXNzLmRvbWFpbiA9IG51bGw7XHJcbiAgICBwYXJlbnQuZXhpdCgpO1xyXG4gIH1cclxuICB3aGlsZShoZWFkKXtcclxuICAgIGRvbWFpbiA9IGhlYWQuZG9tYWluO1xyXG4gICAgaWYoZG9tYWluKWRvbWFpbi5lbnRlcigpO1xyXG4gICAgaGVhZC5mbi5jYWxsKCk7IC8vIDwtIGN1cnJlbnRseSB3ZSB1c2UgaXQgb25seSBmb3IgUHJvbWlzZSAtIHRyeSAvIGNhdGNoIG5vdCByZXF1aXJlZFxyXG4gICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XHJcbiAgICBoZWFkID0gaGVhZC5uZXh0O1xyXG4gIH0gbGFzdCA9IHVuZGVmaW5lZDtcclxuICBpZihwYXJlbnQpcGFyZW50LmVudGVyKCk7XHJcbn1cclxuXHJcbi8vIE5vZGUuanNcclxuaWYoaXNOb2RlKXtcclxuICBub3RpZnkgPSBmdW5jdGlvbigpe1xyXG4gICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XHJcbiAgfTtcclxuLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXHJcbn0gZWxzZSBpZihPYnNlcnZlcil7XHJcbiAgdmFyIHRvZ2dsZSA9IDFcclxuICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xyXG4gIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xyXG4gIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAtdG9nZ2xlO1xyXG4gIH07XHJcbi8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XHJcbi8vIC0gc2V0SW1tZWRpYXRlXHJcbi8vIC0gTWVzc2FnZUNoYW5uZWxcclxuLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xyXG4vLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxyXG4vLyAtIHNldFRpbWVvdXRcclxufSBlbHNlIHtcclxuICBub3RpZnkgPSBmdW5jdGlvbigpe1xyXG4gICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxyXG4gICAgbWFjcm90YXNrLmNhbGwoZ2xvYmFsLCBmbHVzaCk7XHJcbiAgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhc2FwKGZuKXtcclxuICB2YXIgdGFzayA9IHtmbjogZm4sIG5leHQ6IHVuZGVmaW5lZCwgZG9tYWluOiBpc05vZGUgJiYgcHJvY2Vzcy5kb21haW59O1xyXG4gIGlmKGxhc3QpbGFzdC5uZXh0ID0gdGFzaztcclxuICBpZighaGVhZCl7XHJcbiAgICBoZWFkID0gdGFzaztcclxuICAgIG5vdGlmeSgpO1xyXG4gIH0gbGFzdCA9IHRhc2s7XHJcbn07IiwidmFyICRyZWRlZiA9IHJlcXVpcmUoJy4vJC5yZWRlZicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYyl7XG4gIGZvcih2YXIga2V5IGluIHNyYykkcmVkZWYodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcbiAgcmV0dXJuIHRhcmdldDtcbn07IiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSwgZXhlYyl7XG4gIHZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICAgLCBmbiAgID0gKHJlcXVpcmUoJy4vJC5jb3JlJykuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBleHAgID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRkZWYoJGRlZi5TICsgJGRlZi5GICogcmVxdWlyZSgnLi8kLmZhaWxzJykoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmhpZGUnKTsiLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5pcyB8fCBmdW5jdGlvbiBpcyh4LCB5KXtcbiAgcmV0dXJuIHggPT09IHkgPyB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geSA6IHggIT0geCAmJiB5ICE9IHk7XG59OyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBnZXREZXNjICA9IHJlcXVpcmUoJy4vJCcpLmdldERlc2NcbiAgLCBpc09iamVjdCA9IHJlcXVpcmUoJy4vJC5pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pe1xuICBhbk9iamVjdChPKTtcbiAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgPyBmdW5jdGlvbihidWdneSwgc2V0KXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZXQgPSByZXF1aXJlKCcuLyQuY3R4JykoRnVuY3Rpb24uY2FsbCwgZ2V0RGVzYyhPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgICBzZXQoe30sIFtdKTtcbiAgICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG4gICAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICAgIHJldHVybiBPO1xuICAgICAgICB9O1xuICAgICAgfSgpXG4gICAgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07IiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07IiwiLy8gMjAuMi4yLjI4IE1hdGguc2lnbih4KVxubW9kdWxlLmV4cG9ydHMgPSBNYXRoLnNpZ24gfHwgZnVuY3Rpb24gc2lnbih4KXtcbiAgcmV0dXJuICh4ID0gK3gpID09IDAgfHwgeCAhPSB4ID8geCA6IHggPCAwID8gLTEgOiAxO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgJCAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vJC53a3MnKSgnc3BlY2llcycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihDKXtcbiAgaWYocmVxdWlyZSgnLi8kLnN1cHBvcnQtZGVzYycpICYmICEoU1BFQ0lFUyBpbiBDKSkkLnNldERlc2MoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzOyB9XG4gIH0pO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSl7XG4gIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgVHlwZUVycm9yKG5hbWUgKyBcIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciFcIik7XG4gIHJldHVybiBpdDtcbn07IiwiLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsXG4gICAgICB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59OyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCJ2YXIgaGFzICA9IHJlcXVpcmUoJy4vJC5oYXMnKVxuICAsIGhpZGUgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgVEFHICA9IHJlcXVpcmUoJy4vJC53a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSloaWRlKGl0LCBUQUcsIHRhZyk7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCBpbnZva2UgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaW52b2tlJylcbiAgLCBodG1sICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaHRtbCcpXG4gICwgY2VsICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmRvbS1jcmVhdGUnKVxuICAsIGdsb2JhbCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgc2V0VGFzayAgICAgICAgICAgID0gZ2xvYmFsLnNldEltbWVkaWF0ZVxuICAsIGNsZWFyVGFzayAgICAgICAgICA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZVxuICAsIE1lc3NhZ2VDaGFubmVsICAgICA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbFxuICAsIGNvdW50ZXIgICAgICAgICAgICA9IDBcbiAgLCBxdWV1ZSAgICAgICAgICAgICAgPSB7fVxuICAsIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnXG4gICwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24oKXtcbiAgdmFyIGlkID0gK3RoaXM7XG4gIGlmKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSl7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0bmVyID0gZnVuY3Rpb24oZXZlbnQpe1xuICBydW4uY2FsbChldmVudC5kYXRhKTtcbn07XG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZighc2V0VGFzayB8fCAhY2xlYXJUYXNrKXtcbiAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbil7XG4gICAgdmFyIGFyZ3MgPSBbXSwgaSA9IDE7XG4gICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICBxdWV1ZVsrK2NvdW50ZXJdID0gZnVuY3Rpb24oKXtcbiAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCl7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmKHJlcXVpcmUoJy4vJC5jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcycpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgfSBlbHNlIGlmKE1lc3NhZ2VDaGFubmVsKXtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsO1xuICAgIHBvcnQgICAgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdG5lcjtcbiAgICBkZWZlciA9IGN0eChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZihnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdCl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdG5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZihPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpe1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogICBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59OyIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59OyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTsiLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcclxudmFyIElPYmplY3QgPSByZXF1aXJlKCcuLyQuaW9iamVjdCcpXHJcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XHJcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xyXG59OyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vJC50by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTsiLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59OyIsInZhciBpZCA9IDBcbiAgLCBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTsiLCJ2YXIgc3RvcmUgID0gcmVxdWlyZSgnLi8kLnNoYXJlZCcpKCd3a3MnKVxuICAsIFN5bWJvbCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5TeW1ib2w7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBTeW1ib2wgJiYgU3ltYm9sW25hbWVdIHx8IChTeW1ib2wgfHwgcmVxdWlyZSgnLi8kLnVpZCcpKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59OyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuLyQuY2xhc3NvZicpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXSB8fCBpdFsnQEBpdGVyYXRvciddIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59OyIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKVxuICAsIGdldCAgICAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmNvcmUnKS5nZXRJdGVyYXRvciA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIGl0ZXJGbiA9IGdldChpdCk7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgcmV0dXJuIGFuT2JqZWN0KGl0ZXJGbi5jYWxsKGl0KSk7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsICRkZWYgICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgdG9PYmplY3QgICAgPSByZXF1aXJlKCcuLyQudG8tb2JqZWN0JylcbiAgLCBjYWxsICAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi8kLmlzLWFycmF5LWl0ZXInKVxuICAsIHRvTGVuZ3RoICAgID0gcmVxdWlyZSgnLi8kLnRvLWxlbmd0aCcpXG4gICwgZ2V0SXRlckZuICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAhcmVxdWlyZSgnLi8kLml0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UvKiwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQqLyl7XG4gICAgdmFyIE8gICAgICAgPSB0b09iamVjdChhcnJheUxpa2UpXG4gICAgICAsIEMgICAgICAgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5XG4gICAgICAsIG1hcGZuICAgPSBhcmd1bWVudHNbMV1cbiAgICAgICwgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWRcbiAgICAgICwgaW5kZXggICA9IDBcbiAgICAgICwgaXRlckZuICA9IGdldEl0ZXJGbihPKVxuICAgICAgLCBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG4gICAgaWYobWFwcGluZyltYXBmbiA9IGN0eChtYXBmbiwgYXJndW1lbnRzWzJdLCAyKTtcbiAgICAvLyBpZiBvYmplY3QgaXNuJ3QgaXRlcmFibGUgb3IgaXQncyBhcnJheSB3aXRoIGRlZmF1bHQgaXRlcmF0b3IgLSB1c2Ugc2ltcGxlIGNhc2VcbiAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICEoQyA9PSBBcnJheSAmJiBpc0FycmF5SXRlcihpdGVyRm4pKSl7XG4gICAgICBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChPKSwgcmVzdWx0ID0gbmV3IEM7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yKHJlc3VsdCA9IG5ldyBDKGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKSk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgc2V0VW5zY29wZSA9IHJlcXVpcmUoJy4vJC51bnNjb3BlJylcbiAgLCBzdGVwICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKVxuICAsIHRvSU9iamVjdCAgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuLyQuaXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGtpbmQgID0gdGhpcy5fa1xuICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5zZXRVbnNjb3BlKCdrZXlzJyk7XG5zZXRVbnNjb3BlKCd2YWx1ZXMnKTtcbnNldFVuc2NvcGUoJ2VudHJpZXMnKTsiLCIvLyAyMC4yLjIuMjggTWF0aC5zaWduKHgpXG52YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcblxuJGRlZigkZGVmLlMsICdNYXRoJywge3NpZ246IHJlcXVpcmUoJy4vJC5zaWduJyl9KTsiLCIvLyAyMC4xLjIuMSBOdW1iZXIuRVBTSUxPTlxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5TLCAnTnVtYmVyJywge0VQU0lMT046IE1hdGgucG93KDIsIC01Mil9KTsiLCIvLyAyMC4xLjIuNiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5TLCAnTnVtYmVyJywge01BWF9TQUZFX0lOVEVHRVI6IDB4MWZmZmZmZmZmZmZmZmZ9KTsiLCIvLyAyMC4xLjIuMTAgTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVJcbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuXG4kZGVmKCRkZWYuUywgJ051bWJlcicsIHtNSU5fU0FGRV9JTlRFR0VSOiAtMHgxZmZmZmZmZmZmZmZmZn0pOyIsIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcblxuJGRlZigkZGVmLlMgKyAkZGVmLkYsICdPYmplY3QnLCB7YXNzaWduOiByZXF1aXJlKCcuLyQuYXNzaWduJyl9KTsiLCIvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKTtcblxucmVxdWlyZSgnLi8kLm9iamVjdC1zYXAnKSgnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgZnVuY3Rpb24oJGdldE93blByb3BlcnR5RGVzY3JpcHRvcil7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodG9JT2JqZWN0KGl0KSwga2V5KTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpO1xuXG5yZXF1aXJlKCcuLyQub2JqZWN0LXNhcCcpKCdrZXlzJywgZnVuY3Rpb24oJGtleXMpe1xuICByZXR1cm4gZnVuY3Rpb24ga2V5cyhpdCl7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG4kZGVmKCRkZWYuUywgJ09iamVjdCcsIHtzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi8kLnNldC1wcm90bycpLnNldH0pOyIsbnVsbCwiJ3VzZSBzdHJpY3QnO1xudmFyICQgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIExJQlJBUlkgICAgPSByZXF1aXJlKCcuLyQubGlicmFyeScpXG4gICwgZ2xvYmFsICAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGN0eCAgICAgICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCBjbGFzc29mICAgID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKVxuICAsICRkZWYgICAgICAgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgLCBpc09iamVjdCAgID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgICA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiAgPSByZXF1aXJlKCcuLyQuYS1mdW5jdGlvbicpXG4gICwgc3RyaWN0TmV3ICA9IHJlcXVpcmUoJy4vJC5zdHJpY3QtbmV3JylcbiAgLCBmb3JPZiAgICAgID0gcmVxdWlyZSgnLi8kLmZvci1vZicpXG4gICwgc2V0UHJvdG8gICA9IHJlcXVpcmUoJy4vJC5zZXQtcHJvdG8nKS5zZXRcbiAgLCBzYW1lICAgICAgID0gcmVxdWlyZSgnLi8kLnNhbWUnKVxuICAsIHNwZWNpZXMgICAgPSByZXF1aXJlKCcuLyQuc3BlY2llcycpXG4gICwgU1BFQ0lFUyAgICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnc3BlY2llcycpXG4gICwgUkVDT1JEICAgICA9IHJlcXVpcmUoJy4vJC51aWQnKSgncmVjb3JkJylcbiAgLCBhc2FwICAgICAgID0gcmVxdWlyZSgnLi8kLm1pY3JvdGFzaycpXG4gICwgUFJPTUlTRSAgICA9ICdQcm9taXNlJ1xuICAsIHByb2Nlc3MgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIGlzTm9kZSAgICAgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xuICAsIFAgICAgICAgICAgPSBnbG9iYWxbUFJPTUlTRV1cbiAgLCBXcmFwcGVyO1xuXG52YXIgdGVzdFJlc29sdmUgPSBmdW5jdGlvbihzdWIpe1xuICB2YXIgdGVzdCA9IG5ldyBQKGZ1bmN0aW9uKCl7fSk7XG4gIGlmKHN1Yil0ZXN0LmNvbnN0cnVjdG9yID0gT2JqZWN0O1xuICByZXR1cm4gUC5yZXNvbHZlKHRlc3QpID09PSB0ZXN0O1xufTtcblxudmFyIHVzZU5hdGl2ZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciB3b3JrcyA9IGZhbHNlO1xuICBmdW5jdGlvbiBQMih4KXtcbiAgICB2YXIgc2VsZiA9IG5ldyBQKHgpO1xuICAgIHNldFByb3RvKHNlbGYsIFAyLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbiAgdHJ5IHtcbiAgICB3b3JrcyA9IFAgJiYgUC5yZXNvbHZlICYmIHRlc3RSZXNvbHZlKCk7XG4gICAgc2V0UHJvdG8oUDIsIFApO1xuICAgIFAyLnByb3RvdHlwZSA9ICQuY3JlYXRlKFAucHJvdG90eXBlLCB7Y29uc3RydWN0b3I6IHt2YWx1ZTogUDJ9fSk7XG4gICAgLy8gYWN0dWFsIEZpcmVmb3ggaGFzIGJyb2tlbiBzdWJjbGFzcyBzdXBwb3J0LCB0ZXN0IHRoYXRcbiAgICBpZighKFAyLnJlc29sdmUoNSkudGhlbihmdW5jdGlvbigpe30pIGluc3RhbmNlb2YgUDIpKXtcbiAgICAgIHdvcmtzID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGFjdHVhbCBWOCBidWcsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTYyXG4gICAgaWYod29ya3MgJiYgcmVxdWlyZSgnLi8kLnN1cHBvcnQtZGVzYycpKXtcbiAgICAgIHZhciB0aGVuYWJsZVRoZW5Hb3R0ZW4gPSBmYWxzZTtcbiAgICAgIFAucmVzb2x2ZSgkLnNldERlc2Moe30sICd0aGVuJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCl7IHRoZW5hYmxlVGhlbkdvdHRlbiA9IHRydWU7IH1cbiAgICAgIH0pKTtcbiAgICAgIHdvcmtzID0gdGhlbmFibGVUaGVuR290dGVuO1xuICAgIH1cbiAgfSBjYXRjaChlKXsgd29ya3MgPSBmYWxzZTsgfVxuICByZXR1cm4gd29ya3M7XG59KCk7XG5cbi8vIGhlbHBlcnNcbnZhciBpc1Byb21pc2UgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgKHVzZU5hdGl2ZSA/IGNsYXNzb2YoaXQpID09ICdQcm9taXNlJyA6IFJFQ09SRCBpbiBpdCk7XG59O1xudmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpe1xuICAvLyBsaWJyYXJ5IHdyYXBwZXIgc3BlY2lhbCBjYXNlXG4gIGlmKExJQlJBUlkgJiYgYSA9PT0gUCAmJiBiID09PSBXcmFwcGVyKXJldHVybiB0cnVlO1xuICByZXR1cm4gc2FtZShhLCBiKTtcbn07XG52YXIgZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbihDKXtcbiAgdmFyIFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXTtcbiAgcmV0dXJuIFMgIT0gdW5kZWZpbmVkID8gUyA6IEM7XG59O1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbihpdCl7XG4gIHZhciB0aGVuO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZiAodGhlbiA9IGl0LnRoZW4pID09ICdmdW5jdGlvbicgPyB0aGVuIDogZmFsc2U7XG59O1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uKHJlY29yZCwgaXNSZWplY3Qpe1xuICBpZihyZWNvcmQubilyZXR1cm47XG4gIHJlY29yZC5uID0gdHJ1ZTtcbiAgdmFyIGNoYWluID0gcmVjb3JkLmM7XG4gIGFzYXAoZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSByZWNvcmQudlxuICAgICAgLCBvayAgICA9IHJlY29yZC5zID09IDFcbiAgICAgICwgaSAgICAgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdCl7XG4gICAgICB2YXIgY2IgPSBvayA/IHJlYWN0Lm9rIDogcmVhY3QuZmFpbFxuICAgICAgICAsIHJldCwgdGhlbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmKGNiKXtcbiAgICAgICAgICBpZighb2spcmVjb3JkLmggPSB0cnVlO1xuICAgICAgICAgIHJldCA9IGNiID09PSB0cnVlID8gdmFsdWUgOiBjYih2YWx1ZSk7XG4gICAgICAgICAgaWYocmV0ID09PSByZWFjdC5QKXtcbiAgICAgICAgICAgIHJlYWN0LnJlaihUeXBlRXJyb3IoJ1Byb21pc2UtY2hhaW4gY3ljbGUnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHJldCkpe1xuICAgICAgICAgICAgdGhlbi5jYWxsKHJldCwgcmVhY3QucmVzLCByZWFjdC5yZWopO1xuICAgICAgICAgIH0gZWxzZSByZWFjdC5yZXMocmV0KTtcbiAgICAgICAgfSBlbHNlIHJlYWN0LnJlaih2YWx1ZSk7XG4gICAgICB9IGNhdGNoKGVycil7XG4gICAgICAgIHJlYWN0LnJlaihlcnIpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSlydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgY2hhaW4ubGVuZ3RoID0gMDtcbiAgICByZWNvcmQubiA9IGZhbHNlO1xuICAgIGlmKGlzUmVqZWN0KXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIGlmKGlzVW5oYW5kbGVkKHJlY29yZC5wKSl7XG4gICAgICAgIGlmKGlzTm9kZSl7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcmVjb3JkLnApO1xuICAgICAgICB9IGVsc2UgaWYoZ2xvYmFsLmNvbnNvbGUgJiYgY29uc29sZS5lcnJvcil7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IHJlY29yZC5hID0gdW5kZWZpbmVkO1xuICAgIH0sIDEpO1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdmFyIHJlY29yZCA9IHByb21pc2VbUkVDT1JEXVxuICAgICwgY2hhaW4gID0gcmVjb3JkLmEgfHwgcmVjb3JkLmNcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlYWN0O1xuICBpZihyZWNvcmQuaClyZXR1cm4gZmFsc2U7XG4gIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpe1xuICAgIHJlYWN0ID0gY2hhaW5baSsrXTtcbiAgICBpZihyZWFjdC5mYWlsIHx8ICFpc1VuaGFuZGxlZChyZWFjdC5QKSlyZXR1cm4gZmFsc2U7XG4gIH0gcmV0dXJuIHRydWU7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciByZWNvcmQgPSB0aGlzO1xuICBpZihyZWNvcmQuZClyZXR1cm47XG4gIHJlY29yZC5kID0gdHJ1ZTtcbiAgcmVjb3JkID0gcmVjb3JkLnIgfHwgcmVjb3JkOyAvLyB1bndyYXBcbiAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgcmVjb3JkLnMgPSAyO1xuICByZWNvcmQuYSA9IHJlY29yZC5jLnNsaWNlKCk7XG4gIG5vdGlmeShyZWNvcmQsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHJlY29yZCA9IHRoaXNcbiAgICAsIHRoZW47XG4gIGlmKHJlY29yZC5kKXJldHVybjtcbiAgcmVjb3JkLmQgPSB0cnVlO1xuICByZWNvcmQgPSByZWNvcmQuciB8fCByZWNvcmQ7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSl7XG4gICAgICBhc2FwKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB3cmFwcGVyID0ge3I6IHJlY29yZCwgZDogZmFsc2V9OyAvLyB3cmFwXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY29yZC52ID0gdmFsdWU7XG4gICAgICByZWNvcmQucyA9IDE7XG4gICAgICBub3RpZnkocmVjb3JkLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoKGUpe1xuICAgICRyZWplY3QuY2FsbCh7cjogcmVjb3JkLCBkOiBmYWxzZX0sIGUpOyAvLyB3cmFwXG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZighdXNlTmF0aXZlKXtcbiAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcbiAgUCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgdmFyIHJlY29yZCA9IHtcbiAgICAgIHA6IHN0cmljdE5ldyh0aGlzLCBQLCBQUk9NSVNFKSwgICAgICAgICAvLyA8LSBwcm9taXNlXG4gICAgICBjOiBbXSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG4gICAgICBhOiB1bmRlZmluZWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gY2hlY2tlZCBpbiBpc1VuaGFuZGxlZCByZWFjdGlvbnNcbiAgICAgIHM6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgICAgZDogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGRvbmVcbiAgICAgIHY6IHVuZGVmaW5lZCwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSB2YWx1ZVxuICAgICAgaDogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIGhhbmRsZWQgcmVqZWN0aW9uXG4gICAgICBuOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gbm90aWZ5XG4gICAgfTtcbiAgICB0aGlzW1JFQ09SRF0gPSByZWNvcmQ7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgcmVjb3JkLCAxKSwgY3R4KCRyZWplY3QsIHJlY29yZCwgMSkpO1xuICAgIH0gY2F0Y2goZXJyKXtcbiAgICAgICRyZWplY3QuY2FsbChyZWNvcmQsIGVycik7XG4gICAgfVxuICB9O1xuICByZXF1aXJlKCcuLyQubWl4JykoUC5wcm90b3R5cGUsIHtcbiAgICAvLyAyNS40LjUuMyBQcm9taXNlLnByb3RvdHlwZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKVxuICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpe1xuICAgICAgdmFyIFMgPSBhbk9iamVjdChhbk9iamVjdCh0aGlzKS5jb25zdHJ1Y3RvcilbU1BFQ0lFU107XG4gICAgICB2YXIgcmVhY3QgPSB7XG4gICAgICAgIG9rOiAgIHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlLFxuICAgICAgICBmYWlsOiB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICA/IG9uUmVqZWN0ZWQgIDogZmFsc2VcbiAgICAgIH07XG4gICAgICB2YXIgcHJvbWlzZSA9IHJlYWN0LlAgPSBuZXcgKFMgIT0gdW5kZWZpbmVkID8gUyA6IFApKGZ1bmN0aW9uKHJlcywgcmVqKXtcbiAgICAgICAgcmVhY3QucmVzID0gYUZ1bmN0aW9uKHJlcyk7XG4gICAgICAgIHJlYWN0LnJlaiA9IGFGdW5jdGlvbihyZWopO1xuICAgICAgfSk7XG4gICAgICB2YXIgcmVjb3JkID0gdGhpc1tSRUNPUkRdO1xuICAgICAgcmVjb3JkLmMucHVzaChyZWFjdCk7XG4gICAgICBpZihyZWNvcmQuYSlyZWNvcmQuYS5wdXNoKHJlYWN0KTtcbiAgICAgIGlmKHJlY29yZC5zKW5vdGlmeShyZWNvcmQsIGZhbHNlKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGVkKXtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBleHBvcnRcbiRkZWYoJGRlZi5HICsgJGRlZi5XICsgJGRlZi5GICogIXVzZU5hdGl2ZSwge1Byb21pc2U6IFB9KTtcbnJlcXVpcmUoJy4vJC50YWcnKShQLCBQUk9NSVNFKTtcbnNwZWNpZXMoUCk7XG5zcGVjaWVzKFdyYXBwZXIgPSByZXF1aXJlKCcuLyQuY29yZScpW1BST01JU0VdKTtcblxuLy8gc3RhdGljc1xuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAhdXNlTmF0aXZlLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpXG4gIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpe1xuICAgIHJldHVybiBuZXcgdGhpcyhmdW5jdGlvbihyZXMsIHJlail7IHJlaihyKTsgfSk7XG4gIH1cbn0pO1xuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAoIXVzZU5hdGl2ZSB8fCB0ZXN0UmVzb2x2ZSh0cnVlKSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpXG4gIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUoeCl7XG4gICAgcmV0dXJuIGlzUHJvbWlzZSh4KSAmJiBzYW1lQ29uc3RydWN0b3IoeC5jb25zdHJ1Y3RvciwgdGhpcylcbiAgICAgID8geCA6IG5ldyB0aGlzKGZ1bmN0aW9uKHJlcyl7IHJlcyh4KTsgfSk7XG4gIH1cbn0pO1xuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAhKHVzZU5hdGl2ZSAmJiByZXF1aXJlKCcuLyQuaXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXtcbiAgUC5hbGwoaXRlcilbJ2NhdGNoJ10oZnVuY3Rpb24oKXt9KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpe1xuICAgIHZhciBDICAgICAgPSBnZXRDb25zdHJ1Y3Rvcih0aGlzKVxuICAgICAgLCB2YWx1ZXMgPSBbXTtcbiAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24ocmVzLCByZWope1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCB2YWx1ZXMucHVzaCwgdmFsdWVzKTtcbiAgICAgIHZhciByZW1haW5pbmcgPSB2YWx1ZXMubGVuZ3RoXG4gICAgICAgICwgcmVzdWx0cyAgID0gQXJyYXkocmVtYWluaW5nKTtcbiAgICAgIGlmKHJlbWFpbmluZykkLmVhY2guY2FsbCh2YWx1ZXMsIGZ1bmN0aW9uKHByb21pc2UsIGluZGV4KXtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzKHJlc3VsdHMpO1xuICAgICAgICB9LCByZWopO1xuICAgICAgfSk7XG4gICAgICBlbHNlIHJlcyhyZXN1bHRzKTtcbiAgICB9KTtcbiAgfSxcbiAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyA9IGdldENvbnN0cnVjdG9yKHRoaXMpO1xuICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbihyZXMsIHJlail7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihyZXMsIHJlaik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSk7IiwidmFyICRkZWYgICAgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgLCB0b0luZGV4ID0gcmVxdWlyZSgnLi8kLnRvLWluZGV4JylcbiAgLCBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG4gICwgJGZyb21Db2RlUG9pbnQgPSBTdHJpbmcuZnJvbUNvZGVQb2ludDtcblxuLy8gbGVuZ3RoIHNob3VsZCBiZSAxLCBvbGQgRkYgcHJvYmxlbVxuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAoISEkZnJvbUNvZGVQb2ludCAmJiAkZnJvbUNvZGVQb2ludC5sZW5ndGggIT0gMSksICdTdHJpbmcnLCB7XG4gIC8vIDIxLjEuMi4yIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmNvZGVQb2ludHMpXG4gIGZyb21Db2RlUG9pbnQ6IGZ1bmN0aW9uIGZyb21Db2RlUG9pbnQoeCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB2YXIgcmVzID0gW11cbiAgICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgLCBpICAgPSAwXG4gICAgICAsIGNvZGU7XG4gICAgd2hpbGUobGVuID4gaSl7XG4gICAgICBjb2RlID0gK2FyZ3VtZW50c1tpKytdO1xuICAgICAgaWYodG9JbmRleChjb2RlLCAweDEwZmZmZikgIT09IGNvZGUpdGhyb3cgUmFuZ2VFcnJvcihjb2RlICsgJyBpcyBub3QgYSB2YWxpZCBjb2RlIHBvaW50Jyk7XG4gICAgICByZXMucHVzaChjb2RlIDwgMHgxMDAwMFxuICAgICAgICA/IGZyb21DaGFyQ29kZShjb2RlKVxuICAgICAgICA6IGZyb21DaGFyQ29kZSgoKGNvZGUgLT0gMHgxMDAwMCkgPj4gMTApICsgMHhkODAwLCBjb2RlICUgMHg0MDAgKyAweGRjMDApXG4gICAgICApO1xuICAgIH0gcmV0dXJuIHJlcy5qb2luKCcnKTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRhdCAgPSByZXF1aXJlKCcuLyQuc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vJC5pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwgaW5kZXggPSB0aGlzLl9pXG4gICAgLCBwb2ludDtcbiAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciAkICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5oYXMnKVxuICAsIFNVUFBPUlRfREVTQyAgID0gcmVxdWlyZSgnLi8kLnN1cHBvcnQtZGVzYycpXG4gICwgJGRlZiAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgLCAkcmVkZWYgICAgICAgICA9IHJlcXVpcmUoJy4vJC5yZWRlZicpXG4gICwgc2hhcmVkICAgICAgICAgPSByZXF1aXJlKCcuLyQuc2hhcmVkJylcbiAgLCBzZXRUYWcgICAgICAgICA9IHJlcXVpcmUoJy4vJC50YWcnKVxuICAsIHVpZCAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLnVpZCcpXG4gICwgd2tzICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQud2tzJylcbiAgLCBrZXlPZiAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5rZXlvZicpXG4gICwgJG5hbWVzICAgICAgICAgPSByZXF1aXJlKCcuLyQuZ2V0LW5hbWVzJylcbiAgLCBlbnVtS2V5cyAgICAgICA9IHJlcXVpcmUoJy4vJC5lbnVtLWtleXMnKVxuICAsIGlzT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0JylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJylcbiAgLCBnZXREZXNjICAgICAgICA9ICQuZ2V0RGVzY1xuICAsIHNldERlc2MgICAgICAgID0gJC5zZXREZXNjXG4gICwgX2NyZWF0ZSAgICAgICAgPSAkLmNyZWF0ZVxuICAsIGdldE5hbWVzICAgICAgID0gJG5hbWVzLmdldFxuICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuICAsIHNldHRlciAgICAgICAgID0gZmFsc2VcbiAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG4gICwgaXNFbnVtICAgICAgICAgPSAkLmlzRW51bVxuICAsIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKVxuICAsIEFsbFN5bWJvbHMgICAgID0gc2hhcmVkKCdzeW1ib2xzJylcbiAgLCB1c2VOYXRpdmUgICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcbiAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdC5wcm90b3R5cGU7XG5cbnZhciBzZXRTeW1ib2xEZXNjID0gU1VQUE9SVF9ERVNDID8gZnVuY3Rpb24oKXsgLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkXG4gIHRyeSB7XG4gICAgcmV0dXJuIF9jcmVhdGUoc2V0RGVzYyh7fSwgSElEREVOLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBzZXREZXNjKHRoaXMsIEhJRERFTiwge3ZhbHVlOiBmYWxzZX0pW0hJRERFTl07XG4gICAgICB9XG4gICAgfSkpW0hJRERFTl0gfHwgc2V0RGVzYztcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gZnVuY3Rpb24oaXQsIGtleSwgRCl7XG4gICAgICB2YXIgcHJvdG9EZXNjID0gZ2V0RGVzYyhPYmplY3RQcm90bywga2V5KTtcbiAgICAgIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgICAgIHNldERlc2MoaXQsIGtleSwgRCk7XG4gICAgICBpZihwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKXNldERlc2MoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbiAgICB9O1xuICB9XG59KCkgOiBzZXREZXNjO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2wucHJvdG90eXBlKTtcbiAgc3ltLl9rID0gdGFnO1xuICBTVVBQT1JUX0RFU0MgJiYgc2V0dGVyICYmIHNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSl7XG4gICAgaWYoIUQuZW51bWVyYWJsZSl7XG4gICAgICBpZighaGFzKGl0LCBISURERU4pKXNldERlc2MoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIHNldERlc2MoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSk7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV1cbiAgICA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICB2YXIgRCA9IGdldERlc2MoaXQgPSB0b0lPYmplY3QoaXQpLCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnZXROYW1lcyh0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4pcmVzdWx0LnB1c2goa2V5KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnZXROYW1lcyh0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIXVzZU5hdGl2ZSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuICAgIHJldHVybiB3cmFwKHVpZChhcmd1bWVudHNbMF0pKTtcbiAgfTtcbiAgJHJlZGVmKCRTeW1ib2wucHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkLmNyZWF0ZSAgICAgPSAkY3JlYXRlO1xuICAkLmlzRW51bSAgICAgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gICQuZ2V0RGVzYyAgICA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICQuc2V0RGVzYyAgICA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgJC5zZXREZXNjcyAgID0gJGRlZmluZVByb3BlcnRpZXM7XG4gICQuZ2V0TmFtZXMgICA9ICRuYW1lcy5nZXQgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgJC5nZXRTeW1ib2xzID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZihTVVBQT1JUX0RFU0MgJiYgIXJlcXVpcmUoJy4vJC5saWJyYXJ5Jykpe1xuICAgICRyZWRlZihPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxufVxuXG4vLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgaW4gb2JqZWN0cyB0byBKU09OIGFzIG51bGxcbmlmKCF1c2VOYXRpdmUgfHwgcmVxdWlyZSgnLi8kLmZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFt7YTogJFN5bWJvbCgpfSwgWyRTeW1ib2woKV1dKSAhPSAnW3t9LFtudWxsXV0nO1xufSkpJHJlZGVmKCRTeW1ib2wucHJvdG90eXBlLCAndG9KU09OJywgZnVuY3Rpb24gdG9KU09OKCl7XG4gIGlmKHVzZU5hdGl2ZSAmJiBpc09iamVjdCh0aGlzKSlyZXR1cm4gdGhpcztcbn0pO1xuXG52YXIgc3ltYm9sU3RhdGljcyA9IHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbihrZXkpe1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioa2V5KXtcbiAgICByZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxufTtcbi8vIDE5LjQuMi4yIFN5bWJvbC5oYXNJbnN0YW5jZVxuLy8gMTkuNC4yLjMgU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZVxuLy8gMTkuNC4yLjQgU3ltYm9sLml0ZXJhdG9yXG4vLyAxOS40LjIuNiBTeW1ib2wubWF0Y2hcbi8vIDE5LjQuMi44IFN5bWJvbC5yZXBsYWNlXG4vLyAxOS40LjIuOSBTeW1ib2wuc2VhcmNoXG4vLyAxOS40LjIuMTAgU3ltYm9sLnNwZWNpZXNcbi8vIDE5LjQuMi4xMSBTeW1ib2wuc3BsaXRcbi8vIDE5LjQuMi4xMiBTeW1ib2wudG9QcmltaXRpdmVcbi8vIDE5LjQuMi4xMyBTeW1ib2wudG9TdHJpbmdUYWdcbi8vIDE5LjQuMi4xNCBTeW1ib2wudW5zY29wYWJsZXNcbiQuZWFjaC5jYWxsKChcbiAgICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLCcgK1xuICAgICdzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuICApLnNwbGl0KCcsJyksIGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgc3ltID0gd2tzKGl0KTtcbiAgICBzeW1ib2xTdGF0aWNzW2l0XSA9IHVzZU5hdGl2ZSA/IHN5bSA6IHdyYXAoc3ltKTtcbiAgfVxuKTtcblxuc2V0dGVyID0gdHJ1ZTtcblxuJGRlZigkZGVmLkcgKyAkZGVmLlcsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuJGRlZigkZGVmLlMsICdTeW1ib2wnLCBzeW1ib2xTdGF0aWNzKTtcblxuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAhdXNlTmF0aXZlLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTsiLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKTtcbkl0ZXJhdG9ycy5Ob2RlTGlzdCA9IEl0ZXJhdG9ycy5IVE1MQ29sbGVjdGlvbiA9IEl0ZXJhdG9ycy5BcnJheTsiLCJ2YXIgZ2xvYmFsICAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGNvcmUgICAgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgaGlkZSAgICAgICA9IHJlcXVpcmUoJy4vJC5oaWRlJylcbiAgLCAkcmVkZWYgICAgID0gcmVxdWlyZSgnLi8kLnJlZGVmJylcbiAgLCBQUk9UT1RZUEUgID0gJ3Byb3RvdHlwZSc7XG52YXIgY3R4ID0gZnVuY3Rpb24oZm4sIHRoYXQpe1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG52YXIgJGRlZiA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBrZXksIG93biwgb3V0LCBleHBcbiAgICAsIGlzR2xvYmFsID0gdHlwZSAmICRkZWYuR1xuICAgICwgaXNQcm90byAgPSB0eXBlICYgJGRlZi5QXG4gICAgLCB0YXJnZXQgICA9IGlzR2xvYmFsID8gZ2xvYmFsIDogdHlwZSAmICRkZWYuU1xuICAgICAgICA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwgZXhwb3J0cyAgPSBpc0dsb2JhbCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICBpZihpc0dsb2JhbClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gISh0eXBlICYgJGRlZi5GKSAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07XG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBpZih0eXBlICYgJGRlZi5CICYmIG93billeHAgPSBjdHgob3V0LCBnbG9iYWwpO1xuICAgIGVsc2UgZXhwID0gaXNQcm90byAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgaWYodGFyZ2V0ICYmICFvd24pJHJlZGVmKHRhcmdldCwga2V5LCBvdXQpO1xuICAgIC8vIGV4cG9ydFxuICAgIGlmKGV4cG9ydHNba2V5XSAhPSBvdXQpaGlkZShleHBvcnRzLCBrZXksIGV4cCk7XG4gICAgaWYoaXNQcm90bykoZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSkpW2tleV0gPSBvdXQ7XG4gIH1cbn07XG5nbG9iYWwuY29yZSA9IGNvcmU7XG4vLyB0eXBlIGJpdG1hcFxuJGRlZi5GID0gMTsgIC8vIGZvcmNlZFxuJGRlZi5HID0gMjsgIC8vIGdsb2JhbFxuJGRlZi5TID0gNDsgIC8vIHN0YXRpY1xuJGRlZi5QID0gODsgIC8vIHByb3RvXG4kZGVmLkIgPSAxNjsgLy8gYmluZFxuJGRlZi5XID0gMzI7IC8vIHdyYXBcbm1vZHVsZS5leHBvcnRzID0gJGRlZjsiLCJtb2R1bGUuZXhwb3J0cyA9IGZhbHNlOyIsIi8vIGFkZCBmYWtlIEZ1bmN0aW9uI3RvU3RyaW5nXG4vLyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbnZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgU1JDICAgICAgID0gcmVxdWlyZSgnLi8kLnVpZCcpKCdzcmMnKVxuICAsIFRPX1NUUklORyA9ICd0b1N0cmluZydcbiAgLCAkdG9TdHJpbmcgPSBGdW5jdGlvbltUT19TVFJJTkddXG4gICwgVFBMICAgICAgID0gKCcnICsgJHRvU3RyaW5nKS5zcGxpdChUT19TVFJJTkcpO1xuXG5yZXF1aXJlKCcuLyQuY29yZScpLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiAkdG9TdHJpbmcuY2FsbChpdCk7XG59O1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBrZXksIHZhbCwgc2FmZSl7XG4gIGlmKHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJyl7XG4gICAgaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpO1xuICAgIGlmKCEoJ25hbWUnIGluIHZhbCkpdmFsLm5hbWUgPSBrZXk7XG4gIH1cbiAgaWYoTyA9PT0gZ2xvYmFsKXtcbiAgICBPW2tleV0gPSB2YWw7XG4gIH0gZWxzZSB7XG4gICAgaWYoIXNhZmUpZGVsZXRlIE9ba2V5XTtcbiAgICBoaWRlKE8sIGtleSwgdmFsKTtcbiAgfVxufSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIHRoaXNbU1JDXSB8fCAkdG9TdHJpbmcuY2FsbCh0aGlzKTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXBlYXQoY291bnQpe1xuICB2YXIgc3RyID0gU3RyaW5nKGRlZmluZWQodGhpcykpXG4gICAgLCByZXMgPSAnJ1xuICAgICwgbiAgID0gdG9JbnRlZ2VyKGNvdW50KTtcbiAgaWYobiA8IDAgfHwgbiA9PSBJbmZpbml0eSl0aHJvdyBSYW5nZUVycm9yKFwiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmVcIik7XG4gIGZvcig7biA+IDA7IChuID4+Pj0gMSkgJiYgKHN0ciArPSBzdHIpKWlmKG4gJiAxKXJlcyArPSBzdHI7XG4gIHJldHVybiByZXM7XG59OyIsIi8vIDIyLjEuMy4zMSBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbnZhciBVTlNDT1BBQkxFUyA9IHJlcXVpcmUoJy4vJC53a3MnKSgndW5zY29wYWJsZXMnKTtcbmlmKCEoVU5TQ09QQUJMRVMgaW4gW10pKXJlcXVpcmUoJy4vJC5oaWRlJykoQXJyYXkucHJvdG90eXBlLCBVTlNDT1BBQkxFUywge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICBbXVtVTlNDT1BBQkxFU11ba2V5XSA9IHRydWU7XG59OyIsIid1c2Ugc3RyaWN0Jztcbi8vIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLyQuY2xhc3NvZicpXG4gICwgdGVzdCAgICA9IHt9O1xudGVzdFtyZXF1aXJlKCcuLyQud2tzJykoJ3RvU3RyaW5nVGFnJyldID0gJ3onO1xuaWYodGVzdCArICcnICE9ICdbb2JqZWN0IHpdJyl7XG4gIHJlcXVpcmUoJy4vJC5yZWRlZicpKE9iamVjdC5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuICdbb2JqZWN0ICcgKyBjbGFzc29mKHRoaXMpICsgJ10nO1xuICB9LCB0cnVlKTtcbn0iLCJ2YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcblxuJGRlZigkZGVmLlAsICdTdHJpbmcnLCB7XG4gIC8vIDIxLjEuMy4xMyBTdHJpbmcucHJvdG90eXBlLnJlcGVhdChjb3VudClcbiAgcmVwZWF0OiByZXF1aXJlKCcuLyQuc3RyaW5nLXJlcGVhdCcpXG59KTsiLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCAgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgaGlkZSAgICAgICAgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgSXRlcmF0b3JzICAgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJylcbiAgLCBJVEVSQVRPUiAgICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIE5MICAgICAgICAgID0gZ2xvYmFsLk5vZGVMaXN0XG4gICwgSFRDICAgICAgICAgPSBnbG9iYWwuSFRNTENvbGxlY3Rpb25cbiAgLCBOTFByb3RvICAgICA9IE5MICYmIE5MLnByb3RvdHlwZVxuICAsIEhUQ1Byb3RvICAgID0gSFRDICYmIEhUQy5wcm90b3R5cGVcbiAgLCBBcnJheVZhbHVlcyA9IEl0ZXJhdG9ycy5Ob2RlTGlzdCA9IEl0ZXJhdG9ycy5IVE1MQ29sbGVjdGlvbiA9IEl0ZXJhdG9ycy5BcnJheTtcbmlmKE5MICYmICEoSVRFUkFUT1IgaW4gTkxQcm90bykpaGlkZShOTFByb3RvLCBJVEVSQVRPUiwgQXJyYXlWYWx1ZXMpO1xuaWYoSFRDICYmICEoSVRFUkFUT1IgaW4gSFRDUHJvdG8pKWhpZGUoSFRDUHJvdG8sIElURVJBVE9SLCBBcnJheVZhbHVlcyk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlZmVyZW5jZSA9IHJlcXVpcmUoXCIuL3JlZmVyZW5jZVwiKTtcblxudmFyIF90eXBlc1Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgRGVjbGFyYXRpdmVFbnZpcm9ubWVudCA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIERlY2xhcmF0aXZlRW52aXJvbm1lbnQocGFyZW50LCB0aGlzQXJnLCBlbnYsIHN0cmljdCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWNsYXJhdGl2ZUVudmlyb25tZW50KTtcblxuXHRcdHRoaXMucHJvcGVydGllcyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdHRoaXMucGFyZW50ID0gcGFyZW50ICYmIHBhcmVudC5zY29wZTtcblx0XHR0aGlzLnRoaXNCaW5kaW5nID0gdGhpc0FyZztcblx0XHR0aGlzLmVudiA9IGVudjtcblx0XHR0aGlzLnN0cmljdCA9IHN0cmljdDtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhEZWNsYXJhdGl2ZUVudmlyb25tZW50LCBbe1xuXHRcdGtleTogXCJzZXRQYXJlbnRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0UGFyZW50KHBhcmVudCkge1xuXHRcdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQuc2NvcGUgfHwgcGFyZW50O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRSZWZlcmVuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKGtleSkge1xuXHRcdFx0dmFyIHJlZiA9IG5ldyBfcmVmZXJlbmNlLlJlZmVyZW5jZShrZXksIHRoaXMsIHRoaXMuZW52KTtcblx0XHRcdHJlZi51bnF1YWxpZmllZCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVmO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0cmV0dXJuIGtleSBpbiB0aGlzLnByb3BlcnRpZXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcIm93bnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gb3ducyhrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLmhhcyhrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWxldGVWYXJpYWJsZShrZXkpIHtcblx0XHRcdGlmICghdGhpcy5oYXMoa2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnByb3BlcnRpZXNba2V5XS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWxldGUgdGhpcy5wcm9wZXJ0aWVzW2tleV07XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVmFyaWFibGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVmFyaWFibGUoa2V5KSB7XG5cdFx0XHRpZiAodGhpcy5oYXMoa2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW2tleV07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLnByb3BlcnRpZXNba2V5XSA9IG5ldyBfdHlwZXNQcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHtcblx0XHRcdFx0dmFsdWU6IHVuZGVmaW5lZCxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShrZXksIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmhhcyhrZXkpKSB7XG5cdFx0XHRcdGlmICghdGhpcy5wcm9wZXJ0aWVzW2tleV0ud3JpdGFibGUpIHtcblx0XHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgdG8gaW1tdXRhYmxlIGJpbmRpbmc6IFwiICsga2V5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLnByb3BlcnRpZXNba2V5XS5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIF9wYXJlbnQ7XG5cblx0XHRcdFx0cmV0dXJuIChfcGFyZW50ID0gdGhpcy5wYXJlbnQpLnNldFZhbHVlLmFwcGx5KF9wYXJlbnQsIGFyZ3VtZW50cyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAodGhpcy5oYXMoa2V5KSkge1xuXHRcdFx0XHRpZiAoIXRoaXMucHJvcGVydGllc1trZXldLnZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgUmVmZXJlbmNlRXJyb3Ioa2V5ICsgXCIgaXMgbm90IGRlZmluZWRcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0aGlzLnByb3BlcnRpZXNba2V5XS5nZXRWYWx1ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRUaGlzQmluZGluZ1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRUaGlzQmluZGluZygpIHtcblx0XHRcdHJldHVybiB0aGlzLnRoaXNCaW5kaW5nO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBEZWNsYXJhdGl2ZUVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5EZWNsYXJhdGl2ZUVudmlyb25tZW50ID0gRGVjbGFyYXRpdmVFbnZpcm9ubWVudDsiLCIvLyB0b2RvOiBzd2l0Y2ggdG8gZXN0cmVlLXdhbGtlclxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnZpc2l0ID0gdmlzaXQ7XG5cbmZ1bmN0aW9uIHZpc2l0KG5vZGUsIGNhbGxiYWNrKSB7XG5cdGlmICghbm9kZSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG5cdFx0bm9kZS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXQobiwgY2FsbGJhY2spO1xuXHRcdH0pO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHN3aXRjaCAobm9kZS50eXBlKSB7XG5cdFx0Y2FzZSBcIlByb2dyYW1cIjpcblx0XHRjYXNlIFwiQmxvY2tTdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiQ2F0Y2hDbGF1c2VcIjpcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRG9XaGlsZVN0YXRlbWVudFwiOlxuXHRcdGNhc2UgXCJXaGlsZVN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS50ZXN0LCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkV4cHJlc3Npb25TdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuZXhwcmVzc2lvbiwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRm9yU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmluaXQsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRm9ySW5TdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUubGVmdCwgY2FsbGJhY2spO1xuXHRcdFx0dmlzaXQobm9kZS5ib2R5LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJJZlN0YXRlbWVudFwiOlxuXHRcdFx0Ly8gZG8gbm90IHNjYW4gYHRlc3RgXG5cdFx0XHR2aXNpdChub2RlLmNvbnNlcXVlbnQsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuYWx0ZXJuYXRlLCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJMYWJlbGVkU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIlN3aXRjaFN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5kaXNjcmltaW5hbnQsIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIlN3aXRjaENhc2VcIjpcblx0XHRcdHZpc2l0KG5vZGUuY29uc2VxdWVudCwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiVHJ5U3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmJsb2NrLCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmhhbmRsZXIsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuZmluYWxpemVyLCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJWYXJpYWJsZURlY2xhcmF0aW9uXCI6XG5cdFx0XHR2aXNpdChub2RlLmRlY2xhcmF0aW9ucywgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiOlxuXHRcdGNhc2UgXCJWYXJpYWJsZURlY2xhcmF0b3JcIjpcblx0XHRcdGNhbGxiYWNrKG5vZGUpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRkZWZhdWx0OlxuXHRcdC8vIGlnbm9yZSBhbGwgb3RoZXIgbm9kZXNcblx0fVxufVxuXG47IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRhc3NpZ24gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ25cIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2V4ZWN1dGlvbkNvbnRleHQgPSByZXF1aXJlKFwiLi4vZXhlY3V0aW9uLWNvbnRleHRcIik7XG5cbnZhciBfZGVjbGFyYXRpdmVFbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL2RlY2xhcmF0aXZlLWVudmlyb25tZW50XCIpO1xuXG52YXIgX29iamVjdEVudmlyb25tZW50ID0gcmVxdWlyZShcIi4vb2JqZWN0LWVudmlyb25tZW50XCIpO1xuXG52YXIgX3JlZmVyZW5jZSA9IHJlcXVpcmUoXCIuL3JlZmVyZW5jZVwiKTtcblxudmFyIF9lczUgPSByZXF1aXJlKFwiLi4vZXM1XCIpO1xuXG52YXIgX2VzNTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lczUpO1xuXG52YXIgX2VzNiA9IHJlcXVpcmUoXCIuLi9lczZcIik7XG5cbnZhciBfZXM2MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzNik7XG5cbnZhciBfdXRpbHNPcGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vdXRpbHMvb3BlcmF0b3JzXCIpO1xuXG52YXIgX3V0aWxzT3BlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzT3BlcmF0b3JzKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3Njb3BlID0gcmVxdWlyZShcIi4vc2NvcGVcIik7XG5cbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0YWxsb3dEZWJ1Z2dlcjogZmFsc2UsXG5cdHVzZVN0cmljdDogZmFsc2UsXG5cdGVjbWFWZXJzaW9uOiA1XG59O1xuXG52YXIgRW52aXJvbm1lbnQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFbnZpcm9ubWVudCgpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW52aXJvbm1lbnQpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEVudmlyb25tZW50LCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRPcHRpb25zIDogYXJndW1lbnRzWzBdO1xuXG5cdFx0XHQvLyBjbGVhciBzdGF0ZSBpbiBjYXNlIG9mIHJlLWluaXRcblx0XHRcdHRoaXMuY3VycmVudCA9IG51bGw7XG5cdFx0XHR0aGlzLmdsb2JhbFNjb3BlID0gbnVsbDtcblxuXHRcdFx0dGhpcy5vcHRpb25zID0gX09iamVjdCRhc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblx0XHRcdChvcHRpb25zLmVjbWFWZXJzaW9uID09PSA2ID8gX2VzNjJbXCJkZWZhdWx0XCJdIDogX2VzNTJbXCJkZWZhdWx0XCJdKSh0aGlzKTtcblxuXHRcdFx0Ly8gdG9kbzogaW1wcm92ZSB0aGlzXG5cdFx0XHR0aGlzLm9wcyA9IF9PYmplY3QkYXNzaWduKF91dGlsc09wZXJhdG9yczJbXCJkZWZhdWx0XCJdLCBvcHRpb25zLm9wZXJhdG9ycyk7XG5cdFx0XHR0aGlzLm9wcy5lbnYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLm9iamVjdEZhY3RvcnkuaW5pdCgpO1xuXG5cdFx0XHRpZiAob3B0aW9ucy5leGNsdWRlICYmIG9wdGlvbnMuZXhjbHVkZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdG9wdGlvbnMuZXhjbHVkZS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdFx0dmFyIHNlZ21lbnRzID0gbmFtZS5zcGxpdChcIi5cIik7XG5cdFx0XHRcdFx0dmFyIHBhcmVudCA9IF90aGlzLmdsb2JhbDtcblxuXHRcdFx0XHRcdHdoaWxlIChzZWdtZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQuZ2V0VmFsdWUoc2VnbWVudHMuc2hpZnQoKSk7XG5cblx0XHRcdFx0XHRcdC8vIGFwaSBub3QgZGVmaW5lZCAtIGFzc3VtZSB1c2VyIGVycm9yP1xuXHRcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHBhcmVudC5yZW1vdmUoc2VnbWVudHMuc2hpZnQoKSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIEdldHMgYSByZWZlcmVuY2UgZnJvbSB0aGUgZW52aXJvbm1lbnRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgcHJvcGVydHlcclxuICAgKiBAcmV0dXJucyB7UmVmZXJlbmNlfSBUaGUgcmVmZXJlbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImdldFJlZmVyZW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRSZWZlcmVuY2Uoa2V5KSB7XG5cdFx0XHR2YXIgc2NvcGUgPSB0aGlzLmN1cnJlbnQgJiYgdGhpcy5jdXJyZW50LnNjb3BlO1xuXHRcdFx0d2hpbGUgKHNjb3BlKSB7XG5cdFx0XHRcdGlmIChzY29wZS5vd25zKGtleSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gc2NvcGUuZ2V0UmVmZXJlbmNlKGtleSwgdHJ1ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY29wZSA9IHNjb3BlLnBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG5ldyBfcmVmZXJlbmNlLlJlZmVyZW5jZShrZXksIHVuZGVmaW5lZCwgdGhpcyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0UmVmZXJlbmNlKGtleSkuZ2V0VmFsdWUoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoa2V5LCB2YWx1ZSwgc3RyaWN0KSB7XG5cdFx0XHR0aGlzLmN1cnJlbnQuc2NvcGUuc2V0VmFsdWUoa2V5LCB2YWx1ZSwgc3RyaWN0KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnQuc2NvcGUuaGFzKGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVZhcmlhYmxlKGtleSkge1xuXHRcdFx0dGhpcy5jdXJyZW50LnNjb3BlLmRlbGV0ZVZhcmlhYmxlKGtleSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogRGVjbGFyZXMgYSB2YXJpYWJsZSB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIHRoZSBrZXkgb2YgdGhlIHZhcmlhYmxlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbXV0YWJsZV0gLSB3aGV0aGVyIHRoZSB2YXJpYWJsZSBpcyBpbW11dGFibGUgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtQcm9wZXJ0eURlc2NyaXB0b3J9IFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgbmV3IHZhcmlhYmJsZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVWYXJpYWJsZShrZXksIGltbXV0YWJsZSkge1xuXHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyKGtleSwgdGhpcy5pc1N0cmljdCgpKTtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnQuc2NvcGUuY3JlYXRlVmFyaWFibGUoa2V5LCAhaW1tdXRhYmxlKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlIGlzIGluIHN0cmljdCBtb2RlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIGluIHN0cmljdCBtb2RlOyBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiaXNTdHJpY3RcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNTdHJpY3QoKSB7XG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLnVzZVN0cmljdCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHNjb3BlID0gdGhpcy5jdXJyZW50ICYmIHRoaXMuY3VycmVudC5zY29wZTtcblx0XHRcdHdoaWxlIChzY29wZSkge1xuXHRcdFx0XHRpZiAoc2NvcGUuc3RyaWN0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY29wZSA9IHNjb3BlLnBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgYHRoaXNgIG9iamVjdCBmb3IgdGhlIGVudmlyb25tZW50LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3RUeXBlfSBUaGUgYHRoaXNgIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VGhpc0JpbmRpbmdcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VGhpc0JpbmRpbmcoKSB7XG5cdFx0XHR2YXIgdGhpc0FyZyA9IHRoaXMuY3VycmVudC5zY29wZS5nZXRUaGlzQmluZGluZygpO1xuXHRcdFx0aWYgKHRoaXNBcmcpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXNBcmc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmlzU3RyaWN0KCkpIHtcblx0XHRcdFx0cmV0dXJuIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5nbG9iYWw7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUV4ZWN1dGlvbkNvbnRleHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRXhlY3V0aW9uQ29udGV4dChub2RlLCBjYWxsZWUsIGlzTmV3KSB7XG5cdFx0XHRyZXR1cm4gbmV3IF9leGVjdXRpb25Db250ZXh0LkV4ZWN1dGlvbkNvbnRleHQodGhpcywgbm9kZSwgY2FsbGVlLCBpc05ldyk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBkZWNsYXJhdGl2ZSBzY29wZS5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGV9IFt0aGlzQXJnXSAtIFRoZSBgdGhpc2AgYmluZGluZyBmb3IgdGhlIG5ldyBzY29wZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzdHJpY3RdIC0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNjb3BlIGlzIGluIHN0cmljdCBtb2RlLlxyXG4gICAqIEByZXR1cm5zIHtTY29wZX0gVGhlIG5ldyBzY29wZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVTY29wZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTY29wZSh0aGlzQXJnLCBzdHJpY3QpIHtcblx0XHRcdHJldHVybiB0aGlzLnNldFNjb3BlKG5ldyBfZGVjbGFyYXRpdmVFbnZpcm9ubWVudC5EZWNsYXJhdGl2ZUVudmlyb25tZW50KHRoaXMuY3VycmVudCwgdGhpc0FyZywgdGhpcywgc3RyaWN0IHx8IHRoaXMuaXNTdHJpY3QoKSkpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgc2NvcGUgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG9iamVjdC4gVGhpcyBpcyB1c2VkIGZvciB0aGUgYHdpdGhgXHJcbiAgICogc3RhdGVtZW50LCBhcyB3ZWxsIGFzIHRoZSBnbG9iYWwgc2NvcGUuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSBvYmogLSBUaGUgb2JqZWN0IHRvIGJpbmQgdGhlIHNjb3BlIHRvLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gW3RoaXNBcmddIC0gVGhlIGB0aGlzYCBiaW5kaW5nIGZvciB0aGUgbmV3IHNjb3BlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3N0cmljdF0gLSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc2NvcGUgaXMgaW4gc3RyaWN0IG1vZGUuXHJcbiAgICogQHJldHVybnMge1Njb3BlfSBUaGUgbmV3IHNjb3BlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZU9iamVjdFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFNjb3BlKG9iaiwgdGhpc0FyZywgc3RyaWN0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zZXRTY29wZShuZXcgX29iamVjdEVudmlyb25tZW50Lk9iamVjdEVudmlyb25tZW50KHRoaXMuY3VycmVudCwgb2JqLCB0aGlzQXJnLCB0aGlzLCBzdHJpY3QgfHwgdGhpcy5pc1N0cmljdCgpKSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUV4ZWN1dGlvblNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUV4ZWN1dGlvblNjb3BlKGZuLCB0aGlzQXJnKSB7XG5cdFx0XHR2YXIgcHJpb3JTY29wZSA9IHRoaXMuY3VycmVudC5zY29wZTtcblxuXHRcdFx0Ly8gaWYgYSBwYXJlbnQgc2NvcGUgaXMgZGVmaW5lZCB3ZSBuZWVkIHRvIGxpbWl0IHRoaXMgc2NvcGUgdG8gdGhhdCBzY29wZVxuXHRcdFx0aWYgKGZuLmJvdW5kU2NvcGUpIHtcblx0XHRcdFx0dGhpcy5zZXRTY29wZShmbi5ib3VuZFNjb3BlLnNjb3BlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpc0FyZyA9IGZuLmJvdW5kVGhpcyB8fCB0aGlzQXJnO1xuXHRcdFx0aWYgKGZuLmFycm93KSB7XG5cdFx0XHRcdHRoaXNBcmcgPSB0aGlzLmdldFRoaXNCaW5kaW5nKCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzY29wZSA9IHRoaXMuY3JlYXRlU2NvcGUodGhpc0FyZyk7XG5cdFx0XHRzY29wZS5wcmlvclNjb3BlID0gcHJpb3JTY29wZTtcblx0XHRcdHJldHVybiBzY29wZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHNjb3BlLlxyXG4gICAqIEBwYXJhbSB7RW52aXJvbm1lbnR9IHNjb3BlIC0gU2V0cyB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cclxuICAgKiBAcmV0dXJucyB7U2NvcGV9IFRoZSBjcmVhdGVkIHNjb3BlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFNjb3BlKHNjb3BlKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jdXJyZW50ID0gbmV3IF9zY29wZS5TY29wZSh0aGlzLCBzY29wZSk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5FbnZpcm9ubWVudCA9IEVudmlyb25tZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wZXJ0eVJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LXJlZmVyZW5jZVwiKTtcblxudmFyIE9iamVjdEVudmlyb25tZW50ID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gT2JqZWN0RW52aXJvbm1lbnQocGFyZW50LCBvYmosIHRoaXNBcmcsIGVudiwgc3RyaWN0KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9iamVjdEVudmlyb25tZW50KTtcblxuXHRcdHRoaXMucGFyZW50ID0gcGFyZW50ICYmIHBhcmVudC5zY29wZTtcblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblx0XHR0aGlzLnRoaXNCaW5kaW5nID0gdGhpc0FyZyB8fCBvYmo7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5zdHJpY3QgPSBzdHJpY3Q7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoT2JqZWN0RW52aXJvbm1lbnQsIFt7XG5cdFx0a2V5OiBcImdldFJlZmVyZW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRSZWZlcmVuY2Uoa2V5LCB1bnF1YWxpZmllZCkge1xuXHRcdFx0dmFyIHJlZiA9IG5ldyBfcHJvcGVydHlSZWZlcmVuY2UuUHJvcGVydHlSZWZlcmVuY2Uoa2V5LCB0aGlzLm9iamVjdCwgdGhpcy5lbnYpO1xuXHRcdFx0cmVmLnVucXVhbGlmaWVkID0gdW5xdWFsaWZpZWQ7XG5cdFx0XHRyZXR1cm4gcmVmO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuaGFzKGtleSkgOiB0aGlzLm93bnMoa2V5KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwib3duc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvd25zKGtleSkge1xuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0LmhhcyhrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYXJpYWJsZShrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWxldGVWYXJpYWJsZShrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5kZWxldGVQcm9wZXJ0eShrZXksIGZhbHNlKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVmFyaWFibGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVmFyaWFibGUoa2V5LCBpbW11dGFibGUpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCkge1xuXHRcdFx0XHR2YXIgX3BhcmVudDtcblxuXHRcdFx0XHRyZXR1cm4gKF9wYXJlbnQgPSB0aGlzLnBhcmVudCkuY3JlYXRlVmFyaWFibGUuYXBwbHkoX3BhcmVudCwgYXJndW1lbnRzKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5vYmplY3QuZGVmaW5lT3duUHJvcGVydHkoa2V5LCB7XG5cdFx0XHRcdHZhbHVlOiB1bmRlZmluZWQsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogaW1tdXRhYmxlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSwgdGhpcy5lbnYuaXNTdHJpY3QoKSk7XG5cblx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShrZXksIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCAmJiAhdGhpcy5vYmplY3QuaGFzKGtleSkpIHtcblx0XHRcdFx0dmFyIF9wYXJlbnQyO1xuXG5cdFx0XHRcdChfcGFyZW50MiA9IHRoaXMucGFyZW50KS5zZXRWYWx1ZS5hcHBseShfcGFyZW50MiwgYXJndW1lbnRzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMub2JqZWN0LnNldFZhbHVlKGtleSwgdmFsdWUsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKGtleSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAoIXRoaXMub3ducyhrZXkpKSB7XG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBSZWZlcmVuY2VFcnJvcihrZXkgKyBcIiBpcyBub3QgZGVmaW5lZC5cIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5vYmplY3QuZ2V0VmFsdWUoa2V5KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VGhpc0JpbmRpbmdcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VGhpc0JpbmRpbmcoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy50aGlzQmluZGluZztcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gT2JqZWN0RW52aXJvbm1lbnQ7XG59KSgpO1xuXG5leHBvcnRzLk9iamVjdEVudmlyb25tZW50ID0gT2JqZWN0RW52aXJvbm1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlZmVyZW5jZSA9IHJlcXVpcmUoXCIuL3JlZmVyZW5jZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbi8qKlxyXG4gKiBBbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyBhIHJlZmVyZW5jZSB0byBhbiBvYmplY3QncyBwcm9wZXJ0eS5cclxuICovXG5cbnZhciBQcm9wZXJ0eVJlZmVyZW5jZSA9IChmdW5jdGlvbiAoX1JlZmVyZW5jZSkge1xuXHRfaW5oZXJpdHMoUHJvcGVydHlSZWZlcmVuY2UsIF9SZWZlcmVuY2UpO1xuXG5cdGZ1bmN0aW9uIFByb3BlcnR5UmVmZXJlbmNlKGtleSwgb2JqZWN0LCBlbnYpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvcGVydHlSZWZlcmVuY2UpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJvcGVydHlSZWZlcmVuY2UucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMsIGtleSwgb2JqZWN0LCBlbnYpO1xuXHRcdHRoaXMuaXNQcm9wZXJ0eVJlZmVyZW5jZSA9IHRydWU7XG5cdH1cblxuXHQvKipcclxuICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSByZWZlcmVuY2UuIElmIHRoZSByZWZlcmVuY2UgaXMgdW5yZXNvbHZlZCxcclxuICAqIGEgUmVmZXJlbmNlRXJyb3Igd2lsbCBiZSB0aHJvd24uXHJcbiAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIHZhbHVlLlxyXG4gICovXG5cblx0X2NyZWF0ZUNsYXNzKFByb3BlcnR5UmVmZXJlbmNlLCBbe1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcblx0XHRcdHZhciBwcm9wID0gdGhpcy5iYXNlLmdldFByb3BlcnR5KHRoaXMua2V5KTtcblx0XHRcdHJldHVybiBwcm9wICYmIHByb3AuZ2V0VmFsdWUoKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGUgdW5kZXJseWluZyBwcm9wZXJ0eSBvciB2YWx1ZS5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGV9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGFzc2lnbi5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHRocm93T25FcnJvciAtIFNldCB0cnVlIGlmIGEgZmFpbGVkIGFzc2lnbm1lbnQgc2hvdWxkIHRocm93IGFuIGV4Y2VwdGlvbi5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIHJlc3VsdCBvZiB0aGUgdmFsdWUgYXNzaWdubWVudC5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdC8vIHRvZG86IHdoeSBjYW4ndCB0aGlzIGdvIGluIHRoZSBzZXRWYWx1ZSBmdW5jdGlvbj9cblx0XHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy5iYXNlLmdldFByb3BlcnR5KHRoaXMua2V5KTtcblx0XHRcdFx0aWYgKHByb3BJbmZvICYmICFwcm9wSW5mby5jYW5TZXRWYWx1ZSgpKSB7XG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFzc2lnbiB0byByZWFkIG9ubHkgcHJvcGVydHkgJ1wiICsgdGhpcy5rZXkgKyBcIidcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXByb3BJbmZvICYmICF0aGlzLmJhc2UuaXNFeHRlbnNpYmxlKCkpIHtcblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYXNzaWduIHRvICdcIiArIHRoaXMua2V5ICsgXCInIG9uIG5vbi1leHRlbnNpYmxlIG9iamVjdFwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5iYXNlLnNldFZhbHVlKHRoaXMua2V5LCB2YWx1ZSk7XG5cdFx0XHRpZiAoIXJlc3VsdCAmJiB0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFzc2lnbiB0byByZWFkIG9ubHkgcHJvcGVydHkgJ1wiICsgdGhpcy5rZXkgKyBcIidcIik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogRGVsZXRlcyB0aGUgdW5kZXJseWluZyByZWZlcmVuY2UuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFRoZSByZXN1bHQgb2YgdGhlIGRlbGV0ZSBvcGVyYXRpb24uXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5iYXNlLmRlbGV0ZVByb3BlcnR5KHRoaXMua2V5LCB0aGlzLmVudi5pc1N0cmljdCgpKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVmZXJlbmNlIGlzIHJlc29sdmVkIG9yIG5vdC5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiByZXNvbHZlczsgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImlzVW5yZXNvbHZlZFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc1VucmVzb2x2ZWQoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFByb3BlcnR5UmVmZXJlbmNlO1xufSkoX3JlZmVyZW5jZS5SZWZlcmVuY2UpO1xuXG5leHBvcnRzLlByb3BlcnR5UmVmZXJlbmNlID0gUHJvcGVydHlSZWZlcmVuY2U7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIFJlZmVyZW5jZSA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIFJlZmVyZW5jZShrZXksIGJhc2UsIGVudikge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWZlcmVuY2UpO1xuXG5cdFx0dGhpcy5pc1JlZmVyZW5jZSA9IHRydWU7XG5cdFx0dGhpcy51bnF1YWxpZmllZCA9IGZhbHNlO1xuXG5cdFx0dGhpcy5rZXkgPSBrZXk7XG5cdFx0dGhpcy5iYXNlID0gYmFzZTtcblx0XHR0aGlzLmVudiA9IGVudjtcblx0XHR0aGlzLnN0cmljdCA9IGVudi5pc1N0cmljdCgpO1xuXHR9XG5cblx0LyoqXHJcbiAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcmVmZXJlbmNlLiBJZiB0aGUgcmVmZXJlbmNlIGlzIHVucmVzb2x2ZWQsXHJcbiAgKiBhIFJlZmVyZW5jZUVycm9yIHdpbGwgYmUgdGhyb3duLlxyXG4gICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSB2YWx1ZS5cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhSZWZlcmVuY2UsIFt7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuXHRcdFx0aWYgKCF0aGlzLmJhc2UpIHtcblx0XHRcdFx0dGhyb3cgUmVmZXJlbmNlRXJyb3IodGhpcy5rZXkgKyBcIiBpcyBub3QgZGVmaW5lZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMuYmFzZS5nZXRWYWx1ZSh0aGlzLmtleSwgdGhpcy5zdHJpY3QpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIHByb3BlcnR5IG9yIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSB2YWx1ZSBhc3NpZ25tZW50LlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy5iYXNlKSB7XG5cdFx0XHRcdGlmICghdGhpcy5iYXNlLnNldFZhbHVlKHRoaXMua2V5LCB2YWx1ZSkgJiYgdGhpcy5zdHJpY3QpIHtcblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjaGVjayBpZGVudGlmaWVyIGJlZm9yZSBzdHJpY3Rcblx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkSWRlbnRpZmllcih0aGlzLmtleSwgdGhpcy5zdHJpY3QpO1xuXG5cdFx0XHRpZiAodGhpcy5zdHJpY3QpIHtcblx0XHRcdFx0dGhyb3cgUmVmZXJlbmNlRXJyb3IodGhpcy5rZXkgKyBcIiBpcyBub3QgZGVmaW5lZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMuZW52Lmdsb2JhbC5kZWZpbmVPd25Qcm9wZXJ0eSh0aGlzLmtleSwge1xuXHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0sIGZhbHNlLCB0aGlzLmVudik7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImlzU3RyaWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzU3RyaWN0KCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc3RyaWN0IHx8IHRoaXMuZW52LmlzU3RyaWN0KCk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogRGVsZXRlcyB0aGUgdW5kZXJseWluZyByZWZlcmVuY2UuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFRoZSByZXN1bHQgb2YgdGhlIGRlbGV0ZSBvcGVyYXRpb24uXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoKSB7XG5cdFx0XHRpZiAodGhpcy5iYXNlKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmJhc2UuZGVsZXRlVmFyaWFibGUodGhpcy5rZXkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVmZXJlbmNlIGlzIHJlc29sdmVkIG9yIG5vdC5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiByZXNvbHZlczsgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImlzVW5yZXNvbHZlZFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc1VucmVzb2x2ZWQoKSB7XG5cdFx0XHRyZXR1cm4gIXRoaXMuYmFzZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUmVmZXJlbmNlO1xufSkoKTtcblxuZXhwb3J0cy5SZWZlcmVuY2UgPSBSZWZlcmVuY2U7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9lc3RyZWVXYWxrZXIgPSByZXF1aXJlKFwiLi4vZXN0cmVlLXdhbGtlclwiKTtcblxudmFyIF9lc3RyZWVXYWxrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXN0cmVlV2Fsa2VyKTtcblxudmFyIF9ob2lzdGVyID0gcmVxdWlyZShcIi4vaG9pc3RlclwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3N5bnRheFJ1bGVzID0gcmVxdWlyZShcIi4uL3N5bnRheC1ydWxlc1wiKTtcblxudmFyIF9zeW50YXhSdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW50YXhSdWxlcyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc0Fzc2lnbiA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3NpZ25cIik7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlU3ludGF4KHJvb3QpIHtcblx0dmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0dmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG5cdHRyeSB7XG5cdFx0Zm9yICh2YXIgX2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9lc3RyZWVXYWxrZXIyW1wiZGVmYXVsdFwiXS5jcmVhdGUocm9vdCkpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdFx0XHR2YXIgbm9kZSA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRpZiAobm9kZS50eXBlIGluIF9zeW50YXhSdWxlczJbXCJkZWZhdWx0XCJdKSB7XG5cdFx0XHRcdF9zeW50YXhSdWxlczJbXCJkZWZhdWx0XCJdW25vZGUudHlwZV0obm9kZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0X2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdH0gZmluYWxseSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHR9XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxudmFyIFNjb3BlID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gU2NvcGUoZW52LCBzY29wZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY29wZSk7XG5cblx0XHRlbnYuZ2xvYmFsU2NvcGUgPSBlbnYuZ2xvYmFsU2NvcGUgfHwgdGhpcztcblxuXHRcdHRoaXMuc2NvcGUgPSBzY29wZTtcblx0XHR0aGlzLmVudiA9IGVudjtcblx0XHR0aGlzLnByaW9yU2NvcGUgPSAoZW52LmN1cnJlbnQgfHwgZW52Lmdsb2JhbFNjb3BlKS5zY29wZTtcblx0fVxuXG5cdC8qKlxyXG4gICogSW5pdGlhbGl6ZXMgdGhlIHNjb3BlIGJ5IHZhbGlkYXRpbmcgdGhlIGZ1bmN0aW9uIGJvZHkgYW5kIGhvaXN0aW5nIHZhcmlhYmxlcy5cclxuICAqIEBwYXJhbSB7QVNUfSBub2RlIC0gVGhlIG5vZGUgdG8gYmUgZXhlY3V0ZWQuXHJcbiAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhTY29wZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG5vZGUpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGlmICghbm9kZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbnYgPSB0aGlzLmVudjtcblx0XHRcdHRoaXMuc2NvcGUuc3RyaWN0ID0gY29udHJhY3RzLmlzU3RyaWN0Tm9kZShub2RlLmJvZHkpO1xuXG5cdFx0XHR2YXIgc3RyaWN0ID0gdGhpcy5zY29wZS5zdHJpY3QgfHwgZW52LmlzU3RyaWN0KCk7XG5cdFx0XHRpZiAoc3RyaWN0ICYmIG5vZGUudHlwZSA9PT0gXCJQcm9ncmFtXCIpIHtcblx0XHRcdFx0dmFsaWRhdGVTeW50YXgobm9kZSk7XG5cdFx0XHR9XG5cblx0XHRcdCgwLCBfaG9pc3Rlci52aXNpdCkobm9kZSwgZnVuY3Rpb24gKGRlY2wpIHtcblx0XHRcdFx0dmFyIG5hbWUgPSBkZWNsLm5hbWUgfHwgZGVjbC5pZC5uYW1lO1xuXHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWUobmFtZSwgc3RyaWN0KTtcblxuXHRcdFx0XHR2YXIgdmFsdWUgPSBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0aWYgKGRlY2wudHlwZSA9PT0gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIpIHtcblx0XHRcdFx0XHQvLyBmdW5jdGlvbnMgY2FuIGJlIHVzZWQgYmVmb3JlIHRoZXkgYXJlIGRlZmluZWRcblx0XHRcdFx0XHR2YXIgc3RyaWN0RnVuYyA9IHN0cmljdCB8fCBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGRlY2wuYm9keS5ib2R5KTtcblx0XHRcdFx0XHR2YWx1ZSA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGRlY2wsIHVuZGVmaW5lZCwgeyBzdHJpY3Q6IHN0cmljdEZ1bmMgfSk7XG5cdFx0XHRcdFx0dmFsdWUuYmluZFNjb3BlKF90aGlzKTtcblx0XHRcdFx0fSBlbHNlIGlmIChfdGhpcy5zY29wZS5oYXMobmFtZSkpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgbmV3VmFyID0gZW52LmNyZWF0ZVZhcmlhYmxlKG5hbWUsIHRydWUpO1xuXHRcdFx0XHRuZXdWYXIuc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImxvYWRDb21wbGV4QXJnc1wiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gbG9hZENvbXBsZXhBcmdzKHBhcmFtcywgYXJncywgY2FsbGVlKSB7XG5cdFx0XHR2YXIgZW52LCBzdHJpY3QsIHNjb3BlLCBhcmdJbmRleCwgYXJnTGVuZ3RoO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBsb2FkQ29tcGxleEFyZ3MkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0ZW52ID0gdGhpcy5lbnY7XG5cdFx0XHRcdFx0XHRzdHJpY3QgPSBlbnYuaXNTdHJpY3QoKSB8fCBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGNhbGxlZS5ub2RlKTtcblx0XHRcdFx0XHRcdHNjb3BlID0gdGhpcy5jcmVhdGVQYXJhbWV0ZXJTY29wZSgpO1xuXHRcdFx0XHRcdFx0YXJnSW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0YXJnTGVuZ3RoID0gYXJncy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkocGFyYW1zLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMChwYXJhbSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHJlc3QsIHJlc3RJbmRleDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKHBhcmFtLnR5cGUgPT09IFwiUmVzdEVsZW1lbnRcIikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlc3QgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN0SW5kZXggPSAwO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIChhcmdJbmRleCA8IGFyZ0xlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc3Quc2V0VmFsdWUocmVzdEluZGV4KyssIGFyZ3NbYXJnSW5kZXgrK10gfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuc2V0VmFsdWUocGFyYW0ubmFtZSwgcmVzdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3NpZ24uZGVjbGFyZSkoZW52LCBwYXJhbSwgYXJnc1thcmdJbmRleCsrXSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgdHJ1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSA3OlxuXG5cdFx0XHRcdFx0XHRpZiAoIWNhbGxlZS5hcnJvdykge1xuXHRcdFx0XHRcdFx0XHQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIHByZXNlcnZlIHRoZSBwYXNzZWQgaW4gYXJndW1lbnRzLCBldmVuIGlmIGRlZmF1bHRzIGFyZSB1c2VkIGluc3RlYWRcblx0XHRcdFx0XHRcdFx0XHR2YXIgYXJndW1lbnRMaXN0ID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlQXJndW1lbnRzKGFyZ3MsIGNhbGxlZSwgc3RyaWN0KTtcblx0XHRcdFx0XHRcdFx0XHRzY29wZS5jcmVhdGVWYXJpYWJsZShcImFyZ3VtZW50c1wiKTtcblx0XHRcdFx0XHRcdFx0XHRzY29wZS5zZXRWYWx1ZShcImFyZ3VtZW50c1wiLCBhcmd1bWVudExpc3QpO1xuXG5cdFx0XHRcdFx0XHRcdFx0YXJncy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5kZWZpbmVPd25Qcm9wZXJ0eShpbmRleCwge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoYXJncy5sZW5ndGgpLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHNjb3BlIGJhY2sgdG8gbWFpbiBzY29wZVxuXHRcdFx0XHRcdFx0dGhpcy5lbnYuc2V0U2NvcGUodGhpcy5zY29wZSk7XG5cblx0XHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgbG9hZENvbXBsZXhBcmdzLCB0aGlzKTtcblx0XHR9KVxuXG5cdFx0LyoqXHJcbiAgICogTG9hZHMgdGhlIGFyZ3VtZW50cyBpbnRvIHRoZSBzY29wZSBhbmQgY3JlYXRlcyB0aGUgc3BlY2lhbCBgYXJndW1lbnRzYCBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtBU1RbXX0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlciBpZGVudGlmaWVyc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZVtdfSBhcmdzIC0gVGhlIGFyZ3VtZW50IHZhbHVlc1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb25UeXBlfSBjYWxsZWUgLSBUaGUgZnVuY3Rpb25cclxuICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJsb2FkQXJnc1wiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gbG9hZEFyZ3MocGFyYW1zLCBhcmdzLCBjYWxsZWUpIHtcblx0XHRcdHZhciBlbnYsIHNjb3BlLCBzdHJpY3RDYWxsZWUsIHN0cmljdCwgYXJndW1lbnRMaXN0LCBhcmdzTGVuZ3RoLCBzaG91bGRNYXAsIF9pLCBsbiwgcGFyYW0sIHZhbHVlLCBfbmFtZSwgZGVzY3JpcHRvciwgaTtcblxuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBsb2FkQXJncyQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRpZiAoIShwYXJhbXMgJiYgcGFyYW1zLnNvbWUoZnVuY3Rpb24gKHApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHAudHlwZSAhPT0gXCJJZGVudGlmaWVyXCI7XG5cdFx0XHRcdFx0XHR9KSkpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmxvYWRDb21wbGV4QXJncyhwYXJhbXMsIGFyZ3MsIGNhbGxlZSk7XG5cblx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0ZW52ID0gdGhpcy5lbnY7XG5cdFx0XHRcdFx0XHRzY29wZSA9IHRoaXMuc2NvcGU7XG5cdFx0XHRcdFx0XHRzdHJpY3RDYWxsZWUgPSBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGNhbGxlZS5ub2RlKTtcblx0XHRcdFx0XHRcdHN0cmljdCA9IGVudi5pc1N0cmljdCgpIHx8IHN0cmljdENhbGxlZTtcblx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUFyZ3VtZW50cyhhcmdzLCBjYWxsZWUsIHN0cmljdCk7XG5cblx0XHRcdFx0XHRcdHNjb3BlLmNyZWF0ZVZhcmlhYmxlKFwiYXJndW1lbnRzXCIpO1xuXHRcdFx0XHRcdFx0c2NvcGUuc2V0VmFsdWUoXCJhcmd1bWVudHNcIiwgYXJndW1lbnRMaXN0KTtcblxuXHRcdFx0XHRcdFx0YXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuXG5cdFx0XHRcdFx0XHRpZiAocGFyYW1zKSB7XG5cdFx0XHRcdFx0XHRcdHNob3VsZE1hcCA9ICFzdHJpY3RDYWxsZWU7XG5cblx0XHRcdFx0XHRcdFx0Zm9yIChfaSA9IDAsIGxuID0gcGFyYW1zLmxlbmd0aDsgX2kgPCBsbjsgX2krKykge1xuXHRcdFx0XHRcdFx0XHRcdHBhcmFtID0gcGFyYW1zW19pXTtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGFyZ3NbX2ldIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdF9uYW1lID0gcGFyYW0ubmFtZTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChzaG91bGRNYXAgJiYgIXNjb3BlLmhhcyhfbmFtZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3IgPSBzY29wZS5jcmVhdGVWYXJpYWJsZShfbmFtZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChhcmdzTGVuZ3RoID4gX2kpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0Lm1hcFByb3BlcnR5KF9pLCBkZXNjcmlwdG9yKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIXNob3VsZE1hcCAmJiBfaSA8IGFyZ3NMZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5kZWZpbmVPd25Qcm9wZXJ0eShfaSwge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZShfbmFtZSwgc3RyaWN0KTtcblx0XHRcdFx0XHRcdFx0XHRzY29wZS5zZXRWYWx1ZShfbmFtZSwgdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIGp1c3Qgc2V0IHZhbHVlIGlmIGFkZGl0aW9uYWwsIHVubmFtZWQgYXJndW1lbnRzIGFyZSBwYXNzZWQgaW5cblx0XHRcdFx0XHRcdGkgPSBwYXJhbXMgPyBwYXJhbXMubGVuZ3RoIDogMDtcblxuXHRcdFx0XHRcdFx0Zm9yICg7IGkgPCBhcmdzTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KGksIHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogYXJnc1tpXSxcblx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmdzTGVuZ3RoKSxcblx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGxvYWRBcmdzLCB0aGlzKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVBhcmFtZXRlclNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVBhcmFtZXRlclNjb3BlKCkge1xuXHRcdFx0dmFyIHNjb3BlID0gdGhpcy5lbnYuY3JlYXRlU2NvcGUoKTtcblx0XHRcdHNjb3BlLnNjb3BlLnNldFBhcmVudCh0aGlzLnNjb3BlLnBhcmVudCk7XG5cdFx0XHR0aGlzLnNjb3BlLnNldFBhcmVudChzY29wZSk7XG5cdFx0XHRyZXR1cm4gc2NvcGUuc2NvcGU7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogUnVucyB0aGUgcGFzc2VkIGluIGZ1bmN0aW9uIGFuZCBleGl0cyB0aGUgc2NvcGUgd2hlbiB0aGUgZnVuY3Rpb24gY29tcGxldGVzLFxyXG4gICAqIHJldHVybmluZyB0aGUgZW52aXJvbm1lbnQgYmFjayB0byB0aGUgcHJldmlvcyBzdGF0ZS5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbm5lciAtIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlLlxyXG4gICAqIEByZXR1cm5zIHtJdGVyYXRvcn0gVGhlIGZ1bmN0aW9uIHJlc3VsdHNcclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJ1c2VcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHVzZShpbm5lcikge1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdXNlJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAwO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRyZXR1cm4gaW5uZXIoKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdHRoaXMuZXhpdCgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDg7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMCk7XG5cblx0XHRcdFx0XHRcdHRoaXMuZXhpdCgpO1xuXHRcdFx0XHRcdFx0dGhyb3cgY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHVzZSwgdGhpcywgW1swLCA4XV0pO1xuXHRcdH0pXG5cblx0XHQvKipcclxuICAgKiBFeGl0cyB0aGUgc2NvcGUsIHJldHVybmluZyB0aGUgZW52aXJvbm1lbnQgdG8gaXQncyBwcmV2aW91cyBzdGF0ZS5cclxuICAgKiAoVHlwaWNhbGx5IHlvdSB3b3VsZCBjYWxsIGB1c2VgIHdoaWNoIGhhbmRsZXMgZXhpdGluZyB0aGUgc2NvcGUgaXRzZWxmLilcclxuICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJleGl0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGV4aXQoKSB7XG5cdFx0XHR0aGlzLmVudi5zZXRTY29wZSh0aGlzLnByaW9yU2NvcGUpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTY29wZTtcbn0pKCk7XG5cbmV4cG9ydHMuU2NvcGUgPSBTY29wZTtcblxuLy8gY3JlYXRlIGEgdGVtcG9yYXJ5IHNjb3BlIGZvciB0aGUgYXJndW1lbnQgZGVjbGFyYXRpb25zXG5cbi8vIHRvZG86IHRoaXMgbWV0aG9kIGlzIGdldHRpbmcgZmFyIHRvbyBjb21wbGV4IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nZXRTdGFydEluZGV4ID0gZ2V0U3RhcnRJbmRleDtcbmV4cG9ydHMuZ2V0RW5kSW5kZXggPSBnZXRFbmRJbmRleDtcbmV4cG9ydHMuZXhlY3V0ZUNhbGxiYWNrID0gZXhlY3V0ZUNhbGxiYWNrO1xuZXhwb3J0cy5leGVjdXRlQWNjdW11bGF0b3IgPSBleGVjdXRlQWNjdW11bGF0b3I7XG5leHBvcnRzLmlzU3ByZWFkYWJsZSA9IGlzU3ByZWFkYWJsZTtcbnZhciBtYXJrZWQwJDAgPSBbZXhlY3V0ZUNhbGxiYWNrLCBleGVjdXRlQWNjdW11bGF0b3JdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZnVuY3Rpb24gZ2V0U3RhcnRJbmRleChpbmRleCwgbGVuZ3RoKSB7XG5cdGlmIChpbmRleCA8IDApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgobGVuZ3RoIC0gTWF0aC5hYnMoaW5kZXgpLCAwKTtcblx0fVxuXG5cdHJldHVybiBNYXRoLm1pbihpbmRleCB8fCAwLCBsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBnZXRFbmRJbmRleChpbmRleCwgbGVuZ3RoKSB7XG5cdGlmIChpbmRleCA8IDApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuXHR9XG5cblx0cmV0dXJuIE1hdGgubWluKGluZGV4LCBsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycikge1xuXHR2YXIga2V5LCBhcmdzO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIXRoaXNBcmcpIHtcblx0XHRcdFx0XHR0aGlzQXJnID0gY2FsbGJhY2suaXNTdHJpY3QoKSA/IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEIDogZW52Lmdsb2JhbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGtleSA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlbnRyeS5rZXkpO1xuXHRcdFx0XHRhcmdzID0gW2VudHJ5LnZhbHVlLCBrZXksIGFycl07XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBhcmdzKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlQWNjdW11bGF0b3IoZW52LCBjYWxsYmFjaywgcHJpb3JWYWx1ZSwgZW50cnksIGFycikge1xuXHR2YXIgYXJncztcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBleGVjdXRlQWNjdW11bGF0b3IkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0YXJncyA9IFtwcmlvclZhbHVlIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCBlbnRyeS52YWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVudHJ5LmtleSksIGFycl07XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbChfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgYXJncykgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gaXNTcHJlYWRhYmxlKG9iaikge1xuXHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNPYmplY3QpKG9iaikpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIga2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpO1xuXHR2YXIgcHJvcEluZm8gPSBvYmouZ2V0UHJvcGVydHkoa2V5KTtcblx0aWYgKHByb3BJbmZvKSB7XG5cdFx0dmFyIHNwcmVhZGFibGUgPSBwcm9wSW5mby5nZXRWYWx1ZSgpO1xuXHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc1VuZGVmaW5lZCkoc3ByZWFkYWJsZSkpIHtcblx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoc3ByZWFkYWJsZSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG9iai5jbGFzc05hbWUgPT09IFwiQXJyYXlcIjtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX2FycmF5SGVscGVycyA9IHJlcXVpcmUoXCIuL2FycmF5LWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImNvbmNhdFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJyYXlzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRhcnJheXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIG5ld0FycmF5LCBjdXJyZW50LCBpbmRleCwgaSwgX2xlbmd0aDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRuZXdBcnJheSA9IGZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRcdFx0XHQvLyBhZGQgXCJ0aGlzXCIgYXJyYXkgdG8gYnVuY2hcblx0XHRcdFx0XHRhcnJheXMudW5zaGlmdCgoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSkpO1xuXG5cdFx0XHRcdFx0Y3VycmVudCA9IHVuZGVmaW5lZCwgaW5kZXggPSAwLCBpID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpZiAoIShhcnJheXMubGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBhcnJheXMuc2hpZnQoKTtcblxuXHRcdFx0XHRcdGlmICghKDAsIF9hcnJheUhlbHBlcnMuaXNTcHJlYWRhYmxlKShjdXJyZW50KSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGN1cnJlbnQpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRfbGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBfbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50LmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0XHRuZXdBcnJheS5zZXRWYWx1ZShpbmRleCwgY3VycmVudC5nZXRWYWx1ZShpKSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdG5ld0FycmF5LnNldFZhbHVlKGluZGV4KyssIGN1cnJlbnQpO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdG5ld0FycmF5LnNldFZhbHVlKFwibGVuZ3RoXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGluZGV4KSk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5jb25jYXRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzL1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF9hcnJheUhlbHBlcnMgPSByZXF1aXJlKFwiLi9hcnJheS1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJldmVyeVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBlbnRyeSwgcGFzc2VkO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKHRoaXMubm9kZSwgXCJBcnJheS5wcm90b3R5cGUuZXZlcnlcIik7XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShhcnIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKShjYWxsYmFjaywgYXJyKTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDk7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX2FycmF5SGVscGVycy5leGVjdXRlQ2FsbGJhY2spKGVudiwgY2FsbGJhY2ssIGVudHJ5LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRpZiAocGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDkpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI4O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbOSwgMjQsIDI4LCAzNl0sIFsyOSwsIDMxLCAzNV1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmV2ZXJ5XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9ycy9cIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZmlsdGVyXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBuZXdBcnJheSwgaW5kZXgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnksIHBhc3NlZDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiKTtcblxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbikoY2FsbGJhY2ssIGFycik7XG5cblx0XHRcdFx0XHRuZXdBcnJheSA9IGZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDExO1xuXHRcdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9hcnJheUhlbHBlcnMuZXhlY3V0ZUNhbGxiYWNrKShlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKHBhc3NlZCkge1xuXHRcdFx0XHRcdFx0bmV3QXJyYXkuc2V0SW5kZXgoaW5kZXgrKywgZW50cnkudmFsdWUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTEpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMDtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDMyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMjtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMik7XG5cblx0XHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI5KTtcblxuXHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3QXJyYXkpO1xuXG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTEsIDI1LCAyOSwgMzddLCBbMzAsLCAzMiwgMzZdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzL1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF9hcnJheUhlbHBlcnMgPSByZXF1aXJlKFwiLi9hcnJheS1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJmb3JFYWNoXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGVudHJ5O1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbikoY2FsbGJhY2ssIGFycik7XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA4O1xuXHRcdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9hcnJheUhlbHBlcnMuZXhlY3V0ZUNhbGxiYWNrKShlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxOTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oOCk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjM7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI0O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI2O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI2KTtcblxuXHRcdFx0XHRjYXNlIDMwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjMpO1xuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbOCwgMTksIDIzLCAzMV0sIFsyNCwsIDI2LCAzMF1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmZvckVhY2hcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzXCIpO1xuXG52YXIgX2l0ZXJhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcnMpO1xuXG52YXIgX2FycmF5SGVscGVycyA9IHJlcXVpcmUoXCIuL2FycmF5LWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImluZGV4T2ZcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4KSB7XG5cdFx0dmFyIGxlbmd0aCxcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG5vdEZvdW5kLFxuXHRcdCAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLFxuXHRcdCAgICBfZGlkSXRlcmF0b3JFcnJvcixcblx0XHQgICAgX2l0ZXJhdG9yRXJyb3IsXG5cdFx0ICAgIF9pdGVyYXRvcixcblx0XHQgICAgX3N0ZXAsXG5cdFx0ICAgIF9zdGVwJHZhbHVlLFxuXHRcdCAgICBrZXksXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRzZWFyY2hFbGVtZW50ID0gc2VhcmNoRWxlbWVudCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSAwO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZnJvbUluZGV4KTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGluZGV4ID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0bm90Rm91bmQgPSBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSk7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPT09IDAgfHwgaW5kZXggPj0gbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBub3RGb3VuZCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdGluZGV4ID0gKDAsIF9hcnJheUhlbHBlcnMuZ2V0U3RhcnRJbmRleCkoaW5kZXgsIGxlbmd0aCk7XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxOTtcblx0XHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQodGhpcy5ub2RlLCBpbmRleCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9zdGVwJHZhbHVlID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdFx0a2V5ID0gX3N0ZXAkdmFsdWUua2V5O1xuXHRcdFx0XHRcdHZhbHVlID0gX3N0ZXAkdmFsdWUudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoIWVudi5vcHMuc3RyaWN0RXF1YWxzKHNlYXJjaEVsZW1lbnQsIHZhbHVlIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpKTtcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDMwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDMyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTkpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM2O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNztcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzOTtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0Mjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzOSk7XG5cblx0XHRcdFx0Y2FzZSA0Mzpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM2KTtcblxuXHRcdFx0XHRjYXNlIDQ0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbm90Rm91bmQpO1xuXG5cdFx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTksIDMyLCAzNiwgNDRdLCBbMzcsLCAzOSwgNDNdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5pbmRleE9mXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgcHJvdG8gPSAkdGFyZ2V0LmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHQkdGFyZ2V0LmRlZmluZShcImlzQXJyYXlcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSghIShvYmogJiYgKG9iai5jbGFzc05hbWUgPT09IFwiQXJyYXlcIiB8fCBvYmogPT09IHByb3RvKSkpO1xuXHR9LCAxLCBcIkFycmF5LmlzQXJyYXlcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImpvaW5cIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGpvaW4oc2VwYXJhdG9yKSB7XG5cdFx0dmFyIGxlbmd0aCxcblx0XHQgICAgc3RyaW5nVmFsdWVzLFxuXHRcdCAgICBzdHJpbmdWYWx1ZSxcblx0XHQgICAgaSxcblx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBqb2luJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoYXJncyQyJDAubGVuZ3RoID09PSAwIHx8IHNlcGFyYXRvciA9PT0gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gXCIsXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoc2VwYXJhdG9yKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0c2VwYXJhdG9yID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWVzID0gW107XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRpZiAoIShpIDwgbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBcIlwiO1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IHRoaXMubm9kZS5nZXRWYWx1ZShpKTtcblxuXHRcdFx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCkoc3RyaW5nVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IFwiXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlcy5wdXNoKHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlcy5qb2luKHNlcGFyYXRvcikpKTtcblxuXHRcdFx0XHRjYXNlIDMwOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBqb2luLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmpvaW5cIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzXCIpO1xuXG52YXIgX2l0ZXJhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcnMpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJsYXN0SW5kZXhPZlwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblx0XHR2YXIgbGVuZ3RoLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbixcblx0XHQgICAgX2RpZEl0ZXJhdG9yRXJyb3IsXG5cdFx0ICAgIF9pdGVyYXRvckVycm9yLFxuXHRcdCAgICBfaXRlcmF0b3IsXG5cdFx0ICAgIF9zdGVwLFxuXHRcdCAgICBfc3RlcCR2YWx1ZSxcblx0XHQgICAga2V5LFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0c2VhcmNoRWxlbWVudCA9IHNlYXJjaEVsZW1lbnQgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShhcmdzJDIkMC5sZW5ndGggPT09IDEpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gbGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGZyb21JbmRleCk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpbmRleCA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKGluZGV4IDwgMCkge1xuXHRcdFx0XHRcdFx0aW5kZXggPSBsZW5ndGggLSBNYXRoLmFicyhpbmRleCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTY7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKHRoaXMubm9kZSwgaW5kZXgpKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X3N0ZXAkdmFsdWUgPSBfc3RlcC52YWx1ZTtcblx0XHRcdFx0XHRrZXkgPSBfc3RlcCR2YWx1ZS5rZXk7XG5cdFx0XHRcdFx0dmFsdWUgPSBfc3RlcCR2YWx1ZS52YWx1ZTtcblxuXHRcdFx0XHRcdGlmICghZW52Lm9wcy5zdHJpY3RFcXVhbHMoc2VhcmNoRWxlbWVudCwgdmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSkpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxNik7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAzMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzM7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM0O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM2O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdFx0Y2FzZSAzOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM2KTtcblxuXHRcdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzMpO1xuXG5cdFx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSkpO1xuXG5cdFx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTYsIDI5LCAzMywgNDFdLCBbMzQsLCAzNiwgNDBdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZlwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9ycy9cIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdFx0JHRhcmdldC5kZWZpbmUoXCJtYXBcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0XHRcdFx0dmFyIGFyciwgbGVuZ3RoLCBuZXdBcnJheSwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBlbnRyeSwgdmFsdWU7XG5cblx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShhcnIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKGFyciwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ld0FycmF5ID0gZmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXdBcnJheS5zZXRWYWx1ZShcImxlbmd0aFwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShsZW5ndGgpKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cnkgPSBfc3RlcC52YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF9hcnJheUhlbHBlcnMuZXhlY3V0ZUNhbGxiYWNrKShlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXdBcnJheS5zZXRJbmRleChlbnRyeS5rZXksIHZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDExKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3QXJyYXkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTEsIDI0LCAyOCwgMzZdLCBbMjksLCAzMSwgMzVdXSk7XG5cdFx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJwb3BcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIG9iaiwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0b2JqID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRpID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmIChpID4gMCkge1xuXHRcdFx0XHRcdFx0aS0tO1xuXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5ub2RlLmhhcyhpKSkge1xuXHRcdFx0XHRcdFx0XHRvYmogPSB0aGlzLm5vZGUuZ2V0VmFsdWUoaSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShpLCB0cnVlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoXCJsZW5ndGhcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaSkpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJBcnJheS5wcm90b3R5cGUucG9wXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwicHVzaFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgaXRlbXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdGl0ZW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHZhciBzdGFydCwgaSwgX2xlbmd0aCwgbmV3TGVuZ3RoO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdGFydCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0XHRmb3IgKF9sZW5ndGggPSBpdGVtcy5sZW5ndGg7IGkgPCBfbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZShzdGFydCArIGksIGl0ZW1zW2ldKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRuZXdMZW5ndGggPSBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdGFydCArIGkpO1xuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKFwibGVuZ3RoXCIsIG5ld0xlbmd0aCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdMZW5ndGgpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5wdXNoXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9ycy9cIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwicmVkdWNlUmlnaHRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuXHRcdHZhciBsZW5ndGgsXG5cdFx0ICAgIGFycixcblx0XHQgICAgYWNjdW11bGF0b3IsXG5cdFx0ICAgIGhhc0luaXRpYWxWYWx1ZSxcblx0XHQgICAgaGFzRWxlbWVudHMsXG5cdFx0ICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sXG5cdFx0ICAgIF9kaWRJdGVyYXRvckVycm9yLFxuXHRcdCAgICBfaXRlcmF0b3JFcnJvcixcblx0XHQgICAgX2l0ZXJhdG9yLFxuXHRcdCAgICBfc3RlcCxcblx0XHQgICAgZW50cnksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodFwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0YWNjdW11bGF0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0aGFzSW5pdGlhbFZhbHVlID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoYXJncyQyJDAubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0YWNjdW11bGF0b3IgPSBpbml0aWFsVmFsdWU7XG5cdFx0XHRcdFx0XHRoYXNJbml0aWFsVmFsdWUgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGhhc0VsZW1lbnRzID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPiAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKGFyciwgbGVuZ3RoIC0gMSkpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKGhhc0VsZW1lbnRzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRoYXNFbGVtZW50cyA9IHRydWU7XG5cblx0XHRcdFx0XHRpZiAoaGFzSW5pdGlhbFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhY2N1bXVsYXRvciA9IGVudHJ5LnZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJjb250aW51ZVwiLCAyNik7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfYXJyYXlIZWxwZXJzLmV4ZWN1dGVBY2N1bXVsYXRvcikoZW52LCBjYWxsYmFjaywgYWNjdW11bGF0b3IsIGVudHJ5LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdFx0YWNjdW11bGF0b3IgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMxO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxNCk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM2O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM4O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM4KTtcblxuXHRcdFx0XHRjYXNlIDQyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzUpO1xuXG5cdFx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdFx0aWYgKCEoIWhhc0VsZW1lbnRzICYmICFoYXNJbml0aWFsVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpO1xuXG5cdFx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhY2N1bXVsYXRvcik7XG5cblx0XHRcdFx0Y2FzZSA0Njpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxNCwgMzEsIDM1LCA0M10sIFszNiwsIDM4LCA0Ml1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9ycy9cIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwicmVkdWNlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCBpbml0aWFsVmFsdWUpIHtcblx0XHR2YXIgYXJyLFxuXHRcdCAgICBsZW5ndGgsXG5cdFx0ICAgIGhhc0luaXRpYWxWYWx1ZSxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGhhc0VsZW1lbnRzLFxuXHRcdCAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLFxuXHRcdCAgICBfZGlkSXRlcmF0b3JFcnJvcixcblx0XHQgICAgX2l0ZXJhdG9yRXJyb3IsXG5cdFx0ICAgIF9pdGVyYXRvcixcblx0XHQgICAgX3N0ZXAsXG5cdFx0ICAgIGVudHJ5LFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGFycik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0aGFzSW5pdGlhbFZhbHVlID0gZmFsc2U7XG5cdFx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoYXJncyQyJDAubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSBpbml0aWFsVmFsdWU7XG5cdFx0XHRcdFx0XHRoYXNJbml0aWFsVmFsdWUgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGhhc0VsZW1lbnRzID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPiAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoaGFzRWxlbWVudHMpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGhhc0VsZW1lbnRzID0gdHJ1ZTtcblxuXHRcdFx0XHRcdGlmIChoYXNJbml0aWFsVmFsdWUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhbHVlID0gZW50cnkudmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImNvbnRpbnVlXCIsIDI2KTtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9hcnJheUhlbHBlcnMuZXhlY3V0ZUFjY3VtdWxhdG9yKShlbnYsIGNhbGxiYWNrLCB2YWx1ZSwgZW50cnksIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDE0KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzY7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzg7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0XHRjYXNlIDQxOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzgpO1xuXG5cdFx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNSk7XG5cblx0XHRcdFx0Y2FzZSA0Mzpcblx0XHRcdFx0XHRpZiAoISghaGFzRWxlbWVudHMgJiYgIWhhc0luaXRpYWxWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0NTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIik7XG5cblx0XHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDQ2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzE0LCAzMSwgMzUsIDQzXSwgWzM2LCwgMzgsIDQyXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUucmVkdWNlXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwicmV2ZXJzZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgbGVuZ3RoLCBtaWRkbGUsIGxvd2VyLCB1cHBlciwgdXBwZXJWYWx1ZSwgbG93ZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0bWlkZGxlID0gTWF0aC5mbG9vcihsZW5ndGggLyAyKTtcblx0XHRcdFx0XHRsb3dlciA9IDA7XG5cdFx0XHRcdFx0dXBwZXIgPSB1bmRlZmluZWQsIHVwcGVyVmFsdWUgPSB1bmRlZmluZWQsIGxvd2VyVmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHR3aGlsZSAobG93ZXIgIT09IG1pZGRsZSkge1xuXHRcdFx0XHRcdFx0dXBwZXIgPSBsZW5ndGggLSBsb3dlciAtIDE7XG5cdFx0XHRcdFx0XHRsb3dlclZhbHVlID0gdGhpcy5ub2RlLmhhcyhsb3dlcikgJiYgdGhpcy5ub2RlLmdldFZhbHVlKGxvd2VyKTtcblx0XHRcdFx0XHRcdHVwcGVyVmFsdWUgPSB0aGlzLm5vZGUuaGFzKHVwcGVyKSAmJiB0aGlzLm5vZGUuZ2V0VmFsdWUodXBwZXIpO1xuXG5cdFx0XHRcdFx0XHRpZiAodXBwZXJWYWx1ZSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUobG93ZXIsIHVwcGVyVmFsdWUpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAobG93ZXJWYWx1ZSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUodXBwZXIsIGxvd2VyVmFsdWUpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAodXBwZXJWYWx1ZSAmJiAhbG93ZXJWYWx1ZSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkodXBwZXIpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChsb3dlclZhbHVlICYmICF1cHBlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShsb3dlcik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGxvd2VyKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS5yZXZlcnNlXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNoaWZ0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBvYmosIGxlbmd0aCwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0b2JqID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdFx0aWYgKGxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRcdG9iaiA9IHRoaXMubm9kZS5nZXRWYWx1ZShpKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR3aGlsZSAoKytpIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKGkgLSAxLCB0aGlzLm5vZGUuZ2V0VmFsdWUoaSkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkobGVuZ3RoIC0gMSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKFwibGVuZ3RoXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCA9PT0gMCA/IDAgOiAtLWxlbmd0aCkpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJBcnJheS5wcm90b3R5cGUuc2hpZnRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX2FycmF5SGVscGVycyA9IHJlcXVpcmUoXCIuL2FycmF5LWhlbHBlcnNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9ycy9cIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNsaWNlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGJlZ2luLCBlbmQpIHtcblx0XHR2YXIgc291cmNlLCBsZW5ndGgsIGFyciwgbmV3TGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIF9zdGVwJHZhbHVlLCBrZXksIHZhbHVlLCBpbmRleDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRzb3VyY2UgPSB0aGlzLm5vZGU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIWJlZ2luKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGJlZ2luKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gMDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGJlZ2luID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoISghZW5kIHx8IGVuZC50eXBlID09PSBcInVuZGVmaW5lZFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW5kID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVuZCk7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRlbmQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cblx0XHRcdFx0XHRiZWdpbiA9ICgwLCBfYXJyYXlIZWxwZXJzLmdldFN0YXJ0SW5kZXgpKGJlZ2luLCBsZW5ndGgpO1xuXHRcdFx0XHRcdGVuZCA9ICgwLCBfYXJyYXlIZWxwZXJzLmdldEVuZEluZGV4KShlbmQsIGxlbmd0aCk7XG5cblx0XHRcdFx0XHRhcnIgPSBmYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdFx0XHRcdG5ld0xlbmd0aCA9IDA7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjY7XG5cblx0XHRcdFx0XHRmb3IgKF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChzb3VyY2UsIGJlZ2luLCBlbmQpKTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRfc3RlcCR2YWx1ZSA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRcdFx0a2V5ID0gX3N0ZXAkdmFsdWUua2V5O1xuXHRcdFx0XHRcdFx0dmFsdWUgPSBfc3RlcCR2YWx1ZS52YWx1ZTtcblx0XHRcdFx0XHRcdGluZGV4ID0ga2V5IC0gYmVnaW47XG5cblx0XHRcdFx0XHRcdGFyci5zZXRWYWx1ZShpbmRleCwgdmFsdWUpO1xuXHRcdFx0XHRcdFx0bmV3TGVuZ3RoID0gKytpbmRleDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzA7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDI2KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzU7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzc7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzcpO1xuXG5cdFx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNCk7XG5cblx0XHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoXCJsZW5ndGhcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3TGVuZ3RoKSk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgNDQ6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMjYsIDMwLCAzNCwgNDJdLCBbMzUsLCAzNywgNDFdXSk7XG5cdH0pLCAyLCBcIkFycmF5LnByb3RvdHlwZS5zbGljZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX2l0ZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi8uLi9pdGVyYXRvcnMvXCIpO1xuXG52YXIgX2l0ZXJhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcnMpO1xuXG52YXIgX2FycmF5SGVscGVycyA9IHJlcXVpcmUoXCIuL2FycmF5LWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNvbWVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0XHR2YXIgYXJyLCBsZW5ndGgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnksIHBhc3NlZDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLnNvbWVcIik7XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKShjYWxsYmFjaywgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDk7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX2FycmF5SGVscGVycy5leGVjdXRlQ2FsbGJhY2spKGVudiwgY2FsbGJhY2ssIGVudHJ5LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRpZiAoIXBhc3NlZCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKSk7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDkpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI4O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpKTtcblxuXHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzksIDI0LCAyOCwgMzZdLCBbMjksLCAzMSwgMzVdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5zb21lXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNvcnRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY29tcGFyZUZ1bmN0aW9uKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBpLCBjb21wYXJlciwgc29ydGVkQXJyYXk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9IHRoaXMubm9kZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRjb21wYXJlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKShjb21wYXJlRnVuY3Rpb24pKSB7XG5cdFx0XHRcdFx0XHRjb21wYXJlciA9IGZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlcihhLCBiKSB7XG5cdFx0XHRcdFx0XHRcdGEgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoYSkpO1xuXHRcdFx0XHRcdFx0XHRiID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGIpKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoYSA8IGIpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoYSA+IGIpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29tcGFyZXIgPSBmdW5jdGlvbiAoYSwgYikge1xuXHRcdFx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKGNvbXBhcmVGdW5jdGlvbi5jYWxsKF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCBbYSwgYl0pKTtcblx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQudG9OYXRpdmUoKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIHRvIGFycmF5LCBydW4gdGhlIHdyYXBwZWQgY29tcGFyZXIsIHRoZW4gcmUtYXNzaWduIGluZGV4ZXNcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KShhcnIsIGxlbmd0aCk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWwuaXNQcmltaXRpdmUgJiYgZWwudmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGVsO1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbXBhcmVyO1xuXHRcdFx0XHRcdHNvcnRlZEFycmF5ID0gY29udGV4dCQyJDAuc2VudC5cblx0XHRcdFx0XHQvLyB1bmRlZmluZWQgcG9zaXRpb25zIGFyZSBoYW5kbGVkIGJ5IHRoZSB1bmRlcmx5aW5nIHNvcnQgYWxnb3JpdGhtLCBzbyByZXBsYWNlIHRoZW0gd2l0aCB0aGUgcmF3IHByaW1pdGl2ZSB2YWx1ZVxuXHRcdFx0XHRcdG1hcChjb250ZXh0JDIkMC50MCkuc29ydChjb250ZXh0JDIkMC50MSk7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdFx0aWYgKGkgaW4gc29ydGVkQXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0YXJyLnNldFZhbHVlKGksIHNvcnRlZEFycmF5W2ldKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGFyci5kZWxldGVQcm9wZXJ0eShpLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5zb3J0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwic3BsaWNlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0YXJ0LCBkZWxldGVDb3VudCkge1xuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBlbGVtZW50cyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdGVsZW1lbnRzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgbGVuZ3RoLCByZW1vdmVkLCBrLCBuZXdDb3VudCwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShzdGFydCk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmIChzdGFydCA8IDApIHtcblx0XHRcdFx0XHRcdHN0YXJ0ID0gTWF0aC5tYXgobGVuZ3RoICsgc3RhcnQsIDApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzdGFydCA9IE1hdGgubWluKHN0YXJ0LCBsZW5ndGgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZGVsZXRlQ291bnQpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRkZWxldGVDb3VudCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoZGVsZXRlQ291bnQgPCAwKSB7XG5cdFx0XHRcdFx0XHRkZWxldGVDb3VudCA9IDA7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlbGV0ZUNvdW50ID0gTWF0aC5taW4oTWF0aC5tYXgoZGVsZXRlQ291bnQsIDApLCBsZW5ndGggLSBzdGFydCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVtb3ZlZCA9IGZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0XHRcdFx0ayA9IDA7XG5cblx0XHRcdFx0XHR3aGlsZSAoayA8IGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5ub2RlLmhhcyhrICsgc3RhcnQpKSB7XG5cdFx0XHRcdFx0XHRcdHJlbW92ZWQuc2V0VmFsdWUoaywgdGhpcy5ub2RlLmdldFZhbHVlKGsgKyBzdGFydCkpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bmV3Q291bnQgPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0XHRcdFx0XHRpZiAobmV3Q291bnQgPCBkZWxldGVDb3VudCkge1xuXHRcdFx0XHRcdFx0ayA9IHN0YXJ0O1xuXG5cdFx0XHRcdFx0XHR3aGlsZSAoayA8IGxlbmd0aCAtIGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGsgKyBkZWxldGVDb3VudCkpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoayArIG5ld0NvdW50LCB0aGlzLm5vZGUuZ2V0VmFsdWUoayArIGRlbGV0ZUNvdW50KSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGsgKyBkZWxldGVDb3VudCk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGsgPSBsZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoayA+IGxlbmd0aCAtIGRlbGV0ZUNvdW50ICsgbmV3Q291bnQpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KC0tayk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChuZXdDb3VudCA+IGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRrID0gbGVuZ3RoIC0gc3RhcnQ7XG5cdFx0XHRcdFx0XHR3aGlsZSAoayA+IHN0YXJ0KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGsgKyBkZWxldGVDb3VudCAtIDEpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKGsgKyBuZXdDb3VudCAtIDEsIHRoaXMubm9kZS5nZXRWYWx1ZShrICsgZGVsZXRlQ291bnQgLSAxKSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGsgKyBuZXdDb3VudCAtIDEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0ay0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGsgPSBzdGFydDtcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbmV3Q291bnQ7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKGssIGVsZW1lbnRzW2ldKTtcblx0XHRcdFx0XHRcdGsrKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoXCJsZW5ndGhcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoIC0gZGVsZXRlQ291bnQgKyBuZXdDb3VudCkpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVtb3ZlZCk7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkFycmF5LnByb3RvdHlwZS5zcGxpY2VcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwidG9Mb2NhbGVTdHJpbmdcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIGxlbmd0aCwgYXJyLCBpLCBjdXJyZW50LCBmdW5jO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRhcnIgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRjdXJyZW50ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRpZiAoIShpIDwgbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5vZGUuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjdXJyZW50ID0gdGhpcy5ub2RlLmdldFZhbHVlKGkpO1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKShjdXJyZW50KSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJyW2ldID0gXCJcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRmdW5jID0gY3VycmVudC5nZXRWYWx1ZShcInRvTG9jYWxlU3RyaW5nXCIpIHx8IGN1cnJlbnQuZ2V0VmFsdWUoXCJ0b1N0cmluZ1wiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmMuY2FsbChjdXJyZW50KTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdGFycltpXSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblxuXHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoYXJyLmpvaW4oKSkpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJBcnJheS5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmdcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgZnVuYztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIkFycmF5LnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblx0XHRcdFx0XHRmdW5jID0gdGhpcy5ub2RlLmdldFZhbHVlKFwiam9pblwiKTtcblxuXHRcdFx0XHRcdGlmICghZnVuYyB8fCAhKDAsIF91dGlsc0NvbnRyYWN0cy5pc0Z1bmN0aW9uKShmdW5jKSkge1xuXHRcdFx0XHRcdFx0ZnVuYyA9IGVudi5nbG9iYWwuZ2V0VmFsdWUoXCJPYmplY3RcIikuZ2V0VmFsdWUoXCJ0b1N0cmluZ1wiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gZnVuYy5jYWxsKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDAsIFwiQXJyYXkucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwidW5zaGlmdFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgaXRlbXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdGl0ZW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHZhciBsZW5ndGgsIGFyZ0NvdW50LCBpLCB0b0luZGV4LCBmcm9tSW5kZXgsIG5ld0xlbmd0aDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YXJnQ291bnQgPSBpdGVtcy5sZW5ndGg7XG5cdFx0XHRcdFx0aSA9IGxlbmd0aDtcblx0XHRcdFx0XHR0b0luZGV4ID0gdW5kZWZpbmVkLCBmcm9tSW5kZXggPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSA+IDApIHtcblx0XHRcdFx0XHRcdGZyb21JbmRleCA9IGkgLSAxO1xuXHRcdFx0XHRcdFx0dG9JbmRleCA9IGkgKyBhcmdDb3VudCAtIDE7XG5cblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzKGZyb21JbmRleCkpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKHRvSW5kZXgsIHRoaXMubm9kZS5nZXRWYWx1ZShmcm9tSW5kZXgpKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eSh0b0luZGV4LCB0cnVlKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aS0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBhcmdDb3VudDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm5vZGUuc2V0VmFsdWUoaSwgaXRlbXNbaV0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld0xlbmd0aCA9IGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZ0NvdW50ICsgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdHRoaXMubm9kZS5zZXRWYWx1ZShcImxlbmd0aFwiLCBuZXdMZW5ndGgpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3TGVuZ3RoKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnVuc2hpZnRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfYXJyYXlJc0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXkuaXMtYXJyYXlcIik7XG5cbnZhciBfYXJyYXlJc0FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5SXNBcnJheSk7XG5cbnZhciBfYXJyYXlDb25jYXQgPSByZXF1aXJlKFwiLi9hcnJheS5jb25jYXRcIik7XG5cbnZhciBfYXJyYXlDb25jYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlDb25jYXQpO1xuXG52YXIgX2FycmF5RXZlcnkgPSByZXF1aXJlKFwiLi9hcnJheS5ldmVyeVwiKTtcblxudmFyIF9hcnJheUV2ZXJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5RXZlcnkpO1xuXG52YXIgX2FycmF5RmlsdGVyID0gcmVxdWlyZShcIi4vYXJyYXkuZmlsdGVyXCIpO1xuXG52YXIgX2FycmF5RmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5RmlsdGVyKTtcblxudmFyIF9hcnJheUZvckVhY2ggPSByZXF1aXJlKFwiLi9hcnJheS5mb3ItZWFjaFwiKTtcblxudmFyIF9hcnJheUZvckVhY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlGb3JFYWNoKTtcblxudmFyIF9hcnJheUluZGV4T2YgPSByZXF1aXJlKFwiLi9hcnJheS5pbmRleC1vZlwiKTtcblxudmFyIF9hcnJheUluZGV4T2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlJbmRleE9mKTtcblxudmFyIF9hcnJheUpvaW4gPSByZXF1aXJlKFwiLi9hcnJheS5qb2luXCIpO1xuXG52YXIgX2FycmF5Sm9pbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUpvaW4pO1xuXG52YXIgX2FycmF5TGFzdEluZGV4T2YgPSByZXF1aXJlKFwiLi9hcnJheS5sYXN0LWluZGV4LW9mXCIpO1xuXG52YXIgX2FycmF5TGFzdEluZGV4T2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlMYXN0SW5kZXhPZik7XG5cbnZhciBfYXJyYXlNYXAgPSByZXF1aXJlKFwiLi9hcnJheS5tYXBcIik7XG5cbnZhciBfYXJyYXlNYXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlNYXApO1xuXG52YXIgX2FycmF5UG9wID0gcmVxdWlyZShcIi4vYXJyYXkucG9wXCIpO1xuXG52YXIgX2FycmF5UG9wMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5UG9wKTtcblxudmFyIF9hcnJheVB1c2ggPSByZXF1aXJlKFwiLi9hcnJheS5wdXNoXCIpO1xuXG52YXIgX2FycmF5UHVzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheVB1c2gpO1xuXG52YXIgX2FycmF5UmVkdWNlID0gcmVxdWlyZShcIi4vYXJyYXkucmVkdWNlXCIpO1xuXG52YXIgX2FycmF5UmVkdWNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5UmVkdWNlKTtcblxudmFyIF9hcnJheVJlZHVjZVJpZ2h0ID0gcmVxdWlyZShcIi4vYXJyYXkucmVkdWNlLXJpZ2h0XCIpO1xuXG52YXIgX2FycmF5UmVkdWNlUmlnaHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlSZWR1Y2VSaWdodCk7XG5cbnZhciBfYXJyYXlSZXZlcnNlID0gcmVxdWlyZShcIi4vYXJyYXkucmV2ZXJzZVwiKTtcblxudmFyIF9hcnJheVJldmVyc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlSZXZlcnNlKTtcblxudmFyIF9hcnJheVNoaWZ0ID0gcmVxdWlyZShcIi4vYXJyYXkuc2hpZnRcIik7XG5cbnZhciBfYXJyYXlTaGlmdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheVNoaWZ0KTtcblxudmFyIF9hcnJheVNsaWNlID0gcmVxdWlyZShcIi4vYXJyYXkuc2xpY2VcIik7XG5cbnZhciBfYXJyYXlTbGljZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheVNsaWNlKTtcblxudmFyIF9hcnJheVNvbWUgPSByZXF1aXJlKFwiLi9hcnJheS5zb21lXCIpO1xuXG52YXIgX2FycmF5U29tZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheVNvbWUpO1xuXG52YXIgX2FycmF5U29ydCA9IHJlcXVpcmUoXCIuL2FycmF5LnNvcnRcIik7XG5cbnZhciBfYXJyYXlTb3J0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5U29ydCk7XG5cbnZhciBfYXJyYXlTcGxpY2UgPSByZXF1aXJlKFwiLi9hcnJheS5zcGxpY2VcIik7XG5cbnZhciBfYXJyYXlTcGxpY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlTcGxpY2UpO1xuXG52YXIgX2FycmF5VG9Mb2NhbGVTdHJpbmcgPSByZXF1aXJlKFwiLi9hcnJheS50by1sb2NhbGUtc3RyaW5nXCIpO1xuXG52YXIgX2FycmF5VG9Mb2NhbGVTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlUb0xvY2FsZVN0cmluZyk7XG5cbnZhciBfYXJyYXlUb1N0cmluZyA9IHJlcXVpcmUoXCIuL2FycmF5LnRvLXN0cmluZ1wiKTtcblxudmFyIF9hcnJheVRvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5VG9TdHJpbmcpO1xuXG52YXIgX2FycmF5VW5zaGlmdCA9IHJlcXVpcmUoXCIuL2FycmF5LnVuc2hpZnRcIik7XG5cbnZhciBfYXJyYXlVbnNoaWZ0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5VW5zaGlmdCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgcHJvdG8gPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRwcm90by5jbGFzc05hbWUgPSBcIkFycmF5XCI7XG5cdHByb3RvLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0dmFyIGFycmF5Q2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGZ1bmN0aW9uIChsZW5ndGgpIHtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBsZW5ndGgudHlwZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGgpKGFyZ3VtZW50c1swXS50b05hdGl2ZSgpKTtcblxuXHRcdFx0dmFyIG5ld0FycmF5ID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheSgpO1xuXHRcdFx0bmV3QXJyYXkuc2V0VmFsdWUoXCJsZW5ndGhcIiwgbGVuZ3RoKTtcblx0XHRcdHJldHVybiBuZXdBcnJheTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheShhcmd1bWVudHMpO1xuXHR9LCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdCgwLCBfYXJyYXlJc0FycmF5MltcImRlZmF1bHRcIl0pKGFycmF5Q2xhc3MsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlQdXNoMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5UG9wMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5U2hpZnQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlVbnNoaWZ0MltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5U2xpY2UyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlTcGxpY2UyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlDb25jYXQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlKb2luMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5SW5kZXhPZjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheUxhc3RJbmRleE9mMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5Rm9yRWFjaDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheU1hcDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheUZpbHRlcjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheUV2ZXJ5MltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5U29tZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheVJlZHVjZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheVJlZHVjZVJpZ2h0MltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2FycmF5UmV2ZXJzZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheVNvcnQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlUb0xvY2FsZVN0cmluZzJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9hcnJheVRvU3RyaW5nMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJBcnJheVwiLCBhcnJheUNsYXNzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYm9vbGVhbkFwaTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gYm9vbGVhbkFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJCb29sZWFuXCI7XG5cdHByb3RvLnZhbHVlID0gZmFsc2U7XG5cblx0dmFyIGJvb2xlYW5DbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdHZhciBib29sZWFuVmFsdWUgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikob2JqKTtcblxuXHRcdC8vIGNhbGxlZCBhcyBuZXdcblx0XHRpZiAodGhpcy5pc05ldykge1xuXHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUucHJpbWl0aXZlVG9PYmplY3QpKGVudiwgYm9vbGVhblZhbHVlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJCb29sZWFuXCIsIGJvb2xlYW5WYWx1ZSk7XG5cdH0sIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIkJvb2xlYW5cIiwgXCJCb29sZWFuLnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nKHRoaXMubm9kZS52YWx1ZSkpO1xuXHR9LCAwLCBcIkJvb2xlYW4ucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJCb29sZWFuXCIsIFwiQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZlwiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlKTtcblx0fSwgMCwgXCJCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mXCIpKTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiQm9vbGVhblwiLCBib29sZWFuQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbnNvbGVBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBtZXRob2RzID0gW1wibG9nXCIsIFwiaW5mb1wiLCBcImVycm9yXCIsIFwid2FyblwiXTtcblxuZnVuY3Rpb24gY29uc29sZUFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBjb25zb2xlQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGNvbnNvbGVDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0XHRhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3RyaW5nVmFsdWVzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGFyZ3MsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0c3RyaW5nVmFsdWVzID0gY29udGV4dCQzJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0Y29uc29sZVtuYW1lXS5hcHBseShjb25zb2xlLCBfdG9Db25zdW1hYmxlQXJyYXkoc3RyaW5nVmFsdWVzKSk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIDEsIFwiY29uc29sZS5cIiArIG5hbWUpKTtcblx0fSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcImNvbnNvbGVcIiwgY29uc29sZUNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdG8tY29uc3VtYWJsZS1hcnJheVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfYmluZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvYmluZFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBkYXRlQXBpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgc3RhdGljTWV0aG9kcyA9IFtcIm5vd1wiXTtcbnZhciBwcm90b01ldGhvZHMgPSBbXCJnZXREYXRlXCIsIFwiZ2V0RGF5XCIsIFwiZ2V0RnVsbFllYXJcIiwgXCJnZXRIb3Vyc1wiLCBcImdldE1pbGxpc2Vjb25kc1wiLCBcImdldE1pbnV0ZXNcIiwgXCJnZXRNb250aFwiLCBcImdldE1pbGxpc2Vjb25kc1wiLCBcImdldE1pbnV0ZXNcIiwgXCJnZXRNb250aFwiLCBcImdldFNlY29uZHNcIiwgXCJnZXRUaW1lXCIsIFwiZ2V0VGltZXpvbmVPZmZzZXRcIiwgXCJnZXRVVENEYXlcIiwgXCJnZXRVVENEYXRlXCIsIFwiZ2V0VVRDRnVsbFllYXJcIiwgXCJnZXRVVENIb3Vyc1wiLCBcImdldFVUQ01pbGxpc2Vjb25kc1wiLCBcImdldFVUQ01pbnV0ZXNcIiwgXCJnZXRVVENNb250aFwiLCBcImdldFVUQ1NlY29uZHNcIiwgXCJnZXRZZWFyXCIsIFwidG9EYXRlU3RyaW5nXCIsIFwidG9HTVRTdHJpbmdcIiwgXCJ0b0lTT1N0cmluZ1wiLCBcInRvSlNPTlwiLCBcInRvTG9jYWxlU3RyaW5nXCIsIFwidG9Mb2NhbGVEYXRlU3RyaW5nXCIsIFwidG9Mb2NhbGVUaW1lU3RyaW5nXCIsIFwidG9TdHJpbmdcIiwgXCJ0b1RpbWVTdHJpbmdcIiwgXCJ0b1VUQ1N0cmluZ1wiXTtcbnZhciBzZXR0ZXJzID0gW1wic2V0RGF0ZVwiLCBcInNldEZ1bGxZZWFyXCIsIFwic2V0SG91cnNcIiwgXCJzZXRNaWxsaXNlY29uZHNcIiwgXCJzZXRNaW51dGVzXCIsIFwic2V0TW9udGhcIiwgXCJzZXRTZWNvbmRzXCIsIFwic2V0VGltZVwiLCBcInNldFVUQ0RhdGVcIiwgXCJzZXRVVENGdWxsWWVhclwiLCBcInNldFVUQ0hvdXJzXCIsIFwic2V0VVRDTWlsbGlzZWNvbmRzXCIsIFwic2V0VVRDTWludXRlc1wiLCBcInNldFVUQ01vbnRoXCIsIFwic2V0VVRDU2Vjb25kc1wiLCBcInNldFllYXJcIl07XG5cbmZ1bmN0aW9uIGRhdGVBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBwcm90byA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRGF0ZVwiO1xuXHRwcm90by52YWx1ZSA9IG5ldyBEYXRlKDApO1xuXG5cdHZhciBkYXRlQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHAxLCBwMiwgcDMsIHA0LCBwNSwgcDYsIHA3KSB7XG5cdFx0dmFyIGRhdGVWYWx1ZSxcblx0XHQgICAgYXJncyxcblx0XHQgICAgcHJpbWl0aXZlVmFsdWUsXG5cdFx0ICAgIGksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRkYXRlVmFsdWUgPSB1bmRlZmluZWQsIGFyZ3MgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShhcmdzJDIkMC5sZW5ndGggPT09IDApKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSBbXTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghcDEuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSBbcDEudmFsdWVdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkocDEpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0cHJpbWl0aXZlVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIHByaW1pdGl2ZVZhbHVlICE9PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShwMSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblxuXHRcdFx0XHRcdGFyZ3MgPSBbcHJpbWl0aXZlVmFsdWVdO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncyQyJDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGFyZywgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKSwgXCJ0MFwiLCAyMSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gYXJncy5sZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IGNvbnRleHQkMiQwLnQxID09PSAwID8gMjYgOiBjb250ZXh0JDIkMC50MSA9PT0gMSA/IDI4IDogMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAzNCk7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBuZXcgRGF0ZShhcmdzWzBdKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMzQpO1xuXG5cdFx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdFx0aSA9IGFyZ3MubGVuZ3RoO1xuXG5cdFx0XHRcdFx0d2hpbGUgKGkgPCA3KSB7XG5cdFx0XHRcdFx0XHQvLyBkZWZhdWx0IGRheSB0byAxLCBhbGwgb3RoZXJzIHRvIDBcblx0XHRcdFx0XHRcdGFyZ3NbaSsrXSA9IGkgPT09IDMgPyAxIDogMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBuZXcgKF9iaW5kLmFwcGx5KERhdGUsIFtudWxsXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKSkpKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImJyZWFrXCIsIDM0KTtcblxuXHRcdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJEYXRlXCIsIGRhdGVWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cblx0XHRcdFx0XHRkYXRlVmFsdWUgPSBEYXRlLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRhdGVWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgcHJvdG8sIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRkYXRlQ2xhc3MuZGVmaW5lKFwicGFyc2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIGRhdGVWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKHZhbHVlLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IERhdGUucGFyc2Uoc3RyaW5nVmFsdWUpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRGF0ZS5wcm90b3R5cGUucGFyc2VcIikpO1xuXG5cdGRhdGVDbGFzcy5kZWZpbmUoXCJVVENcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIGFyZ3MsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDIkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoYXJnLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmdzKSkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCA3LCBcIkRhdGUucHJvdG90eXBlLlVUQ1wiKSk7XG5cblx0c3RhdGljTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0ZGF0ZUNsYXNzLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgRGF0ZVtuYW1lXSwgXCJEYXRlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRwcm90b01ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdHByb3RvLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgRGF0ZS5wcm90b3R5cGVbbmFtZV0sIFwiRGF0ZS5wcm90b3R5cGUuXCIgKyBuYW1lKSk7XG5cdH0pO1xuXG5cdHNldHRlcnMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdHZhciBtYXJrZWQyJDAgPSBbc2V0dGVyXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHRcdGZ1bmN0aW9uIHNldHRlcigpIHtcblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0ICAgIGFyZ3MkMyQwID0gYXJndW1lbnRzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXR0ZXIkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncyQzJDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMyQwLnQwO1xuXG5cdFx0XHRcdFx0XHREYXRlLnByb3RvdHlwZVtuYW1lXS5hcHBseSh0aGlzLm5vZGUudmFsdWUsIGFyZ3MpO1xuXG5cdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIG1hcmtlZDIkMFswXSwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKHNldHRlciwgRGF0ZS5wcm90b3R5cGVbbmFtZV0ubGVuZ3RoLCBcIkRhdGUucHJvdG90eXBlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlLnZhbHVlT2YoKSk7XG5cdH0sIDAsIFwiRGF0ZS5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkRhdGVcIiwgZGF0ZUNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZXJyb3JBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBlcnJvclR5cGVzID0gW1wiVHlwZUVycm9yXCIsIFwiUmVmZXJlbmNlRXJyb3JcIiwgXCJTeW50YXhFcnJvclwiLCBcIlJhbmdlRXJyb3JcIiwgXCJVUklFcnJvclwiLCBcIkV2YWxFcnJvclwiXTtcblxuZnVuY3Rpb24gZXJyb3JBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBwcm90byA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRXJyb3JcIjtcblx0cHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIkVycm9yXCIpKTtcblx0cHJvdG8uZGVmaW5lKFwibWVzc2FnZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlwiKSk7XG5cblx0dmFyIGVycm9yQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG1lc3NhZ2UpIHtcblx0XHR2YXIgbWVzc2FnZVN0cmluZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bWVzc2FnZVN0cmluZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQobWVzc2FnZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKG1lc3NhZ2UpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkVycm9yXCIsIG5ldyBFcnJvcihtZXNzYWdlU3RyaW5nKSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBuYW1lLCBtc2c7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdG5hbWUgPSB0aGlzLm5vZGUuZ2V0VmFsdWUoXCJuYW1lXCIpO1xuXHRcdFx0XHRcdG1zZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlLmhhcyhcIm1lc3NhZ2VcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZS5nZXRWYWx1ZShcIm1lc3NhZ2VcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRtc2cgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IG5hbWU7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRleHQkMiQwLnQwKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKG5hbWUpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0bmFtZSA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKCEobmFtZSAmJiBtc2cpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3RyaW5nXCIsIG5hbWUgKyBcIjogXCIgKyBtc2cpKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTdHJpbmdcIiwgbmFtZSB8fCBtc2cpKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDAsIFwiRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiRXJyb3JcIiwgZXJyb3JDbGFzcyk7XG5cblx0ZXJyb3JUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvclR5cGUpIHtcblx0XHR2YXIgdHlwZVByb3RvID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHR0eXBlUHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlcnJvclR5cGUpKTtcblxuXHRcdC8vIGFkZCB0byBwcm90b3R5cGUgY2hhaW4gdG8gcmVwcmVzZW50IGluaGVyaXRhbmNlXG5cdFx0dHlwZVByb3RvLnNldFByb3RvdHlwZShwcm90byk7XG5cblx0XHR2YXIgZXJyQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKG1lc3NhZ2UpIHtcblx0XHRcdHZhciBtZXNzYWdlU3RyaW5nLCBuYXRpdmVFcnJvcjtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShtZXNzYWdlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdG1lc3NhZ2VTdHJpbmcgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0bmF0aXZlRXJyb3IgPSBuZXcgZ2xvYmFsW2Vycm9yVHlwZV0obWVzc2FnZVN0cmluZyk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKGVycm9yVHlwZSwgbmF0aXZlRXJyb3IpKTtcblxuXHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHR9KSwgdHlwZVByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKGVycm9yVHlwZSwgZXJyQ2xhc3MpO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5OeVl5OWxjelV2WlhKeWIzSXZhVzVrWlhndWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklsd2lkWE5sSUhOMGNtbGpkRndpTzF4dVhHNTJZWElnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eVhDSXBXMXdpWkdWbVlYVnNkRndpWFR0Y2JseHVkbUZ5SUY5cGJuUmxjbTl3VW1WeGRXbHlaVmRwYkdSallYSmtJRDBnY21WeGRXbHlaU2hjSW1KaFltVnNMWEoxYm5ScGJXVXZhR1ZzY0dWeWN5OXBiblJsY205d0xYSmxjWFZwY21VdGQybHNaR05oY21SY0lpbGJYQ0prWldaaGRXeDBYQ0pkTzF4dVhHNVBZbXBsWTNRdVpHVm1hVzVsVUhKdmNHVnlkSGtvWlhod2IzSjBjeXdnWENKZlgyVnpUVzlrZFd4bFhDSXNJSHRjYmx4MGRtRnNkV1U2SUhSeWRXVmNibjBwTzF4dVpYaHdiM0owYzF0Y0ltUmxabUYxYkhSY0lsMGdQU0JsY25KdmNrRndhVHRjYmx4dWRtRnlJRjkxZEdsc2MwNWhkR2wyWlNBOUlISmxjWFZwY21Vb1hDSXVMaTh1TGk5MWRHbHNjeTl1WVhScGRtVmNJaWs3WEc1Y2JuWmhjaUJmZFhScGJITkRiMjUwY21GamRITWdQU0J5WlhGMWFYSmxLRndpTGk0dkxpNHZkWFJwYkhNdlkyOXVkSEpoWTNSelhDSXBPMXh1WEc1MllYSWdZMjl1ZEhKaFkzUnpJRDBnWDJsdWRHVnliM0JTWlhGMWFYSmxWMmxzWkdOaGNtUW9YM1YwYVd4elEyOXVkSEpoWTNSektUdGNibHh1ZG1GeUlHVnljbTl5Vkhsd1pYTWdQU0JiWENKVWVYQmxSWEp5YjNKY0lpd2dYQ0pTWldabGNtVnVZMlZGY25KdmNsd2lMQ0JjSWxONWJuUmhlRVZ5Y205eVhDSXNJRndpVW1GdVoyVkZjbkp2Y2x3aUxDQmNJbFZTU1VWeWNtOXlYQ0lzSUZ3aVJYWmhiRVZ5Y205eVhDSmRPMXh1WEc1bWRXNWpkR2x2YmlCbGNuSnZja0Z3YVNobGJuWXBJSHRjYmx4MGRtRnlJR2RzYjJKaGJFOWlhbVZqZENBOUlHVnVkaTVuYkc5aVlXdzdYRzVjZEhaaGNpQnZZbXBsWTNSR1lXTjBiM0o1SUQwZ1pXNTJMbTlpYW1WamRFWmhZM1J2Y25rN1hHNWNibHgwZG1GeUlIQnliM1J2SUQwZ2IySnFaV04wUm1GamRHOXllUzVqY21WaGRHVlBZbXBsWTNRb0tUdGNibHgwY0hKdmRHOHVZMnhoYzNOT1lXMWxJRDBnWENKRmNuSnZjbHdpTzF4dVhIUndjbTkwYnk1a1pXWnBibVVvWENKdVlXMWxYQ0lzSUc5aWFtVmpkRVpoWTNSdmNua3VZM0psWVhSbFVISnBiV2wwYVhabEtGd2lSWEp5YjNKY0lpa3BPMXh1WEhSd2NtOTBieTVrWldacGJtVW9YQ0p0WlhOellXZGxYQ0lzSUc5aWFtVmpkRVpoWTNSdmNua3VZM0psWVhSbFVISnBiV2wwYVhabEtGd2lYQ0lwS1R0Y2JseHVYSFIyWVhJZ1pYSnliM0pEYkdGemN5QTlJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsUm5WdVkzUnBiMjRvWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1dFlYSnJLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXhKREFvYldWemMyRm5aU2tnZTF4dVhIUmNkSFpoY2lCdFpYTnpZV2RsVTNSeWFXNW5PMXh1WEhSY2RISmxkSFZ5YmlCZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExuZHlZWEFvWm5WdVkzUnBiMjRnWTJGc2JHVmxKREVrTUNRb1kyOXVkR1Y0ZENReUpEQXBJSHRjYmx4MFhIUmNkSGRvYVd4bElDZ3hLU0J6ZDJsMFkyZ2dLR052Ym5SbGVIUWtNaVF3TG5CeVpYWWdQU0JqYjI1MFpYaDBKRElrTUM1dVpYaDBLU0I3WEc1Y2RGeDBYSFJjZEdOaGMyVWdNRHBjYmx4MFhIUmNkRngwWEhSdFpYTnpZV2RsVTNSeWFXNW5JRDBnZFc1a1pXWnBibVZrTzF4dVhHNWNkRngwWEhSY2RGeDBhV1lnS0dOdmJuUnlZV04wY3k1cGMwNTFiR3hQY2xWdVpHVm1hVzVsWkNodFpYTnpZV2RsS1NrZ2UxeHVYSFJjZEZ4MFhIUmNkRngwWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ0E5SURVN1hHNWNkRngwWEhSY2RGeDBYSFJpY21WaGF6dGNibHgwWEhSY2RGeDBYSFI5WEc1Y2JseDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzV1WlhoMElEMGdORHRjYmx4MFhIUmNkRngwWEhSeVpYUjFjbTRnS0RBc0lGOTFkR2xzYzA1aGRHbDJaUzUwYjFOMGNtbHVaeWtvYldWemMyRm5aU2s3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0EwT2x4dVhIUmNkRngwWEhSY2RHMWxjM05oWjJWVGRISnBibWNnUFNCamIyNTBaWGgwSkRJa01DNXpaVzUwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTlRwY2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENReUpEQXVZV0p5ZFhCMEtGd2ljbVYwZFhKdVhDSXNJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsS0Z3aVJYSnliM0pjSWl3Z2JtVjNJRVZ5Y205eUtHMWxjM05oWjJWVGRISnBibWNwS1NrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBMk9seHVYSFJjZEZ4MFhIUmpZWE5sSUZ3aVpXNWtYQ0k2WEc1Y2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xuTjBiM0FvS1R0Y2JseDBYSFJjZEgxY2JseDBYSFI5TENCallXeHNaV1VrTVNRd0xDQjBhR2x6S1R0Y2JseDBmU2tzSUhCeWIzUnZMQ0I3SUdOdmJtWnBaM1Z5WVdKc1pUb2dabUZzYzJVc0lHVnVkVzFsY21GaWJHVTZJR1poYkhObExDQjNjbWwwWVdKc1pUb2dabUZzYzJVZ2ZTazdYRzVjYmx4MGNISnZkRzh1WkdWbWFXNWxLRndpZEc5VGRISnBibWRjSWl3Z2IySnFaV04wUm1GamRHOXllUzVqY21WaGRHVkNkV2xzZEVsdVJuVnVZM1JwYjI0b1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTNXRZWEpyS0daMWJtTjBhVzl1SUdOaGJHeGxaU1F4SkRBb0tTQjdYRzVjZEZ4MGRtRnlJRzVoYldVc0lHMXpaenRjYmx4MFhIUnlaWFIxY200Z1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTNTNjbUZ3S0daMWJtTjBhVzl1SUdOaGJHeGxaU1F4SkRBa0tHTnZiblJsZUhRa01pUXdLU0I3WEc1Y2RGeDBYSFIzYUdsc1pTQW9NU2tnYzNkcGRHTm9JQ2hqYjI1MFpYaDBKRElrTUM1d2NtVjJJRDBnWTI5dWRHVjRkQ1F5SkRBdWJtVjRkQ2tnZTF4dVhIUmNkRngwWEhSallYTmxJREE2WEc1Y2RGeDBYSFJjZEZ4MGJtRnRaU0E5SUhSb2FYTXVibTlrWlM1blpYUldZV3gxWlNoY0ltNWhiV1ZjSWlrN1hHNWNkRngwWEhSY2RGeDBiWE5uSUQwZ2RXNWtaV1pwYm1Wa08xeHVYRzVjZEZ4MFhIUmNkRngwYVdZZ0tDRjBhR2x6TG01dlpHVXVhR0Z6S0Z3aWJXVnpjMkZuWlZ3aUtTa2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFkyOXVkR1Y0ZENReUpEQXVibVY0ZENBOUlEWTdYRzVjZEZ4MFhIUmNkRngwWEhSaWNtVmhhenRjYmx4MFhIUmNkRngwWEhSOVhHNWNibHgwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRElrTUM1dVpYaDBJRDBnTlR0Y2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z0tEQXNJRjkxZEdsc2MwNWhkR2wyWlM1MGIxTjBjbWx1Wnlrb2RHaHBjeTV1YjJSbExtZGxkRlpoYkhWbEtGd2liV1Z6YzJGblpWd2lLU2s3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0ExT2x4dVhIUmNkRngwWEhSY2RHMXpaeUE5SUdOdmJuUmxlSFFrTWlRd0xuTmxiblE3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0EyT2x4dVhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMblF3SUQwZ2JtRnRaVHRjYmx4dVhIUmNkRngwWEhSY2RHbG1JQ2doWTI5dWRHVjRkQ1F5SkRBdWREQXBJSHRjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMbTVsZUhRZ1BTQXhNVHRjYmx4MFhIUmNkRngwWEhSY2RHSnlaV0ZyTzF4dVhIUmNkRngwWEhSY2RIMWNibHh1WEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBeE1EdGNibHgwWEhSY2RGeDBYSFJ5WlhSMWNtNGdLREFzSUY5MWRHbHNjMDVoZEdsMlpTNTBiMU4wY21sdVp5a29ibUZ0WlNrN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBeE1EcGNibHgwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRElrTUM1ME1DQTlJR052Ym5SbGVIUWtNaVF3TG5ObGJuUTdYRzVjYmx4MFhIUmNkRngwWTJGelpTQXhNVHBjYmx4MFhIUmNkRngwWEhSdVlXMWxJRDBnWTI5dWRHVjRkQ1F5SkRBdWREQTdYRzVjYmx4MFhIUmNkRngwWEhScFppQW9JU2h1WVcxbElDWW1JRzF6WnlrcElIdGNibHgwWEhSY2RGeDBYSFJjZEdOdmJuUmxlSFFrTWlRd0xtNWxlSFFnUFNBeE5EdGNibHgwWEhSY2RGeDBYSFJjZEdKeVpXRnJPMXh1WEhSY2RGeDBYSFJjZEgxY2JseHVYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpESWtNQzVoWW5KMWNIUW9YQ0p5WlhSMWNtNWNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdVb1hDSlRkSEpwYm1kY0lpd2dibUZ0WlNBcklGd2lPaUJjSWlBcklHMXpaeWtwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTVRRNlhHNWNkRngwWEhSY2RGeDBjbVYwZFhKdUlHTnZiblJsZUhRa01pUXdMbUZpY25Wd2RDaGNJbkpsZEhWeWJsd2lMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlNoY0lsTjBjbWx1WjF3aUxDQnVZVzFsSUh4OElHMXpaeWtwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTVRVNlhHNWNkRngwWEhSY2RHTmhjMlVnWENKbGJtUmNJanBjYmx4MFhIUmNkRngwWEhSeVpYUjFjbTRnWTI5dWRHVjRkQ1F5SkRBdWMzUnZjQ2dwTzF4dVhIUmNkRngwZlZ4dVhIUmNkSDBzSUdOaGJHeGxaU1F4SkRBc0lIUm9hWE1wTzF4dVhIUjlLU3dnTUN3Z1hDSkZjbkp2Y2k1d2NtOTBiM1I1Y0dVdWRHOVRkSEpwYm1kY0lpa3BPMXh1WEc1Y2RHZHNiMkpoYkU5aWFtVmpkQzVrWldacGJtVW9YQ0pGY25KdmNsd2lMQ0JsY25KdmNrTnNZWE56S1R0Y2JseHVYSFJsY25KdmNsUjVjR1Z6TG1admNrVmhZMmdvWm5WdVkzUnBiMjRnS0dWeWNtOXlWSGx3WlNrZ2UxeHVYSFJjZEhaaGNpQjBlWEJsVUhKdmRHOGdQU0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlU5aWFtVmpkQ2dwTzF4dVhIUmNkSFI1Y0dWUWNtOTBieTVrWldacGJtVW9YQ0p1WVcxbFhDSXNJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsVUhKcGJXbDBhWFpsS0dWeWNtOXlWSGx3WlNrcE8xeHVYRzVjZEZ4MEx5OGdZV1JrSUhSdklIQnliM1J2ZEhsd1pTQmphR0ZwYmlCMGJ5QnlaWEJ5WlhObGJuUWdhVzVvWlhKcGRHRnVZMlZjYmx4MFhIUjBlWEJsVUhKdmRHOHVjMlYwVUhKdmRHOTBlWEJsS0hCeWIzUnZLVHRjYmx4dVhIUmNkSFpoY2lCbGNuSkRiR0Z6Y3lBOUlHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxSblZ1WTNScGIyNG9YM0psWjJWdVpYSmhkRzl5VW5WdWRHbHRaUzV0WVhKcktHWjFibU4wYVc5dUlHTmhiR3hsWlNReUpEQW9iV1Z6YzJGblpTa2dlMXh1WEhSY2RGeDBkbUZ5SUcxbGMzTmhaMlZUZEhKcGJtY3NJRzVoZEdsMlpVVnljbTl5TzF4dVhIUmNkRngwY21WMGRYSnVJRjl5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1V1ZDNKaGNDaG1kVzVqZEdsdmJpQmpZV3hzWldVa01pUXdKQ2hqYjI1MFpYaDBKRE1rTUNrZ2UxeHVYSFJjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpETWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXpKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJjZEdOaGMyVWdNRHBjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa015UXdMbTVsZUhRZ1BTQXlPMXh1WEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUNnd0xDQmZkWFJwYkhOT1lYUnBkbVV1ZEc5VGRISnBibWNwS0cxbGMzTmhaMlVwTzF4dVhHNWNkRngwWEhSY2RGeDBZMkZ6WlNBeU9seHVYSFJjZEZ4MFhIUmNkRngwYldWemMyRm5aVk4wY21sdVp5QTlJR052Ym5SbGVIUWtNeVF3TG5ObGJuUTdYRzVjZEZ4MFhIUmNkRngwWEhSdVlYUnBkbVZGY25KdmNpQTlJRzVsZHlCbmJHOWlZV3hiWlhKeWIzSlVlWEJsWFNodFpYTnpZV2RsVTNSeWFXNW5LVHRjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRNa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1VvWlhKeWIzSlVlWEJsTENCdVlYUnBkbVZGY25KdmNpa3BPMXh1WEc1Y2RGeDBYSFJjZEZ4MFkyRnpaU0ExT2x4dVhIUmNkRngwWEhSY2RHTmhjMlVnWENKbGJtUmNJanBjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRNa01DNXpkRzl3S0NrN1hHNWNkRngwWEhSY2RIMWNibHgwWEhSY2RIMHNJR05oYkd4bFpTUXlKREFzSUhSb2FYTXBPMXh1WEhSY2RIMHBMQ0IwZVhCbFVISnZkRzhzSUhzZ1kyOXVabWxuZFhKaFlteGxPaUJtWVd4elpTd2daVzUxYldWeVlXSnNaVG9nWm1Gc2MyVXNJSGR5YVhSaFlteGxPaUJtWVd4elpTQjlLVHRjYmx4dVhIUmNkR2RzYjJKaGJFOWlhbVZqZEM1a1pXWnBibVVvWlhKeWIzSlVlWEJsTENCbGNuSkRiR0Z6Y3lrN1hHNWNkSDBwTzF4dWZWeHVYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJR1Y0Y0c5eWRITmJYQ0prWldaaGRXeDBYQ0pkT3lKZGZRPT0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmaW5lVGhpcyA9IGRlZmluZVRoaXM7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIGRlZmluZVRoaXMoZW52LCBmbiwgdGhpc0FyZykge1xuXHRpZiAoZm4uYnVpbHRJbiB8fCBmbi5pc1N0cmljdCgpKSB7XG5cdFx0cmV0dXJuIHRoaXNBcmcgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH1cblxuXHRpZiAoKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCkodGhpc0FyZykpIHtcblx0XHRyZXR1cm4gZW52Lmdsb2JhbDtcblx0fVxuXG5cdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXNBcmcpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfZnVuY3Rpb25IZWxwZXJzID0gcmVxdWlyZShcIi4vZnVuY3Rpb24taGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiYXBwbHlcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGhpc0FyZywgYXJnc0FycmF5KSB7XG5cdFx0dmFyIGFyZ3M7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghYXJnc0FycmF5KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghKGFyZ3NBcnJheS5jbGFzc05hbWUgIT09IFwiQXJndW1lbnRzXCIgJiYgYXJnc0FycmF5LmNsYXNzTmFtZSAhPT0gXCJBcnJheVwiICYmIGFyZ3NBcnJheS5jbGFzc05hbWUgIT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQXJndW1lbnRzIGxpc3Qgd2FzIHdyb25nIHR5cGVcIik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKGFyZ3NBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0dGhpc0FyZyA9ICgwLCBfZnVuY3Rpb25IZWxwZXJzLmRlZmluZVRoaXMpKGVudiwgdGhpcy5ub2RlLCB0aGlzQXJnKTtcblx0XHRcdFx0XHR0aGlzLm5vZGUuYmluZFRoaXModGhpc0FyZyk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCh0aGlzLm5vZGUuY2FsbCh0aGlzQXJnLCBhcmdzKSwgXCJ0MFwiLCA5KTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2Z1bmN0aW9uSGVscGVycyA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLWhlbHBlcnNcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0XHQkdGFyZ2V0LmRlZmluZShcImJpbmRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGhpc0FyZykge1xuXHRcdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdFx0XHRcdGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGZuLCBjYWxsZWUsIHBhcmFtcywgbmF0aXZlRnVuYywgYm91bmRGdW5jLCB0aHJvd2VyO1xuXHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPSB0aGlzLm5vZGU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhbGxlZSA9IGZuLm5hdGl2ZSA/IGZuIDogZm4ubm9kZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGFyYW1zID0gY2FsbGVlLnBhcmFtcyB8fCBbXTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gKDAsIF9mdW5jdGlvbkhlbHBlcnMuZGVmaW5lVGhpcykoZW52LCB0aGlzLm5vZGUsIHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5hdGl2ZUZ1bmMgPSBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gbmF0aXZlRnVuYygpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYWRkaXRpb25hbEFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFkZGl0aW9uYWxBcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBtZXJnZWRBcmdzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBuYXRpdmVGdW5jJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1lcmdlZEFyZ3MgPSBhcmdzLmNvbmNhdChhZGRpdGlvbmFsQXJncyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuZGVsZWdhdGVZaWVsZChmblt0aGlzLmlzTmV3ID8gXCJjb25zdHJ1Y3RcIiA6IFwiY2FsbFwiXSh0aGlzQXJnLCBtZXJnZWRBcmdzKSwgXCJ0MFwiLCAyKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnQwKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgbmF0aXZlRnVuYywgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5hdGl2ZUZ1bmMubmF0aXZlTGVuZ3RoID0gTWF0aC5tYXgocGFyYW1zLmxlbmd0aCAtIGFyZ3MubGVuZ3RoLCAwKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmF0aXZlRnVuYy5zdHJpY3QgPSBlbnYuaXNTdHJpY3QoKSB8fCAhZm4ubmF0aXZlICYmICgwLCBfdXRpbHNDb250cmFjdHMuaXNTdHJpY3ROb2RlKShmbi5ub2RlLmJvZHkuYm9keSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym91bmRGdW5jID0gZmFjdG9yeS5jcmVhdGVGdW5jdGlvbihuYXRpdmVGdW5jLCBudWxsKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRib3VuZEZ1bmMuY2FuQ29uc3RydWN0ID0gdGhpcy5ub2RlLmNhbkNvbnN0cnVjdDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym91bmRGdW5jLmJpbmRTY29wZSh0aGlzLmVudi5jdXJyZW50KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym91bmRGdW5jLmJpbmRUaGlzKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghbmF0aXZlRnVuYy5zdHJpY3QpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJvdW5kRnVuYy5yZW1vdmUoXCJjYWxsZXJcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRib3VuZEZ1bmMucmVtb3ZlKFwiYXJndW1lbnRzXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyB0aGVzZSB3aWxsIGJlIGFkZGVkIGluIHN0cmljdCBtb2RlLCBidXQgc2hvdWxkIGFsd2F5cyBiZSBoZXJlIGZvciBib3VuZCBmdW5jdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93ZXIgPSBmYWN0b3J5LmNyZWF0ZVRocm93ZXIoXCInY2FsbGVyJywgJ2NhbGxlZScsIGFuZCAnYXJndW1lbnRzJyBwcm9wZXJ0aWVzIG1heSBub3QgYmUgYWNjZXNzZWQgb24gc3RyaWN0IG1vZGUgZnVuY3Rpb25zIG9yIHRoZSBhcmd1bWVudHMgb2JqZWN0cyBmb3IgY2FsbHMgdG8gdGhlbVwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ym91bmRGdW5jLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVyXCIsIHRocm93ZXIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ym91bmRGdW5jLmRlZmluZU93blByb3BlcnR5KFwiYXJndW1lbnRzXCIsIHRocm93ZXIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBib3VuZEZ1bmMpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdH0pLCAxLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2Z1bmN0aW9uSGVscGVycyA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImNhbGxcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGhpc0FyZykge1xuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0YXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHRoaXNBcmcgPSAoMCwgX2Z1bmN0aW9uSGVscGVycy5kZWZpbmVUaGlzKShlbnYsIHRoaXMubm9kZSwgdGhpc0FyZyk7XG5cdFx0XHRcdFx0dGhpcy5ub2RlLmJpbmRUaGlzKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQodGhpcy5ub2RlLmNhbGwodGhpc0FyZywgYXJncyksIFwidDBcIiwgMyk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInRvU3RyaW5nXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5ub2RlLm5hdGl2ZSkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiZnVuY3Rpb24gKCkgeyBbbmF0aXZlIGNvZGVdIH1cIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiZnVuY3Rpb24gKCkgeyBbdXNlciBjb2RlXSB9XCIpO1xuXHR9LCAwLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkZm9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvZm9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbkFwaTtcblxudmFyIF90eXBlc05hdGl2ZUZ1bmN0aW9uVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9uYXRpdmUtZnVuY3Rpb24tdHlwZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIF9mdW5jdGlvbkFwcGx5ID0gcmVxdWlyZShcIi4vZnVuY3Rpb24uYXBwbHlcIik7XG5cbnZhciBfZnVuY3Rpb25BcHBseTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mdW5jdGlvbkFwcGx5KTtcblxudmFyIF9mdW5jdGlvbkJpbmQgPSByZXF1aXJlKFwiLi9mdW5jdGlvbi5iaW5kXCIpO1xuXG52YXIgX2Z1bmN0aW9uQmluZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mdW5jdGlvbkJpbmQpO1xuXG52YXIgX2Z1bmN0aW9uQ2FsbCA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLmNhbGxcIik7XG5cbnZhciBfZnVuY3Rpb25DYWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Z1bmN0aW9uQ2FsbCk7XG5cbnZhciBfZnVuY3Rpb25Ub1N0cmluZyA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLnRvLXN0cmluZ1wiKTtcblxudmFyIF9mdW5jdGlvblRvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Z1bmN0aW9uVG9TdHJpbmcpO1xuXG52YXIgZnJvemVuID0geyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cbmZ1bmN0aW9uIGZ1bmN0aW9uQXBpKGVudikge1xuXHR2YXIgb3B0aW9ucyA9IGVudi5vcHRpb25zO1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgZnVuY0NsYXNzID0gdW5kZWZpbmVkO1xuXG5cdHZhciBmdW5jQ3RvciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBmdW5jQ3RvcigpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0YXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgZnVuY0luc3RhbmNlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZnVuY0N0b3IkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0ZnVuY0luc3RhbmNlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEob3B0aW9ucy5wYXJzZXIgJiYgYXJncy5sZW5ndGggPiAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdHZhciBib2R5LCBwYXJhbXMsIGJvZHlTdHJpbmcsIGFzdCwgY2FsbGVlLCB1c2VyTm9kZSwgc3RyaWN0LCB3cmFwcGVkRnVuYztcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRib2R5ID0gYXJncy5wb3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdHBhcmFtcyA9IFwiXCI7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZ3MubGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDMkMChhcmcsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGwoYXJnKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIHRva2VuIG51bGxcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQoYXJnKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAudDAgPSBcIlwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLnQwID0gY29udGV4dCQ0JDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkNCQwLnQwKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0cGFyYW1zID0gY29udGV4dCQzJDAuc2VudC5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIHRoZSBzcGVjIGFsbG93cyBwYXJhbWV0ZXJzIHRvIGJlIGNvbW1hLWRlbGltaXRlZCwgc28gd2Ugd2lsbCBqb2luIGFuZCBzcGxpdCBhZ2FpbiBjb21tYVxuXHRcdFx0XHRcdFx0XHRcdFx0am9pbihcIixcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShib2R5KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRcdFx0XHRcdGJvZHlTdHJpbmcgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0YXN0ID0gb3B0aW9ucy5wYXJzZXIoXCIoZnVuY3Rpb24oXCIgKyBwYXJhbXMgKyBcIil7XCIgKyBib2R5U3RyaW5nICsgXCJ9KS5hcHBseSgkdGhpcywkYXJncyk7XCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FsbGVlID0gYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi5jYWxsZWUub2JqZWN0O1xuXHRcdFx0XHRcdFx0XHRcdFx0dXNlck5vZGUgPSBjYWxsZWUuYm9keS5ib2R5O1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RyaWN0ID0gY29udHJhY3RzLmlzU3RyaWN0Tm9kZSh1c2VyTm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cmFwcGVkRnVuYyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB3cmFwcGVkRnVuYygpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHRoaXNBcmcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAkYXJncyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGV4ZWN1dGlvblJlc3VsdCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGFyZ3MkNCQwID0gYXJndW1lbnRzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHdyYXBwZWRGdW5jJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNCQwLnByZXYgPSBjb250ZXh0JDQkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoZnVuY0luc3RhbmNlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gdGhpcy5ub2RlO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFzdHJpY3QgJiYgY29udHJhY3RzLmlzVW5kZWZpbmVkKHRoaXNBcmcpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudi5jcmVhdGVWYXJpYWJsZShcIiR0aGlzXCIpLnNldFZhbHVlKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCRhcmdzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVBcnJheShhcmdzJDQkMCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW52LmNyZWF0ZVZhcmlhYmxlKFwiJGFyZ3NcIikuc2V0VmFsdWUoJGFyZ3MpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoYXN0KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQ0JDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIHdyYXBwZWRGdW5jLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHR3cmFwcGVkRnVuYy5uYXRpdmVMZW5ndGggPSBjYWxsZWUucGFyYW1zLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0XHRcdHdyYXBwZWRGdW5jLnN0cmljdCA9IHN0cmljdDtcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmNJbnN0YW5jZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24od3JhcHBlZEZ1bmMsIHVuZGVmaW5lZCwgeyBzdHJpY3Q6IHN0cmljdCB9KTtcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmNJbnN0YW5jZS5iaW5kU2NvcGUoZW52Lmdsb2JhbFNjb3BlKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgX3RoaXMpO1xuXHRcdFx0XHRcdH0pKCksIFwidDBcIiwgMyk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRmdW5jSW5zdGFuY2UgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGZ1bmN0aW9uICgpIHt9KTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cblx0XHRcdFx0XHRmdW5jSW5zdGFuY2Uuc2V0VmFsdWUoXCJjb25zdHJ1Y3RvclwiLCBmdW5jQ2xhc3MpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZnVuY0luc3RhbmNlKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGZ1bmNDdG9yLCB0aGlzKTtcblx0fSk7XG5cblx0Ly8gdGhlIHByb3RvdHlwZSBvZiBhIGZ1bmN0aW9uIGlzIGFjdHVhbGx5IGNhbGxhYmxlIGFuZCBldmFsdWF0ZXMgYXMgYSBmdW5jdGlvblxuXHR2YXIgcHJvdG8gPSBuZXcgX3R5cGVzTmF0aXZlRnVuY3Rpb25UeXBlLk5hdGl2ZUZ1bmN0aW9uVHlwZShmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdHRocm93IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RveXBlIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0fSk7XG5cblx0cHJvdG9bX1N5bWJvbCRmb3IoXCJlbnZcIildID0gZW52O1xuXG5cdGZ1bmNDdG9yLm5hdGl2ZUxlbmd0aCA9IDE7XG5cdGZ1bmNDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY0N0b3IsIHByb3RvLCBmcm96ZW4pO1xuXHRmdW5jQ2xhc3Muc2V0VmFsdWUoXCJjb25zdHJ1Y3RvclwiLCBmdW5jQ2xhc3MpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJGdW5jdGlvblwiLCBmdW5jQ2xhc3MpO1xuXG5cdHByb3RvLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cdHByb3RvLmRlZmluZShcIm5hbWVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJcIiksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdC8vIGZ1bmN0aW9uIGl0c2VsZiBpcyBhIGZ1bmN0aW9uXG5cdGZ1bmNDbGFzcy5zZXRQcm90b3R5cGUocHJvdG8pO1xuXG5cdCgwLCBfZnVuY3Rpb25BcHBseTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9mdW5jdGlvbkJpbmQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfZnVuY3Rpb25DYWxsMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2Z1bmN0aW9uVG9TdHJpbmcyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cblx0dmFyIHRocm93ZXIgPSBmdW5jdGlvbiB0aHJvd2VyKCkge1xuXHRcdGlmICh0aGlzLmlzU3RyaWN0KCkpIHtcblx0XHRcdHRocm93IFR5cGVFcnJvcihcIidjYWxsZXInLCAnY2FsbGVlJywgYW5kICdhcmd1bWVudHMnIHByb3BlcnRpZXMgbWF5IG5vdCBiZSBhY2Nlc3NlZCBvbiBzdHJpY3QgbW9kZSBmdW5jdGlvbnMgb3IgdGhlIGFyZ3VtZW50cyBvYmplY3RzIGZvciBjYWxscyB0byB0aGVtXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH07XG5cblx0dmFyIHRocm93ZXJGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24odGhyb3dlcik7XG5cblx0dmFyIHByb3AgPSB7XG5cdFx0Z2V0OiB0aHJvd2VyRnVuYyxcblx0XHRnZXR0ZXI6IHRocm93ZXIsXG5cdFx0c2V0OiB0aHJvd2VyRnVuYyxcblx0XHRzZXR0ZXI6IHRocm93ZXIsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdH07XG5cblx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZXJcIiwgcHJvcCk7XG5cdHByb3RvLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVlXCIsIHByb3ApO1xuXHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShcImFyZ3VtZW50c1wiLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZW52UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBwYXJzZXIgPSBlbnYub3B0aW9ucy5wYXJzZXI7XG5cblx0ZnVuY3Rpb24gY3JlYXRlU2NvcGUoYm9keSwgZGlyZWN0Q2FsbCkge1xuXHRcdHZhciBzdHJpY3RTY29wZSA9IGVudi5pc1N0cmljdCgpO1xuXHRcdHZhciBzdHJpY3RDb2RlID0gc3RyaWN0U2NvcGUgfHwgKDAsIF91dGlsc0NvbnRyYWN0cy5pc1N0cmljdE5vZGUpKGJvZHkpO1xuXHRcdHZhciBpbkdsb2JhbCA9IGVudi5jdXJyZW50LnNjb3BlLnBhcmVudCA9PT0gZW52Lmdsb2JhbFNjb3BlLnNjb3BlO1xuXG5cdFx0Ly8gdXNlIHRoZSBzYW1lIHNjb3BlIHVubGVzcyB0aGlzIGlzIGFuIFwiaW5kaXJlY3RcIiBjYWxsXG5cdFx0Ly8gaW4gd2hpY2ggY2FzZSB3ZSB1c2UgdGhlIGdsb2JhbCBzY29wZVxuXHRcdGlmIChkaXJlY3RDYWxsKSB7XG5cdFx0XHRpZiAoc3RyaWN0Q29kZSkge1xuXHRcdFx0XHR2YXIgdGhpc0FyZyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0aWYgKHN0cmljdFNjb3BlKSB7XG5cdFx0XHRcdFx0dGhpc0FyZyA9IGluR2xvYmFsID8gJHRhcmdldCA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXNBcmcgPSBlbnYuZ2V0VGhpc0JpbmRpbmcoKSB8fCAkdGFyZ2V0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVTY29wZSh0aGlzQXJnKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVudi5zZXRTY29wZShlbnYuY3VycmVudC5zY29wZS5wYXJlbnQpO1xuXHRcdH1cblxuXHRcdHZhciBzY29wZSA9IGVudi5zZXRTY29wZShlbnYuZ2xvYmFsU2NvcGUuc2NvcGUpO1xuXHRcdGlmIChzdHJpY3RDb2RlKSB7XG5cdFx0XHRzY29wZSA9IGVudi5jcmVhdGVTY29wZSgkdGFyZ2V0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc2NvcGU7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0RpcmVjdENhbGwoY29udGV4dCkge1xuXHRcdHJldHVybiBjb250ZXh0LmNhbGxlZSBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlICYmIGNvbnRleHQuY2FsbGVlLmJhc2UgPT09ICR0YXJnZXQ7XG5cdH1cblxuXHQkdGFyZ2V0LmRlZmluZShcImV2YWxcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY29kZSkge1xuXHRcdHZhciBhc3QsIHNjb3BlLCBleGVjdXRpb25SZXN1bHQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmIChjb2RlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpZiAoIShjb2RlLnR5cGUgIT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29kZSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGFzdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gNTtcblxuXHRcdFx0XHRcdGFzdCA9IHBhcnNlcihjb2RlLnZhbHVlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSg1KTtcblxuXHRcdFx0XHRcdGlmICghKGNvbnRleHQkMiQwLnQwIGluc3RhbmNlb2YgU3ludGF4RXJyb3IgJiYgL2Fzc2lnbmluZyB0byBydmFsdWUvaS50ZXN0KGNvbnRleHQkMiQwLnQwLm1lc3NhZ2UpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgUmVmZXJlbmNlRXJyb3IoXCJJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIGluIGFzc2lnbm1lbnRcIik7XG5cblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHR0aHJvdyBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdHNjb3BlID0gY3JlYXRlU2NvcGUoYXN0LmJvZHksIGlzRGlyZWN0Q2FsbCh0aGlzKSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoYXN0KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCA/IGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzUsIDldXSk7XG5cdH0pLCAxLCBcImV2YWxcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gaGFjayBiZWNhdXNlIGFjb3JuIHRocm93cyBzeW50YXggZXJyb3IiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJpc0Zpbml0ZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaXNGaW5pdGUobnVtYmVyVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiaXNGaW5pdGVcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJpc05hTlwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSkge1xuXHRcdHZhciBudW1iZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaXNOYU4obnVtYmVyVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiaXNOYU5cIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJwYXJzZUludFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgcmFkaXgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkocmFkaXgsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyYWRpeCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShwYXJzZUludChzdHJpbmdWYWx1ZSwgcmFkaXgpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwicGFyc2VJbnRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX2dsb2JhbEV2YWwgPSByZXF1aXJlKFwiLi9nbG9iYWwuZXZhbFwiKTtcblxudmFyIF9nbG9iYWxFdmFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsb2JhbEV2YWwpO1xuXG52YXIgX2dsb2JhbElzRmluaXRlID0gcmVxdWlyZShcIi4vZ2xvYmFsLmlzLWZpbml0ZVwiKTtcblxudmFyIF9nbG9iYWxJc0Zpbml0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbG9iYWxJc0Zpbml0ZSk7XG5cbnZhciBfZ2xvYmFsSXNOYW4gPSByZXF1aXJlKFwiLi9nbG9iYWwuaXMtbmFuXCIpO1xuXG52YXIgX2dsb2JhbElzTmFuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsb2JhbElzTmFuKTtcblxudmFyIF9nbG9iYWxQYXJzZUludCA9IHJlcXVpcmUoXCIuL2dsb2JhbC5wYXJzZS1pbnRcIik7XG5cbnZhciBfZ2xvYmFsUGFyc2VJbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xvYmFsUGFyc2VJbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBvcHRpb25zID0gZW52Lm9wdGlvbnM7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkluZmluaXR5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKEluZmluaXR5KSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJOYU5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTmFOKSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0W1wicGFyc2VGbG9hdFwiLCBcImRlY29kZVVSSVwiLCBcImVuY29kZVVSSVwiLCBcImRlY29kZVVSSUNvbXBvbmVudFwiLCBcImVuY29kZVVSSUNvbXBvbmVudFwiLCBcImVzY2FwZVwiLCBcInVuZXNjYXBlXCJdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKHZhbHVlKSB7XG5cdFx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodmFsdWUpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShnbG9iYWxbbmFtZV0oc3RyaW5nVmFsdWUpKSk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIDEsIG5hbWUpKTtcblx0fSk7XG5cblx0KDAsIF9nbG9iYWxJc0Zpbml0ZTJbXCJkZWZhdWx0XCJdKShnbG9iYWxPYmplY3QsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfZ2xvYmFsSXNOYW4yW1wiZGVmYXVsdFwiXSkoZ2xvYmFsT2JqZWN0LCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX2dsb2JhbFBhcnNlSW50MltcImRlZmF1bHRcIl0pKGdsb2JhbE9iamVjdCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblxuXHRpZiAob3B0aW9ucy5wYXJzZXIpIHtcblx0XHQoMCwgX2dsb2JhbEV2YWwyW1wiZGVmYXVsdFwiXSkoZ2xvYmFsT2JqZWN0LCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbk55WXk5bGN6VXZaMnh2WW1Gc2N5NXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklsd2lkWE5sSUhOMGNtbGpkRndpTzF4dVhHNTJZWElnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eVhDSXBXMXdpWkdWbVlYVnNkRndpWFR0Y2JseHVkbUZ5SUY5cGJuUmxjbTl3VW1WeGRXbHlaVVJsWm1GMWJIUWdQU0J5WlhGMWFYSmxLRndpWW1GaVpXd3RjblZ1ZEdsdFpTOW9aV3h3WlhKekwybHVkR1Z5YjNBdGNtVnhkV2x5WlMxa1pXWmhkV3gwWENJcFcxd2laR1ZtWVhWc2RGd2lYVHRjYmx4dVQySnFaV04wTG1SbFptbHVaVkJ5YjNCbGNuUjVLR1Y0Y0c5eWRITXNJRndpWDE5bGMwMXZaSFZzWlZ3aUxDQjdYRzVjZEhaaGJIVmxPaUIwY25WbFhHNTlLVHRjYmx4dWRtRnlJRjkxZEdsc2MwNWhkR2wyWlNBOUlISmxjWFZwY21Vb1hDSXVMaTkxZEdsc2N5OXVZWFJwZG1WY0lpazdYRzVjYm5aaGNpQmZaMnh2WW1Gc1JYWmhiQ0E5SUhKbGNYVnBjbVVvWENJdUwyZHNiMkpoYkM1bGRtRnNYQ0lwTzF4dVhHNTJZWElnWDJkc2IySmhiRVYyWVd3eUlEMGdYMmx1ZEdWeWIzQlNaWEYxYVhKbFJHVm1ZWFZzZENoZloyeHZZbUZzUlhaaGJDazdYRzVjYm5aaGNpQmZaMnh2WW1Gc1NYTkdhVzVwZEdVZ1BTQnlaWEYxYVhKbEtGd2lMaTluYkc5aVlXd3VhWE10Wm1sdWFYUmxYQ0lwTzF4dVhHNTJZWElnWDJkc2IySmhiRWx6Um1sdWFYUmxNaUE5SUY5cGJuUmxjbTl3VW1WeGRXbHlaVVJsWm1GMWJIUW9YMmRzYjJKaGJFbHpSbWx1YVhSbEtUdGNibHh1ZG1GeUlGOW5iRzlpWVd4SmMwNWhiaUE5SUhKbGNYVnBjbVVvWENJdUwyZHNiMkpoYkM1cGN5MXVZVzVjSWlrN1hHNWNiblpoY2lCZloyeHZZbUZzU1hOT1lXNHlJRDBnWDJsdWRHVnliM0JTWlhGMWFYSmxSR1ZtWVhWc2RDaGZaMnh2WW1Gc1NYTk9ZVzRwTzF4dVhHNTJZWElnWDJkc2IySmhiRkJoY25ObFNXNTBJRDBnY21WeGRXbHlaU2hjSWk0dloyeHZZbUZzTG5CaGNuTmxMV2x1ZEZ3aUtUdGNibHh1ZG1GeUlGOW5iRzlpWVd4UVlYSnpaVWx1ZERJZ1BTQmZhVzUwWlhKdmNGSmxjWFZwY21WRVpXWmhkV3gwS0Y5bmJHOWlZV3hRWVhKelpVbHVkQ2s3WEc1Y2JtVjRjRzl5ZEhOYlhDSmtaV1poZFd4MFhDSmRJRDBnWm5WdVkzUnBiMjRnS0dWdWRpa2dlMXh1WEhSMllYSWdaMnh2WW1Gc1QySnFaV04wSUQwZ1pXNTJMbWRzYjJKaGJEdGNibHgwZG1GeUlHOWlhbVZqZEVaaFkzUnZjbmtnUFNCbGJuWXViMkpxWldOMFJtRmpkRzl5ZVR0Y2JseDBkbUZ5SUc5d2RHbHZibk1nUFNCbGJuWXViM0IwYVc5dWN6dGNibHh1WEhSbmJHOWlZV3hQWW1wbFkzUXVaR1ZtYVc1bEtGd2lTVzVtYVc1cGRIbGNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdWUWNtbHRhWFJwZG1Vb1NXNW1hVzVwZEhrcExDQjdJR052Ym1acFozVnlZV0pzWlRvZ1ptRnNjMlVzSUhkeWFYUmhZbXhsT2lCbVlXeHpaU0I5S1R0Y2JseDBaMnh2WW1Gc1QySnFaV04wTG1SbFptbHVaU2hjSWs1aFRsd2lMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlZCeWFXMXBkR2wyWlNoT1lVNHBMQ0I3SUdOdmJtWnBaM1Z5WVdKc1pUb2dabUZzYzJVc0lIZHlhWFJoWW14bE9pQm1ZV3h6WlNCOUtUdGNibHh1WEhSYlhDSndZWEp6WlVac2IyRjBYQ0lzSUZ3aVpHVmpiMlJsVlZKSlhDSXNJRndpWlc1amIyUmxWVkpKWENJc0lGd2laR1ZqYjJSbFZWSkpRMjl0Y0c5dVpXNTBYQ0lzSUZ3aVpXNWpiMlJsVlZKSlEyOXRjRzl1Wlc1MFhDSXNJRndpWlhOallYQmxYQ0lzSUZ3aWRXNWxjMk5oY0dWY0lsMHVabTl5UldGamFDaG1kVzVqZEdsdmJpQW9ibUZ0WlNrZ2UxeHVYSFJjZEdkc2IySmhiRTlpYW1WamRDNWtaV1pwYm1Vb2JtRnRaU3dnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdWQ2RXbHNkRWx1Um5WdVkzUnBiMjRvWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1dFlYSnJLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXlKREFvZG1Gc2RXVXBJSHRjYmx4MFhIUmNkSFpoY2lCemRISnBibWRXWVd4MVpUdGNibHgwWEhSY2RISmxkSFZ5YmlCZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExuZHlZWEFvWm5WdVkzUnBiMjRnWTJGc2JHVmxKRElrTUNRb1kyOXVkR1Y0ZENRekpEQXBJSHRjYmx4MFhIUmNkRngwZDJocGJHVWdLREVwSUhOM2FYUmphQ0FvWTI5dWRHVjRkQ1F6SkRBdWNISmxkaUE5SUdOdmJuUmxlSFFrTXlRd0xtNWxlSFFwSUh0Y2JseDBYSFJjZEZ4MFhIUmpZWE5sSURBNlhHNWNkRngwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRE1rTUM1dVpYaDBJRDBnTWp0Y2JseDBYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQW9NQ3dnWDNWMGFXeHpUbUYwYVhabExuUnZVM1J5YVc1bktTaDJZV3gxWlNrN1hHNWNibHgwWEhSY2RGeDBYSFJqWVhObElESTZYRzVjZEZ4MFhIUmNkRngwWEhSemRISnBibWRXWVd4MVpTQTlJR052Ym5SbGVIUWtNeVF3TG5ObGJuUTdYRzVjZEZ4MFhIUmNkRngwWEhSeVpYUjFjbTRnWTI5dWRHVjRkQ1F6SkRBdVlXSnlkWEIwS0Z3aWNtVjBkWEp1WENJc0lHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxVSEpwYldsMGFYWmxLR2RzYjJKaGJGdHVZVzFsWFNoemRISnBibWRXWVd4MVpTa3BLVHRjYmx4dVhIUmNkRngwWEhSY2RHTmhjMlVnTkRwY2JseDBYSFJjZEZ4MFhIUmpZWE5sSUZ3aVpXNWtYQ0k2WEc1Y2RGeDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENRekpEQXVjM1J2Y0NncE8xeHVYSFJjZEZ4MFhIUjlYRzVjZEZ4MFhIUjlMQ0JqWVd4c1pXVWtNaVF3TENCMGFHbHpLVHRjYmx4MFhIUjlLU3dnTVN3Z2JtRnRaU2twTzF4dVhIUjlLVHRjYmx4dVhIUW9NQ3dnWDJkc2IySmhiRWx6Um1sdWFYUmxNbHRjSW1SbFptRjFiSFJjSWwwcEtHZHNiMkpoYkU5aWFtVmpkQ3dnWlc1MkxDQnZZbXBsWTNSR1lXTjBiM0o1S1R0Y2JseDBLREFzSUY5bmJHOWlZV3hKYzA1aGJqSmJYQ0prWldaaGRXeDBYQ0pkS1NobmJHOWlZV3hQWW1wbFkzUXNJR1Z1ZGl3Z2IySnFaV04wUm1GamRHOXllU2s3WEc1Y2RDZ3dMQ0JmWjJ4dlltRnNVR0Z5YzJWSmJuUXlXMXdpWkdWbVlYVnNkRndpWFNrb1oyeHZZbUZzVDJKcVpXTjBMQ0JsYm5Zc0lHOWlhbVZqZEVaaFkzUnZjbmtwTzF4dVhHNWNkR2xtSUNodmNIUnBiMjV6TG5CaGNuTmxjaWtnZTF4dVhIUmNkQ2d3TENCZloyeHZZbUZzUlhaaGJESmJYQ0prWldaaGRXeDBYQ0pkS1NobmJHOWlZV3hQWW1wbFkzUXNJR1Z1ZGl3Z2IySnFaV04wUm1GamRHOXllU2s3WEc1Y2RIMWNibjA3WEc1Y2JtMXZaSFZzWlM1bGVIQnZjblJ6SUQwZ1pYaHdiM0owYzF0Y0ltUmxabUYxYkhSY0lsMDdJbDE5IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGVjbWE1MTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdHlwZXNPYmplY3RGYWN0b3J5ID0gcmVxdWlyZShcIi4uL3R5cGVzL29iamVjdC1mYWN0b3J5XCIpO1xuXG52YXIgX251bWJlciA9IHJlcXVpcmUoXCIuL251bWJlci9cIik7XG5cbnZhciBfbnVtYmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlcik7XG5cbnZhciBfc3RyaW5nID0gcmVxdWlyZShcIi4vc3RyaW5nL1wiKTtcblxudmFyIF9zdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nKTtcblxudmFyIF9mdW5jdGlvbiA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uL1wiKTtcblxudmFyIF9mdW5jdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mdW5jdGlvbik7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZShcIi4vb2JqZWN0L1wiKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9ib29sZWFuID0gcmVxdWlyZShcIi4vYm9vbGVhbi9cIik7XG5cbnZhciBfYm9vbGVhbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ib29sZWFuKTtcblxudmFyIF9kYXRlID0gcmVxdWlyZShcIi4vZGF0ZS9cIik7XG5cbnZhciBfZGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlKTtcblxudmFyIF9hcnJheSA9IHJlcXVpcmUoXCIuL2FycmF5L1wiKTtcblxudmFyIF9hcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoXCIuL21hdGgvXCIpO1xuXG52YXIgX21hdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF0aCk7XG5cbnZhciBfcmVnZXggPSByZXF1aXJlKFwiLi9yZWdleC9cIik7XG5cbnZhciBfcmVnZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZXgpO1xuXG52YXIgX2Vycm9yID0gcmVxdWlyZShcIi4vZXJyb3IvXCIpO1xuXG52YXIgX2Vycm9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Vycm9yKTtcblxudmFyIF9qc29uID0gcmVxdWlyZShcIi4vanNvbi9cIik7XG5cbnZhciBfanNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qc29uKTtcblxudmFyIF9jb25zb2xlID0gcmVxdWlyZShcIi4vY29uc29sZS9cIik7XG5cbnZhciBfY29uc29sZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25zb2xlKTtcblxudmFyIF9nbG9iYWxzID0gcmVxdWlyZShcIi4vZ2xvYmFsc1wiKTtcblxudmFyIF9nbG9iYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsb2JhbHMpO1xuXG52YXIgZnJvemVuID0geyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cbmZ1bmN0aW9uIGVjbWE1MShlbnYpIHtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeSA9IG5ldyBfdHlwZXNPYmplY3RGYWN0b3J5Lk9iamVjdEZhY3RvcnkoZW52KTtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWwgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdGVudi5jcmVhdGVPYmplY3RTY29wZShnbG9iYWxPYmplY3QpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJ1bmRlZmluZWRcIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIGZyb3plbik7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJudWxsXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCwgZnJvemVuKTtcblxuXHQvLyB0b2RvOiBub2RlIHZzIGJyb3dzZXIgLSBkbyB3ZSBjYXJlP1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwid2luZG93XCIsIGdsb2JhbE9iamVjdCwgZnJvemVuKTtcblxuXHQoMCwgX2Z1bmN0aW9uMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfb2JqZWN0MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfYXJyYXkyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9ib29sZWFuMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfbnVtYmVyMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfc3RyaW5nMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfZGF0ZTJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX3JlZ2V4MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfbWF0aDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2Vycm9yMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfanNvbjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2NvbnNvbGUyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9nbG9iYWxzMltcImRlZmF1bHRcIl0pKGVudik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGpzb25BcGk7XG5cbnZhciBfanNvblBhcnNlID0gcmVxdWlyZShcIi4vanNvbi5wYXJzZVwiKTtcblxudmFyIF9qc29uUGFyc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfanNvblBhcnNlKTtcblxudmFyIF9qc29uU3RyaW5naWZ5ID0gcmVxdWlyZShcIi4vanNvbi5zdHJpbmdpZnlcIik7XG5cbnZhciBfanNvblN0cmluZ2lmeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qc29uU3RyaW5naWZ5KTtcblxuZnVuY3Rpb24ganNvbkFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIGpzb25DbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdGpzb25DbGFzcy5jbGFzc05hbWUgPSBcIkpTT05cIjtcblxuXHQoMCwgX2pzb25QYXJzZTJbXCJkZWZhdWx0XCJdKShqc29uQ2xhc3MsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfanNvblN0cmluZ2lmeTJbXCJkZWZhdWx0XCJdKShqc29uQ2xhc3MsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIkpTT05cIiwganNvbkNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWFya2VkMSQwID0gW2Rlc2VyaWFsaXplXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHRmdW5jdGlvbiBjcmVhdGVSZXZpdmVyKHJldml2ZXIpIHtcblx0XHRpZiAocmV2aXZlciAmJiByZXZpdmVyLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiKSB7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoaG9sZGVyLCBrZXksIHZhbHVlKSB7XG5cdFx0XHRcdHZhciBhcmdzO1xuXHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0YXJncyA9IFtmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpLCB2YWx1ZV07XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5kZWxlZ2F0ZVlpZWxkKHJldml2ZXIuY2FsbChob2xkZXIsIGFyZ3MpLCBcInQwXCIsIDIpO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAudDApO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBmdW5jdGlvbiAoaG9sZGVyLCBrZXksIHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlc2VyaWFsaXplKHZhbHVlLCByZXZpdmVyKSB7XG5cdFx0dmFyIHZhbHVlVHlwZSwgYXJyLCBpLCBsbiwgZWxlbWVudCwgZWxlbWVudFZhbHVlLCBvYmosIHByb3BWYWx1ZSwgcHJvcDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGRlc2VyaWFsaXplJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHZhbHVlVHlwZSA9ICgwLCBfdXRpbHNDb250cmFjdHMuZ2V0VHlwZSkodmFsdWUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gdmFsdWVUeXBlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSBjb250ZXh0JDIkMC50MCA9PT0gXCJVbmRlZmluZWRcIiA/IDQgOiBjb250ZXh0JDIkMC50MCA9PT0gXCJOdWxsXCIgPyA0IDogY29udGV4dCQyJDAudDAgPT09IFwiU3RyaW5nXCIgPyA0IDogY29udGV4dCQyJDAudDAgPT09IFwiTnVtYmVyXCIgPyA0IDogY29udGV4dCQyJDAudDAgPT09IFwiQm9vbGVhblwiID8gNCA6IGNvbnRleHQkMiQwLnQwID09PSBcIkFycmF5XCIgPyA1IDogMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGUodmFsdWVUeXBlLCB2YWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRhcnIgPSBmYWN0b3J5LmNyZWF0ZUFycmF5KCk7XG5cdFx0XHRcdFx0aSA9IDAsIGxuID0gdmFsdWUubGVuZ3RoO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRpZiAoIShpIDwgbG4pKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtZW50ID0gdmFsdWVbaV07XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBhcnI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDIgPSBTdHJpbmcoaSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdHJldHVybiBkZXNlcmlhbGl6ZShlbGVtZW50LCByZXZpdmVyKTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQzID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0cmV0dXJuIHJldml2ZXIoY29udGV4dCQyJDAudDEsIGNvbnRleHQkMiQwLnQyLCBjb250ZXh0JDIkMC50Myk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRlbGVtZW50VmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCgwLCBfdXRpbHNDb250cmFjdHMuaXNVbmRlZmluZWQpKGVsZW1lbnRWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ0ID0gYXJyO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ1ID0gaTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKGVsZW1lbnQpO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDYgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ0LnNldEluZGV4LmNhbGwoY29udGV4dCQyJDAudDQsIGNvbnRleHQkMiQwLnQ1LCBjb250ZXh0JDIkMC50Nik7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRvYmogPSBmYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRcdFx0XHRcdHByb3BWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50NyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyh2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRpZiAoKGNvbnRleHQkMiQwLnQ4ID0gY29udGV4dCQyJDAudDcoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMiQwLnQ4LnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDkgPSBvYmo7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEwID0gcHJvcDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzg7XG5cdFx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKHZhbHVlW3Byb3BdLCByZXZpdmVyKTtcblxuXHRcdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxMSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRcdHJldHVybiByZXZpdmVyKGNvbnRleHQkMiQwLnQ5LCBjb250ZXh0JDIkMC50MTAsIGNvbnRleHQkMiQwLnQxMSk7XG5cblx0XHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0XHRwcm9wVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShwcm9wVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRvYmouZGVmaW5lT3duUHJvcGVydHkocHJvcCwgeyB2YWx1ZTogcHJvcFZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDQzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDQ1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqKTtcblxuXHRcdFx0XHRjYXNlIDQ2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBtYXJrZWQxJDBbMF0sIHRoaXMpO1xuXHR9XG5cblx0JHRhcmdldC5kZWZpbmUoXCJwYXJzZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdHIsIHJldml2ZXIpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHBhcnNlZE9iamVjdCwgZGVzZXJpYWxpemVkT2JqZWN0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXZpdmVyID0gY3JlYXRlUmV2aXZlcihyZXZpdmVyKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzdHIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZShzdHJpbmdWYWx1ZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKHBhcnNlZE9iamVjdCwgcmV2aXZlcik7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdGRlc2VyaWFsaXplZE9iamVjdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiByZXZpdmVyKGRlc2VyaWFsaXplZE9iamVjdCwgXCJcIiwgZGVzZXJpYWxpemVkT2JqZWN0KSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkpTT04ucGFyc2VcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gdGhlc2UgYXJlIHRoZSBvbmx5IHR5cGVzIHN1cHBvcnRlZCBieSBKU09OLnBhcnNlIC0gc2FkIGZhY2UuLi4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIHByaW1pdGl2ZXMgPSB7XG5cdFwiU3RyaW5nXCI6IHRydWUsXG5cdFwiTnVtYmVyXCI6IHRydWUsXG5cdFwiQm9vbGVhblwiOiB0cnVlLFxuXHRcIkRhdGVcIjogdHJ1ZVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBtYXJrZWQxJDAgPSBbc2VyaWFsaXplLCBzZXJpYWxpemVPYmplY3QsIHNlcmlhbGl6ZUFycmF5LCBjcmVhdGVSZXBsYWNlciwgZ2V0U3BhY2VyXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHR2YXIgc2VyaWFsaXplUHJpbWl0aXZlID0gSlNPTi5zdHJpbmdpZnk7XG5cblx0ZnVuY3Rpb24gc2VyaWFsaXplKHN0YWNrLCBvYmosIHJlcGxhY2VyLCBnYXAsIGRlcHRoKSB7XG5cdFx0dmFyIGpzb25TdHJpbmcsIGpzb25SZXN1bHQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXJpYWxpemUkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKG9iaikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHNlcmlhbGl6ZVByaW1pdGl2ZSgpKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aWYgKCEob2JqLmlzUHJpbWl0aXZlIHx8IG9iai5jbGFzc05hbWUgaW4gcHJpbWl0aXZlcykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBzZXJpYWxpemVQcmltaXRpdmUob2JqLnZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGlmICghKG9iai5jbGFzc05hbWUgPT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB1bmRlZmluZWQpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkob2JqLCBcInRvSlNPTlwiKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0anNvblN0cmluZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIWpzb25TdHJpbmcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgc2VyaWFsaXplUHJpbWl0aXZlKGpzb25TdHJpbmcudmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGlmICghKHN0YWNrLmluZGV4T2Yob2JqKSA+PSAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTlwiKTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXG5cdFx0XHRcdFx0ZGVwdGgrKztcblx0XHRcdFx0XHRzdGFjay5wdXNoKG9iaik7XG5cblx0XHRcdFx0XHRqc29uUmVzdWx0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEob2JqLmNsYXNzTmFtZSA9PT0gXCJBcnJheVwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdHJldHVybiBzZXJpYWxpemVBcnJheShzdGFjaywgb2JqLCByZXBsYWNlcik7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRqc29uUmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0cmV0dXJuIHNlcmlhbGl6ZU9iamVjdChzdGFjaywgb2JqLCByZXBsYWNlciwgZ2FwLCBkZXB0aCk7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRqc29uUmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDI1OlxuXG5cdFx0XHRcdFx0ZGVwdGgtLTtcblx0XHRcdFx0XHRzdGFjay5wb3AoKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGpzb25SZXN1bHQpO1xuXG5cdFx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFswXSwgdGhpcyk7XG5cdH1cblxuXHRmdW5jdGlvbiBmb3JtYXRWYWx1ZXModmFsdWVzLCBnYXAsIGRlcHRoKSB7XG5cdFx0aWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblxuXHRcdGlmICghZ2FwKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWVzLmpvaW4oXCIsXCIpO1xuXHRcdH1cblxuXHRcdHZhciBpbmRlbnQgPSBcIlxcblwiICsgZ2FwLnJlcGVhdChkZXB0aCk7XG5cdFx0dmFyIGpvaW5lZFZhbHVlcyA9IHZhbHVlcy5qb2luKGluZGVudCArIFwiLFwiKTtcblxuXHRcdC8vIHJlbW92ZSBpbmRlbnQgb24gY2xvc2luZ1xuXHRcdHJldHVybiBpbmRlbnQgKyBqb2luZWRWYWx1ZXMgKyBcIlxcblwiICsgZ2FwLnJlcGVhdChkZXB0aCAtIDEpO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0KHN0YWNrLCBvYmosIHJlcGxhY2VyLCBnYXAsIGRlcHRoKSB7XG5cdFx0dmFyIGNvbG9uLCB2YWx1ZXMsIHZhbHVlLCBwcm9wO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0JChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbG9uID0gZ2FwID8gXCI6IFwiIDogXCI6XCI7XG5cdFx0XHRcdFx0dmFsdWVzID0gW107XG5cdFx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXMob2JqLnByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRpZiAoKGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAudDAoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMiQwLnQxLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFvYmoucHJvcGVydGllc1twcm9wXS5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRyZXR1cm4gcmVwbGFjZXIob2JqLCBwcm9wLCBvYmouZ2V0VmFsdWUocHJvcCkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCkodmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MiA9IHZhbHVlcztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MyA9IHNlcmlhbGl6ZVByaW1pdGl2ZShwcm9wKSArIGNvbG9uO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKHN0YWNrLCB2YWx1ZSwgcmVwbGFjZXIsIGdhcCwgZGVwdGgpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ1ID0gY29udGV4dCQyJDAudDMgKyBjb250ZXh0JDIkMC50NDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50Mi5wdXNoLmNhbGwoY29udGV4dCQyJDAudDIsIGNvbnRleHQkMiQwLnQ1KTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBcIntcIiArIGZvcm1hdFZhbHVlcyh2YWx1ZXMsIGdhcCwgZGVwdGgsIGdhcCwgZGVwdGgpICsgXCJ9XCIpO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFsxXSwgdGhpcyk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXJpYWxpemVBcnJheShzdGFjaywgYXJyLCByZXBsYWNlciwgZ2FwLCBkZXB0aCkge1xuXHRcdHZhciBsZW5ndGgsIHZhbHVlcywgaSwgdmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXJpYWxpemVBcnJheSQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRsZW5ndGggPSBhcnIuZ2V0VmFsdWUoXCJsZW5ndGhcIikudG9OYXRpdmUoKTtcblx0XHRcdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0aWYgKCEoaSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCFhcnIuaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiByZXBsYWNlcihhcnIsIFN0cmluZyhpKSwgYXJyLmdldFZhbHVlKGkpKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQpKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gdW5kZWZpbmVkIHBvc2l0aW9ucyBhcmUgcmVwbGFjZWQgd2l0aCBudWxsXG5cdFx0XHRcdFx0dmFsdWVzLnB1c2goXCJudWxsXCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gdmFsdWVzO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKHN0YWNrLCB2YWx1ZSwgcmVwbGFjZXIpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwLnB1c2guY2FsbChjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBcIltcIiArIGZvcm1hdFZhbHVlcyh2YWx1ZXMsIGdhcCwgZGVwdGgpICsgXCJdXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFsyXSwgdGhpcyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVSZXBsYWNlcihyZXBsYWNlcikge1xuXHRcdHZhciBfcmV0O1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjcmVhdGVSZXBsYWNlciQoY29udGV4dCQyJDApIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIXJlcGxhY2VyKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghKHJlcGxhY2VyLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGhvbGRlciwga2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0dmFyIGFyZ3M7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFtmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpLCB2YWx1ZV07XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXBsYWNlci5jYWxsKGhvbGRlciwgYXJncyk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0aWYgKCEocmVwbGFjZXIuY2xhc3NOYW1lID09PSBcIkFycmF5XCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5kZWxlZ2F0ZVlpZWxkKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHRcdFx0dmFyIGFyciwga2V5cztcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKHJlcGxhY2VyKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdGFyciA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcnIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoYXJnLmNsYXNzTmFtZSA9PT0gXCJTdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkNCQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZy5jbGFzc05hbWUgPT09IFwiTnVtYmVyXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAudDAgPSBjb250ZXh0JDQkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIFN0cmluZyhjb250ZXh0JDQkMC50MCkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkpLCBcInQwXCIsIDQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdFx0a2V5cyA9IGNvbnRleHQkMyQwLnQwO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHY6IGZ1bmN0aW9uIChob2xkZXIsIGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbGxvdyBlbXB0eSBrZXkgLSB0aGlzIHdpbGwgYmUgZnJvbSB0aGUgcm9vdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICgha2V5IHx8IGtleXMuaW5kZXhPZihrZXkpID49IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCBfdGhpcyk7XG5cdFx0XHRcdFx0fSkoKSwgXCJ0MFwiLCA1KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0X3JldCA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIF9yZXQgPT09IFwib2JqZWN0XCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3JldC52KTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmdW5jdGlvbiAoaG9sZGVyLCBrZXksIHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBtYXJrZWQxJDBbM10sIHRoaXMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0U3BhY2VyKHNwYWNlcikge1xuXHRcdHZhciBjb3VudCwgZ2FwO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0U3BhY2VyJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghc3BhY2VyKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIShzcGFjZXIuY2xhc3NOYW1lID09PSBcIk51bWJlclwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBNYXRoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShzcGFjZXIpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y291bnQgPSBjb250ZXh0JDIkMC50MC5mbG9vci5jYWxsKGNvbnRleHQkMiQwLnQwLCBjb250ZXh0JDIkMC50MSk7XG5cblx0XHRcdFx0XHRjb3VudCA9IE1hdGgubWF4KE1hdGgubWluKDEwLCBjb3VudCksIDApO1xuXG5cdFx0XHRcdFx0aWYgKCEoY291bnQgPiAwKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBcIiBcIi5yZXBlYXQoY291bnQpKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgXCJcIik7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpZiAoIShzcGFjZXIuY2xhc3NOYW1lID09PSBcIlN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzcGFjZXIpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0Z2FwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGdhcC5zdWJzdHIoMCwgMTApKTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgXCJcIik7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzRdLCB0aGlzKTtcblx0fVxuXG5cdCR0YXJnZXQuZGVmaW5lKFwic3RyaW5naWZ5XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG9iaiwgcmVwbGFjZXIsIHNwYWNlcikge1xuXHRcdHZhciBzdGFjaztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuIGNyZWF0ZVJlcGxhY2VyKHJlcGxhY2VyKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0cmVwbGFjZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiBnZXRTcGFjZXIoc3BhY2VyKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0c3BhY2VyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gcmVwbGFjZXIob2JqLCBcIlwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRvYmogPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShvYmopKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHN0YWNrID0gW107XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBmYWN0b3J5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKHN0YWNrLCBvYmosIHJlcGxhY2VyLCBzcGFjZXIsIDApO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAudDAuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQyJDAudDAsIGNvbnRleHQkMiQwLnQxKSk7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAzLCBcIkpTT04uc3RyaW5naWZ5XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHJ1biBhdCB0aGUgdG9wIHZhbHVlIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1hdGhBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgY29uc3RhbnRzID0gW1wiRVwiLCBcIkxOMTBcIiwgXCJMTjJcIiwgXCJMT0cxMEVcIiwgXCJMT0cyRVwiLCBcIlBJXCIsIFwiU1FSVDFfMlwiLCBcIlNRUlQyXCJdO1xudmFyIG1ldGhvZHMgPSBbXCJhYnNcIiwgXCJhY29zXCIsIFwiYXNpblwiLCBcImF0YW5cIiwgXCJhdGFuMlwiLCBcImNlaWxcIiwgXCJjb3NcIiwgXCJleHBcIiwgXCJmbG9vclwiLCBcImxvZ1wiLCBcIm1heFwiLCBcIm1pblwiLCBcInBvd1wiLCBcInJhbmRvbVwiLCBcInJvdW5kXCIsIFwic2luXCIsIFwic3FydFwiLCBcInRhblwiXTtcblxuZnVuY3Rpb24gbWF0aEFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIG1hdGhDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdG1hdGhDbGFzcy5jbGFzc05hbWUgPSBcIk1hdGhcIjtcblxuXHRjb25zdGFudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdG1hdGhDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTWF0aFtuYW1lXSksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0fSk7XG5cblx0bWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0bWF0aENsYXNzLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgTWF0aFtuYW1lXSwgXCJNYXRoLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiTWF0aFwiLCBtYXRoQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbnVtYmVyQXBpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfbnVtYmVyVG9GaXhlZCA9IHJlcXVpcmUoXCIuL251bWJlci50by1maXhlZFwiKTtcblxudmFyIF9udW1iZXJUb0ZpeGVkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlclRvRml4ZWQpO1xuXG52YXIgX251bWJlclRvU3RyaW5nID0gcmVxdWlyZShcIi4vbnVtYmVyLnRvLXN0cmluZ1wiKTtcblxudmFyIF9udW1iZXJUb1N0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXJUb1N0cmluZyk7XG5cbnZhciBfbnVtYmVyVmFsdWVPZiA9IHJlcXVpcmUoXCIuL251bWJlci52YWx1ZS1vZlwiKTtcblxudmFyIF9udW1iZXJWYWx1ZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlclZhbHVlT2YpO1xuXG5mdW5jdGlvbiBudW1iZXJBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBwcm90byA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiTnVtYmVyXCI7XG5cdHByb3RvLnZhbHVlID0gMDtcblxuXHR2YXIgbnVtYmVyQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG9iaikge1xuXHRcdHZhciBudW1iZXJWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKG9iaiwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRudW1iZXJWYWx1ZSA9IE51bWJlcihjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCAoMCwgX3V0aWxzTmF0aXZlLnByaW1pdGl2ZVRvT2JqZWN0KShlbnYsIG51bWJlclZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJOdW1iZXJcIiwgbnVtYmVyVmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgcHJvdG8sIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRbXCJNQVhfVkFMVUVcIiwgXCJNSU5fVkFMVUVcIiwgXCJOYU5cIiwgXCJORUdBVElWRV9JTkZJTklUWVwiLCBcIlBPU0lUSVZFX0lORklOSVRZXCJdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRudW1iZXJDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTnVtYmVyW25hbWVdKSwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHR9KTtcblxuXHQoMCwgX251bWJlclRvRml4ZWQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfbnVtYmVyVG9TdHJpbmcyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfbnVtYmVyVmFsdWVPZjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblxuXHRbXCJ0b0V4cG9uZW50aWFsXCIsIFwidG9QcmVjaXNpb25cIiwgXCJ0b0xvY2FsZVN0cmluZ1wiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0dmFyIGZuID0gTnVtYmVyLnByb3RvdHlwZVtuYW1lXTtcblx0XHRpZiAoZm4pIHtcblx0XHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBtZXRob2ROYW1lID0gXCJOdW1iZXIucHJvdG90eXBlLlwiICsgbmFtZTtcblx0XHRcdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90R2VuZXJpYykodGhpcy5ub2RlLCBcIk51bWJlclwiLCBtZXRob2ROYW1lKTtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZm4uY2FsbCh0aGlzLm5vZGUudmFsdWUpKTtcblx0XHRcdFx0fSwgZm4ubGVuZ3RoLCBtZXRob2ROYW1lKSk7XG5cdFx0XHR9KSgpO1xuXHRcdH1cblx0fSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIk51bWJlclwiLCBudW1iZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInRvRml4ZWRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZnJhY3Rpb25EaWdpdHMpIHtcblx0XHR2YXIgZGlnaXRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90R2VuZXJpYykodGhpcy5ub2RlLCBcIk51bWJlclwiLCBcIk51bWJlci5wcm90b3R5cGUudG9GaXhlZFwiKTtcblxuXHRcdFx0XHRcdGRpZ2l0cyA9IDA7XG5cblx0XHRcdFx0XHRpZiAoIWZyYWN0aW9uRGlnaXRzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShmcmFjdGlvbkRpZ2l0cyk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGRpZ2l0cyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkLmNhbGwodGhpcy5ub2RlLnZhbHVlLCBkaWdpdHMpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInRvU3RyaW5nXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHJhZGl4KSB7XG5cdFx0dmFyIHJhZGl4VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKSh0aGlzLm5vZGUsIFwiTnVtYmVyXCIsIFwiTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblxuXHRcdFx0XHRcdHJhZGl4VmFsdWUgPSAxMDtcblxuXHRcdFx0XHRcdGlmICghcmFkaXgpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKHJhZGl4LCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmFkaXhWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShyYWRpeFZhbHVlIDwgMiB8fCByYWRpeFZhbHVlID4gMzYpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFJhbmdlRXJyb3IoXCJ0b1N0cmluZygpIHJhZGl4IGFyZ3VtZW50IG11c3QgYmUgYmV0d2VlbiAyIGFuZCAzNlwiKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUudmFsdWUgPT0gbnVsbCA/IFwiMFwiIDogdGhpcy5ub2RlLnZhbHVlLnRvU3RyaW5nKHJhZGl4VmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwidmFsdWVPZlwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWMpKHRoaXMubm9kZSwgXCJOdW1iZXJcIiwgXCJOdW1iZXIucHJvdG90eXBlLnZhbHVlT2ZcIik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZSA9PSBudWxsID8gMCA6IHRoaXMubm9kZS52YWx1ZSk7XG5cdH0sIDAsIFwiTnVtYmVyLnByb3RvdHlwZS52YWx1ZU9mXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG9iamVjdEFwaTtcblxudmFyIF90eXBlc09iamVjdFR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfb2JqZWN0Q3JlYXRlID0gcmVxdWlyZShcIi4vb2JqZWN0LmNyZWF0ZVwiKTtcblxudmFyIF9vYmplY3RDcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0Q3JlYXRlKTtcblxudmFyIF9vYmplY3REZWZpbmVQcm9wZXJ0aWVzID0gcmVxdWlyZShcIi4vb2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzXCIpO1xuXG52YXIgX29iamVjdERlZmluZVByb3BlcnRpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0RGVmaW5lUHJvcGVydGllcyk7XG5cbnZhciBfb2JqZWN0RGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi9vYmplY3QuZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX29iamVjdERlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdERlZmluZVByb3BlcnR5KTtcblxudmFyIF9vYmplY3RGcmVlemUgPSByZXF1aXJlKFwiLi9vYmplY3QuZnJlZXplXCIpO1xuXG52YXIgX29iamVjdEZyZWV6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RGcmVlemUpO1xuXG52YXIgX29iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL29iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBfb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcik7XG5cbnZhciBfb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lcyA9IHJlcXVpcmUoXCIuL29iamVjdC5nZXQtb3duLXByb3BlcnR5LW5hbWVzXCIpO1xuXG52YXIgX29iamVjdEdldE93blByb3BlcnR5TmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lcyk7XG5cbnZhciBfb2JqZWN0R2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9vYmplY3QuZ2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9vYmplY3RHZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RHZXRQcm90b3R5cGVPZik7XG5cbnZhciBfb2JqZWN0SXNFeHRlbnNpYmxlID0gcmVxdWlyZShcIi4vb2JqZWN0LmlzLWV4dGVuc2libGVcIik7XG5cbnZhciBfb2JqZWN0SXNFeHRlbnNpYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdElzRXh0ZW5zaWJsZSk7XG5cbnZhciBfb2JqZWN0SXNGcm96ZW4gPSByZXF1aXJlKFwiLi9vYmplY3QuaXMtZnJvemVuXCIpO1xuXG52YXIgX29iamVjdElzRnJvemVuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdElzRnJvemVuKTtcblxudmFyIF9vYmplY3RJc1NlYWxlZCA9IHJlcXVpcmUoXCIuL29iamVjdC5pcy1zZWFsZWRcIik7XG5cbnZhciBfb2JqZWN0SXNTZWFsZWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0SXNTZWFsZWQpO1xuXG52YXIgX29iamVjdEtleXMgPSByZXF1aXJlKFwiLi9vYmplY3Qua2V5c1wiKTtcblxudmFyIF9vYmplY3RLZXlzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEtleXMpO1xuXG52YXIgX29iamVjdFByZXZlbnRFeHRlbnNpb25zID0gcmVxdWlyZShcIi4vb2JqZWN0LnByZXZlbnQtZXh0ZW5zaW9uc1wiKTtcblxudmFyIF9vYmplY3RQcmV2ZW50RXh0ZW5zaW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RQcmV2ZW50RXh0ZW5zaW9ucyk7XG5cbnZhciBfb2JqZWN0U2VhbCA9IHJlcXVpcmUoXCIuL29iamVjdC5zZWFsXCIpO1xuXG52YXIgX29iamVjdFNlYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0U2VhbCk7XG5cbnZhciBfb2JqZWN0SGFzT3duUHJvcGVydHkgPSByZXF1aXJlKFwiLi9vYmplY3QuaGFzLW93bi1wcm9wZXJ0eVwiKTtcblxudmFyIF9vYmplY3RIYXNPd25Qcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RIYXNPd25Qcm9wZXJ0eSk7XG5cbnZhciBfb2JqZWN0SXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL29iamVjdC5pcy1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfb2JqZWN0SXNQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RJc1Byb3RvdHlwZU9mKTtcblxudmFyIF9vYmplY3RQcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHJlcXVpcmUoXCIuL29iamVjdC5wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlXCIpO1xuXG52YXIgX29iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlKTtcblxudmFyIF9vYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoXCIuL29iamVjdC50by1zdHJpbmdcIik7XG5cbnZhciBfb2JqZWN0VG9TdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0VG9TdHJpbmcpO1xuXG52YXIgX29iamVjdFZhbHVlT2YgPSByZXF1aXJlKFwiLi9vYmplY3QudmFsdWUtb2ZcIik7XG5cbnZhciBfb2JqZWN0VmFsdWVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RWYWx1ZU9mKTtcblxuZnVuY3Rpb24gb2JqZWN0QXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgcHJvdG8gPSBuZXcgX3R5cGVzT2JqZWN0VHlwZS5PYmplY3RUeXBlKCk7XG5cdHZhciBvYmplY3RDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAodmFsdWUuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0aWYgKHZhbHVlLnZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBvYmplY3RXcmFwcGVyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUudmFsdWUpO1xuXHRcdFx0XHRvYmplY3RXcmFwcGVyLnR5cGUgPSBcIm9iamVjdFwiO1xuXHRcdFx0XHRvYmplY3RXcmFwcGVyLmlzUHJpbWl0aXZlID0gZmFsc2U7XG5cdFx0XHRcdHJldHVybiBvYmplY3RXcmFwcGVyO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWUuaXNTeW1ib2wpIHtcblx0XHRcdFx0Ly8gc2hvdWxkIHJldHVybiBhIG5ldyBzeW1ib2wgaW5zdGFuY2Vcblx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3ltYm9sXCIsIHZhbHVlLmRlc2NyaXB0aW9uKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbiBqdXN0IHJldHVyblxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHR9LCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdCgwLCBfb2JqZWN0SGFzT3duUHJvcGVydHkyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfb2JqZWN0SXNQcm90b3R5cGVPZjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9vYmplY3RUb1N0cmluZzJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9vYmplY3RWYWx1ZU9mMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXG5cdCgwLCBfb2JqZWN0Q3JlYXRlMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdERlZmluZVByb3BlcnR5MltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdERlZmluZVByb3BlcnRpZXMyW1wiZGVmYXVsdFwiXSkob2JqZWN0Q2xhc3MsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfb2JqZWN0RnJlZXplMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjJbXCJkZWZhdWx0XCJdKShvYmplY3RDbGFzcywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9vYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdEdldFByb3RvdHlwZU9mMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdElzRXh0ZW5zaWJsZTJbXCJkZWZhdWx0XCJdKShvYmplY3RDbGFzcywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9vYmplY3RJc0Zyb3plbjJbXCJkZWZhdWx0XCJdKShvYmplY3RDbGFzcywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9vYmplY3RJc1NlYWxlZDJbXCJkZWZhdWx0XCJdKShvYmplY3RDbGFzcywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9vYmplY3RLZXlzMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdFByZXZlbnRFeHRlbnNpb25zMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX29iamVjdFNlYWwyW1wiZGVmYXVsdFwiXSkob2JqZWN0Q2xhc3MsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cblx0Ly8gZnVuY3Rpb24gaXMgYW4gb2JqZWN0IC0gbWFrZSBzdXJlIHRoYXQgaXQgaXMgaW4gdGhlIHByb3RvdHlwZSBjaGFpblxuXHRnbG9iYWxPYmplY3QuZ2V0VmFsdWUoXCJGdW5jdGlvblwiKS5nZXRQcm90b3R5cGUoKS5zZXRQcm90b3R5cGUocHJvdG8pO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiT2JqZWN0XCIsIG9iamVjdENsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHk7XG5leHBvcnRzLmNvbmZpcm1PYmplY3QgPSBjb25maXJtT2JqZWN0O1xuZXhwb3J0cy5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgbWFya2VkMCQwID0gW2RlZmluZVByb3BlcnR5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5mdW5jdGlvbiBnZXRPcHRpb25zKG9iaikge1xuXHRyZXR1cm4gb2JqW19TeW1ib2wkZm9yKFwiZW52XCIpXS5vcHRpb25zO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShlbnYsIG9iaiwga2V5LCBkZXNjcmlwdG9yKSB7XG5cdHZhciB0aHJvd09uRXJyb3IgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzRdO1xuXHR2YXIgc3RyaW5nVmFsdWUsIG9wdGlvbnM7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkkKGNvbnRleHQkMSQwKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoKDAsIF91dGlsc0NvbnRyYWN0cy5pc09iamVjdCkoZGVzY3JpcHRvcikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZGVzY3JpcHRvcik7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0b3B0aW9ucyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXG5cdFx0XHRcdGlmICghZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0dmFyIGhhc1ZhbHVlLCBoYXNHZXR0ZXIsIGhhc1NldHRlciwgY3VycmVudFNjb3BlO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRoYXNWYWx1ZSA9IGRlc2NyaXB0b3IuaGFzKFwidmFsdWVcIik7XG5cdFx0XHRcdFx0XHRcdFx0aGFzR2V0dGVyID0gZGVzY3JpcHRvci5oYXMoXCJnZXRcIik7XG5cdFx0XHRcdFx0XHRcdFx0aGFzU2V0dGVyID0gZGVzY3JpcHRvci5oYXMoXCJzZXRcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoISgoaGFzVmFsdWUgfHwgZGVzY3JpcHRvci5oYXMoXCJ3cml0YWJsZVwiKSkgJiYgKGhhc0dldHRlciB8fCBoYXNTZXR0ZXIpKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJJbnZhbGlkIHByb3BlcnR5LiBBIHByb3BlcnR5IGNhbm5vdCBib3RoIGhhdmUgYWNjZXNzb3JzIGFuZCBiZSB3cml0YWJsZSBvciBoYXZlIGEgdmFsdWVcIik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXG5cdFx0XHRcdFx0XHRcdFx0W1wid3JpdGFibGVcIiwgXCJlbnVtZXJhYmxlXCIsIFwiY29uZmlndXJhYmxlXCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChkZXNjcmlwdG9yLmhhcyhwcm9wKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgYXR0clZhbHVlID0gZGVzY3JpcHRvci5nZXRWYWx1ZShwcm9wKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uc1twcm9wXSA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShhdHRyVmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudFNjb3BlID0gZW52LmN1cnJlbnQuc2NvcGU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIWhhc0dldHRlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBnZXR0ZXIsIHN0cmluZ1ZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGdldHRlciA9IGRlc2NyaXB0b3IuZ2V0VmFsdWUoXCJnZXRcIikgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGdldHRlci5pc1ByaW1pdGl2ZSAmJiBnZXR0ZXIudmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLmdldCA9IG9wdGlvbnMuZ2V0dGVyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShnZXR0ZXIuY2xhc3NOYW1lICE9PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGdldHRlcik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJHZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uOiBcIiArIHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuZ2V0ID0gZ2V0dGVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5nZXR0ZXIgPSBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDMkMCgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNjb3BlLCB0aGlzQXJnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoY3VycmVudFNjb3BlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IGdldHRlci5pc1N0cmljdCgpID8gdGhpcyA6ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkNCQwKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDQkMCQoY29udGV4dCQ1JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNSQwLnByZXYgPSBjb250ZXh0JDUkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDUkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0dGVyLmNhbGwodGhpc0FyZykgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDUkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ1JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNSQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkNCQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIF90aGlzKTtcblx0XHRcdFx0XHRcdFx0XHR9KSgpLCBcInQwXCIsIDkpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWhhc1NldHRlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2V0dGVyLCBzdHJpbmdWYWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXR0ZXIgPSBkZXNjcmlwdG9yLmdldFZhbHVlKFwic2V0XCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShzZXR0ZXIuaXNQcmltaXRpdmUgJiYgc2V0dGVyLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5zZXQgPSBvcHRpb25zLnNldHRlciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoc2V0dGVyLmNsYXNzTmFtZSAhPT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzZXR0ZXIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiU2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbjogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLnNldCA9IHNldHRlcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuc2V0dGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAodmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNjb3BlLCB0aGlzQXJnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoY3VycmVudFNjb3BlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IHNldHRlci5pc1N0cmljdCgpID8gdGhpcyA6ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkNCQwKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDQkMCQoY29udGV4dCQ1JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNSQwLnByZXYgPSBjb250ZXh0JDUkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDUkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2V0dGVyLmNhbGwodGhpc0FyZywgW3ZhbHVlXSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDUkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDUkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDQkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkNCQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMyQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCBfdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0fSkoKSwgXCJ0MVwiLCAxMSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMTpcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChoYXNWYWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy52YWx1ZSA9IGRlc2NyaXB0b3IuZ2V0VmFsdWUoXCJ2YWx1ZVwiKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgX3RoaXMyKTtcblx0XHRcdFx0fSkoKSwgXCJ0MFwiLCA4KTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iai5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIG9wdGlvbnMsIHRocm93T25FcnJvciwgZW52KSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpcm1PYmplY3Qob2JqLCBtZXRob2ROYW1lKSB7XG5cdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzT2JqZWN0KShvYmopKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoZ2V0T3B0aW9ucyhvYmopLmVjbWFWZXJzaW9uID4gNSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHRocm93IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgY2FsbGVkIG9uIG5vbi1vYmplY3RcIik7XG59XG5cbmZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihlbnYsIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcblx0dmFyIGtleSwgZGVzY3JpcHRvciwgcmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkocHJvcGVydHlLZXkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGtleSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGRlc2NyaXB0b3IgPSB0YXJnZXQuZ2V0T3duUHJvcGVydHkoa2V5KTtcblxuXHRcdFx0XHRpZiAoIWRlc2NyaXB0b3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblxuXHRcdFx0XHRpZiAoZGVzY3JpcHRvci5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0XHRyZXN1bHQuc2V0VmFsdWUoXCJ2YWx1ZVwiLCBkZXNjcmlwdG9yLnZhbHVlKTtcblx0XHRcdFx0XHRyZXN1bHQuc2V0VmFsdWUoXCJ3cml0YWJsZVwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVzY3JpcHRvci53cml0YWJsZSkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc3VsdC5zZXRWYWx1ZShcImdldFwiLCBkZXNjcmlwdG9yLmdldCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cdFx0XHRcdFx0cmVzdWx0LnNldFZhbHVlKFwic2V0XCIsIGRlc2NyaXB0b3Iuc2V0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdC5zZXRWYWx1ZShcImVudW1lcmFibGVcIiwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3IuZW51bWVyYWJsZSkpO1xuXHRcdFx0XHRyZXN1bHQuc2V0VmFsdWUoXCJjb25maWd1cmFibGVcIiwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG4vLyB3ZSBvbmx5IGtlZXAgYSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBnZXR0ZXIvc2V0dGVyIGZvciB1c2Ugd2l0aCBgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfb2JqZWN0SGVscGVycyA9IHJlcXVpcmUoXCIuL29iamVjdC1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJjcmVhdGVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocGFyZW50LCBkZXNjcmlwdG9ycykge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgb2JqLCBwcm9wO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShwYXJlbnQgJiYgcGFyZW50LmlzUHJpbWl0aXZlICYmIHBhcmVudC52YWx1ZSAhPT0gbnVsbCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHBhcmVudCk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdCBvciBudWxsOiBcIiArIHN0cmluZ1ZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0aWYgKCEoZGVzY3JpcHRvcnMgJiYgZGVzY3JpcHRvcnMuaXNQcmltaXRpdmUgJiYgZGVzY3JpcHRvcnMudmFsdWUgPT09IG51bGwpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IG51bGwgb3IgdW5kZWZpbmVkIHRvIG9iamVjdFwiKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0b2JqID0gZmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblxuXHRcdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRcdG9iai5zZXRQcm90b3R5cGUocGFyZW50KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIWRlc2NyaXB0b3JzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyhkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGlmICgoY29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC50MCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwcm9wID0gY29udGV4dCQyJDAudDEudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoIWRlc2NyaXB0b3JzLnByb3BlcnRpZXNbcHJvcF0uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX29iamVjdEhlbHBlcnMuZGVmaW5lUHJvcGVydHkpKGVudiwgb2JqLCBwcm9wLCBkZXNjcmlwdG9ycy5nZXRWYWx1ZShwcm9wKSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iaik7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIk9iamVjdC5jcmVhdGVcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX29iamVjdEhlbHBlcnMgPSByZXF1aXJlKFwiLi9vYmplY3QtaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZGVmaW5lUHJvcGVydGllc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChvYmosIGRlc2NyaXB0b3JzKSB7XG5cdFx0dmFyIHByb3A7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKG9iaiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiKTtcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydEFyZ0lzTm90TnVsbE9yVW5kZWZpbmVkKShkZXNjcmlwdG9ycyk7XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyhkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0aWYgKChjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnQwKCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHByb3AgPSBjb250ZXh0JDIkMC50MS52YWx1ZTtcblxuXHRcdFx0XHRcdGlmICghZGVzY3JpcHRvcnMucHJvcGVydGllc1twcm9wXS5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX29iamVjdEhlbHBlcnMuZGVmaW5lUHJvcGVydHkpKGVudiwgb2JqLCBwcm9wLCBkZXNjcmlwdG9ycy5nZXRWYWx1ZShwcm9wKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydGllc1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX29iamVjdEhlbHBlcnMgPSByZXF1aXJlKFwiLi9vYmplY3QtaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZGVmaW5lUHJvcGVydHlcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqLCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuXHRcdHZhciBrZXk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKG9iaiwgXCJPYmplY3QuZGVmaW5lUHJvcGVydHlcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkocHJvcGVydHlLZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrZXkgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX29iamVjdEhlbHBlcnMuZGVmaW5lUHJvcGVydHkpKGVudiwgb2JqLCBrZXksIGRlc2NyaXB0b3IpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iaik7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDMsIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0SGVscGVycyA9IHJlcXVpcmUoXCIuL29iamVjdC1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJmcmVlemVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGlmICgoMCwgX29iamVjdEhlbHBlcnMuY29uZmlybU9iamVjdCkob2JqLCBcIk9iamVjdC5mcmVlemVcIikpIHtcblx0XHRcdG9iai5mcmVlemUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5mcmVlemVcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX29iamVjdEhlbHBlcnMgPSByZXF1aXJlKFwiLi9vYmplY3QtaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG9iaiwga2V5KSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKG9iaiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIpO1xuXHRcdFx0XHRcdCgwLCBfb2JqZWN0SGVscGVycy5jb25maXJtT2JqZWN0KShvYmosIFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX29iamVjdEhlbHBlcnMuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKShlbnYsIG9iaiwga2V5KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KShvYmosIFwiT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcIik7XG5cblx0XHR2YXIgYXJyID0gZmFjdG9yeS5jcmVhdGVBcnJheSgpO1xuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eUtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lLCBpbmRleCkge1xuXHRcdFx0YXJyLnNldFZhbHVlKGluZGV4LCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShuYW1lKSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gYXJyO1xuXHR9LCAxLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9vYmplY3RIZWxwZXJzID0gcmVxdWlyZShcIi4vb2JqZWN0LWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImdldFByb3RvdHlwZU9mXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoISgwLCBfb2JqZWN0SGVscGVycy5jb25maXJtT2JqZWN0KShvYmosIFwiT2JqZWN0LmdldFByb3RvdHlwZU9mXCIpKSB7XG5cdFx0XHRvYmogPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIG9iaiwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0dmFyIG9ialByb3RvID0gb2JqLmdldFByb3RvdHlwZSgpO1xuXHRcdHJldHVybiBvYmpQcm90byB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLk5VTEw7XG5cdH0sIDEsIFwiT2JqZWN0LmdldFByb3RvdHlwZU9mXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImhhc093blByb3BlcnR5XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGtleSkge1xuXHRcdHZhciBrO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS5vd25zKGspKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdEhlbHBlcnMgPSByZXF1aXJlKFwiLi9vYmplY3QtaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiaXNFeHRlbnNpYmxlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoISgwLCBfb2JqZWN0SGVscGVycy5jb25maXJtT2JqZWN0KShvYmosIFwiT2JqZWN0LmlzRXh0ZW5zaWJsZVwiKSkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUob2JqLmlzRXh0ZW5zaWJsZSgpKTtcblx0fSwgMSwgXCJPYmplY3QuaXNFeHRlbnNpYmxlXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0SGVscGVycyA9IHJlcXVpcmUoXCIuL29iamVjdC1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJpc0Zyb3plblwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0aWYgKCEoMCwgX29iamVjdEhlbHBlcnMuY29uZmlybU9iamVjdCkob2JqLCBcIk9iamVjdC5pc0Zyb3plblwiKSkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpO1xuXHRcdH1cblxuXHRcdGlmIChvYmouaXNQcmltaXRpdmUpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAoIW9iai5leHRlbnNpYmxlKSB7XG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIG9iai5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGlmIChvYmoucHJvcGVydGllc1twcm9wXS53cml0YWJsZSB8fCBvYmoucHJvcGVydGllc1twcm9wXS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCFvYmouZXh0ZW5zaWJsZSk7XG5cdH0sIDEsIFwiT2JqZWN0LmlzRnJvemVuXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJpc1Byb3RvdHlwZU9mXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiT2JqZWN0LmlzUHJvdG90eXBlT2ZcIik7XG5cblx0XHR2YXIgY3VycmVudCA9IG9iajtcblx0XHR3aGlsZSAoY3VycmVudCkge1xuXHRcdFx0aWYgKHRoaXMubm9kZSA9PT0gY3VycmVudCkge1xuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdH0sIDEsIFwiT2JqZWN0LmlzUHJvdG90eXBlT2ZcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RIZWxwZXJzID0gcmVxdWlyZShcIi4vb2JqZWN0LWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImlzU2VhbGVkXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoISgwLCBfb2JqZWN0SGVscGVycy5jb25maXJtT2JqZWN0KShvYmosIFwiT2JqZWN0LmlzU2VhbGVkXCIpKSB7XG5cdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFvYmouZXh0ZW5zaWJsZSkge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiBvYmoucHJvcGVydGllcykge1xuXHRcdFx0XHRpZiAob2JqLnByb3BlcnRpZXNbcHJvcF0uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSghb2JqLmV4dGVuc2libGUpO1xuXHR9LCAxLCBcIk9iamVjdC5pc1NlYWxlZFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwia2V5c1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkob2JqKTtcblxuXHRcdHZhciBhcnIgPSBmYWN0b3J5LmNyZWF0ZUFycmF5KCk7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eUtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHZhciBwcm9wSW5mbyA9IG9iai5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRpZiAocHJvcEluZm8gJiYgcHJvcEluZm8uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdGFyci5zZXRWYWx1ZShpbmRleCsrLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGFycjtcblx0fSwgMSwgXCJPYmplY3Qua2V5c1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdEhlbHBlcnMgPSByZXF1aXJlKFwiLi9vYmplY3QtaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwicHJldmVudEV4dGVuc2lvbnNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGlmICgoMCwgX29iamVjdEhlbHBlcnMuY29uZmlybU9iamVjdCkob2JqLCBcIk9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc1wiKSkge1xuXHRcdFx0b2JqLnByZXZlbnRFeHRlbnNpb25zKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSwgMSwgXCJPYmplY3QucHJldmVudEV4dGVuc2lvbnNcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwicHJvcGVydHlJc0VudW1lcmFibGVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoa2V5KSB7XG5cdFx0dmFyIGssIGRlc2NyaXB0b3I7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQpKHRoaXMubm9kZSwgXCJPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGVcIik7XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRkZXNjcmlwdG9yID0gdGhpcy5ub2RlLmdldE93blByb3BlcnR5KGspO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoISEoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGUpKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0SGVscGVycyA9IHJlcXVpcmUoXCIuL29iamVjdC1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJzZWFsXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRpZiAoKDAsIF9vYmplY3RIZWxwZXJzLmNvbmZpcm1PYmplY3QpKG9iaiwgXCJPYmplY3Quc2VhbFwiKSkge1xuXHRcdFx0b2JqLnNlYWwoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5zZWFsXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgdG9TdHJpbmdGdW5jID0gZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjbGFzc05hbWUgPSB0aGlzLm5vZGUgPyB0aGlzLm5vZGUuY2xhc3NOYW1lIDogXCJVbmRlZmluZWRcIjtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJbb2JqZWN0IFwiICsgY2xhc3NOYW1lICsgXCJdXCIpO1xuXHR9LCAwLCBcIk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcIik7XG5cblx0Ly8gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyA9PT0gT2JqZWN0LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZ1xuXHQkdGFyZ2V0LmRlZmluZShcInRvU3RyaW5nXCIsIHRvU3RyaW5nRnVuYyk7XG5cdCR0YXJnZXQuZGVmaW5lKFwidG9Mb2NhbGVTdHJpbmdcIiwgdG9TdHJpbmdGdW5jKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJ2YWx1ZU9mXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUsIHRydWUpO1xuXHR9LCAwLCBcIk9iamVjdC5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3JlZ2V4RXhlYyA9IHJlcXVpcmUoXCIuL3JlZ2V4LmV4ZWNcIik7XG5cbnZhciBfcmVnZXhFeGVjMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2V4RXhlYyk7XG5cbnZhciBfcmVnZXhUZXN0ID0gcmVxdWlyZShcIi4vcmVnZXgudGVzdFwiKTtcblxudmFyIF9yZWdleFRlc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZXhUZXN0KTtcblxudmFyIF9yZWdleFRvU3RyaW5nID0gcmVxdWlyZShcIi4vcmVnZXgudG8tc3RyaW5nXCIpO1xuXG52YXIgX3JlZ2V4VG9TdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZXhUb1N0cmluZyk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgcHJvdG8gPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRwcm90by5jbGFzc05hbWUgPSBcIlJlZ0V4cFwiO1xuXG5cdHZhciByZWdleENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChwYXR0ZXJuLCBmbGFncykge1xuXHRcdHZhciBwYXR0ZXJuU3RyaW5nO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShwYXR0ZXJuICYmIHBhdHRlcm4uY2xhc3NOYW1lID09PSBcIlJlZ0V4cFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNVbmRlZmluZWQpKGZsYWdzKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHBhdHRlcm4pO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3Qgc3VwcGx5IGZsYWdzIHdoZW4gY29uc3RydWN0aW5nIG9uZSBSZWdFeHAgZnJvbSBhbm90aGVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNVbmRlZmluZWQpKHBhdHRlcm4pKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gXCJcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykocGF0dGVybik7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRwYXR0ZXJuU3RyaW5nID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNVbmRlZmluZWQpKGZsYWdzKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBcIlwiO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZmxhZ3MpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0ZmxhZ3MgPSBjb250ZXh0JDIkMC50MTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiUmVnRXhwXCIsIG5ldyBSZWdFeHAocGF0dGVyblN0cmluZywgZmxhZ3MpKSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBwcm90bywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdCgwLCBfcmVnZXhFeGVjMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX3JlZ2V4VGVzdDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9yZWdleFRvU3RyaW5nMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXG5cdHByb3RvLmRlZmluZShcImNvbXBpbGVcIiwgKDAsIF91dGlsc05hdGl2ZS50b05hdGl2ZUZ1bmN0aW9uKShlbnYsIFJlZ0V4cC5wcm90b3R5cGUuY29tcGlsZSwgXCJSZWdFeHAucHJvdG90eXBlLmNvbXBpbGVcIikpO1xuXHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShcImxhc3RJbmRleFwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0W1wiZ2xvYmFsXCIsIFwiaWdub3JlQ2FzZVwiLCBcIm11bHRpbGluZVwiLCBcInNvdXJjZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkobmFtZSwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoUmVnRXhwLnByb3RvdHlwZVtuYW1lXSkgfSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJSZWdFeHBcIiwgcmVnZXhDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHRcdCR0YXJnZXQuZGVmaW5lKFwiZXhlY1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdHIpIHtcblx0XHRcdFx0dmFyIHN0cmluZ1ZhbHVlLCBtYXRjaCwgYXJyLCBpLCBsbjtcblx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoc3RyKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnQzMikodGhpcy5ub2RlLmdldFZhbHVlKFwibGFzdEluZGV4XCIpKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNvdXJjZS5sYXN0SW5kZXggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtYXRjaCA9IHRoaXMubm9kZS5zb3VyY2UuZXhlYyhzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gdXBkYXRlIHRoZSBsYXN0IGluZGV4IGZyb20gdGhlIHVuZGVybHlpbmcgcmVnZXhcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKFwibGFzdEluZGV4XCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS5zb3VyY2UubGFzdEluZGV4KSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhcnIgPSBmYWN0b3J5LmNyZWF0ZUFycmF5KCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yIChpID0gMCwgbG4gPSBtYXRjaC5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoaSwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2hbaV0pKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGV4dHJhIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIHRoZSBhcnJheVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoXCJpbmRleFwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShtYXRjaC5pbmRleCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoXCJpbnB1dFwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShtYXRjaC5pbnB1dCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0fSksIDEsIFwiUmVnRXhwLnByb3RvdHlwZS5leGVjXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHVwZGF0ZSB1bmRlcmx5aW5nIHJlZ2V4IGluIGNhc2UgdGhlIGluZGV4IHdhcyBtYW51YWxseSB1cGRhdGVkXG5cbi8vIGdldCBtYXRjaCBmcm9tIHVuZGVybHlpbmcgcmVnZXgiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJ0ZXN0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0cikge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgdGVzdFZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoc3RyKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50MzIpKHRoaXMubm9kZS5nZXRWYWx1ZShcImxhc3RJbmRleFwiKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHRoaXMubm9kZS5zb3VyY2UubGFzdEluZGV4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR0ZXN0VmFsdWUgPSB0aGlzLm5vZGUuc291cmNlLnRlc3Qoc3RyaW5nVmFsdWUpO1xuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnNldFZhbHVlKFwibGFzdEluZGV4XCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS5zb3VyY2UubGFzdEluZGV4KSk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRlc3RWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlJlZ0V4cC5wcm90b3R5cGUudGVzdFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFN0cmluZyh0aGlzLm5vZGUuc291cmNlKSk7XG5cdH0sIDAsIFwiUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIF9zdHJpbmdGcm9tQ2hhckNvZGUgPSByZXF1aXJlKFwiLi9zdHJpbmcuZnJvbS1jaGFyLWNvZGVcIik7XG5cbnZhciBfc3RyaW5nRnJvbUNoYXJDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ0Zyb21DaGFyQ29kZSk7XG5cbnZhciBfc3RyaW5nQ29uY2F0ID0gcmVxdWlyZShcIi4vc3RyaW5nLmNvbmNhdFwiKTtcblxudmFyIF9zdHJpbmdDb25jYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nQ29uY2F0KTtcblxudmFyIF9zdHJpbmdNYXRjaCA9IHJlcXVpcmUoXCIuL3N0cmluZy5tYXRjaFwiKTtcblxudmFyIF9zdHJpbmdNYXRjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdNYXRjaCk7XG5cbnZhciBfc3RyaW5nUmVwbGFjZSA9IHJlcXVpcmUoXCIuL3N0cmluZy5yZXBsYWNlXCIpO1xuXG52YXIgX3N0cmluZ1JlcGxhY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nUmVwbGFjZSk7XG5cbnZhciBfc3RyaW5nU2VhcmNoID0gcmVxdWlyZShcIi4vc3RyaW5nLnNlYXJjaFwiKTtcblxudmFyIF9zdHJpbmdTZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nU2VhcmNoKTtcblxudmFyIF9zdHJpbmdTbGljZSA9IHJlcXVpcmUoXCIuL3N0cmluZy5zbGljZVwiKTtcblxudmFyIF9zdHJpbmdTbGljZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdTbGljZSk7XG5cbnZhciBfc3RyaW5nU3BsaXQgPSByZXF1aXJlKFwiLi9zdHJpbmcuc3BsaXRcIik7XG5cbnZhciBfc3RyaW5nU3BsaXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nU3BsaXQpO1xuXG52YXIgX3N0cmluZ1N1YnN0cmluZyA9IHJlcXVpcmUoXCIuL3N0cmluZy5zdWJzdHJpbmdcIik7XG5cbnZhciBfc3RyaW5nU3Vic3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ1N1YnN0cmluZyk7XG5cbnZhciBfc3RyaW5nVG9TdHJpbmcgPSByZXF1aXJlKFwiLi9zdHJpbmcudG8tc3RyaW5nXCIpO1xuXG52YXIgX3N0cmluZ1RvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ1RvU3RyaW5nKTtcblxudmFyIF9zdHJpbmdUcmltID0gcmVxdWlyZShcIi4vc3RyaW5nLnRyaW1cIik7XG5cbnZhciBfc3RyaW5nVHJpbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdUcmltKTtcblxudmFyIF9zdHJpbmdWYWx1ZU9mID0gcmVxdWlyZShcIi4vc3RyaW5nLnZhbHVlLW9mXCIpO1xuXG52YXIgX3N0cmluZ1ZhbHVlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nVmFsdWVPZik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgbWFya2VkMSQwID0gW2dldFN0cmluZ10ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdGZ1bmN0aW9uIGdldFN0cmluZyh2YWx1ZSwgaXNOZXcpIHtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFN0cmluZyQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBcIlwiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aWYgKCEoIWlzTmV3ICYmIHZhbHVlLmlzU3ltYm9sKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIFwiU3ltYm9sKFwiICsgdmFsdWUuZGVzY3JpcHRpb24gKyBcIilcIik7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZS5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFswXSwgdGhpcyk7XG5cdH1cblxuXHR2YXIgcHJvdG8gPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdC8vIHByb3RvdHlwZSBjYW4gYmUgY29lcmNlZCBpbnRvIGFuIGVtcHR5IHN0cmluZ1xuXHRwcm90by52YWx1ZSA9IFwiXCI7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiU3RyaW5nXCI7XG5cdHByb3RvLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDApIH0pO1xuXG5cdHZhciBzdHJpbmdDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiBnZXRTdHJpbmcodmFsdWUsIHRoaXMuaXNOZXcpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCAoMCwgX3V0aWxzTmF0aXZlLnByaW1pdGl2ZVRvT2JqZWN0KShlbnYsIHN0cmluZ1ZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgcHJvdG8sIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHQoMCwgX3N0cmluZ0Zyb21DaGFyQ29kZTJbXCJkZWZhdWx0XCJdKShzdHJpbmdDbGFzcywgZW52LCBvYmplY3RGYWN0b3J5KTtcblxuXHQoMCwgX3N0cmluZ0NvbmNhdDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdNYXRjaDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdSZXBsYWNlMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX3N0cmluZ1NlYXJjaDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdTbGljZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdTcGxpdDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdTdWJzdHJpbmcyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfc3RyaW5nVG9TdHJpbmcyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfc3RyaW5nVHJpbTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdWYWx1ZU9mMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXG5cdFtcImNoYXJBdFwiLCBcImNoYXJDb2RlQXRcIiwgXCJpbmRleE9mXCIsIFwibGFzdEluZGV4T2ZcIiwgXCJsb2NhbGVDb21wYXJlXCIsIFwic3Vic3RyXCIsIFwidG9Mb2NhbGVMb3dlckNhc2VcIiwgXCJ0b0xvY2FsZVVwcGVyQ2FzZVwiLCBcInRvTG93ZXJDYXNlXCIsIFwidG9VcHBlckNhc2VcIl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdHByb3RvLmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdHZhciBzdHJpbmdWYWx1ZSxcblx0XHRcdCAgICBhcmdzLFxuXHRcdFx0ICAgIGFyZ3MkMyQwID0gYXJndW1lbnRzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDMkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSksIFwidDBcIiwgNCk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQzJDAudDA7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFN0cmluZy5wcm90b3R5cGVbbmFtZV0uYXBwbHkoc3RyaW5nVmFsdWUsIGFyZ3MpKSk7XG5cblx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIFN0cmluZy5wcm90b3R5cGVbbmFtZV0ubGVuZ3RoLCBcIlN0cmluZy5wcm90b3R5cGUuXCIgKyBuYW1lKSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJTdHJpbmdcIiwgc3RyaW5nQ2xhc3MpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gY2FsbGVkIGFzIG5ldyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImNvbmNhdFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0YXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgc3RyaW5nVmFsdWUsIHZhbHVlcztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUuY29uY2F0XCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR2YWx1ZXMgPSBbc3RyaW5nVmFsdWVdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gdmFsdWVzO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMChhcmcpIHtcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR2YWx1ZXMgPSBjb250ZXh0JDIkMC50MC5jb25jYXQuY2FsbChjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWVzLmpvaW4oXCJcIikpKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5jb25jYXRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImZyb21DaGFyQ29kZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2hhckNvZGVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRjaGFyQ29kZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIGFyZ3M7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5tYXApKGNoYXJDb2RlcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGFyZ3MpKSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLmZyb21DaGFyQ29kZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJtYXRjaFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChyZWdleCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgYWN0dWFsUmVnZXgsIG1hdGNoLCBfcmV0O1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YWN0dWFsUmVnZXggPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShyZWdleCAmJiByZWdleC5jbGFzc05hbWUgPT09IFwiUmVnRXhwXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFjdHVhbFJlZ2V4ID0gcmVnZXguc291cmNlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0aWYgKCFyZWdleCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBSZWdFeHA7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShyZWdleCk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YWN0dWFsUmVnZXggPSBuZXcgY29udGV4dCQyJDAudDAoY29udGV4dCQyJDAudDEpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0bWF0Y2ggPSBzdHJpbmdWYWx1ZS5tYXRjaChhY3R1YWxSZWdleCk7XG5cblx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfcmV0ID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciBtYXRjaGVzID0gZmFjdG9yeS5jcmVhdGVBcnJheSgpO1xuXG5cdFx0XHRcdFx0XHRtYXRjaC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlcy5zZXRWYWx1ZShpbmRleCwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUpKTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVzLnNldFZhbHVlKFwiaW5kZXhcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2guaW5kZXgpKTtcblx0XHRcdFx0XHRcdG1hdGNoZXMuc2V0VmFsdWUoXCJpbnB1dFwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShtYXRjaC5pbnB1dCkpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0djogbWF0Y2hlc1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9KSgpO1xuXG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIF9yZXQgPT09IFwib2JqZWN0XCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF9yZXQudik7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCk7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUubWF0Y2hcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHRmdW5jdGlvbiBnZXRNZXRob2Qob2JqLCBrZXkpIHtcblx0XHR2YXIgcHJvcEluZm8gPSBvYmouZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRpZiAoIXByb3BJbmZvKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHR2YXIgbWV0aG9kID0gcHJvcEluZm8uZ2V0VmFsdWUoKTtcblx0XHRpZiAobWV0aG9kLnR5cGUgIT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0dGhyb3cgVHlwZUVycm9yKGtleSArIFwiIGlzIG5vdCBhIG1ldGhvZFwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWV0aG9kO1xuXHR9XG5cblx0JHRhcmdldC5kZWZpbmUoXCJyZXBsYWNlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHJlZ2V4T3JTdWJzdHIsIHN1YnN0ck9yRm4pIHtcblx0XHR2YXIgcmVwbGFjZUtleSwgcmVwbGFjZU1ldGhvZCwgc3RyaW5nVmFsdWUsIG1hdGNoZXIsIHJlcGxhY2VyO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlXCIpO1xuXG5cdFx0XHRcdFx0cmVwbGFjZUtleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcInJlcGxhY2VcIik7XG5cblx0XHRcdFx0XHRpZiAoIShyZXBsYWNlS2V5ICYmICEoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKShyZWdleE9yU3Vic3RyKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmVwbGFjZU1ldGhvZCA9IGdldE1ldGhvZChyZWdleE9yU3Vic3RyLCByZXBsYWNlS2V5KTtcblxuXHRcdFx0XHRcdGlmICghcmVwbGFjZU1ldGhvZCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gcmVwbGFjZU1ldGhvZC5jYWxsKHJlZ2V4T3JTdWJzdHIsIFt0aGlzLm5vZGUsIHN1YnN0ck9yRm5dKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdG1hdGNoZXIgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShyZWdleE9yU3Vic3RyICYmIHJlZ2V4T3JTdWJzdHIuY2xhc3NOYW1lID09PSBcIlJlZ0V4cFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bWF0Y2hlciA9IHJlZ2V4T3JTdWJzdHIuc291cmNlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykocmVnZXhPclN1YnN0cik7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRtYXRjaGVyID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdHJlcGxhY2VyID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEoc3Vic3RyT3JGbiAmJiBzdWJzdHJPckZuLnR5cGUgPT09IFwiZnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlcGxhY2VyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0dmFyIHRoaXNBcmcgPSBzdWJzdHJPckZuLmlzU3RyaWN0KCkgfHwgc3Vic3RyT3JGbi5pc1N0cmljdCgpID8gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBlbnYuZ2xvYmFsO1xuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0XHRcdFx0XHRhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YXIgbWFwcGVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHZhciByZXBsYWNlZFZhbHVlID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHN1YnN0ck9yRm4uY2FsbCh0aGlzQXJnLCBtYXBwZWRBcmdzKSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVwbGFjZWRWYWx1ZSA/ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShyZXBsYWNlZFZhbHVlKSkgOiB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHN1YnN0ck9yRm4pO1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0cmVwbGFjZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5yZXBsYWNlKG1hdGNoZXIsIHJlcGxhY2VyKSkpO1xuXG5cdFx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJzZWFyY2hcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocmVnZXgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHVuZGVybHlpbmdSZWdleDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR1bmRlcmx5aW5nUmVnZXggPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIXJlZ2V4KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIShyZWdleC5jbGFzc05hbWUgPT09IFwiUmVnRXhwXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHVuZGVybHlpbmdSZWdleCA9IHJlZ2V4LnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gUmVnRXhwO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykocmVnZXgpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHVuZGVybHlpbmdSZWdleCA9IG5ldyBjb250ZXh0JDIkMC50MChjb250ZXh0JDIkMC50MSk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlLnNlYXJjaCh1bmRlcmx5aW5nUmVnZXgpKSk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUuc2VhcmNoXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNsaWNlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0YXJ0LCBlbmQpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRzdGFydFZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRlbmRWYWx1ZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKShlbmQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0ZW5kVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5zbGljZShzdGFydFZhbHVlLCBlbmRWYWx1ZSkpKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5zbGljZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJzcGxpdFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzZXBhcmF0b3IsIGxpbWl0KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBsaW1pdFZhbHVlLCBhcnIsIHNlcGFyYXRvclZhbHVlLCByZXN1bHQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRzZXBhcmF0b3IgPSBzZXBhcmF0b3IgJiYgc2VwYXJhdG9yLmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0bGltaXQgPSBsaW1pdCAmJiBsaW1pdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShsaW1pdCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9VSW50MzIpKGxpbWl0KTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGxpbWl0VmFsdWUgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRhcnIgPSBmYWN0b3J5LmNyZWF0ZUFycmF5KCk7XG5cblx0XHRcdFx0XHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNVbmRlZmluZWQpKHNlcGFyYXRvcikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyci5zZXRWYWx1ZSgwLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZSkpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHNlcGFyYXRvclZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCEoc2VwYXJhdG9yLmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHNlcGFyYXRvclZhbHVlID0gc2VwYXJhdG9yLnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHNlcGFyYXRvcik7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0XHRzZXBhcmF0b3JWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRyZXN1bHQgPSBzdHJpbmdWYWx1ZS5zcGxpdChzZXBhcmF0b3JWYWx1ZSwgbGltaXRWYWx1ZSk7XG5cblx0XHRcdFx0XHRyZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoaW5kZXgsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlKSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Y2FzZSAyODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlN0cmluZy5wcm90b3R5cGUuc3BsaXRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwic3Vic3RyaW5nXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0YXJ0LCBlbmQpIHtcblx0XHR2YXIgdmFsdWUsIGxlbmd0aDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShzdGFydCk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCkoZW5kKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBsZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW5kKTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdGVuZCA9IGNvbnRleHQkMiQwLnQwO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpKSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlN0cmluZy5wcm90b3R5cGUuc3Vic3RyaW5nXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWMpKHRoaXMubm9kZSwgXCJTdHJpbmdcIiwgXCJTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nXCIpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUudG9OYXRpdmUoKSk7XG5cdH0sIDAsIFwiU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJ0cmltXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUudHJpbVwiKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS50cmltKCkpKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJTdHJpbmcucHJvdG90eXBlLnRyaW1cIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInZhbHVlT2ZcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKSh0aGlzLm5vZGUsIFwiU3RyaW5nXCIsIFwiU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mXCIpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUudmFsdWUpO1xuXHR9LCAwLCBcIlN0cmluZy5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubm9ybWFsaXplSW5kZXggPSBub3JtYWxpemVJbmRleDtcbmV4cG9ydHMuZXhlY3V0ZUNhbGxiYWNrID0gZXhlY3V0ZUNhbGxiYWNrO1xudmFyIG1hcmtlZDAkMCA9IFtleGVjdXRlQ2FsbGJhY2tdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplSW5kZXgoaW5kZXgsIGxlbmd0aCkge1xuXHRpZiAoaW5kZXggPCAwKSB7XG5cdFx0cmV0dXJuIE1hdGgubWF4KGxlbmd0aCArIGluZGV4LCAwKTtcblx0fVxuXG5cdHJldHVybiBNYXRoLm1pbihpbmRleCwgbGVuZ3RoKTtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrKGVudiwgY2FsbGJhY2ssIGVudHJ5LCB0aGlzQXJnLCBhcnIpIHtcblx0dmFyIHNjb3BlLCBhcmdzO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIXRoaXNBcmcpIHtcblx0XHRcdFx0XHR0aGlzQXJnID0gY2FsbGJhY2suaXNTdHJpY3QoKSA/IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEIDogZW52Lmdsb2JhbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZUV4ZWN1dGlvblNjb3BlKGNhbGxiYWNrLCB0aGlzQXJnKTtcblxuXHRcdFx0XHRzY29wZS5pbml0KGNhbGxiYWNrLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0YXJncyA9IFtlbnRyeS52YWx1ZSwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVudHJ5LmtleSksIGFycl07XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBhcmdzKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG4vLyB5aWVsZCBzY29wZS5sb2FkQXJncyhjYWxsYmFjay5ub2RlLnBhcmFtcywgYXJncywgY2FsbGJhY2spO1xuXG4vLyByZXR1cm4geWllbGQgc2NvcGUudXNlKGZ1bmN0aW9uKiAoKSB7XG4vLyBcdGxldCBleGVjdXRpb25SZXN1bHQgPSB5aWVsZCBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChjYWxsYmFjay5ub2RlLmJvZHksIGNhbGxiYWNrLm5vZGUpLmV4ZWN1dGUoKTtcbi8vIFx0aWYgKGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQuZXhpdCkge1xuLy8gXHRcdHJldHVybiBleGVjdXRpb25SZXN1bHQucmVzdWx0IHx8IFVOREVGSU5FRDtcbi8vIFx0fVxuXG4vLyBcdHJldHVybiBVTkRFRklORUQ7XG4vLyB9KTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9hcnJheUhlbHBlcnMgPSByZXF1aXJlKFwiLi9hcnJheS1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJjb3B5V2l0aGluXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgc3RhcnQsIGVuZCkge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgdG8sIGZyb20sIGZpbmFsLCBjb3VudCwgZGlyO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGFycik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKSh0YXJnZXQpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBsZW5ndGg7XG5cdFx0XHRcdFx0dG8gPSAoMCwgX2FycmF5SGVscGVycy5ub3JtYWxpemVJbmRleCkoY29udGV4dCQyJDAudDAsIGNvbnRleHQkMiQwLnQxKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShzdGFydCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MiA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDMgPSBsZW5ndGg7XG5cdFx0XHRcdFx0ZnJvbSA9ICgwLCBfYXJyYXlIZWxwZXJzLm5vcm1hbGl6ZUluZGV4KShjb250ZXh0JDIkMC50MiwgY29udGV4dCQyJDAudDMpO1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShlbmQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50NCA9IGxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ2ID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ0ID0gKDAsIF9hcnJheUhlbHBlcnMubm9ybWFsaXplSW5kZXgpKGNvbnRleHQkMiQwLnQ1LCBjb250ZXh0JDIkMC50Nik7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRmaW5hbCA9IGNvbnRleHQkMiQwLnQ0O1xuXHRcdFx0XHRcdGNvdW50ID0gTWF0aC5taW4oZmluYWwgLSBmcm9tLCBsZW5ndGggLSB0byk7XG5cdFx0XHRcdFx0ZGlyID0gMTtcblxuXHRcdFx0XHRcdGlmIChmcm9tIDwgdG8gJiYgdG8gPCBmcm9tICsgY291bnQpIHtcblx0XHRcdFx0XHRcdGRpciA9IC0xO1xuXHRcdFx0XHRcdFx0ZnJvbSA9IGZyb20gKyBjb3VudCAtIDE7XG5cdFx0XHRcdFx0XHR0byA9IHRvICsgY291bnQgLSAxO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHdoaWxlIChjb3VudCA+IDApIHtcblx0XHRcdFx0XHRcdGlmIChhcnIuaGFzKGZyb20pKSB7XG5cdFx0XHRcdFx0XHRcdGFyci5zZXRWYWx1ZSh0bywgYXJyLmdldFZhbHVlKGZyb20pKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGFyci5kZWxldGVQcm9wZXJ0eSh0bywgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZyb20gKz0gZGlyO1xuXHRcdFx0XHRcdFx0dG8gKz0gZGlyO1xuXHRcdFx0XHRcdFx0Y291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZmlsbFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgaywgZmluYWw7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghc3RhcnQpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSAwO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0ayA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShlbmQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0ZmluYWwgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRcdGsgPSAoMCwgX2FycmF5SGVscGVycy5ub3JtYWxpemVJbmRleCkoaywgbGVuZ3RoKTtcblx0XHRcdFx0XHRmaW5hbCA9ICgwLCBfYXJyYXlIZWxwZXJzLm5vcm1hbGl6ZUluZGV4KShmaW5hbCwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdHdoaWxlIChrIDwgZmluYWwpIHtcblx0XHRcdFx0XHRcdGFyci5zZXRWYWx1ZShrKyssIHZhbHVlKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5maWxsXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImZpbmRJbmRleFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcblx0XHR2YXIgbGVuZ3RoLCBpLCBwcm9wSW5mbywgdmFsdWUsIHBhc3NlZDtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIkFycmF5LnByb3RvdHlwZS5maW5kSW5kZXhcIik7XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbikocHJlZGljYXRlLCBcInByZWRpY2F0ZVwiKTtcblxuXHRcdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRpZiAoIShpIDwgbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcEluZm8gPSB0aGlzLm5vZGUuZ2V0UHJvcGVydHkoaSk7XG5cdFx0XHRcdFx0dmFsdWUgPSBwcm9wSW5mbyA/IHByb3BJbmZvLmdldFZhbHVlKCkgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfYXJyYXlIZWxwZXJzLmV4ZWN1dGVDYWxsYmFjaykoZW52LCBwcmVkaWNhdGUsIHsga2V5OiBpLCB2YWx1ZTogdmFsdWUgfSwgdGhpc0FyZywgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKCFwYXNzZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaSkpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cblx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKC0xKSk7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5maW5kSW5kZXhcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfYXJyYXlIZWxwZXJzID0gcmVxdWlyZShcIi4vYXJyYXktaGVscGVyc1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZmluZFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcblx0XHR2YXIgYXJyLCBsZW5ndGgsIGksIHByb3BJbmZvLCB2YWx1ZSwgcGFzc2VkO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGFycik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKHByZWRpY2F0ZSwgXCJwcmVkaWNhdGVcIik7XG5cblx0XHRcdFx0XHQvLyBmb3Igc29tZSByZWFzb24gdGhlIHNwZWMgZm9yIHRoZSBmaW5kIG1ldGhvZHMgY2FsbHMgZW1wdHkgYXJyYXkgc2xvdHNcblx0XHRcdFx0XHQvLyBob3cgdGhhdCBpcyB1c2VmdWwsIGJlYXRzIG1lXG5cdFx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGlmICghKGkgPCBsZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwcm9wSW5mbyA9IGFyci5nZXRQcm9wZXJ0eShpKTtcblx0XHRcdFx0XHR2YWx1ZSA9IHByb3BJbmZvID8gcHJvcEluZm8uZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9hcnJheUhlbHBlcnMuZXhlY3V0ZUNhbGxiYWNrKShlbnYsIHByZWRpY2F0ZSwgeyBrZXk6IGksIHZhbHVlOiB2YWx1ZSB9LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRpZiAoIXBhc3NlZCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuZmluZFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uL2l0ZXJhdG9ycy9cIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWFya2VkMSQwID0gW2NyZWF0ZUFycmF5XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHR2YXIgaXRlcmF0b3JLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJpdGVyYXRvclwiKTtcblxuXHRmdW5jdGlvbiBjcmVhdGVBcnJheShjdG9yLCBzb3VyY2UpIHtcblx0XHR2YXIgYXJncywgaGFzSXRlcmF0b3IsIF9sZW5ndGg7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNyZWF0ZUFycmF5JChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghKGN0b3IgPT09ICR0YXJnZXQgfHwgISgwLCBfdXRpbHNDb250cmFjdHMuaXNDb25zdHJ1Y3RvcikoY3RvcikpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVBcnJheSgpKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0YXJncyA9IFtdO1xuXHRcdFx0XHRcdGhhc0l0ZXJhdG9yID0gc291cmNlLmhhcyhpdGVyYXRvcktleSk7XG5cblx0XHRcdFx0XHRpZiAoaGFzSXRlcmF0b3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHNvdXJjZSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdF9sZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0YXJncy5wdXNoKGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKF9sZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdHJldHVybiBjdG9yLmNvbnN0cnVjdChjdG9yLCBhcmdzKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzBdLCB0aGlzKTtcblx0fVxuXG5cdCR0YXJnZXQuZGVmaW5lKFwiZnJvbVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChpdGVtcywgbWFwRm4sIHRoaXNBcmcpIHtcblx0XHR2YXIgbWFwcGVyLCBhcnIsIGl0LCBsZW5ndGgsIGRvbmUsIGN1cnJlbnQsIF9pdCRuZXh0LCB2YWx1ZTtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHR0aGlzQXJnID0gdGhpc0FyZyB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRcdG1hcHBlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShtYXBGbikpIHtcblx0XHRcdFx0XHRcdG1hcHBlciA9IGZ1bmN0aW9uICh2KSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2O1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKShtYXBGbiwgXCJtYXBGblwiKTtcblx0XHRcdFx0XHRcdG1hcHBlciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKHYsIGkpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gbWFwRm4uY2FsbCh0aGlzQXJnLCBbdiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaSldKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiBjcmVhdGVBcnJheSh0aGlzLm5vZGUsIGl0ZW1zKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0YXJyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpdCA9IF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5nZXRJdGVyYXRvcihpdGVtcyk7XG5cdFx0XHRcdFx0bGVuZ3RoID0gMDtcblx0XHRcdFx0XHRkb25lID0gZmFsc2U7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTA7XG5cdFx0XHRcdFx0Y3VycmVudCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRfaXQkbmV4dCA9IGl0Lm5leHQoKTtcblx0XHRcdFx0XHRkb25lID0gX2l0JG5leHQuZG9uZTtcblx0XHRcdFx0XHRjdXJyZW50ID0gX2l0JG5leHQudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIxO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdHJldHVybiBtYXBwZXIoY3VycmVudC52YWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgY3VycmVudC5rZXkpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0YXJyLnNldFZhbHVlKGN1cnJlbnQua2V5LCB2YWx1ZSk7XG5cdFx0XHRcdFx0bGVuZ3RoID0gY3VycmVudC5rZXkgKyAxO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDIzO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxMCk7XG5cblx0XHRcdFx0XHRpZiAoXCJyZXR1cm5cIiBpbiBpdCkge1xuXHRcdFx0XHRcdFx0aXRbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cblx0XHRcdFx0XHRhcnIuc2V0VmFsdWUoXCJsZW5ndGhcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTAsIDIzXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5mcm9tXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWFya2VkMSQwID0gW2dldEl0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHR2YXIgaXRlcmF0b3JQcm90byA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdGl0ZXJhdG9yUHJvdG8uY2xhc3NOYW1lID0gXCJBcnJheSBJdGVyYXRvclwiO1xuXG5cdGl0ZXJhdG9yUHJvdG8uZGVmaW5lKFwibmV4dFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHRoaXMubm9kZS5hZHZhbmNlKCk7XG5cdFx0aWYgKHJlc3VsdC52YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdC52YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvclJlc3VsdCh7IGRvbmU6IHJlc3VsdC5kb25lIH0pO1xuXHR9LCAwLCBcIkFycmF5SXRlcmF0b3IucHJvdG90eXBlLm5leHRcIikpO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yVmFsdWUoYXJyLCBpbmRleCwga2luZCkge1xuXHRcdHZhciBrZXkgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKGtpbmQgIT09IFwidmFsdWVcIikge1xuXHRcdFx0a2V5ID0gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaW5kZXgpO1xuXHRcdFx0aWYgKGtpbmQgPT09IFwia2V5XCIpIHtcblx0XHRcdFx0cmV0dXJuIGtleTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgcHJvcEluZm8gPSBhcnIuZ2V0UHJvcGVydHkoaW5kZXgpO1xuXHRcdHZhciB2YWx1ZSA9IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHR2YWx1ZSA9IHByb3BJbmZvLmdldFZhbHVlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKGtpbmQgPT09IFwidmFsdWVcIikge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUFycmF5KFtrZXksIHZhbHVlXSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRJdGVyYXRvcihhcnIsIGtpbmQpIHtcblx0XHR2YXIgZG9uZSwgaW5kZXgsIF9sZW5ndGgsIHZhbHVlO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRJdGVyYXRvciQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRkb25lID0gZmFsc2U7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2xlbmd0aCA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShhcnIpKTtcblx0XHRcdFx0XHR2YWx1ZSA9IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdFx0aWYgKGluZGV4ID49IF9sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGRvbmUgPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGNyZWF0ZUl0ZXJhdG9yVmFsdWUoYXJyLCBpbmRleCwga2luZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3JSZXN1bHQoeyB2YWx1ZTogdmFsdWUsIGRvbmU6IGRvbmUgfSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzBdLCB0aGlzKTtcblx0fVxuXG5cdCR0YXJnZXQuZGVmaW5lKFwia2V5c1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlLCB0cnVlKTtcblx0XHR2YXIgaXQgPSBnZXRJdGVyYXRvcihhcnIsIFwia2V5XCIpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKGl0LCBpdGVyYXRvclByb3RvKTtcblx0fSwgMCwgXCJBcnJheS5wcm90b3R5cGUua2V5c1wiKSk7XG5cblx0JHRhcmdldC5kZWZpbmUoXCJlbnRyaWVzXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgYXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUsIHRydWUpO1xuXHRcdHZhciBpdCA9IGdldEl0ZXJhdG9yKGFycik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3IoaXQsIGl0ZXJhdG9yUHJvdG8pO1xuXHR9LCAwLCBcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIpKTtcblxuXHR2YXIgc3RyaW5nVGFnS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwidG9TdHJpbmdUYWdcIik7XG5cdGl0ZXJhdG9yUHJvdG8uZGVmaW5lKHN0cmluZ1RhZ0tleSwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJBcnJheSBJdGVyYXRvclwiKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0dmFyIGl0ZXJhdG9yRnVuYyA9IGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgYXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUsIHRydWUpO1xuXHRcdHZhciBpdCA9IGdldEl0ZXJhdG9yKGFyciwgXCJ2YWx1ZVwiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvcihpdCwgaXRlcmF0b3JQcm90byk7XG5cdH0sIDAsIFwiQXJyYXkucHJvdG90eXBlLnZhbHVlc1wiKTtcblxuXHQkdGFyZ2V0LmRlZmluZShcInZhbHVlc1wiLCBpdGVyYXRvckZ1bmMpO1xuXG5cdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXHQkdGFyZ2V0LmRlZmluZShpdGVyYXRvcktleSwgaXRlcmF0b3JGdW5jKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfYXJyYXlDb3B5V2l0aGluID0gcmVxdWlyZShcIi4vYXJyYXkuY29weS13aXRoaW5cIik7XG5cbnZhciBfYXJyYXlDb3B5V2l0aGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5Q29weVdpdGhpbik7XG5cbnZhciBfYXJyYXlGaWxsID0gcmVxdWlyZShcIi4vYXJyYXkuZmlsbFwiKTtcblxudmFyIF9hcnJheUZpbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlGaWxsKTtcblxudmFyIF9hcnJheUZpbmQgPSByZXF1aXJlKFwiLi9hcnJheS5maW5kXCIpO1xuXG52YXIgX2FycmF5RmluZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUZpbmQpO1xuXG52YXIgX2FycmF5RmluZEluZGV4ID0gcmVxdWlyZShcIi4vYXJyYXkuZmluZC1pbmRleFwiKTtcblxudmFyIF9hcnJheUZpbmRJbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUZpbmRJbmRleCk7XG5cbnZhciBfYXJyYXlGcm9tID0gcmVxdWlyZShcIi4vYXJyYXkuZnJvbVwiKTtcblxudmFyIF9hcnJheUZyb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlGcm9tKTtcblxudmFyIF9hcnJheUl0ZXJhdG9yID0gcmVxdWlyZShcIi4vYXJyYXkuaXRlcmF0b3JcIik7XG5cbnZhciBfYXJyYXlJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheUl0ZXJhdG9yKTtcblxudmFyIF9hcnJheU9mID0gcmVxdWlyZShcIi4vYXJyYXkub2ZcIik7XG5cbnZhciBfYXJyYXlPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheU9mKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJGdsb2JhbCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBhcnJheUNsYXNzID0gJGdsb2JhbC5nZXRWYWx1ZShcIkFycmF5XCIpO1xuXHR2YXIgcHJvdG8gPSBhcnJheUNsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXG5cdCgwLCBfYXJyYXlGcm9tMltcImRlZmF1bHRcIl0pKGFycmF5Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlPZjJbXCJkZWZhdWx0XCJdKShhcnJheUNsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXG5cdCgwLCBfYXJyYXlDb3B5V2l0aGluMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX2FycmF5RmlsbDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9hcnJheUZpbmQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlGaW5kSW5kZXgyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfYXJyYXlJdGVyYXRvcjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwib2ZcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGl0ZW1zID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRpdGVtc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHR2YXIgbGVuZ3RoLCBsZW5ndGhWYWx1ZSwgYXJyLCBpO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoISh0aGlzLm5vZGUgPT09ICR0YXJnZXQgfHwgISgwLCBfdXRpbHNDb250cmFjdHMuaXNDb25zdHJ1Y3RvcikodGhpcy5ub2RlKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZUFycmF5KGl0ZW1zKSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGl0ZW1zLmxlbmd0aDtcblx0XHRcdFx0XHRsZW5ndGhWYWx1ZSA9IGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMubm9kZS5jb25zdHJ1Y3QodGhpcy5ub2RlLCBbbGVuZ3RoVmFsdWVdKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0YXJyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRcdHdoaWxlIChpIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoaSwgeyB2YWx1ZTogaXRlbXNbaV0sIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJyLnNldFZhbHVlKFwibGVuZ3RoXCIsIGxlbmd0aFZhbHVlKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5Lm9mXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcblxuZnVuY3Rpb24gZmluZEluZGV4KG9iaiwga2V5KSB7XG5cdHZhciBlbnYgPSBvYmpbX1N5bWJvbCRmb3IoXCJlbnZcIildO1xuXG5cdGZvciAodmFyIGkgPSAwLCBfbGVuZ3RoID0gb2JqLmRhdGEubGVuZ3RoOyBpIDwgX2xlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGN1cnJlbnQgPSBvYmouZGF0YVtpXTtcblx0XHRpZiAoY3VycmVudCkge1xuXHRcdFx0aWYgKGVudi5vcHMuYXJlU2FtZU9yWmVybyhrZXksIGN1cnJlbnQua2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gLTE7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXM1ID0gcmVxdWlyZShcIi4uL2VzNS9cIik7XG5cbnZhciBfZXM1MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzNSk7XG5cbnZhciBfbnVtYmVyID0gcmVxdWlyZShcIi4vbnVtYmVyXCIpO1xuXG52YXIgX251bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXIpO1xuXG52YXIgX2FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlcIik7XG5cbnZhciBfYXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXkpO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdFwiKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfc3RyaW5nID0gcmVxdWlyZShcIi4vc3RyaW5nXCIpO1xuXG52YXIgX3N0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmcpO1xuXG52YXIgX3Byb3h5ID0gcmVxdWlyZShcIi4vcHJveHlcIik7XG5cbnZhciBfcHJveHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJveHkpO1xuXG52YXIgX3NldCA9IHJlcXVpcmUoXCIuL3NldFwiKTtcblxudmFyIF9zZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0KTtcblxudmFyIF9tYXAgPSByZXF1aXJlKFwiLi9tYXBcIik7XG5cbnZhciBfbWFwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcCk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoXCIuL21hdGhcIik7XG5cbnZhciBfbWF0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoKTtcblxudmFyIF9yZWZsZWN0ID0gcmVxdWlyZShcIi4vcmVmbGVjdFwiKTtcblxudmFyIF9yZWZsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3QpO1xuXG52YXIgX3JlZ2V4ID0gcmVxdWlyZShcIi4vcmVnZXhcIik7XG5cbnZhciBfcmVnZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZXgpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdCgwLCBfZXM1MltcImRlZmF1bHRcIl0pKGVudik7XG5cblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyICRnbG9iYWwgPSBlbnYuZ2xvYmFsO1xuXG5cdCgwLCBfc3ltYm9sMltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfb2JqZWN0MltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfc3RyaW5nMltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfYXJyYXkyW1wiZGVmYXVsdFwiXSkoJGdsb2JhbCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9udW1iZXIyW1wiZGVmYXVsdFwiXSkoJGdsb2JhbCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9tYXRoMltcImRlZmF1bHRcIl0pKCRnbG9iYWwsIGVudiwgb2JqZWN0RmFjdG9yeSk7XG5cdCgwLCBfcHJveHkyW1wiZGVmYXVsdFwiXSkoJGdsb2JhbCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9yZWdleDJbXCJkZWZhdWx0XCJdKSgkZ2xvYmFsLCBlbnYsIG9iamVjdEZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3QyW1wiZGVmYXVsdFwiXSkoJGdsb2JhbCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9tYXAyW1wiZGVmYXVsdFwiXSkoJGdsb2JhbCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblx0KDAsIF9zZXQyW1wiZGVmYXVsdFwiXSkoJGdsb2JhbCwgZW52LCBvYmplY3RGYWN0b3J5KTtcblxuXHQvLyBzZXR1cCBjbGFzcyBzeW1ib2xzXG5cdHZhciBzdHJpbmdUYWdLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJ0b1N0cmluZ1RhZ1wiKTtcblx0dmFyIHNwZWNpZXNLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJzcGVjaWVzXCIpO1xuXHRbXCJGdW5jdGlvblwiLCBcIk51bWJlclwiLCBcIkJvb2xlYW5cIiwgXCJPYmplY3RcIiwgXCJBcnJheVwiLCBcIlN0cmluZ1wiLCBcIkRhdGVcIiwgXCJSZWdFeHBcIiwgXCJKU09OXCIsIFwiRXJyb3JcIiwgXCJNYXRoXCIsIFwiTWFwXCIsIFwiU2V0XCJdLmZvckVhY2goZnVuY3Rpb24gKHR5cGVOYW1lKSB7XG5cdFx0dmFyIGN0b3IgPSAkZ2xvYmFsLmdldFZhbHVlKHR5cGVOYW1lKTtcblxuXHRcdHZhciBzcGVjaWVzR2V0dGVyID0gZnVuY3Rpb24gc3BlY2llc0dldHRlcigpIHtcblx0XHRcdHJldHVybiBjdG9yO1xuXHRcdH07XG5cdFx0dmFyIHNwZWNpZXNHZXR0ZXJGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVHZXR0ZXIoc3BlY2llc0dldHRlciwgXCJbU3ltYm9sLnNwZWNpZXNdXCIpO1xuXHRcdGN0b3IuZGVmaW5lKHNwZWNpZXNLZXksIG51bGwsIHsgZ2V0dGVyOiBzcGVjaWVzR2V0dGVyLCBnZXQ6IHNwZWNpZXNHZXR0ZXJGdW5jIH0pO1xuXG5cdFx0aWYgKGN0b3Iub3ducyhcInByb3RvdHlwZVwiKSkge1xuXHRcdFx0dmFyIHByb3RvID0gY3Rvci5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0XHRcdC8vIHByb3RvLmRlZmluZShzdHJpbmdUYWdLZXksIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHR5cGVOYW1lKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0XHRcdC8vIHByb3RvdHlwZXMgaW4gRVM2IGNhbid0IGJlIGNvZXJjZWQgaW50byBwcmltaXRpdmVzXG5cdFx0XHRwcm90by5jbGFzc05hbWUgPSBcIk9iamVjdFwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdG9yLmRlZmluZShzdHJpbmdUYWdLZXksIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHR5cGVOYW1lKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyB1cGRhdGUgbGVuZ3RoIGF0dHJpYnV0ZXMgb24gYnVpbHQtaW5zXG5cdHZhciBsZW5ndGhBdHRyID0geyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIkZ1bmN0aW9uXCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgxKSwgbGVuZ3RoQXR0cik7XG5cdCRnbG9iYWwuZ2V0VmFsdWUoXCJOdW1iZXJcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDEpLCBsZW5ndGhBdHRyKTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIkJvb2xlYW5cIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDEpLCBsZW5ndGhBdHRyKTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIk9iamVjdFwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSksIGxlbmd0aEF0dHIpO1xuXHQkZ2xvYmFsLmdldFZhbHVlKFwiQXJyYXlcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDEpLCBsZW5ndGhBdHRyKTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIlN0cmluZ1wiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMSksIGxlbmd0aEF0dHIpO1xuXHQkZ2xvYmFsLmdldFZhbHVlKFwiRGF0ZVwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoNyksIGxlbmd0aEF0dHIpO1xuXHQkZ2xvYmFsLmdldFZhbHVlKFwiUmVnRXhwXCIpLmRlZmluZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgyKSwgbGVuZ3RoQXR0cik7XG5cdCRnbG9iYWwuZ2V0VmFsdWUoXCJNYXBcIikuZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDApLCBsZW5ndGhBdHRyKTtcblx0JGdsb2JhbC5nZXRWYWx1ZShcIlNldFwiKS5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCksIGxlbmd0aEF0dHIpO1xuXG5cdHZhciBmdW5jUHJvdG8gPSAkZ2xvYmFsLmdldFZhbHVlKFwiRnVuY3Rpb25cIikuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cblx0dmFyIHRocm93ZXIgPSBmdW5jdGlvbiB0aHJvd2VyKCkge1xuXHRcdHRocm93IFR5cGVFcnJvcihcIidjYWxsZXInLCAnY2FsbGVlJywgYW5kICdhcmd1bWVudHMnIHByb3BlcnRpZXMgbWF5IG5vdCBiZSBhY2Nlc3NlZCBvbiBzdHJpY3QgbW9kZSBmdW5jdGlvbnMgb3IgdGhlIGFyZ3VtZW50cyBvYmplY3RzIGZvciBjYWxscyB0byB0aGVtXCIpO1xuXHR9O1xuXG5cdHZhciB0aHJvd2VyRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKHRocm93ZXIpO1xuXHR2YXIgcHJvcCA9IHtcblx0XHRnZXQ6IHRocm93ZXJGdW5jLFxuXHRcdGdldHRlcjogdGhyb3dlcixcblx0XHRzZXQ6IHRocm93ZXJGdW5jLFxuXHRcdHNldHRlcjogdGhyb3dlcixcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRjb25maWd1cmFibGU6IGZhbHNlXG5cdH07XG5cblx0ZnVuY1Byb3RvLmRlZmluZShcImNhbGxlclwiLCBudWxsLCBwcm9wKTtcblx0ZnVuY1Byb3RvLmRlZmluZShcImFyZ3VtZW50c1wiLCBudWxsLCBwcm9wKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJjbGVhclwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc01hcCkodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUuY2xlYXJcIik7XG5cdFx0dGhpcy5ub2RlLmRhdGEgPSBbXTtcblx0fSwgMCwgXCJNYXAucHJvdG90eXBlLmNsZWFyXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX2NvbGxlY3Rpb25IZWxwZXJzID0gcmVxdWlyZShcIi4vY29sbGVjdGlvbi1oZWxwZXJzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJkZWxldGVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKGtleSkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNNYXApKHRoaXMubm9kZSwgXCJNYXAucHJvdG90eXBlLmRlbGV0ZVwiKTtcblxuXHRcdHZhciBkYXRhID0gdGhpcy5ub2RlLmRhdGE7XG5cdFx0aWYgKGRhdGEubGVuZ3RoID4gMCkge1xuXHRcdFx0dmFyIGluZGV4ID0gKDAsIF9jb2xsZWN0aW9uSGVscGVycy5maW5kSW5kZXgpKHRoaXMubm9kZSwga2V5KTtcblx0XHRcdGlmIChpbmRleCA+PSAwKSB7XG5cdFx0XHRcdC8vIGxlYXZlIGhvbGVzIGluIGFycmF5XG5cdFx0XHRcdGRhdGFbaW5kZXhdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKTtcblx0fSwgMSwgXCJNYXAucHJvdG90eXBlLmRlbGV0ZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJmb3JFYWNoXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGRhdGEsIGluZGV4LCBlbnRyeSwgYXJncztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc01hcCkodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUuZm9yRWFjaFwiKTtcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKGNhbGxiYWNrLCBcImNhbGxiYWNrXCIpO1xuXG5cdFx0XHRcdFx0dGhpc0FyZyA9IHRoaXNBcmcgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0ZGF0YSA9IHRoaXMubm9kZS5kYXRhO1xuXHRcdFx0XHRcdGluZGV4ID0gMDtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0aWYgKCEoaW5kZXggPCBkYXRhLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gZGF0YVtpbmRleCsrXTtcblxuXHRcdFx0XHRcdGlmICghZW50cnkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSBbZW50cnkudmFsdWUsIGVudHJ5LmtleSwgdGhpcy5ub2RlXTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgYXJncyk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTWFwLnByb3RvdHlwZS5mb3JFYWNoXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIGxlbmd0aCBtaWdodCBjaGFuZ2UgZHVyaW5nIGl0ZXJhdGlvbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF9jb2xsZWN0aW9uSGVscGVycyA9IHJlcXVpcmUoXCIuL2NvbGxlY3Rpb24taGVscGVyc1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImdldFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoa2V5KSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc01hcCkodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUuZ2V0XCIpO1xuXG5cdFx0dmFyIGluZGV4ID0gKDAsIF9jb2xsZWN0aW9uSGVscGVycy5maW5kSW5kZXgpKHRoaXMubm9kZSwga2V5KTtcblx0XHRpZiAoaW5kZXggPj0gMCkge1xuXHRcdFx0cmV0dXJuIHRoaXMubm9kZS5kYXRhW2luZGV4XS52YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH0sIDEsIFwiTWFwLnByb3RvdHlwZS5nZXRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfY29sbGVjdGlvbkhlbHBlcnMgPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uLWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImhhc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoa2V5KSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc01hcCkodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUuaGFzXCIpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgoMCwgX2NvbGxlY3Rpb25IZWxwZXJzLmZpbmRJbmRleCkodGhpcy5ub2RlLCBrZXkpID49IDApO1xuXHR9LCAxLCBcIk1hcC5wcm90b3R5cGUuaGFzXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWFya2VkMSQwID0gW2dldEl0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHRmdW5jdGlvbiBjcmVhdGVJdGVyYXRvclZhbHVlKGVudHJ5LCBraW5kKSB7XG5cdFx0aWYgKGtpbmQgPT09IFwia2V5XCIpIHtcblx0XHRcdHJldHVybiBlbnRyeS5rZXk7XG5cdFx0fVxuXG5cdFx0aWYgKGtpbmQgPT09IFwidmFsdWVcIikge1xuXHRcdFx0cmV0dXJuIGVudHJ5LnZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUFycmF5KFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRJdGVyYXRvcihvYmosIGtpbmQpIHtcblx0XHR2YXIgZG9uZSwgaW5kZXgsIHZhbHVlLCBjdXJyZW50O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0SXRlcmF0b3IkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0ZG9uZSA9IGZhbHNlO1xuXHRcdFx0XHRcdGluZGV4ID0gMDtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRpZiAoIShpbmRleCA8IG9iai5kYXRhLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBvYmouZGF0YVtpbmRleCsrXTtcblxuXHRcdFx0XHRcdGlmICghY3VycmVudCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YWx1ZSA9IGNyZWF0ZUl0ZXJhdG9yVmFsdWUoY3VycmVudCwga2luZCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImJyZWFrXCIsIDExKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblxuXHRcdFx0XHRcdGRvbmUgPSAhdmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yUmVzdWx0KHsgdmFsdWU6IHZhbHVlLCBkb25lOiBkb25lIH0pO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzBdLCB0aGlzKTtcblx0fVxuXG5cdHZhciBwcm90byA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdHByb3RvLmRlZmluZShfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJ0b1N0cmluZ1RhZ1wiKSwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJNYXAgSXRlcmF0b3JcIiksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdCR0YXJnZXQuZGVmaW5lKFwia2V5c1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc01hcCkodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUua2V5c1wiKTtcblx0XHR2YXIgaXQgPSBnZXRJdGVyYXRvcih0aGlzLm5vZGUsIFwia2V5XCIpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKGl0LCBwcm90byk7XG5cdH0sIDAsIFwiTWFwLnByb3RvdHlwZS5rZXlzXCIpKTtcblxuXHQkdGFyZ2V0LmRlZmluZShcInZhbHVlc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc01hcCkodGhpcy5ub2RlLCBcIk1hcC5wcm90b3R5cGUudmFsdWVzXCIpO1xuXHRcdHZhciBpdCA9IGdldEl0ZXJhdG9yKHRoaXMubm9kZSwgXCJ2YWx1ZVwiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvcihpdCwgcHJvdG8pO1xuXHR9LCAwLCBcIk1hcC5wcm90b3R5cGUudmFsdWVzXCIpKTtcblxuXHR2YXIgaXRlcmF0b3JGdW5jID0gZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNNYXApKHRoaXMubm9kZSwgXCJNYXAucHJvdG90eXBlLmVudHJpZXNcIik7XG5cdFx0dmFyIGl0ID0gZ2V0SXRlcmF0b3IodGhpcy5ub2RlKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvcihpdCwgcHJvdG8pO1xuXHR9LCAwLCBcIk1hcC5wcm90b3R5cGUuZW50cmllc1wiKTtcblxuXHQkdGFyZ2V0LmRlZmluZShcImVudHJpZXNcIiwgaXRlcmF0b3JGdW5jKTtcblxuXHR2YXIgaXRlcmF0b3JLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJpdGVyYXRvclwiKTtcblx0JHRhcmdldC5kZWZpbmUoaXRlcmF0b3JLZXksIGl0ZXJhdG9yRnVuYyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2l0ZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi9pdGVyYXRvcnMvXCIpO1xuXG52YXIgX2l0ZXJhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcnMpO1xuXG52YXIgX21hcENsZWFyID0gcmVxdWlyZShcIi4vbWFwLmNsZWFyXCIpO1xuXG52YXIgX21hcENsZWFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcENsZWFyKTtcblxudmFyIF9tYXBEZWxldGUgPSByZXF1aXJlKFwiLi9tYXAuZGVsZXRlXCIpO1xuXG52YXIgX21hcERlbGV0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBEZWxldGUpO1xuXG52YXIgX21hcEZvckVhY2ggPSByZXF1aXJlKFwiLi9tYXAuZm9yLWVhY2hcIik7XG5cbnZhciBfbWFwRm9yRWFjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBGb3JFYWNoKTtcblxudmFyIF9tYXBHZXQgPSByZXF1aXJlKFwiLi9tYXAuZ2V0XCIpO1xuXG52YXIgX21hcEdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBHZXQpO1xuXG52YXIgX21hcEhhcyA9IHJlcXVpcmUoXCIuL21hcC5oYXNcIik7XG5cbnZhciBfbWFwSGFzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcEhhcyk7XG5cbnZhciBfbWFwU2V0ID0gcmVxdWlyZShcIi4vbWFwLnNldFwiKTtcblxudmFyIF9tYXBTZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwU2V0KTtcblxudmFyIF9tYXBTaXplID0gcmVxdWlyZShcIi4vbWFwLnNpemVcIik7XG5cbnZhciBfbWFwU2l6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBTaXplKTtcblxudmFyIF9tYXBJdGVyYXRvciA9IHJlcXVpcmUoXCIuL21hcC5pdGVyYXRvclwiKTtcblxudmFyIF9tYXBJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBJdGVyYXRvcik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCRnbG9iYWwsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgcHJvdG8gPSBmYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdHZhciBtYXBDbGFzcyA9IGZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoaXRlcmFibGUpIHtcblx0XHR2YXIgaW5zdGFuY2U7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICh0aGlzLmlzTmV3KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkNvbnN0cnVjdG9yIE1hcCByZXF1aXJlcyAnbmV3J1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBmYWN0b3J5LmNyZWF0ZShcIk1hcFwiKTtcblxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKShpdGVyYWJsZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2V0dGVyLCBpdDtcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KShpdGVyYWJsZSwgXCJNYXBcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHNldHRlciA9IGluc3RhbmNlLmdldFZhbHVlKFwic2V0XCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKHNldHRlciwgXCJzZXRcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGl0ID0gX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmdldEl0ZXJhdG9yKGl0ZXJhYmxlKTtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGl0LmVhY2goX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoaXRlbSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIga2V5LCB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMyQwJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNCQwLnByZXYgPSBjb250ZXh0JDQkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKGl0ZW0sIFwiTWFwXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGtleSA9IGl0ZW0uZ2V0VmFsdWUoXCIwXCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGl0ZW0uZ2V0VmFsdWUoXCIxXCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldHRlci5jYWxsKGluc3RhbmNlLCBba2V5LCB2YWx1ZV0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMyQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCBfdGhpcyk7XG5cdFx0XHRcdFx0fSkoKSwgXCJ0MFwiLCA1KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBpbnN0YW5jZSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIHByb3RvLCB7IG5hbWU6IFwiTWFwXCIsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHQoMCwgX21hcENsZWFyMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcERlbGV0ZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9tYXBGb3JFYWNoMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcEdldDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9tYXBIYXMyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbWFwU2V0MltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcEl0ZXJhdG9yMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX21hcFNpemUyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cblx0JGdsb2JhbC5kZWZpbmUoXCJNYXBcIiwgbWFwQ2xhc3MpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfY29sbGVjdGlvbkhlbHBlcnMgPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uLWhlbHBlcnNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNldFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNNYXApKHRoaXMubm9kZSwgXCJNYXAucHJvdG90eXBlLnNldFwiKTtcblxuXHRcdHZhciBpbmRleCA9ICgwLCBfY29sbGVjdGlvbkhlbHBlcnMuZmluZEluZGV4KSh0aGlzLm5vZGUsIGtleSk7XG5cdFx0aWYgKGluZGV4ID49IDApIHtcblx0XHRcdHRoaXMubm9kZS5kYXRhW2luZGV4XS52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIHRoaXMubm9kZTtcblx0XHR9XG5cblx0XHR0aGlzLm5vZGUuZGF0YS5wdXNoKHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9KTtcblx0XHRyZXR1cm4gdGhpcy5ub2RlO1xuXHR9LCAyLCBcIk1hcC5wcm90b3R5cGUuc2V0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIGdldHRlciA9IGZ1bmN0aW9uIGdldHRlcigpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTWFwKSh0aGlzLCBcIk1hcC5wcm90b3R5cGUuc2l6ZVwiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbiAodikge1xuXHRcdFx0cmV0dXJuIHY7XG5cdFx0fSkubGVuZ3RoKTtcblx0fTtcblxuXHR2YXIgZ2V0dGVyRnVuYyA9IGZhY3RvcnkuY3JlYXRlR2V0dGVyKGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gZ2V0dGVyLmNhbGwodGhpcy5ub2RlKTtcblx0fSwgXCJzaXplXCIpO1xuXG5cdCR0YXJnZXQuZGVmaW5lKFwic2l6ZVwiLCBudWxsLCB7XG5cdFx0Z2V0dGVyOiBnZXR0ZXIsXG5cdFx0Z2V0OiBnZXR0ZXJGdW5jXG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCRnbG9iYWwsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWF0aENsYXNzID0gJGdsb2JhbC5nZXRWYWx1ZShcIk1hdGhcIik7XG5cblx0W1wiYWNvc2hcIiwgXCJhc2luaFwiLCBcImF0YW5oXCIsIFwiY2JydFwiLCBcImNsejMyXCIsIFwiY29zaFwiLCBcImV4cG0xXCIsIFwiZnJvdW5kXCIsIFwiaHlwb3RcIiwgXCJpbXVsXCIsIFwibG9nMTBcIiwgXCJsb2cyXCIsIFwibG9nMXBcIiwgXCJzaWduXCIsIFwic2luaFwiLCBcInRhbmhcIiwgXCJ0cnVuY1wiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0bWF0aENsYXNzLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgTWF0aFtuYW1lXSwgXCJNYXRoLlwiICsgbmFtZSkpO1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwiaXNGaW5pdGVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVtYmVyKSh2YWx1ZSkpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdFx0fVxuXG5cdFx0dmFyIG51bWJlclZhbHVlID0gdmFsdWUudG9OYXRpdmUoKTtcblx0XHRpZiAoaXNOYU4obnVtYmVyVmFsdWUpIHx8ICFpc0Zpbml0ZShudW1iZXJWYWx1ZSkpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpO1xuXHR9LCAxLCBcIk51bWJlci5pc0Zpbml0ZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwiaXNJbnRlZ2VyXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIG51bWJlclZhbHVlLCBpbnRWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCgwLCBfdXRpbHNDb250cmFjdHMuaXNOdW1iZXIpKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdG51bWJlclZhbHVlID0gdmFsdWUudG9OYXRpdmUoKTtcblxuXHRcdFx0XHRcdGlmICghKGlzTmFOKG51bWJlclZhbHVlKSB8fCAhaXNGaW5pdGUobnVtYmVyVmFsdWUpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikodmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRpbnRWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShudW1iZXJWYWx1ZSA9PT0gaW50VmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJOdW1iZXIuaXNJbnRlZ2VyXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwiaXNOYU5cIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVtYmVyKSh2YWx1ZSkpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGlzTmFOKHZhbHVlLnRvTmF0aXZlKCkpKTtcblx0fSwgMSwgXCJOdW1iZXIuaXNOYU5cIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9OdW1iZXIkTUFYX1NBRkVfSU5URUdFUiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvbnVtYmVyL21heC1zYWZlLWludGVnZXJcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX051bWJlciRNSU5fU0FGRV9JTlRFR0VSID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9udW1iZXIvbWluLXNhZmUtaW50ZWdlclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBNQVhfU0FGRV9JTlRFR0VSID0gX051bWJlciRNQVhfU0FGRV9JTlRFR0VSIHx8IDkwMDcxOTkyNTQ3NDA5OTE7XG5cdHZhciBNSU5fU0FGRV9JTlRFR0VSID0gX051bWJlciRNSU5fU0FGRV9JTlRFR0VSIHx8IC05MDA3MTk5MjU0NzQwOTkxO1xuXG5cdHRhcmdldC5kZWZpbmUoXCJNQVhfU0FGRV9JTlRFR0VSXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE1BWF9TQUZFX0lOVEVHRVIpLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0dGFyZ2V0LmRlZmluZShcIk1JTl9TQUZFX0lOVEVHRVJcIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTUlOX1NBRkVfSU5URUdFUiksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHRhcmdldC5kZWZpbmUoXCJpc1NhZmVJbnRlZ2VyXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIG51bWJlclZhbHVlLCBpbnRWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCgwLCBfdXRpbHNDb250cmFjdHMuaXNOdW1iZXIpKHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdG51bWJlclZhbHVlID0gdmFsdWUudG9OYXRpdmUoKTtcblxuXHRcdFx0XHRcdGlmICghKGlzTmFOKG51bWJlclZhbHVlKSB8fCAhaXNGaW5pdGUobnVtYmVyVmFsdWUpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikodmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRpbnRWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShpbnRWYWx1ZSAhPT0gbnVtYmVyVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE1hdGguYWJzKG51bWJlclZhbHVlKSA8PSBNQVhfU0FGRV9JTlRFR0VSKSk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIk51bWJlci5pc1NhZmVJbnRlZ2VyXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfTnVtYmVyJEVQU0lMT04gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL251bWJlci9lcHNpbG9uXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9udW1iZXJJc0Zpbml0ZSA9IHJlcXVpcmUoXCIuL251bWJlci5pcy1maW5pdGVcIik7XG5cbnZhciBfbnVtYmVySXNGaW5pdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbnVtYmVySXNGaW5pdGUpO1xuXG52YXIgX251bWJlcklzSW50ZWdlciA9IHJlcXVpcmUoXCIuL251bWJlci5pcy1pbnRlZ2VyXCIpO1xuXG52YXIgX251bWJlcklzSW50ZWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXJJc0ludGVnZXIpO1xuXG52YXIgX251bWJlcklzTmFuID0gcmVxdWlyZShcIi4vbnVtYmVyLmlzLW5hblwiKTtcblxudmFyIF9udW1iZXJJc05hbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXJJc05hbik7XG5cbnZhciBfbnVtYmVySXNTYWZlSW50ZWdlciA9IHJlcXVpcmUoXCIuL251bWJlci5pcy1zYWZlLWludGVnZXJcIik7XG5cbnZhciBfbnVtYmVySXNTYWZlSW50ZWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXJJc1NhZmVJbnRlZ2VyKTtcblxudmFyIF9udW1iZXJQYXJzZUZsb2F0ID0gcmVxdWlyZShcIi4vbnVtYmVyLnBhcnNlLWZsb2F0XCIpO1xuXG52YXIgX251bWJlclBhcnNlRmxvYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbnVtYmVyUGFyc2VGbG9hdCk7XG5cbnZhciBfbnVtYmVyUGFyc2VJbnQgPSByZXF1aXJlKFwiLi9udW1iZXIucGFyc2UtaW50XCIpO1xuXG52YXIgX251bWJlclBhcnNlSW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX251bWJlclBhcnNlSW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIG51bWJlckNsYXNzID0gZ2xvYmFsT2JqZWN0LmdldFZhbHVlKFwiTnVtYmVyXCIpO1xuXG5cdCgwLCBfbnVtYmVySXNGaW5pdGUyW1wiZGVmYXVsdFwiXSkobnVtYmVyQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbnVtYmVySXNJbnRlZ2VyMltcImRlZmF1bHRcIl0pKG51bWJlckNsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX251bWJlcklzTmFuMltcImRlZmF1bHRcIl0pKG51bWJlckNsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX251bWJlcklzU2FmZUludGVnZXIyW1wiZGVmYXVsdFwiXSkobnVtYmVyQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfbnVtYmVyUGFyc2VGbG9hdDJbXCJkZWZhdWx0XCJdKShudW1iZXJDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9udW1iZXJQYXJzZUludDJbXCJkZWZhdWx0XCJdKShudW1iZXJDbGFzcywgZW52LCBmYWN0b3J5KTtcblxuXHR2YXIgZXBzaWxvblZhbHVlID0gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoX051bWJlciRFUFNJTE9OIHx8IDIuMjIwNDQ2MDQ5MjUwMzEzZS0xNik7XG5cdG51bWJlckNsYXNzLmRlZmluZShcIkVQU0lMT05cIiwgZXBzaWxvblZhbHVlLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcInBhcnNlRmxvYXRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHBhcnNlRmxvYXQoc3RyaW5nVmFsdWUpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTnVtYmVyLnBhcnNlRmxvYXRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwicGFyc2VJbnRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUsIHJhZGl4KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gdG9TdHJpbmcodmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKHJhZGl4LCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmFkaXggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocGFyc2VJbnQoc3RyaW5nVmFsdWUsIHJhZGl4KSkpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIk51bWJlci5wYXJzZUludFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iamVjdENsYXNzLCBlbnYsIGZhY3RvcnkpIHtcblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiYXNzaWduXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0XHR2YXIgdG8gPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KSh0YXJnZXQsIHRydWUpO1xuXG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNvdXJjZXMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRzb3VyY2VzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHRzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKG5leHQpIHtcblx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCkobmV4dCkpIHtcblx0XHRcdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgc291cmNlID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkobmV4dCk7XG5cblx0XHRcdFx0XHRzb3VyY2UuZ2V0T3duUHJvcGVydHlLZXlzKCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0XHR2YXIgZGVzYyA9IHNvdXJjZS5nZXRPd25Qcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRcdFx0aWYgKGRlc2MgJiYgZGVzYy5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHRcdGlmICghdG8uc2V0VmFsdWUoa2V5LCBkZXNjLmdldFZhbHVlKCkpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFzc2lnbiB0byByZWFkIG9ubHkgcHJvcGVydHkgJ1wiICsga2V5ICsgXCInXCIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdG87XG5cdH0sIDIsIFwiT2JqZWN0LmFzc2lnblwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dGFyZ2V0LmRlZmluZShcImdldE93blByb3BlcnR5U3ltYm9sc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkob2JqLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNcIik7XG5cdFx0dmFyIGtleXMgPSBbXTtcblxuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eUtleXMoXCJTeW1ib2xcIikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRpZiAoa2V5ICYmIGtleS5pc1N5bWJvbCkge1xuXHRcdFx0XHRrZXlzLnB1c2goa2V5KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUFycmF5KGtleXMpO1xuXHR9LCAxLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHRhcmdldC5kZWZpbmUoXCJpc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoYSwgYikge1xuXHRcdHZhciByZXN1bHQgPSBlbnYub3BzLmFyZVNhbWUoYSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgYiB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHJlc3VsdCk7XG5cdH0sIDIsIFwiT2JqZWN0LmlzXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX29iamVjdElzID0gcmVxdWlyZShcIi4vb2JqZWN0LmlzXCIpO1xuXG52YXIgX29iamVjdElzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdElzKTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKFwiLi9vYmplY3QuYXNzaWduXCIpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX29iamVjdEdldE93blByb3BlcnR5U3ltYm9scyA9IHJlcXVpcmUoXCIuL29iamVjdC5nZXQtb3duLXByb3BlcnR5LXN5bWJvbHNcIik7XG5cbnZhciBfb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEdldE93blByb3BlcnR5U3ltYm9scyk7XG5cbnZhciBfb2JqZWN0U2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9vYmplY3Quc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9vYmplY3RTZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RTZXRQcm90b3R5cGVPZik7XG5cbnZhciBfb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKFwiLi9vYmplY3QudG8tc3RyaW5nXCIpO1xuXG52YXIgX29iamVjdFRvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFRvU3RyaW5nKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIG9iamVjdENsYXNzID0gZ2xvYmFsT2JqZWN0LmdldFZhbHVlKFwiT2JqZWN0XCIpO1xuXHR2YXIgcHJvdG8gPSBvYmplY3RDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKShvYmosIFwiT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcIik7XG5cblx0XHR2YXIga2V5cyA9IFtdO1xuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eUtleXMoXCJTdHJpbmdcIikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRpZiAodHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRrZXlzLnB1c2goZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVBcnJheShrZXlzKTtcblx0fSwgMSwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwia2V5c1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkob2JqLCBcIk9iamVjdC5rZXlzXCIpO1xuXG5cdFx0dmFyIGtleXMgPSBbXTtcblx0XHRvYmouZ2V0T3duUHJvcGVydHlLZXlzKFwiU3RyaW5nXCIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0dmFyIHByb3BJbmZvID0gb2JqLmdldFByb3BlcnR5KGtleSk7XG5cdFx0XHRcdGlmIChwcm9wSW5mbyAmJiBwcm9wSW5mby5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0a2V5cy5wdXNoKGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVBcnJheShrZXlzKTtcblx0fSwgMSwgXCJPYmplY3Qua2V5c1wiKSk7XG5cblx0KDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkob2JqZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfb2JqZWN0SXMyW1wiZGVmYXVsdFwiXSkob2JqZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX29iamVjdFNldFByb3RvdHlwZU9mMltcImRlZmF1bHRcIl0pKG9iamVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX29iamVjdFRvU3RyaW5nMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNldFByb3RvdHlwZU9mXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQsIHByb3RvKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGFyZ2V0LCBcInNldFByb3RvdHlwZU9mXCIpO1xuXG5cdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzT2JqZWN0KShwcm90bykgJiYgISgwLCBfdXRpbHNDb250cmFjdHMuaXNOdWxsKShwcm90bykpIHtcblx0XHRcdHRocm93IFR5cGVFcnJvcihcIk9iamVjdCBwcm90b3R5cGUgbWF5IG9ubHkgYmUgYW4gT2JqZWN0IG9yIG51bGxcIik7XG5cdFx0fVxuXG5cdFx0aWYgKCgwLCBfdXRpbHNDb250cmFjdHMuaXNPYmplY3QpKHRhcmdldCkgJiYgIXRhcmdldC5zZXRQcm90b3R5cGUocHJvdG8pKSB7XG5cdFx0XHR0aHJvdyBUeXBlRXJyb3IodGFyZ2V0LmNsYXNzTmFtZSArIFwiIGlzIG5vdCBleHRlbnNpYmxlXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH0sIDIsIFwiT2JqZWN0LnNldFByb3RvdHlwZU9mXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIHN0cmluZ1RhZ0tleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcInRvU3RyaW5nVGFnXCIpO1xuXG5cdGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG9iaikge1xuXHRcdHZhciB0YWcgPSBvYmouY2xhc3NOYW1lO1xuXG5cdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKShvYmopKSB7XG5cdFx0XHR2YXIgdGFnUHJvcGVydHkgPSBvYmouZ2V0UHJvcGVydHkoc3RyaW5nVGFnS2V5KTtcblx0XHRcdGlmICh0YWdQcm9wZXJ0eSkge1xuXHRcdFx0XHR2YXIgdGFnVmFsdWUgPSB0YWdQcm9wZXJ0eS5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRpZiAodGFnVmFsdWUgJiYgdGFnVmFsdWUudHlwZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdHRhZyA9IHRhZ1ZhbHVlLnRvTmF0aXZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJbb2JqZWN0IFwiICsgdGFnICsgXCJdXCIpO1xuXHR9O1xuXG5cdHRhcmdldC5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG9iamVjdFRvU3RyaW5nKHRoaXMubm9kZSk7XG5cdH0sIDAsIFwiT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cblx0dGFyZ2V0LmRlZmluZShcInRvTG9jYWxlU3RyaW5nXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiT2JqZWN0LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZ1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0VG9TdHJpbmcodGhpcy5ub2RlKTtcblx0fSwgMCwgXCJPYmplY3QucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGdsb2JhbE9iamVjdCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBwcm94eUNsYXNzID0gZmFjdG9yeS5jcmVhdGVGdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0LCBoYW5kbGVyKSB7XG5cdFx0aWYgKCF0aGlzLmlzTmV3KSB7XG5cdFx0XHR0aHJvdyBUeXBlRXJyb3IoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcm94eSh0YXJnZXQsIGhhbmRsZXIpO1xuXHR9LCBudWxsLCB7IG5hbWU6IFwiUHJveHlcIiB9KTtcblxuXHRwcm94eUNsYXNzLmRlZmluZShcInJldm9jYWJsZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0LCBoYW5kbGVyKSB7XG5cdFx0dmFyIHByb3h5ID0gZmFjdG9yeS5jcmVhdGVQcm94eSh0YXJnZXQsIGhhbmRsZXIpO1xuXG5cdFx0dmFyIG9iaiA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdFx0b2JqLmRlZmluZShcInByb3h5XCIsIHByb3h5KTtcblx0XHRvYmouZGVmaW5lKFwicmV2b2tlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRcdHByb3h5LnJldm9rZSgpO1xuXHRcdH0sIDAsIFwicmV2b2tlXCIpKTtcblxuXHRcdHJldHVybiBvYmo7XG5cdH0sIDIsIFwiUHJveHkucmV2b2NhYmxlXCIpKTtcblxuXHRwcm94eUNsYXNzLmRlZmluZShcImxlbmd0aFwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgyKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJQcm94eVwiLCBwcm94eUNsYXNzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImFwcGx5XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgdGhpc0FyZywgYXJnc0FycmF5KSB7XG5cdFx0dmFyIGFyZ3MsIGNhbGxlZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKSh0YXJnZXQsIFwidGFyZ2V0XCIpO1xuXG5cdFx0XHRcdFx0aWYgKGFyZ3NBcnJheSkge1xuXHRcdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkoYXJnc0FycmF5LCBcIlJlZmxlY3QuYXBwbHlcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9BcnJheSkoYXJnc0FycmF5KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y2FsbGVlID0gdGFyZ2V0Lm5hdGl2ZSA/IHRhcmdldCA6IHRhcmdldC5ub2RlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiB0YXJnZXQuY2FsbCh0aGlzQXJnLCBhcmdzLCBjYWxsZWUpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAzLCBcIlJlZmxlY3QuYXBwbHlcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiY29uc3RydWN0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgYXJnc0FycmF5LCBuZXdUYXJnZXQpIHtcblx0XHR2YXIgYXJncywgY2FsbGVlLCBwcm90bywgb2JqO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKHRhcmdldCwgXCJ0YXJnZXRcIik7XG5cblx0XHRcdFx0XHRpZiAoYXJnc0FycmF5KSB7XG5cdFx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KShhcmdzQXJyYXksIFwiUmVmbGVjdC5jb25zdHJ1Y3RcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9BcnJheSkoYXJnc0FycmF5KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y2FsbGVlID0gdGFyZ2V0Lm5vZGUgfHwgdGFyZ2V0O1xuXHRcdFx0XHRcdHByb3RvID0gbmV3VGFyZ2V0IHx8IHRhcmdldDtcblx0XHRcdFx0XHRvYmogPSBmYWN0b3J5LmNyZWF0ZU9iamVjdChwcm90byk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiB0YXJnZXQuY29uc3RydWN0KG9iaiwgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlJlZmxlY3QuY29uc3RydWN0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfZXM1T2JqZWN0ID0gcmVxdWlyZShcIi4uL2VzNS9vYmplY3QvXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJkZWZpbmVQcm9wZXJ0eVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XG5cdFx0dmFyIGtleTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkodGFyZ2V0LCBcIlJlZmxlY3QuZGVmaW5lUHJvcGVydHlcIik7XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShwcm9wZXJ0eUtleSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGtleSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBmYWN0b3J5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX2VzNU9iamVjdC5kZWZpbmVQcm9wZXJ0eSkoZW52LCB0YXJnZXQsIGtleSwgZGVzY3JpcHRvciwgZmFsc2UpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MC5jcmVhdGVQcmltaXRpdmUuY2FsbChjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMywgXCJSZWZsZWN0LmRlZmluZVByb3BlcnR5XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImRlbGV0ZVByb3BlcnR5XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcblx0XHR2YXIga2V5O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5kZWxldGVQcm9wZXJ0eVwiKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKHByb3BlcnR5S2V5KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0a2V5ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRhcmdldC5kZWxldGVQcm9wZXJ0eShrZXksIGZhbHNlKSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlJlZmxlY3QuZGVsZXRlUHJvcGVydHlcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImVudW1lcmF0ZVwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkodGFyZ2V0LCBcIlJlZmxlY3QuZW51bWVyYXRlXCIpO1xuXHRcdHJldHVybiB0YXJnZXQuZ2V0SXRlcmF0b3IoKTtcblx0fSwgMSwgXCJSZWZsZWN0LmVudW1lcmF0ZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfZXM1T2JqZWN0ID0gcmVxdWlyZShcIi4uL2VzNS9vYmplY3QvXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfZXM1T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcikoZW52LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZ2V0UHJvdG90eXBlT2ZcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LmdldFByb3RvdHlwZU9mXCIpO1xuXHRcdHJldHVybiB0YXJnZXQuZ2V0UHJvdG90eXBlKCk7XG5cdH0sIDEsIFwiUmVmbGVjdC5nZXRQcm90b3R5cGVPZlwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZ2V0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRhcmdldCwgcHJvcGVydHlLZXksIHJlY2VpdmVyKSB7XG5cdFx0dmFyIGtleSwgcHJvcGVydHk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LmdldFwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShwcm9wZXJ0eUtleSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGtleSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cHJvcGVydHkgPSB0YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblxuXHRcdFx0XHRcdGlmICghcHJvcGVydHkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcGVydHkuYmluZChyZWNlaXZlciB8fCB0YXJnZXQpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcHJvcGVydHkuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlJlZmxlY3QuZ2V0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImhhc1wiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG5cdFx0dmFyIGtleTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkodGFyZ2V0LCBcIlJlZmxlY3QuaGFzXCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJvcGVydHlLZXkpKHByb3BlcnR5S2V5KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0a2V5ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRhcmdldC5oYXMoa2V5KSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIlJlZmxlY3QuaGFzXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJpc0V4dGVuc2libGVcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LmlzRXh0ZW5zaWJsZVwiKTtcblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGFyZ2V0LmlzRXh0ZW5zaWJsZSgpKTtcblx0fSwgMSwgXCJSZWZsZWN0LmlzRXh0ZW5zaWJsZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlZmxlY3RBcHBseSA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuYXBwbHlcIik7XG5cbnZhciBfcmVmbGVjdEFwcGx5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RBcHBseSk7XG5cbnZhciBfcmVmbGVjdENvbnN0cnVjdCA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuY29uc3RydWN0XCIpO1xuXG52YXIgX3JlZmxlY3RDb25zdHJ1Y3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdENvbnN0cnVjdCk7XG5cbnZhciBfcmVmbGVjdERlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4vcmVmbGVjdC5kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfcmVmbGVjdERlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3REZWZpbmVQcm9wZXJ0eSk7XG5cbnZhciBfcmVmbGVjdERlbGV0ZVByb3BlcnR5ID0gcmVxdWlyZShcIi4vcmVmbGVjdC5kZWxldGUtcHJvcGVydHlcIik7XG5cbnZhciBfcmVmbGVjdERlbGV0ZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3REZWxldGVQcm9wZXJ0eSk7XG5cbnZhciBfcmVmbGVjdEVudW1lcmF0ZSA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuZW51bWVyYXRlXCIpO1xuXG52YXIgX3JlZmxlY3RFbnVtZXJhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdEVudW1lcmF0ZSk7XG5cbnZhciBfcmVmbGVjdEdldCA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuZ2V0XCIpO1xuXG52YXIgX3JlZmxlY3RHZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdEdldCk7XG5cbnZhciBfcmVmbGVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3JlZmxlY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgX3JlZmxlY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcik7XG5cbnZhciBfcmVmbGVjdEdldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vcmVmbGVjdC5nZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3JlZmxlY3RHZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0R2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX3JlZmxlY3RIYXMgPSByZXF1aXJlKFwiLi9yZWZsZWN0Lmhhc1wiKTtcblxudmFyIF9yZWZsZWN0SGFzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RIYXMpO1xuXG52YXIgX3JlZmxlY3RJc0V4dGVuc2libGUgPSByZXF1aXJlKFwiLi9yZWZsZWN0LmlzLWV4dGVuc2libGVcIik7XG5cbnZhciBfcmVmbGVjdElzRXh0ZW5zaWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0SXNFeHRlbnNpYmxlKTtcblxudmFyIF9yZWZsZWN0T3duS2V5cyA9IHJlcXVpcmUoXCIuL3JlZmxlY3Qub3duLWtleXNcIik7XG5cbnZhciBfcmVmbGVjdE93bktleXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdE93bktleXMpO1xuXG52YXIgX3JlZmxlY3RQcmV2ZW50RXh0ZW5zaW9ucyA9IHJlcXVpcmUoXCIuL3JlZmxlY3QucHJldmVudC1leHRlbnNpb25zXCIpO1xuXG52YXIgX3JlZmxlY3RQcmV2ZW50RXh0ZW5zaW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWZsZWN0UHJldmVudEV4dGVuc2lvbnMpO1xuXG52YXIgX3JlZmxlY3RTZXQgPSByZXF1aXJlKFwiLi9yZWZsZWN0LnNldFwiKTtcblxudmFyIF9yZWZsZWN0U2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmxlY3RTZXQpO1xuXG52YXIgX3JlZmxlY3RTZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL3JlZmxlY3Quc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9yZWZsZWN0U2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmbGVjdFNldFByb3RvdHlwZU9mKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIHJlZmxlY3RDbGFzcyA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0KDAsIF9yZWZsZWN0QXBwbHkyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3RDb25zdHJ1Y3QyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3REZWZpbmVQcm9wZXJ0eTJbXCJkZWZhdWx0XCJdKShyZWZsZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfcmVmbGVjdERlbGV0ZVByb3BlcnR5MltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0RW51bWVyYXRlMltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0R2V0MltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yMltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0R2V0UHJvdG90eXBlT2YyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3RIYXMyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3RJc0V4dGVuc2libGUyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3RPd25LZXlzMltcImRlZmF1bHRcIl0pKHJlZmxlY3RDbGFzcywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9yZWZsZWN0UHJldmVudEV4dGVuc2lvbnMyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3RTZXQyW1wiZGVmYXVsdFwiXSkocmVmbGVjdENsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3JlZmxlY3RTZXRQcm90b3R5cGVPZjJbXCJkZWZhdWx0XCJdKShyZWZsZWN0Q2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIlJlZmxlY3RcIiwgcmVmbGVjdENsYXNzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJvd25LZXlzXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzT2JqZWN0KSh0YXJnZXQsIFwiUmVmbGVjdC5vd25LZXlzXCIpO1xuXG5cdFx0dmFyIGtleXMgPSB0YXJnZXQuZ2V0T3duUHJvcGVydHlLZXlzKCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZUFycmF5KGtleXMpO1xuXHR9LCAxLCBcIlJlZmxlY3Qub3duS2V5c1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwicHJldmVudEV4dGVuc2lvbnNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LnByZXZlbnRFeHRlbnNpb25zXCIpO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0YXJnZXQucHJldmVudEV4dGVuc2lvbnMoKSk7XG5cdH0sIDEsIFwiUmVmbGVjdC5wcmV2ZW50RXh0ZW5zaW9uc1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNldFByb3RvdHlwZU9mXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh0YXJnZXQsIHByb3RvKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkodGFyZ2V0LCBcIlJlZmxlY3Quc2V0UHJvdG90eXBlT2ZcIik7XG5cblx0XHRpZiAocHJvdG8gIT09IF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCAmJiBwcm90by50eXBlICE9PSBcIm9iamVjdFwiKSB7XG5cdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJUaGUgcHJvdG90eXBlIG11c3QgYmUgYW4gb2JqZWN0IG9yIG51bGxcIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRhcmdldC5zZXRQcm90b3R5cGUocHJvdG8pKTtcblx0fSwgMiwgXCJSZWZsZWN0LnNldFByb3RvdHlwZU9mXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcInNldFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSB7XG5cdFx0dmFyIGs7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNPYmplY3QpKHRhcmdldCwgXCJSZWZsZWN0LnNldFwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1Byb3BlcnR5S2V5KShrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRrID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShyZWNlaXZlcikpIHtcblx0XHRcdFx0XHRcdHJlY2VpdmVyID0gdGFyZ2V0O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGFyZ2V0LnNldFZhbHVlKGssIHZhbHVlLCByZWNlaXZlcikpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMywgXCJSZWZsZWN0LnNldFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIHJlZ2V4Q2xhc3MgPSBnbG9iYWxPYmplY3QuZ2V0VmFsdWUoXCJSZWdFeHBcIik7XG5cdHZhciBwcm90byA9IHJlZ2V4Q2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cblx0dmFyIHJlcGxhY2VLZXkgPSBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJyZXBsYWNlXCIpO1xuXHRwcm90by5kZWZpbmUocmVwbGFjZUtleSwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgcmVwbGFjZXI7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXBsYWNlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc0Z1bmN0aW9uKShyZXBsYWNlVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlcGxhY2VyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0dmFyIHRoaXNBcmcgPSByZXBsYWNlVmFsdWUuc3RyaWN0IHx8IGVudi5pc1N0cmljdCgpID8gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBlbnYuZ2xvYmFsO1xuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0XHRcdFx0XHRhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YXIgbWFwcGVkQXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGFyZyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocmVwbGFjZVZhbHVlLmNhbGwodGhpc0FyZywgbWFwcGVkQXJncykpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdCA/ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShyZXN1bHQpKSA6IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShyZXBsYWNlVmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0cmVwbGFjZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5yZXBsYWNlKHRoaXMubm9kZS5zb3VyY2UsIHJlcGxhY2VyKSkpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJSZWdFeHAucHJvdG90eXBlW1N5bWJvbC5yZXBsYWNlXVwiKSk7XG5cblx0W1wic291cmNlXCIsIFwiZ2xvYmFsXCIsIFwiaWdub3JlQ2FzZVwiLCBcIm11bHRpbGluZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgc291cmNlID0gUmVnRXhwLnByb3RvdHlwZTtcblx0XHR2YXIgZ2V0dGVyID0gZnVuY3Rpb24gZ2V0dGVyKCkge1xuXHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHNvdXJjZVtrZXldKTtcblx0XHR9O1xuXHRcdHZhciBnZXR0ZXJGdW5jID0gZmFjdG9yeS5jcmVhdGVHZXR0ZXIoZ2V0dGVyLCBrZXkpO1xuXG5cdFx0cHJvdG8uZGVmaW5lKGtleSwgbnVsbCwge1xuXHRcdFx0Z2V0dGVyOiBnZXR0ZXIsXG5cdFx0XHRnZXQ6IGdldHRlckZ1bmNcblx0XHR9KTtcblx0fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiYWRkXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNTZXQpKHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmFkZFwiKTtcblxuXHRcdGlmICghdGhpcy5ub2RlLmRhdGEuc29tZShmdW5jdGlvbiAoZSkge1xuXHRcdFx0cmV0dXJuIGUgJiYgZW52Lm9wcy5hcmVTYW1lT3JaZXJvKGUsIHZhbHVlKTtcblx0XHR9KSkge1xuXHRcdFx0dGhpcy5ub2RlLmRhdGEucHVzaCh2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMubm9kZTtcblx0fSwgMSwgXCJTZXQucHJvdG90eXBlLmFkZFwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiY2xlYXJcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNTZXQpKHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmNsZWFyXCIpO1xuXHRcdHRoaXMubm9kZS5kYXRhID0gW107XG5cdH0sIDAsIFwiU2V0LnByb3RvdHlwZS5jbGVhclwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdCR0YXJnZXQuZGVmaW5lKFwiZGVsZXRlXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNTZXQpKHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmRlbGV0ZVwiKTtcblxuXHRcdHZhciBlbnRyaWVzID0gdGhpcy5ub2RlLmRhdGE7XG5cdFx0dmFyIGluZGV4ID0gZW50cmllcy5sZW5ndGg7XG5cblx0XHR3aGlsZSAoaW5kZXgtLSkge1xuXHRcdFx0dmFyIGN1cnJlbnQgPSBlbnRyaWVzW2luZGV4XTtcblx0XHRcdGlmIChjdXJyZW50ICYmIGVudi5vcHMuYXJlU2FtZU9yWmVybyhjdXJyZW50LCB2YWx1ZSkpIHtcblx0XHRcdFx0ZW50cmllc1tpbmRleF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHR9LCAxLCBcIlNldC5wcm90b3R5cGUuZGVsZXRlXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHQkdGFyZ2V0LmRlZmluZShcImZvckVhY2hcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0XHR2YXIgZGF0YSwgaW5kZXgsIGVudHJ5LCBhcmdzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzU2V0KSh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5mb3JFYWNoXCIpO1xuXG5cdFx0XHRcdFx0dGhpc0FyZyA9IHRoaXNBcmcgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0ZGF0YSA9IHRoaXMubm9kZS5kYXRhO1xuXHRcdFx0XHRcdGluZGV4ID0gMDtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0aWYgKCEoaW5kZXggPCBkYXRhLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gZGF0YVtpbmRleCsrXTtcblxuXHRcdFx0XHRcdGlmICghZW50cnkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSBbZW50cnksIGVudHJ5LCB0aGlzLm5vZGVdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBhcmdzKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJTZXQucHJvdG90eXBlLmZvckVhY2hcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gbGVuZ3RoIG1pZ2h0IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICgkdGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0JHRhcmdldC5kZWZpbmUoXCJoYXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc1NldCkodGhpcy5ub2RlLCBcIlNldC5wcm90b3R5cGUuaGFzXCIpO1xuXHRcdHZhciBoYXMgPSB0aGlzLm5vZGUuZGF0YS5zb21lKGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRyZXR1cm4gZSAmJiBlbnYub3BzLmFyZVNhbWVPclplcm8oZSwgdmFsdWUpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShoYXMpO1xuXHR9LCAxLCBcIlNldC5wcm90b3R5cGUuaGFzXCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKCR0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR2YXIgbWFya2VkMSQwID0gW2dldEl0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuXHRmdW5jdGlvbiBnZXRJdGVyYXRvcihvYmosIGtpbmQpIHtcblx0XHR2YXIgaW5kZXgsIGRvbmUsIHZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0SXRlcmF0b3IkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdGRvbmUgPSBmYWxzZTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRpZiAoIShpbmRleCA8IG9iai5kYXRhLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhbHVlID0gb2JqLmRhdGFbaW5kZXgrK107XG5cblx0XHRcdFx0XHRpZiAoIXZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAxMCk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cblx0XHRcdFx0XHRkb25lID0gIXZhbHVlO1xuXHRcdFx0XHRcdGlmICh2YWx1ZSAmJiBraW5kICE9PSBcImtleVwiICYmIGtpbmQgIT09IFwidmFsdWVcIikge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSBmYWN0b3J5LmNyZWF0ZUFycmF5KFt2YWx1ZSwgdmFsdWVdKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3JSZXN1bHQoeyB2YWx1ZTogdmFsdWUsIGRvbmU6IGRvbmUgfSk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBtYXJrZWQxJDBbMF0sIHRoaXMpO1xuXHR9XG5cblx0dmFyIHByb3RvID0gZmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0cHJvdG8uZGVmaW5lKF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcInRvU3RyaW5nVGFnXCIpLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlNldCBJdGVyYXRvclwiKSwgeyB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0JHRhcmdldC5kZWZpbmUoXCJlbnRyaWVzXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzU2V0KSh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5lbnRyaWVzXCIpO1xuXHRcdHZhciBpdCA9IGdldEl0ZXJhdG9yKHRoaXMubm9kZSwgXCJrZXkrdmFsdWVcIik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3IoaXQsIHByb3RvKTtcblx0fSwgMCwgXCJTZXQucHJvdG90eXBlLmVudHJpZXNcIikpO1xuXG5cdHZhciB2YWx1ZXNGdW5jID0gZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdCgwLCBfdXRpbHNDb250cmFjdHMuYXNzZXJ0SXNTZXQpKHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLnZhbHVlc1wiKTtcblx0XHR2YXIgaXQgPSBnZXRJdGVyYXRvcih0aGlzLm5vZGUsIFwidmFsdWVcIik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3IoaXQsIHByb3RvKTtcblx0fSwgMCwgXCJTZXQucHJvdG90eXBlLnZhbHVlc1wiKTtcblxuXHQkdGFyZ2V0LmRlZmluZShcInZhbHVlc1wiLCB2YWx1ZXNGdW5jKTtcblx0JHRhcmdldC5kZWZpbmUoXCJrZXlzXCIsIHZhbHVlc0Z1bmMpO1xuXG5cdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXHQkdGFyZ2V0LmRlZmluZShpdGVyYXRvcktleSwgdmFsdWVzRnVuYyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uL2l0ZXJhdG9yc1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF9zZXRBZGQgPSByZXF1aXJlKFwiLi9zZXQuYWRkXCIpO1xuXG52YXIgX3NldEFkZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRBZGQpO1xuXG52YXIgX3NldENsZWFyID0gcmVxdWlyZShcIi4vc2V0LmNsZWFyXCIpO1xuXG52YXIgX3NldENsZWFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldENsZWFyKTtcblxudmFyIF9zZXREZWxldGUgPSByZXF1aXJlKFwiLi9zZXQuZGVsZXRlXCIpO1xuXG52YXIgX3NldERlbGV0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXREZWxldGUpO1xuXG52YXIgX3NldEZvckVhY2ggPSByZXF1aXJlKFwiLi9zZXQuZm9yLWVhY2hcIik7XG5cbnZhciBfc2V0Rm9yRWFjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRGb3JFYWNoKTtcblxudmFyIF9zZXRIYXMgPSByZXF1aXJlKFwiLi9zZXQuaGFzXCIpO1xuXG52YXIgX3NldEhhczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRIYXMpO1xuXG52YXIgX3NldFNpemUgPSByZXF1aXJlKFwiLi9zZXQuc2l6ZVwiKTtcblxudmFyIF9zZXRTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFNpemUpO1xuXG52YXIgX3NldEl0ZXJhdG9yID0gcmVxdWlyZShcIi4vc2V0Lml0ZXJhdG9yXCIpO1xuXG52YXIgX3NldEl0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldEl0ZXJhdG9yKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJGdsb2JhbCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBwcm90byA9IGZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0dmFyIHNldENsYXNzID0gZmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChpdGVyYWJsZSkge1xuXHRcdHZhciBpbnN0YW5jZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgU2V0IHJlcXVpcmVzICduZXcnXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IGZhY3RvcnkuY3JlYXRlKFwiU2V0XCIpO1xuXG5cdFx0XHRcdFx0aWYgKCgwLCBfdXRpbHNDb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQpKGl0ZXJhYmxlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdHZhciBhZGRlciwgaXQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc09iamVjdCkoaXRlcmFibGUsIFwiU2V0XCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRhZGRlciA9IHByb3RvLmdldFZhbHVlKFwiYWRkXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24pKGFkZGVyLCBcImFkZFwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aXQgPSBfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZ2V0SXRlcmF0b3IoaXRlcmFibGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaXQuZWFjaChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDMkMChpdGVtKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFkZGVyLmNhbGwoaW5zdGFuY2UsIFtpdGVtXSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIF90aGlzKTtcblx0XHRcdFx0XHR9KSgpLCBcInQwXCIsIDUpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGluc3RhbmNlKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgcHJvdG8sIHsgbmFtZTogXCJTZXRcIiB9KTtcblxuXHQoMCwgX3NldEFkZDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zZXRDbGVhcjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zZXREZWxldGUyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfc2V0Rm9yRWFjaDJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zZXRIYXMyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfc2V0U2l6ZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zZXRJdGVyYXRvcjJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblxuXHQkZ2xvYmFsLmRlZmluZShcIlNldFwiLCBzZXRDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoJHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBnZXR0ZXIgPSBmdW5jdGlvbiBnZXR0ZXIoKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc1NldCkodGhpcywgXCJTZXQucHJvdG90eXBlLnNpemVcIik7XG5cdFx0cmV0dXJuIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcblx0XHRcdHJldHVybiB2O1xuXHRcdH0pLmxlbmd0aCk7XG5cdH07XG5cblx0dmFyIGdldHRlckZ1bmMgPSBmYWN0b3J5LmNyZWF0ZUdldHRlcihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGdldHRlci5jYWxsKHRoaXMubm9kZSk7XG5cdH0sIFwic2l6ZVwiKTtcblxuXHQkdGFyZ2V0LmRlZmluZShcInNpemVcIiwgbnVsbCwge1xuXHRcdGdldHRlcjogZ2V0dGVyLFxuXHRcdGdldDogZ2V0dGVyRnVuY1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwiY29kZVBvaW50QXRcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocG9zKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBwb3NpdGlvbjtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXRcIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKHBvcyk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHBvc2l0aW9uID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKHBvc2l0aW9uIDwgMCB8fCBwb3NpdGlvbiA+PSBzdHJpbmdWYWx1ZS5sZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlLmNvZGVQb2ludEF0KHBvc2l0aW9uKSkpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvLWNvbnN1bWFibGUtYXJyYXlcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TdHJpbmckZnJvbUNvZGVQb2ludCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3RyaW5nL2Zyb20tY29kZS1wb2ludFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHRhcmdldC5kZWZpbmUoXCJmcm9tQ29kZVBvaW50XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjb2RlUG9pbnRzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRjb2RlUG9pbnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHZhciBhcmdzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLm1hcCkoY29kZVBvaW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoY3ApIHtcblx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShjcCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMyQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShfU3RyaW5nJGZyb21Db2RlUG9pbnQuYXBwbHkoU3RyaW5nLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLmZyb21Db2RlUG9pbnRcIikpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAodGFyZ2V0LCBlbnYsIGZhY3RvcnkpIHtcblx0ZnVuY3Rpb24gc3RyaW5nSW5jbHVkZXMoc291cmNlLCBzZWFyY2gsIHN0YXJ0LCBlbmQpIHtcblx0XHRpZiAoIXNlYXJjaCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiBzb3VyY2UubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNvdXJjZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCkgPT09IHNlYXJjaDtcblx0fVxuXG5cdHRhcmdldC5kZWZpbmUoXCJlbmRzV2l0aFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzZWFyY2hTdHJpbmcsIGVuZFBvc2l0aW9uKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBzZWFyY2hWYWx1ZSwgZW5kO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aFwiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzUmVnRXhwKShzZWFyY2hTdHJpbmcpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggbXVzdCBub3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb25cIik7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzZWFyY2hTdHJpbmcpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRzZWFyY2hWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0ZW5kID0gc3RyaW5nVmFsdWUubGVuZ3RoO1xuXG5cdFx0XHRcdFx0aWYgKCgwLCBfdXRpbHNDb250cmFjdHMuaXNVbmRlZmluZWQpKGVuZFBvc2l0aW9uKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW5kUG9zaXRpb24pO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0ZW5kID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXG5cdFx0XHRcdFx0ZW5kID0gTWF0aC5taW4oTWF0aC5tYXgoZW5kLCAwKSwgc3RyaW5nVmFsdWUubGVuZ3RoKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ0luY2x1ZGVzKHN0cmluZ1ZhbHVlLCBzZWFyY2hWYWx1ZSwgZW5kIC0gc2VhcmNoVmFsdWUubGVuZ3RoLCBlbmQpKSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGhcIikpO1xuXG5cdHRhcmdldC5kZWZpbmUoXCJzdGFydHNXaXRoXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHNlYXJjaFN0cmluZywgc3RhcnRQb3NpdGlvbikge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgc2VhcmNoVmFsdWUsIHN0YXJ0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoXCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoISgwLCBfdXRpbHNDb250cmFjdHMuaXNSZWdFeHApKHNlYXJjaFN0cmluZykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoIG11c3Qgbm90IGJlIGEgcmVndWxhciBleHByZXNzaW9uXCIpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoc2VhcmNoU3RyaW5nKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0c2VhcmNoVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKHN0YXJ0UG9zaXRpb24pO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0c3RhcnQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0c3RhcnQgPSBNYXRoLm1heChzdGFydCwgMCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdJbmNsdWRlcyhzdHJpbmdWYWx1ZSwgc2VhcmNoVmFsdWUsIHN0YXJ0LCBzdGFydCArIHNlYXJjaFZhbHVlLmxlbmd0aCkpKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoXCIpKTtcblxuXHR0YXJnZXQuZGVmaW5lKFwiaW5jbHVkZXNcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgc2VhcmNoVmFsdWUsIGxlbmd0aCwgc3RhcnQsIGVuZCwgcmVzdWx0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykodGhpcy5ub2RlKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzQ29udHJhY3RzLmlzUmVnRXhwKShzZWFyY2hTdHJpbmcpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgbXVzdCBub3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb25cIik7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShzZWFyY2hTdHJpbmcpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRzZWFyY2hWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0bGVuZ3RoID0gc3RyaW5nVmFsdWUubGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKHBvc2l0aW9uKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdHN0YXJ0ID0gTWF0aC5taW4oTWF0aC5tYXgoc3RhcnQsIDApLCBsZW5ndGgpO1xuXG5cdFx0XHRcdFx0ZW5kID0gc3RhcnQgKyBzZWFyY2hWYWx1ZS5sZW5ndGg7XG5cdFx0XHRcdFx0cmVzdWx0ID0gZmFsc2U7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRpZiAoIXN0cmluZ0luY2x1ZGVzKHN0cmluZ1ZhbHVlLCBzZWFyY2hWYWx1ZSwgc3RhcnQrKywgZW5kKyspKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXN1bHQgPSB0cnVlO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAyMCk7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRpZiAoZW5kIDw9IGxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXN1bHQpKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdHlwZXNTeW1ib2xUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHZhciBtYXJrZWQxJDAgPSBbZ2V0SXRlcmF0b3JdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5cdHZhciBpdGVyYXRvclByb3RvID0gZmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0aXRlcmF0b3JQcm90by5jbGFzc05hbWUgPSBcIlN0cmluZyBJdGVyYXRvclwiO1xuXG5cdGl0ZXJhdG9yUHJvdG8uZGVmaW5lKFwibmV4dFwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHRoaXMubm9kZS5hZHZhbmNlKCk7XG5cdFx0aWYgKHJlc3VsdC52YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdC52YWx1ZTtcblx0XHR9XG5cblx0XHR2YXIgb2JqID0gZmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRvYmouZGVmaW5lKFwiZG9uZVwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXN1bHQuZG9uZSkpO1xuXHRcdHJldHVybiBvYmo7XG5cdH0sIDAsIFwiU3RyaW5nSXRlcmF0b3IucHJvdG90eXBlLm5leHRcIikpO1xuXG5cdGZ1bmN0aW9uIGdldEl0ZXJhdG9yKHN0cmluZ1ZhbHVlKSB7XG5cdFx0dmFyIGxlbmd0aCwgZG9uZSwgaW5kZXgsIHZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0SXRlcmF0b3IkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bGVuZ3RoID0gc3RyaW5nVmFsdWUubGVuZ3RoO1xuXHRcdFx0XHRcdGRvbmUgPSBmYWxzZTtcblx0XHRcdFx0XHRpbmRleCA9IDA7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YWx1ZSA9IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdFx0aWYgKGluZGV4ID09PSBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGRvbmUgPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlW2luZGV4KytdKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRyZXR1cm4gZmFjdG9yeS5jcmVhdGVJdGVyYXRvclJlc3VsdCh7IHZhbHVlOiB2YWx1ZSwgZG9uZTogZG9uZSB9KTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzBdLCB0aGlzKTtcblx0fVxuXG5cdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXHR0YXJnZXQuZGVmaW5lKGl0ZXJhdG9yS2V5LCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIGl0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHQoMCwgX3V0aWxzQ29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKSh0aGlzLm5vZGUsIFwiU3RyaW5nLnByb3RveXBlW1N5bWJvbC5pdGVyYXRvcl1cIik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpdCA9IGdldEl0ZXJhdG9yKHN0cmluZ1ZhbHVlKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlSXRlcmF0b3IoaXQsIGl0ZXJhdG9yUHJvdG8pKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJbU3ltYm9sLml0ZXJhdG9yXVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3N0cmluZ0NvZGVQb2ludEF0ID0gcmVxdWlyZShcIi4vc3RyaW5nLmNvZGUtcG9pbnQtYXRcIik7XG5cbnZhciBfc3RyaW5nQ29kZVBvaW50QXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nQ29kZVBvaW50QXQpO1xuXG52YXIgX3N0cmluZ0Zyb21Db2RlUG9pbnQgPSByZXF1aXJlKFwiLi9zdHJpbmcuZnJvbS1jb2RlLXBvaW50XCIpO1xuXG52YXIgX3N0cmluZ0Zyb21Db2RlUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nRnJvbUNvZGVQb2ludCk7XG5cbnZhciBfc3RyaW5nSW5jbHVkZXMgPSByZXF1aXJlKFwiLi9zdHJpbmcuaW5jbHVkZXNcIik7XG5cbnZhciBfc3RyaW5nSW5jbHVkZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nSW5jbHVkZXMpO1xuXG52YXIgX3N0cmluZ0l0ZXJhdG9yID0gcmVxdWlyZShcIi4vc3RyaW5nLml0ZXJhdG9yXCIpO1xuXG52YXIgX3N0cmluZ0l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ0l0ZXJhdG9yKTtcblxudmFyIF9zdHJpbmdOb3JtYWxpemUgPSByZXF1aXJlKFwiLi9zdHJpbmcubm9ybWFsaXplXCIpO1xuXG52YXIgX3N0cmluZ05vcm1hbGl6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdOb3JtYWxpemUpO1xuXG52YXIgX3N0cmluZ1JhdyA9IHJlcXVpcmUoXCIuL3N0cmluZy5yYXdcIik7XG5cbnZhciBfc3RyaW5nUmF3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZ1Jhdyk7XG5cbnZhciBfc3RyaW5nUmVwZWF0ID0gcmVxdWlyZShcIi4vc3RyaW5nLnJlcGVhdFwiKTtcblxudmFyIF9zdHJpbmdSZXBlYXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RyaW5nUmVwZWF0KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIHN0cmluZ0NsYXNzID0gZ2xvYmFsT2JqZWN0LmdldFZhbHVlKFwiU3RyaW5nXCIpO1xuXHR2YXIgcHJvdG8gPSBzdHJpbmdDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblxuXHQoMCwgX3N0cmluZ0Zyb21Db2RlUG9pbnQyW1wiZGVmYXVsdFwiXSkoc3RyaW5nQ2xhc3MsIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfc3RyaW5nUmF3MltcImRlZmF1bHRcIl0pKHN0cmluZ0NsYXNzLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3N0cmluZ0NvZGVQb2ludEF0MltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3N0cmluZ0luY2x1ZGVzMltcImRlZmF1bHRcIl0pKHByb3RvLCBlbnYsIGZhY3RvcnkpO1xuXHQoMCwgX3N0cmluZ05vcm1hbGl6ZTJbXCJkZWZhdWx0XCJdKShwcm90bywgZW52LCBmYWN0b3J5KTtcblx0KDAsIF9zdHJpbmdSZXBlYXQyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG5cdCgwLCBfc3RyaW5nSXRlcmF0b3IyW1wiZGVmYXVsdFwiXSkocHJvdG8sIGVudiwgZmFjdG9yeSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwibm9ybWFsaXplXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGZvcm0pIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIGZvcm1WYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUubm9ybWFsaXplXCIpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Zm9ybVZhbHVlID0gXCJORkNcIjtcblxuXHRcdFx0XHRcdGlmICgoMCwgX3V0aWxzQ29udHJhY3RzLmlzVW5kZWZpbmVkKShmb3JtKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGZvcm0pO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRmb3JtVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKC9eTkZLPyg/OkN8RCkkLy50ZXN0KGZvcm1WYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFJhbmdlRXJyb3IoXCJTdXBwb3J0ZWQgZm9ybXMgYXJlIE5GQywgTkZELCBORktDLCBvciBORktEXCIpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5ub3JtYWxpemUoZm9ybVZhbHVlKSkpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJTdHJpbmcucHJvdG90eXBlLm5vcm1hbGl6ZVwiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyB2YWxpZCBmb3JtcyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHRhcmdldCwgZW52LCBmYWN0b3J5KSB7XG5cdHRhcmdldC5kZWZpbmUoXCJyYXdcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGVtcGxhdGUpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc3Vic3RpdHV0aW9ucyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdHN1YnN0aXR1dGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHZhciBudW1iZXJPZlN1YnN0aXR1dGlvbnMsIGNvb2tlZCwgcmF3LCBsaXRlcmFsU2VnbWVudHMsIHN0cmluZ0VsZW1lbnRzLCBuZXh0SW5kZXgsIG5leHRTZWdtZW50LCBuZXh0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRudW1iZXJPZlN1YnN0aXR1dGlvbnMgPSBzdWJzdGl0dXRpb25zLmxlbmd0aDtcblx0XHRcdFx0XHRjb29rZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRlbXBsYXRlLCB0cnVlKTtcblx0XHRcdFx0XHRyYXcgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIGNvb2tlZC5nZXRWYWx1ZShcInJhd1wiKSwgdHJ1ZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKHJhdyk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGxpdGVyYWxTZWdtZW50cyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShsaXRlcmFsU2VnbWVudHMgPD0gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlwiKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdHN0cmluZ0VsZW1lbnRzID0gW107XG5cdFx0XHRcdFx0bmV4dEluZGV4ID0gMDtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGlmICghKG5leHRJbmRleCA8IGxpdGVyYWxTZWdtZW50cykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykocmF3LmdldFZhbHVlKG5leHRJbmRleCkpO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0bmV4dFNlZ21lbnQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0c3RyaW5nRWxlbWVudHMucHVzaChuZXh0U2VnbWVudCk7XG5cblx0XHRcdFx0XHRpZiAoIShuZXh0SW5kZXggKyAxID09PSBsaXRlcmFsU2VnbWVudHMpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMjYpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0bmV4dCA9IFwiXCI7XG5cblx0XHRcdFx0XHRpZiAoIShuZXh0SW5kZXggPCBudW1iZXJPZlN1YnN0aXR1dGlvbnMpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHN1YnN0aXR1dGlvbnNbbmV4dEluZGV4XSk7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0XHRuZXh0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDIyOlxuXG5cdFx0XHRcdFx0c3RyaW5nRWxlbWVudHMucHVzaChuZXh0KTtcblx0XHRcdFx0XHRuZXh0SW5kZXgrKztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ0VsZW1lbnRzLmpvaW4oXCJcIikpKTtcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnJhd1wiKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uICh0YXJnZXQsIGVudiwgZmFjdG9yeSkge1xuXHR0YXJnZXQuZGVmaW5lKFwicmVwZWF0XCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNvdW50KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBjb3VudFZhbHVlLCByZXR1cm5WYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCkodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUucmVwZWF0XCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGNvdW50KTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0Y291bnRWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShjb3VudFZhbHVlIDwgMCB8fCAhaXNGaW5pdGUoY291bnRWYWx1ZSkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvdW50IHZhbHVlXCIpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRyZXR1cm5WYWx1ZSA9IFwiXCI7XG5cblx0XHRcdFx0XHRpZiAoY291bnRWYWx1ZSA+IDAgJiYgc3RyaW5nVmFsdWUpIHtcblx0XHRcdFx0XHRcdGlmIChjb3VudFZhbHVlID09PSAxKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVyblZhbHVlID0gc3RyaW5nVmFsdWU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoY291bnRWYWx1ZSA+IDApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5WYWx1ZSArPSBzdHJpbmdWYWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRjb3VudFZhbHVlLS07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHJldHVyblZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUucmVwZWF0XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0LCBlbnYsIGZhY3RvcnkpIHtcblx0dmFyIGZyb3plbiA9IHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9O1xuXG5cdHZhciBzeW1ib2xDbGFzcyA9IGZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZGVzYykge1xuXHRcdHZhciBkZXNjU3RyaW5nO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZGVzYyk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGRlc2NTdHJpbmcgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFjdG9yeS5jcmVhdGUoXCJTeW1ib2xcIiwgZGVzY1N0cmluZykpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pKTtcblxuXHRzeW1ib2xDbGFzcy5kZWZpbmUoXCJmb3JcIiwgZmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoa2V5KSB7XG5cdFx0dmFyIGtleVN0cmluZywgaW5zdGFuY2U7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShrZXkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRrZXlTdHJpbmcgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGluc3RhbmNlID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KGtleVN0cmluZyk7XG5cblx0XHRcdFx0XHRpZiAoIWluc3RhbmNlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgaW5zdGFuY2UpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhY3RvcnkuY3JlYXRlKFwiU3ltYm9sXCIsIGtleVN0cmluZykpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN5bWJvbC5mb3JcIikpO1xuXG5cdHN5bWJvbENsYXNzLmRlZmluZShcImtleUZvclwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoc3ltKSB7XG5cdFx0cmV0dXJuIF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUluc3RhbmNlKHN5bSkgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH0sIDEsIFwiU3ltYm9sLmtleUZvclwiKSk7XG5cblx0dmFyIHByb3RvID0gc3ltYm9sQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIGZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUgPSBcIlN5bWJvbChcIiArIHRoaXMubm9kZS5kZXNjcmlwdGlvbiArIFwiKVwiO1xuXHRcdHJldHVybiBmYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZSk7XG5cdH0sIDAsIFwiU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBmYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0KDAsIF91dGlsc0NvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWMpKHRoaXMubm9kZSwgXCJTeW1ib2xcIiwgXCJTeW1ib2wucHJvdG90eXBlLnZhbHVlT2ZcIik7XG5cdFx0cmV0dXJuIHRoaXMubm9kZTtcblx0fSwgMCwgXCJTeW1ib2wucHJvdG90eXBlLnZhbHVlT2ZcIikpO1xuXG5cdFtcImhhc0luc3RhbmNlXCIsIFwiaXNDb25jYXRTcHJlYWRhYmxlXCIsIFwiaXRlcmF0b3JcIiwgXCJyZXBsYWNlXCIsIFwic3BlY2llc1wiLCBcInRvU3RyaW5nVGFnXCJdLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdHZhciBzeW0gPSBmYWN0b3J5LmNyZWF0ZShcIlN5bWJvbFwiLCBcIkBAXCIgKyBrZXkpO1xuXG5cdFx0Ly8gYWRkIHRvIGdsb2JhbCByZWdpc3RyeVxuXHRcdF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5hZGQoa2V5LCBzeW0pO1xuXHRcdHN5bWJvbENsYXNzLmRlZmluZShrZXksIHN5bSwgZnJvemVuKTtcblx0fSk7XG5cblx0dmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwidG9TdHJpbmdUYWdcIik7XG5cdHByb3RvLmRlZmluZSh0b1N0cmluZ1RhZ1N5bWJvbCwgZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoXCJTeW1ib2xcIiksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJTeW1ib2xcIiwgc3ltYm9sQ2xhc3MpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRpdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbnZhciBtYXJrZWQwJDAgPSBbd2Fsa10ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5mdW5jdGlvbiB3YWxrKG5vZGUpIHtcblx0dmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgbjtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHdhbGskKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KG5vZGUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gNDtcblx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKG5vZGUpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG4gPSBfc3RlcC52YWx1ZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2FsayhuKSwgXCJ0MFwiLCA5KTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSg0KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQxO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxOTtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIxO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgyMSk7XG5cblx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMTgpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIpO1xuXG5cdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXG5cdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MiA9IG5vZGUudHlwZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IGNvbnRleHQkMSQwLnQyID09PSBcIkFycmF5RXhwcmVzc2lvblwiID8gMzIgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJBc3NpZ25tZW50RXhwcmVzc2lvblwiID8gMzUgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJCaW5hcnlFeHByZXNzaW9uXCIgPyAzOCA6IGNvbnRleHQkMSQwLnQyID09PSBcIkxvZ2ljYWxFeHByZXNzaW9uXCIgPyAzOCA6IGNvbnRleHQkMSQwLnQyID09PSBcIkJsb2NrU3RhdGVtZW50XCIgPyA0MSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkxhYmVsZWRTdGF0ZW1lbnRcIiA/IDQxIDogY29udGV4dCQxJDAudDIgPT09IFwiUHJvZ3JhbVwiID8gNDEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJDYWxsRXhwcmVzc2lvblwiID8gNDMgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJOZXdFeHByZXNzaW9uXCIgPyA0MyA6IGNvbnRleHQkMSQwLnQyID09PSBcIkNhdGNoQ2xhdXNlXCIgPyA0NiA6IGNvbnRleHQkMSQwLnQyID09PSBcIkNvbmRpdGlvbmFsRXhwcmVzc2lvblwiID8gNDkgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJJZlN0YXRlbWVudFwiID8gNDkgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJEb1doaWxlU3RhdGVtZW50XCIgPyA1NCA6IGNvbnRleHQkMSQwLnQyID09PSBcIkV4cHJlc3Npb25TdGF0ZW1lbnRcIiA/IDU3IDogY29udGV4dCQxJDAudDIgPT09IFwiRm9yU3RhdGVtZW50XCIgPyA1OSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkZvckluU3RhdGVtZW50XCIgPyA2NyA6IGNvbnRleHQkMSQwLnQyID09PSBcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIiA/IDcxIDogY29udGV4dCQxJDAudDIgPT09IFwiRnVuY3Rpb25FeHByZXNzaW9uXCIgPyA3MSA6IGNvbnRleHQkMSQwLnQyID09PSBcIk1lbWJlckV4cHJlc3Npb25cIiA/IDc2IDogY29udGV4dCQxJDAudDIgPT09IFwiT2JqZWN0RXhwcmVzc2lvblwiID8gODAgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJQcm9wZXJ0eVwiID8gODIgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJSZXR1cm5TdGF0ZW1lbnRcIiA/IDg0IDogY29udGV4dCQxJDAudDIgPT09IFwiU2VxdWVuY2VFeHByZXNzaW9uXCIgPyA4NyA6IGNvbnRleHQkMSQwLnQyID09PSBcIlN3aXRjaFN0YXRlbWVudFwiID8gODkgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJTd2l0Y2hDYXNlXCIgPyA5MiA6IGNvbnRleHQkMSQwLnQyID09PSBcIlRocm93U3RhdGVtZW50XCIgPyA5NCA6IGNvbnRleHQkMSQwLnQyID09PSBcIlVuYXJ5RXhwcmVzc2lvblwiID8gOTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJVcGRhdGVFeHByZXNzaW9uXCIgPyA5NCA6IGNvbnRleHQkMSQwLnQyID09PSBcIlRyeVN0YXRlbWVudFwiID8gOTYgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIgPyAxMDIgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJWYXJpYWJsZURlY2xhcmF0b3JcIiA/IDEwNCA6IGNvbnRleHQkMSQwLnQyID09PSBcIldoaWxlU3RhdGVtZW50XCIgPyAxMDggOiBjb250ZXh0JDEkMC50MiA9PT0gXCJXaXRoU3RhdGVtZW50XCIgPyAxMTEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJCcmVha1N0YXRlbWVudFwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiQ29udGludWVTdGF0ZW1lbnRcIiA/IDExNCA6IGNvbnRleHQkMSQwLnQyID09PSBcIkVtcHR5U3RhdGVtZW50XCIgPyAxMTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJJZGVudGlmaWVyXCIgPyAxMTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJMaXRlcmFsXCIgPyAxMTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJUaGlzRXhwcmVzc2lvblwiID8gMTE0IDogMTE1O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzMjpcblx0XHRcdFx0aWYgKCFub2RlLmVsZW1lbnRzKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmVsZW1lbnRzKSwgXCJ0M1wiLCAzNCk7XG5cblx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucmlnaHQpLCBcInQ0XCIsIDM2KTtcblxuXHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmxlZnQpLCBcInQ1XCIsIDM3KTtcblxuXHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5sZWZ0KSwgXCJ0NlwiLCAzOSk7XG5cblx0XHRcdGNhc2UgMzk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5yaWdodCksIFwidDdcIiwgNDApO1xuXG5cdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQ4XCIsIDQyKTtcblxuXHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5jYWxsZWUpLCBcInQ5XCIsIDQ0KTtcblxuXHRcdFx0Y2FzZSA0NDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmFyZ3VtZW50cyksIFwidDEwXCIsIDQ1KTtcblxuXHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5wYXJhbSksIFwidDExXCIsIDQ3KTtcblxuXHRcdFx0Y2FzZSA0Nzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQxMlwiLCA0OCk7XG5cblx0XHRcdGNhc2UgNDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDQ5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudGVzdCksIFwidDEzXCIsIDUwKTtcblxuXHRcdFx0Y2FzZSA1MDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmNvbnNlcXVlbnQpLCBcInQxNFwiLCA1MSk7XG5cblx0XHRcdGNhc2UgNTE6XG5cdFx0XHRcdGlmICghbm9kZS5hbHRlcm5hdGUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChub2RlLmFsdGVybmF0ZSwgXCJ0MTVcIiwgNTMpO1xuXG5cdFx0XHRjYXNlIDUzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA1NDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQxNlwiLCA1NSk7XG5cblx0XHRcdGNhc2UgNTU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS50ZXN0KSwgXCJ0MTdcIiwgNTYpO1xuXG5cdFx0XHRjYXNlIDU2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA1Nzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmV4cHJlc3Npb24pLCBcInQxOFwiLCA1OCk7XG5cblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDU5OlxuXHRcdFx0XHRpZiAoIW5vZGUuaW5pdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2MTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5pbml0KSwgXCJ0MTlcIiwgNjEpO1xuXG5cdFx0XHRjYXNlIDYxOlxuXHRcdFx0XHRpZiAoIW5vZGUudGVzdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2Mztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS50ZXN0KSwgXCJ0MjBcIiwgNjMpO1xuXG5cdFx0XHRjYXNlIDYzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDIxXCIsIDY0KTtcblxuXHRcdFx0Y2FzZSA2NDpcblx0XHRcdFx0aWYgKCFub2RlLnVwZGF0ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2Njtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS51cGRhdGUpLCBcInQyMlwiLCA2Nik7XG5cblx0XHRcdGNhc2UgNjY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDY3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucmlnaHQpLCBcInQyM1wiLCA2OCk7XG5cblx0XHRcdGNhc2UgNjg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5sZWZ0KSwgXCJ0MjRcIiwgNjkpO1xuXG5cdFx0XHRjYXNlIDY5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDI1XCIsIDcwKTtcblxuXHRcdFx0Y2FzZSA3MDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNzE6XG5cdFx0XHRcdGlmICghbm9kZS5pZCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3Mztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5pZCksIFwidDI2XCIsIDczKTtcblxuXHRcdFx0Y2FzZSA3Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnBhcmFtcyksIFwidDI3XCIsIDc0KTtcblxuXHRcdFx0Y2FzZSA3NDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQyOFwiLCA3NSk7XG5cblx0XHRcdGNhc2UgNzU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDc2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUub2JqZWN0KSwgXCJ0MjlcIiwgNzcpO1xuXG5cdFx0XHRjYXNlIDc3OlxuXHRcdFx0XHRpZiAoIW5vZGUuY29tcHV0ZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNzk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucHJvcGVydHkpLCBcInQzMFwiLCA3OSk7XG5cblx0XHRcdGNhc2UgNzk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDgwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucHJvcGVydGllcyksIFwidDMxXCIsIDgxKTtcblxuXHRcdFx0Y2FzZSA4MTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgODI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS52YWx1ZSksIFwidDMyXCIsIDgzKTtcblxuXHRcdFx0Y2FzZSA4Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgODQ6XG5cdFx0XHRcdGlmICghbm9kZS5hcmd1bWVudCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4Njtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5hcmd1bWVudCksIFwidDMzXCIsIDg2KTtcblxuXHRcdFx0Y2FzZSA4Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgODc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5leHByZXNzaW9ucyksIFwidDM0XCIsIDg4KTtcblxuXHRcdFx0Y2FzZSA4ODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgODk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5kaXNjcmltaW5hbnQpLCBcInQzNVwiLCA5MCk7XG5cblx0XHRcdGNhc2UgOTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5jYXNlcyksIFwidDM2XCIsIDkxKTtcblxuXHRcdFx0Y2FzZSA5MTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgOTI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5jb25zZXF1ZW50KSwgXCJ0MzdcIiwgOTMpO1xuXG5cdFx0XHRjYXNlIDkzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA5NDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmFyZ3VtZW50KSwgXCJ0MzhcIiwgOTUpO1xuXG5cdFx0XHRjYXNlIDk1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA5Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJsb2NrKSwgXCJ0MzlcIiwgOTcpO1xuXG5cdFx0XHRjYXNlIDk3OlxuXHRcdFx0XHRpZiAoIW5vZGUuaGFuZGxlcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5OTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5oYW5kbGVyKSwgXCJ0NDBcIiwgOTkpO1xuXG5cdFx0XHRjYXNlIDk5OlxuXHRcdFx0XHRpZiAoIW5vZGUuZmluYWxpemVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5maW5hbGl6ZXIpLCBcInQ0MVwiLCAxMDEpO1xuXG5cdFx0XHRjYXNlIDEwMTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMTAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZGVjbGFyYXRpb25zKSwgXCJ0NDJcIiwgMTAzKTtcblxuXHRcdFx0Y2FzZSAxMDM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDEwNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmlkKSwgXCJ0NDNcIiwgMTA1KTtcblxuXHRcdFx0Y2FzZSAxMDU6XG5cdFx0XHRcdGlmICghbm9kZS5pbml0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5pbml0KSwgXCJ0NDRcIiwgMTA3KTtcblxuXHRcdFx0Y2FzZSAxMDc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDEwODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnRlc3QpLCBcInQ0NVwiLCAxMDkpO1xuXG5cdFx0XHRjYXNlIDEwOTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQ0NlwiLCAxMTApO1xuXG5cdFx0XHRjYXNlIDExMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMTExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUub2JqZWN0KSwgXCJ0NDdcIiwgMTEyKTtcblxuXHRcdFx0Y2FzZSAxMTI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0NDhcIiwgMTEzKTtcblxuXHRcdFx0Y2FzZSAxMTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDExNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgMTE1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzLCBbWzQsIDE0LCAxOCwgMjZdLCBbMTksLCAyMSwgMjVdXSk7XG59XG5cbi8vIGRvIG5vdGhpbmdcblxudmFyIEVzdHJlZVdhbGtlciA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEVzdHJlZVdhbGtlcihub2RlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVzdHJlZVdhbGtlcik7XG5cblx0XHR0aGlzLnJvb3QgPSBub2RlO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEVzdHJlZVdhbGtlciwgW3tcblx0XHRrZXk6IF9TeW1ib2wkaXRlcmF0b3IsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuXHRcdFx0cmV0dXJuIHdhbGsodGhpcy5yb290KTtcblx0XHR9XG5cdH1dLCBbe1xuXHRcdGtleTogXCJjcmVhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKG5vZGUpIHtcblx0XHRcdHJldHVybiBuZXcgRXN0cmVlV2Fsa2VyKG5vZGUpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBFc3RyZWVXYWxrZXI7XG59KSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEVzdHJlZVdhbGtlcjtcbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHJpZ2h0IHNob3VsZCBiZSBldmFsdWF0ZWQgZmlyc3RcblxuLy8gZG8gbm90aGluZyBlbHNlIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9leGVjdXRpb25SZXN1bHQgPSByZXF1aXJlKFwiLi9leGVjdXRpb24tcmVzdWx0XCIpO1xuXG52YXIgX3Zpc2l0b3JzID0gcmVxdWlyZShcIi4vdmlzaXRvcnNcIik7XG5cbnZhciBfdmlzaXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmlzaXRvcnMpO1xuXG52YXIgRXhlY3V0aW9uQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEV4ZWN1dGlvbkNvbnRleHQoZW52LCBub2RlLCBjYWxsZWUsIGlzTmV3KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4ZWN1dGlvbkNvbnRleHQpO1xuXG5cdFx0dGhpcy5ub2RlID0gbm9kZTtcblx0XHR0aGlzLmNhbGxlZSA9IGNhbGxlZTtcblx0XHR0aGlzLmVudiA9IGVudjtcblx0XHR0aGlzLmlzTmV3ID0gISFpc05ldztcblxuXHRcdHRoaXMubGFiZWwgPSBcIlwiO1xuXHRcdHRoaXMudmFsdWUgPSBudWxsO1xuXHRcdHRoaXMuc3RyaWN0ID0gZmFsc2U7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoRXhlY3V0aW9uQ29udGV4dCwgW3tcblx0XHRrZXk6IFwiZXhlY3V0ZVwiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZXhlY3V0ZSgpIHtcblx0XHRcdHZhciBleGVjdXRpb25SZXN1bHQ7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGUkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDE7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdHJldHVybiBfdmlzaXRvcnMyW1wiZGVmYXVsdFwiXS52aXNpdCh0aGlzKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA3O1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDEpO1xuXG5cdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSB0aGlzLnJhaXNlKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRpZiAoIShleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LnJhaXNlZCkpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhyb3cgdGhpcy5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJFcnJvclwiLCBleGVjdXRpb25SZXN1bHQucmVzdWx0KTtcblxuXHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdCB8fCB0aGlzLmVtcHR5KCkpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBleGVjdXRlLCB0aGlzLCBbWzEsIDddXSk7XG5cdFx0fSlcblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGNhbGxlZSwgaXNOZXcpIHtcblx0XHRcdHZhciBjb250ZXh0ID0gbmV3IEV4ZWN1dGlvbkNvbnRleHQodGhpcy5lbnYsIG5vZGUsIGNhbGxlZSB8fCB0aGlzLmNhbGxlZSwgaXNOZXcpO1xuXHRcdFx0Y29udGV4dC52YWx1ZSA9IHRoaXMudmFsdWU7XG5cdFx0XHRyZXR1cm4gY29udGV4dDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlTGFiZWxcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTGFiZWwobm9kZSwgbGFiZWwpIHtcblx0XHRcdHZhciBjb250ZXh0ID0gdGhpcy5jcmVhdGUobm9kZSk7XG5cdFx0XHRjb250ZXh0LmxhYmVsID0gbGFiZWw7XG5cdFx0XHRyZXR1cm4gY29udGV4dDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY2FuY2VsXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNhbmNlbChsYWJlbCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0KHRoaXMudmFsdWUsIGxhYmVsKTtcblx0XHRcdHJlc3VsdC5jYW5jZWwgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2tpcFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBza2lwKGxhYmVsKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHQodGhpcy52YWx1ZSwgbGFiZWwpO1xuXHRcdFx0cmVzdWx0LnNraXAgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmFpc2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcmFpc2UoZXJyKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHQoZXJyKTtcblx0XHRcdHJlc3VsdC5yYWlzZWQgPSByZXN1bHQuZXhpdCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJleGl0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGV4aXQodmFsdWUpIHtcblx0XHRcdHRoaXMuY2FsbGVlID0gbnVsbDtcblxuXHRcdFx0dmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0KHZhbHVlKTtcblx0XHRcdHJlc3VsdC5leGl0ID0gdHJ1ZTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJlc3VsdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZXN1bHQodmFsdWUsIG5hbWUsIG9iaikge1xuXHRcdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIG5ldyBfZXhlY3V0aW9uUmVzdWx0LkV4ZWN1dGlvblJlc3VsdCh2YWx1ZSwgbmFtZSwgb2JqKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZW1wdHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZW1wdHkoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZXN1bHQoX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBFeGVjdXRpb25Db250ZXh0O1xufSkoKTtcblxuZXhwb3J0cy5FeGVjdXRpb25Db250ZXh0ID0gRXhlY3V0aW9uQ29udGV4dDtcbjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBFeGVjdXRpb25SZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFeGVjdXRpb25SZXN1bHQodmFsdWUsIG5hbWUsIG9iaikge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFeGVjdXRpb25SZXN1bHQpO1xuXG5cdFx0dGhpcy5yZXN1bHQgPSB2YWx1ZTtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMub2JqZWN0ID0gb2JqO1xuXG5cdFx0dGhpcy5jYW5jZWwgPSBmYWxzZTtcblx0XHR0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuXHRcdHRoaXMuZXhpdCA9IGZhbHNlO1xuXHRcdHRoaXMuc2tpcCA9IGZhbHNlO1xuXHRcdHRoaXMucmFpc2VkID0gZmFsc2U7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoRXhlY3V0aW9uUmVzdWx0LCBbe1xuXHRcdGtleTogXCJpc0NhbmNlbGxlZFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc0NhbmNlbGxlZCgpIHtcblx0XHRcdHJldHVybiB0aGlzLmNhbmNlbCB8fCB0aGlzLmV4aXQgfHwgdGhpcy5yYWlzZWQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhbkJyZWFrXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNhbkJyZWFrKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaXNDYW5jZWxsZWQoKSB8fCB0aGlzLnNraXA7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNob3VsZEJyZWFrXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNob3VsZEJyZWFrKGNvbnRleHQsIGxvb3AsIHByaW9yUmVzdWx0KSB7XG5cdFx0XHRpZiAodGhpcy5leGl0IHx8IHRoaXMucmFpc2VkKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMuY2FuY2VsICYmICF0aGlzLnNraXApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgYnJlYWtpbmcgPSB0cnVlO1xuXHRcdFx0aWYgKHRoaXMubmFtZSAmJiB0aGlzLm5hbWUgPT09IGNvbnRleHQubGFiZWwpIHtcblx0XHRcdFx0YnJlYWtpbmcgPSB0aGlzLmNhbmNlbGxlZCA9IHRoaXMuY2FuY2VsO1xuXHRcdFx0XHR0aGlzLmNhbmNlbCA9IHRoaXMuc2tpcCA9IGZhbHNlO1xuXG5cdFx0XHRcdGlmICh0aGlzLmNhbmNlbGxlZCkge1xuXHRcdFx0XHRcdHRoaXMucmVzdWx0ID0gcHJpb3JSZXN1bHQgJiYgcHJpb3JSZXN1bHQucmVzdWx0IHx8IHRoaXMucmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGJyZWFraW5nO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobG9vcCAmJiAhdGhpcy5uYW1lKSB7XG5cdFx0XHRcdGJyZWFraW5nID0gdGhpcy5jYW5jZWxsZWQgPSB0aGlzLmNhbmNlbDtcblx0XHRcdFx0dGhpcy5jYW5jZWwgPSB0aGlzLnNraXAgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5yZXN1bHQgPSBwcmlvclJlc3VsdCAmJiBwcmlvclJlc3VsdC5yZXN1bHQgfHwgdGhpcy5yZXN1bHQ7XG5cdFx0XHRyZXR1cm4gYnJlYWtpbmc7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEV4ZWN1dGlvblJlc3VsdDtcbn0pKCk7XG5cbmV4cG9ydHMuRXhlY3V0aW9uUmVzdWx0ID0gRXhlY3V0aW9uUmVzdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnJlcXVpcmUoXCIuL3BvbHlmaWxsc1wiKTtcblxudmFyIF9lbnYgPSByZXF1aXJlKFwiLi9lbnZcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgU2FuZEJveHIgPSAoZnVuY3Rpb24gKCkge1xuXHQvKipcclxuICAqIENyZWF0ZXMgYSBuZXcgU2FuZGJveFxyXG4gICogQGNsYXNzXHJcbiAgKiBAcGFyYW0ge0FTVH0gYXN0IC0gVGhlIGFic3RyYWN0IHN5bnRheCB0cmVlIHRvIGV4ZWN1dGUuXHJcbiAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIHRvIHVzZSB3aXRoIHRoZSBzYW5kYm94LlxyXG4gICovXG5cblx0ZnVuY3Rpb24gU2FuZEJveHIoYXN0KSB7XG5cdFx0dmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcblxuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTYW5kQm94cik7XG5cblx0XHR0aGlzLmFzdCA9IGFzdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHR9XG5cblx0LyoqXHJcbiAgKiBFeGVjdXRlcyB0aGUgYWJzdHJhY3Qgc3ludGF4IHRyZWUgKEFTVCkgYWdhaW5zdCB0aGUgcHJvdmlkZWQgZW52aXJvbm1lbnQgKG9yIHRoZSBkZWZhdWx0XHJcbiAgKiBlbnZpcm9ubWVudCBpZiBub3QgcHJvdmlkZWQpXHJcbiAgKiBAcGFyYW0ge0Vudmlyb25tZW50fSBbZW52XSAtIFRoZSBlbnZpcm9ubWVudCB0byBleGVjdXRlIHRoZSBBU1QgYWdhaW5zdC5cclxuICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGV4ZWN1dGlvblxyXG4gICovXG5cblx0X2NyZWF0ZUNsYXNzKFNhbmRCb3hyLCBbe1xuXHRcdGtleTogXCJleGVjdXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGUoZW52KSB7XG5cdFx0XHRpZiAoIWVudikge1xuXHRcdFx0XHRlbnYgPSBTYW5kQm94ci5jcmVhdGVFbnZpcm9ubWVudCgpO1xuXHRcdFx0XHRlbnYuaW5pdCh0aGlzLm9wdGlvbnMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLnByb21pc2lmeSkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpcy5hc3QpLmV4ZWN1dGUoKSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdHJldHVybiByZXMucmVzdWx0O1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBfU3ltYm9sJGl0ZXJhdG9yLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLnN0ZXAoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic3RlcFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzdGVwKGVudikge1xuXHRcdFx0aWYgKCFlbnYpIHtcblx0XHRcdFx0ZW52ID0gU2FuZEJveHIuY3JlYXRlRW52aXJvbm1lbnQoKTtcblx0XHRcdFx0ZW52LmluaXQodGhpcy5vcHRpb25zKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5zdGVwKShlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dCh0aGlzLmFzdCkuZXhlY3V0ZSgpKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGFuIGVudmlyb25tZW50IGluc3RhbmNlLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBlbnZpcm9ubWVudCBpbnN0YW5jZS5cclxuICAgKi9cblx0fV0sIFt7XG5cdFx0a2V5OiBcImNyZWF0ZUVudmlyb25tZW50XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUVudmlyb25tZW50KCkge1xuXHRcdFx0cmV0dXJuIG5ldyBfZW52LkVudmlyb25tZW50KCk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5kQm94ciBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0ge0FTVH0gYXN0IC0gVGhlIGFic3RyYWN0IHN5bnRheCB0cmVlIHRvIGV4ZWN1dGUuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyB0byB1c2Ugd2l0aCB0aGUgc2FuZGJveC5cclxuICAgKiBAcmV0dXJucyB7U2FuZEJveHJ9IEEgbmV3IHNhbmRib3guXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShhc3QsIG9wdGlvbnMpIHtcblx0XHRcdHJldHVybiBuZXcgU2FuZEJveHIoYXN0LCBvcHRpb25zKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gU2FuZEJveHI7XG59KSgpO1xuXG5leHBvcnRzLlNhbmRCb3hyID0gU2FuZEJveHI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xudmFyIG1hcmtlZDAkMCA9IFthc2NJdGVyYXRvciwgZGVzY0l0ZXJhdG9yLCB5aWVsZEluZGV4XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuZnVuY3Rpb24gYXNjSXRlcmF0b3Ioc291cmNlLCBsbywgaGkpIHtcblx0dmFyIGluZGV4O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGFzY0l0ZXJhdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGluZGV4ID0gbG87XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0aWYgKCEoaW5kZXggPCBoaSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHlpZWxkSW5kZXgoc291cmNlLCBpbmRleCksIFwidDBcIiwgMyk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZXNjSXRlcmF0b3Ioc291cmNlLCBsbywgaGkpIHtcblx0dmFyIGluZGV4O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGRlc2NJdGVyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpbmRleCA9IGhpO1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGlmICghKGluZGV4ID49IGxvKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoeWllbGRJbmRleChzb3VyY2UsIGluZGV4KSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHlpZWxkSW5kZXgoc291cmNlLCBrZXkpIHtcblx0dmFyIHByb3AsIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHlpZWxkSW5kZXgkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0cHJvcCA9IHNvdXJjZS5nZXRQcm9wZXJ0eShrZXkpO1xuXG5cdFx0XHRcdGlmICghcHJvcCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFsdWUgPSBwcm9wLmdldFZhbHVlKCk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4geyB2YWx1ZTogdmFsdWUsIGtleToga2V5IH07XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbnZhciBBcnJheUl0ZXJhdG9yID0ge1xuXHRjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShvYmosIGxvLCBoaSwgZGVzYykge1xuXHRcdHJldHVybiAoZGVzYyA/IGRlc2NJdGVyYXRvciA6IGFzY0l0ZXJhdG9yKShvYmosIGxvLCBoaSk7XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQXJyYXlJdGVyYXRvcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfT2JqZWN0JGtleXMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zdHJpbmdJdGVyYXRvciA9IHJlcXVpcmUoXCIuL3N0cmluZy1pdGVyYXRvclwiKTtcblxudmFyIF9zdHJpbmdJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdJdGVyYXRvcik7XG5cbnZhciBfc3BhcnNlSXRlcmF0b3IgPSByZXF1aXJlKFwiLi9zcGFyc2UtaXRlcmF0b3JcIik7XG5cbnZhciBfc3BhcnNlSXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3BhcnNlSXRlcmF0b3IpO1xuXG52YXIgX2FycmF5SXRlcmF0b3IgPSByZXF1aXJlKFwiLi9hcnJheS1pdGVyYXRvclwiKTtcblxudmFyIF9hcnJheUl0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5SXRlcmF0b3IpO1xuXG52YXIgX2l0ZXJhYmxlSXRlcmF0b3IgPSByZXF1aXJlKFwiLi9pdGVyYWJsZS1pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYWJsZUl0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhYmxlSXRlcmF0b3IpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxucmVxdWlyZShcIi4uL3BvbHlmaWxsc1wiKTtcblxudmFyIFNQQVJFX0FSUkFZX0RFTlNJVFkgPSAwLjg7XG5cbmZ1bmN0aW9uIGFycmF5SXNTcGFyc2UoYXJyLCBsZW5ndGgpIHtcblx0dmFyIG93blByb3BlcnR5Q291bnQgPSBfT2JqZWN0JGtleXMoYXJyLnByb3BlcnRpZXMpLmxlbmd0aDtcblxuXHQvLyB0aGlzIGlzIGp1c3QgdG8gcm91Z2hseSBlc3RpbWF0ZSBob3cgZGVuc2UgdGhlIGFycmF5IGlzXG5cdHZhciBkZW5zaXR5ID0gKG93blByb3BlcnR5Q291bnQgLSAxKSAvIGxlbmd0aDtcblx0cmV0dXJuIGRlbnNpdHkgPCBTUEFSRV9BUlJBWV9ERU5TSVRZO1xufVxuXG52YXIgaXRlcmF0ZSA9IHtcblx0Z2V0SXRlcmF0b3I6IGZ1bmN0aW9uIGdldEl0ZXJhdG9yKG9iaikge1xuXHRcdHZhciBpdGVyYXRvcktleSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShcIml0ZXJhdG9yXCIpO1xuXHRcdHZhciBpdGVyYXRvciA9IG9iai5nZXRQcm9wZXJ0eShpdGVyYXRvcktleSk7XG5cdFx0aWYgKGl0ZXJhdG9yKSB7XG5cdFx0XHR2YXIgZm4gPSBpdGVyYXRvci5nZXRWYWx1ZSgpO1xuXHRcdFx0dmFyIGl0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKGZuLmNhbGwob2JqKSk7XG5cdFx0XHRyZXR1cm4gX2l0ZXJhYmxlSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUoaXQpO1xuXHRcdH1cblxuXHRcdHZhciBsZW5ndGggPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkob2JqKSk7XG5cdFx0cmV0dXJuIHRoaXMuZm9yd2FyZChvYmosIDAsIGxlbmd0aCk7XG5cdH0sXG5cblx0Zm9yd2FyZDogZnVuY3Rpb24gZm9yd2FyZChvYmosIGxvLCBoaSkge1xuXHRcdC8vIHN0cmluZyB3aWxsIG5ldmVyIGJlIGRlbnNlXG5cdFx0aWYgKG9iai5jbGFzc05hbWUgPT09IFwiU3RyaW5nXCIpIHtcblx0XHRcdHJldHVybiBfc3RyaW5nSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbyk7XG5cdFx0fVxuXG5cdFx0aWYgKGFycmF5SXNTcGFyc2Uob2JqLCBoaSkpIHtcblx0XHRcdHJldHVybiBfc3BhcnNlSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbywgaGkgLSAxKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX2FycmF5SXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbywgaGkpO1xuXHR9LFxuXG5cdHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2Uob2JqLCBoaSkge1xuXHRcdHZhciBsbyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cblx0XHRpZiAob2JqLmNsYXNzTmFtZSA9PT0gXCJTdHJpbmdcIikge1xuXHRcdFx0cmV0dXJuIF9zdHJpbmdJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShvYmosIGhpLCB0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAob2JqLmNsYXNzTmFtZSAhPT0gXCJBcnJheVwiIHx8IGFycmF5SXNTcGFyc2Uob2JqLCBoaSkpIHtcblx0XHRcdHJldHVybiBfc3BhcnNlSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbywgaGksIHRydWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBfYXJyYXlJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShvYmosIGxvLCBoaSwgdHJ1ZSk7XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaXRlcmF0ZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBJdGVyYWJsZUl0ZXJhdG9yID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gSXRlcmFibGVJdGVyYXRvcihpdCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJdGVyYWJsZUl0ZXJhdG9yKTtcblxuXHRcdHRoaXMuY3VycmVudEluZGV4ID0gMDtcblx0XHR0aGlzLml0ZXJhdG9yID0gaXQ7XG5cdFx0dGhpcy5hZHZhbmNlciA9IGl0LmdldFZhbHVlKFwibmV4dFwiKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhJdGVyYWJsZUl0ZXJhdG9yLCBbe1xuXHRcdGtleTogXCJuZXh0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG5leHQoKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHRoaXMuYWR2YW5jZXIuY2FsbCh0aGlzLml0ZXJhdG9yKSk7XG5cdFx0XHR2YXIgdmFsdWUgPSB7IGtleTogdGhpcy5jdXJyZW50SW5kZXgrKywgdmFsdWU6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEIH07XG5cblx0XHRcdHZhciB2YWx1ZVByb3BlcnR5ID0gcmVzdWx0LmdldFByb3BlcnR5KFwidmFsdWVcIik7XG5cdFx0XHRpZiAodmFsdWVQcm9wZXJ0eSkge1xuXHRcdFx0XHR2YWx1ZS52YWx1ZSA9IHZhbHVlUHJvcGVydHkuZ2V0VmFsdWUoKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGRvbmUgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikocmVzdWx0LmdldFZhbHVlKFwiZG9uZVwiKSk7XG5cdFx0XHRyZXR1cm4geyBkb25lOiBkb25lLCB2YWx1ZTogdmFsdWUgfTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZWFjaFwiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZWFjaChmdW5jKSB7XG5cdFx0XHR2YXIgZG9uZSwgY3VycmVudCwgX25leHQ7XG5cblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZWFjaCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRkb25lID0gZmFsc2U7XG5cblx0XHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0XHRpZiAoZG9uZSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjtcblx0XHRcdFx0XHRcdGN1cnJlbnQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRfbmV4dCA9IHRoaXMubmV4dCgpO1xuXHRcdFx0XHRcdFx0ZG9uZSA9IF9uZXh0LmRvbmU7XG5cdFx0XHRcdFx0XHRjdXJyZW50ID0gX25leHQudmFsdWU7XG5cblx0XHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jKGN1cnJlbnQudmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMjtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgyKTtcblxuXHRcdFx0XHRcdFx0dGhpc1tcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdFx0dGhyb3cgY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgZWFjaCwgdGhpcywgW1syLCAxMl1dKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcInJldHVyblwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBfcmV0dXJuKCkge1xuXHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy5pdGVyYXRvci5nZXRQcm9wZXJ0eShcInJldHVyblwiKTtcblx0XHRcdGlmIChwcm9wSW5mbykge1xuXHRcdFx0XHR2YXIgcmV0dXJuRnVuYyA9IHByb3BJbmZvLmdldFZhbHVlKCk7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocmV0dXJuRnVuYy5jYWxsKHRoaXMuaXRlcmF0b3IpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdH1cblx0fV0sIFt7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoaXQpIHtcblx0XHRcdHJldHVybiBuZXcgSXRlcmFibGVJdGVyYXRvcihpdCk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEl0ZXJhYmxlSXRlcmF0b3I7XG59KSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEl0ZXJhYmxlSXRlcmF0b3I7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgQVNDRU5ESU5HID0gZnVuY3Rpb24gQVNDRU5ESU5HKGEsIGIpIHtcblx0cmV0dXJuIGEgLSBiO1xufTtcbnZhciBERVNDRU5ESU5HID0gZnVuY3Rpb24gREVTQ0VORElORyhhLCBiKSB7XG5cdHJldHVybiBiIC0gYTtcbn07XG5cbnZhciBTcGFyc2VJdGVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIFNwYXJzZUl0ZXJhdG9yKG9iaiwgc3RhcnQsIGVuZCwgZGVzYykge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcGFyc2VJdGVyYXRvcik7XG5cblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy5hc2MgPSAhZGVzYztcblx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFNwYXJzZUl0ZXJhdG9yLCBbe1xuXHRcdGtleTogX1N5bWJvbCRpdGVyYXRvcixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmVzZXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHRcdFx0dGhpcy5wcm90b3R5cGVzID0gW107XG5cdFx0XHR0aGlzLnByb3BzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHR0aGlzLmtleXMgPSBbXTtcblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLm9iamVjdDtcblxuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0dGhpcy5wcm90b3R5cGVzLnB1c2goY3VycmVudCk7XG5cdFx0XHRcdHRoaXMudmVyc2lvbiArPSBjdXJyZW50LnZlcnNpb247XG5cblx0XHRcdFx0Zm9yICh2YXIgX25hbWUgaW4gY3VycmVudC5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0aWYgKCEoX25hbWUgaW4gdGhpcy5wcm9wcykgJiYgY29udHJhY3RzLmlzSW50ZWdlcihfbmFtZSkpIHtcblx0XHRcdFx0XHRcdHZhciBpbmRleCA9IE51bWJlcihfbmFtZSk7XG5cblx0XHRcdFx0XHRcdGlmIChpbmRleCA+PSB0aGlzLnN0YXJ0ICYmIGluZGV4IDw9IHRoaXMuZW5kKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucHJvcHNbX25hbWVdID0gY3VycmVudC5nZXRPd25Qcm9wZXJ0eShfbmFtZSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMua2V5cy5wdXNoKGluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5rZXlzLnNvcnQodGhpcy5hc2MgPyBBU0NFTkRJTkcgOiBERVNDRU5ESU5HKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwibmV4dFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBuZXh0KCkge1xuXHRcdFx0aWYgKCF0aGlzLnZlcnNpb24gfHwgdGhpcy5zaG91bGRSZXNldCgpKSB7XG5cdFx0XHRcdHRoaXMucmVzZXQoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMua2V5cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBrZXkgPSB0aGlzLnBvc2l0aW9uID0gdGhpcy5rZXlzLnNoaWZ0KCk7XG5cdFx0XHRcdHZhciB2YWx1ZSA9IHRoaXMucHJvcHNba2V5XS5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dmFsdWU6IHsgdmFsdWU6IHZhbHVlLCBrZXk6IGtleSB9LFxuXHRcdFx0XHRcdGRvbmU6IGZhbHNlXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGRvbmU6IHRydWVcblx0XHRcdH07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNob3VsZFJlc2V0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNob3VsZFJlc2V0KCkge1xuXHRcdFx0dmFyIGN1cnJlbnRWZXJzaW9uID0gdGhpcy5wcm90b3R5cGVzLnJlZHVjZShmdW5jdGlvbiAodiwgbykge1xuXHRcdFx0XHRyZXR1cm4gby52ZXJzaW9uICsgdjtcblx0XHRcdH0sIDApO1xuXHRcdFx0aWYgKGN1cnJlbnRWZXJzaW9uICE9PSB0aGlzLnZlcnNpb24pIHtcblx0XHRcdFx0aWYgKHRoaXMuYXNjKSB7XG5cdFx0XHRcdFx0dGhpcy5zdGFydCA9IHRoaXMucG9zaXRpb24gKyAxO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuZW5kID0gdGhpcy5wb3NpdGlvbiAtIDE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fV0sIFt7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoYXJyLCBzdGFydCwgZW5kLCBkZXNjKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFNwYXJzZUl0ZXJhdG9yKGFyciwgc3RhcnQsIGVuZCwgZGVzYyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFNwYXJzZUl0ZXJhdG9yO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTcGFyc2VJdGVyYXRvcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xudmFyIG1hcmtlZDAkMCA9IFthc2NJdGVyYXRvciwgZGVzY0l0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcbmZ1bmN0aW9uIGFzY0l0ZXJhdG9yKHN0cmluZ1ZhbHVlLCBzdGFydCwgbGVuZ3RoKSB7XG5cdHZhciBrZXksIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGFzY0l0ZXJhdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGtleSA9IHN0YXJ0O1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGlmICghKGtleSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0gc3RyaW5nVmFsdWUuZ2V0VmFsdWUoa2V5KTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwga2V5OiBrZXkgfTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRrZXkrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZXNjSXRlcmF0b3Ioc3RyaW5nVmFsdWUsIHN0YXJ0KSB7XG5cdHZhciBrZXksIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGRlc2NJdGVyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRrZXkgPSBzdGFydDtcblxuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRpZiAoIShrZXkgPj0gMCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0gc3RyaW5nVmFsdWUuZ2V0VmFsdWUoa2V5KTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwga2V5OiBrZXkgfTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRrZXktLTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG52YXIgU3RyaW5nSXRlcmF0b3IgPSB7XG5cdGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKHZhbHVlLCBzdGFydCwgZGVzYykge1xuXHRcdHZhciBsZW5ndGggPSB2YWx1ZS50b05hdGl2ZSgpLmxlbmd0aDtcblx0XHRyZXR1cm4gKGRlc2MgPyBkZXNjSXRlcmF0b3IgOiBhc2NJdGVyYXRvcikodmFsdWUsIHN0YXJ0LCBsZW5ndGgpO1xuXHR9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN0cmluZ0l0ZXJhdG9yO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaXNSZXNlcnZlZCA9IGlzUmVzZXJ2ZWQ7XG5leHBvcnRzLmlzU3RyaWN0UmVzZXJ2ZWQgPSBpc1N0cmljdFJlc2VydmVkO1xudmFyIGtleXdvcmRzID0ge1xuXHRcImVzNVwiOiBbXCJkb1wiLCBcImlmXCIsIFwiaW5cIiwgXCJmb3JcIiwgXCJuZXdcIiwgXCJ0cnlcIiwgXCJ2YXJcIiwgXCJjYXNlXCIsIFwiZWxzZVwiLCBcImVudW1cIiwgXCJudWxsXCIsIFwidGhpc1wiLCBcInRydWVcIiwgXCJ2b2lkXCIsIFwid2l0aFwiLCBcImJyZWFrXCIsIFwiY2F0Y2hcIiwgXCJjbGFzc1wiLCBcImNvbnN0XCIsIFwiZmFsc2VcIiwgXCJzdXBlclwiLCBcInRocm93XCIsIFwid2hpbGVcIiwgXCJkZWxldGVcIiwgXCJleHBvcnRcIiwgXCJpbXBvcnRcIiwgXCJyZXR1cm5cIiwgXCJzd2l0Y2hcIiwgXCJ0eXBlb2ZcIiwgXCJkZWZhdWx0XCIsIFwiZXh0ZW5kc1wiLCBcImZpbmFsbHlcIiwgXCJjb250aW51ZVwiLCBcImRlYnVnZ2VyXCIsIFwiZnVuY3Rpb25cIiwgXCJpbnN0YW5jZW9mXCJdLFxuXG5cdFwiZXM1c3RyaWN0XCI6IFtcImltcGxlbWVudHNcIiwgXCJsZXRcIiwgXCJwcml2YXRlXCIsIFwicHVibGljXCIsIFwiaW50ZXJmYWNlXCIsIFwicGFja2FnZVwiLCBcInByb3RlY3RlZFwiLCBcInN0YXRpY1wiLCBcInlpZWxkXCJdXG59O1xuXG5mdW5jdGlvbiBpc1Jlc2VydmVkKG5hbWUpIHtcblx0cmV0dXJuIGtleXdvcmRzLmVzNS5pbmRleE9mKG5hbWUpID49IDA7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaWN0UmVzZXJ2ZWQobmFtZSkge1xuXHRyZXR1cm4ga2V5d29yZHMuZXM1c3RyaWN0LmluZGV4T2YobmFtZSkgPj0gMDtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcImNvcmUtanMvZm4vc3RyaW5nL3JlcGVhdFwiKTtcblxucmVxdWlyZShcImNvcmUtanMvZm4vbWF0aC9zaWduXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9lczYvcHJvbWlzZVwiKTtcblxucmVxdWlyZShcImNvcmUtanMvZXM2L3N5bWJvbFwiKTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gdmFsaWRhdGVBc3NpZ25tZW50KGxlZnQsIHN0cmljdCkge1xuXHRpZiAoc3RyaWN0ICYmIGxlZnQudHlwZSA9PT0gXCJJZGVudGlmaWVyXCIpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZE5hbWUobGVmdC5uYW1lLCB0cnVlKTtcblx0fVxufVxuXG52YXIgcnVsZXMgPSB7XG5cdEFzc2lnbm1lbnRFeHByZXNzaW9uOiBmdW5jdGlvbiBBc3NpZ25tZW50RXhwcmVzc2lvbihub2RlLCBzdHJpY3QpIHtcblx0XHR2YWxpZGF0ZUFzc2lnbm1lbnQobm9kZS5sZWZ0LCBzdHJpY3QpO1xuXHR9LFxuXG5cdENhdGNoQ2xhdXNlOiBmdW5jdGlvbiBDYXRjaENsYXVzZShub2RlLCBzdHJpY3QpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZE5hbWUobm9kZS5wYXJhbS5uYW1lLCBzdHJpY3QpO1xuXHR9LFxuXG5cdElkZW50aWZpZXI6IGZ1bmN0aW9uIElkZW50aWZpZXIobm9kZSwgc3RyaWN0KSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyKG5vZGUubmFtZSwgc3RyaWN0KTtcblx0fSxcblxuXHRGdW5jdGlvbkRlY2xhcmF0aW9uOiBmdW5jdGlvbiBGdW5jdGlvbkRlY2xhcmF0aW9uKG5vZGUsIHN0cmljdCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShub2RlLmlkLm5hbWUsIHN0cmljdCk7XG5cdFx0Y29udHJhY3RzLmFzc2VydEFyZVZhbGlkQXJndW1lbnRzKG5vZGUucGFyYW1zLCBzdHJpY3QpO1xuXHR9LFxuXG5cdEZ1bmN0aW9uRXhwcmVzc2lvbjogZnVuY3Rpb24gRnVuY3Rpb25FeHByZXNzaW9uKG5vZGUsIHN0cmljdCkge1xuXHRcdGlmIChub2RlLmlkKSB7XG5cdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZE5hbWUobm9kZS5pZC5uYW1lLCBzdHJpY3QpO1xuXHRcdH1cblxuXHRcdGNvbnRyYWN0cy5hc3NlcnRBcmVWYWxpZEFyZ3VtZW50cyhub2RlLnBhcmFtcywgc3RyaWN0KTtcblx0fSxcblxuXHRMaXRlcmFsOiBmdW5jdGlvbiBMaXRlcmFsKG5vZGUsIHN0cmljdCkge1xuXHRcdGlmIChzdHJpY3QgJiYgbm9kZS5yYXcpIHtcblx0XHRcdGlmIChjb250cmFjdHMuaXNPY3RhbExpdGVyYWwobm9kZS5yYXcsIG5vZGUudmFsdWUpKSB7XG5cdFx0XHRcdHRocm93IFN5bnRheEVycm9yKFwiT2N0YWwgbGl0ZXJhbHMgYXJlIG5vdCBhbGxvd2VkIGluIHN0cmljdCBtb2RlLlwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0VXBkYXRlRXhwcmVzc2lvbjogZnVuY3Rpb24gVXBkYXRlRXhwcmVzc2lvbihub2RlLCBzdHJpY3QpIHtcblx0XHR2YWxpZGF0ZUFzc2lnbm1lbnQobm9kZS5hcmd1bWVudCwgc3RyaWN0KTtcblx0fSxcblxuXHRWYXJpYWJsZURlY2xhcmF0b3I6IGZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRvcihub2RlLCBzdHJpY3QpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZE5hbWUobm9kZS5pZC5uYW1lLCBzdHJpY3QpO1xuXHR9LFxuXG5cdFdpdGhTdGF0ZW1lbnQ6IGZ1bmN0aW9uIFdpdGhTdGF0ZW1lbnQobm9kZSwgc3RyaWN0KSB7XG5cdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0dGhyb3cgU3ludGF4RXJyb3IoXCJTdHJpY3QgbW9kZSBjb2RlIG1heSBub3QgaW5jbHVkZSBhIHdpdGggc3RhdGVtZW50XCIpO1xuXHRcdH1cblx0fVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBydWxlcztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIEFyZ3VtZW50VHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKEFyZ3VtZW50VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIEFyZ3VtZW50VHlwZShjYWxsZWUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXJndW1lbnRUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkFyZ3VtZW50c1wiO1xuXHRcdHRoaXMucGFyYW1ldGVyTWFwID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy5jYWxsZWUgPSBjYWxsZWU7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQXJndW1lbnRUeXBlLCBbe1xuXHRcdGtleTogXCJtYXBQcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBtYXBQcm9wZXJ0eShpbmRleCwgYmluZGluZykge1xuXHRcdFx0aW5kZXggPSBTdHJpbmcoaW5kZXgpO1xuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZGVmaW5lT3duUHJvcGVydHlcIiwgdGhpcykuY2FsbCh0aGlzLCBpbmRleCwgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH0sIHRydWUpO1xuXHRcdFx0dGhpcy5wYXJhbWV0ZXJNYXBbaW5kZXhdID0gYmluZGluZztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0UHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvcGVydHkobmFtZSkge1xuXHRcdFx0dmFyIG93blByb3BlcnR5ID0gdGhpcy5nZXRPd25Qcm9wZXJ0eShuYW1lKTtcblx0XHRcdGlmIChvd25Qcm9wZXJ0eSkge1xuXHRcdFx0XHRyZXR1cm4gb3duUHJvcGVydHk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcmd1bWVudFR5cGUucHJvdG90eXBlKSwgXCJnZXRQcm9wZXJ0eVwiLCB0aGlzKS5jYWxsKHRoaXMsIG5hbWUpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eShuYW1lKSB7XG5cdFx0XHRuYW1lID0gU3RyaW5nKG5hbWUpO1xuXG5cdFx0XHRpZiAobmFtZSBpbiB0aGlzLnBhcmFtZXRlck1hcCkge1xuXHRcdFx0XHR2YXIgbWFwcGVkUHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNbbmFtZV07XG5cdFx0XHRcdHZhciBsaW5rZWRQcm9wZXJ0eSA9IHRoaXMucGFyYW1ldGVyTWFwW25hbWVdO1xuXG5cdFx0XHRcdG1hcHBlZFByb3BlcnR5LnZhbHVlID0gbGlua2VkUHJvcGVydHkuZ2V0VmFsdWUoKTtcblx0XHRcdFx0bWFwcGVkUHJvcGVydHkuc2V0VmFsdWUgPSBsaW5rZWRQcm9wZXJ0eS5zZXRWYWx1ZS5iaW5kKGxpbmtlZFByb3BlcnR5KTtcblx0XHRcdFx0cmV0dXJuIG1hcHBlZFByb3BlcnR5O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZ2V0T3duUHJvcGVydHlcIiwgdGhpcykuY2FsbCh0aGlzLCBuYW1lKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVmaW5lT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lT3duUHJvcGVydHkobmFtZSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRuYW1lID0gU3RyaW5nKG5hbWUpO1xuXG5cdFx0XHR2YXIgYWxsb3dlZCA9IF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImRlZmluZU93blByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHRpZiAoYWxsb3dlZCAmJiBuYW1lIGluIHRoaXMucGFyYW1ldGVyTWFwKSB7XG5cdFx0XHRcdGlmIChcInNldFwiIGluIGRlc2NyaXB0b3IgfHwgXCJnZXRcIiBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMucGFyYW1ldGVyTWFwW25hbWVdO1xuXHRcdFx0XHR9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdFx0dGhpcy5wYXJhbWV0ZXJNYXBbbmFtZV0uc2V0VmFsdWUoZGVzY3JpcHRvci52YWx1ZSwgdGhyb3dPbkVycm9yKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcIndyaXRhYmxlXCIgaW4gZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci53cml0YWJsZSkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYWxsb3dlZDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkobmFtZSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRuYW1lID0gU3RyaW5nKG5hbWUpO1xuXHRcdFx0aWYgKG5hbWUgaW4gdGhpcy5wYXJhbWV0ZXJNYXApIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMucGFyYW1ldGVyTWFwW25hbWVdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZGVsZXRlUHJvcGVydHlcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gQXJndW1lbnRUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuQXJndW1lbnRUeXBlID0gQXJndW1lbnRUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkZm9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvZm9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vaXRlcmF0b3JzXCIpO1xuXG52YXIgX2l0ZXJhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcnMpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBBcnJheVR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhBcnJheVR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBBcnJheVR5cGUoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFycmF5VHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcnJheVR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJBcnJheVwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEFycmF5VHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KGVudikge1xuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJyYXlUeXBlLnByb3RvdHlwZSksIFwiaW5pdFwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHZhbHVlOiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCksIHdyaXRhYmxlOiB0cnVlIH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShuYW1lLCB2YWx1ZSkge1xuXHRcdFx0aWYgKG5hbWUgPT09IFwibGVuZ3RoXCIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0TGVuZ3RoKHsgdmFsdWU6IHZhbHVlIH0sIGZhbHNlKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFycmF5VHlwZS5wcm90b3R5cGUpLCBcInNldFZhbHVlXCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNldEluZGV4XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldEluZGV4KGtleSwgdmFsdWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHRcdFx0ZGVzY3JpcHRvciA9IGRlc2NyaXB0b3IgfHwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfTtcblxuXHRcdFx0dmFyIGluZGV4ID0gTnVtYmVyKGtleSk7XG5cdFx0XHR2YXIgbGVuZ3RoUHJvcGVydHkgPSB0aGlzLmdldFByb3BlcnR5KFwibGVuZ3RoXCIpO1xuXHRcdFx0dmFyIGxlbmd0aFZhbHVlID0gbGVuZ3RoUHJvcGVydHkuZ2V0VmFsdWUoKS50b05hdGl2ZSgpO1xuXG5cdFx0XHRpZiAoIWxlbmd0aFByb3BlcnR5LmNhblNldFZhbHVlKCkgJiYgaW5kZXggPj0gbGVuZ3RoVmFsdWUgfHwgIV9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFycmF5VHlwZS5wcm90b3R5cGUpLCBcImRlZmluZU93blByb3BlcnR5XCIsIHRoaXMpLmNhbGwodGhpcywga2V5LCBkZXNjcmlwdG9yKSkge1xuXG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgZGVmaW5lIHByb3BlcnR5OiBcIiArIGtleSArIFwiLCBvYmplY3QgaXMgbm90IGV4dGVuc2libGUuXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaW5kZXggPj0gbGVuZ3RoVmFsdWUpIHtcblx0XHRcdFx0dmFyIG5ld0xlbmd0aCA9IHRoaXNbX1N5bWJvbCRmb3IoXCJlbnZcIildLm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGluZGV4ICsgMSk7XG5cdFx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogbmV3TGVuZ3RoIH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0TGVuZ3RoXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldExlbmd0aChkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdHZhciBlbnYgPSB0aGlzW19TeW1ib2wkZm9yKFwiZW52XCIpXTtcblxuXHRcdFx0dmFyIG5ld0xlbmd0aFZhbHVlID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9VSW50MzIpKGRlc2NyaXB0b3IudmFsdWUpKTtcblx0XHRcdGlmIChuZXdMZW5ndGhWYWx1ZSAhPT0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKGRlc2NyaXB0b3IudmFsdWUpKSkge1xuXHRcdFx0XHR0aHJvdyBSYW5nZUVycm9yKFwiQXJyYXkgbGVuZ3RoIG91dCBvZiByYW5nZVwiKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVzY3JpcHRvci52YWx1ZSA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShuZXdMZW5ndGhWYWx1ZSk7XG5cdFx0XHR2YXIgbmV3TGVuZ3RoID0gZGVzY3JpcHRvci52YWx1ZTtcblx0XHRcdHZhciBjdXJyZW50TGVuZ3RoID0gdGhpcy5nZXRWYWx1ZShcImxlbmd0aFwiKTtcblx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGgobmV3TGVuZ3RoLnRvTmF0aXZlKCkpO1xuXG5cdFx0XHRpZiAobmV3TGVuZ3RoLnRvTmF0aXZlKCkgPj0gY3VycmVudExlbmd0aC50b05hdGl2ZSgpKSB7XG5cdFx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcnJheVR5cGUucHJvdG90eXBlKSwgXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLCB0aGlzKS5jYWxsKHRoaXMsIFwibGVuZ3RoXCIsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBpc1dyaXRhYmxlID0gdGhpcy5nZXRQcm9wZXJ0eShcImxlbmd0aFwiKS53cml0YWJsZTtcblx0XHRcdGlmIChpc1dyaXRhYmxlID09PSBmYWxzZSkge1xuXHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IHJlZGVmaW5lIHByb3BlcnR5OiBsZW5ndGhcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBub3RXcml0YWJsZSA9IFwid3JpdGFibGVcIiBpbiBkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLndyaXRhYmxlO1xuXHRcdFx0aWYgKG5vdFdyaXRhYmxlKSB7XG5cdFx0XHRcdC8vIHNldCB0byB3cml0YWJsZSBpbiBjYXNlIHJlbW92aW5nIGl0ZW1zIGZhaWxzXG5cdFx0XHRcdGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgaSA9IGN1cnJlbnRMZW5ndGgudG9OYXRpdmUoKTtcblx0XHRcdGlmICghX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJyYXlUeXBlLnByb3RvdHlwZSksIFwiZGVmaW5lT3duUHJvcGVydHlcIiwgdGhpcykuY2FsbCh0aGlzLCBcImxlbmd0aFwiLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN1Y2NlZWRlZCA9IHRydWU7XG5cblx0XHRcdGlmIChpID4gbmV3TGVuZ3RoLnRvTmF0aXZlKCkpIHtcblx0XHRcdFx0dmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0dmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgX2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKHRoaXMsIGkgLSAxLCBuZXdMZW5ndGgudG9OYXRpdmUoKSkpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdFx0XHRcdFx0XHR2YXIga2V5ID0gX3N0ZXAudmFsdWUua2V5O1xuXG5cdFx0XHRcdFx0XHRpZiAoIXRoaXMuZGVsZXRlUHJvcGVydHkoa2V5LCBmYWxzZSkpIHtcblx0XHRcdFx0XHRcdFx0bmV3TGVuZ3RoID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSArIDEpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IG5ld0xlbmd0aCB9KTtcblx0XHRcdFx0XHRcdFx0c3VjY2VlZGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChub3RXcml0YWJsZSkge1xuXHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXN1Y2NlZWRlZCAmJiB0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IHJlZGVmaW5lIHByb3BlcnR5OiBsZW5ndGhcIik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzdWNjZWVkZWQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlZmluZU93blByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZU93blByb3BlcnR5KG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc0ludGVnZXIobmFtZSkgJiYgY29udHJhY3RzLmlzVmFsaWRBcnJheUxlbmd0aChOdW1iZXIobmFtZSkgKyAxKSAmJiAhdGhpcy5vd25zKG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnNldEluZGV4KG5hbWUsIG51bGwsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuYW1lID09PSBcImxlbmd0aFwiICYmIFwibGVuZ3RoXCIgaW4gdGhpcy5wcm9wZXJ0aWVzICYmIGRlc2NyaXB0b3IgJiYgXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2V0TGVuZ3RoKGRlc2NyaXB0b3IsIHRocm93T25FcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcnJheVR5cGUucHJvdG90eXBlKSwgXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHZhciBhcnIgPSBbXTtcblxuXHRcdFx0Ly8gdGhpcyB3b24ndCBncmFiIHByb3BlcnRpZXMgZnJvbSB0aGUgcHJvdG90eXBlIC0gZG8gd2UgY2FyZT9cblx0XHRcdC8vIGl0J3MgYW4gZWRnZSBjYXNlIGJ1dCB3ZSBtYXkgd2FudCB0byBhZGRyZXNzIGl0XG5cdFx0XHRmb3IgKHZhciBpbmRleCBpbiB0aGlzLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0aWYgKHRoaXMucHJvcGVydGllc1tpbmRleF0uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdGFycltOdW1iZXIoaW5kZXgpXSA9IHRoaXMuZ2V0VmFsdWUoaW5kZXgpLnRvTmF0aXZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFycjtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gQXJyYXlUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuQXJyYXlUeXBlID0gQXJyYXlUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBDb2xsZWN0aW9uVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKENvbGxlY3Rpb25UeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gQ29sbGVjdGlvblR5cGUoY2xhc3NOYW1lKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbGxlY3Rpb25UeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbGxlY3Rpb25UeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcblx0XHR0aGlzLmRhdGEgPSBbXTtcblx0fVxuXG5cdHJldHVybiBDb2xsZWN0aW9uVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkNvbGxlY3Rpb25UeXBlID0gQ29sbGVjdGlvblR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIERhdGVUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoRGF0ZVR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBEYXRlVHlwZSh2YWx1ZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXRlVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudHlwZSA9IFwib2JqZWN0XCI7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkRhdGVcIjtcblxuXHRcdC8vIDExLjYuMSBOb3RlIDFcblx0XHQvLyBBbGwgbmF0aXZlIEVDTUFTY3JpcHQgb2JqZWN0cyBleGNlcHQgRGF0ZSBvYmplY3RzIGhhbmRsZSB0aGUgYWJzZW5jZSBvZiBhIGhpbnQgYXMgaWYgdGhlIGhpbnRcblx0XHQvLyBOdW1iZXIgd2VyZSBnaXZlbjsgRGF0ZSBvYmplY3RzIGhhbmRsZSB0aGUgYWJzZW5jZSBvZiBhIGhpbnQgYXMgaWYgdGhlIGhpbnQgU3RyaW5nIHdlcmUgZ2l2ZW4uXG5cdFx0dGhpcy5wcmltaXRpdmVIaW50ID0gXCJzdHJpbmdcIjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhEYXRlVHlwZSwgW3tcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRGF0ZVR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5EYXRlVHlwZSA9IERhdGVUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBFcnJvclR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhFcnJvclR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBFcnJvclR5cGUoc291cmNlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVycm9yVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihFcnJvclR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuc291cmNlID0gc291cmNlO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJFcnJvclwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEVycm9yVHlwZSwgW3tcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zb3VyY2U7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEVycm9yVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkVycm9yVHlwZSA9IEVycm9yVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRmb3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9mb3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBfcHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIGdldFBhcmFtZXRlckxlbmd0aChwYXJhbXMpIHtcblx0Zm9yICh2YXIgaSA9IDAsIGxuID0gcGFyYW1zLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHQvLyBwYXJhbWV0ZXIgbGVuZ3RoIHNob3VsZCBvbmx5IGluY2x1ZGUgdGhlIGZpcnN0IFwiRm9ybWFsXCIgcGFyYW1ldGVyc1xuXHRcdGlmIChwYXJhbXNbaV0udHlwZSAhPT0gXCJJZGVudGlmaWVyXCIpIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBwYXJhbXMubGVuZ3RoO1xufVxuXG52YXIgRnVuY3Rpb25UeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoRnVuY3Rpb25UeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gRnVuY3Rpb25UeXBlKG5vZGUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRnVuY3Rpb25UeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEZ1bmN0aW9uVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy50eXBlID0gXCJmdW5jdGlvblwiO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJGdW5jdGlvblwiO1xuXHRcdHRoaXMubmF0aXZlID0gZmFsc2U7XG5cdFx0dGhpcy5ub2RlID0gbm9kZTtcblxuXHRcdHRoaXMuYXJyb3cgPSBub2RlICYmIG5vZGUudHlwZSA9PT0gXCJBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvblwiO1xuXHRcdHRoaXMuY2FuQ29uc3RydWN0ID0gIXRoaXMuYXJyb3c7XG5cblx0XHR0aGlzLmJvdW5kU2NvcGUgPSBudWxsO1xuXHRcdHRoaXMuYm91bmRUaGlzID0gbnVsbDtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhGdW5jdGlvblR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChlbnYsIHByb3RvLCBkZXNjcmlwdG9yLCBzdHJpY3QpIHtcblx0XHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEZ1bmN0aW9uVHlwZS5wcm90b3R5cGUpLCBcImluaXRcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuXHRcdFx0aWYgKHN0cmljdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuc3RyaWN0ID0gc3RyaWN0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzZXQgbGVuZ3RoIHByb3BlcnR5IGZyb20gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzXG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHsgdmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShnZXRQYXJhbWV0ZXJMZW5ndGgodGhpcy5ub2RlLnBhcmFtcykpIH0pO1xuXG5cdFx0XHRpZiAoIXRoaXMuYXJyb3cpIHtcblx0XHRcdFx0Ly8gZnVuY3Rpb25zIGhhdmUgYSBwcm90b3R5cGVcblx0XHRcdFx0cHJvdG8gPSBwcm90byB8fCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcInByb3RvdHlwZVwiLCB7IHZhbHVlOiBwcm90bywgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0XHRcdFx0Ly8gc2V0IHRoZSBjb250cnVjdG9yIHByb3BlcnR5IGFzIGFuIGluc3RhbmNlIG9mIGl0c2VsZlxuXHRcdFx0XHRwcm90by5wcm9wZXJ0aWVzLmNvbnN0cnVjdG9yID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB0aGlzIH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjYWxsXCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsKHRoaXNBcmcsIGFyZ3MsIGNhbGxlZSkge1xuXHRcdFx0aWYgKGFyZ3MgPT09IHVuZGVmaW5lZCkgYXJncyA9IFtdO1xuXHRcdFx0dmFyIHNlbGYsIGVudiwgc2NvcGU7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGwkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0c2VsZiA9IHRoaXM7XG5cdFx0XHRcdFx0XHRlbnYgPSB0aGlzW19TeW1ib2wkZm9yKFwiZW52XCIpXTtcblx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZUV4ZWN1dGlvblNjb3BlKHRoaXMsIHRoaXNBcmcpO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUubG9hZEFyZ3ModGhpcy5ub2RlLnBhcmFtcywgYXJncywgdGhpcyk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRzY29wZS5pbml0KHRoaXMubm9kZSAmJiB0aGlzLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGV4ZWN1dGlvblJlc3VsdCwgc2hvdWxkUmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChzZWxmLm5vZGUuYm9keSwgY2FsbGVlKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2hvdWxkUmV0dXJuID0gc2VsZi5hcnJvdyB8fCBleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LmV4aXQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoc2hvdWxkUmV0dXJuICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGwsIHRoaXMpO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiY29uc3RydWN0XCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjb25zdHJ1Y3QodGhpc0FyZywgYXJncywgY2FsbGVlKSB7XG5cdFx0XHRpZiAoYXJncyA9PT0gdW5kZWZpbmVkKSBhcmdzID0gW107XG5cdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjb25zdHJ1Y3QkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0aWYgKCF0aGlzQXJnIHx8IHRoaXNBcmcgPT09IHRoaXMpIHtcblx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IHRoaXNbX1N5bWJvbCRmb3IoXCJlbnZcIildLm9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KHRoaXMpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmNhbGwodGhpc0FyZywgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdGlmICghKHJlc3VsdCAmJiAhcmVzdWx0LmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpc0FyZyk7XG5cblx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY29uc3RydWN0LCB0aGlzKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImJpbmRUaGlzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmRUaGlzKHRoaXNBcmcpIHtcblx0XHRcdHRoaXMuYm91bmRUaGlzID0gdGhpcy5ib3VuZFRoaXMgfHwgdGhpc0FyZztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiYmluZFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJpbmRTY29wZShzY29wZSkge1xuXHRcdFx0dGhpcy5ib3VuZFNjb3BlID0gc2NvcGU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImlzU3RyaWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzU3RyaWN0KCkge1xuXHRcdFx0aWYgKFwic3RyaWN0XCIgaW4gdGhpcykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zdHJpY3Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLnN0cmljdCA9IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUodGhpcy5ub2RlLmJvZHkuYm9keSk7XG5cdFx0fVxuXG5cdFx0Ly8gY3JlYXRlU2NvcGUgKGVudiwgdGhpc0FyZywgaXNOZXcpIHtcblx0XHQvLyBcdC8vIGlmIGEgcGFyZW50IHNjb3BlIGlzIGRlZmluZWQgd2UgbmVlZCB0byBsaW1pdCB0aGlzIHNjb3BlIHRvIHRoYXQgc2NvcGVcblx0XHQvLyBcdGxldCBwcmlvclNjb3BlID0gZW52LmN1cnJlbnQuc2NvcGU7XG5cblx0XHQvLyBcdGlmICh0aGlzLmJvdW5kU2NvcGUpIHtcblx0XHQvLyBcdFx0ZW52LnNldFNjb3BlKHRoaXMuYm91bmRTY29wZS5zY29wZSk7XG5cdFx0Ly8gXHR9XG5cblx0XHQvLyBcdHRoaXNBcmcgPSB0aGlzLmJvdW5kVGhpcyB8fCB0aGlzQXJnO1xuXHRcdC8vIFx0aWYgKHRoaXMuYXJyb3cpIHtcblx0XHQvLyBcdFx0dGhpc0FyZyA9IGVudi5nZXRUaGlzQmluZGluZygpO1xuXHRcdC8vIFx0fVxuXG5cdFx0Ly8gXHRsZXQgc2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUodGhpc0FyZywgcHJpb3JTY29wZSk7XG5cdFx0Ly8gXHRzY29wZS5wcmlvclNjb3BlID0gcHJpb3JTY29wZTtcblx0XHQvLyBcdHJldHVybiBzY29wZTtcblx0XHQvLyB9XG5cblx0fSwge1xuXHRcdGtleTogXCJoYXNJbnN0YW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBoYXNJbnN0YW5jZShvYmopIHtcblx0XHRcdGlmIChvYmogPT09IHRoaXMpIHtcblx0XHRcdFx0Ly8gb2JqZWN0IG9idmlvdXNseSBpc24ndCBhbiBpbnN0YW5jZSBpbiB0aGlzIGNhc2Vcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdmlzaXRlZCA9IFtdO1xuXHRcdFx0dmFyIGN1cnJlbnQgPSBvYmo7XG5cblx0XHRcdHZhciBwcm90byA9IHRoaXMuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdFx0XHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHByb3RvKSB8fCAhY29udHJhY3RzLmlzT2JqZWN0KHByb3RvKSkge1xuXHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBoYXMgbm9uLW9iamVjdCBwcm90b3R5cGUgaW4gaW5zdGFuY2VvZiBjaGVja1wiKTtcblx0XHRcdH1cblxuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0aWYgKHZpc2l0ZWQuaW5kZXhPZihjdXJyZW50KSA+PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnQgPT09IHByb3RvKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBrZWVwIGEgc3RhY2sgdG8gYXZvaWQgY2lyY3VsYXIgcmVmZXJlbmNlXG5cdFx0XHRcdHZpc2l0ZWQucHVzaChjdXJyZW50KTtcblx0XHRcdFx0Y3VycmVudCA9IGN1cnJlbnQuZ2V0UHJvdG90eXBlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBGdW5jdGlvblR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5GdW5jdGlvblR5cGUgPSBGdW5jdGlvblR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIEl0ZXJhdG9yVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKEl0ZXJhdG9yVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIEl0ZXJhdG9yVHlwZShpdGVyYWJsZSkge1xuXHRcdHZhciBraW5kID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gXCJrZXkrdmFsdWVcIiA6IGFyZ3VtZW50c1sxXTtcblxuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJdGVyYXRvclR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoSXRlcmF0b3JUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblxuXHRcdHRoaXMuaXRlcmFibGUgPSBpdGVyYWJsZTtcblx0XHR0aGlzLnBvc2l0aW9uID0gMDtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IFwiSXRlcmF0b3JcIjtcblx0XHR0aGlzLmtpbmQgPSBraW5kO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEl0ZXJhdG9yVHlwZSwgW3tcblx0XHRrZXk6IFwiYWR2YW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBhZHZhbmNlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaXRlcmFibGUubmV4dCgpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBJdGVyYXRvclR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5JdGVyYXRvclR5cGUgPSBJdGVyYXRvclR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRmb3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9mb3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9mdW5jdGlvblR5cGUgPSByZXF1aXJlKFwiLi9mdW5jdGlvbi10eXBlXCIpO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBfcHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgTmF0aXZlRnVuY3Rpb25UeXBlID0gKGZ1bmN0aW9uIChfRnVuY3Rpb25UeXBlKSB7XG5cdF9pbmhlcml0cyhOYXRpdmVGdW5jdGlvblR5cGUsIF9GdW5jdGlvblR5cGUpO1xuXG5cdGZ1bmN0aW9uIE5hdGl2ZUZ1bmN0aW9uVHlwZShmbikge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOYXRpdmVGdW5jdGlvblR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoTmF0aXZlRnVuY3Rpb25UeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnR5cGUgPSBcImZ1bmN0aW9uXCI7XG5cdFx0dGhpcy5uYXRpdmUgPSB0cnVlO1xuXHRcdHRoaXMubmF0aXZlRnVuY3Rpb24gPSBmbjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhOYXRpdmVGdW5jdGlvblR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChlbnYsIHByb3RvLCBkZXNjcmlwdG9yKSB7XG5cdFx0XHR0aGlzW19TeW1ib2wkZm9yKFwiZW52XCIpXSA9IGVudjtcblxuXHRcdFx0dmFyIGxlbmd0aCA9IHRoaXMubmF0aXZlRnVuY3Rpb24ubGVuZ3RoO1xuXHRcdFx0aWYgKFwibmF0aXZlTGVuZ3RoXCIgaW4gdGhpcy5uYXRpdmVGdW5jdGlvbikge1xuXHRcdFx0XHRsZW5ndGggPSB0aGlzLm5hdGl2ZUZ1bmN0aW9uLm5hdGl2ZUxlbmd0aDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwic3RyaWN0XCIgaW4gdGhpcy5uYXRpdmVGdW5jdGlvbikge1xuXHRcdFx0XHR0aGlzLnN0cmljdCA9IHRoaXMubmF0aXZlRnVuY3Rpb24uc3RyaWN0O1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHtcblx0XHRcdFx0dmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShsZW5ndGgpLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IGZhbHNlXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKHByb3RvICE9PSBudWxsKSB7XG5cdFx0XHRcdHByb3RvID0gcHJvdG8gfHwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdFx0XHRcdHByb3RvLnByb3BlcnRpZXMuY29uc3RydWN0b3IgPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMgfSk7XG5cblx0XHRcdFx0ZGVzY3JpcHRvciA9IGRlc2NyaXB0b3IgfHwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUgfTtcblx0XHRcdFx0dmFyIHByb3RvRGVzY3JpcHRvciA9IHtcblx0XHRcdFx0XHR2YWx1ZTogcHJvdG8sXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGVcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwicHJvdG90eXBlXCIsIHByb3RvRGVzY3JpcHRvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhbGxcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGwodGhpc0FyZywgYXJncywgY2FsbGVlKSB7XG5cdFx0XHRpZiAoYXJncyA9PT0gdW5kZWZpbmVkKSBhcmdzID0gW107XG5cdFx0XHR2YXIgZW52LCBzZWxmLCBzY29wZTtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjYWxsZWUgPSBjYWxsZWUgfHwgdGhpcztcblx0XHRcdFx0XHRcdGVudiA9IHRoaXNbX1N5bWJvbCRmb3IoXCJlbnZcIildO1xuXG5cdFx0XHRcdFx0XHRpZiAoIXRoaXNBcmcpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc3RyaWN0IHx8IGVudi5pc1N0cmljdCgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IF9wcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gZW52Lmdsb2JhbDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzZWxmID0gdGhpcztcblx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZUV4ZWN1dGlvblNjb3BlKHRoaXMsIHRoaXNBcmcpO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZWxmLm5hdGl2ZUZ1bmN0aW9uLmFwcGx5KGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KHRoaXNBcmcsIGNhbGxlZSksIGFyZ3MpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsLCB0aGlzKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImNvbnN0cnVjdFwiLFxuXHRcdHZhbHVlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY29uc3RydWN0KHRoaXNBcmcpIHtcblx0XHRcdHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMV07XG5cdFx0XHR2YXIgc2VsZiwgZW52LCBzY29wZTtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY29uc3RydWN0JChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdHNlbGYgPSB0aGlzO1xuXHRcdFx0XHRcdFx0ZW52ID0gdGhpc1tfU3ltYm9sJGZvcihcImVudlwiKV07XG5cdFx0XHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVFeGVjdXRpb25TY29wZSh0aGlzLCB0aGlzQXJnKTtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2VsZi5uYXRpdmVGdW5jdGlvbi5hcHBseShlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dCh0aGlzQXJnLCBzZWxmLCB0cnVlKSwgYXJncyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNvbnN0cnVjdCwgdGhpcyk7XG5cdFx0fSlcblx0fV0pO1xuXG5cdHJldHVybiBOYXRpdmVGdW5jdGlvblR5cGU7XG59KShfZnVuY3Rpb25UeXBlLkZ1bmN0aW9uVHlwZSk7XG5cbmV4cG9ydHMuTmF0aXZlRnVuY3Rpb25UeXBlID0gTmF0aXZlRnVuY3Rpb25UeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkZm9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvZm9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIF9wcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZnVuY3Rpb25UeXBlID0gcmVxdWlyZShcIi4vZnVuY3Rpb24tdHlwZVwiKTtcblxudmFyIF9uYXRpdmVGdW5jdGlvblR5cGUgPSByZXF1aXJlKFwiLi9uYXRpdmUtZnVuY3Rpb24tdHlwZVwiKTtcblxudmFyIF9yZWdleFR5cGUgPSByZXF1aXJlKFwiLi9yZWdleC10eXBlXCIpO1xuXG52YXIgX2FycmF5VHlwZSA9IHJlcXVpcmUoXCIuL2FycmF5LXR5cGVcIik7XG5cbnZhciBfc3RyaW5nVHlwZSA9IHJlcXVpcmUoXCIuL3N0cmluZy10eXBlXCIpO1xuXG52YXIgX2RhdGVUeXBlID0gcmVxdWlyZShcIi4vZGF0ZS10eXBlXCIpO1xuXG52YXIgX2Vycm9yVHlwZSA9IHJlcXVpcmUoXCIuL2Vycm9yLXR5cGVcIik7XG5cbnZhciBfYXJndW1lbnRUeXBlID0gcmVxdWlyZShcIi4vYXJndW1lbnQtdHlwZVwiKTtcblxudmFyIF9pdGVyYXRvclR5cGUgPSByZXF1aXJlKFwiLi9pdGVyYXRvci10eXBlXCIpO1xuXG52YXIgX3N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF9jb2xsZWN0aW9uVHlwZSA9IHJlcXVpcmUoXCIuL2NvbGxlY3Rpb24tdHlwZVwiKTtcblxudmFyIF9wcm94eVR5cGUgPSByZXF1aXJlKFwiLi9wcm94eS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBvcnBoYW5zID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG52YXIgZnVuY3Rpb25OYW1lTWF0Y2hlciA9IC8oW14uXSsoPzpcXFtTeW1ib2xcXC5cXHcrXFxdKT8pJC87XG5cbmZ1bmN0aW9uIHNldE9ycGhhbnMoc2NvcGUpIHtcblx0dmFyIF9sb29wID0gZnVuY3Rpb24gKHR5cGVOYW1lKSB7XG5cdFx0dmFyIHBhcmVudCA9IHNjb3BlLmdldFZhbHVlKHR5cGVOYW1lKTtcblx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRvcnBoYW5zW3R5cGVOYW1lXS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuXHRcdFx0XHRjaGlsZC5zZXRQcm90b3R5cGUocGFyZW50LmdldFZhbHVlKFwicHJvdG90eXBlXCIpKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRkZWxldGUgb3JwaGFuc1t0eXBlTmFtZV07XG5cdFx0fVxuXHR9O1xuXG5cdGZvciAodmFyIHR5cGVOYW1lIGluIG9ycGhhbnMpIHtcblx0XHRfbG9vcCh0eXBlTmFtZSk7XG5cdH1cblxuXHRvcnBoYW5zID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG59XG5cbmZ1bmN0aW9uIHNldFByb3RvKHR5cGVOYW1lLCBpbnN0YW5jZSwgZW52KSB7XG5cdGlmICghZW52Lmdsb2JhbCB8fCAhZW52Lmdsb2JhbC5vd25zKHR5cGVOYW1lKSkge1xuXHRcdC8vIGR1cmluZyBpbml0aWFsaXphdGlvbiBpdCBpcyBwb3NzaWJsZSBmb3Igb2JqZWN0cyB0byBiZSBjcmVhdGVkXG5cdFx0Ly8gYmVmb3JlIHRoZSB0eXBlcyBoYXZlIGJlZW4gcmVnaXN0ZXJlZCAtIGFkZCBhIHJlZ2lzdHJ5IG9mIGl0ZW1zXG5cdFx0Ly8gYW5kIHRoZXNlIGNhbiBiZSBmaWxsZWQgaW4gd2hlbiB0aGUgdHlwZSBpcyByZWdpc3RlcmVkXG5cdFx0b3JwaGFuc1t0eXBlTmFtZV0gPSBvcnBoYW5zW3R5cGVOYW1lXSB8fCBbXTtcblx0XHRvcnBoYW5zW3R5cGVOYW1lXS5wdXNoKGluc3RhbmNlKTtcblxuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciBwcm90byA9IGVudi5nbG9iYWwuZ2V0VmFsdWUodHlwZU5hbWUpLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRpbnN0YW5jZS5zZXRQcm90b3R5cGUocHJvdG8pO1xufVxuXG52YXIgZGVmYXVsdERlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfTtcbmZ1bmN0aW9uIGNyZWF0ZURhdGFQcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUpIHtcblx0dmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RGVzY3JpcHRvciA6IGFyZ3VtZW50c1sxXTtcblxuXHR2YXIgX3JlZiRjb25maWd1cmFibGUgPSBfcmVmLmNvbmZpZ3VyYWJsZTtcblx0dmFyIGNvbmZpZ3VyYWJsZSA9IF9yZWYkY29uZmlndXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRjb25maWd1cmFibGU7XG5cdHZhciBfcmVmJGVudW1lcmFibGUgPSBfcmVmLmVudW1lcmFibGU7XG5cdHZhciBlbnVtZXJhYmxlID0gX3JlZiRlbnVtZXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRlbnVtZXJhYmxlO1xuXHR2YXIgX3JlZiR3cml0YWJsZSA9IF9yZWYud3JpdGFibGU7XG5cdHZhciB3cml0YWJsZSA9IF9yZWYkd3JpdGFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJHdyaXRhYmxlO1xuXG5cdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIHdyaXRhYmxlOiB3cml0YWJsZSB9O1xufVxuXG52YXIgT2JqZWN0RmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkoZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9iamVjdEZhY3RvcnkpO1xuXG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5vcHRpb25zID0gZW52Lm9wdGlvbnM7XG5cdFx0dGhpcy5lY21hVmVyc2lvbiA9IGVudi5vcHRpb25zLmVjbWFWZXJzaW9uIHx8IDU7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoT2JqZWN0RmFjdG9yeSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0c2V0T3JwaGFucyh0aGlzLmVudik7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhIHByaW1pdGl2ZSBvYmplY3QgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG5hdGl2ZSB2YWx1ZS5cclxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgLSBUaGUgcHJpbWl0aXZlIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3RUeXBlfSBUaGUgcHJpbWl0aXZlIGluc3RhbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVByaW1pdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmUodmFsdWUpIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZShjb250cmFjdHMuZ2V0VHlwZSh2YWx1ZSksIHZhbHVlKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGFuIG9iamVjdCBiYXNlZCBvbiB0aGUgdHlwZSBzcGVjaWZpZWQuIEZvciBhIHByaW1pdGl2ZSB0eXBlIHRoZSBzZWNvbmRcclxuICAgKiBwYXJhbWV0ZXIgaXMgdXNlZCBhcyB0aGUgb2JqZWN0cyB1bmRlcmx5aW5nIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBvYmplY3QgdG8gY3JlYXRlLlxyXG4gICAqIEBwYXJhbSB7YW55fSBbdmFsdWVdIC0gVGhlIHByaW1pdGl2ZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIG5ldyBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKHR5cGVOYW1lLCB2YWx1ZSkge1xuXHRcdFx0Ly8gdGhlIHZhbHVlIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBhbiBvYmplY3Rcblx0XHRcdC8vIHRoaXMgY2FuIGhhcHBlbiBpZiBhbiBleGNlcHRpb24gaXMgcmV0aHJvd25cblx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIF9vYmplY3RUeXBlLk9iamVjdFR5cGUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG5cblx0XHRcdHN3aXRjaCAodHlwZU5hbWUpIHtcblx0XHRcdFx0Y2FzZSBcIk51bGxcIjpcblx0XHRcdFx0XHRyZXR1cm4gX3ByaW1pdGl2ZVR5cGUuTlVMTDtcblxuXHRcdFx0XHRjYXNlIFwiVW5kZWZpbmVkXCI6XG5cdFx0XHRcdFx0cmV0dXJuIF9wcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRjYXNlIFwiU3ltYm9sXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX3N5bWJvbFR5cGUuU3ltYm9sVHlwZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIlN0cmluZ1wiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9zdHJpbmdUeXBlLlN0cmluZ1R5cGUodmFsdWUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJOdW1iZXJcIjpcblx0XHRcdFx0Y2FzZSBcIkJvb2xlYW5cIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfcHJpbWl0aXZlVHlwZS5QcmltaXRpdmVUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiRGF0ZVwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9kYXRlVHlwZS5EYXRlVHlwZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIlJlZ0V4cFwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9yZWdleFR5cGUuUmVnZXhUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiQXJyYXlcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfYXJyYXlUeXBlLkFycmF5VHlwZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJTZXRcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfY29sbGVjdGlvblR5cGUuQ29sbGVjdGlvblR5cGUoXCJTZXRcIik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIk1hcFwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9jb2xsZWN0aW9uVHlwZS5Db2xsZWN0aW9uVHlwZShcIk1hcFwiKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiRXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIlR5cGVFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiUmVmZXJlbmNlRXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIlN5bnRheEVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJSYW5nZUVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJVUklFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiRXZhbEVycm9yXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX2Vycm9yVHlwZS5FcnJvclR5cGUodmFsdWUpO1xuXG5cdFx0XHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHR0eXBlTmFtZSA9IHZhbHVlLm5hbWUgfHwgdHlwZU5hbWU7XG5cdFx0XHRcdFx0XHRpZiAodmFsdWUubWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgbWVzc2FnZSA9IHRoaXMuY3JlYXRlUHJpbWl0aXZlKHZhbHVlLm1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcIm1lc3NhZ2VcIiwgY3JlYXRlRGF0YVByb3BlcnR5RGVzY3JpcHRvcihtZXNzYWdlLCB7IGVudW1lcmFibGU6IGZhbHNlIH0pKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRocm93IEVycm9yKFwiTm90IGEgcHJpbWl0aXZlOiBcIiArIHZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aW5zdGFuY2UuaW5pdCh0aGlzLmVudik7XG5cdFx0XHRzZXRQcm90byh0eXBlTmFtZSwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGVbXX0gW2VsZW1lbnRzXSAtIElmIHByb3ZpZGVkLCB0aGUgZWxlbWVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGUgbmV3IGFycmF5LlxyXG4gICAqIEByZXR1cm5zIHtBcnJheVR5cGV9IFRoZSBhcnJheSBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVBcnJheVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBcnJheShlbGVtZW50cykge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gdGhpcy5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0aWYgKGVsZW1lbnRzKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsbiA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShpLCBjcmVhdGVEYXRhUHJvcGVydHlEZXNjcmlwdG9yKGVsZW1lbnRzW2ldKSwgdHJ1ZSwgdGhpcy5lbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGFuIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdFR5cGV9IFtwcm90b10gLSBUaGUgcHJvdG90eXBlIHRvIHVzZSB3aXRoIHRoZSBuZXcgb2JqZWN0LiBJZiBubyB2YWx1ZSBpcyBwcm92aWRlZFxyXG4gICAqIHRoZSBPYmplY3QgcHJvdG90eXBlIHdpbGwgYmUgdXNlZC4gSWYgYG51bGxgIGlzIHBhc3NlZCBpbiwgbm8gcHJvdG90eXBlIHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlXHJcbiAgICogbmV3IG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIG9iamVjdCBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVPYmplY3RcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlT2JqZWN0KHByb3RvKSB7XG5cdFx0XHR2YXIgaW5zdGFuY2UgPSBuZXcgX29iamVjdFR5cGUuT2JqZWN0VHlwZSgpO1xuXG5cdFx0XHRpZiAocHJvdG8gIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHByb3RvKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2Uuc2V0UHJvdG90eXBlKHByb3RvLmdldFZhbHVlKFwicHJvdG90eXBlXCIpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXRQcm90byhcIk9iamVjdFwiLCBpbnN0YW5jZSwgdGhpcy5lbnYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGluc3RhbmNlLmluaXQodGhpcy5lbnYpO1xuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVQcm94eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm94eSh0YXJnZXQsIGhhbmRsZXIpIHtcblx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdCh0YXJnZXQsIFwiUHJveHlcIik7XG5cdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3QoaGFuZGxlciwgXCJQcm94eVwiKTtcblxuXHRcdFx0aWYgKHRhcmdldC5pc1Byb3h5ICYmIHRhcmdldC5yZXZva2VkKSB7XG5cdFx0XHRcdHRocm93IFR5cGVFcnJvcigpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaGFuZGxlci5pc1Byb3h5ICYmIGhhbmRsZXIucmV2b2tlZCkge1xuXHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9wcm94eVR5cGUuUHJveHlUeXBlKHRhcmdldCwgaGFuZGxlcik7XG5cdFx0XHRpbnN0YW5jZS5pbml0KHRoaXMuZW52KTtcblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlQXJndW1lbnRzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUFyZ3VtZW50cyhhcmdzLCBjYWxsZWUsIHN0cmljdCkge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9hcmd1bWVudFR5cGUuQXJndW1lbnRUeXBlKCk7XG5cdFx0XHR2YXIgb2JqZWN0Q2xhc3MgPSB0aGlzLmVudi5nbG9iYWwuZ2V0VmFsdWUoXCJPYmplY3RcIik7XG5cblx0XHRcdGluc3RhbmNlLmluaXQodGhpcy5lbnYsIG9iamVjdENsYXNzLCBvYmplY3RDbGFzcy5nZXRQcm90b3R5cGUoKSk7XG5cdFx0XHRpbnN0YW5jZS5zZXRQcm90b3R5cGUob2JqZWN0Q2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIikpO1xuXG5cdFx0XHRpZiAoc3RyaWN0KSB7XG5cdFx0XHRcdHZhciB0aHJvd2VyID0gdGhpcy5jcmVhdGVUaHJvd2VyKFwiJ2NhbGxlcicsICdjYWxsZWUnLCBhbmQgJ2FyZ3VtZW50cycgcHJvcGVydGllcyBtYXkgbm90IGJlIGFjY2Vzc2VkIG9uIHN0cmljdCBtb2RlIGZ1bmN0aW9ucyBvciB0aGUgYXJndW1lbnRzIG9iamVjdHMgZm9yIGNhbGxzIHRvIHRoZW1cIik7XG5cdFx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVlXCIsIHRocm93ZXIpO1xuXHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlclwiLCB0aHJvd2VyKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVlXCIsIHtcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0dmFsdWU6IGNhbGxlZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN0cmluZ1RhZ0tleSA9IF9zeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlLZXkoXCJ0b1N0cmluZ1RhZ1wiKTtcblx0XHRcdGlmIChzdHJpbmdUYWdLZXkpIHtcblx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lKHN0cmluZ1RhZ0tleSwgdGhpcy5jcmVhdGVQcmltaXRpdmUoXCJBcmd1bWVudHNcIikpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUl0ZXJhdG9yXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yKGl0ZXJhYmxlLCBwcm90bykge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9pdGVyYXRvclR5cGUuSXRlcmF0b3JUeXBlKGl0ZXJhYmxlKTtcblxuXHRcdFx0aWYgKCFwcm90bykge1xuXHRcdFx0XHRwcm90byA9IHRoaXMuY3JlYXRlT2JqZWN0KCk7XG5cdFx0XHRcdHByb3RvLmNsYXNzTmFtZSA9IFwiW1N5bWJvbC5pdGVyYXRvcl1cIjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFwcm90by5oYXMoXCJuZXh0XCIpKSB7XG5cdFx0XHRcdHByb3RvLmRlZmluZShcIm5leHRcIiwgdGhpcy5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciByZXN1bHQgPSB0aGlzLm5vZGUuYWR2YW5jZSgpO1xuXHRcdFx0XHRcdGlmIChyZXN1bHQudmFsdWUpIHtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQudmFsdWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHNlbGYuY3JlYXRlSXRlcmF0b3JSZXN1bHQoeyBkb25lOiB0cnVlIH0pO1xuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cblx0XHRcdGluc3RhbmNlLnNldFByb3RvdHlwZShwcm90byk7XG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUl0ZXJhdG9yUmVzdWx0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yUmVzdWx0KF9yZWYyKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZTtcblx0XHRcdHZhciBfcmVmMiRkb25lID0gX3JlZjIuZG9uZTtcblx0XHRcdHZhciBkb25lID0gX3JlZjIkZG9uZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMiRkb25lO1xuXG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5jcmVhdGVPYmplY3QoKTtcblx0XHRcdHJlc3VsdC5kZWZpbmVPd25Qcm9wZXJ0eShcImRvbmVcIiwgeyB2YWx1ZTogdGhpcy5jcmVhdGVQcmltaXRpdmUoZG9uZSkgfSk7XG5cdFx0XHRyZXN1bHQuZGVmaW5lT3duUHJvcGVydHkoXCJ2YWx1ZVwiLCB7IHZhbHVlOiB2YWx1ZSB8fCBfcHJpbWl0aXZlVHlwZS5VTkRFRklORUQgfSk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0ge0FTVHxGdW5jdGlvbn0gZm5Pck5vZGUgLSBUaGUgQVNUIG9yIGZ1bmN0aW9uIHRvIGJlIHVzZWQgd2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gW3Byb3RvXSAtIFRoZSBwcm90b3R5cGUgdG8gdXNlIGZvciB0aGUgZnVuY3Rpb24uIElmIG5vIG9iamVjdCBpcyBwcm92aWRlZFxyXG4gICAqIGFuIGVtcHR5IG9iamVjdCBpcyB1c2VkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBQcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgdXNlZCBmb3IgdGhlIHByb3RvdHlwZS5cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25UeXBlfSBUaGUgZnVuY3Rpb24gaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlRnVuY3Rpb25cIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb24oZm5Pck5vZGUsIHByb3RvKSB7XG5cdFx0XHR2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1syXTtcblxuXHRcdFx0dmFyIF9yZWYzJGNvbmZpZ3VyYWJsZSA9IF9yZWYzLmNvbmZpZ3VyYWJsZTtcblx0XHRcdHZhciBjb25maWd1cmFibGUgPSBfcmVmMyRjb25maWd1cmFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZjMkY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIF9yZWYzJGVudW1lcmFibGUgPSBfcmVmMy5lbnVtZXJhYmxlO1xuXHRcdFx0dmFyIGVudW1lcmFibGUgPSBfcmVmMyRlbnVtZXJhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYzJGVudW1lcmFibGU7XG5cdFx0XHR2YXIgX3JlZjMkd3JpdGFibGUgPSBfcmVmMy53cml0YWJsZTtcblx0XHRcdHZhciB3cml0YWJsZSA9IF9yZWYzJHdyaXRhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjMkd3JpdGFibGU7XG5cdFx0XHR2YXIgX3JlZjMkc3RyaWN0ID0gX3JlZjMuc3RyaWN0O1xuXHRcdFx0dmFyIHN0cmljdCA9IF9yZWYzJHN0cmljdCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMyRzdHJpY3Q7XG5cdFx0XHR2YXIgX3JlZjMkbmFtZSA9IF9yZWYzLm5hbWU7XG5cdFx0XHR2YXIgbmFtZSA9IF9yZWYzJG5hbWUgPT09IHVuZGVmaW5lZCA/IFwiYW5vbnltb3VzXCIgOiBfcmVmMyRuYW1lO1xuXG5cdFx0XHR2YXIgaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGlmICh0eXBlb2YgZm5Pck5vZGUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfbmF0aXZlRnVuY3Rpb25UeXBlLk5hdGl2ZUZ1bmN0aW9uVHlwZShmbk9yTm9kZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfZnVuY3Rpb25UeXBlLkZ1bmN0aW9uVHlwZShmbk9yTm9kZSk7XG5cdFx0XHR9XG5cblx0XHRcdGluc3RhbmNlLmluaXQodGhpcy5lbnYsIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLCBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLCB3cml0YWJsZTogd3JpdGFibGUgfSwgc3RyaWN0KTtcblx0XHRcdGluc3RhbmNlLm5hbWUgPSBuYW1lO1xuXG5cdFx0XHRpZiAodGhpcy5vcHRpb25zLmVjbWFWZXJzaW9uID4gNSkge1xuXHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcIm5hbWVcIiwgeyB2YWx1ZTogdGhpcy5jcmVhdGVQcmltaXRpdmUobmFtZSksIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LCB0cnVlLCB0aGlzLmVudik7XG5cdFx0XHR9XG5cblx0XHRcdHNldFByb3RvKFwiRnVuY3Rpb25cIiwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlR2V0dGVyXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUdldHRlcihmdW5jLCBrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jLCAwLCBcImdldCBcIiArIGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVNldHRlclwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTZXR0ZXIoZnVuYywga2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuYywgMSwgXCJzZXQgXCIgKyBrZXkpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB3aXRoIG5vIHByb3RvdHlwZSB0aGF0IGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIFRoZSB1bmRlcmx5aW5nIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggLSBUaGUgbGVuZ3RoIHByb3BlcnR5IG9mIHRoZSBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnVuY05hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXHJcbiAgICogQHJldHVybnMge05hdGl2ZUZ1bmN0aW9uVHlwZX0gVGhlIGZ1bmN0aW9uIGluc3RhbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUJ1aWx0SW5GdW5jdGlvblwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuYywgbGVuZ3RoLCBmdW5jTmFtZSkge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9uYXRpdmVGdW5jdGlvblR5cGUuTmF0aXZlRnVuY3Rpb25UeXBlKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoZnVuY05hbWUgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0c2V0UHJvdG8oXCJGdW5jdGlvblwiLCBpbnN0YW5jZSwgdGhpcy5lbnYpO1xuXHRcdFx0aW5zdGFuY2VbX1N5bWJvbCRmb3IoXCJlbnZcIildID0gdGhpcy5lbnY7XG5cdFx0XHRpbnN0YW5jZS5idWlsdEluID0gdHJ1ZTtcblx0XHRcdGluc3RhbmNlLmNhbkNvbnN0cnVjdCA9IGZhbHNlO1xuXHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogdGhpcy5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSwgY29uZmlndXJhYmxlOiB0aGlzLmVjbWFWZXJzaW9uID4gNSB9KTtcblxuXHRcdFx0dmFyIG1hdGNoID0gZnVuY3Rpb25OYW1lTWF0Y2hlci5leGVjKGZ1bmNOYW1lKTtcblx0XHRcdHZhciBuYW1lID0gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgZnVuY05hbWU7XG5cblx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwibmFtZVwiLCB7IHZhbHVlOiB0aGlzLmNyZWF0ZVByaW1pdGl2ZShuYW1lKSwgY29uZmlndXJhYmxlOiB0cnVlIH0sIHRydWUsIHRoaXMuZW52KTtcblxuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVUaHJvd2VyXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVRocm93ZXIobWVzc2FnZSwgdGhyb3dlcikge1xuXHRcdFx0dGhpcy50aHJvd2VycyA9IHRoaXMudGhyb3dlcnMgfHwgX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHRpZiAobWVzc2FnZSBpbiB0aGlzLnRocm93ZXJzKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRocm93ZXJzW21lc3NhZ2VdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aHJvd2VyID0gdGhyb3dlciB8fCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRocm93IFR5cGVFcnJvcihtZXNzYWdlKTtcblx0XHRcdH07XG5cblx0XHRcdC8vIHdlIHdhbnQgdG8ga2VlcCB0aGUgc2FtZSBpbnN0YW5jZSBvZiB0aGUgdGhyb3dlcnMgYmVjYXVzZSB0aGVyZVxuXHRcdFx0Ly8gYXJlIHNpbGx5IHRlc3RzIHRoYXQgY2hlY2sgZm9yIHRoaXNcblx0XHRcdHZhciB0aHJvd2VySW5zdGFuY2UgPSB0aGlzLmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbih0aHJvd2VyKTtcblx0XHRcdHJldHVybiB0aGlzLnRocm93ZXJzW21lc3NhZ2VdID0ge1xuXHRcdFx0XHRnZXQ6IHRocm93ZXJJbnN0YW5jZSxcblx0XHRcdFx0Z2V0dGVyOiB0aHJvd2VyLFxuXHRcdFx0XHRzZXQ6IHRocm93ZXJJbnN0YW5jZSxcblx0XHRcdFx0c2V0dGVyOiB0aHJvd2VyLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZVxuXHRcdFx0fTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gT2JqZWN0RmFjdG9yeTtcbn0pKCk7XG5cbmV4cG9ydHMuT2JqZWN0RmFjdG9yeSA9IE9iamVjdEZhY3Rvcnk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkZm9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvZm9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3Qka2V5cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXNcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xudmFyIG1hcmtlZDAkMCA9IFtwcm9wZXJ0eUl0ZXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc09wZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi91dGlscy9vcGVyYXRvcnNcIik7XG5cbnZhciBfcHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4vcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIGludGVnZXJNYXRjaGVyID0gL15cXG4rJC87XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGtleSkge1xuXHRyZXR1cm4ga2V5ICYmIHR5cGVvZiBrZXkgIT09IFwic3RyaW5nXCIgJiYga2V5LmlzU3ltYm9sO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eVNvdXJjZShrZXkpIHtcblx0cmV0dXJuIGlzU3ltYm9sKGtleSkgPyBcInN5bWJvbHNcIiA6IFwicHJvcGVydGllc1wiO1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUl0ZXJhdG9yKGVudiwgb2JqKSB7XG5cdHZhciB2aXNpdGVkLCBvYmplY3RGYWN0b3J5LCBjdXJyZW50LCBrZXlzLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGtleSwgZGVzYywgdmFsdWU7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBwcm9wZXJ0eUl0ZXJhdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHZpc2l0ZWQgPSBfT2JqZWN0JGNyZWF0ZShudWxsKTtcblx0XHRcdFx0b2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjdXJyZW50ID0gb2JqO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGlmICghY3VycmVudCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGtleXMgPSBjdXJyZW50LmdldE93blByb3BlcnR5S2V5cyhcIlN0cmluZ1wiKTtcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gODtcblx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKGtleXMpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRrZXkgPSBfc3RlcC52YWx1ZTtcblx0XHRcdFx0ZGVzYyA9IGN1cnJlbnQuZ2V0UHJvcGVydHkoa2V5KTtcblxuXHRcdFx0XHRpZiAoIWRlc2MpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShkZXNjLmVudW1lcmFibGUgJiYgIShrZXkgaW4gdmlzaXRlZCkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShrZXkpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yUmVzdWx0KHsgdmFsdWU6IHZhbHVlIH0pO1xuXG5cdFx0XHRjYXNlIDE4OlxuXG5cdFx0XHRcdHZpc2l0ZWRba2V5XSA9IHRydWU7XG5cblx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSg4KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyOTtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDMxO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMjgpO1xuXG5cdFx0XHRjYXNlIDM2OlxuXG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvclJlc3VsdCh7IGRvbmU6IHRydWUgfSkpO1xuXG5cdFx0XHRjYXNlIDQwOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzLCBbWzgsIDI0LCAyOCwgMzZdLCBbMjksLCAzMSwgMzVdXSk7XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5S2V5Q29tcGFyZXIoYSwgYikge1xuXHRpZiAoaW50ZWdlck1hdGNoZXIudGVzdChhKSkge1xuXHRcdGlmIChpbnRlZ2VyTWF0Y2hlci50ZXN0KGIpKSB7XG5cdFx0XHRyZXR1cm4gYSAtIGI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRpZiAoaW50ZWdlck1hdGNoZXIudGVzdChiKSkge1xuXHRcdHJldHVybiAtMTtcblx0fVxuXG5cdHJldHVybiAwO1xufVxuXG52YXIgT2JqZWN0VHlwZSA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIE9iamVjdFR5cGUoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9iamVjdFR5cGUpO1xuXG5cdFx0dGhpcy5pc1ByaW1pdGl2ZSA9IGZhbHNlO1xuXHRcdHRoaXMudHlwZSA9IFwib2JqZWN0XCI7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIk9iamVjdFwiO1xuXHRcdHRoaXMuZXh0ZW5zaWJsZSA9IHRydWU7XG5cdFx0dGhpcy5wcm9wZXJ0aWVzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy5zeW1ib2xzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cblx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHRcdHRoaXMucHJpbWl0aXZlSGludCA9IFwibnVtYmVyXCI7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoT2JqZWN0VHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KGVudiwgcHJvdG8sIGRlc2NyaXB0b3IsIHN0cmljdCkge1xuXHRcdFx0dGhpc1tfU3ltYm9sJGZvcihcImVudlwiKV0gPSBlbnY7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3RvdHlwZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRQcm90b3R5cGUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm90bztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0UHJvdG90eXBlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFByb3RvdHlwZShwcm90bykge1xuXHRcdFx0aWYgKHRoaXMucHJvdG8gPT09IHByb3RvKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMuaXNFeHRlbnNpYmxlKCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjaGVjayB3aGV0aGVyIHByb3RvdHlwZSBjaGFpbiBhbHJlYWR5IGluY2x1ZGVzIG9iamVjdFxuXHRcdFx0dmFyIGN1cnJlbnQgPSBwcm90bztcblx0XHRcdHdoaWxlIChjdXJyZW50KSB7XG5cdFx0XHRcdGlmIChjdXJyZW50ID09PSB0aGlzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudCA9IGN1cnJlbnQuZ2V0UHJvdG90eXBlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucHJvdG8gPSBwcm90bztcblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0UHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvcGVydHkoa2V5LCB0YXJnZXQpIHtcblx0XHRcdHRhcmdldCA9IHRhcmdldCB8fCB0aGlzO1xuXG5cdFx0XHR2YXIgbG9jYWxLZXkgPSBTdHJpbmcoa2V5KTtcblx0XHRcdHZhciBzb3VyY2UgPSBnZXRQcm9wZXJ0eVNvdXJjZShrZXkpO1xuXG5cdFx0XHRpZiAobG9jYWxLZXkgaW4gdGhpc1tzb3VyY2VdKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzW3NvdXJjZV1bbG9jYWxLZXldLmJpbmQodGFyZ2V0KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLmdldFByb3RvdHlwZSgpO1xuXHRcdFx0aWYgKGN1cnJlbnQpIHtcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnQuZ2V0UHJvcGVydHkoa2V5LCB0YXJnZXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eShrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlLZXlzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5S2V5cyhrZXlUeXBlKSB7XG5cdFx0XHR2YXIga2V5cyA9IFtdO1xuXG5cdFx0XHRpZiAoa2V5VHlwZSAhPT0gXCJTeW1ib2xcIikge1xuXHRcdFx0XHQvLyBub3RlOiB0aGlzIHVzZXMgbmF0aXZlIHNvcnQgd2hpY2ggbWF5IG5vdCBiZSBzdGFibGVcblx0XHRcdFx0a2V5cyA9IF9PYmplY3Qka2V5cyh0aGlzLnByb3BlcnRpZXMpLnNvcnQocHJvcGVydHlLZXlDb21wYXJlcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChrZXlUeXBlICE9PSBcIlN0cmluZ1wiKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiB0aGlzLnN5bWJvbHMpIHtcblx0XHRcdFx0XHRrZXlzLnB1c2godGhpcy5zeW1ib2xzW2tleV0ua2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ga2V5cztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiaXNFeHRlbnNpYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzRXh0ZW5zaWJsZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLmV4dGVuc2libGU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldEl0ZXJhdG9yXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldEl0ZXJhdG9yKCkge1xuXHRcdFx0dmFyIGVudiA9IHRoaXNbX1N5bWJvbCRmb3IoXCJlbnZcIildO1xuXHRcdFx0cmV0dXJuIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUl0ZXJhdG9yKHByb3BlcnR5SXRlcmF0b3IoZW52LCB0aGlzKSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cdFx0XHRpZiAoU3RyaW5nKGtleSkgaW4gdGhpc1tnZXRQcm9wZXJ0eVNvdXJjZShrZXkpXSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLmdldFByb3RvdHlwZSgpO1xuXHRcdFx0aWYgKGN1cnJlbnQpIHtcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnQuaGFzKGtleSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwib3duc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvd25zKGtleSkge1xuXHRcdFx0cmV0dXJuIFN0cmluZyhrZXkpIGluIHRoaXNbZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KV07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKGtleSwgdmFsdWUsIHJlY2VpdmVyKSB7XG5cdFx0XHRyZWNlaXZlciA9IHJlY2VpdmVyIHx8IHRoaXM7XG5cblx0XHRcdHZhciBkZXNjcmlwdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0aWYgKGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0aWYgKHRoaXMgIT09IHJlY2VpdmVyICYmIHJlY2VpdmVyLm93bnMoa2V5KSkge1xuXHRcdFx0XHRcdHZhciByZWNlaXZlckRlc2NyaXB0b3IgPSByZWNlaXZlci5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRcdGlmICghcmVjZWl2ZXJEZXNjcmlwdG9yLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGRlc2NyaXB0b3IgPSByZWNlaXZlckRlc2NyaXB0b3I7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZGVzY3JpcHRvci5oYXNWYWx1ZSgpICYmICgwLCBfdXRpbHNPcGVyYXRvcnMuYXJlU2FtZSkoZGVzY3JpcHRvci5nZXRWYWx1ZSgpLCB2YWx1ZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghZGVzY3JpcHRvci5jYW5TZXRWYWx1ZSgpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFkZXNjcmlwdG9yLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRcdGRlc2NyaXB0b3IuYmluZChyZWNlaXZlcik7XG5cdFx0XHRcdFx0ZGVzY3JpcHRvci5zZXRWYWx1ZSh2YWx1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWRlc2NyaXB0b3IuY2FuVXBkYXRlKHsgdmFsdWU6IHZhbHVlIH0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFyZWNlaXZlci5vd25zKGtleSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVjZWl2ZXIuZGVmaW5lT3duUHJvcGVydHkoa2V5LCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0XHR9LCBmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZXNjcmlwdG9yLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZWNlaXZlci5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIHtcblx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHR9LCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0Ly8gcHV0VmFsdWUgKGtleSwgdmFsdWUsIHRocm93T25FcnJvcikge1xuXHRcdC8vIFx0aWYgKHRoaXMuaXNQcmltaXRpdmUpIHtcblx0XHQvLyBcdFx0cmV0dXJuO1xuXHRcdC8vIFx0fVxuXG5cdFx0Ly8gXHRsZXQgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHQvLyBcdGlmIChkZXNjcmlwdG9yKSB7XG5cdFx0Ly8gXHRcdGlmICghZGVzY3JpcHRvci5jYW5TZXRWYWx1ZSgpKSB7XG5cdFx0Ly8gXHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdC8vIFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKGBDYW5ub3QgYXNzaWduIHRvIHJlYWQgb25seSBwcm9wZXJ0eSAnJHtrZXl9J2ApO1xuXHRcdC8vIFx0XHRcdH1cblxuXHRcdC8vIFx0XHRcdHJldHVybjtcblx0XHQvLyBcdFx0fVxuXG5cdFx0Ly8gXHRcdGlmIChkZXNjcmlwdG9yLmRhdGFQcm9wZXJ0eSAmJiAhdGhpcy5vd25zKGtleSkpIHtcblx0XHQvLyBcdFx0XHR0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXSA9IG5ldyBQcm9wZXJ0eURlc2NyaXB0b3IodGhpcywge1xuXHRcdC8vIFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdC8vIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcblx0XHQvLyBcdFx0XHRcdGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcblx0XHQvLyBcdFx0XHRcdHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlXG5cdFx0Ly8gXHRcdFx0fSwga2V5KTtcblxuXHRcdC8vIFx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdC8vIFx0XHR9IGVsc2Uge1xuXHRcdC8vIFx0XHRcdGRlc2NyaXB0b3Iuc2V0VmFsdWUodmFsdWUpO1xuXHRcdC8vIFx0XHR9XG5cdFx0Ly8gXHR9IGVsc2Uge1xuXHRcdC8vIFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KGtleSwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdGhyb3dPbkVycm9yKTtcblx0XHQvLyBcdH1cblx0XHQvLyB9XG5cblx0fSwge1xuXHRcdGtleTogXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWZpbmVPd25Qcm9wZXJ0eShrZXksIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHRcdFx0aWYgKHRoaXMuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBkZWZpbmUgcHJvcGVydHk6IFwiICsga2V5ICsgXCIsIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLmdldE93blByb3BlcnR5KGtleSk7XG5cdFx0XHRpZiAoY3VycmVudCkge1xuXHRcdFx0XHRpZiAoY3VycmVudC5jYW5VcGRhdGUoZGVzY3JpcHRvcikpIHtcblx0XHRcdFx0XHRjdXJyZW50LnVwZGF0ZShkZXNjcmlwdG9yKTtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6IFwiICsga2V5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuZXh0ZW5zaWJsZSkge1xuXHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGRlZmluZSBwcm9wZXJ0eTogXCIgKyBrZXkgKyBcIiwgb2JqZWN0IGlzIG5vdCBleHRlbnNpYmxlXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXSA9IG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBkZXNjcmlwdG9yLCBrZXkpO1xuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkoa2V5LCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHNvdXJjZSA9IGdldFByb3BlcnR5U291cmNlKGtleSk7XG5cdFx0XHRrZXkgPSBTdHJpbmcoa2V5KTtcblxuXHRcdFx0aWYgKGtleSBpbiB0aGlzW3NvdXJjZV0pIHtcblx0XHRcdFx0aWYgKCF0aGlzW3NvdXJjZV1ba2V5XS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgZGVsZXRlIHByb3BlcnR5OiBcIiArIGtleSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdFx0cmV0dXJuIGRlbGV0ZSB0aGlzW3NvdXJjZV1ba2V5XTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVmaW5lXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZShrZXksIHZhbHVlKSB7XG5cdFx0XHR2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzJdO1xuXG5cdFx0XHR2YXIgX3JlZiRjb25maWd1cmFibGUgPSBfcmVmLmNvbmZpZ3VyYWJsZTtcblx0XHRcdHZhciBjb25maWd1cmFibGUgPSBfcmVmJGNvbmZpZ3VyYWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIF9yZWYkZW51bWVyYWJsZSA9IF9yZWYuZW51bWVyYWJsZTtcblx0XHRcdHZhciBlbnVtZXJhYmxlID0gX3JlZiRlbnVtZXJhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkZW51bWVyYWJsZTtcblx0XHRcdHZhciBfcmVmJHdyaXRhYmxlID0gX3JlZi53cml0YWJsZTtcblx0XHRcdHZhciB3cml0YWJsZSA9IF9yZWYkd3JpdGFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJHdyaXRhYmxlO1xuXHRcdFx0dmFyIGdldHRlciA9IF9yZWYuZ2V0dGVyO1xuXHRcdFx0dmFyIGdldCA9IF9yZWYuZ2V0O1xuXHRcdFx0dmFyIHNldHRlciA9IF9yZWYuc2V0dGVyO1xuXHRcdFx0dmFyIHNldCA9IF9yZWYuc2V0O1xuXG5cdFx0XHQvLyB0aGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgdXNhZ2Ugb25seSAtIGl0IHByb3ZpZGVzIGEgd2F5IHRvIGRlZmluZVxuXHRcdFx0Ly8gbWV0aG9kcyBhbmQgcHJvcGVydGllcyBhbmQgb3ZlcndyaXRlIGFueSBleGlzdGluZyBwcm9wZXJ0aWVzIGV2ZW4gaWYgdGhleSBhcmVcblx0XHRcdC8vIG5vdCBjb25maWd1cmFibGVcblxuXHRcdFx0dmFyIGRlc2NyaXB0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRpZiAoZ2V0dGVyIHx8IHNldHRlcikge1xuXHRcdFx0XHRkZXNjcmlwdG9yID0geyBnZXR0ZXI6IGdldHRlciwgZ2V0OiBnZXQsIHNldHRlcjogc2V0dGVyLCBzZXQ6IHNldCwgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsIGVudW1lcmFibGU6IGVudW1lcmFibGUgfTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlc2NyaXB0b3IgPSB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIHdyaXRhYmxlOiB3cml0YWJsZSB9O1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXSA9IG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBkZXNjcmlwdG9yLCBrZXkpO1xuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJlbW92ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG5cdFx0XHQvLyB0aGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgdXNhZ2Ugb25seSAtIGl0IHByb3ZpZGVzIGEgd2F5IHRvIHJlbW92ZVxuXHRcdFx0Ly8gcHJvcGVydGllcyBldmVuIGlmIHRoZXkgYXJlIG5vdCBub3JtYWxseSBhYmxlIHRvIGJlIGRlbGV0ZWRcblx0XHRcdGRlbGV0ZSB0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXTtcblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShrZXkpIHtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YXIgcHJvcGVydHkgPSB0aGlzLmdldFByb3BlcnR5KGtleSk7XG5cdFx0XHRcdHJldHVybiBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5nZXRWYWx1ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZWFjaFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBlYWNoKGZ1bmMpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdFtcInByb3BlcnRpZXNcIiwgXCJzeW1ib2xzXCJdLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gX3RoaXNbc291cmNlXSkge1xuXHRcdFx0XHRcdGZ1bmMoX3RoaXNbc291cmNlXVtrZXldKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImZyZWV6ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBmcmVlemUoKSB7XG5cdFx0XHR2YXIgX3RoaXMyID0gdGhpcztcblxuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uIChkZXNjKSB7XG5cdFx0XHRcdGlmIChkZXNjLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRcdF90aGlzMi5kZWZpbmVPd25Qcm9wZXJ0eShkZXNjLmtleSwgeyB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogZmFsc2UgfSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0X3RoaXMyLmRlZmluZU93blByb3BlcnR5KGRlc2Mua2V5LCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnByZXZlbnRFeHRlbnNpb25zKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInByZXZlbnRFeHRlbnNpb25zXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHByZXZlbnRFeHRlbnNpb25zKCkge1xuXHRcdFx0dGhpcy5leHRlbnNpYmxlID0gZmFsc2U7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2VhbFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZWFsKCkge1xuXHRcdFx0dmFyIF90aGlzMyA9IHRoaXM7XG5cblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbiAoZGVzYykge1xuXHRcdFx0XHRfdGhpczMuZGVmaW5lT3duUHJvcGVydHkoZGVzYy5rZXksIHsgY29uZmlndXJhYmxlOiBmYWxzZSB9LCB0cnVlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnByZXZlbnRFeHRlbnNpb25zKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0dmFyIHVud3JhcHBlZCA9IHt9O1xuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzO1xuXG5cdFx0XHR3aGlsZSAoY3VycmVudCkge1xuXHRcdFx0XHRmb3IgKHZhciBfbmFtZSBpbiBjdXJyZW50LnByb3BlcnRpZXMpIHtcblx0XHRcdFx0XHRpZiAoY3VycmVudC5wcm9wZXJ0aWVzW19uYW1lXS5lbnVtZXJhYmxlICYmICEoX25hbWUgaW4gdW53cmFwcGVkKSkge1xuXHRcdFx0XHRcdFx0dW53cmFwcGVkW19uYW1lXSA9IGN1cnJlbnQuZ2V0VmFsdWUoX25hbWUpLnRvTmF0aXZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudCA9IGN1cnJlbnQuZ2V0UHJvdG90eXBlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bndyYXBwZWQ7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIE9iamVjdFR5cGU7XG59KSgpO1xuXG5leHBvcnRzLk9iamVjdFR5cGUgPSBPYmplY3RUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgUHJpbWl0aXZlVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKFByaW1pdGl2ZVR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBQcmltaXRpdmVUeXBlKHZhbHVlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByaW1pdGl2ZVR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJpbWl0aXZlVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cblx0XHR0aGlzLmlzUHJpbWl0aXZlID0gdHJ1ZTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdFx0dGhpcy50eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0dGhpcy5jbGFzc05hbWUgPSBjb250cmFjdHMuZ2V0VHlwZSh2YWx1ZSk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoUHJpbWl0aXZlVHlwZSwgW3tcblx0XHRrZXk6IFwiZ2V0UHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvcGVydHkobmFtZSkge1xuXHRcdFx0Ly8gY2FuJ3QgcmVhZCBwcm9wZXJ0aWVzIG9mIG51bGwvdW5kZWZpbmVkXG5cdFx0XHRpZiAodGhpcy52YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByb3BlcnR5ICdcIiArIG5hbWUgKyBcIicgb2YgXCIgKyB0aGlzLnR5cGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJpbWl0aXZlVHlwZS5wcm90b3R5cGUpLCBcImdldFByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFByaW1pdGl2ZVR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5QcmltaXRpdmVUeXBlID0gUHJpbWl0aXZlVHlwZTtcbnZhciBVTkRFRklORUQgPSBuZXcgUHJpbWl0aXZlVHlwZSh1bmRlZmluZWQpO1xuZXhwb3J0cy5VTkRFRklORUQgPSBVTkRFRklORUQ7XG52YXIgTlVMTCA9IG5ldyBQcmltaXRpdmVUeXBlKG51bGwpO1xuZXhwb3J0cy5OVUxMID0gTlVMTDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNPcGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vdXRpbHMvb3BlcmF0b3JzXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBfdXRpbHNPYmplY3QgPSByZXF1aXJlKFwiLi4vdXRpbHMvb2JqZWN0XCIpO1xuXG52YXIgZGVmYXVsdERlc2NyaXB0b3IgPSB7XG5cdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdGVudW1lcmFibGU6IGZhbHNlLFxuXHR3cml0YWJsZTogZmFsc2Vcbn07XG5cbnZhciBQcm9wZXJ0eURlc2NyaXB0b3IgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBQcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgY29uZmlnLCBrZXkpIHtcblx0XHRpZiAoY29uZmlnID09PSB1bmRlZmluZWQpIGNvbmZpZyA9IGRlZmF1bHREZXNjcmlwdG9yO1xuXG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3BlcnR5RGVzY3JpcHRvcik7XG5cblx0XHR0aGlzLmJhc2UgPSBiYXNlO1xuXHRcdHRoaXMuY29uZmlndXJhYmxlID0gY29uZmlnLmNvbmZpZ3VyYWJsZSB8fCBmYWxzZTtcblx0XHR0aGlzLmVudW1lcmFibGUgPSBjb25maWcuZW51bWVyYWJsZSB8fCBmYWxzZTtcblx0XHR0aGlzLmtleSA9IGtleTtcblxuXHRcdGlmIChcImdldFwiIGluIGNvbmZpZyB8fCBcInNldFwiIGluIGNvbmZpZykge1xuXHRcdFx0dGhpcy5kYXRhUHJvcGVydHkgPSBmYWxzZTtcblx0XHRcdHRoaXMuZ2V0ID0gY29uZmlnLmdldDtcblx0XHRcdHRoaXMuZ2V0dGVyID0gY29uZmlnLmdldHRlcjtcblx0XHRcdHRoaXMuc2V0ID0gY29uZmlnLnNldDtcblx0XHRcdHRoaXMuc2V0dGVyID0gY29uZmlnLnNldHRlcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy53cml0YWJsZSA9IGNvbmZpZy53cml0YWJsZSB8fCBmYWxzZTtcblx0XHRcdHRoaXMuZGF0YVByb3BlcnR5ID0gdHJ1ZTtcblx0XHRcdHRoaXMudmFsdWUgPSBjb25maWcudmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFByb3BlcnR5RGVzY3JpcHRvciwgW3tcblx0XHRrZXk6IFwiYmluZFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBiaW5kKG9iaikge1xuXHRcdFx0dGhpcy5iYXNlID0gb2JqO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInVwZGF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoZGVzY3JpcHRvcikge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdGlmICgoMCwgX3V0aWxzT2JqZWN0Lm93bnMpKGRlc2NyaXB0b3IsIHByb3ApKSB7XG5cdFx0XHRcdFx0dGhpc1twcm9wXSA9IGRlc2NyaXB0b3JbcHJvcF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKFwiZ2V0XCIgaW4gZGVzY3JpcHRvciB8fCBcInNldFwiIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0dGhpcy53cml0YWJsZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0dGhpcy5kYXRhUHJvcGVydHkgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0dGhpcy53cml0YWJsZSA9IHRoaXMud3JpdGFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdGhpcy53cml0YWJsZTtcblx0XHRcdFx0dGhpcy5kYXRhUHJvcGVydHkgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLmdldCA9IHRoaXMuZ2V0dGVyID0gdGhpcy5zZXQgPSB0aGlzLnNldHRlciA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY2FuVXBkYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNhblVwZGF0ZShkZXNjcmlwdG9yKSB7XG5cdFx0XHRpZiAodGhpcy5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcImNvbmZpZ3VyYWJsZVwiIGluIGRlc2NyaXB0b3IgJiYgdGhpcy5jb25maWd1cmFibGUgIT09IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwiZW51bWVyYWJsZVwiIGluIGRlc2NyaXB0b3IgJiYgdGhpcy5lbnVtZXJhYmxlICE9PSBkZXNjcmlwdG9yLmVudW1lcmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKFwiZ2V0XCIgaW4gZGVzY3JpcHRvciB8fCBcInNldFwiIGluIGRlc2NyaXB0b3IpICYmIHRoaXMuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yICYmICF0aGlzLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRpZiAoIXRoaXMud3JpdGFibGUpIHtcblx0XHRcdFx0XHRpZiAoZGVzY3JpcHRvci53cml0YWJsZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiAhKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSB8fCAoMCwgX3V0aWxzT3BlcmF0b3JzLmFyZVNhbWUpKHRoaXMudmFsdWUsIGRlc2NyaXB0b3IudmFsdWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcImdldFwiIGluIGRlc2NyaXB0b3IgJiYgdGhpcy5nZXQgIT09IGRlc2NyaXB0b3IuZ2V0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwic2V0XCIgaW4gZGVzY3JpcHRvciAmJiB0aGlzLnNldCAhPT0gZGVzY3JpcHRvci5zZXQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdFx0XHRpZiAodGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmdldHRlcikge1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHRoaXMuZ2V0dGVyLmNhbGwodGhpcy5iYXNlKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhblNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNhblNldFZhbHVlKHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy53cml0YWJsZSB8fCAhIXRoaXMuc2V0dGVyO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuXHRcdFx0aWYgKCF0aGlzLmNhblNldFZhbHVlKCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnNldHRlcikge1xuXHRcdFx0XHQoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkodGhpcy5zZXR0ZXIuY2FsbCh0aGlzLmJhc2UsIHZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc1ZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhc1ZhbHVlKCkge1xuXHRcdFx0cmV0dXJuICEhdGhpcy52YWx1ZSB8fCAhIXRoaXMuZ2V0dGVyO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBQcm9wZXJ0eURlc2NyaXB0b3I7XG59KSgpO1xuXG5leHBvcnRzLlByb3BlcnR5RGVzY3JpcHRvciA9IFByb3BlcnR5RGVzY3JpcHRvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGZvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2ZvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG4vLyBpbXBvcnQge2V4ZWN1dGUgYXMgZXhlY30gZnJvbSBcIi4uL3V0aWxzL2Z1bmNcIjtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9wcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi9wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG52YXIgZW52U3ltYm9sID0gX1N5bWJvbCRmb3IoXCJlbnZcIik7XG5cbmZ1bmN0aW9uIGdldFByb3h5TWV0aG9kKHByb3h5LCBrZXkpIHtcblx0dmFyIGhhbmRsZXIgPSBwcm94eS5oYW5kbGVyLmdldFByb3BlcnR5KGtleSk7XG5cdGlmICghaGFuZGxlcikge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0dmFyIG1ldGhvZCA9IGhhbmRsZXIuZ2V0VmFsdWUoKTtcblx0aWYgKGNvbnRyYWN0cy5pc1VuZGVmaW5lZChtZXRob2QpKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihtZXRob2QsIGtleSk7XG5cdHJldHVybiBtZXRob2Q7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlT3JEZWZhdWx0KG9iaiwga2V5KSB7XG5cdHZhciBkZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBfcHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBhcmd1bWVudHNbMl07XG5cdHZhciB0cmFuc2Zvcm1lciA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZ1bmN0aW9uICh2KSB7XG5cdFx0cmV0dXJuIHY7XG5cdH0gOiBhcmd1bWVudHNbM107XG5cblx0dmFyIHByb3BJbmZvID0gb2JqLmdldFByb3BlcnR5KGtleSk7XG5cdGlmIChwcm9wSW5mbykge1xuXHRcdHJldHVybiB0cmFuc2Zvcm1lcihwcm9wSW5mby5nZXRWYWx1ZSgpKTtcblx0fVxuXG5cdHJldHVybiBkZWZhdWx0VmFsdWU7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShlbnYsIGtleSkge1xuXHRpZiAodHlwZW9mIGtleSAhPT0gXCJvYmplY3RcIikge1xuXHRcdHJldHVybiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nKGtleSkpO1xuXHR9XG5cblx0cmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gZGVub3JtYWxpemVLZXkoa2V5KSB7XG5cdGlmIChrZXkuaXNTeW1ib2wpIHtcblx0XHRyZXR1cm4ga2V5O1xuXHR9XG5cblx0cmV0dXJuIGtleS50b05hdGl2ZSgpO1xufVxuXG5mdW5jdGlvbiB0b1Byb3BlcnR5RGVzY3JpcHRvcihlbnYsIGRlc2NyaXB0b3IpIHtcblx0dmFyIHJlc3VsdCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRpZiAoZGVzY3JpcHRvci5nZXQgfHwgZGVzY3JpcHRvci5zZXQpIHtcblx0XHRyZXN1bHQuc2V0VmFsdWUoXCJnZXRcIiwgZGVzY3JpcHRvci5nZXQgfHwgX3ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblx0XHRyZXN1bHQuc2V0VmFsdWUoXCJzZXRcIiwgZGVzY3JpcHRvci5zZXQgfHwgX3ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblx0fSBlbHNlIHtcblx0XHRyZXN1bHQuc2V0VmFsdWUoXCJ2YWx1ZVwiLCBkZXNjcmlwdG9yLnZhbHVlKTtcblx0XHRyZXN1bHQuc2V0VmFsdWUoXCJ3cml0YWJsZVwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVzY3JpcHRvci53cml0YWJsZSkpO1xuXHR9XG5cblx0cmVzdWx0LnNldFZhbHVlKFwiZW51bWVyYWJsZVwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVzY3JpcHRvci5lbnVtZXJhYmxlKSk7XG5cdHJlc3VsdC5zZXRWYWx1ZShcImNvbmZpZ3VyYWJsZVwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVzY3JpcHRvci5jb25maWd1cmFibGUpKTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdG9DYWxsKHByb3h5LCBtZXRob2ROYW1lKSB7XG5cdHZhciBwcm94eU1ldGhvZCA9IGdldFByb3h5TWV0aG9kKHByb3h5LCBcImFwcGx5XCIpO1xuXHRpZiAoY29udHJhY3RzLmlzVW5kZWZpbmVkKHByb3h5TWV0aG9kKSkge1xuXHRcdHJldHVybiBwcm94eS50YXJnZXQuZ2V0VmFsdWUobWV0aG9kTmFtZSk7XG5cdH1cblxuXHRyZXR1cm4gcHJveHlbZW52U3ltYm9sXS5vYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0aGlzQXJnKSB7XG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdFx0XHRhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKG1ldGhvZE5hbWUgPT09IFwiYXBwbHlcIiAmJiBhcmdzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGFyZ3MgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKGFyZ3NbMF0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiBwcm94eS5jYWxsKHRoaXNBcmcsIGFyZ3MpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS5cIiArIG1ldGhvZE5hbWUpO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRJc05vdFJldm9rZWQocHJveHksIG1ldGhvZE5hbWUpIHtcblx0aWYgKHByb3h5LnJldm9rZWQpIHtcblx0XHR0aHJvdyBUeXBlRXJyb3IoXCJNZXRob2QgXCIgKyBtZXRob2ROYW1lICsgXCIgY2FsbGVkIG9uIGEgcmV2b2tlZCBQcm94eSBvYmplY3RcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gdGhyb3dQcm94eUludmFyaWFudEVycm9yKG1ldGhvZE5hbWUpIHtcblx0dGhyb3cgVHlwZUVycm9yKFwiSW52YXJpYW50IGNoZWNrIGZhaWxlZCBmb3IgcHJveHkgXCIgKyBtZXRob2ROYW1lICsgXCIgdHJhcFwiKTtcbn1cblxudmFyIFByb3h5VHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKFByb3h5VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFByb3h5VHlwZSh0YXJnZXQsIGhhbmRsZXIpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJveHlUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3h5VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdFx0dGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IHRhcmdldC5jbGFzc05hbWU7XG5cdFx0dGhpcy50eXBlID0gdGFyZ2V0LnR5cGU7XG5cdFx0dGhpcy5yZXZva2VkID0gZmFsc2U7XG5cdFx0dGhpcy5pc1Byb3h5ID0gdHJ1ZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhQcm94eVR5cGUsIFt7XG5cdFx0a2V5OiBcImNhbGxcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGwodGhpc0FyZywgYXJncykge1xuXHRcdFx0dmFyIHByb3h5TWV0aG9kLFxuXHRcdFx0ICAgIF90YXJnZXQsXG5cdFx0XHQgICAgYXJnc0FycmF5LFxuXHRcdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGwkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwiYXBwbHlcIik7XG5cblx0XHRcdFx0XHRcdHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJhcHBseVwiKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKF90YXJnZXQgPSB0aGlzLnRhcmdldCkuY2FsbC5hcHBseShfdGFyZ2V0LCBhcmdzJDIkMCk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0YXJnc0FycmF5ID0gdGhpc1tlbnZTeW1ib2xdLm9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoYXJncyk7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdHJldHVybiBwcm94eU1ldGhvZC5jYWxsKHRoaXMuaGFuZGxlciwgW3RoaXMudGFyZ2V0LCB0aGlzQXJnLCBhcmdzQXJyYXldKTtcblxuXHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGwsIHRoaXMpO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiY29uc3RydWN0XCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjb25zdHJ1Y3QodGhpc0FyZywgYXJncykge1xuXHRcdFx0dmFyIHByb3h5TWV0aG9kLFxuXHRcdFx0ICAgIF90YXJnZXQyLFxuXHRcdFx0ICAgIGFyZ3NBcnJheSxcblx0XHRcdCAgICBuZXdPYmosXG5cdFx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY29uc3RydWN0JChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcImNvbnN0cnVjdFwiKTtcblxuXHRcdFx0XHRcdFx0cHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImNvbnN0cnVjdFwiKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKF90YXJnZXQyID0gdGhpcy50YXJnZXQpLmNvbnN0cnVjdC5hcHBseShfdGFyZ2V0MiwgYXJncyQyJDApO1xuXG5cdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdGFyZ3NBcnJheSA9IHRoaXNbZW52U3ltYm9sXS5vYmplY3RGYWN0b3J5LmNyZWF0ZUFycmF5KGFyZ3MpO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldCwgYXJnc0FycmF5LCB0aGlzXSk7XG5cblx0XHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0XHRuZXdPYmogPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc09iamVjdChuZXdPYmopKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImNvbnN0cnVjdFwiKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdPYmopO1xuXG5cdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjb25zdHJ1Y3QsIHRoaXMpO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcblx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcImhhc1wiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJoYXNcIik7XG5cdFx0XHRpZiAoIXByb3h5TWV0aG9kKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5oYXMoa2V5KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSldKSkpO1xuXHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHRcdFx0aWYgKCFwcm9wSW5mby5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImhhc1wiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMudGFyZ2V0LmlzRXh0ZW5zaWJsZSgpKSB7XG5cdFx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJoYXNcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcIm93bnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gb3ducyhrZXkpIHtcblx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5vd25zKGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KGtleSwgdGFyZ2V0KSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJnZXRcIik7XG5cblx0XHRcdC8vIHNwZWNpYWwgY2FzZSBmb3IgZnVuY3Rpb24gdHlwZXNcblx0XHRcdGlmICh0aGlzLnR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiAoa2V5ID09PSBcImNhbGxcIiB8fCBrZXkgPT09IFwiYXBwbHlcIikpIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCB7IHZhbHVlOiB0b0NhbGwodGhpcywga2V5KSB9LCBrZXkpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImdldFwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmdldFByb3BlcnR5KGtleSwgdGFyZ2V0KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciB2YWx1ZSA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShwcm94eU1ldGhvZC5jYWxsKHRoaXMuaGFuZGxlciwgW3RoaXMudGFyZ2V0LCBub3JtYWxpemVLZXkoZW52LCBrZXkpLCB0aGlzXSkpO1xuXHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdGlmIChwcm9wSW5mbyAmJiAhcHJvcEluZm8uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdHZhciB0YXJnZXRWYWx1ZSA9IHByb3BJbmZvLmdldFZhbHVlKCk7XG5cdFx0XHRcdGlmIChwcm9wSW5mby5kYXRhUHJvcGVydHkgJiYgIXByb3BJbmZvLndyaXRhYmxlICYmICFlbnYub3BzLmFyZVNhbWUodmFsdWUsIHRhcmdldFZhbHVlKSkge1xuXHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImdldFwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghcHJvcEluZm8uZGF0YVByb3BlcnR5ICYmIGNvbnRyYWN0cy5pc1VuZGVmaW5lZChwcm9wSW5mby5nZXQpICYmICFjb250cmFjdHMuaXNVbmRlZmluZWQodmFsdWUpKSB7XG5cdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZ2V0XCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgeyB2YWx1ZTogdmFsdWUgfSwga2V5KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHkoa2V5KSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cblx0XHRcdHZhciBwcm94eU1ldGhvZCA9IGdldFByb3h5TWV0aG9kKHRoaXMsIFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIpO1xuXHRcdFx0aWYgKCFwcm94eU1ldGhvZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy50YXJnZXQuZ2V0T3duUHJvcGVydHkoa2V5KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciBkZXNjcmlwdG9yID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSldKSk7XG5cdFx0XHRpZiAoZGVzY3JpcHRvci50eXBlICE9PSBcIm9iamVjdFwiICYmIGRlc2NyaXB0b3IudHlwZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcm9wSW5mbyA9IHRoaXMudGFyZ2V0LmdldE93blByb3BlcnR5KGtleSk7XG5cdFx0XHR2YXIgaGFzRGVzY3JpcHRvciA9ICEhcHJvcEluZm87XG5cdFx0XHR2YXIgZnJvemVuID0gIXRoaXMudGFyZ2V0LmlzRXh0ZW5zaWJsZSgpIHx8IGhhc0Rlc2NyaXB0b3IgJiYgIXByb3BJbmZvLmNvbmZpZ3VyYWJsZTtcblxuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc1VuZGVmaW5lZChkZXNjcmlwdG9yKSkge1xuXHRcdFx0XHRpZiAoZnJvemVuKSB7XG5cdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFoYXNEZXNjcmlwdG9yICYmIGZyb3plbikge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbnVtZXJhYmxlID0gZ2V0VmFsdWVPckRlZmF1bHQoZGVzY3JpcHRvciwgXCJlbnVtZXJhYmxlXCIsIGZhbHNlLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKTtcblx0XHRcdHZhciBjb25maWd1cmFibGUgPSBnZXRWYWx1ZU9yRGVmYXVsdChkZXNjcmlwdG9yLCBcImNvbmZpZ3VyYWJsZVwiLCBmYWxzZSwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbik7XG5cdFx0XHR2YXIgd3JpdGFibGUgPSBnZXRWYWx1ZU9yRGVmYXVsdChkZXNjcmlwdG9yLCBcIndyaXRhYmxlXCIsIGZhbHNlLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKTtcblx0XHRcdHZhciB2YWx1ZSA9IGdldFZhbHVlT3JEZWZhdWx0KGRlc2NyaXB0b3IsIFwidmFsdWVcIik7XG5cdFx0XHR2YXIgZ2V0dGVyID0gZ2V0VmFsdWVPckRlZmF1bHQoZGVzY3JpcHRvciwgXCJnZXRcIiwgbnVsbCk7XG5cdFx0XHR2YXIgc2V0dGVyID0gZ2V0VmFsdWVPckRlZmF1bHQoZGVzY3JpcHRvciwgXCJzZXRcIiwgbnVsbCk7XG5cblx0XHRcdGlmICghY29uZmlndXJhYmxlICYmICghaGFzRGVzY3JpcHRvciB8fCAhZnJvemVuKSkge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIik7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcm94eURlc2NyaXB0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRpZiAoZ2V0dGVyIHx8IHNldHRlcikge1xuXHRcdFx0XHRwcm94eURlc2NyaXB0b3IgPSB7IGdldHRlcjogZ2V0dGVyLCBzZXR0ZXI6IHNldHRlciwgZ2V0OiB1bmRlZmluZWQsIHNldDogdW5kZWZpbmVkLCBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSB9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHJveHlEZXNjcmlwdG9yID0geyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLCB3cml0YWJsZTogd3JpdGFibGUgfTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGhhc0Rlc2NyaXB0b3IgJiYgIXByb3BJbmZvLmNhblVwZGF0ZShwcm94eURlc2NyaXB0b3IpKSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBwcm94eURlc2NyaXB0b3IsIGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3RvdHlwZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRQcm90b3R5cGUoKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJnZXRQcm90b3R5cGVPZlwiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJnZXRQcm90b3R5cGVPZlwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcHJvdG8gPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldF0pKTtcblx0XHRcdGlmICghY29udHJhY3RzLmlzT2JqZWN0KHByb3RvKSAmJiAhY29udHJhY3RzLmlzTnVsbChwcm90bykpIHtcblx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZ2V0UHJvdG90eXBlT2ZcIik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSkge1xuXHRcdFx0XHRyZXR1cm4gcHJvdG87XG5cdFx0XHR9XG5cblx0XHRcdHZhciB0YXJnZXRQcm90byA9IHRoaXMudGFyZ2V0LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0aWYgKHRhcmdldFByb3RvICE9PSBwcm90bykge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJnZXRQcm90b3R5cGVPZlwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHByb3RvO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzZXRQcm90b3R5cGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0UHJvdG90eXBlKHByb3RvKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJzZXRQcm90b3R5cGVPZlwiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJzZXRQcm90b3R5cGVPZlwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LnNldFByb3RvdHlwZShwcm90byk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIHByb3RvXSkpKTtcblx0XHRcdGlmICh0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdGFyZ2V0UHJvdG8gPSB0aGlzLnRhcmdldC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdGlmIChyZXN1bHQgJiYgdGFyZ2V0UHJvdG8gIT09IHByb3RvKSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcInNldFByb3RvdHlwZU9mXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJpc0V4dGVuc2libGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNFeHRlbnNpYmxlKCkge1xuXHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwiaXNFeHRlbnNpYmxlXCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImlzRXh0ZW5zaWJsZVwiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmlzRXh0ZW5zaWJsZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVzdWx0ID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKCgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShwcm94eU1ldGhvZC5jYWxsKHRoaXMuaGFuZGxlciwgW3RoaXMudGFyZ2V0XSkpKTtcblx0XHRcdHZhciB0YXJnZXRSZXN1bHQgPSB0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKTtcblxuXHRcdFx0aWYgKHJlc3VsdCAhPT0gdGFyZ2V0UmVzdWx0KSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImlzRXh0ZW5zaWJsZVwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicHJldmVudEV4dGVuc2lvbnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMoKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtcblx0XHRcdGlmICghcHJveHlNZXRob2QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LnByZXZlbnRFeHRlbnNpb25zKCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXRdKSkpO1xuXHRcdFx0aWYgKHJlc3VsdCAmJiB0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSkge1xuXHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVsZXRlUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkoa2V5LCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcImRlbGV0ZVByb3BlcnR5XCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImRlbGV0ZVByb3BlcnR5XCIpO1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc1VuZGVmaW5lZChwcm94eU1ldGhvZCkpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmRlbGV0ZVByb3BlcnR5KGtleSwgdGhyb3dPbkVycm9yKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXNbZW52U3ltYm9sXTtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSldKSkpO1xuXHRcdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0XHR2YXIgcHJvcEluZm8gPSB0aGlzLnRhcmdldC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRpZiAocHJvcEluZm8gJiYgIXByb3BJbmZvLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImRlbGV0ZVByb3BlcnR5XCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlZmluZU93blByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZU93blByb3BlcnR5KGtleSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRhc3NlcnRJc05vdFJldm9rZWQodGhpcywgXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblxuXHRcdFx0dmFyIHByb3h5TWV0aG9kID0gZ2V0UHJveHlNZXRob2QodGhpcywgXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHZhciBfdGFyZ2V0MztcblxuXHRcdFx0XHRyZXR1cm4gKF90YXJnZXQzID0gdGhpcy50YXJnZXQpLmRlZmluZU93blByb3BlcnR5LmFwcGx5KF90YXJnZXQzLCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW52ID0gdGhpc1tlbnZTeW1ib2xdO1xuXHRcdFx0dmFyIGRlc2MgPSB0b1Byb3BlcnR5RGVzY3JpcHRvcihlbnYsIGRlc2NyaXB0b3IpO1xuXHRcdFx0dmFyIHJlc3VsdCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKSgoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldCwgbm9ybWFsaXplS2V5KGVudiwga2V5KSwgZGVzY10pKSk7XG5cblx0XHRcdGlmIChyZXN1bHQpIHtcblx0XHRcdFx0dmFyIHByb3BJbmZvID0gdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoa2V5KTtcblx0XHRcdFx0aWYgKHByb3BJbmZvKSB7XG5cdFx0XHRcdFx0aWYgKFwiY29uZmlndXJhYmxlXCIgaW4gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAhPT0gcHJvcEluZm8uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIXByb3BJbmZvLmNhblVwZGF0ZShkZXNjcmlwdG9yKSkge1xuXHRcdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwiZGVmaW5lUHJvcGVydHlcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKCF0aGlzLnRhcmdldC5pc0V4dGVuc2libGUoKSB8fCBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJkZWZpbmVQcm9wZXJ0eVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRPd25Qcm9wZXJ0eUtleXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlLZXlzKGtleVR5cGUpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdGFzc2VydElzTm90UmV2b2tlZCh0aGlzLCBcIm93bktleXNcIik7XG5cblx0XHRcdHZhciBwcm94eU1ldGhvZCA9IGdldFByb3h5TWV0aG9kKHRoaXMsIFwib3duS2V5c1wiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5nZXRPd25Qcm9wZXJ0eUtleXMoa2V5VHlwZSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcm94eUtleXMgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KSgoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkocHJveHlNZXRob2QuY2FsbCh0aGlzLmhhbmRsZXIsIFt0aGlzLnRhcmdldF0pKSkpO1xuXHRcdFx0dmFyIHJhd0tleXMgPSBwcm94eUtleXMubWFwKGRlbm9ybWFsaXplS2V5KTtcblx0XHRcdHZhciB0YXJnZXRLZXlzID0gdGhpcy50YXJnZXQuZ2V0T3duUHJvcGVydHlLZXlzKCk7XG5cblx0XHRcdGlmICghdGhpcy50YXJnZXQuaXNFeHRlbnNpYmxlKCkpIHtcblx0XHRcdFx0aWYgKHJhd0tleXMubGVuZ3RoICE9PSB0YXJnZXRLZXlzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcIm93bktleXNcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodGFyZ2V0S2V5cy5zb21lKGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJhd0tleXMuaW5kZXhPZihrKSA9PT0gLTE7XG5cdFx0XHRcdH0pKSB7XG5cdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwib3duS2V5c1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGZpeGVkS2V5cyA9IHRhcmdldEtleXMuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdFx0cmV0dXJuICFfdGhpcy50YXJnZXQuZ2V0UHJvcGVydHkoaykuY29uZmlndXJhYmxlO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGZpeGVkS2V5cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0aWYgKGZpeGVkS2V5cy5zb21lKGZ1bmN0aW9uIChrKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmF3S2V5cy5pbmRleE9mKGspID09PSAtMTtcblx0XHRcdFx0XHR9KSkge1xuXHRcdFx0XHRcdFx0dGhyb3dQcm94eUludmFyaWFudEVycm9yKFwib3duS2V5c1wiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJhd0tleXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldEl0ZXJhdG9yXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldEl0ZXJhdG9yKCkge1xuXHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwiZW51bWVyYXRlXCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcImVudW1lcmF0ZVwiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnRhcmdldC5nZXRJdGVyYXRvcigpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVzdWx0ID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBbdGhpcy50YXJnZXRdKSk7XG5cdFx0XHRpZiAoIWNvbnRyYWN0cy5pc09iamVjdChyZXN1bHQpKSB7XG5cdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcImVudW1lcmF0ZVwiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoa2V5LCB2YWx1ZSkge1xuXHRcdFx0YXNzZXJ0SXNOb3RSZXZva2VkKHRoaXMsIFwic2V0XCIpO1xuXG5cdFx0XHR2YXIgcHJveHlNZXRob2QgPSBnZXRQcm94eU1ldGhvZCh0aGlzLCBcInNldFwiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQocHJveHlNZXRob2QpKSB7XG5cdFx0XHRcdHZhciBfdGFyZ2V0NDtcblxuXHRcdFx0XHRyZXR1cm4gKF90YXJnZXQ0ID0gdGhpcy50YXJnZXQpLnNldFZhbHVlLmFwcGx5KF90YXJnZXQ0LCBhcmd1bWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW52ID0gdGhpc1tlbnZTeW1ib2xdO1xuXHRcdFx0dmFyIGFyZ3MgPSBbdGhpcy50YXJnZXQsIG5vcm1hbGl6ZUtleShlbnYsIGtleSksIHZhbHVlLCB0aGlzXTtcblx0XHRcdHZhciByZXN1bHQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHByb3h5TWV0aG9kLmNhbGwodGhpcy5oYW5kbGVyLCBhcmdzKSkpO1xuXHRcdFx0aWYgKHJlc3VsdCkge1xuXHRcdFx0XHR2YXIgcHJvcEluZm8gPSB0aGlzLnRhcmdldC5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRpZiAocHJvcEluZm8gJiYgIXByb3BJbmZvLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdHZhciB0YXJnZXRWYWx1ZSA9IHByb3BJbmZvLmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0aWYgKHByb3BJbmZvLmRhdGFQcm9wZXJ0eSAmJiAhcHJvcEluZm8ud3JpdGFibGUgJiYgIWVudi5vcHMuYXJlU2FtZSh2YWx1ZSwgdGFyZ2V0VmFsdWUpKSB7XG5cdFx0XHRcdFx0XHR0aHJvd1Byb3h5SW52YXJpYW50RXJyb3IoXCJzZXRcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFwcm9wSW5mby5kYXRhUHJvcGVydHkgJiYgY29udHJhY3RzLmlzVW5kZWZpbmVkKHByb3BJbmZvLnNldCkpIHtcblx0XHRcdFx0XHRcdHRocm93UHJveHlJbnZhcmlhbnRFcnJvcihcInNldFwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmV2b2tlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJldm9rZSgpIHtcblx0XHRcdHRoaXMucmV2b2tlZCA9IHRydWU7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFByb3h5VHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLlByb3h5VHlwZSA9IFByb3h5VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgUmVnZXhUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoUmVnZXhUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gUmVnZXhUeXBlKHZhbHVlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZ2V4VHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSZWdleFR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuc291cmNlID0gdmFsdWU7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIlJlZ0V4cFwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFJlZ2V4VHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KGVudikge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVnZXhUeXBlLnByb3RvdHlwZSksIFwiaW5pdFwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG5cdFx0XHQvLyBsYXN0SW5kZXggaXMgc2V0dGFibGUsIGFsbCBvdGhlcnMgYXJlIHJlYWQtb25seSBhdHRyaWJ1dGVzXG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwibGFzdEluZGV4XCIsIHsgdmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLnNvdXJjZS5sYXN0SW5kZXgpLCB3cml0YWJsZTogdHJ1ZSB9KTtcblxuXHRcdFx0W1wic291cmNlXCIsIFwiZ2xvYmFsXCIsIFwiaWdub3JlQ2FzZVwiLCBcIm11bHRpbGluZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0aWYgKGVudi5vcHRpb25zLmVjbWFWZXJzaW9uID4gNSkge1xuXHRcdFx0XHRcdHZhciBnZXR0ZXIgPSBmdW5jdGlvbiBnZXR0ZXIoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5zb3VyY2Vba2V5XSk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR2YXIgZ2V0dGVyRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlR2V0dGVyKGdldHRlciwga2V5KTtcblxuXHRcdFx0XHRcdF90aGlzLmRlZmluZU93blByb3BlcnR5KGtleSwge1xuXHRcdFx0XHRcdFx0Z2V0dGVyOiBnZXR0ZXIsXG5cdFx0XHRcdFx0XHRnZXQ6IGdldHRlckZ1bmMsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRfdGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIHsgdmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShfdGhpcy5zb3VyY2Vba2V5XSkgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHJldHVybiB0aGlzLnNvdXJjZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUmVnZXhUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuUmVnZXhUeXBlID0gUmVnZXhUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfcHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4vcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIFN0cmluZ1R5cGUgPSAoZnVuY3Rpb24gKF9QcmltaXRpdmVUeXBlKSB7XG5cdF9pbmhlcml0cyhTdHJpbmdUeXBlLCBfUHJpbWl0aXZlVHlwZSk7XG5cblx0ZnVuY3Rpb24gU3RyaW5nVHlwZSh2YWx1ZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHJpbmdUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0cmluZ1R5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMsIHZhbHVlKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhTdHJpbmdUeXBlLCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQoZW52KSB7XG5cdFx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTdHJpbmdUeXBlLnByb3RvdHlwZSksIFwiaW5pdFwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0dmFyIGxlbmd0aCA9IHRoaXMudmFsdWUubGVuZ3RoO1xuXG5cdFx0XHR0aGlzLnByb3BlcnRpZXMubGVuZ3RoID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHtcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiBmYWxzZSxcblx0XHRcdFx0dmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShsZW5ndGgpXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gdG9kbzogZG8gdGhpcyBsYXppbHlcblx0XHRcdHZhciBjaGFyQXR0cnMgPSB7IHdyaXRhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSB9O1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHQvLyB3ZSBhcmUgbm90IHVzaW5nIHRoZSBvYmplY3QgZmFjdG9yeSB0byBhdm9pZCBjaXJjdWxhciBsb29wXG5cdFx0XHRcdHZhciBjID0gbmV3IFN0cmluZ1R5cGUodGhpcy52YWx1ZS5jaGFyQXQoaSkpO1xuXHRcdFx0XHRjLnNldFByb3RvdHlwZSh0aGlzLmdldFByb3BlcnR5KCkpO1xuXHRcdFx0XHRjLmRlZmluZShcIjBcIiwgYywgY2hhckF0dHJzKTtcblxuXHRcdFx0XHR0aGlzLmRlZmluZShpLCBjLCBjaGFyQXR0cnMpO1xuXHRcdFx0fVxuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTdHJpbmdUeXBlO1xufSkoX3ByaW1pdGl2ZVR5cGUuUHJpbWl0aXZlVHlwZSk7XG5cbmV4cG9ydHMuU3RyaW5nVHlwZSA9IFN0cmluZ1R5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIEdMT0JBTF9TWU1CT0xfUkVHSVNUUlkgPSBfT2JqZWN0JGNyZWF0ZShudWxsKTtcbnZhciB1aWQgPSAwO1xuXG52YXIgU3ltYm9sVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKFN5bWJvbFR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBTeW1ib2xUeXBlKGRlc2NyaXB0aW9uKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN5bWJvbFR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3ltYm9sVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy50eXBlID0gXCJzeW1ib2xcIjtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IFwiU3ltYm9sXCI7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuXHRcdHRoaXMudWlkID0gdWlkKys7XG5cblx0XHQvLyBhZGQgc28gd2UgY2FuIGVhc2lseSBjaGVjayBpZiBhbiBvYmplY3QgaXMgYSBzeW1ib2wgd2hlbiB3ZSBjYXJlXG5cdFx0dGhpcy5pc1N5bWJvbCA9IHRydWU7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoU3ltYm9sVHlwZSwgW3tcblx0XHRrZXk6IFwiZGVmaW5lT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lT3duUHJvcGVydHkoa2V5LCBkZXNjcmlwdG9yKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKGtleSwgdmFsdWUsIHRhcmdldCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHJldHVybiBcIlN5bWJvbChcIiArIHRoaXMuZGVzY3JpcHRpb24gKyBcIilcIjtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidG9TdHJpbmdcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0XHQvLyB0aGlzIG1ldGhvZCBpcyBoZXJlIHNvIHN5bWJvbHMgY2FuIGJlIGNvZXJjZWQgaW50byBzdHJpbmdzIGZvciBwcm9wZXJ0eSBsb29rdXBzXG5cdFx0XHRyZXR1cm4gXCJAQFwiICsgdGhpcy51aWQ7XG5cdFx0fVxuXHR9XSwgW3tcblx0XHRrZXk6IFwiYWRkXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGFkZChrZXksIHN5bSkge1xuXHRcdFx0R0xPQkFMX1NZTUJPTF9SRUdJU1RSWVtrZXldID0gc3ltO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRCeUtleVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRCeUtleShrZXkpIHtcblx0XHRcdHJldHVybiBHTE9CQUxfU1lNQk9MX1JFR0lTVFJZW2tleV07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldEJ5SW5zdGFuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0QnlJbnN0YW5jZShzeW0pIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBHTE9CQUxfU1lNQk9MX1JFR0lTVFJZKSB7XG5cdFx0XHRcdGlmIChzeW0gPT09IEdMT0JBTF9TWU1CT0xfUkVHSVNUUllba2V5XSkge1xuXHRcdFx0XHRcdHJldHVybiBHTE9CQUxfU1lNQk9MX1JFR0lTVFJZW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gU3ltYm9sVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLlN5bWJvbFR5cGUgPSBTeW1ib2xUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVjbGFyZSA9IGRlY2xhcmU7XG5leHBvcnRzLmFzc2lnbiA9IGFzc2lnbjtcbnZhciBtYXJrZWQwJDAgPSBbZGVjbGFyZSwgYXNzaWduLCBkZXN0cnVjdHVyZSwgaGFuZGxlRGVmYXVsdCwgZGVzdHJ1Y3R1cmVBcnJheSwgZ2V0T2JqZWN0S2V5LCBkZXN0cnVjdHVyZU9iamVjdF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2FzeW5jID0gcmVxdWlyZShcIi4vYXN5bmNcIik7XG5cbnZhciBfbmF0aXZlID0gcmVxdWlyZShcIi4vbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBkZWNsYXJlKGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUpIHtcblx0dmFyIGxlZnQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVjbGFyZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIShsZWZ0Tm9kZS50eXBlID09PSBcIklkZW50aWZpZXJcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxlZnQgPSBlbnYuY3JlYXRlVmFyaWFibGUobGVmdE5vZGUubmFtZSk7XG5cblx0XHRcdFx0bGVmdC5zZXRWYWx1ZShyaWdodFZhbHVlKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gZGVzdHJ1Y3R1cmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgZGVjbGFyZSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByaWdodFZhbHVlKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gYXNzaWduKGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUpIHtcblx0dmFyIGxlZnQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gYXNzaWduJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gbGVmdE5vZGUudHlwZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IGNvbnRleHQkMSQwLnQwID09PSBcIklkZW50aWZpZXJcIiA/IDMgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJNZW1iZXJFeHByZXNzaW9uXCIgPyAzIDogODtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChsZWZ0Tm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblxuXHRcdFx0XHRsZWZ0LnNldFZhbHVlKHJpZ2h0VmFsdWUsIGVudi5pc1N0cmljdCgpKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDEwKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdHJldHVybiBkZXN0cnVjdHVyZShlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBhc3NpZ24pO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzdHJ1Y3R1cmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgY2IpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXN0cnVjdHVyZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGxlZnROb2RlLnR5cGU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSBjb250ZXh0JDEkMC50MCA9PT0gXCJBcnJheVBhdHRlcm5cIiA/IDMgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJPYmplY3RQYXR0ZXJuXCIgPyA2IDogY29udGV4dCQxJDAudDAgPT09IFwiQXNzaWdubWVudFBhdHRlcm5cIiA/IDkgOiAxMjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiBkZXN0cnVjdHVyZUFycmF5KGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUsIGNiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTMpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gZGVzdHJ1Y3R1cmVPYmplY3QoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgY2IpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMyk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gaGFuZGxlRGVmYXVsdChlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBjYik7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMyk7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdHRocm93IEVycm9yKGxlZnROb2RlLnR5cGUgKyBcIiBub3QgaW1wbGVtZW50ZWRcIik7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMl0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWZhdWx0KGVudiwgbGVmdCwgcmlnaHRWYWx1ZSwgY2IpIHtcblx0dmFyIGRlZmF1bHRWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBoYW5kbGVEZWZhdWx0JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghKHJpZ2h0VmFsdWUgPT09IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChsZWZ0LnJpZ2h0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0ZGVmYXVsdFZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRyaWdodFZhbHVlID0gZGVmYXVsdFZhbHVlLnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gY2IoZW52LCBsZWZ0LmxlZnQsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbM10sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZXN0cnVjdHVyZUFycmF5KGVudiwgcGF0dGVybiwgYXJyLCBjYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGRlc3RydWN0dXJlQXJyYXkkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX2FzeW5jLmVhY2gpKHBhdHRlcm4uZWxlbWVudHMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGN1cnJlbnQsIGluZGV4KSB7XG5cdFx0XHRcdFx0dmFyIHByb3BJbmZvLCB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0cHJvcEluZm8gPSBhcnIuZ2V0UHJvcGVydHkoaW5kZXgpO1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gcHJvcEluZm8gPyBwcm9wSW5mby5nZXRWYWx1ZSgpIDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNiKGVudiwgY3VycmVudCwgdmFsdWUpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzRdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0T2JqZWN0S2V5KGVudiwga2V5Tm9kZSkge1xuXHR2YXIga2V5O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldE9iamVjdEtleSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIWtleU5vZGUuY29tcHV0ZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoa2V5Tm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGtleSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFrZXkuaXNTeW1ib2wpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5KTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvU3RyaW5nKShrZXkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBrZXlOb2RlLm5hbWUpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzVdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzdHJ1Y3R1cmVPYmplY3QoZW52LCBwYXR0ZXJuLCBvYmosIGNiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzdHJ1Y3R1cmVPYmplY3QkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX2FzeW5jLmVhY2gpKHBhdHRlcm4ucHJvcGVydGllcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY3VycmVudCkge1xuXHRcdFx0XHRcdHZhciBrZXksIHByb3BJbmZvLCB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldE9iamVjdEtleShlbnYsIGN1cnJlbnQua2V5KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0a2V5ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRwcm9wSW5mbyA9IG9iai5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gcHJvcEluZm8gPyBwcm9wSW5mby5nZXRWYWx1ZSgpIDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNiKGVudiwgY3VycmVudC52YWx1ZSwgdmFsdWUpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzZdLCB0aGlzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfUHJvbWlzZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm1hcCA9IG1hcDtcbmV4cG9ydHMuZWFjaCA9IGVhY2g7XG5leHBvcnRzLnN0ZXAgPSBzdGVwO1xuZXhwb3J0cy5leGhhdXN0ID0gZXhoYXVzdDtcbmV4cG9ydHMucHJvbWlzaWZ5ID0gcHJvbWlzaWZ5O1xudmFyIG1hcmtlZDAkMCA9IFttYXAsIGVhY2gsIHN0ZXBdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgb2JqZWN0T3JGdW5jdGlvblR5cGVzID0geyBcIm9iamVjdFwiOiB0cnVlLCBcImZ1bmN0aW9uXCI6IHRydWUgfTtcbmZ1bmN0aW9uIGlzT2JqZWN0T3JGdW5jdGlvbihvYmopIHtcblx0cmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqIGluIG9iamVjdE9yRnVuY3Rpb25UeXBlcztcbn1cblxuZnVuY3Rpb24gaXNUaGVuYWJsZShvYmopIHtcblx0cmV0dXJuIGlzT2JqZWN0T3JGdW5jdGlvbihvYmopICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG5mdW5jdGlvbiBpc05leHRhYmxlKG9iaikge1xuXHRyZXR1cm4gaXNPYmplY3RPckZ1bmN0aW9uKG9iaikgJiYgdHlwZW9mIG9iai5uZXh0ID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIG1hcChhcnIsIGZ1bmMpIHtcblx0dmFyIG1hcHBlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBtYXAkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0bWFwcGVkID0gW107XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKGVhY2goYXJyLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHR2YXIgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gbWFwcGVkO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5kZWxlZ2F0ZVlpZWxkKGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzJDIkMCksIFwidDFcIiwgMik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQyID0gY29udGV4dCQyJDAudDE7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAucHVzaC5jYWxsKGNvbnRleHQkMiQwLnQwLCBjb250ZXh0JDIkMC50Mik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpLCBcInQwXCIsIDIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbWFwcGVkKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZWFjaChhcnIsIGZ1bmMpIHtcblx0dmFyIGFib3J0ZWQsIGFib3J0ZXIsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGVhY2gkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0YWJvcnRlZCA9IGZhbHNlO1xuXG5cdFx0XHRcdGFib3J0ZXIgPSBmdW5jdGlvbiBhYm9ydGVyKCkge1xuXHRcdFx0XHRcdGFib3J0ZWQgPSB0cnVlO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGkgPSAwLCBsbiA9IGFyci5sZW5ndGg7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aWYgKCEoIWFib3J0ZWQgJiYgaSA8IGxuKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoZnVuYyhhcnJbaV0sIGksIGFyciwgYWJvcnRlciksIFwidDBcIiwgNSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHN0ZXAoaXQsIHByZXYpIHtcblx0dmFyIHJlc3VsdCwgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc3RlcCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRyZXN1bHQgPSBpdC5uZXh0KHByZXYpO1xuXHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblxuXHRcdFx0XHRpZiAoIWlzTmV4dGFibGUodmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChzdGVwKHZhbHVlKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0aWYgKCFpc1RoZW5hYmxlKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdHJldHVybiB2YWx1ZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gaXQ7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGlmICghcmVzdWx0LmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRyZXR1cm4gc3RlcChpdCwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzJdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdHJ5Q2F0Y2goaXQsIHByaW9yVmFsdWUsIG1ldGhvZCkge1xuXHR0cnkge1xuXHRcdHZhciBfaXQkbWV0aG9kID0gaXRbbWV0aG9kXShwcmlvclZhbHVlKTtcblxuXHRcdHZhciBkb25lID0gX2l0JG1ldGhvZC5kb25lO1xuXHRcdHZhciB2YWx1ZSA9IF9pdCRtZXRob2QudmFsdWU7XG5cblx0XHRyZXR1cm4geyBzdGF0ZTogXCJuZXh0XCIsIGRvbmU6IGRvbmUsIHZhbHVlOiB2YWx1ZSB9O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRyZXR1cm4geyBzdGF0ZTogXCJ0aHJvd1wiLCB2YWx1ZTogZXJyIH07XG5cdH1cbn1cblxuLyoqXHJcbiAqIEZ1bGx5IGV4aGF1c3RzIGFuIGl0ZXJhdG9yLCBpbmNsdWRpbmcgZGVsZWdhdGVkIGdlbmVyYXRvcnMuXHJcbiAqIFNwZWNpYWwgaGFuZGxpbmcgaXMgdGFrZW4gaWYgYSBQcm9taXNlIGlzIHJldHVybmVkLCBwYXVzaW5nXHJcbiAqIHRoZSBnZW5lcmF0b3IgdW50aWwgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SXRlcmF0b3J9IFtpdF0gLSBUaGUgaXRlcmF0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IFt2YWx1ZV0gLSBUaGUgcHJldmlvdXMgaXRlcmF0aW9uIHZhbHVlIChpbnRlcm5hbClcclxuICogQHBhcmFtIHtBcnJheTxJdGVyYXRvcj59IFtzdGFja10gLSBUaGUgc3RhY2sgb2YgaXRlcmF0b3JzIChpbnRlcm5hbClcclxuICogQHJldHVybnMge09iamVjdHxQcm9taXNlfSBSZXR1cm5zIHRoZSBmaW5hbCB2YWx1ZSwgb3IgYSBQcm9taXNlIGlmXHJcbiAqIGF0IGFueSBwb2ludCBpbiB0aGUgaXRlcmF0aW9uIGEgUHJvbWlzZSBpcyByZXR1cm5lZC5cclxuICovXG5cbmZ1bmN0aW9uIGV4aGF1c3QoaXQsIHZhbHVlKSB7XG5cdHZhciBzdGFjayA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzJdO1xuXG5cdHZhciBzdGF0ZSA9IFwibmV4dFwiO1xuXG5cdHdoaWxlIChpdCkge1xuXHRcdGlmICghaXNOZXh0YWJsZShpdCkpIHtcblx0XHRcdHZhbHVlID0gaXQ7XG5cblx0XHRcdGlmICghKGl0ID0gc3RhY2sucG9wKCkpKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBkb25lID0gdW5kZWZpbmVkO1xuXG5cdFx0dmFyIF90cnlDYXRjaCA9IHRyeUNhdGNoKGl0LCB2YWx1ZSwgc3RhdGUpO1xuXG5cdFx0c3RhdGUgPSBfdHJ5Q2F0Y2guc3RhdGU7XG5cdFx0ZG9uZSA9IF90cnlDYXRjaC5kb25lO1xuXHRcdHZhbHVlID0gX3RyeUNhdGNoLnZhbHVlO1xuXG5cdFx0aWYgKHN0YXRlID09PSBcInRocm93XCIpIHtcblx0XHRcdGlmIChpdCA9IHN0YWNrLnBvcCgpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aHJvdyB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoaXNOZXh0YWJsZSh2YWx1ZSkpIHtcblx0XHRcdHN0YWNrLnB1c2goaXQpO1xuXG5cdFx0XHRpdCA9IHZhbHVlO1xuXHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmIChpc1RoZW5hYmxlKHZhbHVlKSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRyZXR1cm4gZXhoYXVzdChpdCwgcmVzLCBzdGFjayk7XG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBpdFtcInRocm93XCJdKGVycik7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoZG9uZSkge1xuXHRcdFx0aXQgPSBzdGFjay5wb3AoKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxyXG4gKiBOb3JtYWxpemVzIGEgcmVzdWx0IGludG8gYSBwcm9taXNlLCB3aGV0aGVyIGl0IGlzIGEgZ2VuZXJhdG9yLCBwcm9taXNlLFxyXG4gKiBvciBub3JtYWwgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SXRlcmF0b3J9IFtpdF0gLSBUaGUgaXRlcmF0b3IuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgb3IgcmVqZWN0cyBiYXNlZCBvbiB0aGUgcmVzdWx0LlxyXG4gKi9cblxuZnVuY3Rpb24gcHJvbWlzaWZ5KGl0KSB7XG5cdHRyeSB7XG5cdFx0dmFyIHJlc3VsdCA9IGV4aGF1c3QoaXQpO1xuXHRcdGlmIChpc05leHRhYmxlKHJlc3VsdCkpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIF9Qcm9taXNlLnJlc29sdmUocmVzdWx0KTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0aWYgKHR5cGVvZiBlcnIgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGVyci50b05hdGl2ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0XHRlcnIgPSBlcnIudG9OYXRpdmUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX1Byb21pc2UucmVqZWN0KGVycik7XG5cdH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYXNzZXJ0SXNPYmplY3QgPSBhc3NlcnRJc09iamVjdDtcbmV4cG9ydHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQgPSBhc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZDtcbmV4cG9ydHMuYXNzZXJ0QXJnSXNOb3ROdWxsT3JVbmRlZmluZWQgPSBhc3NlcnRBcmdJc05vdE51bGxPclVuZGVmaW5lZDtcbmV4cG9ydHMuYXNzZXJ0SXNGdW5jdGlvbiA9IGFzc2VydElzRnVuY3Rpb247XG5leHBvcnRzLmFzc2VydElzTm90Q29uc3RydWN0b3IgPSBhc3NlcnRJc05vdENvbnN0cnVjdG9yO1xuZXhwb3J0cy5hc3NlcnRJc0NvbnN0cnVjdG9yID0gYXNzZXJ0SXNDb25zdHJ1Y3RvcjtcbmV4cG9ydHMuYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoID0gYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoO1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkQXNzaWdubWVudCA9IGFzc2VydElzVmFsaWRBc3NpZ25tZW50O1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZSA9IGFzc2VydElzVmFsaWRQYXJhbWV0ZXJOYW1lO1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkTmFtZSA9IGFzc2VydElzVmFsaWROYW1lO1xuZXhwb3J0cy5hc3NlcnRJc05vdEdlbmVyaWMgPSBhc3NlcnRJc05vdEdlbmVyaWM7XG5leHBvcnRzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyID0gYXNzZXJ0SXNWYWxpZElkZW50aWZpZXI7XG5leHBvcnRzLmFzc2VydEFyZVZhbGlkQXJndW1lbnRzID0gYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHM7XG5leHBvcnRzLmFzc2VydElzTWFwID0gYXNzZXJ0SXNNYXA7XG5leHBvcnRzLmFzc2VydElzU2V0ID0gYXNzZXJ0SXNTZXQ7XG5leHBvcnRzLmlzVmFsaWRBcnJheUxlbmd0aCA9IGlzVmFsaWRBcnJheUxlbmd0aDtcbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcbmV4cG9ydHMuaXNPY3RhbExpdGVyYWwgPSBpc09jdGFsTGl0ZXJhbDtcbmV4cG9ydHMuZ2V0VHlwZSA9IGdldFR5cGU7XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5leHBvcnRzLmlzQ29uc3RydWN0b3IgPSBpc0NvbnN0cnVjdG9yO1xuZXhwb3J0cy5pc0ludGVnZXIgPSBpc0ludGVnZXI7XG5leHBvcnRzLmlzU3RyaWN0Tm9kZSA9IGlzU3RyaWN0Tm9kZTtcblxudmFyIF9rZXl3b3JkcyA9IHJlcXVpcmUoXCIuLi9rZXl3b3Jkc1wiKTtcblxudmFyIF90eXBlc1N5bWJvbFR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvc3ltYm9sLXR5cGVcIik7XG5cbnZhciBfbmF0aXZlID0gcmVxdWlyZShcIi4vbmF0aXZlXCIpO1xuXG52YXIgb2JqZWN0UGF0dGVybiA9IC9cXFtvYmplY3QgKFxcdyspXFxdLztcbnZhciBpbnRlZ2VyUGF0dGVybiA9IC9eLT9cXGQrJC87XG52YXIgb2N0YWxQYXR0ZXJuID0gL14tPzBbMC03XS87XG52YXIgb2N0YWxFc2NhcGVQYXR0ZXJuID0gL14oW15cXFxcXXxcXFxcW14wLTddKSpcXFxcKFswLTNdWzAtN117MSwyfXxbNC03XVswLTddfFswLTddKS87XG52YXIgdXNlU3RyaWN0UGF0dGVybiA9IC9eXFxzKig/Oid1c2Ugc3RyaWN0J3xcInVzZSBzdHJpY3RcIilcXHMqOz9cXHMqJC87XG5cbmZ1bmN0aW9uIGFzc2VydElzT2JqZWN0KG9iaiwgbWV0aG9kTmFtZSkge1xuXHRpZiAoIWlzT2JqZWN0KG9iaikpIHtcblx0XHR0aHJvdyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGNhbGxlZCBvbiBub24tb2JqZWN0XCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHZhbHVlLCBtZXRob2ROYW1lKSB7XG5cdGlmIChpc051bGxPclVuZGVmaW5lZCh2YWx1ZSkpIHtcblx0XHR0aHJvdyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZFwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRBcmdJc05vdE51bGxPclVuZGVmaW5lZChvYmopIHtcblx0aWYgKGlzTnVsbE9yVW5kZWZpbmVkKG9iaikpIHtcblx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBudWxsIG9yIHVuZGVmaW5lZCB0byBvYmplY3RcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNGdW5jdGlvbihvYmosIGFyZ05hbWUpIHtcblx0aWYgKCFpc0Z1bmN0aW9uKG9iaikpIHtcblx0XHR0aHJvdyBUeXBlRXJyb3IoYXJnTmFtZSArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTm90Q29uc3RydWN0b3IoY29udGV4dCwgbWV0aG9kTmFtZSkge1xuXHRpZiAoY29udGV4dC5pc05ldykge1xuXHRcdHRocm93IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNDb25zdHJ1Y3Rvcihjb250ZXh0LCBtZXRob2ROYW1lKSB7XG5cdGlmICghY29udGV4dC5pc05ldykge1xuXHRcdHRocm93IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgbXVzdCBiZSBjYWxsZWQgd2l0aCAnbmV3J1wiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGgobGVuZ3RoKSB7XG5cdGlmICghaXNWYWxpZEFycmF5TGVuZ3RoKGxlbmd0aCkpIHtcblx0XHR0aHJvdyBSYW5nZUVycm9yKFwiSW52YWxpZCBhcnJheSBsZW5ndGhcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZEFzc2lnbm1lbnQobGVmdCwgc3RyaWN0KSB7XG5cdGlmIChsZWZ0ICYmICFsZWZ0LmlzUmVmZXJlbmNlKSB7XG5cdFx0dGhyb3cgUmVmZXJlbmNlRXJyb3IoXCJJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIGluIGFzc2lnbm1lbnRcIik7XG5cdH1cblxuXHRpZiAobGVmdCAmJiBsZWZ0LmJhc2UgPT09IGxlZnQuZW52Lmdsb2JhbCkge1xuXHRcdGFzc2VydElzVmFsaWROYW1lKGxlZnQubmFtZSwgc3RyaWN0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZShuYW1lLCBzdHJpY3QpIHtcblx0aWYgKC9eXFxkfFs7XFwoXFwpXCInXS8udGVzdChuYW1lKSkge1xuXHRcdHRocm93IFN5bnRheEVycm9yKFwiVW5leHBlY3RlZCB0b2tlbiBpbiBcIiArIG5hbWUpO1xuXHR9XG5cblx0YXNzZXJ0SXNWYWxpZE5hbWUobmFtZSwgc3RyaWN0KTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZE5hbWUobmFtZSwgc3RyaWN0KSB7XG5cdGlmIChzdHJpY3QgJiYgKG5hbWUgPT09IFwiYXJndW1lbnRzXCIgfHwgbmFtZSA9PT0gXCJldmFsXCIpKSB7XG5cdFx0dGhyb3cgU3ludGF4RXJyb3IoXCJVbmV4cGVjdGVkIGV2YWwgb3IgYXJndW1lbnRzIGluIHN0cmljdCBtb2RlXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTm90R2VuZXJpYyhvYmosIGV4cGVjdGVkQ2xhc3MsIG1ldGhvZE5hbWUpIHtcblx0aWYgKCFvYmogfHwgb2JqLmNsYXNzTmFtZSAhPT0gZXhwZWN0ZWRDbGFzcykge1xuXHRcdHRocm93IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgaXMgbm90IGdlbmVyaWNcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIobmFtZSwgc3RyaWN0KSB7XG5cdGlmICgoMCwgX2tleXdvcmRzLmlzUmVzZXJ2ZWQpKG5hbWUpKSB7XG5cdFx0dGhyb3cgU3ludGF4RXJyb3IoXCJJbGxlZ2FsIHVzZSBvZiByZXNlcnZlZCBrZXl3b3JkOiBcIiArIG5hbWUpO1xuXHR9XG5cblx0aWYgKHN0cmljdCAmJiAoMCwgX2tleXdvcmRzLmlzU3RyaWN0UmVzZXJ2ZWQpKG5hbWUpKSB7XG5cdFx0dGhyb3cgU3ludGF4RXJyb3IoXCJJbGxlZ2FsIHVzZSBvZiBzdHJpY3QgbW9kZSByZXNlcnZlZCBrZXl3b3JkOiBcIiArIG5hbWUpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFyZVZhbGlkQXJndW1lbnRzKHBhcmFtcywgc3RyaWN0KSB7XG5cdHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSwgaW5kZXgpIHtcblx0XHRhc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZShwYXJhbS5uYW1lLCBzdHJpY3QpO1xuXG5cdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0aWYgKHBhcmFtcy5zb21lKGZ1bmN0aW9uIChwLCBpKSB7XG5cdFx0XHRcdHJldHVybiBpbmRleCAhPT0gaSAmJiBwYXJhbS5uYW1lID09PSBwLm5hbWU7XG5cdFx0XHR9KSkge1xuXHRcdFx0XHR0aHJvdyBTeW50YXhFcnJvcihcIlN0cmljdCBtb2RlIGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBkdXBsaWNhdGUgcGFyYW1ldGVyIG5hbWVzXCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTWFwKG9iaiwgbWV0aG9kTmFtZSkge1xuXHRpZiAoIW9iaiB8fCBvYmouY2xhc3NOYW1lICE9PSBcIk1hcFwiKSB7XG5cdFx0dGhyb3cgVHlwZUVycm9yKFwiVGhlIG9iamVjdCBtdXN0IGJlIGEgbWFwIHdoZW4gY2FsbGluZyBcIiArIG1ldGhvZE5hbWUpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzU2V0KG9iaiwgbWV0aG9kTmFtZSkge1xuXHRpZiAoIW9iaiB8fCBvYmouY2xhc3NOYW1lICE9PSBcIlNldFwiKSB7XG5cdFx0dGhyb3cgVHlwZUVycm9yKFwiVGhlIG9iamVjdCBtdXN0IGJlIGEgc2V0IHdoZW4gY2FsbGluZyBcIiArIG1ldGhvZE5hbWUpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRBcnJheUxlbmd0aChsZW5ndGgpIHtcblx0cmV0dXJuIGlzSW50ZWdlcihsZW5ndGgpICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8IDQyOTQ5NjcyOTY7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuXHRpZiAoIW9iaikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChvYmouaXNTeW1ib2wpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAob2JqLmlzUHJpbWl0aXZlKSB7XG5cdFx0cmV0dXJuIG9iai52YWx1ZSAmJiBvYmoudHlwZSA9PT0gXCJvYmplY3RcIjtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcblx0aWYgKCFpc09iamVjdChvYmopKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0dmFyIG1hdGNoS2V5ID0gX3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmdldEJ5S2V5KFwibWF0Y2hcIik7XG5cdHZhciBtYXRjaFByb3AgPSBvYmouZ2V0UHJvcGVydHkobWF0Y2hLZXkpO1xuXHRpZiAobWF0Y2hQcm9wKSB7XG5cdFx0dmFyIG1hdGNoVmFsdWUgPSBtYXRjaFByb3AuZ2V0VmFsdWUoKTtcblx0XHRpZiAoIWlzVW5kZWZpbmVkKG1hdGNoVmFsdWUpKSB7XG5cdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9Cb29sZWFuKShtYXRjaFZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gb2JqLmNsYXNzTmFtZSA9PT0gXCJSZWdFeHBcIjtcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG5cdHJldHVybiBvYmogJiYgb2JqLnR5cGUgPT09IFwibnVtYmVyXCI7XG59XG5cbmZ1bmN0aW9uIGlzT2N0YWxMaXRlcmFsKHJhd1ZhbHVlLCBhY3R1YWxWYWx1ZSkge1xuXHRpZiAodHlwZW9mIGFjdHVhbFZhbHVlID09PSBcIm51bWJlclwiICYmIG9jdGFsUGF0dGVybi50ZXN0KHJhd1ZhbHVlKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBhY3R1YWxWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHZhciBtYXRjaCA9IHJhd1ZhbHVlLm1hdGNoKG9jdGFsRXNjYXBlUGF0dGVybik7XG5cdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHQvLyBcXDAgaXMgYWN0dWFsbHkgbm90IGNvbnNpZGVyZWQgYW4gb2N0YWxcblx0XHRcdGlmIChtYXRjaFsyXSAhPT0gXCIwXCIgfHwgdHlwZW9mIG1hdGNoWzNdICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHlwZShvYmopIHtcblx0cmV0dXJuIG9iamVjdFBhdHRlcm4uZXhlYyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSlbMV07XG59XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKG9iaikge1xuXHRyZXR1cm4gaXNVbmRlZmluZWQob2JqKSB8fCBpc051bGwob2JqKTtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG5cdHJldHVybiAhb2JqIHx8IG9iai5pc1ByaW1pdGl2ZSAmJiBvYmoudmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNOdWxsKG9iaikge1xuXHRyZXR1cm4gb2JqICYmIG9iai5pc1ByaW1pdGl2ZSAmJiBvYmoudmFsdWUgPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG5cdHJldHVybiAhIW9iaiAmJiBvYmouY2xhc3NOYW1lID09PSBcIkZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGlzQ29uc3RydWN0b3Iob2JqKSB7XG5cdGlmICghaXNGdW5jdGlvbihvYmopKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIG9iai5jYW5Db25zdHJ1Y3Q7XG59XG5cbmZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGludGVnZXJQYXR0ZXJuLnRlc3QodmFsdWUpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0RpcmVjdGl2ZShub2RlKSB7XG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiRXhwcmVzc2lvblN0YXRlbWVudFwiICYmIG5vZGUuZXhwcmVzc2lvbi50eXBlID09PSBcIkxpdGVyYWxcIiAmJiB0eXBlb2Ygbm9kZS5leHByZXNzaW9uLnZhbHVlID09PSBcInN0cmluZ1wiO1xufVxuXG5mdW5jdGlvbiBpc1N0cmljdE5vZGUoX3gpIHtcblx0dmFyIF9hZ2FpbiA9IHRydWU7XG5cblx0X2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7XG5cdFx0dmFyIG5vZGVzID0gX3g7XG5cdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IF9kaWRJdGVyYXRvckVycm9yID0gX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0X2FnYWluID0gZmFsc2U7XG5cblx0XHRpZiAoIW5vZGVzKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobm9kZXMpKSB7XG5cdFx0XHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHR2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Zm9yICh2YXIgX2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKG5vZGVzKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHRcdFx0XHRcdHZhciBub2RlID0gX3N0ZXAudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoIWlzRGlyZWN0aXZlKG5vZGUpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKG5vZGUuZXhwcmVzc2lvbi52YWx1ZSA9PT0gXCJ1c2Ugc3RyaWN0XCIgJiYgdXNlU3RyaWN0UGF0dGVybi50ZXN0KG5vZGUuZXhwcmVzc2lvbi5yYXcpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0aWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChub2Rlcy5ib2R5KSB7XG5cdFx0XHRfeCA9IG5vZGVzLmJvZHk7XG5cdFx0XHRfYWdhaW4gPSB0cnVlO1xuXHRcdFx0Y29udGludWUgX2Z1bmN0aW9uO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZXhlY3V0ZSA9IGV4ZWN1dGU7XG5leHBvcnRzLmNvbnN0cnVjdCA9IGNvbnN0cnVjdDtcbmV4cG9ydHMuY2FsbCA9IGNhbGw7XG5leHBvcnRzLnRyeUV4ZWN1dGUgPSB0cnlFeGVjdXRlO1xudmFyIG1hcmtlZDAkMCA9IFtleGVjdXRlLCBjb25zdHJ1Y3QsIGNhbGwsIHRyeUV4ZWN1dGVdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZnVuY3Rpb24gZXhlY3V0ZShlbnYsIGZuLCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUsIGlzTmV3KSB7XG5cdHZhciByZXR1cm5SZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjYWxsZWUgPSBjYWxsZWUgfHwgZm47XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gZm5baXNOZXcgPyBcImNvbnN0cnVjdFwiIDogXCJjYWxsXCJdKHRoaXNBcmcsIGFyZ3MsIGNhbGxlZSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmV0dXJuUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXR1cm5SZXN1bHQgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3QoZW52LCBmbikge1xuXHR2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzJdO1xuXHR2YXIgY2FsbGVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNvbnN0cnVjdCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjYWxsZWUgPSBmbi5ub2RlIHx8IGZuO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGV4ZWN1dGUoZW52LCBmbiwgYXJncywgbnVsbCwgY2FsbGVlLCB0cnVlKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBjYWxsKGVudiwgZm4sIHBhcmFtcywgYXJncywgdGhpc0FyZywgY2FsbGVlKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGZuLmNhbGwodGhpc0FyZywgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMl0sIHRoaXMpO1xufVxuXG4vLyBsZXQgc2NvcGUgPSBlbnYuY3JlYXRlRXhlY3V0aW9uU2NvcGUoZm4sIHRoaXNBcmcpO1xuLy8geWllbGQgc2NvcGUubG9hZEFyZ3MocGFyYW1zLCBhcmdzLCBmbik7XG4vLyBzY29wZS5pbml0KGZuLm5vZGUgJiYgZm4ubm9kZS5ib2R5KTtcblxuLy8gcmV0dXJuIHlpZWxkIHNjb3BlLnVzZShmdW5jdGlvbiogKCkge1xuLy8gXHRyZXR1cm4geWllbGQgZm4uY2FsbChlbnYsIHRoaXNBcmcsIGFyZ3MsIGNhbGxlZSk7XG4vLyBcdC8vIGlmIChmbi5uYXRpdmUpIHtcbi8vIFx0Ly8gXHRyZXR1cm4geWllbGQgZm4ubmF0aXZlRnVuY3Rpb24uYXBwbHkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpc0FyZywgY2FsbGVlKSwgYXJncyk7XG4vLyBcdC8vIH1cblxuLy8gXHQvLyByZXR1cm4geWllbGQgZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoZm4ubm9kZS5ib2R5LCBjYWxsZWUpLmV4ZWN1dGUoKTtcbi8vIH0pO1xuXG5mdW5jdGlvbiB0cnlFeGVjdXRlKG9iaiwgbmFtZSkge1xuXHR2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzJdO1xuXHR2YXIgZm4sIGV4ZWN1dGlvblJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0cnlFeGVjdXRlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGZuID0gb2JqLmdldFByb3BlcnR5KG5hbWUpO1xuXG5cdFx0XHRcdGlmIChmbikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMzpcblxuXHRcdFx0XHRmbiA9IGZuLmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCEoZm4gJiYgZm4uY2xhc3NOYW1lID09PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0cmV0dXJuIGZuLmNhbGwob2JqLCBhcmdzLCBmbik7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgPyBleGVjdXRpb25SZXN1bHQuZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGZhbHNlKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFszXSwgdGhpcyk7XG59XG5cbi8vIC8vIGxldCBmID0gZm4ubm9kZSB8fCBmbjtcbi8vIC8vIGxldCBwYXJhbXMgPSBmLnBhcmFtcyB8fCBbXTtcblxuLy8gbGV0IHNjb3BlID0gZW52LmNyZWF0ZUV4ZWN1dGlvblNjb3BlKGZuLCB0aGlzQXJnKTtcbi8vIC8vIGxldCByZXR1cm5SZXN1bHQ7XG5cbi8vIC8vIGlmIChpc05ldykge1xuLy8gLy8gXHRyZXR1cm5SZXN1bHQgPSB0aGlzQXJnO1xuLy8gLy8gfVxuXG4vLyAvLyB5aWVsZCBzY29wZS5sb2FkQXJncyhwYXJhbXMsIGFyZ3MsIGZuKTtcbi8vIC8vIHNjb3BlLmluaXQoZm4ubm9kZSAmJiBmbi5ub2RlLmJvZHkpO1xuXG4vLyBsZXQgcmV0dXJuUmVzdWx0ID0geWllbGQgc2NvcGUudXNlKGZ1bmN0aW9uKiAoKSB7XG4vLyBcdHJldHVybiB5aWVsZCBmbltpc05ldyA/IFwiY29uc3RydWN0XCIgOiBcImNhbGxcIl0oZW52LCB0aGlzQXJnLCBhcmdzLCBjYWxsZWUpO1xuXG4vLyBcdC8vIGlmIChmbi5uYXRpdmUpIHtcbi8vIFx0Ly8gXHRyZXR1cm4geWllbGQgZm4ubmF0aXZlRnVuY3Rpb24uYXBwbHkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpc0FyZywgY2FsbGVlLCBpc05ldyksIGFyZ3MpIHx8IHJldHVyblJlc3VsdDtcbi8vIFx0Ly8gfVxuXG4vLyBcdC8vIGxldCBleGVjdXRpb25SZXN1bHQgPSB5aWVsZCBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChmbi5ub2RlLmJvZHksIGNhbGxlZSwgaXNOZXcpLmV4ZWN1dGUoKTtcbi8vIFx0Ly8gbGV0IHNob3VsZFJldHVybiA9IGZuLmFycm93IHx8IChleGVjdXRpb25SZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LmV4aXQpO1xuXG4vLyBcdC8vIGlmIChzaG91bGRSZXR1cm4gJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCkge1xuLy8gXHQvLyBcdGlmICghaXNOZXcgfHwgIWV4ZWN1dGlvblJlc3VsdC5yZXN1bHQuaXNQcmltaXRpdmUpIHtcbi8vIFx0Ly8gXHRcdHJldHVybiBleGVjdXRpb25SZXN1bHQucmVzdWx0O1xuLy8gXHQvLyBcdH1cbi8vIFx0Ly8gfVxuXG4vLyBcdC8vIHJldHVybiByZXR1cm5SZXN1bHQ7XG4vLyB9KTtcblxuLy8gbGV0IHNjb3BlID0gZW52LmNyZWF0ZUV4ZWN1dGlvblNjb3BlKGZuLCBvYmopO1xuLy8geWllbGQgc2NvcGUubG9hZEFyZ3MoZm4ubm9kZSAmJiBmbi5ub2RlLnBhcmFtcywgYXJncywgZm4pO1xuLy8gc2NvcGUuaW5pdChmbi5ub2RlICYmIGZuLm5vZGUuYm9keSk7XG5cbi8vIGxldCBleGVjdXRpb25SZXN1bHQgPSB5aWVsZCBzY29wZS51c2UoZnVuY3Rpb24qICgpIHtcbi8vIFx0cmV0dXJuIHlpZWxkIGZuLmNhbGwoZW52LCBvYmosIGFyZ3MsIGZuKTtcbi8vIFx0Ly8gaWYgKGZuLm5hdGl2ZSkge1xuLy8gXHQvLyBcdHJldHVybiB5aWVsZCBmbi5uYXRpdmVGdW5jdGlvbi5hcHBseShlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChvYmosIG9iaiksIGFyZ3MpO1xuLy8gXHQvLyB9XG5cbi8vIFx0Ly8gbGV0IHJlc3VsdCA9IHlpZWxkIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGZuLm5vZGUuYm9keSwgZm4ubm9kZSkuZXhlY3V0ZSgpO1xuLy8gXHQvLyByZXR1cm4gcmVzdWx0ICYmIHJlc3VsdC5yZXN1bHQ7XG4vLyB9KTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfTWF0aCRzaWduID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9tYXRoL3NpZ25cIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1N5bWJvbCRmb3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9mb3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wcmltaXRpdmVUb09iamVjdCA9IHByaW1pdGl2ZVRvT2JqZWN0O1xuZXhwb3J0cy50b09iamVjdCA9IHRvT2JqZWN0O1xuZXhwb3J0cy50b0xlbmd0aCA9IHRvTGVuZ3RoO1xuZXhwb3J0cy50b1Byb3BlcnR5S2V5ID0gdG9Qcm9wZXJ0eUtleTtcbmV4cG9ydHMudG9BcnJheSA9IHRvQXJyYXk7XG5leHBvcnRzLnRvUHJpbWl0aXZlID0gdG9QcmltaXRpdmU7XG5leHBvcnRzLnRvU3RyaW5nID0gdG9TdHJpbmc7XG5leHBvcnRzLnRvTnVtYmVyID0gdG9OdW1iZXI7XG5leHBvcnRzLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbmV4cG9ydHMudG9JbnQzMiA9IHRvSW50MzI7XG5leHBvcnRzLnRvVUludDMyID0gdG9VSW50MzI7XG5leHBvcnRzLnRvQm9vbGVhbiA9IHRvQm9vbGVhbjtcbmV4cG9ydHMudG9OYXRpdmVGdW5jdGlvbiA9IHRvTmF0aXZlRnVuY3Rpb247XG52YXIgbWFya2VkMCQwID0gW2dldFN0cmluZywgZ2V0UHJpbWl0aXZlLCBnZXRWYWx1ZXMsIHRvTGVuZ3RoLCB0b1Byb3BlcnR5S2V5LCB0b0FycmF5LCB0b1ByaW1pdGl2ZSwgdG9TdHJpbmcsIHRvTnVtYmVyLCB0b0ludGVnZXIsIHRvSW50MzIsIHRvVUludDMyXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxucmVxdWlyZShcIi4uL3BvbHlmaWxsc1wiKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIHNpZ24gPSBfTWF0aCRzaWduO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBNQVhfTEVOR1RIID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcblxuZnVuY3Rpb24gZ2V0U3RyaW5nKHZhbHVlKSB7XG5cdHZhciBwcmltaXRpdmVWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRTdHJpbmckKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIFwidW5kZWZpbmVkXCIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGlmICghdmFsdWUuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgU3RyaW5nKHZhbHVlLnRvTmF0aXZlKCkpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLnRyeUV4ZWN1dGUpKHZhbHVlLCBcInRvU3RyaW5nXCIpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgU3RyaW5nKHByaW1pdGl2ZVZhbHVlLnZhbHVlKSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkodmFsdWUsIFwidmFsdWVPZlwiKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0cHJpbWl0aXZlVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHByaW1pdGl2ZVZhbHVlICYmIHByaW1pdGl2ZVZhbHVlLmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgU3RyaW5nKHByaW1pdGl2ZVZhbHVlLnZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUuXCIpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpbWl0aXZlKHZhbHVlKSB7XG5cdHZhciBwcmltaXRpdmVWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRQcmltaXRpdmUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIDApO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGlmICghdmFsdWUuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUudG9OYXRpdmUoKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKSh2YWx1ZSwgXCJ2YWx1ZU9mXCIpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcHJpbWl0aXZlVmFsdWUudG9OYXRpdmUoKSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkodmFsdWUsIFwidG9TdHJpbmdcIik7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZVZhbHVlLnRvTmF0aXZlKCkpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlLlwiKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlcyhhcmdzKSB7XG5cdHZhciB2YWx1ZXMsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFZhbHVlcyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdFx0aSA9IDAsIGxuID0gYXJncy5sZW5ndGg7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCEoaSA8IGxuKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gdmFsdWVzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGdldFByaW1pdGl2ZShhcmdzW2ldKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwLnB1c2guY2FsbChjb250ZXh0JDEkMC50MCwgY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlcyk7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMl0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBwcmltaXRpdmVUb09iamVjdChlbnYsIHZhbHVlKSB7XG5cdHZhciBuZXdWYWx1ZSA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZSk7XG5cdG5ld1ZhbHVlLmlzUHJpbWl0aXZlID0gZmFsc2U7XG5cdG5ld1ZhbHVlLnR5cGUgPSBcIm9iamVjdFwiO1xuXHRyZXR1cm4gbmV3VmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGVudiwgb2JqLCB0aHJvd09uRXJyb3IpIHtcblx0Ly8gdG9kbzogaXMgdGhpcyBFUzYgb25seT9cblx0aWYgKHRocm93T25FcnJvciAmJiBvYmouaXNQcmltaXRpdmUgJiYgb2JqLnZhbHVlID09IG51bGwpIHtcblx0XHR0aHJvdyBUeXBlRXJyb3Iob2JqLnR5cGUgKyBcIiBjYW5ub3QgYmUgY29udmVydGVkIHRvIGFuIG9iamVjdFwiKTtcblx0fVxuXG5cdGlmIChvYmouaXNQcmltaXRpdmUgJiYgb2JqLnZhbHVlICE9IG51bGwgJiYgb2JqLnR5cGUgIT09IFwib2JqZWN0XCIpIHtcblx0XHRyZXR1cm4gcHJpbWl0aXZlVG9PYmplY3QoZW52LCBvYmoudmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gZ2V0RW52KG9iaikge1xuXHRyZXR1cm4gb2JqW19TeW1ib2wkZm9yKFwiZW52XCIpXTtcbn1cblxuZnVuY3Rpb24gZ2V0T3B0aW9ucyhvYmopIHtcblx0cmV0dXJuIGdldEVudihvYmopLm9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHRvTGVuZ3RoKG9iaikge1xuXHR2YXIgbGVuZ3RoUHJvcGVydHksIF9sZW5ndGg7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b0xlbmd0aCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRsZW5ndGhQcm9wZXJ0eSA9IG9iai5nZXRQcm9wZXJ0eShcImxlbmd0aFwiKTtcblxuXHRcdFx0XHRpZiAoIWxlbmd0aFByb3BlcnR5KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEoZ2V0T3B0aW9ucyhvYmopLmVjbWFWZXJzaW9uID09PSA1KSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB0b1VJbnQzMihsZW5ndGhQcm9wZXJ0eS5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gdG9JbnRlZ2VyKGxlbmd0aFByb3BlcnR5LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdF9sZW5ndGggPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIE1hdGgubWluKE1hdGgubWF4KF9sZW5ndGgsIDApLCBNQVhfTEVOR1RIKSk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgMCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbM10sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b1Byb3BlcnR5S2V5KGtleSkge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvUHJvcGVydHlLZXkkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCEoa2V5ICYmIGtleS5pc1N5bWJvbCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwga2V5KTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0cmV0dXJuIHRvU3RyaW5nKGtleSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzRdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheShvYmosIGxlbmd0aCkge1xuXHR2YXIgYXJyLFxuXHQgICAgaSxcblx0ICAgIGFyZ3MkMSQwID0gYXJndW1lbnRzO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvQXJyYXkkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0YXJyID0gW107XG5cblx0XHRcdFx0aWYgKCFvYmopIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghKGFyZ3MkMSQwLmxlbmd0aCA8IDMpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIHRvTGVuZ3RoKG9iaik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHR3aGlsZSAoaSA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdGlmIChvYmouaGFzKGkpKSB7XG5cdFx0XHRcdFx0XHRhcnJbaV0gPSBvYmouZ2V0VmFsdWUoaSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHR9XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b1ByaW1pdGl2ZShvYmosIHByZWZlcnJlZFR5cGUpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b1ByaW1pdGl2ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRwcmVmZXJyZWRUeXBlID0gcHJlZmVycmVkVHlwZSAmJiBwcmVmZXJyZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdGlmICghcHJlZmVycmVkVHlwZSAmJiBvYmopIHtcblx0XHRcdFx0XHRwcmVmZXJyZWRUeXBlID0gb2JqLnByaW1pdGl2ZUhpbnQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShvYmogJiYgb2JqLmlzU3ltYm9sKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgU3ltYm9sIHRvIGEgXCIgKyBwcmVmZXJyZWRUeXBlKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRpZiAoIShwcmVmZXJyZWRUeXBlID09PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBnZXRTdHJpbmcob2JqKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGdldFByaW1pdGl2ZShvYmopO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzZdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9TdHJpbmcob2JqKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9TdHJpbmckKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b1ByaW1pdGl2ZShvYmosIFwic3RyaW5nXCIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzddLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9OdW1iZXIob2JqKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9OdW1iZXIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCEoIW9iaiB8fCBvYmoudHlwZSA9PT0gXCJ1bmRlZmluZWRcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgTmFOKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0cmV0dXJuIHRvUHJpbWl0aXZlKG9iaiwgXCJudW1iZXJcIik7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIE51bWJlcihjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbOF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b0ludGVnZXIob2JqKSB7XG5cdHZhciB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b0ludGVnZXIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b051bWJlcihvYmopO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIWlzTmFOKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAwKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRpZiAoISh2YWx1ZSA9PT0gMCB8fCAhaXNGaW5pdGUodmFsdWUpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBzaWduKHZhbHVlKSAqIGZsb29yKGFicyh2YWx1ZSkpKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzldLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9JbnQzMihvYmopIHtcblx0dmFyIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvSW50MzIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b0ludGVnZXIob2JqKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiAwKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzEwXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvVUludDMyKG9iaikge1xuXHR2YXIgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9VSW50MzIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b0ludDMyKG9iaik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlID4+PiAwKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzExXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHRvQm9vbGVhbihvYmopIHtcblx0aWYgKCFvYmopIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAob2JqLmlzUHJpbWl0aXZlKSB7XG5cdFx0cmV0dXJuIEJvb2xlYW4ob2JqLnZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB0b05hdGl2ZUZ1bmN0aW9uKGVudiwgZm4sIG5hbWUpIHtcblx0cmV0dXJuIGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgdGhpc0FyZyxcblx0XHQgICAgYXJncyxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHR0aGlzQXJnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKHRoaXMgJiYgdGhpcy5ub2RlICYmICh0aGlzLm5vZGUuaXNQcmltaXRpdmUgfHwgdGhpcy5ub2RlLmNsYXNzTmFtZSA9PT0gXCJEYXRlXCIpKSB7XG5cdFx0XHRcdFx0XHR0aGlzQXJnID0gdGhpcy5ub2RlLnRvTmF0aXZlKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuIGdldFZhbHVlcyhhcmdzJDIkMCk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHZhbHVlID0gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgZm4ubGVuZ3RoLCBuYW1lKTtcbn1cblxuLy8gZGVmYXVsdCBjYXNlL251bWJlciIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5vd25zID0gb3ducztcbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBvd25zKG9iaiwgcHJvcCkge1xuXHRyZXR1cm4gaGFzT3duLmNhbGwob2JqLCBwcm9wKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lLXByb3BlcnR5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb3BzO1xuXG52YXIgX25hdGl2ZSA9IHJlcXVpcmUoXCIuL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gbmVnKHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuICF2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcG9zKHZhbHVlKSB7XG5cdHJldHVybiAhIXZhbHVlO1xufVxuXG52YXIgb3BzID0gKF9vcHMgPSB7XG5cdC8vIGFsZ29yaXRobXNcblx0YXJlU2FtZTogZnVuY3Rpb24gYXJlU2FtZShhLCBiKSB7XG5cdFx0aWYgKGEudHlwZSAhPT0gYi50eXBlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0aWYgKGEudmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGEudHlwZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0XHRpZiAoaXNOYU4oYS52YWx1ZSkgJiYgaXNOYU4oYi52YWx1ZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhLnZhbHVlID09PSAwKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIGFjY291bnQgZm9yIG5lZ2F0aXZlIHplcm9cblx0XHRcdFx0XHRyZXR1cm4gMSAvIGEudmFsdWUgPT09IDEgLyBiLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhLnZhbHVlID09PSBiLnZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhID09PSBiO1xuXHR9LFxuXG5cdGFyZVNhbWVPclplcm86IGZ1bmN0aW9uIGFyZVNhbWVPclplcm8oYSwgYikge1xuXHRcdGlmIChhLnR5cGUgIT09IGIudHlwZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpIHtcblx0XHRcdGlmIChhLnZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhLnR5cGUgPT09IFwibnVtYmVyXCIpIHtcblx0XHRcdFx0aWYgKGlzTmFOKGEudmFsdWUpICYmIGlzTmFOKGIudmFsdWUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGEudmFsdWUgPT09IGIudmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGEgPT09IGI7XG5cdH0sXG5cblx0Y29lcmNpdmVFcXVhbHM6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjb2VyY2l2ZUVxdWFscyhhLCBiKSB7XG5cdFx0dmFyIHByaW1pdGl2ZUEsIHByaW1pdGl2ZUI7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjb2VyY2l2ZUVxdWFscyQoY29udGV4dCQxJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYS52YWx1ZSA9PSBiLnZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aWYgKCEoYS50eXBlID09PSBiLnR5cGUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5zdHJpY3RFcXVhbHMoYSwgYikpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGEpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRwcmltaXRpdmVBID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGIpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRwcmltaXRpdmVCID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBwcmltaXRpdmVBID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiBwcmltaXRpdmVCID09PSBcIm51bWJlclwiIHx8ICh0eXBlb2YgcHJpbWl0aXZlQSA9PT0gXCJib29sZWFuXCIgfHwgdHlwZW9mIHByaW1pdGl2ZUIgPT09IFwiYm9vbGVhblwiKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgTnVtYmVyKHByaW1pdGl2ZUEpID09PSBOdW1iZXIocHJpbWl0aXZlQikpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIHByaW1pdGl2ZUEgPT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IHByaW1pdGl2ZUE7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYiwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCA9PT0gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIHByaW1pdGl2ZUIgPT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShhLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC50MyA9IHByaW1pdGl2ZUI7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MiA9PT0gY29udGV4dCQxJDAudDMpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBwcmltaXRpdmVBID09IHByaW1pdGl2ZUIpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNvZXJjaXZlRXF1YWxzLCB0aGlzKTtcblx0fSksXG5cblx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0c3RyaWN0RXF1YWxzOiBmdW5jdGlvbiBzdHJpY3RFcXVhbHMoYSwgYikge1xuXHRcdGlmIChhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpIHtcblx0XHRcdHJldHVybiBhLnZhbHVlID09PSBiLnZhbHVlO1xuXHRcdH1cblxuXHRcdGlmIChhLmlzUHJpbWl0aXZlIHx8IGIuaXNQcmltaXRpdmUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYSA9PT0gYjtcblx0fSxcblxuXHRyZWxhdGlvbmFsQ29tcGFyZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHJlbGF0aW9uYWxDb21wYXJlKGEsIGIsIGxlZnRGaXJzdCkge1xuXHRcdHZhciBwcmltaXRpdmVBLCBwcmltaXRpdmVCO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gcmVsYXRpb25hbENvbXBhcmUkKGNvbnRleHQkMSQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQSA9IHVuZGVmaW5lZCwgcHJpbWl0aXZlQiA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghbGVmdEZpcnN0KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGEsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRwcmltaXRpdmVBID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGIsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRwcmltaXRpdmVCID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShiLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdHByaW1pdGl2ZUIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGEsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRpZiAoISh0eXBlb2YgcHJpbWl0aXZlQSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcHJpbWl0aXZlQiA9PT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcHJpbWl0aXZlQSA8IHByaW1pdGl2ZUIpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cblx0XHRcdFx0XHRwcmltaXRpdmVBID0gTnVtYmVyKHByaW1pdGl2ZUEpO1xuXHRcdFx0XHRcdHByaW1pdGl2ZUIgPSBOdW1iZXIocHJpbWl0aXZlQik7XG5cblx0XHRcdFx0XHRpZiAoIShpc05hTihwcmltaXRpdmVBKSB8fCBpc05hTihwcmltaXRpdmVCKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcHJpbWl0aXZlQSA8IHByaW1pdGl2ZUIpO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIHJlbGF0aW9uYWxDb21wYXJlLCB0aGlzKTtcblx0fSlcblxufSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPT1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvZXJjaXZlRXF1YWxzKGEsIGIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIhPVwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29lcmNpdmVFcXVhbHMoYSwgYik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAhY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI9PT1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnN0cmljdEVxdWFscyhhLCBiKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiIT09XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zdHJpY3RFcXVhbHMoYSwgYik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAhY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIrXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYS52YWx1ZSArIGIudmFsdWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGEpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShiKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRiID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBhICsgYik7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCItXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikoYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwIC0gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiL1wiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvTnVtYmVyKShhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9OdW1iZXIpKGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAvIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIipcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvTnVtYmVyKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgKiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIlXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwICUgY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPDxcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgPDwgY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPj5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgPj4gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPj4+XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkoYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwID4+PiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCJ8XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikoYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCB8IGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIl5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKShhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikoYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwIF4gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiJlwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKShiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgJiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI8XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZWxhdGlvbmFsQ29tcGFyZShhLCBiLCB0cnVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcG9zKGNvbnRleHQkMSQwLnQwKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI8PVwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMucmVsYXRpb25hbENvbXBhcmUoYiwgYSwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBuZWcoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIj5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnJlbGF0aW9uYWxDb21wYXJlKGIsIGEsIGZhbHNlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcG9zKGNvbnRleHQkMSQwLnQwKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI+PVwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMucmVsYXRpb25hbENvbXBhcmUoYSwgYiwgdHJ1ZSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG5lZyhjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiaW5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9pbihhLCBiKSB7XG5cdHZhciBiU3RyaW5nO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9pbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJvcGVydHlLZXkpKGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGEgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1N0cmluZykoYik7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0YlN0cmluZyA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciB0byBzZWFyY2ggZm9yICdcIiArIGEgKyBcIicgaW4gXCIgKyBiU3RyaW5nKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGIuaGFzKGEpKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgX2luLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiaW5zdGFuY2VvZlwiLCBmdW5jdGlvbiBfaW5zdGFuY2VvZihhLCBiKSB7XG5cdGlmIChiLnR5cGUgIT09IFwiZnVuY3Rpb25cIikge1xuXHRcdHRocm93IFR5cGVFcnJvcihcIkV4cGVjdGluZyBhIGZ1bmN0aW9uIGluIGluc3RhbmNlb2YgY2hlY2ssIGJ1dCBnb3QgXCIgKyBiLnR5cGUpO1xuXHR9XG5cblx0aWYgKGEuaXNQcmltaXRpdmUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gYi5oYXNJbnN0YW5jZShhKTtcbn0pLCBfb3BzKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBvcHM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cblxuLy8gdXNlIG5hdGl2ZSBpbXBsaWNpdCBjb21hcmlzb25cbi8vIGVxdWFsaXR5IG9wZXJhdG9yc1xuXG4vLyBhZGRpdGl2ZSBvcGVyYXRvcnNcblxuLy8gbXVsdGlwbGljYXRpdmUgb3BlcmF0b3JzXG5cbi8vIGJpdHdpc2Ugc2hpZnQgb3BlcmF0b3JzXG5cbi8vIHJlbGF0aW9uYWwgb3BlcmF0b3JzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBBcnJheUV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW0FycmF5RXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gQXJyYXlFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iamVjdEZhY3RvcnksIGFycjtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBBcnJheUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0b2JqZWN0RmFjdG9yeSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuZWxlbWVudHMpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5lYWNoKShjb250ZXh0Lm5vZGUuZWxlbWVudHMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGVsZW1lbnQsIGkpIHtcblx0XHRcdFx0XHR2YXIgaXRlbTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFlbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShlbGVtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGl0ZW0gPSBjb250ZXh0JDIkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0YXJyLmRlZmluZU93blByb3BlcnR5KGksIHsgdmFsdWU6IGl0ZW0sIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdHJ1ZSwgY29udGV4dC5lbnYpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0Y2FzZSA0OlxuXG5cdFx0XHRcdGFyci5zZXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShjb250ZXh0Lm5vZGUuZWxlbWVudHMubGVuZ3RoKSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChhcnIpKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEFzc2lnbm1lbnRFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtBc3NpZ25tZW50RXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3NpZ24gPSByZXF1aXJlKFwiLi4vdXRpbHMvYXNzaWduXCIpO1xuXG5mdW5jdGlvbiBBc3NpZ25tZW50RXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciByaWdodCwgcmlnaHRWYWx1ZSwgbGVmdCwgb3AsIG5hdGl2ZVZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEFzc2lnbm1lbnRFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnJpZ2h0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmlnaHQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0cmlnaHRWYWx1ZSA9IHJpZ2h0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCEoY29udGV4dC5ub2RlLm9wZXJhdG9yID09PSBcIj1cIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Fzc2lnbi5hc3NpZ24pKGNvbnRleHQuZW52LCBjb250ZXh0Lm5vZGUubGVmdCwgcmlnaHRWYWx1ZSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUubGVmdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRsZWZ0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdG9wID0gY29udGV4dC5ub2RlLm9wZXJhdG9yLnNsaWNlKDAsIC0xKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5lbnYub3BzW29wXShsZWZ0LmdldFZhbHVlKCksIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRuYXRpdmVWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0cmlnaHRWYWx1ZSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG5hdGl2ZVZhbHVlKTtcblx0XHRcdFx0bGVmdC5zZXRWYWx1ZShyaWdodFZhbHVlLCBjb250ZXh0LmVudi5pc1N0cmljdCgpKTtcblxuXHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChyaWdodFZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyByZW1vdmUgZXF1YWxzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBCaW5hcnlFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtCaW5hcnlFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIEJpbmFyeUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgbGVmdCwgbGVmdFZhbHVlLCByaWdodCwgcmlnaHRWYWx1ZSwgb3AsIG5ld1ZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEJpbmFyeUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUubGVmdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0bGVmdFZhbHVlID0gbGVmdC5nZXRWYWx1ZSgpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHJpZ2h0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdHJpZ2h0VmFsdWUgPSByaWdodC5nZXRWYWx1ZSgpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRvcCA9IGNvbnRleHQubm9kZS5vcGVyYXRvcjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5lbnYub3BzW29wXShsZWZ0VmFsdWUsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRuZXdWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3VmFsdWUpKSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQmxvY2tTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0Jsb2NrU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBCbG9ja1N0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciByZXN1bHQsIHByaW9yUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEJsb2NrU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZCwgcHJpb3JSZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS50eXBlID09PSBcIlByb2dyYW1cIikge1xuXHRcdFx0XHRcdGNvbnRleHQuZW52LmN1cnJlbnQuaW5pdChjb250ZXh0Lm5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5ib2R5LCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChub2RlLCBpLCBib2R5LCBhYm9ydCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCBmYWxzZSwgcHJpb3JSZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxsRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbQ2FsbEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5mdW5jdGlvbiBhc3NpZ25UaGlzKGVudiwgZm5NZW1iZXIsIGZuLCBpc05ldywgbmF0aXZlKSB7XG5cdGlmIChpc05ldykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0aWYgKGZuTWVtYmVyIGluc3RhbmNlb2YgX2VudlByb3BlcnR5UmVmZXJlbmNlLlByb3BlcnR5UmVmZXJlbmNlICYmICghZm5NZW1iZXIudW5xdWFsaWZpZWQgfHwgZm5NZW1iZXIuYmFzZSAhPT0gZW52Lmdsb2JhbCkpIHtcblx0XHR2YXIgdGhpc0FyZyA9IGZuTWVtYmVyLmJhc2U7XG5cdFx0aWYgKGVudi5vcHRpb25zLmVjbWFWZXJzaW9uID09PSA1KSB7XG5cdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzQXJnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpc0FyZztcblx0fVxuXG5cdHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBDYWxsRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBub2RlLCBpc05ldywgZm5NZW1iZXIsIGZuLCBhcmdzLCBzdHJpbmdWYWx1ZSwgbmF0aXZlLCB0aGlzQXJnLCBjYWxsZWUsIHJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBDYWxsRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRub2RlID0gY29udGV4dC5ub2RlO1xuXHRcdFx0XHRpc05ldyA9IGNvbnRleHQubm9kZS50eXBlID09PSBcIk5ld0V4cHJlc3Npb25cIjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShub2RlLmNhbGxlZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGZuTWVtYmVyID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdGZuID0gZm5NZW1iZXIuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkobm9kZS5hcmd1bWVudHMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGFyZykge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoYXJnKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpLCBcInQwXCIsIDcpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDEkMC50MDtcblxuXHRcdFx0XHRpZiAoISghZm4gfHwgZm4uY2xhc3NOYW1lICE9PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZm4pO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgVHlwZUVycm9yKHN0cmluZ1ZhbHVlICsgXCIgbm90IGEgZnVuY3Rpb25cIikpKTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0bmF0aXZlID0gZm4ubmF0aXZlO1xuXHRcdFx0XHR0aGlzQXJnID0gYXNzaWduVGhpcyhjb250ZXh0LmVudiwgZm5NZW1iZXIsIGZuLCBpc05ldywgbmF0aXZlKTtcblx0XHRcdFx0Y2FsbGVlID0gZm5NZW1iZXI7XG5cblx0XHRcdFx0Y2FsbGVlLmlkZW50aWZpZXIgPSBmbi5uYW1lO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdHJldHVybiBmbltpc05ldyA/IFwiY29uc3RydWN0XCIgOiBcImNhbGxcIl0odGhpc0FyZywgYXJncywgY2FsbGVlKTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChyZXN1bHQgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKTtcblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHJldHVybiBjb250ZXh0LnJlc3VsdCh5aWVsZCAoaXNOZXcgPyBjb25zdHJ1Y3QgOiBleGVjKShjb250ZXh0LmVudiwgZm4sIGFyZ3MsIHRoaXNBcmcsIGNhbGxlZSkpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEZWJ1Z2dlclN0YXRlbWVudDtcblxuZnVuY3Rpb24gRGVidWdnZXJTdGF0ZW1lbnQoY29udGV4dCkge1xuXHRpZiAoY29udGV4dC5lbnYub3B0aW9ucy5hbGxvd0RlYnVnZ2VyKSB7XG5cdFx0LyogZXNsaW50LWRpc2FibGUgbm8tZGVidWdnZXIgKi9cblx0XHRkZWJ1Z2dlcjtcblx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWRlYnVnZ2VyICovXG5cdH1cblxuXHRyZXR1cm4gY29udGV4dC5lbXB0eSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRG9XaGlsZVN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbRG9XaGlsZVN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBEb1doaWxlU3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIHJlc3VsdCwgcHJpb3JSZXN1bHQsIHBhc3NlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBEb1doaWxlU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZCwgcHJpb3JSZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdHBhc3NlZCA9IHRydWU7XG5cblx0XHRcdFx0aWYgKCEoY29udGV4dC5ub2RlLnR5cGUgPT09IFwiV2hpbGVTdGF0ZW1lbnRcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDEkMC50MCk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aWYgKCFwYXNzZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYm9keSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHJlc3VsdCAmJiByZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgdHJ1ZSwgcHJpb3JSZXN1bHQpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEVtcHR5U3RhdGVtZW50O1xuXG5mdW5jdGlvbiBFbXB0eVN0YXRlbWVudChjb250ZXh0KSB7XG5cdHJldHVybiBjb250ZXh0LmVtcHR5KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFeHByZXNzaW9uU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtFeHByZXNzaW9uU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIEV4cHJlc3Npb25TdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgZXhlY3V0aW9uUmVzdWx0LCBleGVjdXRpb25WYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBFeHByZXNzaW9uU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmV4cHJlc3Npb24pLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRleGVjdXRpb25WYWx1ZSA9IGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChleGVjdXRpb25WYWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRm9ySW5TdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0ZvckluU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG5mdW5jdGlvbiBGb3JJblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBsZWZ0LCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGRlY2wsIG9iaiwgaXQsIG5leHQsIGRvbmUsIHJlc3VsdCwgcHJpb3JSZXN1bHQsIGl0UmVzdWx0O1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gRm9ySW5TdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0bGVmdCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRpZiAoIShjb250ZXh0Lm5vZGUubGVmdC50eXBlID09PSBcIlZhcmlhYmxlRGVjbGFyYXRpb25cIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA1O1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmxlZnQuZGVjbGFyYXRpb25zKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWNsID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGRlY2wpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTc7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSg1KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjE7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyMjtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDI0O1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgyNCk7XG5cblx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMjEpO1xuXG5cdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzM7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUubGVmdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRsZWZ0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cblx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRvYmogPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmICghKDAsIF91dGlsc0NvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZCkob2JqKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5lbXB0eSgpKTtcblxuXHRcdFx0Y2FzZSAzOTpcblx0XHRcdFx0aXQgPSBvYmouZ2V0SXRlcmF0b3IoY29udGV4dC5lbnYpO1xuXHRcdFx0XHRuZXh0ID0gaXQuZ2V0VmFsdWUoXCJuZXh0XCIpO1xuXHRcdFx0XHRkb25lID0gZmFsc2U7XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZCwgcHJpb3JSZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ2O1xuXHRcdFx0XHRyZXR1cm4gbmV4dC5jYWxsKGl0LCBbXSk7XG5cblx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdGl0UmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRkb25lID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGl0UmVzdWx0LmdldFZhbHVlKFwiZG9uZVwiKSk7XG5cblx0XHRcdFx0aWYgKCEoIWRvbmUgJiYgaXRSZXN1bHQuaGFzKFwidmFsdWVcIikpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGVmdC5zZXRWYWx1ZShpdFJlc3VsdC5nZXRWYWx1ZShcInZhbHVlXCIpKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmJvZHkpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA1Mjpcblx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShyZXN1bHQgJiYgcmVzdWx0LnNob3VsZEJyZWFrKGNvbnRleHQsIHRydWUsIHByaW9yUmVzdWx0KSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNTU6XG5cblx0XHRcdFx0cHJpb3JSZXN1bHQgPSByZXN1bHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Mztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSA1OTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcywgW1s1LCAxNywgMjEsIDI5XSwgWzIyLCwgMjQsIDI4XV0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyBzaG91bGQgb25seSBiZSBvbmUsIGJ1dFxuLy8gbmVlZCB0byB1bndyYXAgdGhlIGRlY2xhcmF0aW9uIHRvIGdldCBpdFxuLy8gdG9kbzogdGhpcyBpcyBzbG9wcHkgLSBuZWVkIHRvIHJldmlzaXRcblxuLy8gdHJhY2sgdmlzaXRlZCBwcm9wZXJ0aWVzIHRvIHByZXZlbnQgaXRlcmF0aW5nIG92ZXIgc2hhZG93ZWQgcHJvcGVydGllcywgcmVnYXJkbGVzcyBvZiBlbnVtZXJhYmxlIGZsYWdcbi8vIDEyLjYuNCBOT1RFOiBhIHByb3BlcnR5IG9mIGEgcHJvdG90eXBlIGlzIG5vdCBlbnVtZXJhdGVkIGlmIGl0IGlzIOKAnHNoYWRvd2Vk4oCdIGJlY2F1c2Ugc29tZSBwcmV2aW91c1xuLy8gb2JqZWN0IGluIHRoZSBwcm90b3R5cGUgY2hhaW4gaGFzIGEgcHJvcGVydHkgd2l0aCB0aGUgc2FtZSBuYW1lLiBUaGUgdmFsdWVzIG9mIFtbRW51bWVyYWJsZV1dIGF0dHJpYnV0ZXNcbi8vIGFyZSBub3QgY29uc2lkZXJlZCB3aGVuIGRldGVybWluaW5nIGlmIGEgcHJvcGVydHkgb2YgYSBwcm90b3R5cGUgb2JqZWN0IGlzIHNoYWRvd2VkIGJ5IGEgcHJldmlvdXMgb2JqZWN0XG4vLyBvbiB0aGUgcHJvdG90eXBlIGNoYWluLlxuLy8gbGV0IHZpc2l0ZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vLyB3aGlsZSAob2JqKSB7XG4vLyBcdGZvciAobGV0IHByb3AgaW4gb2JqLnByb3BlcnRpZXMpIHtcbi8vIFx0XHRpZiAob2JqLnByb3BlcnRpZXNbcHJvcF0uZW51bWVyYWJsZSAmJiAhdmlzaXRlZFtwcm9wXSkge1xuLy8gXHRcdFx0bGVmdC5zZXRWYWx1ZShjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShwcm9wKSk7XG5cbi8vIFx0XHRcdHJlc3VsdCA9IHlpZWxkIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG4vLyBcdFx0XHRpZiAocmVzdWx0ICYmIHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCB0cnVlLCBwcmlvclJlc3VsdCkpIHtcbi8vIFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcbi8vIFx0XHRcdH1cbi8vIFx0XHR9XG5cbi8vIFx0XHR2aXNpdGVkW3Byb3BdID0gdHJ1ZTtcbi8vIFx0fVxuXG4vLyBcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuLy8gXHRvYmogPSBvYmouZ2V0UHJvdG90eXBlKCk7XG4vLyB9IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGb3JTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW3Nob3VsZENvbnRpbnVlLCBGb3JTdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gc2hvdWxkQ29udGludWUoY29udGV4dCkge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHNob3VsZENvbnRpbnVlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmIChjb250ZXh0Lm5vZGUudGVzdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB0cnVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS50ZXN0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBGb3JTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgcmVzdWx0LCBwcmlvclJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBGb3JTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuaW5pdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuaW5pdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZCwgcHJpb3JSZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBzaG91bGRDb250aW51ZShjb250ZXh0KTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRpZiAoIWNvbnRleHQkMSQwLnNlbnQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShyZXN1bHQgJiYgcmVzdWx0LnNob3VsZEJyZWFrKGNvbnRleHQsIHRydWUsIHByaW9yUmVzdWx0KSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLnVwZGF0ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS51cGRhdGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRwcmlvclJlc3VsdCA9IHJlc3VsdDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgMTk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGdW5jdGlvbkRlY2xhcmF0aW9uO1xuXG5mdW5jdGlvbiBGdW5jdGlvbkRlY2xhcmF0aW9uKGNvbnRleHQpIHtcblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52LmdldFZhbHVlKGNvbnRleHQubm9kZS5pZC5uYW1lKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRnVuY3Rpb25FeHByZXNzaW9uO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIEZ1bmN0aW9uRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIHN0cmljdCA9IGNvbnRleHQuZW52LmlzU3RyaWN0KCkgfHwgY29udHJhY3RzLmlzU3RyaWN0Tm9kZShjb250ZXh0Lm5vZGUuYm9keS5ib2R5KTtcblx0dmFyIG5hbWUgPSBjb250ZXh0Lm5vZGUuaWQgPyBjb250ZXh0Lm5vZGUuaWQubmFtZSA6IFwiYW5vbnltb3VzXCI7XG5cblx0dmFyIGZ1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGNvbnRleHQubm9kZSwgdW5kZWZpbmVkLCB7IHN0cmljdDogc3RyaWN0LCBuYW1lOiBuYW1lIH0pO1xuXHRmdW5jLmJpbmRTY29wZShjb250ZXh0LmVudi5jdXJyZW50KTtcblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBJZGVudGlmaWVyO1xuXG5mdW5jdGlvbiBJZGVudGlmaWVyKGNvbnRleHQpIHtcblx0dmFyIG5hbWUgPSBjb250ZXh0Lm5vZGUubmFtZTtcblxuXHRpZiAoY29udGV4dC5jYWxsZWUgJiYgY29udGV4dC5jYWxsZWUuaWRlbnRpZmllciA9PT0gbmFtZSkge1xuXHRcdHJldHVybiBjb250ZXh0LnJlc3VsdChjb250ZXh0LmNhbGxlZSk7XG5cdH1cblxuXHRyZXR1cm4gY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYuZ2V0UmVmZXJlbmNlKGNvbnRleHQubm9kZS5uYW1lKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBJZlN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbSWZTdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gSWZTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgdGVzdFZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIElmU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR0ZXN0VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmICghKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKHRlc3RWYWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmNvbnNlcXVlbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmFsdGVybmF0ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5hbHRlcm5hdGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2FycmF5RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2FycmF5LWV4cHJlc3Npb25cIik7XG5cbnZhciBfYXJyYXlFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5RXhwcmVzc2lvbik7XG5cbnZhciBfYXNzaWdubWVudEV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9hc3NpZ25tZW50LWV4cHJlc3Npb25cIik7XG5cbnZhciBfYXNzaWdubWVudEV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXNzaWdubWVudEV4cHJlc3Npb24pO1xuXG52YXIgX2JpbmFyeUV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9iaW5hcnktZXhwcmVzc2lvblwiKTtcblxudmFyIF9iaW5hcnlFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmFyeUV4cHJlc3Npb24pO1xuXG52YXIgX2Jsb2NrU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vYmxvY2stc3RhdGVtZW50XCIpO1xuXG52YXIgX2Jsb2NrU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jsb2NrU3RhdGVtZW50KTtcblxudmFyIF9pbnRlcnJ1cHRTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9pbnRlcnJ1cHQtc3RhdGVtZW50XCIpO1xuXG52YXIgX2ludGVycnVwdFN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcnJ1cHRTdGF0ZW1lbnQpO1xuXG52YXIgX2NhbGxFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vY2FsbC1leHByZXNzaW9uXCIpO1xuXG52YXIgX2NhbGxFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGxFeHByZXNzaW9uKTtcblxudmFyIF9pZlN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2lmLXN0YXRlbWVudFwiKTtcblxudmFyIF9pZlN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pZlN0YXRlbWVudCk7XG5cbnZhciBfZGVidWdnZXJTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9kZWJ1Z2dlci1zdGF0ZW1lbnRcIik7XG5cbnZhciBfZGVidWdnZXJTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVidWdnZXJTdGF0ZW1lbnQpO1xuXG52YXIgX2RvV2hpbGVTdGF0ZW1lbnRKcyA9IHJlcXVpcmUoXCIuL2RvLXdoaWxlLXN0YXRlbWVudC5qc1wiKTtcblxudmFyIF9kb1doaWxlU3RhdGVtZW50SnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9XaGlsZVN0YXRlbWVudEpzKTtcblxudmFyIF9lbXB0eVN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2VtcHR5LXN0YXRlbWVudFwiKTtcblxudmFyIF9lbXB0eVN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbXB0eVN0YXRlbWVudCk7XG5cbnZhciBfZXhwcmVzc2lvblN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2V4cHJlc3Npb24tc3RhdGVtZW50XCIpO1xuXG52YXIgX2V4cHJlc3Npb25TdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhwcmVzc2lvblN0YXRlbWVudCk7XG5cbnZhciBfZm9yU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZm9yLXN0YXRlbWVudFwiKTtcblxudmFyIF9mb3JTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9yU3RhdGVtZW50KTtcblxudmFyIF9mb3JJblN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2Zvci1pbi1zdGF0ZW1lbnRcIik7XG5cbnZhciBfZm9ySW5TdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ySW5TdGF0ZW1lbnQpO1xuXG52YXIgX2Z1bmN0aW9uRGVjbGFyYXRpb24gPSByZXF1aXJlKFwiLi9mdW5jdGlvbi1kZWNsYXJhdGlvblwiKTtcblxudmFyIF9mdW5jdGlvbkRlY2xhcmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Z1bmN0aW9uRGVjbGFyYXRpb24pO1xuXG52YXIgX2Z1bmN0aW9uRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLWV4cHJlc3Npb25cIik7XG5cbnZhciBfZnVuY3Rpb25FeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Z1bmN0aW9uRXhwcmVzc2lvbik7XG5cbnZhciBfaWRlbnRpZmllciA9IHJlcXVpcmUoXCIuL2lkZW50aWZpZXJcIik7XG5cbnZhciBfaWRlbnRpZmllcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pZGVudGlmaWVyKTtcblxudmFyIF9sYWJlbGVkU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vbGFiZWxlZC1zdGF0ZW1lbnRcIik7XG5cbnZhciBfbGFiZWxlZFN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sYWJlbGVkU3RhdGVtZW50KTtcblxudmFyIF9saXRlcmFsID0gcmVxdWlyZShcIi4vbGl0ZXJhbFwiKTtcblxudmFyIF9saXRlcmFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpdGVyYWwpO1xuXG52YXIgX2xvZ2ljYWxFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vbG9naWNhbC1leHByZXNzaW9uXCIpO1xuXG52YXIgX2xvZ2ljYWxFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZ2ljYWxFeHByZXNzaW9uKTtcblxudmFyIF9tZW1iZXJFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vbWVtYmVyLWV4cHJlc3Npb25cIik7XG5cbnZhciBfbWVtYmVyRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZW1iZXJFeHByZXNzaW9uKTtcblxudmFyIF9tZXRhUHJvcGVydHkgPSByZXF1aXJlKFwiLi9tZXRhLXByb3BlcnR5XCIpO1xuXG52YXIgX21ldGFQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZXRhUHJvcGVydHkpO1xuXG52YXIgX29iamVjdEV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9vYmplY3QtZXhwcmVzc2lvblwiKTtcblxudmFyIF9vYmplY3RFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEV4cHJlc3Npb24pO1xuXG52YXIgX3JldHVyblN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL3JldHVybi1zdGF0ZW1lbnRcIik7XG5cbnZhciBfcmV0dXJuU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JldHVyblN0YXRlbWVudCk7XG5cbnZhciBfc2VxdWVuY2VFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vc2VxdWVuY2UtZXhwcmVzc2lvblwiKTtcblxudmFyIF9zZXF1ZW5jZUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VxdWVuY2VFeHByZXNzaW9uKTtcblxudmFyIF9zd2l0Y2hTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9zd2l0Y2gtc3RhdGVtZW50XCIpO1xuXG52YXIgX3N3aXRjaFN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zd2l0Y2hTdGF0ZW1lbnQpO1xuXG52YXIgX3RhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL3RhZ2dlZC10ZW1wbGF0ZS1leHByZXNzaW9uXCIpO1xuXG52YXIgX3RhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90YWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24pO1xuXG52YXIgX3RlbXBsYXRlTGl0ZXJhbCA9IHJlcXVpcmUoXCIuL3RlbXBsYXRlLWxpdGVyYWxcIik7XG5cbnZhciBfdGVtcGxhdGVMaXRlcmFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RlbXBsYXRlTGl0ZXJhbCk7XG5cbnZhciBfdGhpc0V4cHJlc3Npb24gPSByZXF1aXJlKFwiLi90aGlzLWV4cHJlc3Npb25cIik7XG5cbnZhciBfdGhpc0V4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhpc0V4cHJlc3Npb24pO1xuXG52YXIgX3Rocm93U3RhdGVtZW50ID0gcmVxdWlyZShcIi4vdGhyb3ctc3RhdGVtZW50XCIpO1xuXG52YXIgX3Rocm93U3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Rocm93U3RhdGVtZW50KTtcblxudmFyIF90cnlTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi90cnktc3RhdGVtZW50XCIpO1xuXG52YXIgX3RyeVN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90cnlTdGF0ZW1lbnQpO1xuXG52YXIgX3VuYXJ5RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL3VuYXJ5LWV4cHJlc3Npb25cIik7XG5cbnZhciBfdW5hcnlFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VuYXJ5RXhwcmVzc2lvbik7XG5cbnZhciBfdXBkYXRlRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL3VwZGF0ZS1leHByZXNzaW9uXCIpO1xuXG52YXIgX3VwZGF0ZUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXBkYXRlRXhwcmVzc2lvbik7XG5cbnZhciBfdmFyaWFibGVEZWNsYXJhdGlvbiA9IHJlcXVpcmUoXCIuL3ZhcmlhYmxlLWRlY2xhcmF0aW9uXCIpO1xuXG52YXIgX3ZhcmlhYmxlRGVjbGFyYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFyaWFibGVEZWNsYXJhdGlvbik7XG5cbnZhciBfdmFyaWFibGVEZWNsYXJhdG9yID0gcmVxdWlyZShcIi4vdmFyaWFibGUtZGVjbGFyYXRvclwiKTtcblxudmFyIF92YXJpYWJsZURlY2xhcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFyaWFibGVEZWNsYXJhdG9yKTtcblxudmFyIF93aXRoU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vd2l0aC1zdGF0ZW1lbnRcIik7XG5cbnZhciBfd2l0aFN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aXRoU3RhdGVtZW50KTtcblxudmFyIHZpc2l0b3JzID0ge1xuXHRBcnJheUV4cHJlc3Npb246IF9hcnJheUV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0QXNzaWdubWVudEV4cHJlc3Npb246IF9hc3NpZ25tZW50RXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRCaW5hcnlFeHByZXNzaW9uOiBfYmluYXJ5RXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRCbG9ja1N0YXRlbWVudDogX2Jsb2NrU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdEJyZWFrU3RhdGVtZW50OiBfaW50ZXJydXB0U3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdENhbGxFeHByZXNzaW9uOiBfY2FsbEV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0Q29uZGl0aW9uYWxFeHByZXNzaW9uOiBfaWZTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0RGVidWdnZXJTdGF0ZW1lbnQ6IF9kZWJ1Z2dlclN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHREb1doaWxlU3RhdGVtZW50OiBfZG9XaGlsZVN0YXRlbWVudEpzMltcImRlZmF1bHRcIl0sXG5cdEVtcHR5U3RhdGVtZW50OiBfZW1wdHlTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0RXhwcmVzc2lvblN0YXRlbWVudDogX2V4cHJlc3Npb25TdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0Rm9yU3RhdGVtZW50OiBfZm9yU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdEZvckluU3RhdGVtZW50OiBfZm9ySW5TdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0RnVuY3Rpb25EZWNsYXJhdGlvbjogX2Z1bmN0aW9uRGVjbGFyYXRpb24yW1wiZGVmYXVsdFwiXSxcblx0RnVuY3Rpb25FeHByZXNzaW9uOiBfZnVuY3Rpb25FeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdElkZW50aWZpZXI6IF9pZGVudGlmaWVyMltcImRlZmF1bHRcIl0sXG5cdExhYmVsZWRTdGF0ZW1lbnQ6IF9sYWJlbGVkU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdExpdGVyYWw6IF9saXRlcmFsMltcImRlZmF1bHRcIl0sXG5cdExvZ2ljYWxFeHByZXNzaW9uOiBfbG9naWNhbEV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0TWVtYmVyRXhwcmVzc2lvbjogX21lbWJlckV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0TWV0YVByb3BlcnR5OiBfbWV0YVByb3BlcnR5MltcImRlZmF1bHRcIl0sXG5cdE9iamVjdEV4cHJlc3Npb246IF9vYmplY3RFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFJldHVyblN0YXRlbWVudDogX3JldHVyblN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRTZXF1ZW5jZUV4cHJlc3Npb246IF9zZXF1ZW5jZUV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0U3dpdGNoU3RhdGVtZW50OiBfc3dpdGNoU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbjogX3RhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRUZW1wbGF0ZUxpdGVyYWw6IF90ZW1wbGF0ZUxpdGVyYWwyW1wiZGVmYXVsdFwiXSxcblx0VGhpc0V4cHJlc3Npb246IF90aGlzRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRUaHJvd1N0YXRlbWVudDogX3Rocm93U3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdFRyeVN0YXRlbWVudDogX3RyeVN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRVbmFyeUV4cHJlc3Npb246IF91bmFyeUV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0VXBkYXRlRXhwcmVzc2lvbjogX3VwZGF0ZUV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0VmFyaWFibGVEZWNsYXJhdGlvbjogX3ZhcmlhYmxlRGVjbGFyYXRpb24yW1wiZGVmYXVsdFwiXSxcblx0VmFyaWFibGVEZWNsYXJhdG9yOiBfdmFyaWFibGVEZWNsYXJhdG9yMltcImRlZmF1bHRcIl0sXG5cdFdpdGhTdGF0ZW1lbnQ6IF93aXRoU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cblx0QXJyb3dGdW5jdGlvbkV4cHJlc3Npb246IF9mdW5jdGlvbkV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0Q29udGludWVTdGF0ZW1lbnQ6IF9pbnRlcnJ1cHRTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0SWZTdGF0ZW1lbnQ6IF9pZlN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHROZXdFeHByZXNzaW9uOiBfY2FsbEV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0UHJvZ3JhbTogX2Jsb2NrU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdFdoaWxlU3RhdGVtZW50OiBfZG9XaGlsZVN0YXRlbWVudEpzMltcImRlZmF1bHRcIl1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuXHR2aXNpdDogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHZpc2l0KGNvbnRleHQpIHtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHZpc2l0JChjb250ZXh0JDEkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmIChjb250ZXh0Lm5vZGUudHlwZSBpbiB2aXNpdG9ycykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBUeXBlRXJyb3IoXCJObyBoYW5kbGVyIGRlZmluZWQgZm9yOiBcIiArIGNvbnRleHQubm9kZS50eXBlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuIHZpc2l0b3JzW2NvbnRleHQubm9kZS50eXBlXShjb250ZXh0KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIHZpc2l0LCB0aGlzKTtcblx0fSlcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBJbnRlcnJ1cHRTdGF0ZW1lbnQ7XG5cbmZ1bmN0aW9uIEludGVycnVwdFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBsYWJlbCA9IHVuZGVmaW5lZDtcblx0aWYgKGNvbnRleHQubm9kZS5sYWJlbCkge1xuXHRcdGxhYmVsID0gY29udGV4dC5ub2RlLmxhYmVsLm5hbWU7XG5cdH1cblxuXHRpZiAoY29udGV4dC5ub2RlLnR5cGUgPT09IFwiQnJlYWtTdGF0ZW1lbnRcIikge1xuXHRcdHJldHVybiBjb250ZXh0LmNhbmNlbChsYWJlbCk7XG5cdH1cblxuXHRyZXR1cm4gY29udGV4dC5za2lwKGxhYmVsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IExhYmVsZWRTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0xhYmVsZWRTdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5mdW5jdGlvbiBMYWJlbGVkU3RhdGVtZW50KGNvbnRleHQpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBMYWJlbGVkU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGVMYWJlbChjb250ZXh0Lm5vZGUuYm9keSwgY29udGV4dC5ub2RlLmxhYmVsLm5hbWUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBMaXRlcmFsO1xuXG5mdW5jdGlvbiBMaXRlcmFsKGNvbnRleHQpIHtcblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGNvbnRleHQubm9kZS52YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTG9naWNhbEV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW0xvZ2ljYWxFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIExvZ2ljYWxFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIGxlZnQsIHBhc3NlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBMb2dpY2FsRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5sZWZ0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShsZWZ0LnJlc3VsdC5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRpZiAoIShwYXNzZWQgJiYgY29udGV4dC5ub2RlLm9wZXJhdG9yID09PSBcInx8XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGxlZnQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGlmICghKCFwYXNzZWQgJiYgY29udGV4dC5ub2RlLm9wZXJhdG9yID09PSBcIiYmXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGxlZnQpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1lbWJlckV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW01lbWJlckV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBNZW1iZXJFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iaiwga2V5LCB2YWx1ZSwgaWQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gTWVtYmVyRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5vYmplY3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRvYmogPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRrZXkgPSB1bmRlZmluZWQsIHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmNvbXB1dGVkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUucHJvcGVydHkpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpZCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFpZC5pc1N5bWJvbCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIHRoZSBpZGVudGlmaWVyIGlzIGEgc3ltYm9sLCBrZWVwIGFzIGlzIC0gcHJvcGVydHkgcmVmZXJlbmNlIHdpbGwgaGFuZGxlIGl0IGFjY29yZGluZ2x5XG5cdFx0XHRcdGtleSA9IGlkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShpZCk7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdGtleSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdGtleSA9IGNvbnRleHQubm9kZS5wcm9wZXJ0eS5uYW1lO1xuXG5cdFx0XHRjYXNlIDE4OlxuXG5cdFx0XHRcdHZhbHVlID0gbmV3IF9lbnZQcm9wZXJ0eVJlZmVyZW5jZS5Qcm9wZXJ0eVJlZmVyZW5jZShrZXksIG9iaiwgY29udGV4dC5lbnYpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KHZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMjA6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNZXRhUHJvcGVydHk7XG5cbmZ1bmN0aW9uIE1ldGFQcm9wZXJ0eShjb250ZXh0KSB7XG5cdHRocm93IEVycm9yKFwiTWV0YSBwcm9wZXJ0aWVzIG5vdCB5ZXQgaW1wbGVtZW50ZWRcIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9iamVjdEV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW09iamVjdEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIHNldERlc2NyaXB0b3IoZW52LCBvYmosIGRlc2NyaXB0b3IpIHtcblx0dmFyIHN0cmljdCA9IGVudi5pc1N0cmljdCgpO1xuXG5cdGlmIChkZXNjcmlwdG9yLmdldCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRBcmVWYWxpZEFyZ3VtZW50cyhkZXNjcmlwdG9yLmdldC5ub2RlLnBhcmFtcywgc3RyaWN0KTtcblx0XHRkZXNjcmlwdG9yLmdldHRlciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcyk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKGRlc2NyaXB0b3Iuc2V0KSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydEFyZVZhbGlkQXJndW1lbnRzKGRlc2NyaXB0b3Iuc2V0Lm5vZGUucGFyYW1zLCBzdHJpY3QpO1xuXHRcdGRlc2NyaXB0b3Iuc2V0dGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUpIHtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiBkZXNjcmlwdG9yLnNldC5jYWxsKHRoaXMsIFt2YWx1ZV0pO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0b2JqLmRlZmluZU93blByb3BlcnR5KGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGVzY3JpcHRvcihrZXksIHZhbHVlKSB7XG5cdHJldHVybiB7IGtleToga2V5LCB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfTtcbn1cblxuZnVuY3Rpb24gT2JqZWN0RXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBvYmosIGRlc2NyaXB0b3JzLCBwcm9wO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIE9iamVjdEV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0b2JqID0gY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0ZGVzY3JpcHRvcnMgPSBfT2JqZWN0JGNyZWF0ZShudWxsKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5wcm9wZXJ0aWVzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChwcm9wZXJ0eSkge1xuXHRcdFx0XHRcdHZhciB2YWx1ZSwga2V5LCBrZXlWYWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKHByb3BlcnR5LnZhbHVlKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0XHRcdFx0XHRrZXkgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoIXByb3BlcnR5LmNvbXB1dGVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUocHJvcGVydHkua2V5KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdGtleVZhbHVlID0gY29udGV4dCQyJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9Qcm9wZXJ0eUtleSkoa2V5VmFsdWUpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRcdFx0a2V5ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRcdFx0XHRrZXkgPSBwcm9wZXJ0eS5rZXkubmFtZSB8fCBwcm9wZXJ0eS5rZXkudmFsdWU7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IHByb3BlcnR5LmtpbmQ7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IGNvbnRleHQkMiQwLnQwID09PSBcImdldFwiID8gMTcgOiBjb250ZXh0JDIkMC50MCA9PT0gXCJzZXRcIiA/IDE3IDogMjA7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yc1trZXldID0gZGVzY3JpcHRvcnNba2V5XSB8fCBjcmVhdGVEZXNjcmlwdG9yKGtleSk7XG5cdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRvcnNba2V5XVtwcm9wZXJ0eS5raW5kXSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAyMik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0XHRcdFx0XHRvYmouZGVmaW5lT3duUHJvcGVydHkoa2V5LCBjcmVhdGVEZXNjcmlwdG9yKGtleSwgdmFsdWUpKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMjIpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSksIFwidDBcIiwgMyk7XG5cblx0XHRcdGNhc2UgMzpcblxuXHRcdFx0XHRmb3IgKHByb3AgaW4gZGVzY3JpcHRvcnMpIHtcblx0XHRcdFx0XHRzZXREZXNjcmlwdG9yKGNvbnRleHQuZW52LCBvYmosIGRlc2NyaXB0b3JzW3Byb3BdKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQob2JqKSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSZXR1cm5TdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW1JldHVyblN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG5mdW5jdGlvbiBSZXR1cm5TdGF0ZW1lbnQoY29udGV4dCkge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFJldHVyblN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5hcmd1bWVudCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5hcmd1bWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MC5leGl0LmNhbGwoY29udGV4dCQxJDAudDAsIGNvbnRleHQkMSQwLnQxKSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmV4aXQoX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlcXVlbmNlRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbU2VxdWVuY2VFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBTZXF1ZW5jZUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gU2VxdWVuY2VFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5lYWNoKShjb250ZXh0Lm5vZGUuZXhwcmVzc2lvbnMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGV4cHIpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGV4cHIpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KHZhbHVlKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTd2l0Y2hTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW2V4ZWN1dGVTdGF0ZW1lbnRzLCBTd2l0Y2hTdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIGV4ZWN1dGVTdGF0ZW1lbnRzKGNvbnRleHQsIHN0YXRlbWVudHMpIHtcblx0dmFyIHJlc3VsdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBleGVjdXRlU3RhdGVtZW50cyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRyZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKHN0YXRlbWVudHMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0YXRlbWVudCwgaSwgYWxsLCBhYm9ydCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoc3RhdGVtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAocmVzdWx0ICYmIHJlc3VsdC5pc0NhbmNlbGxlZCgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBTd2l0Y2hTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgdGVzdFZhbHVlLCBwYXNzZWQsIHZhbHVlLCBkZWZhdWx0Q2FzZSwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBjdXJyZW50LCBjYXNlVmFsdWU7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBTd2l0Y2hTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuZGlzY3JpbWluYW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGVzdFZhbHVlID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cGFzc2VkID0gZmFsc2U7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkLCBkZWZhdWx0Q2FzZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gODtcblx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKGNvbnRleHQubm9kZS5jYXNlcyk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnQgPSBfc3RlcC52YWx1ZTtcblxuXHRcdFx0XHRpZiAocGFzc2VkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFjdXJyZW50LnRlc3QpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjdXJyZW50LnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0Y2FzZVZhbHVlID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRpZiAoY29udGV4dC5lbnYub3BzLnN0cmljdEVxdWFscyhjYXNlVmFsdWUsIHRlc3RWYWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiY29udGludWVcIiwgMzApO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHQvLyBkZWZhdWx0IG1pZ2h0IG5vdCBiZSB0aGUgbGFzdCBjYXNlXG5cdFx0XHRcdGRlZmF1bHRDYXNlID0gY3VycmVudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImNvbnRpbnVlXCIsIDMwKTtcblxuXHRcdFx0Y2FzZSAyMzpcblxuXHRcdFx0XHRwYXNzZWQgPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlU3RhdGVtZW50cyhjb250ZXh0LCBjdXJyZW50LmNvbnNlcXVlbnQpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEodmFsdWUgJiYgdmFsdWUuaXNDYW5jZWxsZWQoKSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSg4KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0MDtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQyO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCg0Mik7XG5cblx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMzkpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRpZiAoISghcGFzc2VkICYmIGRlZmF1bHRDYXNlICYmIGRlZmF1bHRDYXNlLmNvbnNlcXVlbnQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUwO1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZVN0YXRlbWVudHMoY29udGV4dCwgZGVmYXVsdENhc2UuY29uc2VxdWVudCk7XG5cblx0XHRcdGNhc2UgNTA6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgNTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDU0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzLCBbWzgsIDM1LCAzOSwgNDddLCBbNDAsLCA0MiwgNDZdXSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvLWNvbnN1bWFibGUtYXJyYXlcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciB0ZW1wbGF0ZU9iamVjdENhY2hlID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIGJ1aWxkVGVtcGxhdGVPYmplY3QoZW52LCBub2RlKSB7XG5cdC8vIHBlciBzcGVjLCB0ZW1wbGF0ZSBvYmplY3RzIGFyZSBjYWNoZWRcblx0dmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KG5vZGUucXVhc2lzLm1hcChmdW5jdGlvbiAocSkge1xuXHRcdHJldHVybiB7IGNvb2tlZDogcS52YWx1ZS5jb29rZWQsIHJhdzogcS52YWx1ZS5yYXcgfTtcblx0fSkpO1xuXHRpZiAoa2V5IGluIHRlbXBsYXRlT2JqZWN0Q2FjaGUpIHtcblx0XHRyZXR1cm4gdGVtcGxhdGVPYmplY3RDYWNoZVtrZXldO1xuXHR9XG5cblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIHRhZyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdHZhciByYXcgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHR2YXIgcXVhc2lzID0gbm9kZS5xdWFzaXM7XG5cblx0Zm9yICh2YXIgaSA9IDAsIGxuID0gcXVhc2lzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHR0YWcuc2V0VmFsdWUoaSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocXVhc2lzW2ldLnZhbHVlLmNvb2tlZCkpO1xuXHRcdHJhdy5zZXRWYWx1ZShpLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShxdWFzaXNbaV0udmFsdWUucmF3KSk7XG5cdH1cblxuXHRyYXcuZnJlZXplKCk7XG5cdHRhZy5kZWZpbmVPd25Qcm9wZXJ0eShcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7XG5cdHRhZy5mcmVlemUoKTtcblxuXHRyZXR1cm4gdGVtcGxhdGVPYmplY3RDYWNoZVtrZXldID0gdGFnO1xufVxuXG5mdW5jdGlvbiBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgdGVtcGxhdGVPYmplY3QsIHZhbHVlcywgY2FsbGVlLCBmdW5jLCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0dGVtcGxhdGVPYmplY3QgPSBidWlsZFRlbXBsYXRlT2JqZWN0KGNvbnRleHQuZW52LCBjb250ZXh0Lm5vZGUucXVhc2kpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGNvbnRleHQubm9kZS5xdWFzaS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHZhciB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGV4cHIpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZS5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0dmFsdWVzID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGFnKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FsbGVlID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdGZ1bmMgPSBjYWxsZWUuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoY29udGV4dC5lbnYsIGZ1bmMsIFt0ZW1wbGF0ZU9iamVjdF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZXMpKSwgY2FsbGVlLmJhc2UsIGNhbGxlZSk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdCh2YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRlbXBsYXRlTGl0ZXJhbDtcbnZhciBtYXJrZWQwJDAgPSBbVGVtcGxhdGVMaXRlcmFsXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gVGVtcGxhdGVMaXRlcmFsKGNvbnRleHQpIHtcblx0dmFyIHZhbHVlcywgcmVzdWx0LCBxdWFzaXMsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGNvbnRleHQubm9kZS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHZhciB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGV4cHIpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKSh2YWx1ZS5yZXN1bHQuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHZhbHVlcyA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJlc3VsdCA9IFtdO1xuXHRcdFx0XHRxdWFzaXMgPSBjb250ZXh0Lm5vZGUucXVhc2lzO1xuXG5cdFx0XHRcdGZvciAoaSA9IDAsIGxuID0gcXVhc2lzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHRcdFx0XHRyZXN1bHQucHVzaChxdWFzaXNbaV0udmFsdWUuY29va2VkKTtcblxuXHRcdFx0XHRcdGlmIChpIDwgdmFsdWVzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2godmFsdWVzW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHJlc3VsdC5qb2luKFwiXCIpKSkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRoaXNFeHByZXNzaW9uO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIFRoaXNFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIHRoaXNBcmcgPSBjb250ZXh0LmVudi5nZXRUaGlzQmluZGluZygpO1xuXHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXNBcmcpICYmICFjb250ZXh0LmVudi5pc1N0cmljdCgpKSB7XG5cdFx0dGhpc0FyZyA9IGNvbnRleHQuZW52Lmdsb2JhbDtcblx0fVxuXG5cdHJldHVybiBjb250ZXh0LnJlc3VsdCh0aGlzQXJnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRocm93U3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtUaHJvd1N0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIFRocm93U3RhdGVtZW50KGNvbnRleHQpIHtcblx0dmFyIGFyZztcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUaHJvd1N0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5hcmd1bWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGFyZyA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShhcmcpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHJ5U3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtleGVjdXRlQmxvY2ssIFRyeVN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBleGVjdXRlQmxvY2soY29udGV4dCwgYm9keSwgc3dhbGxvdykge1xuXHR2YXIgcmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGVCbG9jayQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRyZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKGJvZHksIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKG5vZGUsIGksIGFsbCwgYWJvcnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFzd2FsbG93KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDEpO1xuXG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dC5yYWlzZShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKG5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXN1bHQuY2FuQnJlYWsoKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxLCA3XV0pO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBUcnlTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgcmVzdWx0LCBmaW5hbGl6ZXJSZXN1bHQsIGVyclZhciwgc2NvcGU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gVHJ5U3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUJsb2NrKGNvbnRleHQsIGNvbnRleHQubm9kZS5ibG9jay5ib2R5LCB0cnVlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRmaW5hbGl6ZXJSZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdC5yYWlzZWQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuaGFuZGxlcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVyclZhciA9IGNvbnRleHQubm9kZS5oYW5kbGVyLnBhcmFtLm5hbWU7XG5cblx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRJZGVudGlmaWVyKGVyclZhciwgY29udGV4dC5lbnYuaXNTdHJpY3QoKSk7XG5cblx0XHRcdFx0c2NvcGUgPSBjb250ZXh0LmVudi5jcmVhdGVTY29wZSgpO1xuXG5cdFx0XHRcdGNvbnRleHQuZW52LmNyZWF0ZVZhcmlhYmxlKGVyclZhcik7XG5cdFx0XHRcdGNvbnRleHQuZW52LnNldFZhbHVlKGVyclZhciwgcmVzdWx0LnJlc3VsdCk7XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUJsb2NrKGNvbnRleHQsIGNvbnRleHQubm9kZS5oYW5kbGVyLmJvZHkuYm9keSwgdHJ1ZSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRpZiAoY29udGV4dC5ub2RlLmZpbmFsaXplcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuZmluYWxpemVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUJsb2NrKGNvbnRleHQsIGNvbnRleHQubm9kZS5maW5hbGl6ZXIuYm9keSk7XG5cblx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdGZpbmFsaXplclJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEoZmluYWxpemVyUmVzdWx0ICYmIGZpbmFsaXplclJlc3VsdC5jYW5CcmVhaygpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmluYWxpemVyUmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDIzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gbGV0IHNob3VsZFJhaXNlID0gZmFsc2U7XG4vLyBsZXQgc2hvdWxkUmV0dXJuID0gZmFsc2U7XG5cbi8vIGxldCBzaG91bGRUaHJvdyA9IHJlc3VsdCAmJiByZXN1bHQucmFpc2VkO1xuXG4vLyBpZiB0aGVyZSBpcyBubyBjYXRjaCBPUiBpZiBhbiBlcnJvciBpcyByYWlzZWQgd2l0aGluIHRoZSBjYXRjaCB3ZSBuZWVkIHRvIHBhc3MgdGhhdCBvblxuLy8gaWYgKHJlc3VsdCAmJiByZXN1bHQucmFpc2VkKSB7XG4vLyBcdHNob3VsZFJhaXNlID0gdHJ1ZTtcbi8vIFx0Ly8geWllbGQgcmVzdWx0O1xuLy8gfVxuXG4vLyBzaG91bGRSZXR1cm4gPSB0cnVlO1xuXG4vLyBpZiAoc2hvdWxkUmFpc2UpIHtcbi8vIFx0dHJ5IHtcbi8vIFx0XHR0aHJvdyByZXN1bHQucmVzdWx0O1xuLy8gXHR9IGNhdGNoIChlcnIpIHtcbi8vIFx0XHR0aHJvdyBlcnI7XG4vLyBcdH0gZmluYWxseSB7XG4vLyBcdFx0aWYgKHNob3VsZFJldHVybikge1xuLy8gXHRcdFx0cmV0dXJuIGZpbmFsaXplclJlc3VsdDtcbi8vIFx0XHR9XG4vLyBcdH1cbi8vIH0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFVuYXJ5RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbVW5hcnlFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF9lbnZSZWZlcmVuY2UgPSByZXF1aXJlKFwiLi4vZW52L3JlZmVyZW5jZVwiKTtcblxudmFyIF9lbnZQcm9wZXJ0eVJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcHJvcGVydHktcmVmZXJlbmNlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gVW5hcnlFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iamVjdEZhY3RvcnksIHJlc3VsdCwgdmFsdWUsIG5ld1ZhbHVlLCB0eXBlLCBkZWxldGVkLCByZXNvbHZlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBVbmFyeUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0b2JqZWN0RmFjdG9yeSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkLCBuZXdWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0Lm5vZGUub3BlcmF0b3I7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSBjb250ZXh0JDEkMC50MCA9PT0gXCJ0eXBlb2ZcIiA/IDggOiBjb250ZXh0JDEkMC50MCA9PT0gXCItXCIgPyAxMiA6IGNvbnRleHQkMSQwLnQwID09PSBcIitcIiA/IDE5IDogY29udGV4dCQxJDAudDAgPT09IFwiIVwiID8gMjYgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJ+XCIgPyAyOSA6IGNvbnRleHQkMSQwLnQwID09PSBcImRlbGV0ZVwiID8gMzYgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJ2b2lkXCIgPyA0OSA6IDUxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmIChyZXN1bHQgaW5zdGFuY2VvZiBfZW52UmVmZXJlbmNlLlJlZmVyZW5jZSAmJiByZXN1bHQuaXNVbnJlc29sdmVkKCkpIHtcblx0XHRcdFx0XHR0eXBlID0gXCJ1bmRlZmluZWRcIjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdHR5cGUgPSB2YWx1ZSA/IHZhbHVlLnR5cGUgOiBcInVuZGVmaW5lZFwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3VmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0eXBlKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKSh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gLWNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDEuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDEsIGNvbnRleHQkMSQwLnQyKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDMgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKSh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ0ID0gK2NvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDMuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDMsIGNvbnRleHQkMSQwLnQ0KTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0bmV3VmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSghKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKHZhbHVlKSk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdHZhbHVlID0gcmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ1ID0gb2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludDMyKSh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ2ID0gfmNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDUuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDUsIGNvbnRleHQkMSQwLnQ2KTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0ZGVsZXRlZCA9IHRydWU7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdCBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0NTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc29sdmVkID0gIXJlc3VsdC5pc1VucmVzb2x2ZWQoKTtcblxuXHRcdFx0XHRpZiAoIWNvbnRleHQuZW52LmlzU3RyaWN0KCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoISghcmVzb2x2ZWQgfHwgIShyZXN1bHQgaW5zdGFuY2VvZiBfZW52UHJvcGVydHlSZWZlcmVuY2UuUHJvcGVydHlSZWZlcmVuY2UpIHx8IHJlc3VsdC51bnF1YWxpZmllZCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFN5bnRheEVycm9yKFwiRGVsZXRlIG9mIGFuIHVucXVhbGlmaWVkIGlkZW50aWZpZXIgaW4gc3RyaWN0IG1vZGUuXCIpKSk7XG5cblx0XHRcdGNhc2UgNDI6XG5cblx0XHRcdFx0aWYgKHJlc29sdmVkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlZCA9IHJlc3VsdFtcImRlbGV0ZVwiXSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Nztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmFyZ3VtZW50Lm9iamVjdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Nztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgUmVmZXJlbmNlRXJyb3IoY29udGV4dC5ub2RlLmFyZ3VtZW50Lm9iamVjdC5uYW1lICsgXCIgaXMgbm90IGRlZmluZWRcIikpKTtcblxuXHRcdFx0Y2FzZSA0NzpcblxuXHRcdFx0XHRuZXdWYWx1ZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlbGV0ZWQpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDQ5OlxuXHRcdFx0XHRuZXdWYWx1ZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHVuZGVmaW5lZCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgNTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgU3ludGF4RXJyb3IoXCJVbmtub3duIHVuYXJ5IG9wZXJhdG9yOiBcIiArIGNvbnRleHQubm9kZS5vcGVyYXRvcikpKTtcblxuXHRcdFx0Y2FzZSA1Mjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChuZXdWYWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDUzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVXBkYXRlRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbVXBkYXRlRXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbmZ1bmN0aW9uIFVwZGF0ZUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSwgcmVmLCBvcmlnaW5hbFZhbHVlLCBuZXdWYWx1ZSwgbmV3V3JhcHBlZFZhbHVlLCByZXR1cm5WYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBVcGRhdGVFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iamVjdEZhY3RvcnkgPSBjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5hcmd1bWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJlZiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkQXNzaWdubWVudChyZWYsIGNvbnRleHQuZW52LmlzU3RyaWN0KCkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikocmVmLmdldFZhbHVlKCkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRuZXdWYWx1ZSA9IG9yaWdpbmFsVmFsdWU7XG5cblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS5vcGVyYXRvciA9PT0gXCIrK1wiKSB7XG5cdFx0XHRcdFx0bmV3VmFsdWUrKztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXdWYWx1ZS0tO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3V3JhcHBlZFZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3VmFsdWUpO1xuXG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShvcmlnaW5hbFZhbHVlKTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IGNvbnRleHQubm9kZS5wcmVmaXggPyBuZXdXcmFwcGVkVmFsdWUgOiBvcmlnaW5hbFZhbHVlO1xuXG5cdFx0XHRcdHJlZi5zZXRWYWx1ZShuZXdXcmFwcGVkVmFsdWUpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KHJldHVyblZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVmFyaWFibGVEZWNsYXJhdGlvbjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdGlvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRpb24oY29udGV4dCkge1xuXHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBkZWNsO1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdGlvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAzO1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmRlY2xhcmF0aW9ucyk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVjbCA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGRlY2wpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSgzKTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxOTtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIxO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgyMSk7XG5cblx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMTgpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuZW1wdHkoKSk7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbMywgMTQsIDE4LCAyNl0sIFsxOSwsIDIxLCAyNV1dKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFZhcmlhYmxlRGVjbGFyYXRvcjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdG9yKGNvbnRleHQpIHtcblx0dmFyIG5hbWUsIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRuYW1lID0gY29udGV4dC5ub2RlLmlkLm5hbWU7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmluaXQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRjYXNlIDY6XG5cblx0XHRcdFx0Ly8gdmFyaWFibGVzIGhhdmUgYWxyZWFkeSBiZWVuIGhvaXN0ZWQgc28gd2UganVzdCBuZWVkIHRvIGluaXRpYWxpemUgdGhlbSBpZiBkZWZpbmVkXG5cdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQuZW52LnNldFZhbHVlKG5hbWUsIHZhbHVlLmdldFZhbHVlKCkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5nZXRSZWZlcmVuY2UobmFtZSkpKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gV2l0aFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbV2l0aFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gV2l0aFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBvYmosIHNjb3BlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFdpdGhTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFjb250ZXh0LmVudi5pc1N0cmljdCgpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFN5bnRheEVycm9yKFwiU3RyaWN0IG1vZGUgY29kZSBtYXkgbm90IGluY2x1ZGUgYSB3aXRoIHN0YXRlbWVudFwiKSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLm9iamVjdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQob2JqKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBUeXBlRXJyb3Iob2JqLmNsYXNzTmFtZSArIFwiIGhhcyBubyBwcm9wZXJ0aWVzXCIpKSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0c2NvcGUgPSBjb250ZXh0LmVudi5jcmVhdGVPYmplY3RTY29wZShvYmosIGNvbnRleHQuZW52LmdldFRoaXNCaW5kaW5nKCkpO1xuXG5cdFx0XHRcdHNjb3BlLmluaXQoY29udGV4dC5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiXX0=
