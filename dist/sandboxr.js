(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SandBoxr = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _src = require("./src");

exports["default"] = _src.SandBoxr;
module.exports = exports["default"];
},{"./src":197}],2:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/array/from"), __esModule: true };
},{"core-js/library/fn/array/from":30}],3:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/get-iterator"), __esModule: true };
},{"core-js/library/fn/get-iterator":31}],4:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/math/sign"), __esModule: true };
},{"core-js/library/fn/math/sign":32}],5:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/assign"), __esModule: true };
},{"core-js/library/fn/object/assign":33}],6:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/create"), __esModule: true };
},{"core-js/library/fn/object/create":34}],7:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/define-property"), __esModule: true };
},{"core-js/library/fn/object/define-property":35}],8:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/get-own-property-descriptor"), __esModule: true };
},{"core-js/library/fn/object/get-own-property-descriptor":36}],9:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/keys"), __esModule: true };
},{"core-js/library/fn/object/keys":37}],10:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/set-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/set-prototype-of":38}],11:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/promise"), __esModule: true };
},{"core-js/library/fn/promise":39}],12:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol"), __esModule: true };
},{"core-js/library/fn/symbol":40}],13:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/iterator"), __esModule: true };
},{"core-js/library/fn/symbol/iterator":41}],14:[function(require,module,exports){
"use strict";

exports["default"] = Function.prototype.bind;
exports.__esModule = true;
},{}],15:[function(require,module,exports){
"use strict";

exports["default"] = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

exports.__esModule = true;
},{}],16:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = (function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;

      _Object$defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
})();

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":7}],17:[function(require,module,exports){
"use strict";

var _Object$defineProperty = require("babel-runtime/core-js/object/define-property")["default"];

exports["default"] = function (obj, key, value) {
  if (key in obj) {
    _Object$defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/define-property":7}],18:[function(require,module,exports){
"use strict";

var _Object$getOwnPropertyDescriptor = require("babel-runtime/core-js/object/get-own-property-descriptor")["default"];

exports["default"] = function get(_x, _x2, _x3) {
  var _again = true;

  _function: while (_again) {
    var object = _x,
        property = _x2,
        receiver = _x3;
    desc = parent = getter = undefined;
    _again = false;
    if (object === null) object = Function.prototype;

    var desc = _Object$getOwnPropertyDescriptor(object, property);

    if (desc === undefined) {
      var parent = Object.getPrototypeOf(object);

      if (parent === null) {
        return undefined;
      } else {
        _x = parent;
        _x2 = property;
        _x3 = receiver;
        _again = true;
        continue _function;
      }
    } else if ("value" in desc) {
      return desc.value;
    } else {
      var getter = desc.get;

      if (getter === undefined) {
        return undefined;
      }

      return getter.call(receiver);
    }
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/get-own-property-descriptor":8}],19:[function(require,module,exports){
"use strict";

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Object$setPrototypeOf = require("babel-runtime/core-js/object/set-prototype-of")["default"];

exports["default"] = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = _Object$create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};

exports.__esModule = true;
},{"babel-runtime/core-js/object/create":6,"babel-runtime/core-js/object/set-prototype-of":10}],20:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
};

exports.__esModule = true;
},{}],21:[function(require,module,exports){
"use strict";

exports["default"] = function (obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};

    if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
      }
    }

    newObj["default"] = obj;
    return newObj;
  }
};

exports.__esModule = true;
},{}],22:[function(require,module,exports){
"use strict";

var _Array$from = require("babel-runtime/core-js/array/from")["default"];

exports["default"] = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return _Array$from(arr);
  }
};

exports.__esModule = true;
},{"babel-runtime/core-js/array/from":2}],23:[function(require,module,exports){
(function (global){
// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g =
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this;

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = require("./runtime");

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}

module.exports = { "default": module.exports, __esModule: true };

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlXG4vLyBrZXB0IGlkZW50aWNhbCB0byB0aGUgd2F5IGl0IGlzIG9idGFpbmVkIGluIHJ1bnRpbWUuanNcbnZhciBnID1cbiAgdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOlxuICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB0aGlzO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IG1vZHVsZS5leHBvcnRzLCBfX2VzTW9kdWxlOiB0cnVlIH07XG4iXX0=
},{"./runtime":24}],24:[function(require,module,exports){
(function (process,global){
/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */

"use strict";

var _Symbol = require("babel-runtime/core-js/symbol")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

!(function (global) {
  "use strict";

  var hasOwn = Object.prototype.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var iteratorSymbol = typeof _Symbol === "function" && _Symbol$iterator || "@@iterator";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided, then outerFn.prototype instanceof Generator.
    var generator = _Object$create((outerFn || Generator).prototype);

    generator._invoke = makeInvokeMethod(innerFn, self || null, new Context(tryLocsList || []));

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function (method) {
      prototype[method] = function (arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function (genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor ? ctor === GeneratorFunction ||
    // For the native GeneratorFunction constructor, the best we can
    // do is to check its .name property.
    (ctor.displayName || ctor.name) === "GeneratorFunction" : false;
  };

  runtime.mark = function (genFun) {
    genFun.__proto__ = GeneratorFunctionPrototype;
    genFun.prototype = _Object$create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `value instanceof AwaitArgument` to determine if the yielded value is
  // meant to be awaited. Some may consider the name of this method too
  // cutesy, but they are curmudgeons.
  runtime.awrap = function (arg) {
    return new AwaitArgument(arg);
  };

  function AwaitArgument(arg) {
    this.arg = arg;
  }

  function AsyncIterator(generator) {
    // This invoke function is written in a style that assumes some
    // calling function (or Promise) will handle exceptions.
    function invoke(method, arg) {
      var result = generator[method](arg);
      var value = result.value;
      return value instanceof AwaitArgument ? _Promise.resolve(value.arg).then(invokeNext, invokeThrow) : _Promise.resolve(value).then(function (unwrapped) {
        // When a yielded Promise is resolved, its final value becomes
        // the .value of the Promise<{value,done}> result for the
        // current iteration. If the Promise is rejected, however, the
        // result for this iteration will be rejected with the same
        // reason. Note that rejections of yielded Promises are not
        // thrown back into the generator function, as is the case
        // when an awaited Promise is rejected. This difference in
        // behavior between yield and await is important, because it
        // allows the consumer to decide what to do with the yielded
        // rejection (swallow it and continue, manually .throw it back
        // into the generator, abandon iteration, whatever). With
        // await, by contrast, there is no opportunity to examine the
        // rejection reason outside the generator function, so the
        // only option is to throw it from the await expression, and
        // let the generator function handle the exception.
        result.value = unwrapped;
        return result;
      });
    }

    if (typeof process === "object" && process.domain) {
      invoke = process.domain.bind(invoke);
    }

    var invokeNext = invoke.bind(generator, "next");
    var invokeThrow = invoke.bind(generator, "throw");
    var invokeReturn = invoke.bind(generator, "return");
    var previousPromise;

    function enqueue(method, arg) {
      var enqueueResult =
      // If enqueue has been called before, then we want to wait until
      // all previous Promises have been resolved before calling invoke,
      // so that results are always delivered in the correct order. If
      // enqueue has not been called before, then it is important to
      // call invoke immediately, without waiting on a callback to fire,
      // so that the async generator function has the opportunity to do
      // any necessary setup in a predictable way. This predictability
      // is why the Promise constructor synchronously invokes its
      // executor callback, and why async functions synchronously
      // execute code before the first await. Since we implement simple
      // async functions in terms of async generators, it is especially
      // important to get this right, even though it requires care.
      previousPromise ? previousPromise.then(function () {
        return invoke(method, arg);
      }) : new _Promise(function (resolve) {
        resolve(invoke(method, arg));
      });

      // Avoid propagating enqueueResult failures to Promises returned by
      // later invocations of the iterator.
      previousPromise = enqueueResult["catch"](function (ignored) {});

      return enqueueResult;
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function (innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));

    return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.
    : iter.next().then(function (result) {
      return result.done ? result.value : iter.next();
    });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          if (method === "return" || method === "throw" && delegate.iterator[method] === undefined) {
            // A return or throw (when the delegate iterator has no throw
            // method) always terminates the yield* loop.
            context.delegate = null;

            // If the delegate iterator has a return method, give it a
            // chance to clean up.
            var returnMethod = delegate.iterator["return"];
            if (returnMethod) {
              var record = tryCatch(returnMethod, delegate.iterator, arg);
              if (record.type === "throw") {
                // If the return method threw an exception, let that
                // exception prevail over the original return or throw.
                method = "throw";
                arg = record.arg;
                continue;
              }
            }

            if (method === "return") {
              // Continue with the outer return, now that the delegate
              // iterator has been terminated.
              continue;
            }
          }

          var record = tryCatch(delegate.iterator[method], delegate.iterator, arg);

          if (record.type === "throw") {
            context.delegate = null;

            // Like returning generator.throw(uncaught), but without the
            // overhead of an extra function call.
            method = "throw";
            arg = record.arg;
            continue;
          }

          // Delegate generator ran and handled its own exceptions so
          // regardless of what the method was, we continue as if it is
          // "next" with an undefined arg.
          method = "next";
          arg = undefined;

          var info = record.arg;
          if (info.done) {
            context[delegate.resultName] = info.value;
            context.next = delegate.nextLoc;
          } else {
            state = GenStateSuspendedYield;
            return info;
          }

          context.delegate = null;
        }

        if (method === "next") {
          if (state === GenStateSuspendedYield) {
            context.sent = arg;
          } else {
            context.sent = undefined;
          }
        } else if (method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw arg;
          }

          if (context.dispatchException(arg)) {
            // If the dispatched exception was caught by a catch block,
            // then let that catch block handle the exception normally.
            method = "next";
            arg = undefined;
          }
        } else if (method === "return") {
          context.abrupt("return", arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done ? GenStateCompleted : GenStateSuspendedYield;

          var info = {
            value: record.arg,
            done: context.done
          };

          if (record.arg === ContinueSentinel) {
            if (context.delegate && method === "next") {
              // Deliberately forget the last sent value so that we don't
              // accidentally pass it on to the delegate.
              arg = undefined;
            }
          } else {
            return info;
          }
        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(arg) call above.
          method = "throw";
          arg = record.arg;
        }
      }
    };
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[iteratorSymbol] = function () {
    return this;
  };

  Gp.toString = function () {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function (object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1,
            next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function reset(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      this.sent = undefined;
      this.done = false;
      this.delegate = null;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function stop() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function dispatchException(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;
        return !!caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }
          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }
          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function abrupt(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.next = finallyEntry.finallyLoc;
      } else {
        this.complete(record);
      }

      return ContinueSentinel;
    },

    complete: function complete(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" || record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = record.arg;
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }
    },

    finish: function finish(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function _catch(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function delegateYield(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      return ContinueSentinel;
    }
  };
})(
// Among the various tricks for obtaining a reference to the global
// object, this seems to be the most reliable technique that does not
// use indirect eval (which violates Content Security Policy).
typeof global === "object" ? global : typeof window === "object" ? window : typeof self === "object" ? self : undefined);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW5cbiAqIGFkZGl0aW9uYWwgZ3JhbnQgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpblxuICogdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX1N5bWJvbCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfUHJvbWlzZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKVtcImRlZmF1bHRcIl07XG5cbiEoZnVuY3Rpb24gKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBfU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgX1N5bWJvbCRpdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBnZW5lcmF0b3IgPSBfT2JqZWN0JGNyZWF0ZSgob3V0ZXJGbiB8fCBHZW5lcmF0b3IpLnByb3RvdHlwZSk7XG5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiB8fCBudWxsLCBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSkpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBydW50aW1lLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikge1xuICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICBnZW5GdW4ucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnRgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLiBTb21lIG1heSBjb25zaWRlciB0aGUgbmFtZSBvZiB0aGlzIG1ldGhvZCB0b29cbiAgLy8gY3V0ZXN5LCBidXQgdGhleSBhcmUgY3VybXVkZ2VvbnMuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIG5ldyBBd2FpdEFyZ3VtZW50KGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQXdhaXRBcmd1bWVudChhcmcpIHtcbiAgICB0aGlzLmFyZyA9IGFyZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgLy8gVGhpcyBpbnZva2UgZnVuY3Rpb24gaXMgd3JpdHRlbiBpbiBhIHN0eWxlIHRoYXQgYXNzdW1lcyBzb21lXG4gICAgLy8gY2FsbGluZyBmdW5jdGlvbiAob3IgUHJvbWlzZSkgd2lsbCBoYW5kbGUgZXhjZXB0aW9ucy5cbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZW5lcmF0b3JbbWV0aG9kXShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudCA/IF9Qcm9taXNlLnJlc29sdmUodmFsdWUuYXJnKS50aGVuKGludm9rZU5leHQsIGludm9rZVRocm93KSA6IF9Qcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkge1xuICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgaW52b2tlID0gcHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VOZXh0ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcIm5leHRcIik7XG4gICAgdmFyIGludm9rZVRocm93ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInRocm93XCIpO1xuICAgIHZhciBpbnZva2VSZXR1cm4gPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwicmV0dXJuXCIpO1xuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgZW5xdWV1ZVJlc3VsdCA9XG4gICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pIDogbmV3IF9Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUoaW52b2tlKG1ldGhvZCwgYXJnKSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZW5xdWV1ZVJlc3VsdCBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieVxuICAgICAgLy8gbGF0ZXIgaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgcHJldmlvdXNQcm9taXNlID0gZW5xdWV1ZVJlc3VsdFtcImNhdGNoXCJdKGZ1bmN0aW9uIChpZ25vcmVkKSB7fSk7XG5cbiAgICAgIHJldHVybiBlbnF1ZXVlUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIgfHwgbWV0aG9kID09PSBcInRocm93XCIgJiYgZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBBIHJldHVybiBvciB0aHJvdyAod2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIHRocm93XG4gICAgICAgICAgICAvLyBtZXRob2QpIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICB2YXIgcmV0dXJuTWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAocmV0dXJuTWV0aG9kKSB7XG4gICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChyZXR1cm5NZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuICAgICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXR1cm4gbWV0aG9kIHRocmV3IGFuIGV4Y2VwdGlvbiwgbGV0IHRoYXRcbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gcHJldmFpbCBvdmVyIHRoZSBvcmlnaW5hbCByZXR1cm4gb3IgdGhyb3cuXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHRoZSBvdXRlciByZXR1cm4sIG5vdyB0aGF0IHRoZSBkZWxlZ2F0ZVxuICAgICAgICAgICAgICAvLyBpdGVyYXRvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExpa2UgcmV0dXJuaW5nIGdlbmVyYXRvci50aHJvdyh1bmNhdWdodCksIGJ1dCB3aXRob3V0IHRoZVxuICAgICAgICAgICAgLy8gb3ZlcmhlYWQgb2YgYW4gZXh0cmEgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWxlZ2F0ZSBnZW5lcmF0b3IgcmFuIGFuZCBoYW5kbGVkIGl0cyBvd24gZXhjZXB0aW9ucyBzb1xuICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgbWV0aG9kIHdhcywgd2UgY29udGludWUgYXMgaWYgaXQgaXNcbiAgICAgICAgICAvLyBcIm5leHRcIiB3aXRoIGFuIHVuZGVmaW5lZCBhcmcuXG4gICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gYXJnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmRlbGVnYXRlICYmIG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLFxuICAgICAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICB0aGlzLnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcbiAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJiAodHlwZSA9PT0gXCJicmVha1wiIHx8IHR5cGUgPT09IFwiY29udGludWVcIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHwgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG59KShcbi8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbi8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdFxuLy8gdXNlIGluZGlyZWN0IGV2YWwgKHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KS5cbnR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOiB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDogdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdW5kZWZpbmVkKTsiXX0=
},{"_process":25,"babel-runtime/core-js/object/create":6,"babel-runtime/core-js/promise":11,"babel-runtime/core-js/symbol":12,"babel-runtime/core-js/symbol/iterator":13}],25:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;

function drainQueue() {
    if (draining) {
        return;
    }
    draining = true;
    var currentQueue;
    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        var i = -1;
        while (++i < len) {
            currentQueue[i]();
        }
        len = queue.length;
    }
    draining = false;
}
process.nextTick = function (fun) {
    queue.push(fun);
    if (!draining) {
        setTimeout(drainQueue, 0);
    }
};

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],26:[function(require,module,exports){
require('../modules/es6.object.to-string');
require('../modules/es6.string.iterator');
require('../modules/web.dom.iterable');
require('../modules/es6.promise');
module.exports = require('../modules/$.core').Promise;
},{"../modules/$.core":113,"../modules/es6.object.to-string":163,"../modules/es6.promise":164,"../modules/es6.string.iterator":165,"../modules/web.dom.iterable":168}],27:[function(require,module,exports){
require('../modules/es6.symbol');
module.exports = require('../modules/$.core').Symbol;
},{"../modules/$.core":113,"../modules/es6.symbol":167}],28:[function(require,module,exports){
require('../../modules/es6.math.sign');
module.exports = require('../../modules/$.core').Math.sign;
},{"../../modules/$.core":113,"../../modules/es6.math.sign":162}],29:[function(require,module,exports){
require('../../modules/es6.string.repeat');
module.exports = require('../../modules/$.core').String.repeat;
},{"../../modules/$.core":113,"../../modules/es6.string.repeat":166}],30:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/es6.array.from');
module.exports = require('../../modules/$.core').Array.from;
},{"../../modules/$.core":47,"../../modules/es6.array.from":97,"../../modules/es6.string.iterator":106}],31:[function(require,module,exports){
require('../modules/web.dom.iterable');
require('../modules/es6.string.iterator');
module.exports = require('../modules/core.get-iterator');
},{"../modules/core.get-iterator":96,"../modules/es6.string.iterator":106,"../modules/web.dom.iterable":108}],32:[function(require,module,exports){
arguments[4][28][0].apply(exports,arguments)
},{"../../modules/$.core":47,"../../modules/es6.math.sign":99,"dup":28}],33:[function(require,module,exports){
require('../../modules/es6.object.assign');
module.exports = require('../../modules/$.core').Object.assign;
},{"../../modules/$.core":47,"../../modules/es6.object.assign":100}],34:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function create(P, D){
  return $.create(P, D);
};
},{"../../modules/$":70}],35:[function(require,module,exports){
var $ = require('../../modules/$');
module.exports = function defineProperty(it, key, desc){
  return $.setDesc(it, key, desc);
};
},{"../../modules/$":70}],36:[function(require,module,exports){
var $ = require('../../modules/$');
require('../../modules/es6.object.get-own-property-descriptor');
module.exports = function getOwnPropertyDescriptor(it, key){
  return $.getDesc(it, key);
};
},{"../../modules/$":70,"../../modules/es6.object.get-own-property-descriptor":101}],37:[function(require,module,exports){
require('../../modules/es6.object.keys');
module.exports = require('../../modules/$.core').Object.keys;
},{"../../modules/$.core":47,"../../modules/es6.object.keys":102}],38:[function(require,module,exports){
require('../../modules/es6.object.set-prototype-of');
module.exports = require('../../modules/$.core').Object.setPrototypeOf;
},{"../../modules/$.core":47,"../../modules/es6.object.set-prototype-of":103}],39:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"../modules/$.core":47,"../modules/es6.object.to-string":104,"../modules/es6.promise":105,"../modules/es6.string.iterator":106,"../modules/web.dom.iterable":108,"dup":26}],40:[function(require,module,exports){
require('../../modules/es6.symbol');
module.exports = require('../../modules/$.core').Symbol;
},{"../../modules/$.core":47,"../../modules/es6.symbol":107}],41:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/web.dom.iterable');
module.exports = require('../../modules/$.wks')('iterator');
},{"../../modules/$.wks":94,"../../modules/es6.string.iterator":106,"../../modules/web.dom.iterable":108}],42:[function(require,module,exports){
module.exports = function(it){
  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
  return it;
};
},{}],43:[function(require,module,exports){
var isObject = require('./$.is-object');
module.exports = function(it){
  if(!isObject(it))throw TypeError(it + ' is not an object!');
  return it;
};
},{"./$.is-object":63}],44:[function(require,module,exports){
// 19.1.2.1 Object.assign(target, source, ...)
var toObject = require('./$.to-object')
  , IObject  = require('./$.iobject')
  , enumKeys = require('./$.enum-keys');

module.exports = require('./$.fails')(function(){
  return Symbol() in Object.assign({}); // Object.assign available and Symbol is native
}) ? function assign(target, source){   // eslint-disable-line no-unused-vars
  var T = toObject(target)
    , l = arguments.length
    , i = 1;
  while(l > i){
    var S      = IObject(arguments[i++])
      , keys   = enumKeys(S)
      , length = keys.length
      , j      = 0
      , key;
    while(length > j)T[key = keys[j++]] = S[key];
  }
  return T;
} : Object.assign;
},{"./$.enum-keys":52,"./$.fails":53,"./$.iobject":61,"./$.to-object":91}],45:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./$.cof')
  , TAG = require('./$.wks')('toStringTag')
  // ES3 wrong here
  , ARG = cof(function(){ return arguments; }()) == 'Arguments';

module.exports = function(it){
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};
},{"./$.cof":46,"./$.wks":94}],46:[function(require,module,exports){
var toString = {}.toString;

module.exports = function(it){
  return toString.call(it).slice(8, -1);
};
},{}],47:[function(require,module,exports){
var core = module.exports = {};
if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef
},{}],48:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./$.a-function');
module.exports = function(fn, that, length){
  aFunction(fn);
  if(that === undefined)return fn;
  switch(length){
    case 1: return function(a){
      return fn.call(that, a);
    };
    case 2: return function(a, b){
      return fn.call(that, a, b);
    };
    case 3: return function(a, b, c){
      return fn.call(that, a, b, c);
    };
  } return function(/* ...args */){
      return fn.apply(that, arguments);
    };
};
},{"./$.a-function":42}],49:[function(require,module,exports){
var global    = require('./$.global')
  , core      = require('./$.core')
  , PROTOTYPE = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    if(own && key in exports)continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    if(isGlobal && typeof target[key] != 'function')exp = source[key];
    // bind timers to global for call from export context
    else if(type & $def.B && own)exp = ctx(out, global);
    // wrap global constructors for prevent change them in library
    else if(type & $def.W && target[key] == out)!function(C){
      exp = function(param){
        return this instanceof C ? new C(param) : C(param);
      };
      exp[PROTOTYPE] = C[PROTOTYPE];
    }(out);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export
    exports[key] = exp;
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":47,"./$.global":56}],50:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function(it){
  if(it == undefined)throw TypeError("Can't call method on  " + it);
  return it;
};
},{}],51:[function(require,module,exports){
var isObject = require('./$.is-object')
  , document = require('./$.global').document
  // in old IE typeof document.createElement is 'object'
  , is = isObject(document) && isObject(document.createElement);
module.exports = function(it){
  return is ? document.createElement(it) : {};
};
},{"./$.global":56,"./$.is-object":63}],52:[function(require,module,exports){
// all enumerable object keys, includes symbols
var $ = require('./$');
module.exports = function(it){
  var keys       = $.getKeys(it)
    , getSymbols = $.getSymbols;
  if(getSymbols){
    var symbols = getSymbols(it)
      , isEnum  = $.isEnum
      , i       = 0
      , key;
    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);
  }
  return keys;
};
},{"./$":70}],53:[function(require,module,exports){
module.exports = function(exec){
  try {
    return !!exec();
  } catch(e){
    return true;
  }
};
},{}],54:[function(require,module,exports){
var ctx         = require('./$.ctx')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , anObject    = require('./$.an-object')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
module.exports = function(iterable, entries, fn, that){
  var iterFn = getIterFn(iterable)
    , f      = ctx(fn, that, entries ? 2 : 1)
    , index  = 0
    , length, step, iterator;
  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){
    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){
    call(iterator, f, step.value, entries);
  }
};
},{"./$.an-object":43,"./$.ctx":48,"./$.is-array-iter":62,"./$.iter-call":64,"./$.to-length":90,"./core.get-iterator-method":95}],55:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toString  = {}.toString
  , toIObject = require('./$.to-iobject')
  , getNames  = require('./$').getNames;

var windowNames = typeof window == 'object' && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function(it){
  try {
    return getNames(it);
  } catch(e){
    return windowNames.slice();
  }
};

module.exports.get = function getOwnPropertyNames(it){
  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);
  return getNames(toIObject(it));
};
},{"./$":70,"./$.to-iobject":89}],56:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var UNDEFINED = 'undefined';
var global = module.exports = typeof window != UNDEFINED && window.Math == Math
  ? window : typeof self != UNDEFINED && self.Math == Math ? self : Function('return this')();
if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef
},{}],57:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function(it, key){
  return hasOwnProperty.call(it, key);
};
},{}],58:[function(require,module,exports){
var $          = require('./$')
  , createDesc = require('./$.property-desc');
module.exports = require('./$.support-desc') ? function(object, key, value){
  return $.setDesc(object, key, createDesc(1, value));
} : function(object, key, value){
  object[key] = value;
  return object;
};
},{"./$":70,"./$.property-desc":76,"./$.support-desc":85}],59:[function(require,module,exports){
module.exports = require('./$.global').document && document.documentElement;
},{"./$.global":56}],60:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function(fn, args, that){
  var un = that === undefined;
  switch(args.length){
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return              fn.apply(that, args);
};
},{}],61:[function(require,module,exports){
// indexed object, fallback for non-array-like ES3 strings
var cof = require('./$.cof');
module.exports = 0 in Object('z') ? Object : function(it){
  return cof(it) == 'String' ? it.split('') : Object(it);
};
},{"./$.cof":46}],62:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./$.iterators')
  , ITERATOR  = require('./$.wks')('iterator');
module.exports = function(it){
  return (Iterators.Array || Array.prototype[ITERATOR]) === it;
};
},{"./$.iterators":69,"./$.wks":94}],63:[function(require,module,exports){
// http://jsperf.com/core-js-isobject
module.exports = function(it){
  return it !== null && (typeof it == 'object' || typeof it == 'function');
};
},{}],64:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./$.an-object');
module.exports = function(iterator, fn, value, entries){
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch(e){
    var ret = iterator['return'];
    if(ret !== undefined)anObject(ret.call(iterator));
    throw e;
  }
};
},{"./$.an-object":43}],65:[function(require,module,exports){
'use strict';
var $ = require('./$')
  , IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });

module.exports = function(Constructor, NAME, next){
  Constructor.prototype = $.create(IteratorPrototype, {next: require('./$.property-desc')(1,next)});
  require('./$.tag')(Constructor, NAME + ' Iterator');
};
},{"./$":70,"./$.hide":58,"./$.property-desc":76,"./$.tag":86,"./$.wks":94}],66:[function(require,module,exports){
'use strict';
var LIBRARY         = require('./$.library')
  , $def            = require('./$.def')
  , $redef          = require('./$.redef')
  , hide            = require('./$.hide')
  , has             = require('./$.has')
  , SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , Iterators       = require('./$.iterators')
  , BUGGY           = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`
  , FF_ITERATOR     = '@@iterator'
  , KEYS            = 'keys'
  , VALUES          = 'values';
var returnThis = function(){ return this; };
module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCE){
  require('./$.iter-create')(Constructor, NAME, next);
  var createMethod = function(kind){
    switch(kind){
      case KEYS: return function keys(){ return new Constructor(this, kind); };
      case VALUES: return function values(){ return new Constructor(this, kind); };
    } return function entries(){ return new Constructor(this, kind); };
  };
  var TAG      = NAME + ' Iterator'
    , proto    = Base.prototype
    , _native  = proto[SYMBOL_ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]
    , _default = _native || createMethod(DEFAULT)
    , methods, key;
  // Fix native
  if(_native){
    var IteratorPrototype = require('./$').getProto(_default.call(new Base));
    // Set @@toStringTag to native iterators
    require('./$.tag')(IteratorPrototype, TAG, true);
    // FF fix
    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, SYMBOL_ITERATOR, returnThis);
  }
  // Define iterator
  if(!LIBRARY || FORCE)hide(proto, SYMBOL_ITERATOR, _default);
  // Plug for library
  Iterators[NAME] = _default;
  Iterators[TAG]  = returnThis;
  if(DEFAULT){
    methods = {
      keys:    IS_SET            ? _default : createMethod(KEYS),
      values:  DEFAULT == VALUES ? _default : createMethod(VALUES),
      entries: DEFAULT != VALUES ? _default : createMethod('entries')
    };
    if(FORCE)for(key in methods){
      if(!(key in proto))$redef(proto, key, methods[key]);
    } else $def($def.P + $def.F * BUGGY, NAME, methods);
  }
};
},{"./$":70,"./$.def":49,"./$.has":57,"./$.hide":58,"./$.iter-create":65,"./$.iterators":69,"./$.library":72,"./$.redef":77,"./$.tag":86,"./$.wks":94}],67:[function(require,module,exports){
var SYMBOL_ITERATOR = require('./$.wks')('iterator')
  , SAFE_CLOSING    = false;
try {
  var riter = [7][SYMBOL_ITERATOR]();
  riter['return'] = function(){ SAFE_CLOSING = true; };
  Array.from(riter, function(){ throw 2; });
} catch(e){ /* empty */ }
module.exports = function(exec){
  if(!SAFE_CLOSING)return false;
  var safe = false;
  try {
    var arr  = [7]
      , iter = arr[SYMBOL_ITERATOR]();
    iter.next = function(){ safe = true; };
    arr[SYMBOL_ITERATOR] = function(){ return iter; };
    exec(arr);
  } catch(e){ /* empty */ }
  return safe;
};
},{"./$.wks":94}],68:[function(require,module,exports){
module.exports = function(done, value){
  return {value: value, done: !!done};
};
},{}],69:[function(require,module,exports){
module.exports = {};
},{}],70:[function(require,module,exports){
var $Object = Object;
module.exports = {
  create:     $Object.create,
  getProto:   $Object.getPrototypeOf,
  isEnum:     {}.propertyIsEnumerable,
  getDesc:    $Object.getOwnPropertyDescriptor,
  setDesc:    $Object.defineProperty,
  setDescs:   $Object.defineProperties,
  getKeys:    $Object.keys,
  getNames:   $Object.getOwnPropertyNames,
  getSymbols: $Object.getOwnPropertySymbols,
  each:       [].forEach
};
},{}],71:[function(require,module,exports){
var $         = require('./$')
  , toIObject = require('./$.to-iobject');
module.exports = function(object, el){
  var O      = toIObject(object)
    , keys   = $.getKeys(O)
    , length = keys.length
    , index  = 0
    , key;
  while(length > index)if(O[key = keys[index++]] === el)return key;
};
},{"./$":70,"./$.to-iobject":89}],72:[function(require,module,exports){
module.exports = true;
},{}],73:[function(require,module,exports){
var global    = require('./$.global')
  , macrotask = require('./$.task').set
  , Observer  = global.MutationObserver || global.WebKitMutationObserver
  , process   = global.process
  , isNode    = require('./$.cof')(process) == 'process'
  , head, last, notify;

var flush = function(){
  var parent, domain;
  if(isNode && (parent = process.domain)){
    process.domain = null;
    parent.exit();
  }
  while(head){
    domain = head.domain;
    if(domain)domain.enter();
    head.fn.call(); // <- currently we use it only for Promise - try / catch not required
    if(domain)domain.exit();
    head = head.next;
  } last = undefined;
  if(parent)parent.enter();
}

// Node.js
if(isNode){
  notify = function(){
    process.nextTick(flush);
  };
// browsers with MutationObserver
} else if(Observer){
  var toggle = 1
    , node   = document.createTextNode('');
  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new
  notify = function(){
    node.data = toggle = -toggle;
  };
// for other environments - macrotask based on:
// - setImmediate
// - MessageChannel
// - window.postMessag
// - onreadystatechange
// - setTimeout
} else {
  notify = function(){
    // strange IE + webpack dev server bug - use .call(global)
    macrotask.call(global, flush);
  };
}

module.exports = function asap(fn){
  var task = {fn: fn, next: undefined, domain: isNode && process.domain};
  if(last)last.next = task;
  if(!head){
    head = task;
    notify();
  } last = task;
};
},{"./$.cof":46,"./$.global":56,"./$.task":87}],74:[function(require,module,exports){
var $redef = require('./$.redef');
module.exports = function(target, src){
  for(var key in src)$redef(target, key, src[key]);
  return target;
};
},{"./$.redef":77}],75:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
module.exports = function(KEY, exec){
  var $def = require('./$.def')
    , fn   = (require('./$.core').Object || {})[KEY] || Object[KEY]
    , exp  = {};
  exp[KEY] = exec(fn);
  $def($def.S + $def.F * require('./$.fails')(function(){ fn(1); }), 'Object', exp);
};
},{"./$.core":47,"./$.def":49,"./$.fails":53}],76:[function(require,module,exports){
module.exports = function(bitmap, value){
  return {
    enumerable  : !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable    : !(bitmap & 4),
    value       : value
  };
};
},{}],77:[function(require,module,exports){
module.exports = require('./$.hide');
},{"./$.hide":58}],78:[function(require,module,exports){
module.exports = Object.is || function is(x, y){
  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
};
},{}],79:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var getDesc  = require('./$').getDesc
  , isObject = require('./$.is-object')
  , anObject = require('./$.an-object');
var check = function(O, proto){
  anObject(O);
  if(!isObject(proto) && proto !== null)throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} // eslint-disable-line
    ? function(buggy, set){
        try {
          set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);
          set({}, []);
        } catch(e){ buggy = true; }
        return function setPrototypeOf(O, proto){
          check(O, proto);
          if(buggy)O.__proto__ = proto;
          else set(O, proto);
          return O;
        };
      }()
    : undefined),
  check: check
};
},{"./$":70,"./$.an-object":43,"./$.ctx":48,"./$.is-object":63}],80:[function(require,module,exports){
var global = require('./$.global')
  , SHARED = '__core-js_shared__'
  , store  = global[SHARED] || (global[SHARED] = {});
module.exports = function(key){
  return store[key] || (store[key] = {});
};
},{"./$.global":56}],81:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
module.exports = Math.sign || function sign(x){
  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
};
},{}],82:[function(require,module,exports){
'use strict';
var $       = require('./$')
  , SPECIES = require('./$.wks')('species');
module.exports = function(C){
  if(require('./$.support-desc') && !(SPECIES in C))$.setDesc(C, SPECIES, {
    configurable: true,
    get: function(){ return this; }
  });
};
},{"./$":70,"./$.support-desc":85,"./$.wks":94}],83:[function(require,module,exports){
module.exports = function(it, Constructor, name){
  if(!(it instanceof Constructor))throw TypeError(name + ": use the 'new' operator!");
  return it;
};
},{}],84:[function(require,module,exports){
// true  -> String#at
// false -> String#codePointAt
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');
module.exports = function(TO_STRING){
  return function(that, pos){
    var s = String(defined(that))
      , i = toInteger(pos)
      , l = s.length
      , a, b;
    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l
      || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
        ? TO_STRING ? s.charAt(i) : a
        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};
},{"./$.defined":50,"./$.to-integer":88}],85:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./$.fails')(function(){
  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
});
},{"./$.fails":53}],86:[function(require,module,exports){
var has  = require('./$.has')
  , hide = require('./$.hide')
  , TAG  = require('./$.wks')('toStringTag');

module.exports = function(it, tag, stat){
  if(it && !has(it = stat ? it : it.prototype, TAG))hide(it, TAG, tag);
};
},{"./$.has":57,"./$.hide":58,"./$.wks":94}],87:[function(require,module,exports){
'use strict';
var ctx                = require('./$.ctx')
  , invoke             = require('./$.invoke')
  , html               = require('./$.html')
  , cel                = require('./$.dom-create')
  , global             = require('./$.global')
  , process            = global.process
  , setTask            = global.setImmediate
  , clearTask          = global.clearImmediate
  , MessageChannel     = global.MessageChannel
  , counter            = 0
  , queue              = {}
  , ONREADYSTATECHANGE = 'onreadystatechange'
  , defer, channel, port;
var run = function(){
  var id = +this;
  if(queue.hasOwnProperty(id)){
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listner = function(event){
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if(!setTask || !clearTask){
  setTask = function setImmediate(fn){
    var args = [], i = 1;
    while(arguments.length > i)args.push(arguments[i++]);
    queue[++counter] = function(){
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id){
    delete queue[id];
  };
  // Node.js 0.8-
  if(require('./$.cof')(process) == 'process'){
    defer = function(id){
      process.nextTick(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if(MessageChannel){
    channel = new MessageChannel;
    port    = channel.port2;
    channel.port1.onmessage = listner;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScript){
    defer = function(id){
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listner, false);
  // IE8-
  } else if(ONREADYSTATECHANGE in cel('script')){
    defer = function(id){
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function(id){
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set:   setTask,
  clear: clearTask
};
},{"./$.cof":46,"./$.ctx":48,"./$.dom-create":51,"./$.global":56,"./$.html":59,"./$.invoke":60}],88:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil  = Math.ceil
  , floor = Math.floor;
module.exports = function(it){
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};
},{}],89:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./$.iobject')
  , defined = require('./$.defined');
module.exports = function(it){
  return IObject(defined(it));
};
},{"./$.defined":50,"./$.iobject":61}],90:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./$.to-integer')
  , min       = Math.min;
module.exports = function(it){
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};
},{"./$.to-integer":88}],91:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./$.defined');
module.exports = function(it){
  return Object(defined(it));
};
},{"./$.defined":50}],92:[function(require,module,exports){
var id = 0
  , px = Math.random();
module.exports = function(key){
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};
},{}],93:[function(require,module,exports){
module.exports = function(){ /* empty */ };
},{}],94:[function(require,module,exports){
var store  = require('./$.shared')('wks')
  , Symbol = require('./$.global').Symbol;
module.exports = function(name){
  return store[name] || (store[name] =
    Symbol && Symbol[name] || (Symbol || require('./$.uid'))('Symbol.' + name));
};
},{"./$.global":56,"./$.shared":80,"./$.uid":92}],95:[function(require,module,exports){
var classof   = require('./$.classof')
  , ITERATOR  = require('./$.wks')('iterator')
  , Iterators = require('./$.iterators');
module.exports = require('./$.core').getIteratorMethod = function(it){
  if(it != undefined)return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];
};
},{"./$.classof":45,"./$.core":47,"./$.iterators":69,"./$.wks":94}],96:[function(require,module,exports){
var anObject = require('./$.an-object')
  , get      = require('./core.get-iterator-method');
module.exports = require('./$.core').getIterator = function(it){
  var iterFn = get(it);
  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};
},{"./$.an-object":43,"./$.core":47,"./core.get-iterator-method":95}],97:[function(require,module,exports){
'use strict';
var ctx         = require('./$.ctx')
  , $def        = require('./$.def')
  , toObject    = require('./$.to-object')
  , call        = require('./$.iter-call')
  , isArrayIter = require('./$.is-array-iter')
  , toLength    = require('./$.to-length')
  , getIterFn   = require('./core.get-iterator-method');
$def($def.S + $def.F * !require('./$.iter-detect')(function(iter){ Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){
    var O       = toObject(arrayLike)
      , C       = typeof this == 'function' ? this : Array
      , mapfn   = arguments[1]
      , mapping = mapfn !== undefined
      , index   = 0
      , iterFn  = getIterFn(O)
      , length, result, step, iterator;
    if(mapping)mapfn = ctx(mapfn, arguments[2], 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){
      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){
        result[index] = mapping ? call(iterator, mapfn, [step.value, index], true) : step.value;
      }
    } else {
      for(result = new C(length = toLength(O.length)); length > index; index++){
        result[index] = mapping ? mapfn(O[index], index) : O[index];
      }
    }
    result.length = index;
    return result;
  }
});
},{"./$.ctx":48,"./$.def":49,"./$.is-array-iter":62,"./$.iter-call":64,"./$.iter-detect":67,"./$.to-length":90,"./$.to-object":91,"./core.get-iterator-method":95}],98:[function(require,module,exports){
'use strict';
var setUnscope = require('./$.unscope')
  , step       = require('./$.iter-step')
  , Iterators  = require('./$.iterators')
  , toIObject  = require('./$.to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
require('./$.iter-define')(Array, 'Array', function(iterated, kind){
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , kind  = this._k
    , index = this._i++;
  if(!O || index >= O.length){
    this._t = undefined;
    return step(1);
  }
  if(kind == 'keys'  )return step(0, index);
  if(kind == 'values')return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

setUnscope('keys');
setUnscope('values');
setUnscope('entries');
},{"./$.iter-define":66,"./$.iter-step":68,"./$.iterators":69,"./$.to-iobject":89,"./$.unscope":93}],99:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
var $def = require('./$.def');

$def($def.S, 'Math', {sign: require('./$.sign')});
},{"./$.def":49,"./$.sign":81}],100:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $def = require('./$.def');

$def($def.S + $def.F, 'Object', {assign: require('./$.assign')});
},{"./$.assign":44,"./$.def":49}],101:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./$.to-iobject');

require('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){
  return function getOwnPropertyDescriptor(it, key){
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});
},{"./$.object-sap":75,"./$.to-iobject":89}],102:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./$.to-object');

require('./$.object-sap')('keys', function($keys){
  return function keys(it){
    return $keys(toObject(it));
  };
});
},{"./$.object-sap":75,"./$.to-object":91}],103:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $def = require('./$.def');
$def($def.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});
},{"./$.def":49,"./$.set-proto":79}],104:[function(require,module,exports){

},{}],105:[function(require,module,exports){
'use strict';
var $          = require('./$')
  , LIBRARY    = require('./$.library')
  , global     = require('./$.global')
  , ctx        = require('./$.ctx')
  , classof    = require('./$.classof')
  , $def       = require('./$.def')
  , isObject   = require('./$.is-object')
  , anObject   = require('./$.an-object')
  , aFunction  = require('./$.a-function')
  , strictNew  = require('./$.strict-new')
  , forOf      = require('./$.for-of')
  , setProto   = require('./$.set-proto').set
  , same       = require('./$.same')
  , species    = require('./$.species')
  , SPECIES    = require('./$.wks')('species')
  , RECORD     = require('./$.uid')('record')
  , asap       = require('./$.microtask')
  , PROMISE    = 'Promise'
  , process    = global.process
  , isNode     = classof(process) == 'process'
  , P          = global[PROMISE]
  , Wrapper;

var testResolve = function(sub){
  var test = new P(function(){});
  if(sub)test.constructor = Object;
  return P.resolve(test) === test;
};

var useNative = function(){
  var works = false;
  function P2(x){
    var self = new P(x);
    setProto(self, P2.prototype);
    return self;
  }
  try {
    works = P && P.resolve && testResolve();
    setProto(P2, P);
    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});
    // actual Firefox has broken subclass support, test that
    if(!(P2.resolve(5).then(function(){}) instanceof P2)){
      works = false;
    }
    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162
    if(works && require('./$.support-desc')){
      var thenableThenGotten = false;
      P.resolve($.setDesc({}, 'then', {
        get: function(){ thenableThenGotten = true; }
      }));
      works = thenableThenGotten;
    }
  } catch(e){ works = false; }
  return works;
}();

// helpers
var isPromise = function(it){
  return isObject(it) && (useNative ? classof(it) == 'Promise' : RECORD in it);
};
var sameConstructor = function(a, b){
  // library wrapper special case
  if(LIBRARY && a === P && b === Wrapper)return true;
  return same(a, b);
};
var getConstructor = function(C){
  var S = anObject(C)[SPECIES];
  return S != undefined ? S : C;
};
var isThenable = function(it){
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function(record, isReject){
  if(record.n)return;
  record.n = true;
  var chain = record.c;
  asap(function(){
    var value = record.v
      , ok    = record.s == 1
      , i     = 0;
    var run = function(react){
      var cb = ok ? react.ok : react.fail
        , ret, then;
      try {
        if(cb){
          if(!ok)record.h = true;
          ret = cb === true ? value : cb(value);
          if(ret === react.P){
            react.rej(TypeError('Promise-chain cycle'));
          } else if(then = isThenable(ret)){
            then.call(ret, react.res, react.rej);
          } else react.res(ret);
        } else react.rej(value);
      } catch(err){
        react.rej(err);
      }
    };
    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach
    chain.length = 0;
    record.n = false;
    if(isReject)setTimeout(function(){
      if(isUnhandled(record.p)){
        if(isNode){
          process.emit('unhandledRejection', value, record.p);
        } else if(global.console && console.error){
          console.error('Unhandled promise rejection', value);
        }
      } record.a = undefined;
    }, 1);
  });
};
var isUnhandled = function(promise){
  var record = promise[RECORD]
    , chain  = record.a || record.c
    , i      = 0
    , react;
  if(record.h)return false;
  while(chain.length > i){
    react = chain[i++];
    if(react.fail || !isUnhandled(react.P))return false;
  } return true;
};
var $reject = function(value){
  var record = this;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  record.v = value;
  record.s = 2;
  record.a = record.c.slice();
  notify(record, true);
};
var $resolve = function(value){
  var record = this
    , then;
  if(record.d)return;
  record.d = true;
  record = record.r || record; // unwrap
  try {
    if(then = isThenable(value)){
      asap(function(){
        var wrapper = {r: record, d: false}; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch(e){
          $reject.call(wrapper, e);
        }
      });
    } else {
      record.v = value;
      record.s = 1;
      notify(record, false);
    }
  } catch(e){
    $reject.call({r: record, d: false}, e); // wrap
  }
};

// constructor polyfill
if(!useNative){
  // 25.4.3.1 Promise(executor)
  P = function Promise(executor){
    aFunction(executor);
    var record = {
      p: strictNew(this, P, PROMISE),         // <- promise
      c: [],                                  // <- awaiting reactions
      a: undefined,                           // <- checked in isUnhandled reactions
      s: 0,                                   // <- state
      d: false,                               // <- done
      v: undefined,                           // <- value
      h: false,                               // <- handled rejection
      n: false                                // <- notify
    };
    this[RECORD] = record;
    try {
      executor(ctx($resolve, record, 1), ctx($reject, record, 1));
    } catch(err){
      $reject.call(record, err);
    }
  };
  require('./$.mix')(P.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected){
      var S = anObject(anObject(this).constructor)[SPECIES];
      var react = {
        ok:   typeof onFulfilled == 'function' ? onFulfilled : true,
        fail: typeof onRejected == 'function'  ? onRejected  : false
      };
      var promise = react.P = new (S != undefined ? S : P)(function(res, rej){
        react.res = aFunction(res);
        react.rej = aFunction(rej);
      });
      var record = this[RECORD];
      record.c.push(react);
      if(record.a)record.a.push(react);
      if(record.s)notify(record, false);
      return promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function(onRejected){
      return this.then(undefined, onRejected);
    }
  });
}

// export
$def($def.G + $def.W + $def.F * !useNative, {Promise: P});
require('./$.tag')(P, PROMISE);
species(P);
species(Wrapper = require('./$.core')[PROMISE]);

// statics
$def($def.S + $def.F * !useNative, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r){
    return new this(function(res, rej){ rej(r); });
  }
});
$def($def.S + $def.F * (!useNative || testResolve(true)), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x){
    return isPromise(x) && sameConstructor(x.constructor, this)
      ? x : new this(function(res){ res(x); });
  }
});
$def($def.S + $def.F * !(useNative && require('./$.iter-detect')(function(iter){
  P.all(iter)['catch'](function(){});
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable){
    var C      = getConstructor(this)
      , values = [];
    return new C(function(res, rej){
      forOf(iterable, false, values.push, values);
      var remaining = values.length
        , results   = Array(remaining);
      if(remaining)$.each.call(values, function(promise, index){
        C.resolve(promise).then(function(value){
          results[index] = value;
          --remaining || res(results);
        }, rej);
      });
      else res(results);
    });
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable){
    var C = getConstructor(this);
    return new C(function(res, rej){
      forOf(iterable, false, function(promise){
        C.resolve(promise).then(res, rej);
      });
    });
  }
});
},{"./$":70,"./$.a-function":42,"./$.an-object":43,"./$.classof":45,"./$.core":47,"./$.ctx":48,"./$.def":49,"./$.for-of":54,"./$.global":56,"./$.is-object":63,"./$.iter-detect":67,"./$.library":72,"./$.microtask":73,"./$.mix":74,"./$.same":78,"./$.set-proto":79,"./$.species":82,"./$.strict-new":83,"./$.support-desc":85,"./$.tag":86,"./$.uid":92,"./$.wks":94}],106:[function(require,module,exports){
'use strict';
var $at  = require('./$.string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./$.iter-define')(String, 'String', function(iterated){
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , index = this._i
    , point;
  if(index >= O.length)return {value: undefined, done: true};
  point = $at(O, index);
  this._i += point.length;
  return {value: point, done: false};
});
},{"./$.iter-define":66,"./$.string-at":84}],107:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var $              = require('./$')
  , global         = require('./$.global')
  , has            = require('./$.has')
  , SUPPORT_DESC   = require('./$.support-desc')
  , $def           = require('./$.def')
  , $redef         = require('./$.redef')
  , shared         = require('./$.shared')
  , setTag         = require('./$.tag')
  , uid            = require('./$.uid')
  , wks            = require('./$.wks')
  , keyOf          = require('./$.keyof')
  , $names         = require('./$.get-names')
  , enumKeys       = require('./$.enum-keys')
  , isObject       = require('./$.is-object')
  , anObject       = require('./$.an-object')
  , toIObject      = require('./$.to-iobject')
  , createDesc     = require('./$.property-desc')
  , getDesc        = $.getDesc
  , setDesc        = $.setDesc
  , _create        = $.create
  , getNames       = $names.get
  , $Symbol        = global.Symbol
  , setter         = false
  , HIDDEN         = wks('_hidden')
  , isEnum         = $.isEnum
  , SymbolRegistry = shared('symbol-registry')
  , AllSymbols     = shared('symbols')
  , useNative      = typeof $Symbol == 'function'
  , ObjectProto    = Object.prototype;

var setSymbolDesc = SUPPORT_DESC ? function(){ // fallback for old Android
  try {
    return _create(setDesc({}, HIDDEN, {
      get: function(){
        return setDesc(this, HIDDEN, {value: false})[HIDDEN];
      }
    }))[HIDDEN] || setDesc;
  } catch(e){
    return function(it, key, D){
      var protoDesc = getDesc(ObjectProto, key);
      if(protoDesc)delete ObjectProto[key];
      setDesc(it, key, D);
      if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);
    };
  }
}() : setDesc;

var wrap = function(tag){
  var sym = AllSymbols[tag] = _create($Symbol.prototype);
  sym._k = tag;
  SUPPORT_DESC && setter && setSymbolDesc(ObjectProto, tag, {
    configurable: true,
    set: function(value){
      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    }
  });
  return sym;
};

var $defineProperty = function defineProperty(it, key, D){
  if(D && has(AllSymbols, key)){
    if(!D.enumerable){
      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;
      D = _create(D, {enumerable: createDesc(0, false)});
    } return setSymbolDesc(it, key, D);
  } return setDesc(it, key, D);
};
var $defineProperties = function defineProperties(it, P){
  anObject(it);
  var keys = enumKeys(P = toIObject(P))
    , i    = 0
    , l = keys.length
    , key;
  while(l > i)$defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P){
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key){
  var E = isEnum.call(this, key);
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]
    ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){
  var D = getDesc(it = toIObject(it), key);
  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);
  return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it){
  var names  = getNames(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);
  return result;
};

// 19.4.1.1 Symbol([description])
if(!useNative){
  $Symbol = function Symbol(){
    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor');
    return wrap(uid(arguments[0]));
  };
  $redef($Symbol.prototype, 'toString', function toString(){
    return this._k;
  });

  $.create     = $create;
  $.isEnum     = $propertyIsEnumerable;
  $.getDesc    = $getOwnPropertyDescriptor;
  $.setDesc    = $defineProperty;
  $.setDescs   = $defineProperties;
  $.getNames   = $names.get = $getOwnPropertyNames;
  $.getSymbols = $getOwnPropertySymbols;

  if(SUPPORT_DESC && !require('./$.library')){
    $redef(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }
}

// MS Edge converts symbol values to JSON as {}
// WebKit converts symbol values in objects to JSON as null
if(!useNative || require('./$.fails')(function(){
  return JSON.stringify([{a: $Symbol()}, [$Symbol()]]) != '[{},[null]]';
}))$redef($Symbol.prototype, 'toJSON', function toJSON(){
  if(useNative && isObject(this))return this;
});

var symbolStatics = {
  // 19.4.2.1 Symbol.for(key)
  'for': function(key){
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(key){
    return keyOf(SymbolRegistry, key);
  },
  useSetter: function(){ setter = true; },
  useSimple: function(){ setter = false; }
};
// 19.4.2.2 Symbol.hasInstance
// 19.4.2.3 Symbol.isConcatSpreadable
// 19.4.2.4 Symbol.iterator
// 19.4.2.6 Symbol.match
// 19.4.2.8 Symbol.replace
// 19.4.2.9 Symbol.search
// 19.4.2.10 Symbol.species
// 19.4.2.11 Symbol.split
// 19.4.2.12 Symbol.toPrimitive
// 19.4.2.13 Symbol.toStringTag
// 19.4.2.14 Symbol.unscopables
$.each.call((
    'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +
    'species,split,toPrimitive,toStringTag,unscopables'
  ).split(','), function(it){
    var sym = wks(it);
    symbolStatics[it] = useNative ? sym : wrap(sym);
  }
);

setter = true;

$def($def.G + $def.W, {Symbol: $Symbol});

$def($def.S, 'Symbol', symbolStatics);

$def($def.S + $def.F * !useNative, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 19.4.3.5 Symbol.prototype[@@toStringTag]
setTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setTag(global.JSON, 'JSON', true);
},{"./$":70,"./$.an-object":43,"./$.def":49,"./$.enum-keys":52,"./$.fails":53,"./$.get-names":55,"./$.global":56,"./$.has":57,"./$.is-object":63,"./$.keyof":71,"./$.library":72,"./$.property-desc":76,"./$.redef":77,"./$.shared":80,"./$.support-desc":85,"./$.tag":86,"./$.to-iobject":89,"./$.uid":92,"./$.wks":94}],108:[function(require,module,exports){
require('./es6.array.iterator');
var Iterators = require('./$.iterators');
Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
},{"./$.iterators":69,"./es6.array.iterator":98}],109:[function(require,module,exports){
arguments[4][42][0].apply(exports,arguments)
},{"dup":42}],110:[function(require,module,exports){
arguments[4][43][0].apply(exports,arguments)
},{"./$.is-object":129,"dup":43}],111:[function(require,module,exports){
arguments[4][45][0].apply(exports,arguments)
},{"./$.cof":112,"./$.wks":159,"dup":45}],112:[function(require,module,exports){
arguments[4][46][0].apply(exports,arguments)
},{"dup":46}],113:[function(require,module,exports){
arguments[4][47][0].apply(exports,arguments)
},{"dup":47}],114:[function(require,module,exports){
arguments[4][48][0].apply(exports,arguments)
},{"./$.a-function":109,"dup":48}],115:[function(require,module,exports){
var global     = require('./$.global')
  , core       = require('./$.core')
  , hide       = require('./$.hide')
  , $redef     = require('./$.redef')
  , PROTOTYPE  = 'prototype';
var ctx = function(fn, that){
  return function(){
    return fn.apply(that, arguments);
  };
};
var $def = function(type, name, source){
  var key, own, out, exp
    , isGlobal = type & $def.G
    , isProto  = type & $def.P
    , target   = isGlobal ? global : type & $def.S
        ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]
    , exports  = isGlobal ? core : core[name] || (core[name] = {});
  if(isGlobal)source = name;
  for(key in source){
    // contains in native
    own = !(type & $def.F) && target && key in target;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    if(type & $def.B && own)exp = ctx(out, global);
    else exp = isProto && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if(target && !own)$redef(target, key, out);
    // export
    if(exports[key] != out)hide(exports, key, exp);
    if(isProto)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
  }
};
global.core = core;
// type bitmap
$def.F = 1;  // forced
$def.G = 2;  // global
$def.S = 4;  // static
$def.P = 8;  // proto
$def.B = 16; // bind
$def.W = 32; // wrap
module.exports = $def;
},{"./$.core":113,"./$.global":122,"./$.hide":124,"./$.redef":142}],116:[function(require,module,exports){
arguments[4][50][0].apply(exports,arguments)
},{"dup":50}],117:[function(require,module,exports){
arguments[4][51][0].apply(exports,arguments)
},{"./$.global":122,"./$.is-object":129,"dup":51}],118:[function(require,module,exports){
arguments[4][52][0].apply(exports,arguments)
},{"./$":136,"dup":52}],119:[function(require,module,exports){
arguments[4][53][0].apply(exports,arguments)
},{"dup":53}],120:[function(require,module,exports){
arguments[4][54][0].apply(exports,arguments)
},{"./$.an-object":110,"./$.ctx":114,"./$.is-array-iter":128,"./$.iter-call":130,"./$.to-length":156,"./core.get-iterator-method":160,"dup":54}],121:[function(require,module,exports){
arguments[4][55][0].apply(exports,arguments)
},{"./$":136,"./$.to-iobject":155,"dup":55}],122:[function(require,module,exports){
arguments[4][56][0].apply(exports,arguments)
},{"dup":56}],123:[function(require,module,exports){
arguments[4][57][0].apply(exports,arguments)
},{"dup":57}],124:[function(require,module,exports){
arguments[4][58][0].apply(exports,arguments)
},{"./$":136,"./$.property-desc":141,"./$.support-desc":151,"dup":58}],125:[function(require,module,exports){
arguments[4][59][0].apply(exports,arguments)
},{"./$.global":122,"dup":59}],126:[function(require,module,exports){
arguments[4][60][0].apply(exports,arguments)
},{"dup":60}],127:[function(require,module,exports){
arguments[4][61][0].apply(exports,arguments)
},{"./$.cof":112,"dup":61}],128:[function(require,module,exports){
arguments[4][62][0].apply(exports,arguments)
},{"./$.iterators":135,"./$.wks":159,"dup":62}],129:[function(require,module,exports){
arguments[4][63][0].apply(exports,arguments)
},{"dup":63}],130:[function(require,module,exports){
arguments[4][64][0].apply(exports,arguments)
},{"./$.an-object":110,"dup":64}],131:[function(require,module,exports){
arguments[4][65][0].apply(exports,arguments)
},{"./$":136,"./$.hide":124,"./$.property-desc":141,"./$.tag":152,"./$.wks":159,"dup":65}],132:[function(require,module,exports){
arguments[4][66][0].apply(exports,arguments)
},{"./$":136,"./$.def":115,"./$.has":123,"./$.hide":124,"./$.iter-create":131,"./$.iterators":135,"./$.library":138,"./$.redef":142,"./$.tag":152,"./$.wks":159,"dup":66}],133:[function(require,module,exports){
arguments[4][67][0].apply(exports,arguments)
},{"./$.wks":159,"dup":67}],134:[function(require,module,exports){
arguments[4][68][0].apply(exports,arguments)
},{"dup":68}],135:[function(require,module,exports){
arguments[4][69][0].apply(exports,arguments)
},{"dup":69}],136:[function(require,module,exports){
arguments[4][70][0].apply(exports,arguments)
},{"dup":70}],137:[function(require,module,exports){
arguments[4][71][0].apply(exports,arguments)
},{"./$":136,"./$.to-iobject":155,"dup":71}],138:[function(require,module,exports){
module.exports = false;
},{}],139:[function(require,module,exports){
arguments[4][73][0].apply(exports,arguments)
},{"./$.cof":112,"./$.global":122,"./$.task":153,"dup":73}],140:[function(require,module,exports){
arguments[4][74][0].apply(exports,arguments)
},{"./$.redef":142,"dup":74}],141:[function(require,module,exports){
arguments[4][76][0].apply(exports,arguments)
},{"dup":76}],142:[function(require,module,exports){
// add fake Function#toString
// for correct work wrapped methods / constructors with methods like LoDash isNative
var global    = require('./$.global')
  , hide      = require('./$.hide')
  , SRC       = require('./$.uid')('src')
  , TO_STRING = 'toString'
  , $toString = Function[TO_STRING]
  , TPL       = ('' + $toString).split(TO_STRING);

require('./$.core').inspectSource = function(it){
  return $toString.call(it);
};

(module.exports = function(O, key, val, safe){
  if(typeof val == 'function'){
    hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
    if(!('name' in val))val.name = key;
  }
  if(O === global){
    O[key] = val;
  } else {
    if(!safe)delete O[key];
    hide(O, key, val);
  }
})(Function.prototype, TO_STRING, function toString(){
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});
},{"./$.core":113,"./$.global":122,"./$.hide":124,"./$.uid":157}],143:[function(require,module,exports){
arguments[4][78][0].apply(exports,arguments)
},{"dup":78}],144:[function(require,module,exports){
arguments[4][79][0].apply(exports,arguments)
},{"./$":136,"./$.an-object":110,"./$.ctx":114,"./$.is-object":129,"dup":79}],145:[function(require,module,exports){
arguments[4][80][0].apply(exports,arguments)
},{"./$.global":122,"dup":80}],146:[function(require,module,exports){
arguments[4][81][0].apply(exports,arguments)
},{"dup":81}],147:[function(require,module,exports){
arguments[4][82][0].apply(exports,arguments)
},{"./$":136,"./$.support-desc":151,"./$.wks":159,"dup":82}],148:[function(require,module,exports){
arguments[4][83][0].apply(exports,arguments)
},{"dup":83}],149:[function(require,module,exports){
arguments[4][84][0].apply(exports,arguments)
},{"./$.defined":116,"./$.to-integer":154,"dup":84}],150:[function(require,module,exports){
'use strict';
var toInteger = require('./$.to-integer')
  , defined   = require('./$.defined');

module.exports = function repeat(count){
  var str = String(defined(this))
    , res = ''
    , n   = toInteger(count);
  if(n < 0 || n == Infinity)throw RangeError("Count can't be negative");
  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;
  return res;
};
},{"./$.defined":116,"./$.to-integer":154}],151:[function(require,module,exports){
arguments[4][85][0].apply(exports,arguments)
},{"./$.fails":119,"dup":85}],152:[function(require,module,exports){
arguments[4][86][0].apply(exports,arguments)
},{"./$.has":123,"./$.hide":124,"./$.wks":159,"dup":86}],153:[function(require,module,exports){
arguments[4][87][0].apply(exports,arguments)
},{"./$.cof":112,"./$.ctx":114,"./$.dom-create":117,"./$.global":122,"./$.html":125,"./$.invoke":126,"dup":87}],154:[function(require,module,exports){
arguments[4][88][0].apply(exports,arguments)
},{"dup":88}],155:[function(require,module,exports){
arguments[4][89][0].apply(exports,arguments)
},{"./$.defined":116,"./$.iobject":127,"dup":89}],156:[function(require,module,exports){
arguments[4][90][0].apply(exports,arguments)
},{"./$.to-integer":154,"dup":90}],157:[function(require,module,exports){
arguments[4][92][0].apply(exports,arguments)
},{"dup":92}],158:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./$.wks')('unscopables');
if(!(UNSCOPABLES in []))require('./$.hide')(Array.prototype, UNSCOPABLES, {});
module.exports = function(key){
  [][UNSCOPABLES][key] = true;
};
},{"./$.hide":124,"./$.wks":159}],159:[function(require,module,exports){
arguments[4][94][0].apply(exports,arguments)
},{"./$.global":122,"./$.shared":145,"./$.uid":157,"dup":94}],160:[function(require,module,exports){
arguments[4][95][0].apply(exports,arguments)
},{"./$.classof":111,"./$.core":113,"./$.iterators":135,"./$.wks":159,"dup":95}],161:[function(require,module,exports){
arguments[4][98][0].apply(exports,arguments)
},{"./$.iter-define":132,"./$.iter-step":134,"./$.iterators":135,"./$.to-iobject":155,"./$.unscope":158,"dup":98}],162:[function(require,module,exports){
arguments[4][99][0].apply(exports,arguments)
},{"./$.def":115,"./$.sign":146,"dup":99}],163:[function(require,module,exports){
'use strict';
// 19.1.3.6 Object.prototype.toString()
var classof = require('./$.classof')
  , test    = {};
test[require('./$.wks')('toStringTag')] = 'z';
if(test + '' != '[object z]'){
  require('./$.redef')(Object.prototype, 'toString', function toString(){
    return '[object ' + classof(this) + ']';
  }, true);
}
},{"./$.classof":111,"./$.redef":142,"./$.wks":159}],164:[function(require,module,exports){
arguments[4][105][0].apply(exports,arguments)
},{"./$":136,"./$.a-function":109,"./$.an-object":110,"./$.classof":111,"./$.core":113,"./$.ctx":114,"./$.def":115,"./$.for-of":120,"./$.global":122,"./$.is-object":129,"./$.iter-detect":133,"./$.library":138,"./$.microtask":139,"./$.mix":140,"./$.same":143,"./$.set-proto":144,"./$.species":147,"./$.strict-new":148,"./$.support-desc":151,"./$.tag":152,"./$.uid":157,"./$.wks":159,"dup":105}],165:[function(require,module,exports){
arguments[4][106][0].apply(exports,arguments)
},{"./$.iter-define":132,"./$.string-at":149,"dup":106}],166:[function(require,module,exports){
var $def = require('./$.def');

$def($def.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./$.string-repeat')
});
},{"./$.def":115,"./$.string-repeat":150}],167:[function(require,module,exports){
arguments[4][107][0].apply(exports,arguments)
},{"./$":136,"./$.an-object":110,"./$.def":115,"./$.enum-keys":118,"./$.fails":119,"./$.get-names":121,"./$.global":122,"./$.has":123,"./$.is-object":129,"./$.keyof":137,"./$.library":138,"./$.property-desc":141,"./$.redef":142,"./$.shared":145,"./$.support-desc":151,"./$.tag":152,"./$.to-iobject":155,"./$.uid":157,"./$.wks":159,"dup":107}],168:[function(require,module,exports){
require('./es6.array.iterator');
var global      = require('./$.global')
  , hide        = require('./$.hide')
  , Iterators   = require('./$.iterators')
  , ITERATOR    = require('./$.wks')('iterator')
  , NL          = global.NodeList
  , HTC         = global.HTMLCollection
  , NLProto     = NL && NL.prototype
  , HTCProto    = HTC && HTC.prototype
  , ArrayValues = Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;
if(NL && !(ITERATOR in NLProto))hide(NLProto, ITERATOR, ArrayValues);
if(HTC && !(ITERATOR in HTCProto))hide(HTCProto, ITERATOR, ArrayValues);
},{"./$.global":122,"./$.hide":124,"./$.iterators":135,"./$.wks":159,"./es6.array.iterator":161}],169:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getStartIndex = getStartIndex;
exports.getEndIndex = getEndIndex;
exports.executeCallback = executeCallback;
exports["default"] = arrayApi;
var marked0$0 = [executeCallback].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../../utils/async");

function getStartIndex(index, length) {
	if (index < 0) {
		return Math.max(length - Math.abs(index), 0);
	}

	return Math.min(index || 0, length);
}

function getEndIndex(index, length) {
	if (index < 0) {
		return Math.max(length + index, 0);
	}

	return Math.min(index, length);
}

function executeCallback(env, callback, entry, thisArg, arr) {
	var scope, args;
	return _regeneratorRuntime.wrap(function executeCallback$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!thisArg) {
					thisArg = callback.isStrict() ? _typesPrimitiveType.UNDEFINED : env.global;
				}

				scope = callback.createScope(env, thisArg, false);

				scope.init(callback.node.body);

				args = [entry.value, env.objectFactory.createPrimitive(entry.index), arr];
				context$1$0.next = 6;
				return scope.loadArgs(callback.node.params, args, callback);

			case 6:
				context$1$0.next = 8;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					var executionResult;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return env.createExecutionContext(callback.node.body, callback.node).execute();

							case 2:
								executionResult = context$2$0.sent;
								return context$2$0.abrupt("return", executionResult ? executionResult.result : _typesPrimitiveType.UNDEFINED);

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function arrayApi(env) {
	var marked1$0 = [executeAccumulator, join].map(_regeneratorRuntime.mark);

	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	function executeAccumulator(callback, priorValue, entry, arr) {
		var scope, args;
		return _regeneratorRuntime.wrap(function executeAccumulator$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					scope = callback.createScope(env);

					scope.init(callback.node.body);

					args = [priorValue || _typesPrimitiveType.UNDEFINED, entry.value || _typesPrimitiveType.UNDEFINED, objectFactory.createPrimitive(entry.index), arr];
					context$2$0.next = 5;
					return scope.loadArgs(callback.node.params, args, callback);

				case 5:
					context$2$0.next = 7;
					return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
						var executionResult;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return env.createExecutionContext(callback.node.body, callback.node).execute();

								case 2:
									executionResult = context$3$0.sent;
									return context$3$0.abrupt("return", executionResult ? executionResult.result : _typesPrimitiveType.UNDEFINED);

								case 4:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 7:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[0], this);
	}

	function createIndexProperty(value) {
		return {
			value: value,
			configurable: true,
			enumerable: true,
			writable: true
		};
	}

	var arrayClass = objectFactory.createFunction(function (length) {
		var newArray = objectFactory.create("Array");

		if (arguments.length > 0) {
			if (arguments.length === 1 && length.type === "number") {
				contracts.assertIsValidArrayLength(arguments[0].value);
				newArray.putValue("length", length, false, env);
			} else {
				for (var i = 0, ln = arguments.length; i < ln; i++) {
					newArray.defineOwnProperty(i, createIndexProperty(arguments[i]), false, env);
				}
			}
		}

		return newArray;
	}, null, { configurable: false, enumerable: false, writable: false });

	var proto = arrayClass.getValue("prototype");
	proto.className = "Array";
	proto.define("length", objectFactory.createPrimitive(0), { configurable: false, enumerable: false, writable: true });

	arrayClass.define("isArray", objectFactory.createBuiltInFunction(function (obj) {
		return objectFactory.createPrimitive(!!(obj && obj.className === "Array"));
	}, 1, "Array.isArray"));

	proto.define("push", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, items = Array(_len), _key = 0; _key < _len; _key++) {
			items[_key] = arguments[_key];
		}

		var start, i, _length, newLength;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					start = context$2$0.sent;
					i = 0;

					for (_length = items.length; i < _length; i++) {
						this.node.defineOwnProperty(start + i, createIndexProperty(items[i]), true, env);
					}

					newLength = objectFactory.createPrimitive(start + i);

					this.node.putValue("length", newLength, true, env);
					return context$2$0.abrupt("return", newLength);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.push"));

	proto.define("pop", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					i = context$2$0.sent;

					if (i > 0) {
						i--;

						if (this.node.hasProperty(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i, true);
						}
					}

					this.node.putValue("length", objectFactory.createPrimitive(i), true, env);
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.pop"));

	proto.define("shift", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var obj, length, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					obj = undefined;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;
					i = 0;

					if (length > 0) {
						if (this.node.hasProperty(i)) {
							obj = this.node.getValue(i);
							this.node.deleteProperty(i);
						}

						while (++i < length) {
							if (this.node.hasProperty(i)) {
								this.node.putValue(i - 1, this.node.getValue(i), true, env);
							} else {
								this.node.deleteProperty(i);
							}
						}

						this.node.deleteProperty(length - 1);
					}

					this.node.putValue("length", objectFactory.createPrimitive(length === 0 ? 0 : --length), true, env);
					return context$2$0.abrupt("return", obj || _typesPrimitiveType.UNDEFINED);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.shift"));

	proto.define("unshift", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len2 = arguments.length, items = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
			items[_key2] = arguments[_key2];
		}

		var length, argCount, i, toIndex, fromIndex, newLength;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					argCount = items.length;
					i = length;
					toIndex = undefined, fromIndex = undefined;

					while (i > 0) {
						fromIndex = i - 1;
						toIndex = i + argCount - 1;

						if (this.node.hasProperty(fromIndex)) {
							this.node.putValue(toIndex, this.node.getValue(fromIndex), true, env);
						} else {
							this.node.deleteProperty(toIndex, true);
						}

						i--;
					}

					for (i = 0; i < argCount; i++) {
						this.node.putValue(i, items[i], true, env);
					}

					newLength = objectFactory.createPrimitive(argCount + length);

					this.node.putValue("length", newLength, true, env);
					return context$2$0.abrupt("return", newLength);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.unshift"));

	proto.define("slice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(begin, end) {
		var source, length, arr, index, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					source = this.node;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;

					if (!begin) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, begin);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					begin = context$2$0.t0;

					if (!(!end || end.type === "undefined")) {
						context$2$0.next = 16;
						break;
					}

					end = length;
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toInteger)(env, end);

				case 18:
					end = context$2$0.sent;

				case 19:
					arr = objectFactory.create("Array");
					index = 0;

					begin = getStartIndex(begin, length);
					end = getEndIndex(end, length);

					for (i = begin; i < end; i++) {
						arr.defineOwnProperty(index++, createIndexProperty(source.getValue(i)), true, env);
					}

					return context$2$0.abrupt("return", arr);

				case 25:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.slice"));

	proto.define("splice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, deleteCount) {
		for (var _len3 = arguments.length, elements = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
			elements[_key3 - 2] = arguments[_key3];
		}

		var length, removed, k, newCount, i;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(env, start);

				case 5:
					start = context$2$0.sent;

					if (start < 0) {
						start = Math.max(length + start, 0);
					} else {
						start = Math.min(start, length);
					}

					context$2$0.next = 9;
					return (0, _utilsNative.toInteger)(env, deleteCount);

				case 9:
					deleteCount = context$2$0.sent;

					if (deleteCount < 0) {
						deleteCount = 0;
					} else {
						deleteCount = Math.min(Math.max(deleteCount, 0), length - start);
					}

					removed = objectFactory.create("Array");
					k = 0;

					while (k < deleteCount) {
						if (this.node.hasProperty(k + start)) {
							removed.defineOwnProperty(k, createIndexProperty(this.node.getValue(k + start)), true, env);
						}

						k++;
					}

					newCount = elements.length;

					if (newCount < deleteCount) {
						k = start;

						while (k < length - deleteCount) {
							if (this.node.hasProperty(k + deleteCount)) {
								this.node.putValue(k + newCount, this.node.getValue(k + deleteCount));
							} else {
								this.node.deleteProperty(k + deleteCount);
							}

							k++;
						}

						k = length;
						while (k > length - deleteCount + newCount) {
							this.node.deleteProperty(--k);
						}
					} else if (newCount > deleteCount) {
						k = length - start;
						while (k > start) {
							if (this.node.hasProperty(k + deleteCount - 1)) {
								this.node.putValue(k + newCount - 1, this.node.getValue(k + deleteCount - 1), true, env);
							} else {
								this.node.deleteProperty(k + newCount - 1);
							}

							k--;
						}
					}

					k = start;
					for (i = 0; i < newCount; i++) {
						this.node.putValue(k, elements[i], true, env);
						k++;
					}

					this.node.putValue("length", objectFactory.createPrimitive(length - deleteCount + newCount), true, env);
					return context$2$0.abrupt("return", removed);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.splice"));

	proto.define("concat", objectFactory.createBuiltInFunction(function () {
		var newArray = objectFactory.create("Array");

		// add "this" array to bunch

		for (var _len4 = arguments.length, arrays = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
			arrays[_key4] = arguments[_key4];
		}

		arrays.unshift((0, _utilsNative.toObject)(env, this.node));

		var current = undefined,
		    index = 0,
		    i = undefined,
		    length = undefined;
		while (arrays.length > 0) {
			current = arrays.shift();

			if (current.className === "Array") {
				for (i = 0, length = current.getValue("length").toNative(); i < length; i++) {
					if (current.hasProperty(i)) {
						newArray.defineOwnProperty(index, createIndexProperty(current.getValue(i)), true, env);
					}

					index++;
				}
			} else {
				newArray.defineOwnProperty(index++, createIndexProperty(current), true, env);
			}
		}

		newArray.putValue("length", objectFactory.createPrimitive(index), true, env);
		return newArray;
	}, 1, "Array.prototype.concat"));

	function join(separator) {
		var length,
		    stringValues,
		    stringValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function join$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;

					if (!(args$2$0.length === 0 || separator === _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 7;
						break;
					}

					context$2$0.t0 = ",";
					context$2$0.next = 10;
					break;

				case 7:
					context$2$0.next = 9;
					return (0, _utilsNative.toPrimitive)(env, separator, "string");

				case 9:
					context$2$0.t0 = context$2$0.sent;

				case 10:
					separator = context$2$0.t0;
					stringValues = [];
					stringValue = undefined;
					i = 0;

				case 14:
					if (!(i < length)) {
						context$2$0.next = 29;
						break;
					}

					stringValue = "";

					if (!this.node.hasProperty(i)) {
						context$2$0.next = 25;
						break;
					}

					stringValue = this.node.getValue(i);

					if (!contracts.isNullOrUndefined(stringValue)) {
						context$2$0.next = 22;
						break;
					}

					stringValue = "";
					context$2$0.next = 25;
					break;

				case 22:
					context$2$0.next = 24;
					return (0, _utilsNative.toString)(env, stringValue);

				case 24:
					stringValue = context$2$0.sent;

				case 25:

					stringValues.push(stringValue);

				case 26:
					i++;
					context$2$0.next = 14;
					break;

				case 29:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValues.join(separator)));

				case 30:
				case "end":
					return context$2$0.stop();
			}
		}, marked1$0[1], this);
	}

	proto.define("join", objectFactory.createBuiltInFunction(join, 1, "Array.prototype.join"));

	proto.define("indexOf", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    notFound,
		    _iteratorNormalCompletion,
		    _didIteratorError,
		    _iteratorError,
		    _iterator,
		    _step,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = 0;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(env, fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;
					notFound = objectFactory.createPrimitive(-1);

					if (!(length === 0 || index >= length)) {
						context$2$0.next = 15;
						break;
					}

					return context$2$0.abrupt("return", notFound);

				case 15:

					index = getStartIndex(index, length);

					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 19;
					_iterator = _getIterator(_iterators2["default"].forward(env, this.node, index, length));

				case 21:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 28;
						break;
					}

					entry = _step.value;

					if (!searchElement.equals(entry.value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 25;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(entry.index));

				case 25:
					_iteratorNormalCompletion = true;
					context$2$0.next = 21;
					break;

				case 28:
					context$2$0.next = 34;
					break;

				case 30:
					context$2$0.prev = 30;
					context$2$0.t1 = context$2$0["catch"](19);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 34:
					context$2$0.prev = 34;
					context$2$0.prev = 35;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 37:
					context$2$0.prev = 37;

					if (!_didIteratorError) {
						context$2$0.next = 40;
						break;
					}

					throw _iteratorError;

				case 40:
					return context$2$0.finish(37);

				case 41:
					return context$2$0.finish(34);

				case 42:
					return context$2$0.abrupt("return", notFound);

				case 43:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[19, 30, 34, 42], [35,, 37, 41]]);
	}), 1, "Array.prototype.indexOf"));

	proto.define("lastIndexOf", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(searchElement, fromIndex) {
		var length,
		    index,
		    _iteratorNormalCompletion2,
		    _didIteratorError2,
		    _iteratorError2,
		    _iterator2,
		    _step2,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					searchElement = searchElement || _typesPrimitiveType.UNDEFINED;
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, this.node);

				case 3:
					length = context$2$0.sent;

					if (!(args$2$0.length === 1)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = length - 1;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(env, fromIndex);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					index = context$2$0.t0;

					if (index < 0) {
						index = length - Math.abs(index);
					}

					_iteratorNormalCompletion2 = true;
					_didIteratorError2 = false;
					_iteratorError2 = undefined;
					context$2$0.prev = 16;
					_iterator2 = _getIterator(_iterators2["default"].reverse(env, this.node, index));

				case 18:
					if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
						context$2$0.next = 25;
						break;
					}

					entry = _step2.value;

					if (!searchElement.equals(entry.value || _typesPrimitiveType.UNDEFINED)) {
						context$2$0.next = 22;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(entry.index));

				case 22:
					_iteratorNormalCompletion2 = true;
					context$2$0.next = 18;
					break;

				case 25:
					context$2$0.next = 31;
					break;

				case 27:
					context$2$0.prev = 27;
					context$2$0.t1 = context$2$0["catch"](16);
					_didIteratorError2 = true;
					_iteratorError2 = context$2$0.t1;

				case 31:
					context$2$0.prev = 31;
					context$2$0.prev = 32;

					if (!_iteratorNormalCompletion2 && _iterator2["return"]) {
						_iterator2["return"]();
					}

				case 34:
					context$2$0.prev = 34;

					if (!_didIteratorError2) {
						context$2$0.next = 37;
						break;
					}

					throw _iteratorError2;

				case 37:
					return context$2$0.finish(34);

				case 38:
					return context$2$0.finish(31);

				case 39:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(-1));

				case 40:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[16, 27, 31, 39], [32,, 34, 38]]);
	}), 1, "Array.prototype.lastIndexOf"));

	proto.define("forEach", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, entry;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					_iteratorNormalCompletion3 = true;
					_didIteratorError3 = false;
					_iteratorError3 = undefined;
					context$2$0.prev = 8;
					_iterator3 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 10:
					if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {
						context$2$0.next = 17;
						break;
					}

					entry = _step3.value;
					context$2$0.next = 14;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 14:
					_iteratorNormalCompletion3 = true;
					context$2$0.next = 10;
					break;

				case 17:
					context$2$0.next = 23;
					break;

				case 19:
					context$2$0.prev = 19;
					context$2$0.t0 = context$2$0["catch"](8);
					_didIteratorError3 = true;
					_iteratorError3 = context$2$0.t0;

				case 23:
					context$2$0.prev = 23;
					context$2$0.prev = 24;

					if (!_iteratorNormalCompletion3 && _iterator3["return"]) {
						_iterator3["return"]();
					}

				case 26:
					context$2$0.prev = 26;

					if (!_didIteratorError3) {
						context$2$0.next = 29;
						break;
					}

					throw _iteratorError3;

				case 29:
					return context$2$0.finish(26);

				case 30:
					return context$2$0.finish(23);

				case 31:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 19, 23, 31], [24,, 26, 30]]);
	}), 1, "Array.prototype.forEach"));

	proto.define("map", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, newArray, _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, entry, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					contracts.assertIsNotNullOrUndefined(arr, "Array.prototype.map");
					contracts.assertIsFunction(callback, arr);

					newArray = objectFactory.create("Array");

					newArray.putValue("length", objectFactory.createPrimitive(length), true, env);

					_iteratorNormalCompletion4 = true;
					_didIteratorError4 = false;
					_iteratorError4 = undefined;
					context$2$0.prev = 11;
					_iterator4 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 13:
					if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step4.value;
					context$2$0.next = 17;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 17:
					value = context$2$0.sent;

					newArray.defineOwnProperty(entry.index, createIndexProperty(value), true, env);

				case 19:
					_iteratorNormalCompletion4 = true;
					context$2$0.next = 13;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t0 = context$2$0["catch"](11);
					_didIteratorError4 = true;
					_iteratorError4 = context$2$0.t0;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion4 && _iterator4["return"]) {
						_iterator4["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError4) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError4;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", newArray);

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[11, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.map"));

	proto.define("filter", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, newArray, index, _iteratorNormalCompletion5, _didIteratorError5, _iteratorError5, _iterator5, _step5, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.filter");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					newArray = objectFactory.create("Array");
					index = 0;
					_iteratorNormalCompletion5 = true;
					_didIteratorError5 = false;
					_iteratorError5 = undefined;
					context$2$0.prev = 11;
					_iterator5 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 13:
					if (_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done) {
						context$2$0.next = 23;
						break;
					}

					entry = _step5.value;
					context$2$0.next = 17;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 17:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						newArray.defineOwnProperty(index++, createIndexProperty(entry.value), true, env);
					}

				case 20:
					_iteratorNormalCompletion5 = true;
					context$2$0.next = 13;
					break;

				case 23:
					context$2$0.next = 29;
					break;

				case 25:
					context$2$0.prev = 25;
					context$2$0.t1 = context$2$0["catch"](11);
					_didIteratorError5 = true;
					_iteratorError5 = context$2$0.t1;

				case 29:
					context$2$0.prev = 29;
					context$2$0.prev = 30;

					if (!_iteratorNormalCompletion5 && _iterator5["return"]) {
						_iterator5["return"]();
					}

				case 32:
					context$2$0.prev = 32;

					if (!_didIteratorError5) {
						context$2$0.next = 35;
						break;
					}

					throw _iteratorError5;

				case 35:
					return context$2$0.finish(32);

				case 36:
					return context$2$0.finish(29);

				case 37:
					return context$2$0.abrupt("return", newArray);

				case 38:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[11, 25, 29, 37], [30,, 32, 36]]);
	}), 1, "Array.prototype.filter"));

	proto.define("every", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion6, _didIteratorError6, _iteratorError6, _iterator6, _step6, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.every");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					_iteratorNormalCompletion6 = true;
					_didIteratorError6 = false;
					_iteratorError6 = undefined;
					context$2$0.prev = 9;
					_iterator6 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step6.value;
					context$2$0.next = 15;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 19:
					_iteratorNormalCompletion6 = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError6 = true;
					_iteratorError6 = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion6 && _iterator6["return"]) {
						_iterator6["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError6) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError6;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.every"));

	proto.define("some", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var arr, length, _iteratorNormalCompletion7, _didIteratorError7, _iteratorError7, _iterator7, _step7, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.some");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, this.node);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, this.node);

					_iteratorNormalCompletion7 = true;
					_didIteratorError7 = false;
					_iteratorError7 = undefined;
					context$2$0.prev = 9;
					_iterator7 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 11:
					if (_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done) {
						context$2$0.next = 22;
						break;
					}

					entry = _step7.value;
					context$2$0.next = 15;
					return executeCallback(env, callback, entry, thisArg, arr);

				case 15:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(true));

				case 19:
					_iteratorNormalCompletion7 = true;
					context$2$0.next = 11;
					break;

				case 22:
					context$2$0.next = 28;
					break;

				case 24:
					context$2$0.prev = 24;
					context$2$0.t1 = context$2$0["catch"](9);
					_didIteratorError7 = true;
					_iteratorError7 = context$2$0.t1;

				case 28:
					context$2$0.prev = 28;
					context$2$0.prev = 29;

					if (!_iteratorNormalCompletion7 && _iterator7["return"]) {
						_iterator7["return"]();
					}

				case 31:
					context$2$0.prev = 31;

					if (!_didIteratorError7) {
						context$2$0.next = 34;
						break;
					}

					throw _iteratorError7;

				case 34:
					return context$2$0.finish(31);

				case 35:
					return context$2$0.finish(28);

				case 36:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[9, 24, 28, 36], [29,, 31, 35]]);
	}), 1, "Array.prototype.some"));

	proto.define("reduce", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var arr,
		    length,
		    hasInitialValue,
		    value,
		    hasElements,
		    _iteratorNormalCompletion8,
		    _didIteratorError8,
		    _iteratorError8,
		    _iterator8,
		    _step8,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.reduce");
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;

					contracts.assertIsFunction(callback, arr);

					hasInitialValue = false;
					value = undefined;

					if (args$2$0.length > 1) {
						value = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion8 = true;
					_didIteratorError8 = false;
					_iteratorError8 = undefined;
					context$2$0.prev = 14;
					_iterator8 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 16:
					if (_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step8.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					value = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return executeAccumulator(callback, value, entry, arr);

				case 25:
					value = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion8 = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError8 = true;
					_iteratorError8 = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion8 && _iterator8["return"]) {
						_iterator8["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError8) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError8;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Reduce of empty array with no initial value")));

				case 45:
					return context$2$0.abrupt("return", value);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduce"));

	proto.define("reduceRight", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, initialValue) {
		var length,
		    arr,
		    accumulator,
		    hasInitialValue,
		    hasElements,
		    _iteratorNormalCompletion9,
		    _didIteratorError9,
		    _iteratorError9,
		    _iterator9,
		    _step9,
		    entry,
		    args$2$0 = arguments;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;

					contracts.assertIsNotNullOrUndefined(this.node, "Array.prototype.reduceRight");
					arr = (0, _utilsNative.toObject)(env, this.node);

					contracts.assertIsFunction(callback, arr);

					accumulator = undefined;
					hasInitialValue = false;

					if (args$2$0.length > 1) {
						accumulator = initialValue;
						hasInitialValue = true;
					}

					hasElements = false;

					if (!(length > 0)) {
						context$2$0.next = 43;
						break;
					}

					_iteratorNormalCompletion9 = true;
					_didIteratorError9 = false;
					_iteratorError9 = undefined;
					context$2$0.prev = 14;
					_iterator9 = _getIterator(_iterators2["default"].reverse(env, arr, length - 1));

				case 16:
					if (_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done) {
						context$2$0.next = 29;
						break;
					}

					entry = _step9.value;

					if (hasElements) {
						context$2$0.next = 23;
						break;
					}

					hasElements = true;

					if (hasInitialValue) {
						context$2$0.next = 23;
						break;
					}

					accumulator = entry.value;
					return context$2$0.abrupt("continue", 26);

				case 23:
					context$2$0.next = 25;
					return executeAccumulator(callback, accumulator, entry, arr);

				case 25:
					accumulator = context$2$0.sent;

				case 26:
					_iteratorNormalCompletion9 = true;
					context$2$0.next = 16;
					break;

				case 29:
					context$2$0.next = 35;
					break;

				case 31:
					context$2$0.prev = 31;
					context$2$0.t0 = context$2$0["catch"](14);
					_didIteratorError9 = true;
					_iteratorError9 = context$2$0.t0;

				case 35:
					context$2$0.prev = 35;
					context$2$0.prev = 36;

					if (!_iteratorNormalCompletion9 && _iterator9["return"]) {
						_iterator9["return"]();
					}

				case 38:
					context$2$0.prev = 38;

					if (!_didIteratorError9) {
						context$2$0.next = 41;
						break;
					}

					throw _iteratorError9;

				case 41:
					return context$2$0.finish(38);

				case 42:
					return context$2$0.finish(35);

				case 43:
					if (!(!hasElements && !hasInitialValue)) {
						context$2$0.next = 45;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Reduce of empty array with no initial value")));

				case 45:
					return context$2$0.abrupt("return", accumulator);

				case 46:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[14, 31, 35, 43], [36,, 38, 42]]);
	}), 1, "Array.prototype.reduceRight"));

	proto.define("reverse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, middle, lower, upper, upperValue, lowerValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					middle = Math.floor(length / 2);
					lower = 0;
					upper = undefined, upperValue = undefined, lowerValue = undefined;

					while (lower !== middle) {
						upper = length - lower - 1;
						lowerValue = this.node.hasProperty(lower) && this.node.getValue(lower);
						upperValue = this.node.hasProperty(upper) && this.node.getValue(upper);

						if (upperValue) {
							this.node.putValue(lower, upperValue, true, env);
						}

						if (lowerValue) {
							this.node.putValue(upper, lowerValue, true, env);
						}

						if (upperValue && !lowerValue) {
							this.node.deleteProperty(upper);
						} else if (lowerValue && !upperValue) {
							this.node.deleteProperty(lower);
						}

						lower++;
					}

					return context$2$0.abrupt("return", this.node);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.reverse"));

	proto.define("sort", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(compareFunction) {
		var executionContext, arr, length, i, comparer, sortedArray;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					executionContext = this;
					arr = this.node;
					context$2$0.next = 4;
					return (0, _utilsNative.toLength)(env, arr);

				case 4:
					length = context$2$0.sent;
					i = 0;
					comparer = undefined;

					if (contracts.isNullOrUndefined(compareFunction)) {
						comparer = function defaultComparer(a, b) {
							a = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(env, a));
							b = (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(env, b));

							if (a < b) {
								return -1;
							}

							if (a > b) {
								return 1;
							}

							return 0;
						};
					} else {
						comparer = function (a, b) {
							var scope = env.createScope(_typesPrimitiveType.UNDEFINED);
							scope.init(compareFunction.node.body);

							(0, _utilsAsync.exhaust)(scope.loadArgs(compareFunction.node.params, [a, b], compareFunction));
							var executionResult = (0, _utilsAsync.exhaust)(scope.use(function () {
								return (0, _utilsAsync.exhaust)(executionContext.create(compareFunction.node.body, compareFunction.node).execute());
							}));

							if (executionResult && executionResult.exit && executionResult.result) {
								return executionResult.result.getValue().toNative();
							}

							return undefined;
						};
					}

					// to array, run the wrapped comparer, then re-assign indexes
					sortedArray = (0, _utilsNative.toArray)(arr, length)
					// undefined positions are handled by the underlying sort algorithm, so replace them with the raw primitive value
					.map(function (el) {
						return el.isPrimitive && el.value === undefined ? undefined : el;
					}).sort(comparer);

					while (i < length) {
						if (i in sortedArray) {
							arr.putValue(i, sortedArray[i], false, env);
						} else {
							arr.deleteProperty(i, false);
						}

						i++;
					}

					return context$2$0.abrupt("return", arr);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.sort"));

	proto.define("toLocaleString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var length, arr, i, current;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, this.node);

				case 2:
					length = context$2$0.sent;
					arr = new Array(length);
					i = 0;
					current = undefined;

				case 6:
					if (!(i < length)) {
						context$2$0.next = 23;
						break;
					}

					if (!this.node.hasProperty(i)) {
						context$2$0.next = 20;
						break;
					}

					current = this.node.getValue(i);

					if (!contracts.isNullOrUndefined(current)) {
						context$2$0.next = 13;
						break;
					}

					arr[i] = "";
					context$2$0.next = 20;
					break;

				case 13:
					context$2$0.t0 = env;
					context$2$0.next = 16;
					return (0, _utilsFunc.tryExecute)(env, current, "toLocaleString");

				case 16:
					context$2$0.t1 = context$2$0.sent;
					context$2$0.next = 19;
					return (0, _utilsNative.toString)(context$2$0.t0, context$2$0.t1);

				case 19:
					arr[i] = context$2$0.sent;

				case 20:

					i++;
					context$2$0.next = 6;
					break;

				case 23:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(arr.join()));

				case 24:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Array.prototype.toLocaleString"));

	// todo: this is a bit hacky - toString will call join if available per spec,
	// but will call Object..toString if not
	proto.define("toString", objectFactory.createBuiltInFunction(join, 0, "Array.prototype.toString"));
	globalObject.define("Array", arrayClass);
}
},{"../../iterators":199,"../../types/primitive-type":214,"../../utils/async":221,"../../utils/contracts":222,"../../utils/func":223,"../../utils/native":224,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],170:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = booleanApi;

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsNative = require("../../utils/native");

function booleanApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var booleanClass = objectFactory.createFunction(function (obj) {
		var booleanValue = (0, _utilsNative.toBoolean)(obj);

		// called as new
		if (this.isNew) {
			return (0, _utilsNative.primitiveToObject)(env, booleanValue);
		}

		return objectFactory.create("Boolean", booleanValue);
	}, null, { configurable: false, enumerable: false, writable: false });

	var proto = booleanClass.getValue("prototype");
	proto.className = "Boolean";
	proto.value = false;

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.toString");
		return objectFactory.createPrimitive(String(this.node.value));
	}, 0, "Boolean.prototype.toString"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Boolean", "Boolean.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "Boolean.prototype.valueOf"));

	globalObject.define("Boolean", booleanClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":222,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21}],171:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = consoleApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var methods = ["log", "info", "error", "warn"];

function consoleApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var consoleClass = objectFactory.createObject();

	methods.forEach(function (name) {
		consoleClass.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
			for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
				args[_key] = arguments[_key];
			}

			var stringValues;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toString)(env, arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						}));

					case 2:
						stringValues = context$3$0.sent;

						console[name].apply(console, _toConsumableArray(stringValues));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, "console." + name));
	});

	globalObject.define("console", consoleClass);
}

module.exports = exports["default"];
},{"../../utils/async":221,"../../utils/native":224,"babel-runtime/helpers/to-consumable-array":22,"babel-runtime/regenerator":23}],172:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _bind = require("babel-runtime/helpers/bind")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = dateApi;

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var staticMethods = ["now"];
var protoMethods = ["getDate", "getDay", "getFullYear", "getHours", "getMilliseconds", "getMinutes", "getMonth", "getMilliseconds", "getMinutes", "getMonth", "getSeconds", "getTime", "getTimezoneOffset", "getUTCDay", "getUTCDate", "getUTCFullYear", "getUTCHours", "getUTCMilliseconds", "getUTCMinutes", "getUTCMonth", "getUTCSeconds", "getYear", "toDateString", "toGMTString", "toISOString", "toJSON", "toLocaleString", "toLocaleDateString", "toLocaleTimeString", "toString", "toTimeString", "toUTCString"];
var setters = ["setDate", "setFullYear", "setHours", "setMilliseconds", "setMinutes", "setMonth", "setSeconds", "setTime", "setUTCDate", "setUTCFullYear", "setUTCHours", "setUTCMilliseconds", "setUTCMinutes", "setUTCMonth", "setUTCSeconds", "setYear"];

function dateApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var dateClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(p1, p2, p3, p4, p5, p6, p7) {
		var dateValue,
		    args,
		    primitiveValue,
		    i,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					dateValue = undefined, args = undefined;

					if (!(args$2$0.length === 0)) {
						context$2$0.next = 5;
						break;
					}

					args = [];
					context$2$0.next = 22;
					break;

				case 5:
					if (!(args$2$0.length === 1)) {
						context$2$0.next = 20;
						break;
					}

					if (!p1.isPrimitive) {
						context$2$0.next = 10;
						break;
					}

					args = [p1.value];
					context$2$0.next = 18;
					break;

				case 10:
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(env, p1);

				case 12:
					primitiveValue = context$2$0.sent;

					if (!(typeof primitiveValue !== "string")) {
						context$2$0.next = 17;
						break;
					}

					context$2$0.next = 16;
					return (0, _utilsNative.toNumber)(env, p1);

				case 16:
					primitiveValue = context$2$0.sent;

				case 17:

					args = [primitiveValue];

				case 18:
					context$2$0.next = 22;
					break;

				case 20:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(env, arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 21);

				case 21:
					args = context$2$0.t0;

				case 22:
					if (!this.isNew) {
						context$2$0.next = 35;
						break;
					}

					context$2$0.t1 = args.length;
					context$2$0.next = context$2$0.t1 === 0 ? 26 : context$2$0.t1 === 1 ? 28 : 30;
					break;

				case 26:
					dateValue = new Date();
					return context$2$0.abrupt("break", 34);

				case 28:
					dateValue = new Date(args[0]);
					return context$2$0.abrupt("break", 34);

				case 30:
					i = args.length;

					while (i < 7) {
						// default day to 1, all others to 0
						args[i++] = i === 3 ? 1 : 0;
					}

					dateValue = new (_bind.apply(Date, [null].concat(_toConsumableArray(args))))();
					return context$2$0.abrupt("break", 34);

				case 34:
					return context$2$0.abrupt("return", objectFactory.create("Date", dateValue));

				case 35:

					dateValue = Date.apply(undefined, _toConsumableArray(args));
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 37:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	dateClass.define("parse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue, dateValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(env, value, "string");

				case 2:
					stringValue = context$2$0.sent;
					dateValue = Date.parse(stringValue);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(dateValue));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Date.prototype.parse"));

	dateClass.define("UTC", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var args,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(args$2$0, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(env, arg, "number");

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Date.UTC.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 7, "Date.prototype.UTC"));

	var proto = dateClass.getValue("prototype");
	proto.className = "Date";
	proto.value = new Date(Date.prototype);

	staticMethods.forEach(function (name) {
		dateClass.define(name, (0, _utilsNative.toNativeFunction)(env, Date[name], "Date." + name));
	});

	protoMethods.forEach(function (name) {
		proto.define(name, (0, _utilsNative.toNativeFunction)(env, Date.prototype[name], "Date.prototype." + name));
	});

	setters.forEach(function (name) {
		var marked2$0 = [setter].map(_regeneratorRuntime.mark);

		function setter() {
			var args,
			    args$3$0 = arguments;
			return _regeneratorRuntime.wrap(function setter$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
							return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
								while (1) switch (context$4$0.prev = context$4$0.next) {
									case 0:
										context$4$0.next = 2;
										return (0, _utilsNative.toPrimitive)(env, arg);

									case 2:
										return context$4$0.abrupt("return", context$4$0.sent);

									case 3:
									case "end":
										return context$4$0.stop();
								}
							}, callee$3$0, this);
						})), "t0", 1);

					case 1:
						args = context$3$0.t0;

						Date.prototype[name].apply(this.node.value, args);

					case 3:
					case "end":
						return context$3$0.stop();
				}
			}, marked2$0[0], this);
		}

		proto.define(name, objectFactory.createBuiltInFunction(setter, Date.prototype[name].length, "Date.prototype." + name));
	});

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		return objectFactory.createPrimitive(this.node.value.valueOf());
	}, 0, "Date.prototype.valueOf"));

	globalObject.define("Date", dateClass);
}

module.exports = exports["default"];
},{"../../utils/async":221,"../../utils/native":224,"babel-runtime/helpers/bind":14,"babel-runtime/helpers/to-consumable-array":22,"babel-runtime/regenerator":23}],173:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = errorApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var errorTypes = ["TypeError", "ReferenceError", "SyntaxError", "RangeError", "URIError", "EvalError"];

function errorApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var errorClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(message) {
		var messageString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					messageString = undefined;

					if (contracts.isNullOrUndefined(message)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toString)(env, message);

				case 4:
					messageString = context$2$0.sent;

				case 5:
					return context$2$0.abrupt("return", objectFactory.create("Error", new Error(messageString)));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = errorClass.getValue("prototype");
	proto.className = "Error";
	proto.define("name", objectFactory.createPrimitive("Error"));
	proto.define("message", objectFactory.createPrimitive(""));

	proto.define("toString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var name, msg;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					name = this.node.getValue("name");
					msg = undefined;

					if (!this.node.hasProperty("message")) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toString)(env, this.node.getValue("message"));

				case 5:
					msg = context$2$0.sent;

				case 6:
					context$2$0.t0 = name;

					if (!context$2$0.t0) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toString)(env, name);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					name = context$2$0.t0;

					if (!(name && msg)) {
						context$2$0.next = 14;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.create("String", name + ": " + msg));

				case 14:
					return context$2$0.abrupt("return", objectFactory.create("String", name || msg));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "Error.prototype.toString"));

	globalObject.define("Error", errorClass);

	errorTypes.forEach(function (errorType) {
		var errClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$2$0(message) {
			var messageString, nativeError;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(env, message);

					case 2:
						messageString = context$3$0.sent;
						nativeError = new global[errorType](messageString);
						return context$3$0.abrupt("return", objectFactory.create(errorType, nativeError));

					case 5:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), null, { configurable: false, enumerable: false, writable: false });

		var typeProto = errClass.getValue("prototype");
		typeProto.define("name", objectFactory.createPrimitive(errorType));

		// add to prototype chain to represent inheritance
		typeProto.setPrototype(proto);

		globalObject.define(errorType, errClass);
	});
}

module.exports = exports["default"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lY21hLTUuMS9lcnJvci9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGVycm9yQXBpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgZXJyb3JUeXBlcyA9IFtcIlR5cGVFcnJvclwiLCBcIlJlZmVyZW5jZUVycm9yXCIsIFwiU3ludGF4RXJyb3JcIiwgXCJSYW5nZUVycm9yXCIsIFwiVVJJRXJyb3JcIiwgXCJFdmFsRXJyb3JcIl07XG5cbmZ1bmN0aW9uIGVycm9yQXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgZXJyb3JDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobWVzc2FnZSkge1xuXHRcdHZhciBtZXNzYWdlU3RyaW5nO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKGNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChtZXNzYWdlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBtZXNzYWdlKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bWVzc2FnZVN0cmluZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJFcnJvclwiLCBuZXcgRXJyb3IobWVzc2FnZVN0cmluZykpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgbnVsbCwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHZhciBwcm90byA9IGVycm9yQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRXJyb3JcIjtcblx0cHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIkVycm9yXCIpKTtcblx0cHJvdG8uZGVmaW5lKFwibWVzc2FnZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIG5hbWUsIG1zZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bmFtZSA9IHRoaXMubm9kZS5nZXRWYWx1ZShcIm5hbWVcIik7XG5cdFx0XHRcdFx0bXNnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5vZGUuaGFzUHJvcGVydHkoXCJtZXNzYWdlXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHRoaXMubm9kZS5nZXRWYWx1ZShcIm1lc3NhZ2VcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRtc2cgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IG5hbWU7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRleHQkMiQwLnQwKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgbmFtZSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRuYW1lID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoIShuYW1lICYmIG1zZykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTdHJpbmdcIiwgbmFtZSArIFwiOiBcIiArIG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN0cmluZ1wiLCBuYW1lIHx8IG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJFcnJvci5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJFcnJvclwiLCBlcnJvckNsYXNzKTtcblxuXHRlcnJvclR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yVHlwZSkge1xuXHRcdHZhciBlcnJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAobWVzc2FnZSkge1xuXHRcdFx0dmFyIG1lc3NhZ2VTdHJpbmcsIG5hdGl2ZUVycm9yO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgbWVzc2FnZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdG5hdGl2ZUVycm9yID0gbmV3IGdsb2JhbFtlcnJvclR5cGVdKG1lc3NhZ2VTdHJpbmcpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShlcnJvclR5cGUsIG5hdGl2ZUVycm9yKSk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRcdHZhciB0eXBlUHJvdG8gPSBlcnJDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0XHR0eXBlUHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlcnJvclR5cGUpKTtcblxuXHRcdC8vIGFkZCB0byBwcm90b3R5cGUgY2hhaW4gdG8gcmVwcmVzZW50IGluaGVyaXRhbmNlXG5cdFx0dHlwZVByb3RvLnNldFByb3RvdHlwZShwcm90byk7XG5cblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKGVycm9yVHlwZSwgZXJyQ2xhc3MpO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiXX0=
},{"../../utils/contracts":222,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],174:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = functionApi;

var _typesNativeFunctionType = require("../../types/native-function-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

function defineThis(env, fn, thisArg) {
	if (fn.builtIn || fn.isStrict()) {
		return thisArg || _typesPrimitiveType.UNDEFINED;
	}

	if (contracts.isNullOrUndefined(thisArg)) {
		return env.global;
	}

	return (0, _utilsNative.toObject)(env, thisArg);
}

var frozen = { configurable: false, enumerable: false, writable: false };

function functionApi(env) {
	var options = env.options;
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var funcClass = undefined;

	var funcCtor = _regeneratorRuntime.mark(function funcCtor() {
		for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
			args[_key] = arguments[_key];
		}

		var funcInstance;
		return _regeneratorRuntime.wrap(function funcCtor$(context$2$0) {
			var _this = this;

			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					funcInstance = undefined;

					if (!(options.parser && args.length > 0)) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
						var body, params, bodyString, ast, callee, userNode, strict, wrappedFunc;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									body = args.pop();
									params = "";

									if (!(args.length > 0)) {
										context$3$0.next = 6;
										break;
									}

									context$3$0.next = 5;
									return (0, _utilsAsync.map)(args, _regeneratorRuntime.mark(function callee$3$0(arg, index) {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													if (!contracts.isNull(arg)) {
														context$4$0.next = 2;
														break;
													}

													throw new SyntaxError("Unexpected token null");

												case 2:
													if (!contracts.isUndefined(arg)) {
														context$4$0.next = 6;
														break;
													}

													context$4$0.t0 = "";
													context$4$0.next = 9;
													break;

												case 6:
													context$4$0.next = 8;
													return (0, _utilsNative.toString)(env, arg);

												case 8:
													context$4$0.t0 = context$4$0.sent;

												case 9:
													return context$4$0.abrupt("return", context$4$0.t0);

												case 10:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 5:
									params = context$3$0.sent.
									// the spec allows parameters to be comma-delimited, so we will join and split again comma
									join(",");

								case 6:
									context$3$0.next = 8;
									return (0, _utilsNative.toString)(env, body);

								case 8:
									bodyString = context$3$0.sent;
									ast = options.parser("(function(" + params + "){" + bodyString + "}).apply($this,$args);");
									callee = ast.body[0].expression.callee.object;
									userNode = callee.body.body;
									strict = contracts.isStrictNode(userNode);
									wrappedFunc = _regeneratorRuntime.mark(function wrappedFunc() {
										var thisArg,
										    $args,
										    executionResult,
										    args$4$0 = arguments;
										return _regeneratorRuntime.wrap(function wrappedFunc$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													thisArg = undefined;

													if (this.isNew) {
														thisArg = objectFactory.createObject(funcInstance);
													} else {
														thisArg = this.node;

														if (!thisArg) {
															thisArg = strict ? _typesPrimitiveType.UNDEFINED : globalObject;
														}
													}

													this.env.createVariable("$this").setValue(thisArg);

													$args = this.env.objectFactory.createArray(args$4$0);

													this.env.createVariable("$args").setValue($args);

													context$4$0.next = 7;
													return env.createExecutionContext(ast).execute();

												case 7:
													executionResult = context$4$0.sent;

													if (!this.isNew) {
														context$4$0.next = 10;
														break;
													}

													return context$4$0.abrupt("return", thisArg);

												case 10:
													return context$4$0.abrupt("return", executionResult && executionResult.result || _typesPrimitiveType.UNDEFINED);

												case 11:
												case "end":
													return context$4$0.stop();
											}
										}, wrappedFunc, this);
									});

									wrappedFunc.nativeLength = callee.params.length;
									wrappedFunc.strict = strict;
									funcInstance = objectFactory.createFunction(wrappedFunc, undefined, { strict: strict });
									funcInstance.bindScope(env.globalScope);

								case 18:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, _this);
					})(), "t0", 3);

				case 3:
					context$2$0.next = 6;
					break;

				case 5:
					funcInstance = objectFactory.createFunction(function () {});

				case 6:

					funcInstance.putValue("constructor", funcClass);
					return context$2$0.abrupt("return", funcInstance);

				case 8:
				case "end":
					return context$2$0.stop();
			}
		}, funcCtor, this);
	});

	// the prototype of a function is actually callable and evaluates as a function
	var proto = new _typesNativeFunctionType.NativeFunctionType(function () {
		if (this.isNew) {
			return this.raise(new TypeError("Function.protoype is not a constructor"));
		}

		return _typesPrimitiveType.UNDEFINED;
	});

	funcCtor.nativeLength = 1;
	funcClass = objectFactory.createFunction(funcCtor, proto, frozen);
	funcClass.putValue("constructor", funcClass);

	globalObject.define("Function", funcClass);

	proto.define("length", objectFactory.createPrimitive(0), { writable: false });

	if (env.options.ecmaVersion > 5) {
		proto.define("name", objectFactory.createPrimitive(""), { writable: false });
	}

	// function itself is a function
	funcClass.setPrototype(proto);

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		if (this.node.native) {
			return objectFactory.createPrimitive("function () { [native code] }");
		}

		return objectFactory.createPrimitive("function () { [user code] }");
	}, 0, "Function.prototype.toString"));

	proto.define("call", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
			args[_key2 - 1] = arguments[_key2];
		}

		var params, callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					params = this.node.native ? [] : this.node.node.params;
					callee = this.node.native ? this.node : this.node.node;

					thisArg = defineThis(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield((0, _utilsFunc.execute)(env, this.node, params, args, thisArg, callee), "t0", 5);

				case 5:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype.call"));

	proto.define("apply", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg, argsArray) {
		var args, params, callee;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!argsArray) {
						context$2$0.next = 3;
						break;
					}

					if (!(argsArray.className !== "Arguments" && argsArray.className !== "Array" && argsArray.className !== "Function")) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Arguments list was wrong type")));

				case 3:
					args = (0, _utilsNative.toArray)(argsArray);
					params = this.node.native ? [] : this.node.node.params;
					callee = this.node.native ? this.node : this.node.node;

					thisArg = defineThis(env, this.node, thisArg);
					this.node.bindThis(thisArg);

					return context$2$0.delegateYield((0, _utilsFunc.execute)(env, this.node, params, args, thisArg, callee), "t0", 9);

				case 9:
					return context$2$0.abrupt("return", context$2$0.t0);

				case 10:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Function.prototype.apply"));

	proto.define("bind", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(thisArg) {
		for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
			args[_key3 - 1] = arguments[_key3];
		}

		var fn, params, callee, nativeFunc, boundFunc, _thrower;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					fn = this.node;
					params = fn.native ? [] : fn.node.params;
					callee = fn.native ? fn : fn.node;

					thisArg = defineThis(env, this.node, thisArg);

					nativeFunc = _regeneratorRuntime.mark(function nativeFunc() {
						for (var _len4 = arguments.length, additionalArgs = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
							additionalArgs[_key4] = arguments[_key4];
						}

						var mergedArgs;
						return _regeneratorRuntime.wrap(function nativeFunc$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									mergedArgs = args.concat(additionalArgs);
									return context$3$0.delegateYield((0, _utilsFunc.execute)(env, fn, params, mergedArgs, thisArg, callee, this.isNew), "t0", 2);

								case 2:
									return context$3$0.abrupt("return", context$3$0.t0);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, nativeFunc, this);
					});

					nativeFunc.nativeLength = Math.max(params.length - args.length, 0);
					nativeFunc.strict = env.isStrict() || !fn.native && contracts.isStrictNode(fn.node.body.body);

					boundFunc = objectFactory.createFunction(nativeFunc);

					boundFunc.bindScope(this.env.current);
					boundFunc.bindThis(thisArg);

					if (!nativeFunc.strict) {
						boundFunc.remove("caller");
						boundFunc.remove("arguments");

						// these will be added in strict mode, but should always be here for bound functions
						_thrower = objectFactory.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");

						boundFunc.defineOwnProperty("caller", _thrower);
						boundFunc.defineOwnProperty("arguments", _thrower);
					}

					return context$2$0.abrupt("return", boundFunc);

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Function.prototype.bind"));

	var thrower = function thrower() {
		if (this.isStrict()) {
			throw new TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
		}

		return undefined;
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);

	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: false
	};

	proto.defineOwnProperty("caller", prop, false, env);
	proto.defineOwnProperty("callee", prop, false, env);
	proto.defineOwnProperty("arguments", prop, false, env);
}

module.exports = exports["default"];
},{"../../types/native-function-type":211,"../../types/primitive-type":214,"../../utils/async":221,"../../utils/contracts":222,"../../utils/func":223,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],175:[function(require,module,exports){
(function (global){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _envReference = require("../env/reference");

var _typesPrimitiveType = require("../types/primitive-type");

exports["default"] = function (env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;
	var options = env.options;

	globalObject.define("Infinity", objectFactory.createPrimitive(Infinity), { configurable: false, writable: false });
	globalObject.define("NaN", objectFactory.createPrimitive(NaN), { configurable: false, writable: false });

	["parseFloat", "decodeURI", "encodeURI", "decodeURIComponent", "encodeURIComponent", "escape", "unescape"].forEach(function (name) {
		globalObject.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0(value) {
			var stringValue;
			return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
				while (1) switch (context$3$0.prev = context$3$0.next) {
					case 0:
						context$3$0.next = 2;
						return (0, _utilsNative.toString)(env, value);

					case 2:
						stringValue = context$3$0.sent;
						return context$3$0.abrupt("return", objectFactory.createPrimitive(global[name](stringValue)));

					case 4:
					case "end":
						return context$3$0.stop();
				}
			}, callee$2$0, this);
		}), 1, name));
	});

	["isNaN", "isFinite"].forEach(function (name) {
		globalObject.define(name, (0, _utilsNative.toNativeFunction)(env, global[name], name));
	});

	globalObject.define("parseInt", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, radix) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, value);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(env, radix, "number");

				case 5:
					radix = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(parseInt(stringValue, radix)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "parseInt"));

	if (options.parser) {
		var evalFunc = objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(code) {
			var directCall, ast, strictScope, strictCode, currentGlobal, scope, thisArg, executionResult;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (code) {
							context$2$0.next = 2;
							break;
						}

						return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

					case 2:
						if (!(code.type !== "string")) {
							context$2$0.next = 4;
							break;
						}

						return context$2$0.abrupt("return", code);

					case 4:
						directCall = this.callee instanceof _envReference.Reference && this.callee.base === globalObject;
						ast = undefined;
						context$2$0.prev = 6;

						ast = options.parser(code.value);
						context$2$0.next = 15;
						break;

					case 10:
						context$2$0.prev = 10;
						context$2$0.t0 = context$2$0["catch"](6);

						if (!(context$2$0.t0 instanceof SyntaxError && /assigning to rvalue/i.test(context$2$0.t0.message))) {
							context$2$0.next = 14;
							break;
						}

						throw new ReferenceError("Invalid left-hand side in assignment");

					case 14:
						throw context$2$0.t0;

					case 15:
						strictScope = env.isStrict();
						strictCode = strictScope || contracts.isStrictNode(ast.body);
						currentGlobal = env.current.scope.parent === env.globalScope.scope;
						scope = undefined;

						// use the same scope unless this is an "indirect" call
						// in which case we use the global scope
						if (directCall) {
							if (strictCode) {
								thisArg = undefined;

								if (strictScope) {
									thisArg = currentGlobal ? globalObject : _typesPrimitiveType.UNDEFINED;
								} else {
									thisArg = env.getThisBinding() || globalObject;
								}

								scope = env.createScope(thisArg);
							} else {
								scope = env.setScope(env.current.scope.parent);
							}
						} else {
							scope = env.setScope(env.globalScope.scope);
							if (strictCode) {
								scope = env.createScope(globalObject);
							}
						}

						context$2$0.next = 22;
						return scope.use(_regeneratorRuntime.mark(function callee$2$0() {
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										context$3$0.next = 2;
										return env.createExecutionContext(ast).execute();

									case 2:
										return context$3$0.abrupt("return", context$3$0.sent);

									case 3:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 22:
						executionResult = context$2$0.sent;
						return context$2$0.abrupt("return", executionResult && executionResult.result ? executionResult.result.getValue() : _typesPrimitiveType.UNDEFINED);

					case 24:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this, [[6, 10]]);
		}), 1, "eval");

		globalObject.define("eval", evalFunc);
	}
};

module.exports = exports["default"];

// hack because acorn throws syntax error
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9lY21hLTUuMS9nbG9iYWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX2VudlJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcmVmZXJlbmNlXCIpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXHR2YXIgb3B0aW9ucyA9IGVudi5vcHRpb25zO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJJbmZpbml0eVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShJbmZpbml0eSksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiTmFOXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKE5hTiksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdFtcInBhcnNlRmxvYXRcIiwgXCJkZWNvZGVVUklcIiwgXCJlbmNvZGVVUklcIiwgXCJkZWNvZGVVUklDb21wb25lbnRcIiwgXCJlbmNvZGVVUklDb21wb25lbnRcIiwgXCJlc2NhcGVcIiwgXCJ1bmVzY2FwZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0Z2xvYmFsT2JqZWN0LmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCh2YWx1ZSkge1xuXHRcdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgdmFsdWUpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShnbG9iYWxbbmFtZV0oc3RyaW5nVmFsdWUpKSk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIDEsIG5hbWUpKTtcblx0fSk7XG5cblx0W1wiaXNOYU5cIiwgXCJpc0Zpbml0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0Z2xvYmFsT2JqZWN0LmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgZ2xvYmFsW25hbWVdLCBuYW1lKSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJwYXJzZUludFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgcmFkaXgpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHJhZGl4LCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmFkaXggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocGFyc2VJbnQoc3RyaW5nVmFsdWUsIHJhZGl4KSkpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcInBhcnNlSW50XCIpKTtcblxuXHRpZiAob3B0aW9ucy5wYXJzZXIpIHtcblx0XHR2YXIgZXZhbEZ1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjb2RlKSB7XG5cdFx0XHR2YXIgZGlyZWN0Q2FsbCwgYXN0LCBzdHJpY3RTY29wZSwgc3RyaWN0Q29kZSwgY3VycmVudEdsb2JhbCwgc2NvcGUsIHRoaXNBcmcsIGV4ZWN1dGlvblJlc3VsdDtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRpZiAoY29kZSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0aWYgKCEoY29kZS50eXBlICE9PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29kZSk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRkaXJlY3RDYWxsID0gdGhpcy5jYWxsZWUgaW5zdGFuY2VvZiBfZW52UmVmZXJlbmNlLlJlZmVyZW5jZSAmJiB0aGlzLmNhbGxlZS5iYXNlID09PSBnbG9iYWxPYmplY3Q7XG5cdFx0XHRcdFx0XHRhc3QgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gNjtcblxuXHRcdFx0XHRcdFx0YXN0ID0gb3B0aW9ucy5wYXJzZXIoY29kZS52YWx1ZSk7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTA7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oNik7XG5cblx0XHRcdFx0XHRcdGlmICghKGNvbnRleHQkMiQwLnQwIGluc3RhbmNlb2YgU3ludGF4RXJyb3IgJiYgL2Fzc2lnbmluZyB0byBydmFsdWUvaS50ZXN0KGNvbnRleHQkMiQwLnQwLm1lc3NhZ2UpKSkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIGluIGFzc2lnbm1lbnRcIik7XG5cblx0XHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdFx0dGhyb3cgY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdFx0c3RyaWN0U2NvcGUgPSBlbnYuaXNTdHJpY3QoKTtcblx0XHRcdFx0XHRcdHN0cmljdENvZGUgPSBzdHJpY3RTY29wZSB8fCBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGFzdC5ib2R5KTtcblx0XHRcdFx0XHRcdGN1cnJlbnRHbG9iYWwgPSBlbnYuY3VycmVudC5zY29wZS5wYXJlbnQgPT09IGVudi5nbG9iYWxTY29wZS5zY29wZTtcblx0XHRcdFx0XHRcdHNjb3BlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0XHQvLyB1c2UgdGhlIHNhbWUgc2NvcGUgdW5sZXNzIHRoaXMgaXMgYW4gXCJpbmRpcmVjdFwiIGNhbGxcblx0XHRcdFx0XHRcdC8vIGluIHdoaWNoIGNhc2Ugd2UgdXNlIHRoZSBnbG9iYWwgc2NvcGVcblx0XHRcdFx0XHRcdGlmIChkaXJlY3RDYWxsKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChzdHJpY3RDb2RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChzdHJpY3RTY29wZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IGN1cnJlbnRHbG9iYWwgPyBnbG9iYWxPYmplY3QgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IGVudi5nZXRUaGlzQmluZGluZygpIHx8IGdsb2JhbE9iamVjdDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVTY29wZSh0aGlzQXJnKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5zZXRTY29wZShlbnYuY3VycmVudC5zY29wZS5wYXJlbnQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5zZXRTY29wZShlbnYuZ2xvYmFsU2NvcGUuc2NvcGUpO1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0Q29kZSkge1xuXHRcdFx0XHRcdFx0XHRcdHNjb3BlID0gZW52LmNyZWF0ZVNjb3BlKGdsb2JhbE9iamVjdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoYXN0KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQgPyBleGVjdXRpb25SZXN1bHQucmVzdWx0LmdldFZhbHVlKCkgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbNiwgMTBdXSk7XG5cdFx0fSksIDEsIFwiZXZhbFwiKTtcblxuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJldmFsXCIsIGV2YWxGdW5jKTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gaGFjayBiZWNhdXNlIGFjb3JuIHRocm93cyBzeW50YXggZXJyb3IiXX0=
},{"../env/reference":192,"../types/primitive-type":214,"../utils/contracts":222,"../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],176:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ecma51;

var _typesPrimitiveType = require("../types/primitive-type");

var _typesObjectFactory = require("../types/object-factory");

var _number = require("./number/");

var _number2 = _interopRequireDefault(_number);

var _string = require("./string/");

var _string2 = _interopRequireDefault(_string);

var _function = require("./function/");

var _function2 = _interopRequireDefault(_function);

var _object = require("./object/");

var _object2 = _interopRequireDefault(_object);

var _boolean = require("./boolean/");

var _boolean2 = _interopRequireDefault(_boolean);

var _date = require("./date/");

var _date2 = _interopRequireDefault(_date);

var _array = require("./array/");

var _array2 = _interopRequireDefault(_array);

var _math = require("./math/");

var _math2 = _interopRequireDefault(_math);

var _regex = require("./regex/");

var _regex2 = _interopRequireDefault(_regex);

var _error = require("./error/");

var _error2 = _interopRequireDefault(_error);

var _json = require("./json/");

var _json2 = _interopRequireDefault(_json);

var _console = require("./console/");

var _console2 = _interopRequireDefault(_console);

var _globals = require("./globals");

var _globals2 = _interopRequireDefault(_globals);

var frozen = { configurable: false, enumerable: false, writable: false };

function ecma51(env) {
	var objectFactory = env.objectFactory = new _typesObjectFactory.ObjectFactory(env);
	var globalObject = env.global = objectFactory.createObject();

	env.createObjectScope(globalObject);

	globalObject.define("undefined", _typesPrimitiveType.UNDEFINED, frozen);
	globalObject.define("null", _typesPrimitiveType.NULL, frozen);

	// todo: node vs browser - do we care?
	globalObject.define("window", globalObject, frozen);

	(0, _function2["default"])(env);
	(0, _object2["default"])(env);
	(0, _array2["default"])(env);
	(0, _boolean2["default"])(env);
	(0, _number2["default"])(env);
	(0, _string2["default"])(env);
	(0, _date2["default"])(env);
	(0, _regex2["default"])(env);
	(0, _math2["default"])(env);
	(0, _error2["default"])(env);
	(0, _json2["default"])(env);
	(0, _console2["default"])(env);
	(0, _globals2["default"])(env);
}

module.exports = exports["default"];
},{"../types/object-factory":212,"../types/primitive-type":214,"./array/":169,"./boolean/":170,"./console/":171,"./date/":172,"./error/":173,"./function/":174,"./globals":175,"./json/":177,"./math/":178,"./number/":179,"./object/":180,"./regex/":181,"./string/":182,"babel-runtime/helpers/interop-require-default":20}],177:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = jsonApi;
var marked0$0 = [serializeObject, serializeArray, serialize, createReplacer, getSpacer, deserialize].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsNative = require("../../utils/native");

var _utilsAsync = require("../../utils/async");

var primitives = {
	"String": true,
	"Number": true,
	"Boolean": true,
	"Date": true
};

function formatValues(values, gap, depth) {
	if (values.length === 0) {
		return "";
	}

	if (!gap) {
		return values.join(",");
	}

	var indent = "\n" + gap.repeat(depth);
	var joinedValues = values.join(indent + ",");

	// remove indent on closing
	return indent + joinedValues + "\n" + gap.repeat(depth - 1);
}

function serializePrimitive(value) {
	return JSON.stringify(value);
}

function serializeObject(env, stack, obj, replacer, gap, depth) {
	var colon, values, value, prop;
	return _regeneratorRuntime.wrap(function serializeObject$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				colon = gap ? ": " : ":";
				values = [];
				value = undefined;
				context$1$0.t0 = _regeneratorRuntime.keys(obj.properties);

			case 4:
				if ((context$1$0.t1 = context$1$0.t0()).done) {
					context$1$0.next = 20;
					break;
				}

				prop = context$1$0.t1.value;

				if (!obj.properties[prop].enumerable) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.next = 9;
				return replacer(obj, prop, obj.getValue(prop));

			case 9:
				value = context$1$0.sent;

				if (contracts.isNullOrUndefined(value)) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.t2 = values;
				context$1$0.t3 = serializePrimitive(prop) + colon;
				context$1$0.next = 15;
				return serialize(env, stack, value, replacer, gap, depth);

			case 15:
				context$1$0.t4 = context$1$0.sent;
				context$1$0.t5 = context$1$0.t3 + context$1$0.t4;
				context$1$0.t2.push.call(context$1$0.t2, context$1$0.t5);

			case 18:
				context$1$0.next = 4;
				break;

			case 20:
				return context$1$0.abrupt("return", "{" + formatValues(values, gap, depth, gap, depth) + "}");

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function serializeArray(env, stack, arr, replacer, gap, depth) {
	var length, values, i, value;
	return _regeneratorRuntime.wrap(function serializeArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				length = arr.getValue("length").toNative();
				values = [];
				i = 0;

			case 3:
				if (!(i < length)) {
					context$1$0.next = 21;
					break;
				}

				value = undefined;

				if (!arr.hasProperty(i)) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 8;
				return replacer(arr, String(i), arr.getValue(i));

			case 8:
				value = context$1$0.sent;

			case 9:
				if (!contracts.isNullOrUndefined(value)) {
					context$1$0.next = 13;
					break;
				}

				// undefined positions are replaced with null
				values.push("null");
				context$1$0.next = 18;
				break;

			case 13:
				context$1$0.t0 = values;
				context$1$0.next = 16;
				return serialize(env, stack, value, replacer);

			case 16:
				context$1$0.t1 = context$1$0.sent;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t1);

			case 18:
				i++;
				context$1$0.next = 3;
				break;

			case 21:
				return context$1$0.abrupt("return", "[" + formatValues(values, gap, depth) + "]");

			case 22:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function serialize(env, stack, obj, replacer, gap, depth) {
	var jsonString, jsonResult;
	return _regeneratorRuntime.wrap(function serialize$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (obj) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive());

			case 2:
				if (!(obj.isPrimitive || obj.className in primitives)) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive(obj.value));

			case 4:
				if (!(obj.className === "Function")) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", undefined);

			case 6:
				context$1$0.next = 8;
				return (0, _utilsFunc.tryExecute)(env, obj, "toJSON");

			case 8:
				jsonString = context$1$0.sent;

				if (!jsonString) {
					context$1$0.next = 11;
					break;
				}

				return context$1$0.abrupt("return", serializePrimitive(jsonString.value));

			case 11:
				if (!(stack.indexOf(obj) >= 0)) {
					context$1$0.next = 13;
					break;
				}

				throw new TypeError("Converting circular structure to JSON");

			case 13:

				depth++;
				stack.push(obj);

				jsonResult = undefined;

				if (!(obj.className === "Array")) {
					context$1$0.next = 22;
					break;
				}

				context$1$0.next = 19;
				return serializeArray(env, stack, obj, replacer);

			case 19:
				jsonResult = context$1$0.sent;
				context$1$0.next = 25;
				break;

			case 22:
				context$1$0.next = 24;
				return serializeObject(env, stack, obj, replacer, gap, depth);

			case 24:
				jsonResult = context$1$0.sent;

			case 25:

				depth--;
				stack.pop();
				return context$1$0.abrupt("return", jsonResult);

			case 28:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function createReplacer(env, replacer) {
	var _ret;

	return _regeneratorRuntime.wrap(function createReplacer$(context$1$0) {
		var _this = this;

		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!replacer) {
					context$1$0.next = 8;
					break;
				}

				if (!(replacer.className === "Function")) {
					context$1$0.next = 3;
					break;
				}

				return context$1$0.abrupt("return", _regeneratorRuntime.mark(function callee$1$0(holder, key, value) {
					var args, params, callee;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								args = [env.objectFactory.createPrimitive(key), value];
								params = replacer.native ? [] : replacer.node.params;
								callee = replacer.native ? replacer : replacer.node;
								context$2$0.next = 5;
								return (0, _utilsFunc.execute)(env, replacer, params, args, holder, callee);

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				if (!(replacer.className === "Array")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(_regeneratorRuntime.mark(function callee$1$0() {
					var keys;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								return context$2$0.delegateYield((0, _utilsAsync.map)((0, _utilsNative.toArray)(replacer), _regeneratorRuntime.mark(function callee$2$0(arg) {
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												if (!(arg.className === "String")) {
													context$3$0.next = 4;
													break;
												}

												context$3$0.next = 3;
												return (0, _utilsNative.toString)(env, arg);

											case 3:
												return context$3$0.abrupt("return", context$3$0.sent);

											case 4:
												if (!(arg.className === "Number")) {
													context$3$0.next = 9;
													break;
												}

												context$3$0.next = 7;
												return (0, _utilsNative.toNumber)(env, arg);

											case 7:
												context$3$0.t0 = context$3$0.sent;
												return context$3$0.abrupt("return", String(context$3$0.t0));

											case 9:
												return context$3$0.abrupt("return", undefined);

											case 10:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, this);
								})), "t0", 1);

							case 1:
								keys = context$2$0.t0;
								return context$2$0.abrupt("return", {
									v: function (holder, key, value) {
										// allow empty key - this will be from the root
										if (!key || keys.indexOf(key) >= 0) {
											return value;
										}

										return undefined;
									}
								});

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, _this);
				})(), "t0", 5);

			case 5:
				_ret = context$1$0.t0;

				if (!(typeof _ret === "object")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.abrupt("return", _ret.v);

			case 8:
				return context$1$0.abrupt("return", function (holder, key, value) {
					return value;
				});

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function getSpacer(env, spacer) {
	var count, gap;
	return _regeneratorRuntime.wrap(function getSpacer$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!spacer) {
					context$1$0.next = 16;
					break;
				}

				if (!(spacer.className === "Number")) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.t0 = Math;
				context$1$0.next = 5;
				return (0, _utilsNative.toNumber)(env, spacer);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				count = context$1$0.t0.floor.call(context$1$0.t0, context$1$0.t1);

				count = Math.max(Math.min(10, count), 0);

				if (!(count > 0)) {
					context$1$0.next = 10;
					break;
				}

				return context$1$0.abrupt("return", " ".repeat(count));

			case 10:
				return context$1$0.abrupt("return", "");

			case 11:
				if (!(spacer.className === "String")) {
					context$1$0.next = 16;
					break;
				}

				context$1$0.next = 14;
				return (0, _utilsNative.toString)(env, spacer);

			case 14:
				gap = context$1$0.sent;
				return context$1$0.abrupt("return", gap.substr(0, 10));

			case 16:
				return context$1$0.abrupt("return", "");

			case 17:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function deserialize(env, value, reviver) {
	var objectFactory, valueType, arr, i, ln, element, elementValue, obj, propValue, prop;
	return _regeneratorRuntime.wrap(function deserialize$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = env.objectFactory;
				valueType = contracts.getType(value);
				context$1$0.t0 = valueType;
				context$1$0.next = context$1$0.t0 === "Undefined" ? 5 : context$1$0.t0 === "Null" ? 5 : context$1$0.t0 === "String" ? 5 : context$1$0.t0 === "Number" ? 5 : context$1$0.t0 === "Boolean" ? 5 : context$1$0.t0 === "Array" ? 6 : 31;
				break;

			case 5:
				return context$1$0.abrupt("return", objectFactory.create(valueType, value));

			case 6:
				arr = objectFactory.create("Array");
				i = 0, ln = value.length;

			case 8:
				if (!(i < ln)) {
					context$1$0.next = 30;
					break;
				}

				element = value[i];
				context$1$0.t1 = arr;
				context$1$0.t2 = String(i);
				context$1$0.next = 14;
				return deserialize(env, element, reviver);

			case 14:
				context$1$0.t3 = context$1$0.sent;
				context$1$0.next = 17;
				return reviver(context$1$0.t1, context$1$0.t2, context$1$0.t3);

			case 17:
				elementValue = context$1$0.sent;

				if (contracts.isUndefined(elementValue)) {
					context$1$0.next = 27;
					break;
				}

				context$1$0.t4 = arr;
				context$1$0.t5 = i;
				context$1$0.next = 23;
				return deserialize(env, element);

			case 23:
				context$1$0.t6 = context$1$0.sent;
				context$1$0.t7 = {
					value: context$1$0.t6,
					configurable: true,
					enumerable: true,
					writable: true
				};
				context$1$0.t8 = env;
				context$1$0.t4.defineOwnProperty.call(context$1$0.t4, context$1$0.t5, context$1$0.t7, true, context$1$0.t8);

			case 27:
				i++;
				context$1$0.next = 8;
				break;

			case 30:
				return context$1$0.abrupt("return", arr);

			case 31:
				obj = objectFactory.createObject();
				propValue = undefined;
				context$1$0.t9 = _regeneratorRuntime.keys(value);

			case 34:
				if ((context$1$0.t10 = context$1$0.t9()).done) {
					context$1$0.next = 48;
					break;
				}

				prop = context$1$0.t10.value;

				if (!value.hasOwnProperty(prop)) {
					context$1$0.next = 46;
					break;
				}

				context$1$0.t11 = obj;
				context$1$0.t12 = prop;
				context$1$0.next = 41;
				return deserialize(env, value[prop], reviver);

			case 41:
				context$1$0.t13 = context$1$0.sent;
				context$1$0.next = 44;
				return reviver(context$1$0.t11, context$1$0.t12, context$1$0.t13);

			case 44:
				propValue = context$1$0.sent;

				if (!contracts.isUndefined(propValue)) {
					obj.defineOwnProperty(prop, { value: propValue, configurable: true, enumerable: true, writable: true }, true, env);
				}

			case 46:
				context$1$0.next = 34;
				break;

			case 48:
				return context$1$0.abrupt("return", obj);

			case 49:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function createReviver(env, reviver) {
	if (reviver && reviver.className === "Function") {
		return _regeneratorRuntime.mark(function callee$1$0(holder, key, value) {
			var args, params, callee;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						args = [env.objectFactory.createPrimitive(key), value];
						params = reviver.native ? [] : reviver.node.params;
						callee = reviver.native ? reviver : reviver.node;
						return context$2$0.delegateYield((0, _utilsFunc.execute)(env, reviver, params, args, holder, callee), "t0", 4);

					case 4:
						return context$2$0.abrupt("return", context$2$0.t0);

					case 5:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	return function (holder, key, value) {
		return value;
	};
}

function jsonApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var jsonClass = objectFactory.createObject();
	jsonClass.className = "JSON";

	jsonClass.define("stringify", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, replacer, spacer) {
		var stack;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return createReplacer(env, replacer);

				case 2:
					replacer = context$2$0.sent;
					context$2$0.next = 5;
					return getSpacer(env, spacer);

				case 5:
					spacer = context$2$0.sent;
					context$2$0.next = 8;
					return replacer(obj, "", obj);

				case 8:
					obj = context$2$0.sent;

					if (!contracts.isUndefined(obj)) {
						context$2$0.next = 11;
						break;
					}

					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 11:
					stack = [];
					context$2$0.t0 = objectFactory;
					context$2$0.next = 15;
					return serialize(env, stack, obj, replacer, spacer, 0);

				case 15:
					context$2$0.t1 = context$2$0.sent;
					return context$2$0.abrupt("return", context$2$0.t0.createPrimitive.call(context$2$0.t0, context$2$0.t1));

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "JSON.stringify"));

	jsonClass.define("parse", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str, reviver) {
		var stringValue, parsedObject, deserializedObject;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					reviver = createReviver(env, reviver);

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(env, str);

				case 3:
					stringValue = context$2$0.sent;
					parsedObject = JSON.parse(stringValue);
					context$2$0.next = 7;
					return deserialize(env, parsedObject, reviver);

				case 7:
					deserializedObject = context$2$0.sent;
					context$2$0.next = 10;
					return reviver(deserializedObject, "", deserializedObject) || _typesPrimitiveType.UNDEFINED;

				case 10:
					return context$2$0.abrupt("return", context$2$0.sent);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "JSON.parse"));

	globalObject.define("JSON", jsonClass);
}

module.exports = exports["default"];

// these are the only types supported by JSON.parse - sad face...

// run at the top value
},{"../../types/primitive-type":214,"../../utils/async":221,"../../utils/contracts":222,"../../utils/func":223,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],178:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = mathApi;

var _utilsNative = require("../../utils/native");

var constants = ["E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"];
var methods = ["abs", "acos", "asin", "atan", "atan2", "ceil", "cos", "exp", "floor", "log", "max", "min", "pow", "random", "round", "sin", "sqrt", "tan"];

function mathApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var mathClass = objectFactory.createObject();
	mathClass.className = "Math";

	constants.forEach(function (name) {
		mathClass.define(name, objectFactory.createPrimitive(Math[name]), { configurable: false, enumerable: false, writable: false });
	});

	methods.forEach(function (name) {
		mathClass.define(name, (0, _utilsNative.toNativeFunction)(env, Math[name], "Math." + name));
	});

	globalObject.define("Math", mathClass);
}

module.exports = exports["default"];
},{"../../utils/native":224}],179:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = numberApi;

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var constants = ["MAX_VALUE", "MIN_VALUE", "NaN", "NEGATIVE_INFINITY", "POSITIVE_INFINITY"];
var protoMethods = ["toExponential", "toPrecision", "toLocaleString"];

function numberApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var numberClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(obj) {
		var numberValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toPrimitive)(env, obj, "number");

				case 2:
					context$2$0.t0 = context$2$0.sent;
					numberValue = Number(context$2$0.t0);

					if (!this.isNew) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, numberValue));

				case 6:
					return context$2$0.abrupt("return", objectFactory.create("Number", numberValue));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = numberClass.getValue("prototype");
	proto.className = "Number";
	proto.value = 0;

	proto.define("toString", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(radix) {
		var radixValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.toString");

					radixValue = 10;

					if (!radix) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toPrimitive)(env, radix, "number");

				case 5:
					radixValue = context$2$0.sent;

					if (!(radixValue < 2 || radixValue > 36)) {
						context$2$0.next = 8;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new RangeError("toString() radix argument must be between 2 and 36")));

				case 8:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(this.node.value == null ? "0" : this.node.value.toString(radixValue)));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toString"));

	proto.define("toFixed", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(fractionDigits) {
		var digits;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.toFixed");

					digits = 0;

					if (!fractionDigits) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 5;
					return (0, _utilsNative.toNumber)(env, fractionDigits);

				case 5:
					digits = context$2$0.sent;

				case 6:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(Number.prototype.toFixed.call(this.node.value, digits)));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.prototype.toFixed"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "Number", "Number.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value == null ? 0 : this.node.value);
	}, 0, "Number.prototype.valueOf"));

	constants.forEach(function (name) {
		numberClass.define(name, objectFactory.createPrimitive(Number[name]), { configurable: false, enumerable: false, writable: false });
	});

	protoMethods.forEach(function (name) {
		var fn = Number.prototype[name];
		if (fn) {
			(function () {
				var methodName = "Number.prototype." + name;
				proto.define(name, objectFactory.createBuiltInFunction(function () {
					contracts.assertIsNotGeneric(this.node, "Number", methodName);
					return objectFactory.createPrimitive(fn.call(this.node.value));
				}, fn.length, methodName));
			})();
		}
	});

	globalObject.define("Number", numberClass);
}

module.exports = exports["default"];
},{"../../utils/contracts":222,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],180:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = objectApi;
var marked0$0 = [defineProperty].map(_regeneratorRuntime.mark);

var _typesObjectType = require("../../types/object-type");

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

function isObject(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isPrimitive) {
		return obj.value && obj.type === "object";
	}

	return true;
}

function defineProperty(env, obj, name, descriptor) {
	var stringValue, options;
	return _regeneratorRuntime.wrap(function defineProperty$(context$1$0) {
		var _this2 = this;

		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (isObject(descriptor)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return (0, _utilsNative.toString)(env, descriptor);

			case 3:
				stringValue = context$1$0.sent;
				throw new TypeError("Property description must be an object: " + stringValue);

			case 5:
				options = {};

				if (!descriptor) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.delegateYield(_regeneratorRuntime.mark(function callee$1$0() {
					var hasValue, hasGetter, hasSetter, currentScope;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						var _this = this;

						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								hasValue = descriptor.hasProperty("value");
								hasGetter = descriptor.hasProperty("get");
								hasSetter = descriptor.hasProperty("set");

								if (!((hasValue || descriptor.hasProperty("writable")) && (hasGetter || hasSetter))) {
									context$2$0.next = 5;
									break;
								}

								throw new TypeError("Invalid property. A property cannot both have accessors and be writable or have a value");

							case 5:

								["writable", "enumerable", "configurable"].forEach(function (prop) {
									if (descriptor.hasProperty(prop)) {
										var attrValue = descriptor.getValue(prop);
										options[prop] = (0, _utilsNative.toBoolean)(attrValue);
									}
								});

								currentScope = env.current.scope;

								if (!hasGetter) {
									context$2$0.next = 9;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var getter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												getter = descriptor.getValue("get") || _typesPrimitiveType.UNDEFINED;

												if (!(getter.isPrimitive && getter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.get = options.getter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(getter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(env, getter);

											case 8:
												stringValue = context$3$0.sent;
												throw new TypeError("Getter must be a function: " + stringValue);

											case 10:

												options.get = getter;
												options.getter = _regeneratorRuntime.mark(function callee$3$0() {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = getter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	var getResult;
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return (0, _utilsFunc.call)(env, getter, getter.node.params, [], thisArg, getter.node);

																			case 2:
																				getResult = context$5$0.sent;
																				return context$5$0.abrupt("return", getResult && getResult.exit ? getResult.result.getValue() : _typesPrimitiveType.UNDEFINED);

																			case 4:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t0", 9);

							case 9:
								if (!hasSetter) {
									context$2$0.next = 11;
									break;
								}

								return context$2$0.delegateYield(_regeneratorRuntime.mark(function callee$2$0() {
									var setter, stringValue;
									return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
										while (1) switch (context$3$0.prev = context$3$0.next) {
											case 0:
												setter = descriptor.getValue("set") || _typesPrimitiveType.UNDEFINED;

												if (!(setter.isPrimitive && setter.value === undefined)) {
													context$3$0.next = 5;
													break;
												}

												options.set = options.setter = undefined;
												context$3$0.next = 12;
												break;

											case 5:
												if (!(setter.className !== "Function")) {
													context$3$0.next = 10;
													break;
												}

												context$3$0.next = 8;
												return (0, _utilsNative.toString)(env, setter);

											case 8:
												stringValue = context$3$0.sent;
												throw new TypeError("Setter must be a function: " + stringValue);

											case 10:

												options.set = setter;
												options.setter = _regeneratorRuntime.mark(function callee$3$0(value) {
													var scope, thisArg;
													return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
														while (1) switch (context$4$0.prev = context$4$0.next) {
															case 0:
																scope = env.setScope(currentScope);
																thisArg = setter.isStrict() ? this : (0, _utilsNative.toObject)(env, this);
																context$4$0.next = 4;
																return scope.use(_regeneratorRuntime.mark(function callee$4$0() {
																	return _regeneratorRuntime.wrap(function callee$4$0$(context$5$0) {
																		while (1) switch (context$5$0.prev = context$5$0.next) {
																			case 0:
																				context$5$0.next = 2;
																				return (0, _utilsFunc.execute)(env, setter, setter.node.params, [value], thisArg, setter.node);

																			case 2:
																				return context$5$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

																			case 3:
																			case "end":
																				return context$5$0.stop();
																		}
																	}, callee$4$0, this);
																}));

															case 4:
																return context$4$0.abrupt("return", context$4$0.sent);

															case 5:
															case "end":
																return context$4$0.stop();
														}
													}, callee$3$0, this);
												});

											case 12:
											case "end":
												return context$3$0.stop();
										}
									}, callee$2$0, _this);
								})(), "t1", 11);

							case 11:

								if (hasValue) {
									options.value = descriptor.getValue("value") || _typesPrimitiveType.UNDEFINED;
								}

							case 12:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, _this2);
				})(), "t0", 8);

			case 8:

				obj.defineOwnProperty(name, options, true, env);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function objectApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var proto = new _typesObjectType.ObjectType();
	var objectClass = objectFactory.createFunction(function (value) {
		if (value) {
			if (value.isPrimitive) {
				if (value.value == null) {
					return objectFactory.createObject();
				}

				var objectWrapper = objectFactory.createPrimitive(value.value);
				objectWrapper.type = "object";
				objectWrapper.isPrimitive = false;
				return objectWrapper;
			}

			// if an object is passed in just return
			return value;
		}

		return objectFactory.createObject();
	}, proto, { configurable: false, enumerable: false, writable: false });

	proto.define("hasOwnProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(name) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, name);

				case 2:
					name = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(name in this.node.properties));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.prototype.hasOwnProperty"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		return (0, _utilsNative.toObject)(env, this.node);
	}, 0, "Object.prototype.valueOf"));

	var toStringFunc = objectFactory.createBuiltInFunction(function () {
		var className = this.node ? this.node.className : "Undefined";
		return objectFactory.createPrimitive("[object " + className + "]");
	}, 0, "Object.prototype.toString");

	// Object.prototype.toString === Object.prototype.toLocaleString
	proto.define("toString", toStringFunc);
	proto.define("toLocaleString", toStringFunc);

	proto.define("isPrototypeOf", objectFactory.createBuiltInFunction(function (obj) {
		var current = obj;
		while (current) {
			if (this.node === current) {
				return objectFactory.createPrimitive(true);
			}

			current = current.getPrototype();
		}

		return objectFactory.createPrimitive(false);
	}, 1, "Object.isPrototypeOf"));

	proto.define("propertyIsEnumerable", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(name) {
		var descriptor;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, name);

				case 2:
					name = context$2$0.sent;
					descriptor = this.node.getOwnProperty(name);
					return context$2$0.abrupt("return", objectFactory.createPrimitive(!!(descriptor && descriptor.enumerable)));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Object.propertyIsEnumerable"));

	objectClass.define("create", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(parent, descriptors) {
		var stringValue, obj, prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(parent && parent.isPrimitive && parent.value !== null)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(env, parent);

				case 3:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", this.raise(new TypeError("Object prototype may only be an Object or null: " + stringValue)));

				case 5:
					if (!(descriptors && descriptors.isPrimitive && descriptors.value === null)) {
						context$2$0.next = 7;
						break;
					}

					return context$2$0.abrupt("return", this.raise(new TypeError("Cannot convert null or undefined to object")));

				case 7:
					obj = objectFactory.createObject();

					if (parent) {
						obj.setPrototype(parent);
					}

					if (!descriptors) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 11:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 18;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.next = 16;
					return defineProperty(env, obj, prop, descriptors.getValue(prop));

				case 16:
					context$2$0.next = 11;
					break;

				case 18:
					return context$2$0.abrupt("return", obj);

				case 19:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.create"));

	objectClass.define("defineProperty", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, prop, descriptor) {
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(obj, "Object.defineProperty");

					context$2$0.t0 = env;
					context$2$0.t1 = obj;
					context$2$0.next = 5;
					return (0, _utilsNative.toString)(env, prop);

				case 5:
					context$2$0.t2 = context$2$0.sent;
					context$2$0.t3 = descriptor;
					context$2$0.next = 9;
					return defineProperty(context$2$0.t0, context$2$0.t1, context$2$0.t2, context$2$0.t3);

				case 9:
					return context$2$0.abrupt("return", obj);

				case 10:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 3, "Object.defineProperty"));

	objectClass.define("defineProperties", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, descriptors) {
		var prop;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(obj, "Object.defineProperties");
					contracts.assertArgIsNotNullOrUndefined(descriptors);

					context$2$0.t0 = _regeneratorRuntime.keys(descriptors.properties);

				case 3:
					if ((context$2$0.t1 = context$2$0.t0()).done) {
						context$2$0.next = 10;
						break;
					}

					prop = context$2$0.t1.value;

					if (!descriptors.properties[prop].enumerable) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.next = 8;
					return defineProperty(env, obj, prop, descriptors.getValue(prop));

				case 8:
					context$2$0.next = 3;
					break;

				case 10:
					return context$2$0.abrupt("return", obj);

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.defineProperties"));

	objectClass.define("getOwnPropertyDescriptor", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(obj, key) {
		var descriptor, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsObject(obj, "Object.getOwnPropertyDescriptor");

					if (!(!key || !key.isSymbol)) {
						context$2$0.next = 5;
						break;
					}

					context$2$0.next = 4;
					return (0, _utilsNative.toString)(env, key);

				case 4:
					key = context$2$0.sent;

				case 5:
					if (!obj.hasOwnProperty(key)) {
						context$2$0.next = 12;
						break;
					}

					descriptor = obj.getProperty(key);
					result = objectFactory.createObject();

					result.putValue("configurable", objectFactory.createPrimitive(descriptor.configurable), false, env);
					result.putValue("enumerable", objectFactory.createPrimitive(descriptor.enumerable), false, env);

					if (descriptor.dataProperty) {
						result.putValue("value", descriptor.value, false, env);
						result.putValue("writable", objectFactory.createPrimitive(descriptor.writable), false, env);
					} else {
						result.putValue("get", descriptor.get || _typesPrimitiveType.UNDEFINED, false, env);
						result.putValue("set", descriptor.set || _typesPrimitiveType.UNDEFINED, false, env);
					}

					return context$2$0.abrupt("return", result);

				case 12:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 13:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Object.getOwnPropertyDescriptor"));

	objectClass.define("keys", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj);

		var arr = objectFactory.create("Array");
		var index = 0;

		for (var _name in obj.properties) {
			if (obj.properties[_name].enumerable) {
				var value = objectFactory.createPrimitive(_name);
				arr.defineOwnProperty(index++, { configurable: true, enumerable: true, writable: true, value: value }, false, env);
			}
		}

		return arr;
	}, 1, "Object.keys"));

	objectClass.define("getOwnPropertyNames", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.getOwnPropertyNames");

		var arr = objectFactory.create("Array");
		obj.getOwnPropertyNames().forEach(function (name, index) {
			arr.putValue(index, objectFactory.createPrimitive(name), true, env);
		});

		return arr;
	}, 1, "Object.getOwnPropertyNames"));

	objectClass.define("getPrototypeOf", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.getPrototypeOf");

		var objProto = obj.getPrototype();
		return objProto || _typesPrimitiveType.NULL;
	}, 1, "Object.getPrototypeOf"));

	objectClass.define("freeze", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.freeze");
		obj.freeze();
		return obj;
	}, 1, "Object.freeze"));

	objectClass.define("isFrozen", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.isFrozen");

		if (obj.isPrimitive) {
			return objectFactory.createPrimitive(true);
		}

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].writable || obj.properties[prop].configurable) {
					return objectFactory.createPrimitive(false);
				}
			}
		}

		return objectFactory.createPrimitive(!obj.extensible);
	}, 1, "Object.isFrozen"));

	objectClass.define("preventExtensions", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.preventExtensions");

		obj.preventExtensions();
		return obj;
	}, 1, "Object.preventExtensions"));

	objectClass.define("isExtensible", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.isExtensible");

		return objectFactory.createPrimitive(obj.extensible);
	}, 1, "Object.isExtensible"));

	objectClass.define("seal", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.seal");

		obj.seal();
		return obj;
	}, 1, "Object.seal"));

	objectClass.define("isSealed", objectFactory.createBuiltInFunction(function (obj) {
		contracts.assertIsObject(obj, "Object.isSealed");

		if (!obj.extensible) {
			for (var prop in obj.properties) {
				if (obj.properties[prop].configurable) {
					return objectFactory.createPrimitive(false);
				}
			}
		}

		return objectFactory.createPrimitive(!obj.extensible);
	}, 1, "Object.isSealed"));

	// function is an object - make sure that it is in the prototype chain
	globalObject.getValue("Function").getPrototype().setPrototype(proto);
	globalObject.define("Object", objectClass);
}

module.exports = exports["default"];

// we only keep a copy of the original getter/setter for use with `getOwnPropertyDescriptor`
},{"../../types/object-type":213,"../../types/primitive-type":214,"../../utils/contracts":222,"../../utils/func":223,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],181:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = regexApi;

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function regexApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var regexClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(pattern, flags) {
		var patternString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(pattern && pattern.className === "RegExp")) {
						context$2$0.next = 4;
						break;
					}

					if (!contracts.isUndefined(flags)) {
						context$2$0.next = 3;
						break;
					}

					return context$2$0.abrupt("return", pattern);

				case 3:
					return context$2$0.abrupt("return", this.raise(new TypeError("Cannot supply flags when constructing one RegExp from another")));

				case 4:
					if (!contracts.isUndefined(pattern)) {
						context$2$0.next = 8;
						break;
					}

					context$2$0.t0 = "";
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(env, pattern);

				case 10:
					context$2$0.t0 = context$2$0.sent;

				case 11:
					patternString = context$2$0.t0;

					if (!contracts.isUndefined(flags)) {
						context$2$0.next = 16;
						break;
					}

					context$2$0.t1 = "";
					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(env, flags);

				case 18:
					context$2$0.t1 = context$2$0.sent;

				case 19:
					flags = context$2$0.t1;
					return context$2$0.abrupt("return", objectFactory.create("RegExp", new RegExp(patternString, flags)));

				case 21:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = regexClass.getValue("prototype");
	proto.className = "RegExp";

	proto.define("test", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
		var stringValue, testValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, str);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInt32)(env, this.node.getValue("lastIndex"));

				case 5:
					this.node.source.lastIndex = context$2$0.sent;
					testValue = this.node.source.test(stringValue);

					this.node.putValue("lastIndex", objectFactory.createPrimitive(this.node.source.lastIndex), true, env);

					return context$2$0.abrupt("return", objectFactory.createPrimitive(testValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "RegExp.prototype.test"));

	proto.define("exec", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(str) {
		var stringValue, match, arr, i, ln;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, str);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInt32)(env, this.node.getValue("lastIndex"));

				case 5:
					this.node.source.lastIndex = context$2$0.sent;
					match = this.node.source.exec(stringValue);

					// update the last index from the underlying regex
					this.node.putValue("lastIndex", objectFactory.createPrimitive(this.node.source.lastIndex), true, env);

					if (!match) {
						context$2$0.next = 14;
						break;
					}

					arr = objectFactory.create("Array");

					for (i = 0, ln = match.length; i < ln; i++) {
						arr.putValue(i, objectFactory.createPrimitive(match[i]), true, env);
					}

					// extra properties are added to the array
					arr.putValue("index", objectFactory.createPrimitive(match.index), false, env);
					arr.putValue("input", objectFactory.createPrimitive(match.input), false, env);
					return context$2$0.abrupt("return", arr);

				case 14:
					return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "RegExp.prototype.exec"));

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		return objectFactory.createPrimitive(String(this.node.source));
	}, 0, "RegExp.prototype.toString"));

	proto.define("compile", (0, _utilsNative.toNativeFunction)(env, RegExp.prototype.compile, "RegExp.prototype.compile"));
	proto.defineOwnProperty("lastIndex", { value: objectFactory.createPrimitive(0), writable: true });

	["global", "ignoreCase", "multiline", "source"].forEach(function (name) {
		proto.defineOwnProperty(name, { value: objectFactory.createPrimitive(RegExp.prototype[name]) });
	});

	globalObject.define("RegExp", regexClass);
}

module.exports = exports["default"];

// update underlying regex in case the index was manually updated

// get match from underlying regex
},{"../../types/primitive-type":214,"../../utils/contracts":222,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],182:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = stringApi;

var _typesPrimitiveType = require("../../types/primitive-type");

var _utilsNative = require("../../utils/native");

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsFunc = require("../../utils/func");

var _utilsAsync = require("../../utils/async");

var protoMethods = ["charAt", "charCodeAt", "concat", "indexOf", "lastIndexOf", "localeCompare", "substr", "toLocaleLowerCase", "toLocaleUpperCase", "toLowerCase", "toUpperCase"];
var slice = Array.prototype.slice;

function stringApi(env) {
	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var stringClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!value) {
						context$2$0.next = 6;
						break;
					}

					context$2$0.next = 3;
					return (0, _utilsNative.toString)(env, value.getValue());

				case 3:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 7;
					break;

				case 6:
					context$2$0.t0 = "";

				case 7:
					stringValue = context$2$0.t0;

					if (!this.isNew) {
						context$2$0.next = 10;
						break;
					}

					return context$2$0.abrupt("return", (0, _utilsNative.primitiveToObject)(env, stringValue));

				case 10:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue));

				case 11:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), null, { configurable: false, enumerable: false, writable: false });

	var proto = stringClass.getValue("prototype");

	// prototype can be coerced into an empty string
	proto.value = "";
	proto.className = "String";
	proto.defineOwnProperty("length", { value: objectFactory.createPrimitive(0) });

	proto.define("search", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, underlyingRegex;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					underlyingRegex = undefined;

					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					if (!(regex.className === "RegExp")) {
						context$2$0.next = 9;
						break;
					}

					underlyingRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 9:
					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toString)(env, regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					underlyingRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.search(underlyingRegex)));

				case 15:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.search"));

	proto.define("substring", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var value, length;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotConstructor(this, "substring");

					context$2$0.next = 3;
					return (0, _utilsNative.toPrimitive)(env, this.node, "string");

				case 3:
					value = context$2$0.sent;
					length = value.length;
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, start);

				case 7:
					start = context$2$0.sent;

					if (!contracts.isNullOrUndefined(end)) {
						context$2$0.next = 12;
						break;
					}

					context$2$0.t0 = length;
					context$2$0.next = 15;
					break;

				case 12:
					context$2$0.next = 14;
					return (0, _utilsNative.toInteger)(env, end);

				case 14:
					context$2$0.t0 = context$2$0.sent;

				case 15:
					end = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(value.substring(start, end)));

				case 17:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.substring"));

	protoMethods.forEach(function (name) {
		var fn = String.prototype[name];
		if (fn) {
			proto.define(name, objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$2$0() {
				var stringValue,
				    args,
				    args$3$0 = arguments;
				return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
					while (1) switch (context$3$0.prev = context$3$0.next) {
						case 0:
							context$3$0.next = 2;
							return (0, _utilsNative.toString)(env, this.node);

						case 2:
							stringValue = context$3$0.sent;
							return context$3$0.delegateYield((0, _utilsAsync.map)(args$3$0, _regeneratorRuntime.mark(function callee$3$0(arg) {
								return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
									while (1) switch (context$4$0.prev = context$4$0.next) {
										case 0:
											context$4$0.next = 2;
											return (0, _utilsNative.toPrimitive)(env, arg);

										case 2:
											return context$4$0.abrupt("return", context$4$0.sent);

										case 3:
										case "end":
											return context$4$0.stop();
									}
								}, callee$3$0, this);
							})), "t0", 4);

						case 4:
							args = context$3$0.t0;
							return context$3$0.abrupt("return", objectFactory.createPrimitive(String.prototype[name].apply(stringValue, args)));

						case 6:
						case "end":
							return context$3$0.stop();
					}
				}, callee$2$0, this);
			}), String.prototype[name].length, "String.prototype." + name));
		}
	});

	stringClass.define("fromCharCode", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		for (var _len = arguments.length, charCodes = Array(_len), _key = 0; _key < _len; _key++) {
			charCodes[_key] = arguments[_key];
		}

		var args;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					return context$2$0.delegateYield((0, _utilsAsync.map)(charCodes, _regeneratorRuntime.mark(function callee$2$0(arg) {
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									context$3$0.next = 2;
									return (0, _utilsNative.toPrimitive)(env, arg);

								case 2:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 3:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					})), "t0", 1);

				case 1:
					args = context$2$0.t0;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(String.fromCharCode.apply(null, args)));

				case 3:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.fromCharCode"));

	proto.define("slice", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(start, end) {
		var stringValue, startValue, endValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					context$2$0.next = 5;
					return (0, _utilsNative.toInteger)(env, start);

				case 5:
					startValue = context$2$0.sent;
					endValue = undefined;

					if (contracts.isNullOrUndefined(end)) {
						context$2$0.next = 11;
						break;
					}

					context$2$0.next = 10;
					return (0, _utilsNative.toInteger)(env, end);

				case 10:
					endValue = context$2$0.sent;

				case 11:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.slice(startValue, endValue)));

				case 12:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.slice"));

	proto.define("split", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(separator, limit) {
		var stringValue, limitValue, arr, separatorValue, result;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;

					separator = separator && separator.getValue();
					limit = limit && limit.getValue();

					if (!contracts.isUndefined(limit)) {
						context$2$0.next = 9;
						break;
					}

					context$2$0.t0 = undefined;
					context$2$0.next = 12;
					break;

				case 9:
					context$2$0.next = 11;
					return (0, _utilsNative.toUInt32)(env, limit);

				case 11:
					context$2$0.t0 = context$2$0.sent;

				case 12:
					limitValue = context$2$0.t0;
					arr = objectFactory.create("Array");

					if (!contracts.isUndefined(separator)) {
						context$2$0.next = 18;
						break;
					}

					arr.putValue(0, objectFactory.createPrimitive(stringValue), false, env);
					context$2$0.next = 28;
					break;

				case 18:
					separatorValue = undefined;

					if (!(separator.className === "RegExp")) {
						context$2$0.next = 23;
						break;
					}

					separatorValue = separator.source;
					context$2$0.next = 26;
					break;

				case 23:
					context$2$0.next = 25;
					return (0, _utilsNative.toString)(env, separator);

				case 25:
					separatorValue = context$2$0.sent;

				case 26:
					result = stringValue.split(separatorValue, limitValue);

					result.forEach(function (value, index) {
						arr.putValue(index, objectFactory.createPrimitive(value), false, env);
					});

				case 28:
					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.split"));

	proto.define("replace", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regexOrSubstr, substrOrFn) {
		var stringValue, matcher, replacer;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					matcher = undefined;

					if (!(regexOrSubstr && regexOrSubstr.className === "RegExp")) {
						context$2$0.next = 8;
						break;
					}

					matcher = regexOrSubstr.source;
					context$2$0.next = 11;
					break;

				case 8:
					context$2$0.next = 10;
					return (0, _utilsNative.toString)(env, regexOrSubstr);

				case 10:
					matcher = context$2$0.sent;

				case 11:
					replacer = undefined;

					if (!(substrOrFn && substrOrFn.type === "function")) {
						context$2$0.next = 16;
						break;
					}

					(function () {
						var callee = substrOrFn.native ? substrOrFn : substrOrFn.node;
						var params = callee.params || [];

						replacer = function () {
							var thisArg = substrOrFn.isStrict() || substrOrFn.isStrict() ? _typesPrimitiveType.UNDEFINED : globalObject;
							var args = slice.call(arguments).map(function (arg) {
								return objectFactory.createPrimitive(arg);
							});
							var replacedValue = (0, _utilsAsync.exhaust)((0, _utilsFunc.execute)(env, substrOrFn, params, args, thisArg, callee));
							return replacedValue ? (0, _utilsAsync.exhaust)((0, _utilsNative.toString)(env, replacedValue)) : undefined;
						};
					})();

					context$2$0.next = 19;
					break;

				case 16:
					context$2$0.next = 18;
					return (0, _utilsNative.toString)(env, substrOrFn);

				case 18:
					replacer = context$2$0.sent;

				case 19:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.replace(matcher, replacer)));

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "String.prototype.replace"));

	proto.define("match", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(regex) {
		var stringValue, actualRegex, match, _ret2;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, this.node);

				case 2:
					stringValue = context$2$0.sent;
					actualRegex = undefined;

					if (!(regex && regex.className === "RegExp")) {
						context$2$0.next = 8;
						break;
					}

					actualRegex = regex.source;
					context$2$0.next = 14;
					break;

				case 8:
					if (!regex) {
						context$2$0.next = 14;
						break;
					}

					context$2$0.t0 = RegExp;
					context$2$0.next = 12;
					return (0, _utilsNative.toPrimitive)(env, regex);

				case 12:
					context$2$0.t1 = context$2$0.sent;
					actualRegex = new context$2$0.t0(context$2$0.t1);

				case 14:
					match = stringValue.match(actualRegex);

					if (!match) {
						context$2$0.next = 19;
						break;
					}

					_ret2 = (function () {
						var matches = objectFactory.create("Array");

						match.forEach(function (value, index) {
							matches.putValue(index, objectFactory.createPrimitive(value), false, env);
						});

						matches.putValue("index", objectFactory.createPrimitive(match.index), false, env);
						matches.putValue("input", objectFactory.createPrimitive(match.input), false, env);
						return {
							v: matches
						};
					})();

					if (!(typeof _ret2 === "object")) {
						context$2$0.next = 19;
						break;
					}

					return context$2$0.abrupt("return", _ret2.v);

				case 19:
					return context$2$0.abrupt("return", _typesPrimitiveType.NULL);

				case 20:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "String.prototype.match"));

	proto.define("trim", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var stringValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					contracts.assertIsNotNullOrUndefined(this.node, "String.prototype.trim");

					context$2$0.next = 3;
					return (0, _utilsNative.toPrimitive)(env, this.node, "string");

				case 3:
					stringValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(stringValue.trim()));

				case 5:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 0, "String.prototype.trim"));

	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "String", "String.prototype.toString");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "String.prototype.toString"));

	proto.define("valueOf", objectFactory.createBuiltInFunction(function () {
		contracts.assertIsNotGeneric(this.node, "String", "String.prototype.valueOf");
		return objectFactory.createPrimitive(this.node.value);
	}, 0, "String.prototype.valueOf"));

	globalObject.define("String", stringClass);
}

module.exports = exports["default"];

// called as new
},{"../../types/primitive-type":214,"../../utils/async":221,"../../utils/contracts":222,"../../utils/func":223,"../../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],183:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../../types/primitive-type");

var _ecma51Array = require("../../ecma-5.1/array/");

var _utilsNative = require("../../utils/native");

var _iterators = require("../../iterators/");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsContracts = require("../../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

exports["default"] = function (env) {
	var objectFactory = env.objectFactory;
	var arrayClass = env.global.getValue("Array");
	var proto = arrayClass.getValue("prototype");

	function normalizeIndex(index, length) {
		if (index < 0) {
			return Math.max(length + index, 0);
		}

		return Math.min(index, length);
	}

	arrayClass.define("from", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(items, mapFn, thisArg) {
		var length, arr, index, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry, value;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toLength)(env, items);

				case 2:
					length = context$2$0.sent;
					arr = objectFactory.createArray();
					index = 0;
					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 8;
					_iterator = _getIterator(_iterators2["default"].forward(env, items, 0, length));

				case 10:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 21;
						break;
					}

					entry = _step.value;
					value = entry.value;

					if (!mapFn) {
						context$2$0.next = 17;
						break;
					}

					context$2$0.next = 16;
					return (0, _ecma51Array.executeCallback)(env, mapFn, entry, thisArg, items);

				case 16:
					value = context$2$0.sent;

				case 17:

					arr.putValue(index++, value, true, env);

				case 18:
					_iteratorNormalCompletion = true;
					context$2$0.next = 10;
					break;

				case 21:
					context$2$0.next = 27;
					break;

				case 23:
					context$2$0.prev = 23;
					context$2$0.t0 = context$2$0["catch"](8);
					_didIteratorError = true;
					_iteratorError = context$2$0.t0;

				case 27:
					context$2$0.prev = 27;
					context$2$0.prev = 28;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 30:
					context$2$0.prev = 30;

					if (!_didIteratorError) {
						context$2$0.next = 33;
						break;
					}

					throw _iteratorError;

				case 33:
					return context$2$0.finish(30);

				case 34:
					return context$2$0.finish(27);

				case 35:
					return context$2$0.abrupt("return", arr);

				case 36:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 23, 27, 35], [28,, 30, 34]]);
	}), 1, "Array.from"));

	proto.define("copyWithin", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(target, start, end) {
		var arr, length, to, from, final, count, dir, current;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;
					context$2$0.next = 6;
					return (0, _utilsNative.toInteger)(env, target);

				case 6:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.t1 = length;
					to = normalizeIndex(context$2$0.t0, context$2$0.t1);
					context$2$0.next = 11;
					return (0, _utilsNative.toInteger)(env, start);

				case 11:
					context$2$0.t2 = context$2$0.sent;
					context$2$0.t3 = length;
					from = normalizeIndex(context$2$0.t2, context$2$0.t3);

					if (!contracts.isUndefined(end)) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.t4 = length;
					context$2$0.next = 23;
					break;

				case 18:
					context$2$0.next = 20;
					return (0, _utilsNative.toInteger)(env, end);

				case 20:
					context$2$0.t5 = context$2$0.sent;
					context$2$0.t6 = length;
					context$2$0.t4 = normalizeIndex(context$2$0.t5, context$2$0.t6);

				case 23:
					final = context$2$0.t4;
					count = Math.min(final - from, length - to);
					dir = 1;

					if (from < to && to < from + count) {
						dir = -1;
						from = from + count - 1;
						to = to + count - 1;
					}

					while (count > 0) {
						current = arr.getProperty(from);

						if (current) {
							arr.putValue(to, current.getValue(), true, env);
						} else {
							arr.deleteProperty(to);
						}

						from += dir;
						to += dir;
						count--;
					}

					return context$2$0.abrupt("return", arr);

				case 29:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 2, "Array.prototype.copyWithin"));

	proto.define("fill", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value, start, end) {
		var arr, length, k, final;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;

					if (!start) {
						context$2$0.next = 10;
						break;
					}

					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, start);

				case 7:
					context$2$0.t0 = context$2$0.sent;
					context$2$0.next = 11;
					break;

				case 10:
					context$2$0.t0 = 0;

				case 11:
					k = context$2$0.t0;

					if (!end) {
						context$2$0.next = 18;
						break;
					}

					context$2$0.next = 15;
					return (0, _utilsNative.toInteger)(env, end);

				case 15:
					context$2$0.t1 = context$2$0.sent;
					context$2$0.next = 19;
					break;

				case 18:
					context$2$0.t1 = length;

				case 19:
					final = context$2$0.t1;

					k = normalizeIndex(k, length);
					final = normalizeIndex(final, length);

					while (k < final) {
						arr.putValue(k++, value, true, env);
					}

				case 23:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Array.prototype.fill"));

	proto.define("find", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var arr, length, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;
					_iteratorNormalCompletion2 = true;
					_didIteratorError2 = false;
					_iteratorError2 = undefined;
					context$2$0.prev = 7;
					_iterator2 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 9:
					if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
						context$2$0.next = 20;
						break;
					}

					entry = _step2.value;
					context$2$0.next = 13;
					return (0, _ecma51Array.executeCallback)(env, predicate, entry, thisArg, arr);

				case 13:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 17;
						break;
					}

					return context$2$0.abrupt("return", entry.value);

				case 17:
					_iteratorNormalCompletion2 = true;
					context$2$0.next = 9;
					break;

				case 20:
					context$2$0.next = 26;
					break;

				case 22:
					context$2$0.prev = 22;
					context$2$0.t1 = context$2$0["catch"](7);
					_didIteratorError2 = true;
					_iteratorError2 = context$2$0.t1;

				case 26:
					context$2$0.prev = 26;
					context$2$0.prev = 27;

					if (!_iteratorNormalCompletion2 && _iterator2["return"]) {
						_iterator2["return"]();
					}

				case 29:
					context$2$0.prev = 29;

					if (!_didIteratorError2) {
						context$2$0.next = 32;
						break;
					}

					throw _iteratorError2;

				case 32:
					return context$2$0.finish(29);

				case 33:
					return context$2$0.finish(26);

				case 34:
					return context$2$0.abrupt("return", _typesPrimitiveType.UNDEFINED);

				case 35:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[7, 22, 26, 34], [27,, 29, 33]]);
	}), 1, "Array.prototype.find"));

	proto.define("findIndex", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(predicate, thisArg) {
		var arr, length, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, entry, passed;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					arr = (0, _utilsNative.toObject)(env, this.node);
					context$2$0.next = 3;
					return (0, _utilsNative.toLength)(env, arr);

				case 3:
					length = context$2$0.sent;
					_iteratorNormalCompletion3 = true;
					_didIteratorError3 = false;
					_iteratorError3 = undefined;
					context$2$0.prev = 7;
					_iterator3 = _getIterator(_iterators2["default"].forward(env, arr, 0, length));

				case 9:
					if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {
						context$2$0.next = 20;
						break;
					}

					entry = _step3.value;
					context$2$0.next = 13;
					return (0, _ecma51Array.executeCallback)(env, predicate, entry, thisArg, arr);

				case 13:
					context$2$0.t0 = context$2$0.sent;
					passed = (0, _utilsNative.toBoolean)(context$2$0.t0);

					if (!passed) {
						context$2$0.next = 17;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(entry.index));

				case 17:
					_iteratorNormalCompletion3 = true;
					context$2$0.next = 9;
					break;

				case 20:
					context$2$0.next = 26;
					break;

				case 22:
					context$2$0.prev = 22;
					context$2$0.t1 = context$2$0["catch"](7);
					_didIteratorError3 = true;
					_iteratorError3 = context$2$0.t1;

				case 26:
					context$2$0.prev = 26;
					context$2$0.prev = 27;

					if (!_iteratorNormalCompletion3 && _iterator3["return"]) {
						_iterator3["return"]();
					}

				case 29:
					context$2$0.prev = 29;

					if (!_didIteratorError3) {
						context$2$0.next = 32;
						break;
					}

					throw _iteratorError3;

				case 32:
					return context$2$0.finish(29);

				case 33:
					return context$2$0.finish(26);

				case 34:
					return context$2$0.abrupt("return", objectFactory.createPrimitive(-1));

				case 35:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[7, 22, 26, 34], [27,, 29, 33]]);
	}), 1, "Array.prototype.findIndex"));
};

module.exports = exports["default"];

// todo: if `this` isn't array need to call constructor
},{"../../ecma-5.1/array/":169,"../../iterators/":199,"../../types/primitive-type":214,"../../utils/contracts":222,"../../utils/native":224,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],184:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _ecma51 = require("../ecma-5.1/");

var _ecma512 = _interopRequireDefault(_ecma51);

var _utilsNative = require("../utils/native");

var _array = require("./array/");

var _array2 = _interopRequireDefault(_array);

var _symbol = require("./symbol/");

var _symbol2 = _interopRequireDefault(_symbol);

var _set = require("./set/");

var _set2 = _interopRequireDefault(_set);

exports["default"] = function (env) {
	(0, _ecma512["default"])(env);
	var objectFactory = env.objectFactory;

	var numberClass = env.global.getValue("Number");

	numberClass.define("isNaN", objectFactory.createBuiltInFunction(function (value) {
		if (!value || value.className !== "Number") {
			return objectFactory.createPrimitive(false);
		}

		return objectFactory.createPrimitive(isNaN(value.toNative()));
	}, 1, "Number.isNaN"));

	numberClass.define("isInteger", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(value) {
		var nativeValue, intValue;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!(!value || value.className !== "Number")) {
						context$2$0.next = 2;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 2:
					nativeValue = value.toNative();

					if (!(isNaN(nativeValue) || !isFinite(nativeValue))) {
						context$2$0.next = 5;
						break;
					}

					return context$2$0.abrupt("return", objectFactory.createPrimitive(false));

				case 5:
					context$2$0.next = 7;
					return (0, _utilsNative.toInteger)(env, value);

				case 7:
					intValue = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.createPrimitive(nativeValue === intValue));

				case 9:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Number.isInteger"));

	var numberProto = numberClass.getValue("prototype");
	numberProto.className = "Object";

	var boolProto = env.global.getValue("Boolean").getValue("prototype");
	boolProto.className = "Object";

	(0, _array2["default"])(env);
	(0, _symbol2["default"])(env);
	(0, _set2["default"])(env);

	var funcProto = env.global.getValue("Function").getValue("prototype");

	var thrower = function thrower() {
		throw new TypeError("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
	};

	var throwerFunc = objectFactory.createBuiltInFunction(thrower);
	var prop = {
		get: throwerFunc,
		getter: thrower,
		set: throwerFunc,
		setter: thrower,
		enumerable: false,
		configurable: false
	};

	funcProto.define("caller", null, prop);
	funcProto.define("arguments", null, prop);
};

module.exports = exports["default"];
},{"../ecma-5.1/":176,"../utils/native":224,"./array/":183,"./set/":185,"./symbol/":186,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/regenerator":23}],185:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsFunc = require("../../utils/func");

var _iterators = require("../../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../../utils/async");

exports["default"] = function (env) {
	function assertIsSet(obj, methodName) {
		if (!("setData" in obj)) {
			throw new TypeError("Method " + methodName + " called on incompatible receiver " + obj.className);
		}
	}

	var globalObject = env.global;
	var objectFactory = env.objectFactory;

	var setClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(iterable) {
		var obj, _length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry;

		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw new TypeError("Constructor Set requires 'new'");

				case 2:
					obj = objectFactory.create("Set");

					if (!iterable) {
						context$2$0.next = 34;
						break;
					}

					_length = iterable.getValue("length").toNative();
					_iteratorNormalCompletion = true;
					_didIteratorError = false;
					_iteratorError = undefined;
					context$2$0.prev = 8;
					_iterator = _getIterator(_iterators2["default"].forward(env, iterable, 0, _length));

				case 10:
					if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
						context$2$0.next = 20;
						break;
					}

					entry = _step.value;
					context$2$0.next = 14;
					return (0, _utilsFunc.tryExecute)(env, obj, "add", [entry.value]);

				case 14:
					context$2$0.t0 = context$2$0.sent;

					if (!(context$2$0.t0 === false)) {
						context$2$0.next = 17;
						break;
					}

					throw new TypeError("Property 'add' of object #<Set> is not a function");

				case 17:
					_iteratorNormalCompletion = true;
					context$2$0.next = 10;
					break;

				case 20:
					context$2$0.next = 26;
					break;

				case 22:
					context$2$0.prev = 22;
					context$2$0.t1 = context$2$0["catch"](8);
					_didIteratorError = true;
					_iteratorError = context$2$0.t1;

				case 26:
					context$2$0.prev = 26;
					context$2$0.prev = 27;

					if (!_iteratorNormalCompletion && _iterator["return"]) {
						_iterator["return"]();
					}

				case 29:
					context$2$0.prev = 29;

					if (!_didIteratorError) {
						context$2$0.next = 32;
						break;
					}

					throw _iteratorError;

				case 32:
					return context$2$0.finish(29);

				case 33:
					return context$2$0.finish(26);

				case 34:
					return context$2$0.abrupt("return", obj);

				case 35:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this, [[8, 22, 26, 34], [27,, 29, 33]]);
	}), null, { name: "Set" });

	var proto = setClass.getValue("prototype");

	proto.define("add", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.add");

		if (this.node.setData.every(function (e) {
			return !env.ops.areSameOrZero(e, value);
		})) {
			this.node.setData.push(value);
		}

		return this.node;
	}, 1, "Set.prototype.add"));

	proto.define("delete", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.delete");

		var entries = this.node.setData;
		var index = entries.length;

		while (index--) {
			if (env.ops.areSameOrZero(entries[index], value)) {
				entries.splice(index, 1);
				return objectFactory.createPrimitive(true);
			}
		}

		return objectFactory.createPrimitive(false);
	}, 1, "Set.prototype.delete"));

	proto.define("has", objectFactory.createBuiltInFunction(function (value) {
		assertIsSet(this.node, "Set.prototype.has");
		var has = this.node.setData.some(function (e) {
			return env.ops.areSameOrZero(e, value);
		});
		return objectFactory.createPrimitive(has);
	}, 1, "Set.prototype.has"));

	proto.define("clear", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.clear");
		this.node.setData = [];
	}, 0, "Set.prototype.clear"));

	proto.define("forEach", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(callback, thisArg) {
		var s;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					assertIsSet(this.node, "Set.prototype.forEach");

					s = this.node;
					context$2$0.next = 4;
					return (0, _utilsAsync.each)(this.node.setData, _regeneratorRuntime.mark(function callee$2$0(e) {
						var scope, args;
						return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
							while (1) switch (context$3$0.prev = context$3$0.next) {
								case 0:
									scope = env.createScope(thisArg);

									scope.init(callback.node.body);

									args = [e, e, s];

									scope.loadArgs(callback.node.params, args, callback);

									context$3$0.next = 6;
									return scope.use(_regeneratorRuntime.mark(function callee$3$0() {
										return _regeneratorRuntime.wrap(function callee$3$0$(context$4$0) {
											while (1) switch (context$4$0.prev = context$4$0.next) {
												case 0:
													context$4$0.next = 2;
													return env.createExecutionContext(callback.node.body, callback.node).execute();

												case 2:
													return context$4$0.abrupt("return", context$4$0.sent);

												case 3:
												case "end":
													return context$4$0.stop();
											}
										}, callee$3$0, this);
									}));

								case 6:
									return context$3$0.abrupt("return", context$3$0.sent);

								case 7:
								case "end":
									return context$3$0.stop();
							}
						}, callee$2$0, this);
					}));

				case 4:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Set.prototype.forEach"));

	proto.define("values", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.values");
		return objectFactory.createIterator(this.node.values());
	}, 0, "Set.prototype.values"));

	proto.define("keys", objectFactory.createBuiltInFunction(function () {
		assertIsSet(this.node, "Set.prototype.keys");
		return objectFactory.createIterator(this.node.keys());
	}, 0, "Set.prototype.keys"));

	globalObject.define("Set", setClass);
};

module.exports = exports["default"];
},{"../../iterators":199,"../../utils/async":221,"../../utils/func":223,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/regenerator":23}],186:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsNative = require("../../utils/native");

var _typesSymbolType = require("../../types/symbol-type");

var _typesPrimitiveType = require("../../types/primitive-type");

exports["default"] = function (env) {
	var frozen = { configurable: false, enumerable: false, writable: false };
	var objectFactory = env.objectFactory;

	var symbolClass = objectFactory.createFunction(_regeneratorRuntime.mark(function callee$1$0(desc) {
		var descString;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					if (!this.isNew) {
						context$2$0.next = 2;
						break;
					}

					throw new TypeError("Symbol is not a constructor");

				case 2:
					context$2$0.next = 4;
					return (0, _utilsNative.toString)(env, desc);

				case 4:
					descString = context$2$0.sent;
					return context$2$0.abrupt("return", objectFactory.create("Symbol", descString));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}));

	symbolClass.define("for", objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0(key) {
		var keyString, instance;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					context$2$0.next = 2;
					return (0, _utilsNative.toString)(env, key);

				case 2:
					keyString = context$2$0.sent;
					instance = _typesSymbolType.SymbolType.getByKey(keyString);

					if (!instance) {
						context$2$0.next = 6;
						break;
					}

					return context$2$0.abrupt("return", instance);

				case 6:
					return context$2$0.abrupt("return", objectFactory.create("Symbol", keyString));

				case 7:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), 1, "Symbol.for"));

	symbolClass.define("keyFor", objectFactory.createBuiltInFunction(function (sym) {
		return _typesSymbolType.SymbolType.getByInstance(sym) || _typesPrimitiveType.UNDEFINED;
	}, 1, "Symbol.keyFor"));

	var proto = symbolClass.getValue("prototype");
	proto.define("toString", objectFactory.createBuiltInFunction(function () {
		var stringValue = "Symbol(" + this.node.description + ")";
		return objectFactory.createPrimitive(stringValue);
	}));

	function createKnownSymbol(key) {
		var sym = objectFactory.create("Symbol", "@@" + key);

		// add to global registry
		_typesSymbolType.SymbolType.add(key, sym);

		symbolClass.define(key, sym, frozen);
		return sym;
	}

	createKnownSymbol("hasInstance");
	createKnownSymbol("isConcatSpreadable");
	createKnownSymbol("iterator");
	createKnownSymbol("replace");
	createKnownSymbol("species");

	var toStringTagSymbol = createKnownSymbol("toStringTag");
	proto.define(toStringTagSymbol, objectFactory.createPrimitive("Symbol"), { writable: false });

	env.global.define("Symbol", symbolClass);
};

module.exports = exports["default"];
},{"../../types/primitive-type":214,"../../types/symbol-type":219,"../../utils/native":224,"babel-runtime/regenerator":23}],187:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPropertyDescriptor = require("../types/property-descriptor");

var DeclarativeEnvironment = (function () {
	function DeclarativeEnvironment(parent, thisArg, env) {
		_classCallCheck(this, DeclarativeEnvironment);

		this.properties = _Object$create(null);
		this.parent = parent && parent.scope;
		this.strict = parent.strict;
		this.thisBinding = thisArg;
		this.env = env;
	}

	_createClass(DeclarativeEnvironment, [{
		key: "setParent",
		value: function setParent(parent) {
			this.parent = parent.scope || parent;
		}
	}, {
		key: "getReference",
		value: function getReference(name) {
			var ref = new _reference.Reference(name, this, this.env);
			ref.unqualified = true;
			return ref;
		}
	}, {
		key: "hasProperty",
		value: function hasProperty(name) {
			return name in this.properties;
		}
	}, {
		key: "hasOwnProperty",
		value: function hasOwnProperty(name) {
			return this.hasProperty(name);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(name) {
			if (!this.hasProperty(name)) {
				return true;
			}

			if (!this.properties[name].configurable) {
				return false;
			}

			delete this.properties[name];
			return true;
		}
	}, {
		key: "createVariable",
		value: function createVariable(name) {
			if (this.hasProperty(name)) {
				return this.properties[name];
			}

			return this.properties[name] = new _typesPropertyDescriptor.PropertyDescriptor(this, {
				value: undefined,
				configurable: false,
				enumerable: true,
				writable: true
			});
		}
	}, {
		key: "putValue",
		value: function putValue(name, value, throwOnError) {
			if (this.hasProperty(name)) {
				if (!this.properties[name].writable) {
					if (throwOnError) {
						throw new TypeError("Cannot write to immutable binding: " + name);
					}

					return;
				}

				this.properties[name].setValue(value);
			} else {
				var _parent;

				(_parent = this.parent).putValue.apply(_parent, arguments);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(name, throwOnError) {
			if (this.hasProperty(name)) {
				if (!this.properties[name].value) {
					if (throwOnError) {
						throw new ReferenceError(name + " is not defined");
					}

					return undefined;
				}

				return this.properties[name].getValue();
			}
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return DeclarativeEnvironment;
})();

exports.DeclarativeEnvironment = DeclarativeEnvironment;
},{"../types/property-descriptor":215,"./reference":192,"babel-runtime/core-js/object/create":6,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],188:[function(require,module,exports){
// todo: switch to estree-walker
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.visit = visit;

function visit(node, callback) {
	if (!node) {
		return;
	}

	if (Array.isArray(node)) {
		node.forEach(function (n) {
			return visit(n, callback);
		});
		return;
	}

	switch (node.type) {
		case "Program":
		case "BlockStatement":
			visit(node.body, callback);
			break;

		case "CatchClause":
			visit(node.body, callback);
			break;

		case "DoWhileStatement":
		case "WhileStatement":
			visit(node.test, callback);
			visit(node.body, callback);
			break;

		case "ExpressionStatement":
			visit(node.expression, callback);
			break;

		case "ForStatement":
			visit(node.init, callback);
			visit(node.body, callback);
			break;

		case "ForInStatement":
			visit(node.left, callback);
			visit(node.body, callback);
			break;

		case "IfStatement":
			// do not scan `test`
			visit(node.consequent, callback);
			visit(node.alternate, callback);
			break;

		case "LabeledStatement":
			visit(node.body, callback);
			break;

		case "SwitchStatement":
			visit(node.discriminant, callback);
			break;

		case "SwitchCase":
			visit(node.consequent, callback);
			break;

		case "TryStatement":
			visit(node.block, callback);
			visit(node.handler, callback);
			visit(node.finalizer, callback);
			break;

		case "VariableDeclaration":
			visit(node.declarations, callback);
			break;

		case "FunctionDeclaration":
		case "VariableDeclarator":
			callback(node);
			break;

		default:
		// ignore all other nodes
	}
}

;
},{}],189:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$assign = require("babel-runtime/core-js/object/assign")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _executionContext = require("../execution-context");

var _declarativeEnvironment = require("./declarative-environment");

var _objectEnvironment = require("./object-environment");

var _reference = require("./reference");

var _ecma51 = require("../ecma-5.1");

var _ecma512 = _interopRequireDefault(_ecma51);

var _ecma6 = require("../ecma-6");

var _ecma62 = _interopRequireDefault(_ecma6);

var _utilsOperators = require("../utils/operators");

var _utilsOperators2 = _interopRequireDefault(_utilsOperators);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _scope = require("./scope");

var defaultOptions = {
	allowDebugger: false,
	useStrict: false,
	ecmaVersion: 5
};

var Environment = (function () {
	function Environment() {
		_classCallCheck(this, Environment);
	}

	_createClass(Environment, [{
		key: "init",
		value: function init() {
			var _this = this;

			var options = arguments.length <= 0 || arguments[0] === undefined ? defaultOptions : arguments[0];

			// clear state in case of re-init
			this.current = null;
			this.globalScope = null;

			this.options = _Object$assign({}, defaultOptions, options);
			(options.ecmaVersion === 6 ? _ecma62["default"] : _ecma512["default"])(this);

			// todo: improve this
			this.ops = _Object$assign(_utilsOperators2["default"], options.operators);
			this.ops.env = this;

			this.objectFactory.init();

			if (options.exclude && options.exclude.length > 0) {
				options.exclude.forEach(function (name) {
					var segments = name.split(".");
					var parent = _this.global;

					while (segments.length > 1) {
						parent = parent.getValue(segments.shift());

						// api not defined - assume user error?
						if (!parent) {
							return;
						}
					}

					parent.remove(segments.shift());
				});
			}
		}

		/**
   * Gets a reference from the environment
   * @param {String} name - The name of the property
   * @returns {Reference} The reference.
   */
	}, {
		key: "getReference",
		value: function getReference(name) {
			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.hasOwnProperty(name)) {
					return scope.getReference(name, true);
				}

				scope = scope.parent;
			}

			return new _reference.Reference(name, undefined, this);
		}
	}, {
		key: "getValue",
		value: function getValue(name) {
			return this.getReference(name).getValue();
		}
	}, {
		key: "putValue",
		value: function putValue(name, value, strict) {
			this.current.scope.putValue(name, value, strict);
		}
	}, {
		key: "hasProperty",
		value: function hasProperty(name) {
			return this.current.scope.hasProperty(name);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(name) {
			this.current.scope.deleteVariable(name);
		}

		/**
   * Declares a variable within the current scope.
   * @param {String} name - the name of the variable.
   * @param {Boolean} [immutable] - whether the variable is immutable or not.
   * @returns {PropertyDescriptor} The property descriptor for the new variabble.
   */
	}, {
		key: "createVariable",
		value: function createVariable(name, immutable) {
			contracts.assertIsValidIdentifier(name, this.isStrict());
			return this.current.scope.createVariable(name, !immutable);
		}

		/**
   * Indicates whether the current lexical scope is in strict mode.
   * @returns {Boolean} true if in strict mode; false otherwise.
   */
	}, {
		key: "isStrict",
		value: function isStrict() {
			if (this.options.useStrict) {
				return true;
			}

			var scope = this.current && this.current.scope;
			while (scope) {
				if (scope.strict) {
					return true;
				}

				scope = scope.parent;
			}

			return false;
		}

		/**
   * Gets the current `this` object for the environment.
   * @returns {ObjectType} The `this` object for the current scope.
   */
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			var thisArg = this.current.scope.getThisBinding();
			if (thisArg) {
				return thisArg;
			}

			if (this.isStrict()) {
				return _typesPrimitiveType.UNDEFINED;
			}

			return this.global;
		}
	}, {
		key: "createExecutionContext",
		value: function createExecutionContext(node, callee, isNew) {
			return new _executionContext.ExecutionContext(this, node, callee, isNew);
		}

		/**
   * Creates a new declarative scope.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createScope",
		value: function createScope(thisArg) {
			return this.setScope(new _declarativeEnvironment.DeclarativeEnvironment(this.current, thisArg, this));
		}

		/**
   * Creates a new scope based on the provided object. This is used for the `with`
   * statement, as well as the global scope.
   * @param {ObjectType} obj - The object to bind the scope to.
   * @param {ObjectType} [thisArg] - The `this` binding for the new scope.
   * @returns {Scope} The new scope.
   */
	}, {
		key: "createObjectScope",
		value: function createObjectScope(obj, thisArg) {
			return this.setScope(new _objectEnvironment.ObjectEnvironment(this.current, obj, thisArg, this));
		}

		/**
   * Sets the current scope.
   * @param {Environment} scope - Sets the current environment.
   * @returns {Scope} The created scope.
   */
	}, {
		key: "setScope",
		value: function setScope(scope) {
			return this.current = new _scope.Scope(this, scope);
		}
	}]);

	return Environment;
})();

exports.Environment = Environment;
},{"../ecma-5.1":176,"../ecma-6":184,"../execution-context":195,"../types/primitive-type":214,"../utils/contracts":222,"../utils/operators":225,"./declarative-environment":187,"./object-environment":190,"./reference":192,"./scope":193,"babel-runtime/core-js/object/assign":5,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/helpers/interop-require-wildcard":21}],190:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propertyReference = require("./property-reference");

var ObjectEnvironment = (function () {
	function ObjectEnvironment(parent, obj, thisArg, env) {
		_classCallCheck(this, ObjectEnvironment);

		this.parent = parent && parent.scope;
		this.strict = parent && parent.strict;
		this.object = obj;
		this.thisBinding = thisArg || obj;
		this.env = env;
	}

	_createClass(ObjectEnvironment, [{
		key: "getReference",
		value: function getReference(name, unqualified) {
			var ref = new _propertyReference.PropertyReference(name, this.object, this.env);
			ref.unqualified = unqualified;
			return ref;
		}
	}, {
		key: "hasProperty",
		value: function hasProperty(name) {
			return this.parent ? this.parent.hasProperty(name) : this.hasOwnProperty(name);
		}
	}, {
		key: "hasOwnProperty",
		value: function hasOwnProperty(name) {
			return this.object.hasProperty(name);
		}
	}, {
		key: "getVariable",
		value: function getVariable(name) {
			return this.object.getProperty(name);
		}
	}, {
		key: "deleteVariable",
		value: function deleteVariable(name) {
			return this.object.deleteProperty(name, false);
		}
	}, {
		key: "createVariable",
		value: function createVariable(name, immutable) {
			if (this.parent) {
				var _parent;

				return (_parent = this.parent).createVariable.apply(_parent, arguments);
			} else {
				this.object.defineOwnProperty(name, {
					value: undefined,
					configurable: immutable,
					enumerable: true,
					writable: true
				}, this.env.isStrict());

				return this.object.getProperty(name);
			}
		}
	}, {
		key: "putValue",
		value: function putValue(name, value, throwOnError) {
			if (this.parent && !this.object.hasProperty(name)) {
				var _parent2;

				(_parent2 = this.parent).putValue.apply(_parent2, arguments);
			} else {
				this.object.putValue(name, value, throwOnError);
			}
		}
	}, {
		key: "getValue",
		value: function getValue(name, throwOnError) {
			if (!this.hasOwnProperty(name)) {
				if (throwOnError) {
					throw new ReferenceError(name + " is not defined.");
				}

				return undefined;
			}

			return this.object.getValue(name);
		}
	}, {
		key: "getThisBinding",
		value: function getThisBinding() {
			return this.thisBinding;
		}
	}]);

	return ObjectEnvironment;
})();

exports.ObjectEnvironment = ObjectEnvironment;
},{"./property-reference":191,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],191:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _reference = require("./reference");

var _typesPrimitiveType = require("../types/primitive-type");

/**
 * An object which represents a reference to an object's property.
 */

var PropertyReference = (function (_Reference) {
	_inherits(PropertyReference, _Reference);

	function PropertyReference(key, object, env) {
		_classCallCheck(this, PropertyReference);

		_get(Object.getPrototypeOf(PropertyReference.prototype), "constructor", this).call(this, key, object, env);
		this.isPropertyReference = true;
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(PropertyReference, [{
		key: "getValue",
		value: function getValue() {
			var prop = this.base.getProperty(this.key);
			return prop && prop.getValue() || new _typesPrimitiveType.PrimitiveType();
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (this.base.hasProperty(this.key)) {
				this.base.putValue(this.key, value, this.strict, this.env);
			} else {
				this.base.defineOwnProperty(this.key, { value: value, configurable: true, enumerable: true, writable: true }, this.strict, this.env);
			}
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			return this.base.deleteProperty(this.key, this.env.isStrict());
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return false;
		}
	}]);

	return PropertyReference;
})(_reference.Reference);

exports.PropertyReference = PropertyReference;
},{"../types/primitive-type":214,"./reference":192,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],192:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var Reference = (function () {
	function Reference(key, base, env) {
		_classCallCheck(this, Reference);

		this.isReference = true;
		this.unqualified = false;

		this.key = key;
		this.base = base;
		this.env = env;
		this.strict = env.isStrict();
	}

	/**
  * Returns the value of the reference. If the reference is unresolved,
  * a ReferenceError will be thrown.
  * @returns {ObjectType} The value.
  */

	_createClass(Reference, [{
		key: "getValue",
		value: function getValue() {
			if (!this.base) {
				throw new ReferenceError(this.key + " is not defined");
			}

			return this.base.getValue(this.key, this.strict);
		}

		/**
   * Sets the value of the underlying property or value.
   * @param {ObjectType} value - The value to assign.
   * @returns {Boolean} The result of the value assignment.
   */
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (this.base) {
				return this.base.putValue(this.key, value, this.strict);
			}

			// check identifier before strict
			contracts.assertIsValidIdentifier(this.key, this.strict);

			if (this.strict) {
				throw new ReferenceError(this.key + " is not defined");
			}

			return this.env.global.defineOwnProperty(this.key, {
				value: value,
				configurable: true,
				enumerable: true,
				writable: true
			}, false, this.env);
		}

		/**
   * Deletes the underlying reference.
   * @returns {Boolean} The result of the delete operation.
   */
	}, {
		key: "delete",
		value: function _delete() {
			if (this.base) {
				return this.base.deleteVariable(this.key);
			}

			return true;
		}

		/**
   * Indicates whether the reference is resolved or not.
   * @returns {Boolean} true if resolves; false otherwise.
   */
	}, {
		key: "isUnresolved",
		value: function isUnresolved() {
			return !this.base;
		}
	}]);

	return Reference;
})();

exports.Reference = Reference;
},{"../utils/contracts":222,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/interop-require-wildcard":21}],193:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("../types/primitive-type");

var _estreeWalker = require("../estree-walker");

var _estreeWalker2 = _interopRequireDefault(_estreeWalker);

var _hoister = require("./hoister");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _syntaxRules = require("../syntax-rules");

var _syntaxRules2 = _interopRequireDefault(_syntaxRules);

var _utilsAsync = require("../utils/async");

var _utilsAssign = require("../utils/assign");

function validateSyntax(root) {
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = _getIterator(_estreeWalker2["default"].create(root)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var node = _step.value;

			if (node.type in _syntaxRules2["default"]) {
				_syntaxRules2["default"][node.type](node, true);
			}
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator["return"]) {
				_iterator["return"]();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}
}

var Scope = (function () {
	function Scope(env, scope) {
		_classCallCheck(this, Scope);

		env.globalScope = env.globalScope || this;

		this.scope = scope;
		this.env = env;
		this.priorScope = (env.current || env.globalScope).scope;
	}

	/**
  * Initializes the scope by validating the function body and hoisting variables.
  * @param {AST} node - The node to be executed.
  * @returns {void}
  */

	_createClass(Scope, [{
		key: "init",
		value: function init(node) {
			var _this = this;

			if (!node) {
				return;
			}

			var env = this.env;
			this.scope.strict = contracts.isStrictNode(node.body);

			var strict = this.scope.strict || env.isStrict();
			if (strict && node.type === "Program") {
				validateSyntax(node);
			}

			(0, _hoister.visit)(node, function (decl) {
				var name = decl.name || decl.id.name;
				contracts.assertIsValidParameterName(name, strict);

				var value = _typesPrimitiveType.UNDEFINED;
				if (decl.type === "FunctionDeclaration") {
					// functions can be used before they are defined
					var strictFunc = strict || contracts.isStrictNode(decl.body.body);
					value = env.objectFactory.createFunction(decl, undefined, { strict: strictFunc });
					value.bindScope(_this);
				} else if (_this.scope.hasProperty(name)) {
					return;
				}

				var newVar = env.createVariable(name, true);
				newVar.setValue(value);
			});
		}
	}, {
		key: "loadComplexArgs",
		value: _regeneratorRuntime.mark(function loadComplexArgs(params, args, callee) {
			var env, strict, scope, argIndex, argLength;
			return _regeneratorRuntime.wrap(function loadComplexArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						env = this.env;
						strict = env.isStrict() || callee.isStrict();
						scope = this.createParameterScope();
						argIndex = 0;
						argLength = args.length;
						context$2$0.next = 7;
						return (0, _utilsAsync.each)(params, _regeneratorRuntime.mark(function callee$2$0(param, index) {
							var rest, restIndex;
							return _regeneratorRuntime.wrap(function callee$2$0$(context$3$0) {
								while (1) switch (context$3$0.prev = context$3$0.next) {
									case 0:
										if (!(param.type === "RestElement")) {
											context$3$0.next = 7;
											break;
										}

										rest = env.objectFactory.createArray();
										restIndex = 0;

										while (argIndex < argLength) {
											rest.putValue(restIndex++, args[argIndex++] || _typesPrimitiveType.UNDEFINED, true, env);
										}

										scope.putValue(param.name, rest, true, env);
										context$3$0.next = 9;
										break;

									case 7:
										context$3$0.next = 9;
										return (0, _utilsAssign.declare)(env, param, args[argIndex++] || _typesPrimitiveType.UNDEFINED, true);

									case 9:
									case "end":
										return context$3$0.stop();
								}
							}, callee$2$0, this);
						}));

					case 7:

						if (!callee.arrow) {
							(function () {
								// preserve the passed in arguments, even if defaults are used instead
								var argumentList = env.objectFactory.createArguments(args, callee, strict);
								scope.createVariable("arguments");
								scope.putValue("arguments", argumentList);

								args.forEach(function (value, index) {
									argumentList.defineOwnProperty(index, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								});

								argumentList.defineOwnProperty("length", {
									value: env.objectFactory.createPrimitive(args.length),
									configurable: true,
									writable: true
								});
							})();
						}

						// return scope back to main scope
						this.env.setScope(this.scope);

					case 9:
					case "end":
						return context$2$0.stop();
				}
			}, loadComplexArgs, this);
		})

		/**
   * Loads the arguments into the scope and creates the special `arguments` object.
   * @param {AST[]} params - The parameter identifiers
   * @param {ObjectType[]} args - The argument values
   * @param {FunctionType} callee - The function
   * @returns {void}
   */
	}, {
		key: "loadArgs",
		value: _regeneratorRuntime.mark(function loadArgs(params, args, callee) {
			var env, scope, strict, argumentList, argsLength, shouldMap, _i, ln, param, value, _name, descriptor, i;

			return _regeneratorRuntime.wrap(function loadArgs$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						if (!(params && params.some(function (p) {
							return p.type !== "Identifier";
						}))) {
							context$2$0.next = 4;
							break;
						}

						context$2$0.next = 3;
						return this.loadComplexArgs(params, args, callee);

					case 3:
						return context$2$0.abrupt("return");

					case 4:
						env = this.env;
						scope = this.scope;
						strict = env.isStrict() || callee.isStrict();
						argumentList = env.objectFactory.createArguments(args, callee, strict);

						scope.createVariable("arguments");
						scope.putValue("arguments", argumentList);

						argsLength = args.length;

						if (params) {
							shouldMap = !callee.isStrict();

							for (_i = 0, ln = params.length; _i < ln; _i++) {
								param = params[_i];
								value = args[_i] || _typesPrimitiveType.UNDEFINED;
								_name = param.name;

								if (shouldMap && !scope.hasProperty(_name)) {
									descriptor = scope.createVariable(_name);

									if (argsLength > _i) {
										argumentList.mapProperty(_i, descriptor);
									}
								}

								if (!shouldMap && _i < argsLength) {
									argumentList.defineOwnProperty(_i, {
										value: value,
										configurable: true,
										enumerable: true,
										writable: true
									});
								}

								contracts.assertIsValidParameterName(_name, strict);
								scope.putValue(_name, value, true, env);
							}
						}

						// just set value if additional, unnamed arguments are passed in
						i = params ? params.length : 0;

						for (; i < argsLength; i++) {
							argumentList.defineOwnProperty(i, {
								value: args[i],
								configurable: true,
								enumerable: true,
								writable: true
							});
						}

						argumentList.defineOwnProperty("length", {
							value: env.objectFactory.createPrimitive(argsLength),
							configurable: true,
							writable: true
						});

					case 15:
					case "end":
						return context$2$0.stop();
				}
			}, loadArgs, this);
		})
	}, {
		key: "createParameterScope",
		value: function createParameterScope() {
			var scope = this.env.createScope();
			scope.scope.setParent(this.scope.parent);
			this.scope.setParent(scope);
			return scope.scope;
		}

		/**
   * Runs the passed in function and exits the scope when the function completes,
   * returning the environment back to the previos state.
   * @param {Function} inner - The function to execute.
   * @returns {Iterator} The function results
   */
	}, {
		key: "use",
		value: _regeneratorRuntime.mark(function use(inner) {
			var result;
			return _regeneratorRuntime.wrap(function use$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.prev = 0;
						context$2$0.next = 3;
						return inner();

					case 3:
						result = context$2$0.sent;

						this.exit();
						return context$2$0.abrupt("return", result);

					case 8:
						context$2$0.prev = 8;
						context$2$0.t0 = context$2$0["catch"](0);

						this.exit();
						throw context$2$0.t0;

					case 12:
					case "end":
						return context$2$0.stop();
				}
			}, use, this, [[0, 8]]);
		})

		/**
   * Exits the scope, returning the environment to it's previous state.
   * (Typically you would call `use` which handles exiting the scope itself.)
   * @returns {void}
   */
	}, {
		key: "exit",
		value: function exit() {
			this.env.setScope(this.priorScope);
		}
	}]);

	return Scope;
})();

exports.Scope = Scope;

// create a temporary scope for the argument declarations

// todo: this method is getting far too complex
},{"../estree-walker":194,"../syntax-rules":204,"../types/primitive-type":214,"../utils/assign":220,"../utils/async":221,"../utils/contracts":222,"./hoister":188,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],194:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [walk].map(_regeneratorRuntime.mark);
function walk(node) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, n;

	return _regeneratorRuntime.wrap(function walk$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!Array.isArray(node)) {
					context$1$0.next = 27;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 4;
				_iterator = _getIterator(node);

			case 6:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				n = _step.value;
				return context$1$0.delegateYield(walk(n), "t0", 9);

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 6;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t1 = context$1$0["catch"](4);
				_didIteratorError = true;
				_iteratorError = context$1$0.t1;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return");

			case 27:
				context$1$0.next = 29;
				return node;

			case 29:
				context$1$0.t2 = node.type;
				context$1$0.next = context$1$0.t2 === "ArrayExpression" ? 32 : context$1$0.t2 === "AssignmentExpression" ? 35 : context$1$0.t2 === "BinaryExpression" ? 38 : context$1$0.t2 === "LogicalExpression" ? 38 : context$1$0.t2 === "BlockStatement" ? 41 : context$1$0.t2 === "LabeledStatement" ? 41 : context$1$0.t2 === "Program" ? 41 : context$1$0.t2 === "CallExpression" ? 43 : context$1$0.t2 === "NewExpression" ? 43 : context$1$0.t2 === "CatchClause" ? 46 : context$1$0.t2 === "ConditionalExpression" ? 49 : context$1$0.t2 === "IfStatement" ? 49 : context$1$0.t2 === "DoWhileStatement" ? 54 : context$1$0.t2 === "ExpressionStatement" ? 57 : context$1$0.t2 === "ForStatement" ? 59 : context$1$0.t2 === "ForInStatement" ? 67 : context$1$0.t2 === "FunctionDeclaration" ? 71 : context$1$0.t2 === "FunctionExpression" ? 71 : context$1$0.t2 === "MemberExpression" ? 76 : context$1$0.t2 === "ObjectExpression" ? 80 : context$1$0.t2 === "Property" ? 82 : context$1$0.t2 === "ReturnStatement" ? 84 : context$1$0.t2 === "SequenceExpression" ? 87 : context$1$0.t2 === "SwitchStatement" ? 89 : context$1$0.t2 === "SwitchCase" ? 92 : context$1$0.t2 === "ThrowStatement" ? 94 : context$1$0.t2 === "UnaryExpression" ? 94 : context$1$0.t2 === "UpdateExpression" ? 94 : context$1$0.t2 === "TryStatement" ? 96 : context$1$0.t2 === "VariableDeclaration" ? 102 : context$1$0.t2 === "VariableDeclarator" ? 104 : context$1$0.t2 === "WhileStatement" ? 108 : context$1$0.t2 === "WithStatement" ? 111 : context$1$0.t2 === "BreakStatement" ? 114 : context$1$0.t2 === "ContinueStatement" ? 114 : context$1$0.t2 === "EmptyStatement" ? 114 : context$1$0.t2 === "Identifier" ? 114 : context$1$0.t2 === "Literal" ? 114 : context$1$0.t2 === "ThisExpression" ? 114 : 115;
				break;

			case 32:
				if (!node.elements) {
					context$1$0.next = 34;
					break;
				}

				return context$1$0.delegateYield(walk(node.elements), "t3", 34);

			case 34:
				return context$1$0.abrupt("break", 115);

			case 35:
				return context$1$0.delegateYield(walk(node.right), "t4", 36);

			case 36:
				return context$1$0.delegateYield(walk(node.left), "t5", 37);

			case 37:
				return context$1$0.abrupt("break", 115);

			case 38:
				return context$1$0.delegateYield(walk(node.left), "t6", 39);

			case 39:
				return context$1$0.delegateYield(walk(node.right), "t7", 40);

			case 40:
				return context$1$0.abrupt("break", 115);

			case 41:
				return context$1$0.delegateYield(walk(node.body), "t8", 42);

			case 42:
				return context$1$0.abrupt("break", 115);

			case 43:
				return context$1$0.delegateYield(walk(node.callee), "t9", 44);

			case 44:
				return context$1$0.delegateYield(walk(node.arguments), "t10", 45);

			case 45:
				return context$1$0.abrupt("break", 115);

			case 46:
				return context$1$0.delegateYield(walk(node.param), "t11", 47);

			case 47:
				return context$1$0.delegateYield(walk(node.body), "t12", 48);

			case 48:
				return context$1$0.abrupt("break", 115);

			case 49:
				return context$1$0.delegateYield(walk(node.test), "t13", 50);

			case 50:
				return context$1$0.delegateYield(walk(node.consequent), "t14", 51);

			case 51:
				if (!node.alternate) {
					context$1$0.next = 53;
					break;
				}

				return context$1$0.delegateYield(node.alternate, "t15", 53);

			case 53:
				return context$1$0.abrupt("break", 115);

			case 54:
				return context$1$0.delegateYield(walk(node.body), "t16", 55);

			case 55:
				return context$1$0.delegateYield(walk(node.test), "t17", 56);

			case 56:
				return context$1$0.abrupt("break", 115);

			case 57:
				return context$1$0.delegateYield(walk(node.expression), "t18", 58);

			case 58:
				return context$1$0.abrupt("break", 115);

			case 59:
				if (!node.init) {
					context$1$0.next = 61;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t19", 61);

			case 61:
				if (!node.test) {
					context$1$0.next = 63;
					break;
				}

				return context$1$0.delegateYield(walk(node.test), "t20", 63);

			case 63:
				return context$1$0.delegateYield(walk(node.body), "t21", 64);

			case 64:
				if (!node.update) {
					context$1$0.next = 66;
					break;
				}

				return context$1$0.delegateYield(walk(node.update), "t22", 66);

			case 66:
				return context$1$0.abrupt("break", 115);

			case 67:
				return context$1$0.delegateYield(walk(node.right), "t23", 68);

			case 68:
				return context$1$0.delegateYield(walk(node.left), "t24", 69);

			case 69:
				return context$1$0.delegateYield(walk(node.body), "t25", 70);

			case 70:
				return context$1$0.abrupt("break", 115);

			case 71:
				if (!node.id) {
					context$1$0.next = 73;
					break;
				}

				return context$1$0.delegateYield(walk(node.id), "t26", 73);

			case 73:
				return context$1$0.delegateYield(walk(node.params), "t27", 74);

			case 74:
				return context$1$0.delegateYield(walk(node.body), "t28", 75);

			case 75:
				return context$1$0.abrupt("break", 115);

			case 76:
				return context$1$0.delegateYield(walk(node.object), "t29", 77);

			case 77:
				if (!node.computed) {
					context$1$0.next = 79;
					break;
				}

				return context$1$0.delegateYield(walk(node.property), "t30", 79);

			case 79:
				return context$1$0.abrupt("break", 115);

			case 80:
				return context$1$0.delegateYield(walk(node.properties), "t31", 81);

			case 81:
				return context$1$0.abrupt("break", 115);

			case 82:
				return context$1$0.delegateYield(walk(node.value), "t32", 83);

			case 83:
				return context$1$0.abrupt("break", 115);

			case 84:
				if (!node.argument) {
					context$1$0.next = 86;
					break;
				}

				return context$1$0.delegateYield(walk(node.argument), "t33", 86);

			case 86:
				return context$1$0.abrupt("break", 115);

			case 87:
				return context$1$0.delegateYield(walk(node.expressions), "t34", 88);

			case 88:
				return context$1$0.abrupt("break", 115);

			case 89:
				return context$1$0.delegateYield(walk(node.discriminant), "t35", 90);

			case 90:
				return context$1$0.delegateYield(walk(node.cases), "t36", 91);

			case 91:
				return context$1$0.abrupt("break", 115);

			case 92:
				return context$1$0.delegateYield(walk(node.consequent), "t37", 93);

			case 93:
				return context$1$0.abrupt("break", 115);

			case 94:
				return context$1$0.delegateYield(walk(node.argument), "t38", 95);

			case 95:
				return context$1$0.abrupt("break", 115);

			case 96:
				return context$1$0.delegateYield(walk(node.block), "t39", 97);

			case 97:
				if (!node.handler) {
					context$1$0.next = 99;
					break;
				}

				return context$1$0.delegateYield(walk(node.handler), "t40", 99);

			case 99:
				if (!node.finalizer) {
					context$1$0.next = 101;
					break;
				}

				return context$1$0.delegateYield(walk(node.finalizer), "t41", 101);

			case 101:
				return context$1$0.abrupt("break", 115);

			case 102:
				return context$1$0.delegateYield(walk(node.declarations), "t42", 103);

			case 103:
				return context$1$0.abrupt("break", 115);

			case 104:
				return context$1$0.delegateYield(walk(node.id), "t43", 105);

			case 105:
				if (!node.init) {
					context$1$0.next = 107;
					break;
				}

				return context$1$0.delegateYield(walk(node.init), "t44", 107);

			case 107:
				return context$1$0.abrupt("break", 115);

			case 108:
				return context$1$0.delegateYield(walk(node.test), "t45", 109);

			case 109:
				return context$1$0.delegateYield(walk(node.body), "t46", 110);

			case 110:
				return context$1$0.abrupt("break", 115);

			case 111:
				return context$1$0.delegateYield(walk(node.object), "t47", 112);

			case 112:
				return context$1$0.delegateYield(walk(node.body), "t48", 113);

			case 113:
				return context$1$0.abrupt("break", 115);

			case 114:
				return context$1$0.abrupt("break", 115);

			case 115:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[4, 14, 18, 26], [19,, 21, 25]]);
}

// do nothing

var EstreeWalker = (function () {
	function EstreeWalker(node) {
		_classCallCheck(this, EstreeWalker);

		this.root = node;
	}

	_createClass(EstreeWalker, [{
		key: _Symbol$iterator,
		value: function value() {
			return walk(this.root);
		}
	}], [{
		key: "create",
		value: function create(node) {
			return new EstreeWalker(node);
		}
	}]);

	return EstreeWalker;
})();

exports["default"] = EstreeWalker;
;
module.exports = exports["default"];

// right should be evaluated first

// do nothing else
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/symbol/iterator":13,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/regenerator":23}],195:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typesPrimitiveType = require("./types/primitive-type");

var _executionResult = require("./execution-result");

var _visitors = require("./visitors");

var _visitors2 = _interopRequireDefault(_visitors);

var ExecutionContext = (function () {
	function ExecutionContext(env, node, callee, isNew) {
		_classCallCheck(this, ExecutionContext);

		this.node = node;
		this.callee = callee;
		this.env = env;
		this.isNew = !!isNew;

		this.label = "";
		this.value = null;
		this.strict = false;
	}

	_createClass(ExecutionContext, [{
		key: "execute",
		value: _regeneratorRuntime.mark(function execute() {
			var executionResult;
			return _regeneratorRuntime.wrap(function execute$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						executionResult = undefined;
						context$2$0.prev = 1;
						context$2$0.next = 4;
						return _visitors2["default"].visit(this);

					case 4:
						executionResult = context$2$0.sent;
						context$2$0.next = 10;
						break;

					case 7:
						context$2$0.prev = 7;
						context$2$0.t0 = context$2$0["catch"](1);

						executionResult = this.raise(context$2$0.t0);

					case 10:
						if (!(executionResult && executionResult.raised)) {
							context$2$0.next = 12;
							break;
						}

						throw this.env.objectFactory.create("Error", executionResult.result);

					case 12:
						return context$2$0.abrupt("return", executionResult || this.empty());

					case 13:
					case "end":
						return context$2$0.stop();
				}
			}, execute, this, [[1, 7]]);
		})
	}, {
		key: "create",
		value: function create(node, callee, isNew) {
			var context = new ExecutionContext(this.env, node, callee || this.callee, isNew);
			context.value = this.value;
			return context;
		}
	}, {
		key: "createLabel",
		value: function createLabel(node, label) {
			var context = this.create(node);
			context.label = label;
			return context;
		}
	}, {
		key: "cancel",
		value: function cancel(label) {
			var result = this.result(this.value, label);
			result.cancel = true;
			return result;
		}
	}, {
		key: "skip",
		value: function skip(label) {
			var result = this.result(this.value, label);
			result.skip = true;
			return result;
		}
	}, {
		key: "raise",
		value: function raise(err) {
			var result = this.result(err);
			result.raised = result.exit = true;
			return result;
		}
	}, {
		key: "exit",
		value: function exit(value) {
			this.callee = null;

			var result = this.result(value);
			result.exit = true;
			return result;
		}
	}, {
		key: "result",
		value: function result(value, name, obj) {
			this.value = value;
			return new _executionResult.ExecutionResult(value, name, obj);
		}
	}, {
		key: "empty",
		value: function empty() {
			return this.result(_typesPrimitiveType.UNDEFINED);
		}
	}]);

	return ExecutionContext;
})();

exports.ExecutionContext = ExecutionContext;
;
},{"./execution-result":196,"./types/primitive-type":214,"./visitors":241,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/regenerator":23}],196:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var ExecutionResult = (function () {
	function ExecutionResult(value, name, obj) {
		_classCallCheck(this, ExecutionResult);

		this.result = value;
		this.name = name;
		this.object = obj;

		this.cancel = false;
		this.cancelled = false;
		this.exit = false;
		this.skip = false;
		this.raised = false;
	}

	_createClass(ExecutionResult, [{
		key: "isCancelled",
		value: function isCancelled() {
			return this.cancel || this.exit || this.raised;
		}
	}, {
		key: "canBreak",
		value: function canBreak() {
			return this.isCancelled() || this.skip;
		}
	}, {
		key: "shouldBreak",
		value: function shouldBreak(context, loop, priorResult) {
			if (this.exit || this.raised) {
				return true;
			}

			if (!this.cancel && !this.skip) {
				return false;
			}

			var breaking = true;
			if (this.name && this.name === context.label) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;

				if (this.cancelled) {
					this.result = priorResult && priorResult.result || this.result;
				}

				return breaking;
			}

			if (loop && !this.name) {
				breaking = this.cancelled = this.cancel;
				this.cancel = this.skip = false;
			}

			this.result = priorResult && priorResult.result || this.result;
			return breaking;
		}
	}]);

	return ExecutionResult;
})();

exports.ExecutionResult = ExecutionResult;
},{"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],197:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

require("./polyfills");

var _env = require("./env");

var _utilsAsync = require("./utils/async");

var SandBoxr = (function () {
	/**
  * Creates a new Sandbox
  * @class
  * @param {AST} ast - The abstract syntax tree to execute.
  * @param {Object} [options] The options to use with the sandbox.
  */

	function SandBoxr(ast) {
		var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

		_classCallCheck(this, SandBoxr);

		this.ast = ast;
		this.options = options;
	}

	/**
  * Executes the abstract syntax tree (AST) against the provided environment (or the default
  * environment if not provided)
  * @param {Environment} [env] - The environment to execute the AST against.
  * @returns {Promise} A promise that resolves with the result of the execution
  */

	_createClass(SandBoxr, [{
		key: "execute",
		value: function execute(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.promisify)(env.createExecutionContext(this.ast).execute()).then(function (res) {
				return res.result;
			});
		}
	}, {
		key: _Symbol$iterator,
		value: function value() {
			return this.step();
		}
	}, {
		key: "step",
		value: function step(env) {
			if (!env) {
				env = SandBoxr.createEnvironment();
				env.init(this.options);
			}

			return (0, _utilsAsync.step)(env.createExecutionContext(this.ast).execute());
		}

		/**
   * Creates an environment instance.
   * @returns {Object} The environment instance.
   */
	}], [{
		key: "createEnvironment",
		value: function createEnvironment() {
			return new _env.Environment();
		}

		/**
   * Creates a new SandBoxr instance.
   * @param {AST} ast - The abstract syntax tree to execute.
   * @param {Object} [options] The options to use with the sandbox.
   * @returns {SandBoxr} A new sandbox.
   */
	}, {
		key: "create",
		value: function create(ast, options) {
			return new SandBoxr(ast, options);
		}
	}]);

	return SandBoxr;
})();

exports.SandBoxr = SandBoxr;
},{"./env":189,"./polyfills":203,"./utils/async":221,"babel-runtime/core-js/symbol/iterator":13,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],198:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator, yieldIndex].map(_regeneratorRuntime.mark);

function ascIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = lo;

			case 1:
				if (!(index < hi)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index++;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(source, lo, hi) {
	var index;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = hi;

			case 1:
				if (!(index >= lo)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(yieldIndex(source, index), "t0", 3);

			case 3:
				index--;
				context$1$0.next = 1;
				break;

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function yieldIndex(source, index) {
	var prop, value;
	return _regeneratorRuntime.wrap(function yieldIndex$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				prop = source.getProperty(index);

				if (!prop) {
					context$1$0.next = 5;
					break;
				}

				value = prop.getValue();
				context$1$0.next = 5;
				return { value: value, index: index };

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

var ArrayIterator = {
	create: function create(obj, lo, hi, desc) {
		return (desc ? descIterator : ascIterator)(obj, lo, hi);
	}
};

exports["default"] = ArrayIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":23}],199:[function(require,module,exports){
"use strict";

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _stringIterator = require("./string-iterator");

var _stringIterator2 = _interopRequireDefault(_stringIterator);

var _sparseIterator = require("./sparse-iterator");

var _sparseIterator2 = _interopRequireDefault(_sparseIterator);

var _arrayIterator = require("./array-iterator");

var _arrayIterator2 = _interopRequireDefault(_arrayIterator);

require("../polyfills");

var SPARE_ARRAY_DENSITY = 0.8;

function arrayIsSparse(arr, length) {
	var ownPropertyCount = _Object$keys(arr.properties).length;

	// this is just to roughly estimate how dense the array is
	var density = (ownPropertyCount - 1) / length;
	return density < SPARE_ARRAY_DENSITY;
}

var iterate = {
	forward: function forward(env, obj, lo, hi) {
		// string will never be dense
		if (obj.className === "String") {
			return _stringIterator2["default"].create(env.objectFactory, obj, lo);
		}

		if (arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi - 1);
		}

		return _arrayIterator2["default"].create(obj, lo, hi);
	},

	reverse: function reverse(env, obj, hi) {
		var lo = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];

		if (obj.className === "String") {
			return _stringIterator2["default"].create(env.objectFactory, obj, hi, true);
		}

		if (arrayIsSparse(obj, hi)) {
			return _sparseIterator2["default"].create(obj, lo, hi, true);
		}

		return _arrayIterator2["default"].create(obj, lo, hi, true);
	}
};

exports["default"] = iterate;
module.exports = exports["default"];
},{"../polyfills":203,"./array-iterator":198,"./sparse-iterator":200,"./string-iterator":201,"babel-runtime/core-js/object/keys":9,"babel-runtime/helpers/interop-require-default":20}],200:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Symbol$iterator = require("babel-runtime/core-js/symbol/iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

require("../polyfills");

var ASCENDING = function ASCENDING(a, b) {
	return a - b;
};
var DESCENDING = function DESCENDING(a, b) {
	return b - a;
};

var SparseIterator = (function () {
	function SparseIterator(obj, start, end, desc) {
		_classCallCheck(this, SparseIterator);

		this.object = obj;
		this.start = start;
		this.end = end;
		this.asc = !desc;
		this.version = 0;
	}

	_createClass(SparseIterator, [{
		key: _Symbol$iterator,
		value: function value() {
			return this;
		}
	}, {
		key: "reset",
		value: function reset() {
			this.version = 0;
			this.prototypes = [];
			this.props = _Object$create(null);
			this.keys = [];

			var current = this.object;

			while (current) {
				this.prototypes.push(current);
				this.version += current.version;

				for (var _name in current.properties) {
					if (!(_name in this.props) && contracts.isInteger(_name)) {
						var index = Number(_name);

						if (index >= this.start && index <= this.end) {
							this.props[_name] = current.getOwnProperty(_name);
							this.keys.push(index);
						}
					}
				}

				current = current.getPrototype();
			}

			this.keys.sort(this.asc ? ASCENDING : DESCENDING);
		}
	}, {
		key: "next",
		value: function next() {
			if (!this.version || this.shouldReset()) {
				this.reset();
			}

			if (this.keys.length > 0) {
				var index = this.position = this.keys.shift();
				var value = this.props[index].getValue();

				return {
					value: { value: value, index: index },
					done: false
				};
			}

			return {
				done: true
			};
		}
	}, {
		key: "shouldReset",
		value: function shouldReset() {
			var currentVersion = this.prototypes.reduce(function (v, o) {
				return o.version + v;
			}, 0);
			if (currentVersion !== this.version) {
				if (this.asc) {
					this.start = this.position + 1;
				} else {
					this.end = this.position - 1;
				}

				return true;
			}

			return false;
		}
	}], [{
		key: "create",
		value: function create(arr, start, end, desc) {
			return new SparseIterator(arr, start, end, desc);
		}
	}]);

	return SparseIterator;
})();

exports["default"] = SparseIterator;
module.exports = exports["default"];
},{"../polyfills":203,"../utils/contracts":222,"babel-runtime/core-js/object/create":6,"babel-runtime/core-js/symbol/iterator":13,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/interop-require-wildcard":21}],201:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [ascIterator, descIterator].map(_regeneratorRuntime.mark);
function ascIterator(factory, stringValue, start) {
	var index, _length, value;

	return _regeneratorRuntime.wrap(function ascIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = start, _length = stringValue.length;

			case 1:
				if (!(index < _length)) {
					context$1$0.next = 8;
					break;
				}

				value = factory.createPrimitive(stringValue[index]);
				context$1$0.next = 5;
				return { value: value, index: index };

			case 5:
				index++;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function descIterator(factory, stringValue, start) {
	var index, value;
	return _regeneratorRuntime.wrap(function descIterator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				index = start;

			case 1:
				if (!(index >= 0)) {
					context$1$0.next = 8;
					break;
				}

				value = factory.createPrimitive(stringValue[index]);
				context$1$0.next = 5;
				return { value: value, index: index };

			case 5:
				index--;
				context$1$0.next = 1;
				break;

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

var StringIterator = {
	create: function create(objectFactory, value, start, desc) {
		var stringValue = value.toNative();
		return (desc ? descIterator : ascIterator)(objectFactory, stringValue, start);
	}
};

exports["default"] = StringIterator;
module.exports = exports["default"];
},{"babel-runtime/regenerator":23}],202:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.isReserved = isReserved;
exports.isStrictReserved = isStrictReserved;
var keywords = {
	"es5": ["do", "if", "in", "for", "new", "try", "var", "case", "else", "enum", "null", "this", "true", "void", "with", "break", "catch", "class", "const", "false", "super", "throw", "while", "delete", "export", "import", "return", "switch", "typeof", "default", "extends", "finally", "continue", "debugger", "function", "instanceof"],

	"es5strict": ["implements", "let", "private", "public", "interface", "package", "protected", "static", "yield"]
};

function isReserved(name) {
	return keywords.es5.indexOf(name) >= 0;
}

function isStrictReserved(name) {
	return keywords.es5strict.indexOf(name) >= 0;
}
},{}],203:[function(require,module,exports){
"use strict";

require("core-js/fn/string/repeat");

require("core-js/fn/math/sign");

require("core-js/es6/promise");

require("core-js/es6/symbol");
},{"core-js/es6/promise":26,"core-js/es6/symbol":27,"core-js/fn/math/sign":28,"core-js/fn/string/repeat":29}],204:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsContracts = require("./utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function validateAssignment(left, strict) {
	if (strict && left.type === "Identifier") {
		contracts.assertIsValidName(left.name, true);
	}
}

var rules = {
	AssignmentExpression: function AssignmentExpression(node, strict) {
		validateAssignment(node.left, strict);
	},

	CatchClause: function CatchClause(node, strict) {
		contracts.assertIsValidName(node.param.name, strict);
	},

	Identifier: function Identifier(node, strict) {
		contracts.assertIsValidIdentifier(node.name, strict);
	},

	FunctionDeclaration: function FunctionDeclaration(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
		contracts.assertAreValidArguments(node.params, strict);
	},

	FunctionExpression: function FunctionExpression(node, strict) {
		if (node.id) {
			contracts.assertIsValidName(node.id.name, strict);
		}

		contracts.assertAreValidArguments(node.params, strict);
	},

	Literal: function Literal(node, strict) {
		if (strict && node.raw) {
			if (contracts.isOctalLiteral(node.raw, node.value)) {
				throw new SyntaxError("Octal literals are not allowed in strict mode.");
			}
		}
	},

	UpdateExpression: function UpdateExpression(node, strict) {
		validateAssignment(node.argument, strict);
	},

	VariableDeclarator: function VariableDeclarator(node, strict) {
		contracts.assertIsValidName(node.id.name, strict);
	},

	WithStatement: function WithStatement(node, strict) {
		if (strict) {
			throw new SyntaxError("Strict mode code may not include a with statement");
		}
	}
};

exports["default"] = rules;
module.exports = exports["default"];
},{"./utils/contracts":222,"babel-runtime/helpers/interop-require-wildcard":21}],205:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ArgumentType = (function (_ObjectType) {
	_inherits(ArgumentType, _ObjectType);

	function ArgumentType(callee) {
		_classCallCheck(this, ArgumentType);

		_get(Object.getPrototypeOf(ArgumentType.prototype), "constructor", this).call(this);
		this.className = "Arguments";
		this.parameterMap = _Object$create(null);
		this.callee = callee;
	}

	_createClass(ArgumentType, [{
		key: "mapProperty",
		value: function mapProperty(index, binding) {
			index = String(index);
			_get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).call(this, index, { configurable: true, enumerable: true, writable: true, value: undefined }, true);
			this.parameterMap[index] = binding;
		}
	}, {
		key: "getProperty",
		value: function getProperty(name) {
			var ownProperty = this.getOwnProperty(name);
			if (ownProperty) {
				return ownProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getProperty", this).call(this, name);
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(name) {
			name = String(name);

			if (name in this.parameterMap) {
				var mappedProperty = this.properties[name];
				var linkedProperty = this.parameterMap[name];

				mappedProperty.value = linkedProperty.getValue();
				mappedProperty.setValue = linkedProperty.setValue.bind(linkedProperty);
				return mappedProperty;
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "getOwnProperty", this).call(this, name);
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			name = String(name);

			var allowed = _get(Object.getPrototypeOf(ArgumentType.prototype), "defineOwnProperty", this).apply(this, arguments);
			if (allowed && name in this.parameterMap) {
				if ("set" in descriptor || "get" in descriptor) {
					delete this.parameterMap[name];
				} else if ("value" in descriptor) {
					this.parameterMap[name].setValue(descriptor.value, throwOnError);
				}

				if ("writable" in descriptor && !descriptor.writable) {
					delete this.parameterMap[name];
				}
			}

			return allowed;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(name, throwOnError) {
			name = String(name);
			if (name in this.parameterMap) {
				delete this.parameterMap[name];
			}

			return _get(Object.getPrototypeOf(ArgumentType.prototype), "deleteProperty", this).apply(this, arguments);
		}
	}]);

	return ArgumentType;
})(_objectType.ObjectType);

exports.ArgumentType = ArgumentType;
},{"./object-type":213,"babel-runtime/core-js/object/create":6,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],206:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
var marked0$0 = [setLength].map(_regeneratorRuntime.mark);

var _objectType = require("./object-type");

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _iterators = require("../iterators");

var _iterators2 = _interopRequireDefault(_iterators);

var _utilsAsync = require("../utils/async");

function setIndex(env, arr, name, descriptor, throwOnError) {
	var index = Number(name);
	var lengthProperty = arr.getProperty("length");
	var lengthValue = lengthProperty.getValue().toNative();

	if (!lengthProperty.canSetValue() && index >= lengthValue || !_objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, false, env)) {

		if (throwOnError) {
			throw new TypeError("Cannot define property: " + name + ", object is not extensible.");
		}

		return false;
	}

	if (index >= lengthValue) {
		var newLength = env.objectFactory.createPrimitive(index + 1);
		arr.defineOwnProperty("length", { value: newLength }, false, env);
	}

	return true;
}

function setLength(env, arr, name, descriptor, throwOnError) {
	var newLengthValue, newLength, currentLength, notWritable, i, succeeded, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, entry;

	return _regeneratorRuntime.wrap(function setLength$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsNative.toUInt32)(env, descriptor.value);

			case 2:
				newLengthValue = context$1$0.sent;
				context$1$0.t0 = newLengthValue;
				context$1$0.next = 6;
				return (0, _utilsNative.toNumber)(env, descriptor.value);

			case 6:
				context$1$0.t1 = context$1$0.sent;

				if (!(context$1$0.t0 !== context$1$0.t1)) {
					context$1$0.next = 9;
					break;
				}

				throw new RangeError("Array length out of range");

			case 9:

				descriptor.value = env.objectFactory.createPrimitive(newLengthValue);
				newLength = descriptor.value;
				currentLength = arr.getProperty("length").getValue();

				contracts.assertIsValidArrayLength(newLength.value);

				if (!(newLength.value >= currentLength.value)) {
					context$1$0.next = 15;
					break;
				}

				return context$1$0.abrupt("return", _objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, throwOnError));

			case 15:
				if (!(arr.properties.length.writable === false)) {
					context$1$0.next = 19;
					break;
				}

				if (!throwOnError) {
					context$1$0.next = 18;
					break;
				}

				throw new TypeError("Cannot redefine property: length");

			case 18:
				return context$1$0.abrupt("return", false);

			case 19:
				notWritable = "writable" in descriptor && !descriptor.writable;

				if (notWritable) {
					// set to writable in case removing items fails
					descriptor.writable = true;
				}

				i = currentLength.value;

				if (_objectType.ObjectType.prototype.defineOwnProperty.call(arr, name, descriptor, throwOnError)) {
					context$1$0.next = 24;
					break;
				}

				return context$1$0.abrupt("return", false);

			case 24:
				succeeded = true;

				if (!(i > newLength.value)) {
					context$1$0.next = 55;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 29;
				_iterator = _getIterator(_iterators2["default"].reverse(env, arr, i - 1, newLength.value));

			case 31:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 41;
					break;
				}

				entry = _step.value;

				if (arr.deleteProperty(entry.index, false)) {
					context$1$0.next = 38;
					break;
				}

				newLength = env.objectFactory.createPrimitive(entry.index + 1);
				arr.defineOwnProperty("length", { value: newLength }, false, env);
				succeeded = false;
				return context$1$0.abrupt("break", 41);

			case 38:
				_iteratorNormalCompletion = true;
				context$1$0.next = 31;
				break;

			case 41:
				context$1$0.next = 47;
				break;

			case 43:
				context$1$0.prev = 43;
				context$1$0.t2 = context$1$0["catch"](29);
				_didIteratorError = true;
				_iteratorError = context$1$0.t2;

			case 47:
				context$1$0.prev = 47;
				context$1$0.prev = 48;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 50:
				context$1$0.prev = 50;

				if (!_didIteratorError) {
					context$1$0.next = 53;
					break;
				}

				throw _iteratorError;

			case 53:
				return context$1$0.finish(50);

			case 54:
				return context$1$0.finish(47);

			case 55:

				if (notWritable) {
					arr.defineOwnProperty("length", { writable: false }, false);
				}

				if (!(!succeeded && throwOnError)) {
					context$1$0.next = 58;
					break;
				}

				throw new TypeError("Cannot redefine property: length");

			case 58:
				return context$1$0.abrupt("return", succeeded);

			case 59:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[29, 43, 47, 55], [48,, 50, 54]]);
}

var ArrayType = (function (_ObjectType) {
	_inherits(ArrayType, _ObjectType);

	function ArrayType() {
		_classCallCheck(this, ArrayType);

		_get(Object.getPrototypeOf(ArrayType.prototype), "constructor", this).call(this);
		this.className = "Array";
	}

	_createClass(ArrayType, [{
		key: "init",
		value: function init(objectFactory) {
			this.defineOwnProperty("length", { value: objectFactory.createPrimitive(0), configurable: false, enumerable: false, writable: true });
		}
	}, {
		key: "putValue",
		value: function putValue(name, value, throwOnError, env) {
			if (name === "length") {
				(0, _utilsAsync.exhaust)(setLength(env, this, name, { value: value }, throwOnError));
				return;
			}

			_get(Object.getPrototypeOf(ArrayType.prototype), "putValue", this).apply(this, arguments);
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError, env) {
			if (contracts.isInteger(name) && contracts.isValidArrayLength(Number(name) + 1) && !this.hasOwnProperty(name)) {
				return setIndex(env, this, name, descriptor, throwOnError);
			}

			if (name === "length" && "length" in this.properties && descriptor && "value" in descriptor) {
				return (0, _utilsAsync.exhaust)(setLength(env, this, name, descriptor, throwOnError));
			}

			return _get(Object.getPrototypeOf(ArrayType.prototype), "defineOwnProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var arr = [];

			// this won't grab properties from the prototype - do we care?
			// it's an edge case but we may want to address it
			for (var index in this.properties) {
				if (this.properties[index].enumerable) {
					arr[Number(index)] = this.getValue(index).toNative();
				}
			}

			return arr;
		}
	}]);

	return ArrayType;
})(_objectType.ObjectType);

exports.ArrayType = ArrayType;
},{"../iterators":199,"../utils/async":221,"../utils/contracts":222,"../utils/native":224,"./object-type":213,"babel-runtime/core-js/get-iterator":3,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],207:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var DateType = (function (_ObjectType) {
	_inherits(DateType, _ObjectType);

	function DateType(value) {
		_classCallCheck(this, DateType);

		_get(Object.getPrototypeOf(DateType.prototype), "constructor", this).call(this);
		this.value = value;
		this.type = "object";
		this.className = "Date";

		// 11.6.1 Note 1
		// All native ECMAScript objects except Date objects handle the absence of a hint as if the hint
		// Number were given; Date objects handle the absence of a hint as if the hint String were given.
		this.primitiveHint = "string";
	}

	_createClass(DateType, [{
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return DateType;
})(_objectType.ObjectType);

exports.DateType = DateType;
},{"./object-type":213,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],208:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var ErrorType = (function (_ObjectType) {
	_inherits(ErrorType, _ObjectType);

	function ErrorType(source) {
		_classCallCheck(this, ErrorType);

		_get(Object.getPrototypeOf(ErrorType.prototype), "constructor", this).call(this);
		this.source = source;
		this.className = "Error";
	}

	_createClass(ErrorType, [{
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return ErrorType;
})(_objectType.ObjectType);

exports.ErrorType = ErrorType;
},{"./object-type":213,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],209:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _propertyDescriptor = require("./property-descriptor");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function getParameterLength(params) {
	for (var i = 0, ln = params.length; i < ln; i++) {
		// parameter length should only include the first "Formal" parameters
		if (params[i].type !== "Identifier") {
			return i;
		}
	}

	return params.length;
}

var FunctionType = (function (_ObjectType) {
	_inherits(FunctionType, _ObjectType);

	function FunctionType(node) {
		_classCallCheck(this, FunctionType);

		_get(Object.getPrototypeOf(FunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.className = "Function";
		this.native = false;
		this.node = node;

		this.arrow = node && node.type === "ArrowFunctionExpression";

		this.boundScope = null;
		this.boundThis = null;
	}

	_createClass(FunctionType, [{
		key: "init",
		value: function init(objectFactory, proto, descriptor, strict) {
			if (strict !== undefined) {
				this.strict = strict;
			}

			// set length property from the number of parameters
			this.defineOwnProperty("length", { value: objectFactory.createPrimitive(getParameterLength(this.node.params)) });
			this.initStrict(objectFactory);

			if (!this.arrow) {
				// functions have a prototype
				proto = proto || objectFactory.createObject();
				this.defineOwnProperty("prototype", { value: proto, writable: true });

				// set the contructor property as an instance of itself
				proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });
			}
		}
	}, {
		key: "initStrict",
		value: function initStrict(objectFactory) {
			// if (this.isStrict()) {
			// 	let throwerProps = objectFactory.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
			// 	this.defineOwnProperty("caller", throwerProps);
			// 	this.defineOwnProperty("arguments", throwerProps);
			// } else {
			// 	this.defineOwnProperty("caller", { value: objectFactory.createPrimitive(undefined) });
			// }
		}
	}, {
		key: "bindThis",
		value: function bindThis(thisArg) {
			this.boundThis = this.boundThis || thisArg;
		}
	}, {
		key: "bindScope",
		value: function bindScope(scope) {
			this.boundScope = scope;
		}
	}, {
		key: "isStrict",
		value: function isStrict() {
			if ("strict" in this) {
				return this.strict;
			}

			if (this.native) {
				return false;
			}

			return this.strict = contracts.isStrictNode(this.node.body.body);
		}
	}, {
		key: "createScope",
		value: function createScope(env, thisArg, isNew) {
			// if a parent scope is defined we need to limit this scope to that scope
			var priorScope = env.current.scope;

			if (this.boundScope) {
				env.setScope(this.boundScope.scope);
			}

			thisArg = this.boundThis || thisArg;
			if (this.arrow) {
				thisArg = env.getThisBinding();
			}

			var scope = env.createScope(thisArg, priorScope);
			scope.priorScope = priorScope;
			return scope;
		}
	}, {
		key: "hasInstance",
		value: function hasInstance(obj) {
			if (obj === this) {
				// object obviously isn't an instance in this case
				return false;
			}

			var visited = [];
			var current = obj;

			var proto = this.getValue("prototype");
			if (contracts.isNullOrUndefined(proto) || !contracts.isObject(proto)) {
				throw new TypeError("Function has non-object prototype in instanceof check");
			}

			while (current) {
				if (visited.indexOf(current) >= 0) {
					return false;
				}

				if (current === proto) {
					return true;
				}

				// keep a stack to avoid circular reference
				visited.push(current);
				current = current.getPrototype();
			}

			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return undefined;
		}
	}]);

	return FunctionType;
})(_objectType.ObjectType);

exports.FunctionType = FunctionType;
},{"../utils/contracts":222,"./object-type":213,"./property-descriptor":215,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19,"babel-runtime/helpers/interop-require-wildcard":21}],210:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var IteratorType = (function (_ObjectType) {
	_inherits(IteratorType, _ObjectType);

	function IteratorType(source) {
		_classCallCheck(this, IteratorType);

		_get(Object.getPrototypeOf(IteratorType.prototype), "constructor", this).call(this);

		this.source = source;
		this.position = 0;
		this.className = "Iterator";
	}

	_createClass(IteratorType, [{
		key: "next",
		value: function next() {
			if (this.position >= this.source.length) {
				return { done: true };
			}

			return {
				value: this.source[this.position++],
				done: false
			};
		}
	}]);

	return IteratorType;
})(_objectType.ObjectType);

exports.IteratorType = IteratorType;
},{"./object-type":213,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],211:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _functionType = require("./function-type");

var _propertyDescriptor = require("./property-descriptor");

var NativeFunctionType = (function (_FunctionType) {
	_inherits(NativeFunctionType, _FunctionType);

	function NativeFunctionType(fn) {
		_classCallCheck(this, NativeFunctionType);

		_get(Object.getPrototypeOf(NativeFunctionType.prototype), "constructor", this).call(this);
		this.type = "function";
		this.native = true;
		this.nativeFunction = fn;
	}

	_createClass(NativeFunctionType, [{
		key: "init",
		value: function init(objectFactory, proto, descriptor) {
			var length = this.nativeFunction.length;
			if ("nativeLength" in this.nativeFunction) {
				length = this.nativeFunction.nativeLength;
			}

			if ("strict" in this.nativeFunction) {
				this.strict = this.nativeFunction.strict;
			}

			this.initStrict(objectFactory);
			this.defineOwnProperty("length", {
				value: objectFactory.createPrimitive(length),
				configurable: false,
				enumerable: false,
				writable: false
			});

			proto = proto || objectFactory.createObject();
			proto.properties.constructor = new _propertyDescriptor.PropertyDescriptor(this, { configurable: true, enumerable: false, writable: true, value: this });

			descriptor = descriptor || { configurable: false, enumerable: false, writable: true };
			var protoDescriptor = {
				value: proto,
				configurable: descriptor.configurable,
				enumerable: descriptor.enumerable,
				writable: descriptor.writable
			};

			this.defineOwnProperty("prototype", protoDescriptor);
		}
	}]);

	return NativeFunctionType;
})(_functionType.FunctionType);

exports.NativeFunctionType = NativeFunctionType;
},{"./function-type":209,"./property-descriptor":215,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],212:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _primitiveType = require("./primitive-type");

var _functionType = require("./function-type");

var _nativeFunctionType = require("./native-function-type");

var _regexType = require("./regex-type");

var _arrayType = require("./array-type");

var _stringType = require("./string-type");

var _dateType = require("./date-type");

var _errorType = require("./error-type");

var _argumentType = require("./argument-type");

var _setType = require("./set-type");

var _iteratorType = require("./iterator-type");

var _symbolType = require("./symbol-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var orphans = _Object$create(null);

function setOrphans(scope) {
	var _loop = function (typeName) {
		var parent = scope.getValue(typeName);
		if (parent) {
			orphans[typeName].forEach(function (child) {
				child.setPrototype(parent.getValue("prototype"));
			});

			delete orphans[typeName];
		}
	};

	for (var typeName in orphans) {
		_loop(typeName);
	}

	orphans = _Object$create(null);
}

function setProto(typeName, instance, env) {
	var parent = env.getReference(typeName);
	if (parent.isUnresolved()) {
		// during initialization it is possible for objects to be created
		// before the types have been registered - add a registry of items
		// and these can be filled in when the type is registered
		orphans[typeName] = orphans[typeName] || [];
		orphans[typeName].push(instance);

		return;
	}

	var proto = parent.getValue().getValue("prototype");
	instance.setPrototype(proto);
}

var defaultDescriptor = { configurable: true, enumerable: true, writable: true };
function createDataPropertyDescriptor(value) {
	var _ref = arguments.length <= 1 || arguments[1] === undefined ? defaultDescriptor : arguments[1];

	var _ref$configurable = _ref.configurable;
	var configurable = _ref$configurable === undefined ? true : _ref$configurable;
	var _ref$enumerable = _ref.enumerable;
	var enumerable = _ref$enumerable === undefined ? true : _ref$enumerable;
	var _ref$writable = _ref.writable;
	var writable = _ref$writable === undefined ? true : _ref$writable;

	return { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
}

var ObjectFactory = (function () {
	function ObjectFactory(env) {
		_classCallCheck(this, ObjectFactory);

		this.env = env;
		this.options = env.options;
	}

	_createClass(ObjectFactory, [{
		key: "init",
		value: function init() {
			setOrphans(this.env);
		}

		/**
   * Creates a primitive object based on the provided native value.
   * @param {any} value - The primitive value.
   * @returns {ObjectType} The primitive instance.
   */
	}, {
		key: "createPrimitive",
		value: function createPrimitive(value) {
			return this.create(contracts.getType(value), value);
		}

		/**
   * Creates an object based on the type specified. For a primitive type the second
   * parameter is used as the objects underlying value.
   * @param {String} typeName - The name of the object to create.
   * @param {any} [value] - The primitive value.
   * @returns {ObjectType} The new instance.
   */
	}, {
		key: "create",
		value: function create(typeName, value) {
			// the value is already wrapped in an object
			// this can happen if an exception is rethrown
			if (value && value instanceof _objectType.ObjectType) {
				return value;
			}

			var instance = undefined;

			switch (typeName) {
				case "Null":
					return _primitiveType.NULL;

				case "Undefined":
					return _primitiveType.UNDEFINED;

				case "Symbol":
					instance = new _symbolType.SymbolType(value);
					break;

				case "String":
					instance = new _stringType.StringType(value);
					break;

				case "Number":
				case "Boolean":
					instance = new _primitiveType.PrimitiveType(value);
					break;

				case "Date":
					instance = new _dateType.DateType(value);
					break;

				case "RegExp":
					instance = new _regexType.RegexType(value);
					break;

				case "Array":
					instance = new _arrayType.ArrayType();
					break;

				case "Set":
					instance = new _setType.SetType();
					break;

				case "Error":
				case "TypeError":
				case "ReferenceError":
				case "SyntaxError":
				case "RangeError":
				case "URIError":
				case "EvalError":
					instance = new _errorType.ErrorType(value);

					if (value) {
						typeName = value.name || typeName;
						if (value.message) {
							var message = this.createPrimitive(value.message);
							instance.defineOwnProperty("message", createDataPropertyDescriptor(message, { enumerable: false }));
						}
					}

					break;

				default:
					throw new Error("Not a primitive: " + value);
			}

			instance.init(this);
			setProto(typeName, instance, this.env);
			return instance;
		}

		/**
   * Creates an array object.
   * @param {ObjectType[]} [elements] - If provided, the elements will be added to the new array.
   * @returns {ArrayType} The array instance.
   */
	}, {
		key: "createArray",
		value: function createArray(elements) {
			var instance = this.create("Array");

			if (elements) {
				for (var i = 0, ln = elements.length; i < ln; i++) {
					instance.defineOwnProperty(i, createDataPropertyDescriptor(elements[i]), true, this.env);
				}
			}

			return instance;
		}

		/**
   * Creates an object.
   * @param {ObjectType} [proto] - The prototype to use with the new object. If no value is provided
   * the Object prototype will be used. If `null` is passed in, no prototype will be assigned to the
   * new object.
   * @returns {ObjectType} The object instance.
   */
	}, {
		key: "createObject",
		value: function createObject(proto) {
			var instance = new _objectType.ObjectType();

			if (proto !== null) {
				if (proto) {
					instance.setPrototype(proto.getValue("prototype"));
				} else {
					setProto("Object", instance, this.env);
				}
			}

			instance.init(this);
			return instance;
		}
	}, {
		key: "createArguments",
		value: function createArguments(args, callee, strict) {
			var instance = new _argumentType.ArgumentType();
			var objectClass = this.env.global.getValue("Object");

			instance.init(this, objectClass, objectClass.getPrototype());
			instance.setPrototype(objectClass.getValue("prototype"));

			if (strict) {
				var thrower = this.createThrower("'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them");
				instance.defineOwnProperty("callee", thrower);
				instance.defineOwnProperty("caller", thrower);
			} else {
				instance.defineOwnProperty("callee", {
					configurable: true,
					enumerable: false,
					value: callee,
					writable: true
				});
			}

			return instance;
		}
	}, {
		key: "createIterator",
		value: function createIterator(iterable) {
			var self = this;
			var instance = new _iteratorType.IteratorType(iterable);

			instance.define("next", this.createBuiltInFunction(function () {
				var current = instance.next();

				var result = self.createObject();
				result.defineOwnProperty("done", { value: self.createPrimitive(current.done) });
				result.defineOwnProperty("value", { value: current.value || _primitiveType.UNDEFINED });
				return result;
			}));

			return instance;
		}

		/**
   * Creates a function instance.
   * @param {AST|Function} fnOrNode - The AST or function to be used when the function is called.
   * @param {ObjectType} [proto] - The prototype to use for the function. If no object is provided
   * an empty object is used.
   * @param {Object} [options] - Property values to be used for the prototype.
   * @returns {FunctionType} The function instance.
   */
	}, {
		key: "createFunction",
		value: function createFunction(fnOrNode, proto) {
			var _ref2 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref2$configurable = _ref2.configurable;
			var configurable = _ref2$configurable === undefined ? false : _ref2$configurable;
			var _ref2$enumerable = _ref2.enumerable;
			var enumerable = _ref2$enumerable === undefined ? false : _ref2$enumerable;
			var _ref2$writable = _ref2.writable;
			var writable = _ref2$writable === undefined ? true : _ref2$writable;
			var _ref2$strict = _ref2.strict;
			var strict = _ref2$strict === undefined ? false : _ref2$strict;
			var _ref2$name = _ref2.name;
			var name = _ref2$name === undefined ? "anonymous" : _ref2$name;

			var instance = undefined;

			if (typeof fnOrNode === "function") {
				instance = new _nativeFunctionType.NativeFunctionType(fnOrNode);
			} else {
				instance = new _functionType.FunctionType(fnOrNode);
			}

			instance.init(this, proto, { configurable: configurable, enumerable: enumerable, writable: writable }, strict);
			instance.name = name;

			if (this.options.ecmaVersion > 5) {
				instance.defineOwnProperty("name", { value: this.createPrimitive(name), configurable: true }, true, this.env);
			}

			setProto("Function", instance, this.env);
			return instance;
		}

		/**
   * Creates a function with no prototype that cannot be instantiated.
   * @param {Function} func - The underlying function.
   * @param {Number} length - The length property of the function.
   * @param {String} funcName - The name of the function.
   * @returns {NativeFunctionType} The function instance.
   */
	}, {
		key: "createBuiltInFunction",
		value: function createBuiltInFunction(func, length, funcName) {
			var instance = new _nativeFunctionType.NativeFunctionType(function () {
				if (this.isNew) {
					throw new TypeError(funcName + " is not a constructor");
				}

				return func.apply(this, arguments);
			});

			setProto("Function", instance, this.env);
			instance.builtIn = true;
			instance.defineOwnProperty("length", { value: this.createPrimitive(length), configurable: false, enumerable: false, writable: false });
			return instance;
		}
	}, {
		key: "createThrower",
		value: function createThrower(message, thrower) {
			this.throwers = this.throwers || _Object$create(null);
			if (message in this.throwers) {
				return this.throwers[message];
			}

			thrower = thrower || function () {
				throw new TypeError(message);
			};

			// we want to keep the same instance of the throwers because there
			// are silly tests that check for this
			var throwerInstance = this.createBuiltInFunction(thrower);
			return this.throwers[message] = {
				get: throwerInstance,
				getter: thrower,
				set: throwerInstance,
				setter: thrower,
				enumerable: false,
				configurable: false
			};
		}
	}]);

	return ObjectFactory;
})();

exports.ObjectFactory = ObjectFactory;
},{"../utils/contracts":222,"./argument-type":205,"./array-type":206,"./date-type":207,"./error-type":208,"./function-type":209,"./iterator-type":210,"./native-function-type":211,"./object-type":213,"./primitive-type":214,"./regex-type":216,"./set-type":217,"./string-type":218,"./symbol-type":219,"babel-runtime/core-js/object/create":6,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/interop-require-wildcard":21}],213:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _Object$keys = require("babel-runtime/core-js/object/keys")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _propertyDescriptor = require("./property-descriptor");

function isSymbol(key) {
	return key && typeof key !== "string" && key.isSymbol;
}

function getPropertySource(key) {
	return isSymbol(key) ? "symbols" : "properties";
}

var ObjectType = (function () {
	function ObjectType() {
		_classCallCheck(this, ObjectType);

		this.isPrimitive = false;
		this.type = "object";
		this.className = "Object";
		this.extensible = true;
		this.properties = _Object$create(null);
		this.symbols = _Object$create(null);

		this.version = 0;
		this.primitiveHint = "number";
	}

	_createClass(ObjectType, [{
		key: "init",
		value: function init(objectFactory, proto, descriptor) {}
	}, {
		key: "getPrototype",
		value: function getPrototype() {
			return this.proto;
		}
	}, {
		key: "setPrototype",
		value: function setPrototype(proto) {
			this.proto = proto;
			this.version++;
		}
	}, {
		key: "getProperty",
		value: function getProperty(key) {
			var source = getPropertySource(key);
			key = String(key);

			var current = this;
			while (current) {
				if (key in current[source]) {
					return current[source][key].bind(this);
				}

				current = current.getPrototype();
			}

			return undefined;
		}
	}, {
		key: "getOwnProperty",
		value: function getOwnProperty(key) {
			return this[getPropertySource(key)][String(key)];
		}
	}, {
		key: "getOwnPropertyNames",
		value: function getOwnPropertyNames() {
			return _Object$keys(this.properties);
		}
	}, {
		key: "hasProperty",
		value: function hasProperty(key) {
			return !!this.getProperty(key);
		}
	}, {
		key: "hasOwnProperty",
		value: function hasOwnProperty(key) {
			return String(key) in this[getPropertySource(key)];
		}
	}, {
		key: "putValue",
		value: function putValue(key, value, throwOnError, env) {
			if (this.isPrimitive) {
				return;
			}

			var descriptor = this.getProperty(key);
			if (descriptor) {
				if (!descriptor.canSetValue()) {
					if (throwOnError) {
						throw new TypeError("Cannot assign to read only property '" + key + "' of %s");
					}

					return;
				}

				if (descriptor.dataProperty && !this.hasOwnProperty(key)) {
					this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, {
						value: value,
						configurable: descriptor.configurable,
						enumerable: descriptor.enumerable,
						writable: descriptor.writable
					});

					this.version++;
				} else {
					descriptor.setValue(value);
				}
			} else {
				this.defineOwnProperty(key, { value: value, configurable: true, enumerable: true, writable: true }, throwOnError, env);
			}
		}
	}, {
		key: "defineOwnProperty",
		value: function defineOwnProperty(key, descriptor, throwOnError, env) {
			if (this.isPrimitive) {
				if (throwOnError) {
					throw new TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			var current = this.getOwnProperty(key);
			if (current) {
				if (current.canUpdate(descriptor)) {
					current.update(descriptor);
					return true;
				}

				if (throwOnError) {
					throw new TypeError("Cannot redefine property: " + key);
				}

				return false;
			} else if (!this.extensible) {
				if (throwOnError) {
					throw new TypeError("Cannot define property: " + key + ", object is not extensible");
				}

				return false;
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor);
			this.version++;
			return true;
		}
	}, {
		key: "deleteProperty",
		value: function deleteProperty(key, throwOnError) {
			if (this.isPrimitive) {
				return false;
			}

			var source = getPropertySource(key);
			key = String(key);

			if (key in this[source]) {
				if (!this[source][key].configurable) {
					if (throwOnError) {
						throw new TypeError("Cannot delete property: " + key);
					}

					return false;
				}
			}

			this.version++;
			return delete this[source][key];
		}
	}, {
		key: "define",
		value: function define(key, value) {
			var _ref = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];

			var _ref$configurable = _ref.configurable;
			var configurable = _ref$configurable === undefined ? true : _ref$configurable;
			var _ref$enumerable = _ref.enumerable;
			var enumerable = _ref$enumerable === undefined ? false : _ref$enumerable;
			var _ref$writable = _ref.writable;
			var writable = _ref$writable === undefined ? true : _ref$writable;
			var getter = _ref.getter;
			var get = _ref.get;
			var setter = _ref.setter;
			var set = _ref.set;

			// this method is intended for external usage only - it provides a way to define
			// methods and properties and overwrite any existing properties even if they are
			// not configurable

			var descriptor = undefined;
			if (getter || setter) {
				descriptor = { getter: getter, get: get, setter: setter, set: set, configurable: configurable, enumerable: enumerable };
			} else {
				descriptor = { value: value, configurable: configurable, enumerable: enumerable, writable: writable };
			}

			this[getPropertySource(key)][String(key)] = new _propertyDescriptor.PropertyDescriptor(this, descriptor);
			this.version++;
		}
	}, {
		key: "remove",
		value: function remove(key) {
			// this method is intended for external usage only - it provides a way to remove
			// properties even if they are not normally able to be deleted
			delete this[getPropertySource(key)][String(key)];
			this.version++;
		}
	}, {
		key: "getValue",
		value: function getValue(key) {
			if (arguments.length > 0) {
				return this.getProperty(key).getValue();
			}

			return this;
		}
	}, {
		key: "freeze",
		value: function freeze() {
			for (var prop in this.properties) {
				if (this.properties[prop].dataProperty) {
					this.defineOwnProperty(prop, { writable: false, configurable: false }, true);
				} else {
					this.defineOwnProperty(prop, { configurable: false }, true);
				}
			}

			this.preventExtensions();
		}
	}, {
		key: "preventExtensions",
		value: function preventExtensions() {
			this.extensible = false;
		}
	}, {
		key: "seal",
		value: function seal() {
			for (var prop in this.properties) {
				this.defineOwnProperty(prop, { configurable: false }, true);
			}

			this.preventExtensions();
		}
	}, {
		key: "equals",
		value: function equals(obj) {
			if (this.isPrimitive && obj.isPrimitive) {
				return this.value === obj.value;
			}

			return this === obj;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			var unwrapped = {};
			var current = this;

			while (current) {
				for (var _name in current.properties) {
					if (current.properties[_name].enumerable && !(_name in unwrapped)) {
						unwrapped[_name] = current.getValue(_name).toNative();
					}
				}

				current = current.getPrototype();
			}

			return unwrapped;
		}
	}]);

	return ObjectType;
})();

exports.ObjectType = ObjectType;
},{"./property-descriptor":215,"babel-runtime/core-js/object/create":6,"babel-runtime/core-js/object/keys":9,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],214:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var PrimitiveType = (function (_ObjectType) {
	_inherits(PrimitiveType, _ObjectType);

	function PrimitiveType(value) {
		_classCallCheck(this, PrimitiveType);

		_get(Object.getPrototypeOf(PrimitiveType.prototype), "constructor", this).call(this);

		this.isPrimitive = true;
		this.value = value;
		this.type = typeof value;

		this.className = contracts.getType(value);
	}

	_createClass(PrimitiveType, [{
		key: "getProperty",
		value: function getProperty(name) {
			// can't read properties of null/undefined
			if (this.value == null) {
				throw new TypeError("Cannot read property '" + name + "' of " + this.type);
			}

			return _get(Object.getPrototypeOf(PrimitiveType.prototype), "getProperty", this).apply(this, arguments);
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.value;
		}
	}]);

	return PrimitiveType;
})(_objectType.ObjectType);

exports.PrimitiveType = PrimitiveType;
var UNDEFINED = new PrimitiveType(undefined);
exports.UNDEFINED = UNDEFINED;
var NULL = new PrimitiveType(null);
exports.NULL = NULL;
},{"../utils/contracts":222,"./object-type":213,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19,"babel-runtime/helpers/interop-require-wildcard":21}],215:[function(require,module,exports){
"use strict";

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _utilsOperators = require("../utils/operators");

var _utilsAsync = require("../utils/async");

var defaultDescriptor = {
	configurable: false,
	enumerable: false,
	writable: false
};

var PropertyDescriptor = (function () {
	function PropertyDescriptor(base, config, value) {
		if (config === undefined) config = defaultDescriptor;

		_classCallCheck(this, PropertyDescriptor);

		this.base = base;
		this.configurable = config.configurable || false;
		this.enumerable = config.enumerable || false;

		if ("get" in config || "set" in config) {
			this.dataProperty = false;
			this.get = config.get;
			this.getter = config.getter;
			this.set = config.set;
			this.setter = config.setter;
		} else {
			this.writable = config.writable || false;
			this.dataProperty = true;
			this.value = value || config.value;
		}
	}

	_createClass(PropertyDescriptor, [{
		key: "bind",
		value: function bind(obj) {
			this.base = obj;
			return this;
		}
	}, {
		key: "update",
		value: function update(descriptor) {
			for (var prop in descriptor) {
				if (descriptor.hasOwnProperty(prop)) {
					this[prop] = descriptor[prop];
				}
			}

			if ("get" in descriptor || "set" in descriptor) {
				this.writable = undefined;
				this.dataProperty = false;
				this.value = undefined;
			} else if ("value" in descriptor) {
				this.writable = this.writable === undefined ? false : this.writable;
				this.dataProperty = true;
				this.get = this.getter = this.set = this.setter = undefined;
			}
		}
	}, {
		key: "canUpdate",
		value: function canUpdate(descriptor) {
			if (this.configurable) {
				return true;
			}

			if ("configurable" in descriptor && this.configurable !== descriptor.configurable) {
				return false;
			}

			if ("enumerable" in descriptor && this.enumerable !== descriptor.enumerable) {
				return false;
			}

			if (("get" in descriptor || "set" in descriptor) && this.dataProperty) {
				return false;
			}

			if ("value" in descriptor && !this.dataProperty) {
				return false;
			}

			if (this.dataProperty) {
				if (!this.writable) {
					if (descriptor.writable) {
						return false;
					}

					return !("value" in descriptor) || (0, _utilsOperators.areSame)(this.value, descriptor.value);
				}

				return true;
			}

			if ("get" in descriptor && this.get !== descriptor.get) {
				return false;
			}

			if ("set" in descriptor && this.set !== descriptor.set) {
				return false;
			}

			return true;
		}
	}, {
		key: "getValue",
		value: function getValue() {
			if (this.dataProperty) {
				return this.value;
			}

			if (this.getter) {
				return (0, _utilsAsync.exhaust)(this.getter.call(this.base));
			}

			return undefined;
		}
	}, {
		key: "canSetValue",
		value: function canSetValue() {
			return this.writable || !!this.setter;
		}
	}, {
		key: "setValue",
		value: function setValue(value) {
			if (!this.canSetValue()) {
				return;
			}

			if (this.dataProperty) {
				this.value = value;
			} else if (this.setter) {
				(0, _utilsAsync.exhaust)(this.setter.call(this.base, value));
			}
		}
	}]);

	return PropertyDescriptor;
})();

exports.PropertyDescriptor = PropertyDescriptor;
},{"../utils/async":221,"../utils/operators":225,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],216:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var RegexType = (function (_ObjectType) {
	_inherits(RegexType, _ObjectType);

	function RegexType(value) {
		_classCallCheck(this, RegexType);

		_get(Object.getPrototypeOf(RegexType.prototype), "constructor", this).call(this);
		this.source = value;
		this.className = "RegExp";
	}

	_createClass(RegexType, [{
		key: "init",
		value: function init(objectFactory) {
			// lastIndex is settable, all others are read-only attributes
			this.defineOwnProperty("lastIndex", { value: objectFactory.createPrimitive(this.source.lastIndex), writable: true });
			this.defineOwnProperty("source", { value: objectFactory.createPrimitive(this.source.source) });
			this.defineOwnProperty("global", { value: objectFactory.createPrimitive(this.source.global) });
			this.defineOwnProperty("ignoreCase", { value: objectFactory.createPrimitive(this.source.ignoreCase) });
			this.defineOwnProperty("multiline", { value: objectFactory.createPrimitive(this.source.multiline) });
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return this.source;
		}
	}]);

	return RegexType;
})(_objectType.ObjectType);

exports.RegexType = RegexType;
},{"./object-type":213,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],217:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var SetType = (function (_ObjectType) {
	_inherits(SetType, _ObjectType);

	function SetType() {
		_classCallCheck(this, SetType);

		_get(Object.getPrototypeOf(SetType.prototype), "constructor", this).call(this);
		this.setData = [];
	}

	_createClass(SetType, [{
		key: "init",
		value: function init(objectFactory) {
			var self = this;

			this.defineOwnProperty("size", {
				getter: function getter() {
					return objectFactory.createPrimitive(self.setData.length);
				},
				get: function get() {}
			});
		}
	}, {
		key: "values",
		value: function values() {
			return this.setData;
		}
	}, {
		key: "keys",
		value: function keys() {
			return this.setData;
		}
	}]);

	return SetType;
})(_objectType.ObjectType);

exports.SetType = SetType;
},{"./object-type":213,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],218:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _primitiveType = require("./primitive-type");

var _propertyDescriptor = require("./property-descriptor");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function getCharacter(source, position) {
	if (position < source.value.length) {
		// todo: need to set length
		var character = new StringType(source.value[position]);
		character.setPrototype(source.getPrototype());
		return character;
	}

	return new _primitiveType.PrimitiveType(undefined);
}

var StringType = (function (_PrimitiveType) {
	_inherits(StringType, _PrimitiveType);

	function StringType(value) {
		_classCallCheck(this, StringType);

		_get(Object.getPrototypeOf(StringType.prototype), "constructor", this).call(this, value);
	}

	_createClass(StringType, [{
		key: "init",
		value: function init(objectFactory) {
			this.properties.length = new _propertyDescriptor.PropertyDescriptor(this, {
				configurable: false,
				enumerable: false,
				writable: false,
				value: objectFactory.createPrimitive(this.value.length)
			});
		}
	}, {
		key: "getProperty",
		value: function getProperty(name) {
			if (contracts.isInteger(name)) {
				var position = Number(name);
				if (position < this.value.length) {
					return new _propertyDescriptor.PropertyDescriptor(this, { configurable: false, enumerable: true, writable: false, value: getCharacter(this, position) });
				}
			}

			return _get(Object.getPrototypeOf(StringType.prototype), "getProperty", this).apply(this, arguments);
		}
	}, {
		key: "getOwnPropertyNames",
		value: function getOwnPropertyNames() {
			var props = [];
			for (var i = 0, ln = this.value.length; i < ln; i++) {
				props.push(String(i));
			}

			return props.concat(_get(Object.getPrototypeOf(StringType.prototype), "getOwnPropertyNames", this).call(this));
		}
	}, {
		key: "hasOwnProperty",
		value: function hasOwnProperty(name) {
			if (contracts.isInteger(name)) {
				return name < this.value.length;
			}

			return _get(Object.getPrototypeOf(StringType.prototype), "hasOwnProperty", this).apply(this, arguments);
		}
	}]);

	return StringType;
})(_primitiveType.PrimitiveType);

exports.StringType = StringType;
},{"../utils/contracts":222,"./primitive-type":214,"./property-descriptor":215,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19,"babel-runtime/helpers/interop-require-wildcard":21}],219:[function(require,module,exports){
"use strict";

var _get = require("babel-runtime/helpers/get")["default"];

var _inherits = require("babel-runtime/helpers/inherits")["default"];

var _createClass = require("babel-runtime/helpers/create-class")["default"];

var _classCallCheck = require("babel-runtime/helpers/class-call-check")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _objectType = require("./object-type");

var GLOBAL_SYMBOL_REGISTRY = _Object$create(null);
var uid = 0;

var SymbolType = (function (_ObjectType) {
	_inherits(SymbolType, _ObjectType);

	function SymbolType(description) {
		_classCallCheck(this, SymbolType);

		_get(Object.getPrototypeOf(SymbolType.prototype), "constructor", this).call(this);
		this.type = "symbol";
		this.className = "Symbol";
		this.description = description;
		this.uid = uid++;

		// add so we can easily check if an object is a symbol when we care
		this.isSymbol = true;
	}

	_createClass(SymbolType, [{
		key: "defineOwnProperty",
		value: function defineOwnProperty(name, descriptor, throwOnError) {
			if (throwOnError) {
				throw new TypeError("Cannot assign to read only property '" + name + "' of " + this.toNative());
			}

			return false;
		}
	}, {
		key: "toNative",
		value: function toNative() {
			return "Symbol(" + this.description + ")";
		}
	}, {
		key: "toString",
		value: function toString() {
			// this method is here so symbols can be coerced into strings for property lookups
			return "@@" + this.uid;
		}
	}], [{
		key: "add",
		value: function add(key, sym) {
			GLOBAL_SYMBOL_REGISTRY[key] = sym;
		}
	}, {
		key: "getByKey",
		value: function getByKey(key) {
			return GLOBAL_SYMBOL_REGISTRY[key];
		}
	}, {
		key: "getByInstance",
		value: function getByInstance(sym) {
			for (var key in GLOBAL_SYMBOL_REGISTRY) {
				if (sym === GLOBAL_SYMBOL_REGISTRY[key]) {
					return GLOBAL_SYMBOL_REGISTRY[key];
				}
			}

			return undefined;
		}
	}]);

	return SymbolType;
})(_objectType.ObjectType);

exports.SymbolType = SymbolType;
},{"./object-type":213,"babel-runtime/core-js/object/create":6,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":18,"babel-runtime/helpers/inherits":19}],220:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.declare = declare;
exports.assign = assign;
var marked0$0 = [declare, assign, destructure, handleDefault, destructureArray, getObjectKey, destructureObject].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

var _async = require("./async");

var _native = require("./native");

function declare(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function declare$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(leftNode.type === "Identifier")) {
					context$1$0.next = 5;
					break;
				}

				left = env.createVariable(leftNode.name);

				left.setValue(rightValue);
				context$1$0.next = 7;
				break;

			case 5:
				context$1$0.next = 7;
				return destructure(env, leftNode, rightValue, declare);

			case 7:
				return context$1$0.abrupt("return", rightValue);

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function assign(env, leftNode, rightValue) {
	var left;
	return _regeneratorRuntime.wrap(function assign$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "Identifier" ? 3 : context$1$0.t0 === "MemberExpression" ? 3 : 8;
				break;

			case 3:
				context$1$0.next = 5;
				return env.createExecutionContext(leftNode);

			case 5:
				left = context$1$0.sent.result;

				left.setValue(rightValue);
				return context$1$0.abrupt("break", 10);

			case 8:
				context$1$0.next = 10;
				return destructure(env, leftNode, rightValue, assign);

			case 10:
				return context$1$0.abrupt("return", rightValue);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function destructure(env, leftNode, rightValue, cb) {
	return _regeneratorRuntime.wrap(function destructure$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.t0 = leftNode.type;
				context$1$0.next = context$1$0.t0 === "ArrayPattern" ? 3 : context$1$0.t0 === "ObjectPattern" ? 6 : context$1$0.t0 === "AssignmentPattern" ? 9 : 12;
				break;

			case 3:
				context$1$0.next = 5;
				return destructureArray(env, leftNode, rightValue, cb);

			case 5:
				return context$1$0.abrupt("break", 13);

			case 6:
				context$1$0.next = 8;
				return destructureObject(env, leftNode, rightValue, cb);

			case 8:
				return context$1$0.abrupt("break", 13);

			case 9:
				context$1$0.next = 11;
				return handleDefault(env, leftNode, rightValue, cb);

			case 11:
				return context$1$0.abrupt("break", 13);

			case 12:
				throw new Error(leftNode.type + " not implemented");

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function handleDefault(env, left, rightValue, cb) {
	var defaultValue;
	return _regeneratorRuntime.wrap(function handleDefault$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(rightValue === _typesPrimitiveType.UNDEFINED)) {
					context$1$0.next = 5;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(left.right).execute();

			case 3:
				defaultValue = context$1$0.sent;

				rightValue = defaultValue.result.getValue();

			case 5:
				context$1$0.next = 7;
				return cb(env, left.left, rightValue);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function destructureArray(env, pattern, arr, cb) {
	return _regeneratorRuntime.wrap(function destructureArray$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.elements, _regeneratorRuntime.mark(function callee$1$0(current, index) {
					var propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								propInfo = arr.getProperty(index);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 4;
								return cb(env, current, value);

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function getObjectKey(env, keyNode) {
	var key;
	return _regeneratorRuntime.wrap(function getObjectKey$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!keyNode.computed) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 3;
				return env.createExecutionContext(keyNode).execute();

			case 3:
				key = context$1$0.sent.result.getValue();

				if (!key.isSymbol) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", key);

			case 6:
				context$1$0.next = 8;
				return (0, _native.toString)(env, key);

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
				return context$1$0.abrupt("return", keyNode.name);

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function destructureObject(env, pattern, obj, cb) {
	return _regeneratorRuntime.wrap(function destructureObject$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _async.each)(pattern.properties, _regeneratorRuntime.mark(function callee$1$0(current) {
					var key, propInfo, value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return getObjectKey(env, current.key);

							case 2:
								key = context$2$0.sent;
								propInfo = obj.getProperty(key);
								value = propInfo ? propInfo.getValue() : _typesPrimitiveType.UNDEFINED;
								context$2$0.next = 7;
								return cb(env, current.value, value);

							case 7:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}
},{"../types/primitive-type":214,"./async":221,"./native":224,"babel-runtime/regenerator":23}],221:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Promise = require("babel-runtime/core-js/promise")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.map = map;
exports.each = each;
exports.step = step;
exports.exhaust = exhaust;
exports.promisify = promisify;
var marked0$0 = [map, each, step].map(_regeneratorRuntime.mark);

require("../polyfills");

var objectOrFunctionTypes = { "object": true, "function": true };
function isObjectOrFunction(obj) {
	return obj && typeof obj in objectOrFunctionTypes;
}

function isThenable(obj) {
	return isObjectOrFunction(obj) && typeof obj.then === "function";
}

function isNextable(obj) {
	return isObjectOrFunction(obj) && typeof obj.next === "function";
}

function map(arr, func) {
	var mapped, i, ln;
	return _regeneratorRuntime.wrap(function map$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				mapped = [];
				i = 0, ln = arr.length;

			case 2:
				if (!(i < ln)) {
					context$1$0.next = 10;
					break;
				}

				context$1$0.t0 = mapped;
				return context$1$0.delegateYield(func(arr[i], i, arr), "t1", 5);

			case 5:
				context$1$0.t2 = context$1$0.t1;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t2);

			case 7:
				i++;
				context$1$0.next = 2;
				break;

			case 10:
				return context$1$0.abrupt("return", mapped);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function each(arr, func) {
	var abort, aborter, i, ln;
	return _regeneratorRuntime.wrap(function each$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				abort = false;

				aborter = function aborter() {
					abort = true;
				};

				i = 0, ln = arr.length;

			case 3:
				if (!(i < ln)) {
					context$1$0.next = 10;
					break;
				}

				return context$1$0.delegateYield(func(arr[i], i, arr, aborter), "t0", 5);

			case 5:
				if (!abort) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("break", 10);

			case 7:
				i++;
				context$1$0.next = 3;
				break;

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function step(it, prev) {
	var result, value;
	return _regeneratorRuntime.wrap(function step$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = it.next(prev);
				value = result.value;

				if (!isNextable(value)) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.delegateYield(step(value), "t0", 4);

			case 4:
				context$1$0.next = 9;
				break;

			case 6:
				if (!isThenable(value)) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 9;
				return value.then(function (res) {
					return it;
				});

			case 9:
				if (!result.done) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 13:
				context$1$0.next = 15;
				return step(it, value);

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

/**
 * Fully exhausts an iterator, including delegated generators.
 * Special handling is taken if a Promise is returned, pausing
 * the generator until the promise is resolved.
 *
 * @param {Iterator} [it] - The iterator
 * @param {Object} [prev] - The previous iteration value (internal)
 * @returns {Object|Promise} Returns the final value, or a Promise if
 * at any point in the iteration a Promise is returned.
 */

function exhaust(_x, _x2) {
	var _again = true;

	_function: while (_again) {
		var it = _x,
		    prev = _x2;
		result = value = e = undefined;
		_again = false;

		// sanity check
		if (!isNextable(it)) {
			return it;
		}

		var result = it.next(prev);
		var value = result.value;

		if (isNextable(value)) {
			try {
				value = exhaust(value);
			} catch (err) {
				// cascade the error upstream
				var e = it["throw"](err);
				_x = e.value;
				_x2 = undefined;
				_again = true;
				continue _function;
			}
		}

		if (result.done) {
			return value;
		}

		if (isThenable(value)) {
			return value.then(function (res) {
				return exhaust(it, res);
			}, function (err) {
				return it["throw"](err);
			});
		}

		_x = it;
		_x2 = value;
		_again = true;
		continue _function;
	}
}

/**
 * Normalizes a result into a promise, whether it is a generator, promise,
 * or normal value.
 *
 * @param {Iterator} [it] - The iterator.
 * @returns {Promise} A promise which resolves or rejects based on the result.
 */

function promisify(it) {
	try {
		var result = exhaust(it);
		if (isNextable(result)) {
			return result;
		}

		return _Promise.resolve(result);
	} catch (err) {
		return _Promise.reject(err.toNative());
	}
}
},{"../polyfills":203,"babel-runtime/core-js/promise":11,"babel-runtime/regenerator":23}],222:[function(require,module,exports){
"use strict";

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.assertIsObject = assertIsObject;
exports.assertIsNotNullOrUndefined = assertIsNotNullOrUndefined;
exports.assertArgIsNotNullOrUndefined = assertArgIsNotNullOrUndefined;
exports.assertIsFunction = assertIsFunction;
exports.assertIsNotConstructor = assertIsNotConstructor;
exports.assertIsValidArrayLength = assertIsValidArrayLength;
exports.assertIsValidAssignment = assertIsValidAssignment;
exports.assertIsValidParameterName = assertIsValidParameterName;
exports.assertIsValidName = assertIsValidName;
exports.assertIsNotGeneric = assertIsNotGeneric;
exports.assertIsValidIdentifier = assertIsValidIdentifier;
exports.assertAreValidArguments = assertAreValidArguments;
exports.isValidArrayLength = isValidArrayLength;
exports.isObject = isObject;
exports.isOctalLiteral = isOctalLiteral;
exports.getType = getType;
exports.isNullOrUndefined = isNullOrUndefined;
exports.isUndefined = isUndefined;
exports.isNull = isNull;
exports.isInteger = isInteger;
exports.isStrictNode = isStrictNode;

var _keywords = require("../keywords");

var objectPattern = /\[object (\w+)\]/;
var integerPattern = /^-?\d+$/;
var octalPattern = /^-?0[0-7]/;
var octalEscapePattern = /^([^\\]|\\[^0-7])*\\([0-3][0-7]{1,2}|[4-7][0-7]|[0-7])/;
var useStrictPattern = /^\s*(?:'use strict'|"use strict")\s*;?\s*$/;

function assertIsObject(obj, methodName) {
	if (!isObject(obj)) {
		throw new TypeError(methodName + " called on non-object");
	}
}

function assertIsNotNullOrUndefined(value, methodName) {
	if (isNullOrUndefined(value)) {
		throw new TypeError(methodName + " called on null or undefined");
	}
}

function assertArgIsNotNullOrUndefined(obj) {
	if (isNullOrUndefined(obj)) {
		throw new TypeError("Cannot convert null or undefined to object");
	}
}

function assertIsFunction(obj, toString) {
	if (!obj || obj.className !== "Function") {
		throw new TypeError("%s is not a function");
	}
}

function assertIsNotConstructor(context, methodName) {
	if (context.isNew) {
		throw new TypeError(methodName + " is not a constructor");
	}
}

function assertIsValidArrayLength(length) {
	if (!isValidArrayLength(length)) {
		throw new RangeError("Invalid array length");
	}
}

function assertIsValidAssignment(left, strict) {
	if (left && !left.isReference) {
		throw new ReferenceError("Invalid left-hand side in assignment");
	}

	if (left && left.base === left.env.global) {
		assertIsValidName(left.name, strict);
	}
}

function assertIsValidParameterName(name, strict) {
	if (/^\d|[;\(\)"']/.test(name)) {
		throw new SyntaxError("Unexpected token in " + name);
	}

	assertIsValidName(name, strict);
}

function assertIsValidName(name, strict) {
	if (strict && (name === "arguments" || name === "eval")) {
		throw new SyntaxError("Unexpected eval or arguments in strict mode");
	}
}

function assertIsNotGeneric(obj, expectedClass, methodName) {
	if (!obj || obj.className !== expectedClass) {
		throw new TypeError(methodName + " is not generic");
	}
}

function assertIsValidIdentifier(name, strict) {
	if ((0, _keywords.isReserved)(name)) {
		throw new SyntaxError("Illegal use of reserved keyword: " + name);
	}

	if (strict && (0, _keywords.isStrictReserved)(name)) {
		throw new SyntaxError("Illegal use of strict mode reserved keyword: " + name);
	}
}

function assertAreValidArguments(params, strict) {
	params.forEach(function (param, index) {
		assertIsValidParameterName(param.name, strict);

		if (strict) {
			if (params.some(function (p, i) {
				return index !== i && param.name === p.name;
			})) {
				throw new SyntaxError("Strict mode function may not have duplicate parameter names");
			}
		}
	});
}

function isValidArrayLength(length) {
	return isInteger(length) && length >= 0 && length < 4294967296;
}

function isObject(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isPrimitive) {
		return obj.value && obj.type === "object";
	}

	return true;
}

function isOctalLiteral(rawValue, actualValue) {
	if (typeof actualValue === "number" && octalPattern.test(rawValue)) {
		return true;
	}

	if (typeof actualValue === "string") {
		var match = rawValue.match(octalEscapePattern);
		if (match) {
			// \0 is actually not considered an octal
			if (match[2] !== "0" || typeof match[3] !== "undefined") {
				return true;
			}
		}
	}

	return false;
}

function getType(obj) {
	return objectPattern.exec(Object.prototype.toString.call(obj))[1];
}

function isNullOrUndefined(obj) {
	return isUndefined(obj) || isNull(obj);
}

function isUndefined(obj) {
	return !obj || obj.isPrimitive && obj.value === undefined;
}

function isNull(obj) {
	return obj && obj.isPrimitive && obj.value === null;
}

function isInteger(value) {
	if (typeof value === "string") {
		return integerPattern.test(value);
	}

	if (typeof value === "number") {
		return isFinite(value) && Math.floor(value) === value;
	}

	return false;
}

function isDirective(node) {
	return node.type === "ExpressionStatement" && node.expression.type === "Literal" && typeof node.expression.value === "string";
}

function isStrictNode(nodes) {
	if (Array.isArray(nodes)) {
		var _iteratorNormalCompletion = true;
		var _didIteratorError = false;
		var _iteratorError = undefined;

		try {
			for (var _iterator = _getIterator(nodes), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
				var node = _step.value;

				if (!isDirective(node)) {
					return false;
				}

				if (node.expression.value === "use strict" && useStrictPattern.test(node.expression.raw)) {
					return true;
				}
			}
		} catch (err) {
			_didIteratorError = true;
			_iteratorError = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}
			} finally {
				if (_didIteratorError) {
					throw _iteratorError;
				}
			}
		}
	}

	return false;
}
},{"../keywords":202,"babel-runtime/core-js/get-iterator":3}],223:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.execute = execute;
exports.call = call;
exports.tryExecute = tryExecute;
var marked0$0 = [execute, call, tryExecute].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function execute(env, fn, params, args, thisArg, callee, isNew) {
	var scope, returnResult;
	return _regeneratorRuntime.wrap(function execute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				scope = fn.createScope(env, thisArg, isNew);
				returnResult = undefined;

				if (isNew) {
					returnResult = thisArg;
				}

				context$1$0.next = 5;
				return scope.loadArgs(params, args, fn);

			case 5:
				scope.init(fn.node && fn.node.body);

				context$1$0.next = 8;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					var executionResult, shouldReturn;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!fn.native) {
									context$2$0.next = 4;
									break;
								}

								context$2$0.next = 3;
								return fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee, isNew), args) || returnResult;

							case 3:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 4:
								context$2$0.next = 6;
								return env.createExecutionContext(fn.node.body, callee, isNew).execute();

							case 6:
								executionResult = context$2$0.sent;
								shouldReturn = fn.arrow || executionResult && executionResult.exit;

								if (!(shouldReturn && executionResult.result)) {
									context$2$0.next = 11;
									break;
								}

								if (!(!isNew || !executionResult.result.isPrimitive)) {
									context$2$0.next = 11;
									break;
								}

								return context$2$0.abrupt("return", executionResult.result);

							case 11:
								return context$2$0.abrupt("return", returnResult);

							case 12:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 8:
				returnResult = context$1$0.sent;
				return context$1$0.abrupt("return", returnResult || _typesPrimitiveType.UNDEFINED);

			case 10:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function call(env, fn, params, args, thisArg, callee) {
	var scope;
	return _regeneratorRuntime.wrap(function call$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				scope = fn.createScope(env, thisArg, false);
				context$1$0.next = 3;
				return scope.loadArgs(params, args, fn);

			case 3:
				scope.init(fn.node && fn.node.body);

				context$1$0.next = 6;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!fn.native) {
									context$2$0.next = 4;
									break;
								}

								context$2$0.next = 3;
								return fn.nativeFunction.apply(env.createExecutionContext(thisArg, callee), args);

							case 3:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 4:
								context$2$0.next = 6;
								return env.createExecutionContext(fn.node.body, callee).execute();

							case 6:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 7:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function tryExecute(env, obj, name) {
	var args = arguments.length <= 3 || arguments[3] === undefined ? [] : arguments[3];
	var fn, scope, executionResult;
	return _regeneratorRuntime.wrap(function tryExecute$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				fn = obj.getProperty(name);

				if (fn) {
					context$1$0.next = 3;
					break;
				}

				return context$1$0.abrupt("return", false);

			case 3:

				fn = fn.getValue();

				if (!(fn && fn.className === "Function")) {
					context$1$0.next = 13;
					break;
				}

				scope = fn.createScope(env, obj);
				context$1$0.next = 8;
				return scope.loadArgs(fn.node && fn.node.params, args, fn);

			case 8:
				scope.init(fn.node && fn.node.body);

				context$1$0.next = 11;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					var result;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!fn.native) {
									context$2$0.next = 4;
									break;
								}

								context$2$0.next = 3;
								return fn.nativeFunction.apply(env.createExecutionContext(obj, obj), args);

							case 3:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 4:
								context$2$0.next = 6;
								return env.createExecutionContext(fn.node.body, fn.node).execute();

							case 6:
								result = context$2$0.sent;
								return context$2$0.abrupt("return", result && result.result);

							case 8:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 11:
				executionResult = context$1$0.sent;
				return context$1$0.abrupt("return", executionResult ? executionResult.getValue() : _typesPrimitiveType.UNDEFINED);

			case 13:
				return context$1$0.abrupt("return", false);

			case 14:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}
},{"../types/primitive-type":214,"babel-runtime/regenerator":23}],224:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Math$sign = require("babel-runtime/core-js/math/sign")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.primitiveToObject = primitiveToObject;
exports.toObject = toObject;
exports.toLength = toLength;
exports.toArray = toArray;
exports.toPrimitive = toPrimitive;
exports.toString = toString;
exports.toNumber = toNumber;
exports.toInteger = toInteger;
exports.toInt32 = toInt32;
exports.toUInt32 = toUInt32;
exports.toBoolean = toBoolean;
exports.toNativeFunction = toNativeFunction;
var marked0$0 = [getString, getPrimitive, getValues, toLength, toPrimitive, toString, toNumber, toInteger, toInt32, toUInt32].map(_regeneratorRuntime.mark);

require("../polyfills");

var _utilsFunc = require("../utils/func");

var sign = _Math$sign;
var floor = Math.floor;
var abs = Math.abs;
var MAX_LENGTH = Math.pow(2, 53) - 1;

function getString(env, value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", "undefined");

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", String(value.toNative()));

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(env, value, "toString");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(env, value, "valueOf");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", String(primitiveValue.value));

			case 14:
				throw new TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function getPrimitive(env, value) {
	var primitiveValue;
	return _regeneratorRuntime.wrap(function getPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (value) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 2:
				if (!value.isPrimitive) {
					context$1$0.next = 4;
					break;
				}

				return context$1$0.abrupt("return", value.toNative());

			case 4:
				context$1$0.next = 6;
				return (0, _utilsFunc.tryExecute)(env, value, "valueOf");

			case 6:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 9;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 9:
				context$1$0.next = 11;
				return (0, _utilsFunc.tryExecute)(env, value, "toString");

			case 11:
				primitiveValue = context$1$0.sent;

				if (!(primitiveValue && primitiveValue.isPrimitive)) {
					context$1$0.next = 14;
					break;
				}

				return context$1$0.abrupt("return", primitiveValue.toNative());

			case 14:
				throw new TypeError("Cannot convert object to primitive value.");

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

function getValues(env, args) {
	var values, i, ln;
	return _regeneratorRuntime.wrap(function getValues$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				values = [];
				i = 0, ln = args.length;

			case 2:
				if (!(i < ln)) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.t0 = values;
				context$1$0.next = 6;
				return getPrimitive(env, args[i]);

			case 6:
				context$1$0.t1 = context$1$0.sent;
				context$1$0.t0.push.call(context$1$0.t0, context$1$0.t1);

			case 8:
				i++;
				context$1$0.next = 2;
				break;

			case 11:
				return context$1$0.abrupt("return", values);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[2], this);
}

function primitiveToObject(env, value) {
	var newValue = env.objectFactory.createPrimitive(value);
	newValue.isPrimitive = false;
	newValue.type = "object";
	return newValue;
}

function toObject(env, obj) {
	if (obj.isPrimitive && obj.value != null && obj.type !== "object") {
		return primitiveToObject(env, obj.value);
	}

	return obj;
}

function toLength(env, obj) {
	var lengthProperty, _length;

	return _regeneratorRuntime.wrap(function toLength$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				lengthProperty = obj.getProperty("length");

				if (!lengthProperty) {
					context$1$0.next = 10;
					break;
				}

				if (!(env.options.ecmaVersion === 5)) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return toUInt32(env, lengthProperty.getValue());

			case 5:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 6:
				context$1$0.next = 8;
				return toInteger(env, lengthProperty.getValue());

			case 8:
				_length = context$1$0.sent;
				return context$1$0.abrupt("return", Math.min(Math.max(_length, 0), MAX_LENGTH));

			case 10:
				return context$1$0.abrupt("return", 0);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[3], this);
}

function toArray(obj, length) {
	var arr = [];

	if (obj) {
		var ln = length >= 0 ? length : obj.getValue("length").toNative();
		var i = 0;

		while (i < ln) {
			if (obj.hasProperty(i)) {
				arr[i] = obj.getValue(i);
			}

			i++;
		}
	}

	return arr;
}

function toPrimitive(env, obj, preferredType) {
	return _regeneratorRuntime.wrap(function toPrimitive$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				preferredType = preferredType && preferredType.toLowerCase();
				if (!preferredType && obj) {
					preferredType = obj.primitiveHint;
				}

				if (!(preferredType === "string")) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return getString(env, obj);

			case 5:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 6:
				context$1$0.next = 8;
				return getPrimitive(env, obj);

			case 8:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[4], this);
}

function toString(env, obj) {
	return _regeneratorRuntime.wrap(function toString$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toPrimitive(env, obj, "string");

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", String(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[5], this);
}

function toNumber(env, obj) {
	return _regeneratorRuntime.wrap(function toNumber$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(!obj || obj.type === "undefined")) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", NaN);

			case 2:
				context$1$0.next = 4;
				return toPrimitive(env, obj, "number");

			case 4:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", Number(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[6], this);
}

function toInteger(env, obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInteger$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toNumber(env, obj);

			case 2:
				value = context$1$0.sent;

				if (!isNaN(value)) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.abrupt("return", 0);

			case 5:
				if (!(value === 0 || !isFinite(value))) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", value);

			case 7:
				return context$1$0.abrupt("return", sign(value) * floor(abs(value)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[7], this);
}

function toInt32(env, obj) {
	var value;
	return _regeneratorRuntime.wrap(function toInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInteger(env, obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", isFinite(value) ? value : 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[8], this);
}

function toUInt32(env, obj) {
	var value;
	return _regeneratorRuntime.wrap(function toUInt32$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return toInt32(env, obj);

			case 2:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", value >>> 0);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[9], this);
}

function toBoolean(obj) {
	if (!obj) {
		return false;
	}

	if (obj.isPrimitive) {
		return Boolean(obj.value);
	}

	return true;
}

function toNativeFunction(env, fn, name) {
	return env.objectFactory.createBuiltInFunction(_regeneratorRuntime.mark(function callee$1$0() {
		var scope,
		    args,
		    value,
		    args$2$0 = arguments;
		return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
			while (1) switch (context$2$0.prev = context$2$0.next) {
				case 0:
					scope = this && this.node && this.node.toNative();
					context$2$0.next = 3;
					return getValues(env, args$2$0);

				case 3:
					args = context$2$0.sent;
					value = fn.apply(scope, args);
					return context$2$0.abrupt("return", env.objectFactory.createPrimitive(value));

				case 6:
				case "end":
					return context$2$0.stop();
			}
		}, callee$1$0, this);
	}), fn.length, name);
}

// default case/number
},{"../polyfills":203,"../utils/func":223,"babel-runtime/core-js/math/sign":4,"babel-runtime/regenerator":23}],225:[function(require,module,exports){
"use strict";

var _defineProperty = require("babel-runtime/helpers/define-property")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _ops;

var _native = require("./native");

function neg(value) {
	if (value === undefined) {
		return false;
	}

	return !value;
}

function pos(value) {
	return !!value;
}

var ops = (_ops = {
	// algorithms
	areSame: function areSame(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}

				if (a.value === 0) {
					// this will account for negative zero
					return 1 / a.value === 1 / b.value;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	areSameOrZero: function areSameOrZero(a, b) {
		if (a.type !== b.type) {
			return false;
		}

		if (a.isPrimitive && b.isPrimitive) {
			if (a.value == null) {
				return true;
			}

			if (a.type === "number") {
				if (isNaN(a.value) && isNaN(b.value)) {
					return true;
				}
			}

			return a.value === b.value;
		}

		return a === b;
	},

	coerciveEquals: _regeneratorRuntime.mark(function coerciveEquals(a, b) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function coerciveEquals$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (!(a.isPrimitive && b.isPrimitive)) {
						context$1$0.next = 2;
						break;
					}

					return context$1$0.abrupt("return", a.value == b.value);

				case 2:
					if (!(a.type === "object" && b.type === "object" || a.type === "function" && b.type === "function")) {
						context$1$0.next = 4;
						break;
					}

					return context$1$0.abrupt("return", a === b);

				case 4:
					context$1$0.next = 6;
					return (0, _native.toPrimitive)(this.env, a);

				case 6:
					primitiveA = context$1$0.sent;
					context$1$0.next = 9;
					return (0, _native.toPrimitive)(this.env, b);

				case 9:
					primitiveB = context$1$0.sent;

					if (!(typeof primitiveA === "number" || typeof primitiveB === "number" || (typeof primitiveA === "boolean" || typeof primitiveB === "boolean"))) {
						context$1$0.next = 12;
						break;
					}

					return context$1$0.abrupt("return", Number(primitiveA) === Number(primitiveB));

				case 12:
					if (!(typeof primitiveA === "string")) {
						context$1$0.next = 18;
						break;
					}

					context$1$0.t0 = primitiveA;
					context$1$0.next = 16;
					return (0, _native.toPrimitive)(this.env, b, "string");

				case 16:
					context$1$0.t1 = context$1$0.sent;
					return context$1$0.abrupt("return", context$1$0.t0 === context$1$0.t1);

				case 18:
					if (!(typeof primitiveB === "string")) {
						context$1$0.next = 24;
						break;
					}

					context$1$0.next = 21;
					return (0, _native.toPrimitive)(this.env, a, "string");

				case 21:
					context$1$0.t2 = context$1$0.sent;
					context$1$0.t3 = primitiveB;
					return context$1$0.abrupt("return", context$1$0.t2 === context$1$0.t3);

				case 24:
					return context$1$0.abrupt("return", primitiveA == primitiveB);

				case 25:
				case "end":
					return context$1$0.stop();
			}
		}, coerciveEquals, this);
	}),

	/* eslint-enable eqeqeq */
	strictEquals: function strictEquals(a, b) {
		if (a.isPrimitive && b.isPrimitive) {
			return a.value === b.value;
		}

		if (a.isPrimitive || b.isPrimitive) {
			return false;
		}

		return a === b;
	},

	relationalCompare: _regeneratorRuntime.mark(function relationalCompare(a, b, leftFirst) {
		var primitiveA, primitiveB;
		return _regeneratorRuntime.wrap(function relationalCompare$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					primitiveA = undefined, primitiveB = undefined;

					if (!leftFirst) {
						context$1$0.next = 10;
						break;
					}

					context$1$0.next = 4;
					return (0, _native.toPrimitive)(this.env, a, "number");

				case 4:
					primitiveA = context$1$0.sent;
					context$1$0.next = 7;
					return (0, _native.toPrimitive)(this.env, b, "number");

				case 7:
					primitiveB = context$1$0.sent;
					context$1$0.next = 16;
					break;

				case 10:
					context$1$0.next = 12;
					return (0, _native.toPrimitive)(this.env, b, "number");

				case 12:
					primitiveB = context$1$0.sent;
					context$1$0.next = 15;
					return (0, _native.toPrimitive)(this.env, a, "number");

				case 15:
					primitiveA = context$1$0.sent;

				case 16:
					if (!(typeof primitiveA === "string" && typeof primitiveB === "string")) {
						context$1$0.next = 18;
						break;
					}

					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 18:

					primitiveA = Number(primitiveA);
					primitiveB = Number(primitiveB);

					if (!(isNaN(primitiveA) || isNaN(primitiveB))) {
						context$1$0.next = 22;
						break;
					}

					return context$1$0.abrupt("return", undefined);

				case 22:
					return context$1$0.abrupt("return", primitiveA < primitiveB);

				case 23:
				case "end":
					return context$1$0.stop();
			}
		}, relationalCompare, this);
	})

}, _defineProperty(_ops, "==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.coerciveEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "===", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "!==", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.strictEquals(a, b);

			case 2:
				return context$1$0.abrupt("return", !context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "+", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!(a.isPrimitive && b.isPrimitive)) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", a.value + b.value);

			case 2:
				context$1$0.next = 4;
				return (0, _native.toPrimitive)(this.env, a);

			case 4:
				a = context$1$0.sent;
				context$1$0.next = 7;
				return (0, _native.toPrimitive)(this.env, b);

			case 7:
				b = context$1$0.sent;
				return context$1$0.abrupt("return", a + b);

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "-", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 - context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "/", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 / context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "*", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toNumber)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toNumber)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 * context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "%", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 % context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 << context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">>>", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toPrimitive)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toPrimitive)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 >>> context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "|", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 | context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "^", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 ^ context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "&", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toInt32)(this.env, a);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				context$1$0.next = 5;
				return (0, _native.toInt32)(this.env, b);

			case 5:
				context$1$0.t1 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t0 & context$1$0.t1);

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "<=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(b, a, false);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", pos(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, ">=", _regeneratorRuntime.mark(function _(a, b) {
	return _regeneratorRuntime.wrap(function _$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return this.relationalCompare(a, b, true);

			case 2:
				context$1$0.t0 = context$1$0.sent;
				return context$1$0.abrupt("return", neg(context$1$0.t0));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, _, this);
})), _defineProperty(_ops, "in", _regeneratorRuntime.mark(function _in(a, b) {
	var bString;
	return _regeneratorRuntime.wrap(function _in$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _native.toString)(this.env, a);

			case 2:
				a = context$1$0.sent;

				if (!b.isPrimitive) {
					context$1$0.next = 8;
					break;
				}

				context$1$0.next = 6;
				return (0, _native.toString)(this.env, b);

			case 6:
				bString = context$1$0.sent;
				throw new TypeError("Cannot use 'in' operator to search for '" + a + "' in " + bString);

			case 8:
				return context$1$0.abrupt("return", b.hasProperty(a));

			case 9:
			case "end":
				return context$1$0.stop();
		}
	}, _in, this);
})), _defineProperty(_ops, "instanceof", function _instanceof(a, b) {
	if (b.type !== "function") {
		throw new TypeError("Expecting a function in instanceof check, but got " + b.type);
	}

	if (a.isPrimitive) {
		return false;
	}

	return b.hasInstance(a);
}), _ops);

exports["default"] = ops;
module.exports = exports["default"];

/* eslint-disable eqeqeq */

// use native implicit comarison
// equality operators

// additive operators

// multiplicative operators

// bitwise shift operators

// relational operators
},{"./native":224,"babel-runtime/helpers/define-property":17,"babel-runtime/regenerator":23}],226:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ArrayExpression;
var marked0$0 = [ArrayExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function ArrayExpression(context) {
	var objectFactory, arr;
	return _regeneratorRuntime.wrap(function ArrayExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				arr = objectFactory.create("Array");

				if (!context.node.elements) {
					context$1$0.next = 5;
					break;
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.elements, _regeneratorRuntime.mark(function callee$1$0(element, i) {
					var item;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!element) {
									context$2$0.next = 5;
									break;
								}

								context$2$0.next = 3;
								return context.create(element).execute();

							case 3:
								item = context$2$0.sent.result.getValue();

								arr.defineOwnProperty(i, { value: item, configurable: true, enumerable: true, writable: true }, true, context.env);

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 4);

			case 4:

				arr.putValue("length", objectFactory.createPrimitive(context.node.elements.length), false, context.env);

			case 5:
				return context$1$0.abrupt("return", context.result(arr));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":221,"babel-runtime/regenerator":23}],227:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = AssignmentExpression;
var marked0$0 = [AssignmentExpression].map(_regeneratorRuntime.mark);

var _utilsAssign = require("../utils/assign");

function AssignmentExpression(context) {
	var right, rightValue, left, op, nativeValue;
	return _regeneratorRuntime.wrap(function AssignmentExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.right).execute();

			case 2:
				right = context$1$0.sent.result;
				rightValue = right.getValue();

				if (!(context.node.operator === "=")) {
					context$1$0.next = 9;
					break;
				}

				context$1$0.next = 7;
				return (0, _utilsAssign.assign)(context.env, context.node.left, rightValue);

			case 7:
				context$1$0.next = 17;
				break;

			case 9:
				context$1$0.next = 11;
				return context.create(context.node.left).execute();

			case 11:
				left = context$1$0.sent.result;
				op = context.node.operator.slice(0, -1);
				context$1$0.next = 15;
				return context.env.ops[op](left.getValue(), right.getValue());

			case 15:
				nativeValue = context$1$0.sent;

				left.setValue(context.env.objectFactory.createPrimitive(nativeValue));

			case 17:
				return context$1$0.abrupt("return", context.result(rightValue));

			case 18:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];

// remove equals
},{"../utils/assign":220,"babel-runtime/regenerator":23}],228:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BinaryExpression;
var marked0$0 = [BinaryExpression].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function BinaryExpression(context) {
	var left, leftValue, right, rightValue, op, newValue;
	return _regeneratorRuntime.wrap(function BinaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent.result;
				leftValue = left.getValue() || _typesPrimitiveType.UNDEFINED;
				context$1$0.next = 6;
				return context.create(context.node.right).execute();

			case 6:
				right = context$1$0.sent.result;
				rightValue = right.getValue() || _typesPrimitiveType.UNDEFINED;
				op = context.node.operator;
				context$1$0.next = 11;
				return context.env.ops[op](leftValue, rightValue);

			case 11:
				newValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(newValue)));

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":214,"babel-runtime/regenerator":23}],229:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = BlockStatement;
var marked0$0 = [BlockStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function BlockStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function BlockStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;

				if (context.node.type === "Program") {
					context.env.current.init(context.node);
				}

				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.body, _regeneratorRuntime.mark(function callee$1$0(node, i, body, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(node).execute();

							case 2:
								result = context$2$0.sent;

								if (result.shouldBreak(context, false, priorResult)) {
									abort();
								}

								priorResult = result;

							case 5:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":221,"babel-runtime/regenerator":23}],230:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = CallExpression;
var marked0$0 = [CallExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

var _utilsFunc = require("../utils/func");

var _utilsAsync = require("../utils/async");

function assignThis(env, fnMember, fn, isNew, native) {
	if (isNew) {
		// if this is a native contructor we don't care about this
		// otherwise create a new object
		return native ? null : env.objectFactory.createObject(fn);
	}

	if (fnMember instanceof _envPropertyReference.PropertyReference && (!fnMember.unqualified || fnMember.base !== env.global)) {
		return (0, _utilsNative.toObject)(env, fnMember.base);
	}

	return null;
}

function CallExpression(context) {
	var node, isNew, fnMember, fn, args, stringValue, native, thisArg, params, callee;
	return _regeneratorRuntime.wrap(function CallExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				node = context.node;
				isNew = context.node.type === "NewExpression";
				context$1$0.next = 4;
				return context.create(node.callee).execute();

			case 4:
				fnMember = context$1$0.sent.result;
				fn = fnMember.getValue();
				return context$1$0.delegateYield((0, _utilsAsync.map)(node.arguments, _regeneratorRuntime.mark(function callee$1$0(arg) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(arg).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent.result.getValue());

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 7);

			case 7:
				args = context$1$0.t0;

				if (!(!fn || fn.className !== "Function")) {
					context$1$0.next = 13;
					break;
				}

				context$1$0.next = 11;
				return (0, _utilsNative.toString)(context.env, fn);

			case 11:
				stringValue = context$1$0.sent;
				return context$1$0.abrupt("return", context.raise(new TypeError(stringValue + " not a function")));

			case 13:
				native = fn.native;
				thisArg = assignThis(context.env, fnMember, fn, isNew, native);
				params = native ? [] : fn.node.params;
				callee = fnMember;

				callee.identifier = fn.name;
				context$1$0.t1 = context;
				context$1$0.next = 21;
				return (0, _utilsFunc.execute)(context.env, fn, params, args, thisArg, callee, isNew);

			case 21:
				context$1$0.t2 = context$1$0.sent;
				return context$1$0.abrupt("return", context$1$0.t1.result.call(context$1$0.t1, context$1$0.t2));

			case 23:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":191,"../utils/async":221,"../utils/func":223,"../utils/native":224,"babel-runtime/regenerator":23}],231:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DebuggerStatement;

function DebuggerStatement(context) {
	if (context.env.options.allowDebugger) {
		/* eslint-disable no-debugger */
		debugger;
		/* eslint-enable no-debugger */
	}

	return context.empty();
}

module.exports = exports["default"];
},{}],232:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = DoWhileStatement;
var marked0$0 = [DoWhileStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function DoWhileStatement(context) {
	var result, priorResult, passed;
	return _regeneratorRuntime.wrap(function DoWhileStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined, priorResult = undefined;
				passed = true;

				if (!(context.node.type === "WhileStatement")) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.test).execute();

			case 5:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t0);

			case 7:
				if (!passed) {
					context$1$0.next = 20;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.body).execute();

			case 10:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 13;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 13:
				context$1$0.next = 15;
				return context.create(context.node.test).execute();

			case 15:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				passed = (0, _utilsNative.toBoolean)(context$1$0.t1);

				priorResult = result;
				context$1$0.next = 7;
				break;

			case 20:
				return context$1$0.abrupt("return", result);

			case 21:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":224,"babel-runtime/regenerator":23}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = EmptyStatement;

function EmptyStatement(context) {
	return context.empty();
}

module.exports = exports["default"];
},{}],234:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ExpressionStatement;
var marked0$0 = [ExpressionStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ExpressionStatement(context) {
	var executionResult, executionValue;
	return _regeneratorRuntime.wrap(function ExpressionStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.expression).execute();

			case 2:
				executionResult = context$1$0.sent;
				executionValue = executionResult && executionResult.result && executionResult.result.getValue();
				return context$1$0.abrupt("return", context.result(executionValue || _typesPrimitiveType.UNDEFINED));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":214,"babel-runtime/regenerator":23}],235:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForInStatement;
var marked0$0 = [ForInStatement].map(_regeneratorRuntime.mark);

function ForInStatement(context) {
	var left, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl, obj, result, priorResult, visited, prop;

	return _regeneratorRuntime.wrap(function ForInStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				left = undefined;

				if (!(context.node.left.type === "VariableDeclaration")) {
					context$1$0.next = 31;
					break;
				}

				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 5;
				_iterator = _getIterator(context.node.left.declarations);

			case 7:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 15;
					break;
				}

				decl = _step.value;
				context$1$0.next = 11;
				return context.create(decl).execute();

			case 11:
				left = context$1$0.sent.result;

			case 12:
				_iteratorNormalCompletion = true;
				context$1$0.next = 7;
				break;

			case 15:
				context$1$0.next = 21;
				break;

			case 17:
				context$1$0.prev = 17;
				context$1$0.t0 = context$1$0["catch"](5);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 21:
				context$1$0.prev = 21;
				context$1$0.prev = 22;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 24:
				context$1$0.prev = 24;

				if (!_didIteratorError) {
					context$1$0.next = 27;
					break;
				}

				throw _iteratorError;

			case 27:
				return context$1$0.finish(24);

			case 28:
				return context$1$0.finish(21);

			case 29:
				context$1$0.next = 34;
				break;

			case 31:
				context$1$0.next = 33;
				return context.create(context.node.left).execute();

			case 33:
				left = context$1$0.sent.result;

			case 34:
				context$1$0.next = 36;
				return context.create(context.node.right).execute();

			case 36:
				obj = context$1$0.sent.result.getValue();
				result = undefined, priorResult = undefined;
				visited = _Object$create(null);

			case 39:
				if (!obj) {
					context$1$0.next = 57;
					break;
				}

				context$1$0.t1 = _regeneratorRuntime.keys(obj.properties);

			case 41:
				if ((context$1$0.t2 = context$1$0.t1()).done) {
					context$1$0.next = 53;
					break;
				}

				prop = context$1$0.t2.value;

				if (!(obj.properties[prop].enumerable && !visited[prop])) {
					context$1$0.next = 50;
					break;
				}

				left.setValue(context.env.objectFactory.createPrimitive(prop));

				context$1$0.next = 47;
				return context.create(context.node.body).execute();

			case 47:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 50;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 50:

				visited[prop] = true;
				context$1$0.next = 41;
				break;

			case 53:

				priorResult = result;
				obj = obj.getPrototype();
				context$1$0.next = 39;
				break;

			case 57:
				return context$1$0.abrupt("return", result);

			case 58:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[5, 17, 21, 29], [22,, 24, 28]]);
}

module.exports = exports["default"];

// should only be one, but
// need to unwrap the declaration to get it
// todo: this is sloppy - need to revisit

// track visited properties to prevent iterating over shadowed properties, regardless of enumerable flag
// 12.6.4 NOTE: a property of a prototype is not enumerated if it is shadowed because some previous
// object in the prototype chain has a property with the same name. The values of [[Enumerable]] attributes
// are not considered when determining if a property of a prototype object is shadowed by a previous object
// on the prototype chain.
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/object/create":6,"babel-runtime/regenerator":23}],236:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ForStatement;
var marked0$0 = [shouldContinue, ForStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function shouldContinue(context) {
	return _regeneratorRuntime.wrap(function shouldContinue$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (context.node.test) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", true);

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.test).execute();

			case 4:
				context$1$0.t0 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", (0, _utilsNative.toBoolean)(context$1$0.t0));

			case 6:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function ForStatement(context) {
	var result, priorResult;
	return _regeneratorRuntime.wrap(function ForStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.init) {
					context$1$0.next = 3;
					break;
				}

				context$1$0.next = 3;
				return context.create(context.node.init).execute();

			case 3:
				result = undefined, priorResult = undefined;

			case 4:
				context$1$0.next = 6;
				return shouldContinue(context);

			case 6:
				if (!context$1$0.sent) {
					context$1$0.next = 18;
					break;
				}

				context$1$0.next = 9;
				return context.create(context.node.body).execute();

			case 9:
				result = context$1$0.sent;

				if (!(result && result.shouldBreak(context, true, priorResult))) {
					context$1$0.next = 12;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 12:
				if (!context.node.update) {
					context$1$0.next = 15;
					break;
				}

				context$1$0.next = 15;
				return context.create(context.node.update).execute();

			case 15:

				priorResult = result;
				context$1$0.next = 4;
				break;

			case 18:
				return context$1$0.abrupt("return", result);

			case 19:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];
},{"../utils/native":224,"babel-runtime/regenerator":23}],237:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionDeclaration;

function FunctionDeclaration(context) {
	return context.result(context.env.getValue(context.node.id.name));
}

module.exports = exports["default"];
},{}],238:[function(require,module,exports){
"use strict";

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = FunctionExpression;

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function FunctionExpression(context) {
	var objectFactory = context.env.objectFactory;
	var strict = context.env.isStrict() || contracts.isStrictNode(context.node.body.body);
	var name = context.node.id ? context.node.id.name : "anonymous";

	var func = objectFactory.createFunction(context.node, undefined, { strict: strict, name: name });
	func.bindScope(context.env.current);
	return context.result(func);
}

module.exports = exports["default"];
},{"../utils/contracts":222,"babel-runtime/helpers/interop-require-wildcard":21}],239:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Identifier;

function Identifier(context) {
	var name = context.node.name;

	if (context.callee && context.callee.identifier === name) {
		return context.result(context.callee);
	}

	return context.result(context.env.getReference(context.node.name));
}

module.exports = exports["default"];
},{}],240:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = IfStatement;
var marked0$0 = [IfStatement].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function IfStatement(context) {
	var testValue;
	return _regeneratorRuntime.wrap(function IfStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.test).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();

				if (!(0, _utilsNative.toBoolean)(testValue)) {
					context$1$0.next = 7;
					break;
				}

				context$1$0.next = 6;
				return context.create(context.node.consequent).execute();

			case 6:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 7:
				if (!context.node.alternate) {
					context$1$0.next = 11;
					break;
				}

				context$1$0.next = 10;
				return context.create(context.node.alternate).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":224,"babel-runtime/regenerator":23}],241:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _arrayExpression = require("./array-expression");

var _arrayExpression2 = _interopRequireDefault(_arrayExpression);

var _assignmentExpression = require("./assignment-expression");

var _assignmentExpression2 = _interopRequireDefault(_assignmentExpression);

var _binaryExpression = require("./binary-expression");

var _binaryExpression2 = _interopRequireDefault(_binaryExpression);

var _blockStatement = require("./block-statement");

var _blockStatement2 = _interopRequireDefault(_blockStatement);

var _interruptStatement = require("./interrupt-statement");

var _interruptStatement2 = _interopRequireDefault(_interruptStatement);

var _callExpression = require("./call-expression");

var _callExpression2 = _interopRequireDefault(_callExpression);

var _ifStatement = require("./if-statement");

var _ifStatement2 = _interopRequireDefault(_ifStatement);

var _debuggerStatement = require("./debugger-statement");

var _debuggerStatement2 = _interopRequireDefault(_debuggerStatement);

var _doWhileStatementJs = require("./do-while-statement.js");

var _doWhileStatementJs2 = _interopRequireDefault(_doWhileStatementJs);

var _emptyStatement = require("./empty-statement");

var _emptyStatement2 = _interopRequireDefault(_emptyStatement);

var _expressionStatement = require("./expression-statement");

var _expressionStatement2 = _interopRequireDefault(_expressionStatement);

var _forStatement = require("./for-statement");

var _forStatement2 = _interopRequireDefault(_forStatement);

var _forInStatement = require("./for-in-statement");

var _forInStatement2 = _interopRequireDefault(_forInStatement);

var _functionDeclaration = require("./function-declaration");

var _functionDeclaration2 = _interopRequireDefault(_functionDeclaration);

var _functionExpression = require("./function-expression");

var _functionExpression2 = _interopRequireDefault(_functionExpression);

var _identifier = require("./identifier");

var _identifier2 = _interopRequireDefault(_identifier);

var _labeledStatement = require("./labeled-statement");

var _labeledStatement2 = _interopRequireDefault(_labeledStatement);

var _literal = require("./literal");

var _literal2 = _interopRequireDefault(_literal);

var _logicalExpression = require("./logical-expression");

var _logicalExpression2 = _interopRequireDefault(_logicalExpression);

var _memberExpression = require("./member-expression");

var _memberExpression2 = _interopRequireDefault(_memberExpression);

var _metaProperty = require("./meta-property");

var _metaProperty2 = _interopRequireDefault(_metaProperty);

var _objectExpression = require("./object-expression");

var _objectExpression2 = _interopRequireDefault(_objectExpression);

var _returnStatement = require("./return-statement");

var _returnStatement2 = _interopRequireDefault(_returnStatement);

var _sequenceExpression = require("./sequence-expression");

var _sequenceExpression2 = _interopRequireDefault(_sequenceExpression);

var _switchStatement = require("./switch-statement");

var _switchStatement2 = _interopRequireDefault(_switchStatement);

var _taggedTemplateExpression = require("./tagged-template-expression");

var _taggedTemplateExpression2 = _interopRequireDefault(_taggedTemplateExpression);

var _templateLiteral = require("./template-literal");

var _templateLiteral2 = _interopRequireDefault(_templateLiteral);

var _thisExpression = require("./this-expression");

var _thisExpression2 = _interopRequireDefault(_thisExpression);

var _throwStatement = require("./throw-statement");

var _throwStatement2 = _interopRequireDefault(_throwStatement);

var _tryStatement = require("./try-statement");

var _tryStatement2 = _interopRequireDefault(_tryStatement);

var _unaryExpression = require("./unary-expression");

var _unaryExpression2 = _interopRequireDefault(_unaryExpression);

var _updateExpression = require("./update-expression");

var _updateExpression2 = _interopRequireDefault(_updateExpression);

var _variableDeclaration = require("./variable-declaration");

var _variableDeclaration2 = _interopRequireDefault(_variableDeclaration);

var _variableDeclarator = require("./variable-declarator");

var _variableDeclarator2 = _interopRequireDefault(_variableDeclarator);

var _withStatement = require("./with-statement");

var _withStatement2 = _interopRequireDefault(_withStatement);

var visitors = {
	ArrayExpression: _arrayExpression2["default"],
	AssignmentExpression: _assignmentExpression2["default"],
	BinaryExpression: _binaryExpression2["default"],
	BlockStatement: _blockStatement2["default"],
	BreakStatement: _interruptStatement2["default"],
	CallExpression: _callExpression2["default"],
	ConditionalExpression: _ifStatement2["default"],
	DebuggerStatement: _debuggerStatement2["default"],
	DoWhileStatement: _doWhileStatementJs2["default"],
	EmptyStatement: _emptyStatement2["default"],
	ExpressionStatement: _expressionStatement2["default"],
	ForStatement: _forStatement2["default"],
	ForInStatement: _forInStatement2["default"],
	FunctionDeclaration: _functionDeclaration2["default"],
	FunctionExpression: _functionExpression2["default"],
	Identifier: _identifier2["default"],
	LabeledStatement: _labeledStatement2["default"],
	Literal: _literal2["default"],
	LogicalExpression: _logicalExpression2["default"],
	MemberExpression: _memberExpression2["default"],
	MetaProperty: _metaProperty2["default"],
	ObjectExpression: _objectExpression2["default"],
	ReturnStatement: _returnStatement2["default"],
	SequenceExpression: _sequenceExpression2["default"],
	SwitchStatement: _switchStatement2["default"],
	TaggedTemplateExpression: _taggedTemplateExpression2["default"],
	TemplateLiteral: _templateLiteral2["default"],
	ThisExpression: _thisExpression2["default"],
	ThrowStatement: _throwStatement2["default"],
	TryStatement: _tryStatement2["default"],
	UnaryExpression: _unaryExpression2["default"],
	UpdateExpression: _updateExpression2["default"],
	VariableDeclaration: _variableDeclaration2["default"],
	VariableDeclarator: _variableDeclarator2["default"],
	WithStatement: _withStatement2["default"],

	ArrowFunctionExpression: _functionExpression2["default"],
	ContinueStatement: _interruptStatement2["default"],
	IfStatement: _ifStatement2["default"],
	NewExpression: _callExpression2["default"],
	Program: _blockStatement2["default"],
	WhileStatement: _doWhileStatementJs2["default"]
};

exports["default"] = {
	visit: _regeneratorRuntime.mark(function visit(context) {
		return _regeneratorRuntime.wrap(function visit$(context$1$0) {
			while (1) switch (context$1$0.prev = context$1$0.next) {
				case 0:
					if (context.node.type in visitors) {
						context$1$0.next = 2;
						break;
					}

					throw new TypeError("No handler defined for: " + context.node.type);

				case 2:
					context$1$0.next = 4;
					return visitors[context.node.type](context);

				case 4:
					return context$1$0.abrupt("return", context$1$0.sent);

				case 5:
				case "end":
					return context$1$0.stop();
			}
		}, visit, this);
	})
};
module.exports = exports["default"];
},{"./array-expression":226,"./assignment-expression":227,"./binary-expression":228,"./block-statement":229,"./call-expression":230,"./debugger-statement":231,"./do-while-statement.js":232,"./empty-statement":233,"./expression-statement":234,"./for-in-statement":235,"./for-statement":236,"./function-declaration":237,"./function-expression":238,"./identifier":239,"./if-statement":240,"./interrupt-statement":242,"./labeled-statement":243,"./literal":244,"./logical-expression":245,"./member-expression":246,"./meta-property":247,"./object-expression":248,"./return-statement":249,"./sequence-expression":250,"./switch-statement":251,"./tagged-template-expression":252,"./template-literal":253,"./this-expression":254,"./throw-statement":255,"./try-statement":256,"./unary-expression":257,"./update-expression":258,"./variable-declaration":259,"./variable-declarator":260,"./with-statement":261,"babel-runtime/helpers/interop-require-default":20,"babel-runtime/regenerator":23}],242:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = InterruptStatement;

function InterruptStatement(context) {
	var label = undefined;
	if (context.node.label) {
		label = context.node.label.name;
	}

	if (context.node.type === "BreakStatement") {
		return context.cancel(label);
	}

	return context.skip(label);
}

module.exports = exports["default"];
},{}],243:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LabeledStatement;
var marked0$0 = [LabeledStatement].map(_regeneratorRuntime.mark);

function LabeledStatement(context) {
	return _regeneratorRuntime.wrap(function LabeledStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.createLabel(context.node.body, context.node.label.name).execute();

			case 2:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 3:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

;
module.exports = exports["default"];
},{"babel-runtime/regenerator":23}],244:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = Literal;

function Literal(context) {
	return context.result(context.env.objectFactory.createPrimitive(context.node.value));
}

module.exports = exports["default"];
},{}],245:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = LogicalExpression;
var marked0$0 = [LogicalExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

function LogicalExpression(context) {
	var left, passed;
	return _regeneratorRuntime.wrap(function LogicalExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.left).execute();

			case 2:
				left = context$1$0.sent;
				passed = (0, _utilsNative.toBoolean)(left.result.getValue());

				if (!(passed && context.node.operator === "||")) {
					context$1$0.next = 6;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 6:
				if (!(!passed && context.node.operator === "&&")) {
					context$1$0.next = 8;
					break;
				}

				return context$1$0.abrupt("return", left);

			case 8:
				context$1$0.next = 10;
				return context.create(context.node.right).execute();

			case 10:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 11:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/native":224,"babel-runtime/regenerator":23}],246:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MemberExpression;
var marked0$0 = [MemberExpression].map(_regeneratorRuntime.mark);

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function MemberExpression(context) {
	var obj, key, value, id;
	return _regeneratorRuntime.wrap(function MemberExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.object).execute();

			case 2:
				obj = context$1$0.sent.result.getValue();
				key = undefined, value = undefined;

				if (!context.node.computed) {
					context$1$0.next = 17;
					break;
				}

				context$1$0.next = 7;
				return context.create(context.node.property).execute();

			case 7:
				id = context$1$0.sent.result.getValue();

				if (!id.isSymbol) {
					context$1$0.next = 12;
					break;
				}

				// if the identifier is a symbol, keep as is - property reference will handle it accordingly
				key = id;
				context$1$0.next = 15;
				break;

			case 12:
				context$1$0.next = 14;
				return (0, _utilsNative.toString)(context.env, id);

			case 14:
				key = context$1$0.sent;

			case 15:
				context$1$0.next = 18;
				break;

			case 17:
				key = context.node.property.name;

			case 18:

				value = new _envPropertyReference.PropertyReference(key, obj, context.env);
				return context$1$0.abrupt("return", context.result(value));

			case 20:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":191,"../utils/native":224,"babel-runtime/regenerator":23}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = MetaProperty;

function MetaProperty(context) {
	throw new Error("Meta properties not yet implemented");
}

module.exports = exports["default"];
},{}],248:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ObjectExpression;
var marked0$0 = [ObjectExpression].map(_regeneratorRuntime.mark);

var _utilsFunc = require("../utils/func");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

function setDescriptor(env, obj, name, descriptor) {
	var strict = env.isStrict();

	if (descriptor.get) {
		contracts.assertAreValidArguments(descriptor.get.node.params, strict);
		descriptor.getter = _regeneratorRuntime.mark(function callee$1$0() {
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return (0, _utilsFunc.execute)(env, descriptor.get, descriptor.get.node.params, [], this, descriptor.get.node);

					case 2:
						return context$2$0.abrupt("return", context$2$0.sent);

					case 3:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	if (descriptor.set) {
		contracts.assertAreValidArguments(descriptor.set.node.params, strict);
		descriptor.setter = _regeneratorRuntime.mark(function callee$1$0() {
			var args$2$0 = arguments;
			return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
				while (1) switch (context$2$0.prev = context$2$0.next) {
					case 0:
						context$2$0.next = 2;
						return (0, _utilsFunc.execute)(env, descriptor.set, descriptor.set.node.params, args$2$0, this, descriptor.set.node);

					case 2:
					case "end":
						return context$2$0.stop();
				}
			}, callee$1$0, this);
		});
	}

	obj.defineOwnProperty(name, descriptor);
}

function createDescriptor(value) {
	return { value: value, configurable: true, enumerable: true, writable: true };
}

function ObjectExpression(context) {
	var obj, descriptors, prop;
	return _regeneratorRuntime.wrap(function ObjectExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				obj = context.env.objectFactory.createObject();
				descriptors = _Object$create(null);
				return context$1$0.delegateYield((0, _utilsAsync.each)(context.node.properties, _regeneratorRuntime.mark(function callee$1$0(property) {
					var value, name;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(property.value).execute();

							case 2:
								value = context$2$0.sent.result.getValue();
								name = property.key.name || property.key.value;
								context$2$0.t0 = property.kind;
								context$2$0.next = context$2$0.t0 === "get" ? 7 : context$2$0.t0 === "set" ? 7 : 10;
								break;

							case 7:
								descriptors[name] = descriptors[name] || createDescriptor();
								descriptors[name][property.kind] = value;
								return context$2$0.abrupt("break", 12);

							case 10:
								obj.defineOwnProperty(name, createDescriptor(value));
								return context$2$0.abrupt("break", 12);

							case 12:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				})), "t0", 3);

			case 3:

				for (prop in descriptors) {
					setDescriptor(context.env, obj, prop, descriptors[prop]);
				}

				return context$1$0.abrupt("return", context.result(obj));

			case 5:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":221,"../utils/contracts":222,"../utils/func":223,"babel-runtime/core-js/object/create":6,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],249:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ReturnStatement;
var marked0$0 = [ReturnStatement].map(_regeneratorRuntime.mark);

var _typesPrimitiveType = require("../types/primitive-type");

function ReturnStatement(context) {
	return _regeneratorRuntime.wrap(function ReturnStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.node.argument) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.t0 = context;
				context$1$0.next = 4;
				return context.create(context.node.argument).execute();

			case 4:
				context$1$0.t1 = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context$1$0.t0.exit.call(context$1$0.t0, context$1$0.t1));

			case 6:
				return context$1$0.abrupt("return", context.exit(_typesPrimitiveType.UNDEFINED));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../types/primitive-type":214,"babel-runtime/regenerator":23}],250:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SequenceExpression;
var marked0$0 = [SequenceExpression].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function SequenceExpression(context) {
	var value;
	return _regeneratorRuntime.wrap(function SequenceExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				value = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent.result.getValue();

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", context.result(value));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":221,"babel-runtime/regenerator":23}],251:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = SwitchStatement;
var marked0$0 = [executeStatements, SwitchStatement].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

function executeStatements(context, statements) {
	var result;
	return _regeneratorRuntime.wrap(function executeStatements$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(statements, _regeneratorRuntime.mark(function callee$1$0(statement, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(statement).execute();

							case 2:
								result = context$2$0.sent;

								if (result && result.isCancelled()) {
									abort();
								}

							case 4:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function SwitchStatement(context) {
	var testValue, passed, value, defaultCase, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, current, caseValue;

	return _regeneratorRuntime.wrap(function SwitchStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.discriminant).execute();

			case 2:
				testValue = context$1$0.sent.result.getValue();
				passed = false;
				value = undefined, defaultCase = undefined;
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 8;
				_iterator = _getIterator(context.node.cases);

			case 10:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 33;
					break;
				}

				current = _step.value;

				if (passed) {
					context$1$0.next = 23;
					break;
				}

				if (!current.test) {
					context$1$0.next = 21;
					break;
				}

				context$1$0.next = 16;
				return context.create(current.test).execute();

			case 16:
				caseValue = context$1$0.sent.result.getValue();

				if (caseValue.equals(testValue)) {
					context$1$0.next = 19;
					break;
				}

				return context$1$0.abrupt("continue", 30);

			case 19:
				context$1$0.next = 23;
				break;

			case 21:
				// default might not be the last case
				defaultCase = current;
				return context$1$0.abrupt("continue", 30);

			case 23:

				passed = true;
				context$1$0.next = 26;
				return executeStatements(context, current.consequent);

			case 26:
				value = context$1$0.sent;

				if (!(value && value.isCancelled())) {
					context$1$0.next = 30;
					break;
				}

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 30:
				_iteratorNormalCompletion = true;
				context$1$0.next = 10;
				break;

			case 33:
				context$1$0.next = 39;
				break;

			case 35:
				context$1$0.prev = 35;
				context$1$0.t0 = context$1$0["catch"](8);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 39:
				context$1$0.prev = 39;
				context$1$0.prev = 40;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 42:
				context$1$0.prev = 42;

				if (!_didIteratorError) {
					context$1$0.next = 45;
					break;
				}

				throw _iteratorError;

			case 45:
				return context$1$0.finish(42);

			case 46:
				return context$1$0.finish(39);

			case 47:
				if (!(!passed && defaultCase && defaultCase.consequent)) {
					context$1$0.next = 53;
					break;
				}

				context$1$0.next = 50;
				return executeStatements(context, defaultCase.consequent);

			case 50:
				value = context$1$0.sent;

				value.cancel = false;
				return context$1$0.abrupt("return", value);

			case 53:
				return context$1$0.abrupt("return", value);

			case 54:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this, [[8, 35, 39, 47], [40,, 42, 46]]);
}

module.exports = exports["default"];
},{"../utils/async":221,"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":23}],252:[function(require,module,exports){
"use strict";

var _toConsumableArray = require("babel-runtime/helpers/to-consumable-array")["default"];

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _Object$create = require("babel-runtime/core-js/object/create")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TaggedTemplateExpression;
var marked0$0 = [TaggedTemplateExpression].map(_regeneratorRuntime.mark);

var _utilsFunc = require("../utils/func");

var _utilsAsync = require("../utils/async");

var templateObjectCache = _Object$create(null);

function buildTemplateObject(env, node) {
	// per spec, template objects are cached
	var key = JSON.stringify(node.quasis.map(function (q) {
		return { cooked: q.value.cooked, raw: q.value.raw };
	}));
	if (key in templateObjectCache) {
		return templateObjectCache[key];
	}

	var objectFactory = env.objectFactory;
	var tag = objectFactory.create("Array");
	var raw = objectFactory.create("Array");
	var quasis = node.quasis;

	for (var i = 0, ln = quasis.length; i < ln; i++) {
		tag.putValue(i, objectFactory.createPrimitive(quasis[i].value.cooked), true, env);
		raw.putValue(i, objectFactory.createPrimitive(quasis[i].value.raw), true, env);
	}

	raw.freeze();
	tag.defineOwnProperty("raw", { value: raw });
	tag.freeze();

	return templateObjectCache[key] = tag;
}

function TaggedTemplateExpression(context) {
	var templateObject, values, callee, func, params, value;
	return _regeneratorRuntime.wrap(function TaggedTemplateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				templateObject = buildTemplateObject(context.env, context.node.quasi);
				context$1$0.next = 3;
				return (0, _utilsAsync.map)(context.node.quasi.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return value.result.getValue();

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 3:
				values = context$1$0.sent;
				context$1$0.next = 6;
				return context.create(context.node.tag).execute();

			case 6:
				callee = context$1$0.sent.result;
				func = callee.getValue();
				params = func.node && func.node.params || [];
				context$1$0.next = 11;
				return (0, _utilsFunc.execute)(context.env, func, params, [templateObject].concat(_toConsumableArray(values)), callee.base, callee);

			case 11:
				value = context$1$0.sent;
				return context$1$0.abrupt("return", context.result(value));

			case 13:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":221,"../utils/func":223,"babel-runtime/core-js/object/create":6,"babel-runtime/helpers/to-consumable-array":22,"babel-runtime/regenerator":23}],253:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TemplateLiteral;
var marked0$0 = [TemplateLiteral].map(_regeneratorRuntime.mark);

var _utilsAsync = require("../utils/async");

var _utilsNative = require("../utils/native");

function TemplateLiteral(context) {
	var values, result, quasis, i, ln;
	return _regeneratorRuntime.wrap(function TemplateLiteral$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return (0, _utilsAsync.map)(context.node.expressions, _regeneratorRuntime.mark(function callee$1$0(expr) {
					var value;
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(expr).execute();

							case 2:
								value = context$2$0.sent;
								context$2$0.next = 5;
								return (0, _utilsNative.toString)(context.env, value.result.getValue());

							case 5:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 6:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 2:
				values = context$1$0.sent;
				result = [];
				quasis = context.node.quasis;

				for (i = 0, ln = quasis.length; i < ln; i++) {
					result.push(quasis[i].value.cooked);

					if (i < values.length) {
						result.push(values[i]);
					}
				}

				return context$1$0.abrupt("return", context.result(context.env.objectFactory.createPrimitive(result.join(""))));

			case 7:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/async":221,"../utils/native":224,"babel-runtime/regenerator":23}],254:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThisExpression;

function ThisExpression(context) {
	return context.result(context.env.getThisBinding());
}

module.exports = exports["default"];
},{}],255:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = ThrowStatement;
var marked0$0 = [ThrowStatement].map(_regeneratorRuntime.mark);

function ThrowStatement(context) {
	var arg;
	return _regeneratorRuntime.wrap(function ThrowStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return context.create(context.node.argument).execute();

			case 2:
				arg = context$1$0.sent.result.getValue();
				return context$1$0.abrupt("return", context.raise(arg));

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":23}],256:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = TryStatement;
var marked0$0 = [executeBlock, TryStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

var _utilsAsync = require("../utils/async");

function executeBlock(context, body, swallow) {
	var result;
	return _regeneratorRuntime.wrap(function executeBlock$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				result = undefined;
				context$1$0.next = 3;
				return (0, _utilsAsync.each)(body, _regeneratorRuntime.mark(function callee$1$0(node, i, all, abort) {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								if (!swallow) {
									context$2$0.next = 12;
									break;
								}

								context$2$0.prev = 1;
								context$2$0.next = 4;
								return context.create(node).execute();

							case 4:
								result = context$2$0.sent;
								context$2$0.next = 10;
								break;

							case 7:
								context$2$0.prev = 7;
								context$2$0.t0 = context$2$0["catch"](1);

								result = context.raise(context$2$0.t0);

							case 10:
								context$2$0.next = 15;
								break;

							case 12:
								context$2$0.next = 14;
								return context.create(node).execute();

							case 14:
								result = context$2$0.sent;

							case 15:

								if (result.canBreak()) {
									abort();
								}

							case 16:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this, [[1, 7]]);
				}));

			case 3:
				return context$1$0.abrupt("return", result);

			case 4:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

function TryStatement(context) {
	var result, finalizerResult, errVar, scope;
	return _regeneratorRuntime.wrap(function TryStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				context$1$0.next = 2;
				return executeBlock(context, context.node.block.body, true);

			case 2:
				result = context$1$0.sent;
				finalizerResult = undefined;

				if (!(result && result.raised)) {
					context$1$0.next = 14;
					break;
				}

				if (!context.node.handler) {
					context$1$0.next = 14;
					break;
				}

				errVar = context.node.handler.param.name;

				contracts.assertIsValidIdentifier(errVar, context.env.isStrict());

				scope = context.env.createScope();

				context.env.createVariable(errVar);
				context.env.putValue(errVar, result.result);

				context$1$0.next = 13;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return executeBlock(context, context.node.handler.body.body, true);

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 13:
				result = context$1$0.sent;

			case 14:
				if (context.node.finalizer) {
					context$1$0.next = 16;
					break;
				}

				return context$1$0.abrupt("return", result);

			case 16:
				if (!context.node.finalizer) {
					context$1$0.next = 22;
					break;
				}

				context$1$0.next = 19;
				return executeBlock(context, context.node.finalizer.body);

			case 19:
				finalizerResult = context$1$0.sent;

				if (!(finalizerResult && finalizerResult.canBreak())) {
					context$1$0.next = 22;
					break;
				}

				return context$1$0.abrupt("return", finalizerResult);

			case 22:
				return context$1$0.abrupt("return", result);

			case 23:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[1], this);
}

module.exports = exports["default"];

// let shouldRaise = false;
// let shouldReturn = false;

// let shouldThrow = result && result.raised;

// if there is no catch OR if an error is raised within the catch we need to pass that on
// if (result && result.raised) {
// 	shouldRaise = true;
// 	// yield result;
// }

// shouldReturn = true;

// if (shouldRaise) {
// 	try {
// 		throw result.result;
// 	} catch (err) {
// 		throw err;
// 	} finally {
// 		if (shouldReturn) {
// 			return finalizerResult;
// 		}
// 	}
// }
},{"../utils/async":221,"../utils/contracts":222,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],257:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UnaryExpression;
var marked0$0 = [UnaryExpression].map(_regeneratorRuntime.mark);

var _envReference = require("../env/reference");

var _envPropertyReference = require("../env/property-reference");

var _utilsNative = require("../utils/native");

function UnaryExpression(context) {
	var objectFactory, result, value, newValue, type, deleted, resolved;
	return _regeneratorRuntime.wrap(function UnaryExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				result = context$1$0.sent.result;
				value = undefined, newValue = undefined;
				context$1$0.t0 = context.node.operator;
				context$1$0.next = context$1$0.t0 === "typeof" ? 8 : context$1$0.t0 === "-" ? 12 : context$1$0.t0 === "+" ? 19 : context$1$0.t0 === "!" ? 26 : context$1$0.t0 === "~" ? 29 : context$1$0.t0 === "delete" ? 36 : context$1$0.t0 === "void" ? 49 : 51;
				break;

			case 8:
				type = undefined;

				if (result instanceof _envReference.Reference && result.isUnresolved()) {
					type = "undefined";
				} else {
					value = result.getValue();
					type = value ? value.type : "undefined";
				}

				newValue = objectFactory.createPrimitive(type);
				return context$1$0.abrupt("break", 52);

			case 12:
				value = result.getValue();
				context$1$0.t1 = objectFactory;
				context$1$0.next = 16;
				return (0, _utilsNative.toNumber)(context.env, value);

			case 16:
				context$1$0.t2 = -context$1$0.sent;
				newValue = context$1$0.t1.createPrimitive.call(context$1$0.t1, context$1$0.t2);
				return context$1$0.abrupt("break", 52);

			case 19:
				value = result.getValue();
				context$1$0.t3 = objectFactory;
				context$1$0.next = 23;
				return (0, _utilsNative.toNumber)(context.env, value);

			case 23:
				context$1$0.t4 = +context$1$0.sent;
				newValue = context$1$0.t3.createPrimitive.call(context$1$0.t3, context$1$0.t4);
				return context$1$0.abrupt("break", 52);

			case 26:
				value = result.getValue();
				newValue = objectFactory.createPrimitive(!(0, _utilsNative.toBoolean)(value));
				return context$1$0.abrupt("break", 52);

			case 29:
				value = result.getValue();
				context$1$0.t5 = objectFactory;
				context$1$0.next = 33;
				return (0, _utilsNative.toInt32)(context.env, value);

			case 33:
				context$1$0.t6 = ~context$1$0.sent;
				newValue = context$1$0.t5.createPrimitive.call(context$1$0.t5, context$1$0.t6);
				return context$1$0.abrupt("break", 52);

			case 36:
				deleted = true;

				if (!(result && result instanceof _envReference.Reference)) {
					context$1$0.next = 45;
					break;
				}

				resolved = !result.isUnresolved();

				if (!context.env.isStrict()) {
					context$1$0.next = 42;
					break;
				}

				if (!(!resolved || !(result instanceof _envPropertyReference.PropertyReference) || result.unqualified)) {
					context$1$0.next = 42;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Delete of an unqualified identifier in strict mode.")));

			case 42:

				if (resolved) {
					deleted = result["delete"]();
				}
				context$1$0.next = 47;
				break;

			case 45:
				if (!context.node.argument.object) {
					context$1$0.next = 47;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new ReferenceError(context.node.argument.object.name + " is not defined")));

			case 47:

				newValue = objectFactory.createPrimitive(deleted);
				return context$1$0.abrupt("break", 52);

			case 49:
				newValue = objectFactory.createPrimitive(undefined);
				return context$1$0.abrupt("break", 52);

			case 51:
				return context$1$0.abrupt("return", context.raise(new SyntaxError("Unknown unary operator: " + context.node.operator)));

			case 52:
				return context$1$0.abrupt("return", context.result(newValue));

			case 53:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../env/property-reference":191,"../env/reference":192,"../utils/native":224,"babel-runtime/regenerator":23}],258:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = UpdateExpression;
var marked0$0 = [UpdateExpression].map(_regeneratorRuntime.mark);

var _utilsNative = require("../utils/native");

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function UpdateExpression(context) {
	var objectFactory, ref, originalValue, newValue, newWrappedValue, returnValue;
	return _regeneratorRuntime.wrap(function UpdateExpression$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				objectFactory = context.env.objectFactory;
				context$1$0.next = 3;
				return context.create(context.node.argument).execute();

			case 3:
				ref = context$1$0.sent.result;

				contracts.assertIsValidAssignment(ref, context.env.isStrict());

				context$1$0.next = 7;
				return (0, _utilsNative.toNumber)(context.env, ref.getValue());

			case 7:
				originalValue = context$1$0.sent;
				newValue = originalValue;

				if (context.node.operator === "++") {
					newValue++;
				} else {
					newValue--;
				}

				newWrappedValue = objectFactory.createPrimitive(newValue);

				originalValue = objectFactory.createPrimitive(originalValue);

				returnValue = context.node.prefix ? newWrappedValue : originalValue;

				ref.setValue(newWrappedValue);
				return context$1$0.abrupt("return", context.result(returnValue));

			case 15:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":222,"../utils/native":224,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}],259:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _getIterator = require("babel-runtime/core-js/get-iterator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclaration;
var marked0$0 = [VariableDeclaration].map(_regeneratorRuntime.mark);

function VariableDeclaration(context) {
	var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, decl;

	return _regeneratorRuntime.wrap(function VariableDeclaration$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				_iteratorNormalCompletion = true;
				_didIteratorError = false;
				_iteratorError = undefined;
				context$1$0.prev = 3;
				_iterator = _getIterator(context.node.declarations);

			case 5:
				if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
					context$1$0.next = 12;
					break;
				}

				decl = _step.value;
				context$1$0.next = 9;
				return context.create(decl).execute();

			case 9:
				_iteratorNormalCompletion = true;
				context$1$0.next = 5;
				break;

			case 12:
				context$1$0.next = 18;
				break;

			case 14:
				context$1$0.prev = 14;
				context$1$0.t0 = context$1$0["catch"](3);
				_didIteratorError = true;
				_iteratorError = context$1$0.t0;

			case 18:
				context$1$0.prev = 18;
				context$1$0.prev = 19;

				if (!_iteratorNormalCompletion && _iterator["return"]) {
					_iterator["return"]();
				}

			case 21:
				context$1$0.prev = 21;

				if (!_didIteratorError) {
					context$1$0.next = 24;
					break;
				}

				throw _iteratorError;

			case 24:
				return context$1$0.finish(21);

			case 25:
				return context$1$0.finish(18);

			case 26:
				return context$1$0.abrupt("return", context.empty());

			case 27:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this, [[3, 14, 18, 26], [19,, 21, 25]]);
}

module.exports = exports["default"];
},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/regenerator":23}],260:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = VariableDeclarator;
var marked0$0 = [VariableDeclarator].map(_regeneratorRuntime.mark);

function VariableDeclarator(context) {
	var name, value;
	return _regeneratorRuntime.wrap(function VariableDeclarator$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				name = context.node.id.name;
				value = undefined;

				if (!context.node.init) {
					context$1$0.next = 6;
					break;
				}

				context$1$0.next = 5;
				return context.create(context.node.init).execute();

			case 5:
				value = context$1$0.sent.result;

			case 6:

				// variables have already been hoisted so we just need to initialize them if defined
				if (value) {
					context.env.putValue(name, value.getValue(), context.env.isStrict(), context);
				}

				return context$1$0.abrupt("return", context.result(context.env.getReference(name)));

			case 8:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"babel-runtime/regenerator":23}],261:[function(require,module,exports){
"use strict";

var _regeneratorRuntime = require("babel-runtime/regenerator")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = WithStatement;
var marked0$0 = [WithStatement].map(_regeneratorRuntime.mark);

var _utilsContracts = require("../utils/contracts");

var contracts = _interopRequireWildcard(_utilsContracts);

function WithStatement(context) {
	var obj, scope;
	return _regeneratorRuntime.wrap(function WithStatement$(context$1$0) {
		while (1) switch (context$1$0.prev = context$1$0.next) {
			case 0:
				if (!context.env.isStrict()) {
					context$1$0.next = 2;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new SyntaxError("Strict mode code may not include a with statement")));

			case 2:
				context$1$0.next = 4;
				return context.create(context.node.object).execute();

			case 4:
				obj = context$1$0.sent.result.getValue();

				if (!contracts.isNullOrUndefined(obj)) {
					context$1$0.next = 7;
					break;
				}

				return context$1$0.abrupt("return", context.raise(new TypeError(obj.className + " has no properties")));

			case 7:
				scope = context.env.createObjectScope(obj, context.env.getThisBinding());

				scope.init(context.node.body);

				context$1$0.next = 11;
				return scope.use(_regeneratorRuntime.mark(function callee$1$0() {
					return _regeneratorRuntime.wrap(function callee$1$0$(context$2$0) {
						while (1) switch (context$2$0.prev = context$2$0.next) {
							case 0:
								context$2$0.next = 2;
								return context.create(context.node.body).execute();

							case 2:
								return context$2$0.abrupt("return", context$2$0.sent);

							case 3:
							case "end":
								return context$2$0.stop();
						}
					}, callee$1$0, this);
				}));

			case 11:
				return context$1$0.abrupt("return", context$1$0.sent);

			case 12:
			case "end":
				return context$1$0.stop();
		}
	}, marked0$0[0], this);
}

module.exports = exports["default"];
},{"../utils/contracts":222,"babel-runtime/helpers/interop-require-wildcard":21,"babel-runtime/regenerator":23}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbWF0aC9zaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9iaW5kLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG8tY29uc3VtYWJsZS1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3IvcnVudGltZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9lczYvcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2VzNi9zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9tYXRoL3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9mbi9zdHJpbmcvcmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY2xhc3NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWYuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZG9tLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmVudW0ta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmZhaWxzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZm9yLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2V0LW5hbWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGFzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaGlkZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmh0bWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pbnZva2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXMtYXJyYXktaXRlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmlzLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItc3RlcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXJhdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQua2V5b2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWljcm90YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQubWl4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnByb3BlcnR5LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5yZWRlZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnNhbWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaGFyZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc3BlY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnN0cmljdC1uZXcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5zdXBwb3J0LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YWcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50YXNrLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8taW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLWlvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51bnNjb3BlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQud2tzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm1hdGguc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLmRlZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvJC5saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLnJlZGVmLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy8kLnN0cmluZy1yZXBlYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzLyQudW5zY29wZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcucmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwic3JjL2VjbWEtNS4xL2FycmF5L2luZGV4LmpzIiwic3JjL2VjbWEtNS4xL2Jvb2xlYW4vaW5kZXguanMiLCJzcmMvZWNtYS01LjEvY29uc29sZS9pbmRleC5qcyIsInNyYy9lY21hLTUuMS9kYXRlL2luZGV4LmpzIiwic3JjL2VjbWEtNS4xL2Vycm9yL2luZGV4LmpzIiwic3JjL2VjbWEtNS4xL2Z1bmN0aW9uL2luZGV4LmpzIiwic3JjL2VjbWEtNS4xL2dsb2JhbHMuanMiLCJzcmMvZWNtYS01LjEvaW5kZXguanMiLCJzcmMvZWNtYS01LjEvanNvbi9pbmRleC5qcyIsInNyYy9lY21hLTUuMS9tYXRoL2luZGV4LmpzIiwic3JjL2VjbWEtNS4xL251bWJlci9pbmRleC5qcyIsInNyYy9lY21hLTUuMS9vYmplY3QvaW5kZXguanMiLCJzcmMvZWNtYS01LjEvcmVnZXgvaW5kZXguanMiLCJzcmMvZWNtYS01LjEvc3RyaW5nL2luZGV4LmpzIiwic3JjL2VjbWEtNi9hcnJheS9pbmRleC5qcyIsInNyYy9lY21hLTYvaW5kZXguanMiLCJzcmMvZWNtYS02L3NldC9pbmRleC5qcyIsInNyYy9lY21hLTYvc3ltYm9sL2luZGV4LmpzIiwic3JjL2Vudi9kZWNsYXJhdGl2ZS1lbnZpcm9ubWVudC5qcyIsInNyYy9lbnYvaG9pc3Rlci5qcyIsInNyYy9lbnYvaW5kZXguanMiLCJzcmMvZW52L29iamVjdC1lbnZpcm9ubWVudC5qcyIsInNyYy9lbnYvcHJvcGVydHktcmVmZXJlbmNlLmpzIiwic3JjL2Vudi9yZWZlcmVuY2UuanMiLCJzcmMvZW52L3Njb3BlLmpzIiwic3JjL2VzdHJlZS13YWxrZXIuanMiLCJzcmMvZXhlY3V0aW9uLWNvbnRleHQuanMiLCJzcmMvZXhlY3V0aW9uLXJlc3VsdC5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9pdGVyYXRvcnMvYXJyYXktaXRlcmF0b3IuanMiLCJzcmMvaXRlcmF0b3JzL2luZGV4LmpzIiwic3JjL2l0ZXJhdG9ycy9zcGFyc2UtaXRlcmF0b3IuanMiLCJzcmMvaXRlcmF0b3JzL3N0cmluZy1pdGVyYXRvci5qcyIsInNyYy9rZXl3b3Jkcy5qcyIsInNyYy9wb2x5ZmlsbHMuanMiLCJzcmMvc3ludGF4LXJ1bGVzLmpzIiwic3JjL3R5cGVzL2FyZ3VtZW50LXR5cGUuanMiLCJzcmMvdHlwZXMvYXJyYXktdHlwZS5qcyIsInNyYy90eXBlcy9kYXRlLXR5cGUuanMiLCJzcmMvdHlwZXMvZXJyb3ItdHlwZS5qcyIsInNyYy90eXBlcy9mdW5jdGlvbi10eXBlLmpzIiwic3JjL3R5cGVzL2l0ZXJhdG9yLXR5cGUuanMiLCJzcmMvdHlwZXMvbmF0aXZlLWZ1bmN0aW9uLXR5cGUuanMiLCJzcmMvdHlwZXMvb2JqZWN0LWZhY3RvcnkuanMiLCJzcmMvdHlwZXMvb2JqZWN0LXR5cGUuanMiLCJzcmMvdHlwZXMvcHJpbWl0aXZlLXR5cGUuanMiLCJzcmMvdHlwZXMvcHJvcGVydHktZGVzY3JpcHRvci5qcyIsInNyYy90eXBlcy9yZWdleC10eXBlLmpzIiwic3JjL3R5cGVzL3NldC10eXBlLmpzIiwic3JjL3R5cGVzL3N0cmluZy10eXBlLmpzIiwic3JjL3R5cGVzL3N5bWJvbC10eXBlLmpzIiwic3JjL3V0aWxzL2Fzc2lnbi5qcyIsInNyYy91dGlscy9hc3luYy5qcyIsInNyYy91dGlscy9jb250cmFjdHMuanMiLCJzcmMvdXRpbHMvZnVuYy5qcyIsInNyYy91dGlscy9uYXRpdmUuanMiLCJzcmMvdXRpbHMvb3BlcmF0b3JzLmpzIiwic3JjL3Zpc2l0b3JzL2FycmF5LWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvYXNzaWdubWVudC1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL2JpbmFyeS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL2Jsb2NrLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9jYWxsLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvZGVidWdnZXItc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2RvLXdoaWxlLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9lbXB0eS1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZXhwcmVzc2lvbi1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvZm9yLWluLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9mb3Itc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL2Z1bmN0aW9uLWRlY2xhcmF0aW9uLmpzIiwic3JjL3Zpc2l0b3JzL2Z1bmN0aW9uLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvaWRlbnRpZmllci5qcyIsInNyYy92aXNpdG9ycy9pZi1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvaW5kZXguanMiLCJzcmMvdmlzaXRvcnMvaW50ZXJydXB0LXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9sYWJlbGVkLXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy9saXRlcmFsLmpzIiwic3JjL3Zpc2l0b3JzL2xvZ2ljYWwtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9tZW1iZXItZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9tZXRhLXByb3BlcnR5LmpzIiwic3JjL3Zpc2l0b3JzL29iamVjdC1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3JldHVybi1zdGF0ZW1lbnQuanMiLCJzcmMvdmlzaXRvcnMvc2VxdWVuY2UtZXhwcmVzc2lvbi5qcyIsInNyYy92aXNpdG9ycy9zd2l0Y2gtc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL3RhZ2dlZC10ZW1wbGF0ZS1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3RlbXBsYXRlLWxpdGVyYWwuanMiLCJzcmMvdmlzaXRvcnMvdGhpcy1leHByZXNzaW9uLmpzIiwic3JjL3Zpc2l0b3JzL3Rocm93LXN0YXRlbWVudC5qcyIsInNyYy92aXNpdG9ycy90cnktc3RhdGVtZW50LmpzIiwic3JjL3Zpc2l0b3JzL3VuYXJ5LWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvdXBkYXRlLWV4cHJlc3Npb24uanMiLCJzcmMvdmlzaXRvcnMvdmFyaWFibGUtZGVjbGFyYXRpb24uanMiLCJzcmMvdmlzaXRvcnMvdmFyaWFibGUtZGVjbGFyYXRvci5qcyIsInNyYy92aXNpdG9ycy93aXRoLXN0YXRlbWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7OztBQ0ZBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7Ozs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBOztBQ0ZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM01BO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6Q0E7Ozs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2h1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3WUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1cUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdGNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDek9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0V0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2paQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1UkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDelBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDek5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbmNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaE1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9JQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vbWF0aC9zaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG5cbiAgICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpW1wiZGVmYXVsdFwiXTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHtcbiAgdmFyIF9hZ2FpbiA9IHRydWU7XG5cbiAgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7XG4gICAgdmFyIG9iamVjdCA9IF94LFxuICAgICAgICBwcm9wZXJ0eSA9IF94MixcbiAgICAgICAgcmVjZWl2ZXIgPSBfeDM7XG4gICAgZGVzYyA9IHBhcmVudCA9IGdldHRlciA9IHVuZGVmaW5lZDtcbiAgICBfYWdhaW4gPSBmYWxzZTtcbiAgICBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgICB2YXIgZGVzYyA9IF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpO1xuXG4gICAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuXG4gICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfeCA9IHBhcmVudDtcbiAgICAgICAgX3gyID0gcHJvcGVydHk7XG4gICAgICAgIF94MyA9IHJlY2VpdmVyO1xuICAgICAgICBfYWdhaW4gPSB0cnVlO1xuICAgICAgICBjb250aW51ZSBfZnVuY3Rpb247XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykge1xuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBkZXNjLmdldDtcblxuICAgICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBfT2JqZWN0JGNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX09iamVjdCRzZXRQcm90b3R5cGVPZiA/IF9PYmplY3Qkc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgIFwiZGVmYXVsdFwiOiBvYmpcbiAgfTtcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaikge1xuICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbmV3T2JqID0ge307XG5cbiAgICBpZiAob2JqICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV3T2JqW1wiZGVmYXVsdFwiXSA9IG9iajtcbiAgICByZXR1cm4gbmV3T2JqO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb21cIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0FycmF5JGZyb20oYXJyKTtcbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4vLyBUaGlzIG1ldGhvZCBvZiBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgbmVlZHMgdG8gYmVcbi8vIGtlcHQgaWRlbnRpY2FsIHRvIHRoZSB3YXkgaXQgaXMgb2J0YWluZWQgaW4gcnVudGltZS5qc1xudmFyIGcgPVxuICB0eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDpcbiAgdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiA/IHdpbmRvdyA6XG4gIHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6IHRoaXM7XG5cbi8vIFVzZSBgZ2V0T3duUHJvcGVydHlOYW1lc2AgYmVjYXVzZSBub3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgY2FsbGluZ1xuLy8gYGhhc093blByb3BlcnR5YCBvbiB0aGUgZ2xvYmFsIGBzZWxmYCBvYmplY3QgaW4gYSB3b3JrZXIuIFNlZSAjMTgzLlxudmFyIGhhZFJ1bnRpbWUgPSBnLnJlZ2VuZXJhdG9yUnVudGltZSAmJlxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhnKS5pbmRleE9mKFwicmVnZW5lcmF0b3JSdW50aW1lXCIpID49IDA7XG5cbi8vIFNhdmUgdGhlIG9sZCByZWdlbmVyYXRvclJ1bnRpbWUgaW4gY2FzZSBpdCBuZWVkcyB0byBiZSByZXN0b3JlZCBsYXRlci5cbnZhciBvbGRSdW50aW1lID0gaGFkUnVudGltZSAmJiBnLnJlZ2VuZXJhdG9yUnVudGltZTtcblxuLy8gRm9yY2UgcmVldmFsdXRhdGlvbiBvZiBydW50aW1lLmpzLlxuZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSB1bmRlZmluZWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vcnVudGltZVwiKTtcblxuaWYgKGhhZFJ1bnRpbWUpIHtcbiAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgcnVudGltZS5cbiAgZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBvbGRSdW50aW1lO1xufSBlbHNlIHtcbiAgLy8gUmVtb3ZlIHRoZSBnbG9iYWwgcHJvcGVydHkgYWRkZWQgYnkgcnVudGltZS5qcy5cbiAgdHJ5IHtcbiAgICBkZWxldGUgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIH0gY2F0Y2goZSkge1xuICAgIGcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogbW9kdWxlLmV4cG9ydHMsIF9fZXNNb2R1bGU6IHRydWUgfTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aVlXSmxiQzF5ZFc1MGFXMWxMM0psWjJWdVpYSmhkRzl5TDJsdVpHVjRMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5OGdWR2hwY3lCdFpYUm9iMlFnYjJZZ2IySjBZV2x1YVc1bklHRWdjbVZtWlhKbGJtTmxJSFJ2SUhSb1pTQm5iRzlpWVd3Z2IySnFaV04wSUc1bFpXUnpJSFJ2SUdKbFhHNHZMeUJyWlhCMElHbGtaVzUwYVdOaGJDQjBieUIwYUdVZ2QyRjVJR2wwSUdseklHOWlkR0ZwYm1Wa0lHbHVJSEoxYm5ScGJXVXVhbk5jYm5aaGNpQm5JRDFjYmlBZ2RIbHdaVzltSUdkc2IySmhiQ0E5UFQwZ1hDSnZZbXBsWTNSY0lpQS9JR2RzYjJKaGJDQTZYRzRnSUhSNWNHVnZaaUIzYVc1a2IzY2dQVDA5SUZ3aWIySnFaV04wWENJZ1B5QjNhVzVrYjNjZ09seHVJQ0IwZVhCbGIyWWdjMlZzWmlBOVBUMGdYQ0p2WW1wbFkzUmNJaUEvSUhObGJHWWdPaUIwYUdsek8xeHVYRzR2THlCVmMyVWdZR2RsZEU5M2JsQnliM0JsY25SNVRtRnRaWE5nSUdKbFkyRjFjMlVnYm05MElHRnNiQ0JpY205M2MyVnljeUJ6ZFhCd2IzSjBJR05oYkd4cGJtZGNiaTh2SUdCb1lYTlBkMjVRY205d1pYSjBlV0FnYjI0Z2RHaGxJR2RzYjJKaGJDQmdjMlZzWm1BZ2IySnFaV04wSUdsdUlHRWdkMjl5YTJWeUxpQlRaV1VnSXpFNE15NWNiblpoY2lCb1lXUlNkVzUwYVcxbElEMGdaeTV5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1VnSmlaY2JpQWdUMkpxWldOMExtZGxkRTkzYmxCeWIzQmxjblI1VG1GdFpYTW9aeWt1YVc1a1pYaFBaaWhjSW5KbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlZ3aUtTQStQU0F3TzF4dVhHNHZMeUJUWVhabElIUm9aU0J2YkdRZ2NtVm5aVzVsY21GMGIzSlNkVzUwYVcxbElHbHVJR05oYzJVZ2FYUWdibVZsWkhNZ2RHOGdZbVVnY21WemRHOXlaV1FnYkdGMFpYSXVYRzUyWVhJZ2IyeGtVblZ1ZEdsdFpTQTlJR2hoWkZKMWJuUnBiV1VnSmlZZ1p5NXlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVTdYRzVjYmk4dklFWnZjbU5sSUhKbFpYWmhiSFYwWVhScGIyNGdiMllnY25WdWRHbHRaUzVxY3k1Y2JtY3VjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxJRDBnZFc1a1pXWnBibVZrTzF4dVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlISmxjWFZwY21Vb1hDSXVMM0oxYm5ScGJXVmNJaWs3WEc1Y2JtbG1JQ2hvWVdSU2RXNTBhVzFsS1NCN1hHNGdJQzh2SUZKbGMzUnZjbVVnZEdobElHOXlhV2RwYm1Gc0lISjFiblJwYldVdVhHNGdJR2N1Y21WblpXNWxjbUYwYjNKU2RXNTBhVzFsSUQwZ2IyeGtVblZ1ZEdsdFpUdGNibjBnWld4elpTQjdYRzRnSUM4dklGSmxiVzkyWlNCMGFHVWdaMnh2WW1Gc0lIQnliM0JsY25SNUlHRmtaR1ZrSUdKNUlISjFiblJwYldVdWFuTXVYRzRnSUhSeWVTQjdYRzRnSUNBZ1pHVnNaWFJsSUdjdWNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbE8xeHVJQ0I5SUdOaGRHTm9LR1VwSUh0Y2JpQWdJQ0JuTG5KbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlNBOUlIVnVaR1ZtYVc1bFpEdGNiaUFnZlZ4dWZWeHVYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJSHNnWENKa1pXWmhkV3gwWENJNklHMXZaSFZzWlM1bGVIQnZjblJ6TENCZlgyVnpUVzlrZFd4bE9pQjBjblZsSUgwN1hHNGlYWDA9IiwiKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBodHRwczovL3Jhdy5naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL21hc3Rlci9MSUNFTlNFIGZpbGUuIEFuXG4gKiBhZGRpdGlvbmFsIGdyYW50IG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW5cbiAqIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9TeW1ib2wgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX1Byb21pc2UgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2VcIilbXCJkZWZhdWx0XCJdO1xuXG4hKGZ1bmN0aW9uIChnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSB0eXBlb2YgX1N5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF9TeW1ib2wkaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG5cbiAgdmFyIGluTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIjtcbiAgdmFyIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lO1xuICBpZiAocnVudGltZSkge1xuICAgIGlmIChpbk1vZHVsZSkge1xuICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLFxuICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhc1xuICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXJcbiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LlxuICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgZ2VuZXJhdG9yID0gX09iamVjdCRjcmVhdGUoKG91dGVyRm4gfHwgR2VuZXJhdG9yKS5wcm90b3R5cGUpO1xuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYgfHwgbnVsbCwgbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pKTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAoZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA6IGZhbHNlO1xuICB9O1xuXG4gIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHtcbiAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IF9PYmplY3QkY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgdmFsdWUgaW5zdGFuY2VvZiBBd2FpdEFyZ3VtZW50YCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4gU29tZSBtYXkgY29uc2lkZXIgdGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgdG9vXG4gIC8vIGN1dGVzeSwgYnV0IHRoZXkgYXJlIGN1cm11ZGdlb25zLlxuICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiBuZXcgQXdhaXRBcmd1bWVudChhcmcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEF3YWl0QXJndW1lbnQoYXJnKSB7XG4gICAgdGhpcy5hcmcgPSBhcmc7XG4gIH1cblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIC8vIFRoaXMgaW52b2tlIGZ1bmN0aW9uIGlzIHdyaXR0ZW4gaW4gYSBzdHlsZSB0aGF0IGFzc3VtZXMgc29tZVxuICAgIC8vIGNhbGxpbmcgZnVuY3Rpb24gKG9yIFByb21pc2UpIHdpbGwgaGFuZGxlIGV4Y2VwdGlvbnMuXG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2VuZXJhdG9yW21ldGhvZF0oYXJnKTtcbiAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnQgPyBfUHJvbWlzZS5yZXNvbHZlKHZhbHVlLmFyZykudGhlbihpbnZva2VOZXh0LCBpbnZva2VUaHJvdykgOiBfUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHtcbiAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgaG93ZXZlciwgdGhlXG4gICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgIC8vIHRocm93biBiYWNrIGludG8gdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgYXMgaXMgdGhlIGNhc2VcbiAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpblxuICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgLy8gYWxsb3dzIHRoZSBjb25zdW1lciB0byBkZWNpZGUgd2hhdCB0byBkbyB3aXRoIHRoZSB5aWVsZGVkXG4gICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrXG4gICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAvLyBhd2FpdCwgYnkgY29udHJhc3QsIHRoZXJlIGlzIG5vIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgdGhlXG4gICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGVcbiAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgIC8vIGxldCB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhbmRsZSB0aGUgZXhjZXB0aW9uLlxuICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2Vzcy5kb21haW4pIHtcbiAgICAgIGludm9rZSA9IHByb2Nlc3MuZG9tYWluLmJpbmQoaW52b2tlKTtcbiAgICB9XG5cbiAgICB2YXIgaW52b2tlTmV4dCA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJuZXh0XCIpO1xuICAgIHZhciBpbnZva2VUaHJvdyA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJ0aHJvd1wiKTtcbiAgICB2YXIgaW52b2tlUmV0dXJuID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInJldHVyblwiKTtcbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgdmFyIGVucXVldWVSZXN1bHQgPVxuICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KSA6IG5ldyBfUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICByZXNvbHZlKGludm9rZShtZXRob2QsIGFyZykpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGVucXVldWVSZXN1bHQgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnlcbiAgICAgIC8vIGxhdGVyIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgIHByZXZpb3VzUHJvbWlzZSA9IGVucXVldWVSZXN1bHRbXCJjYXRjaFwiXShmdW5jdGlvbiAoaWdub3JlZCkge30pO1xuXG4gICAgICByZXR1cm4gZW5xdWV1ZVJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSk7XG5cbiAgICByZXR1cm4gcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICBpZiAobWV0aG9kID09PSBcInJldHVyblwiIHx8IG1ldGhvZCA9PT0gXCJ0aHJvd1wiICYmIGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gQSByZXR1cm4gb3IgdGhyb3cgKHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyB0aHJvd1xuICAgICAgICAgICAgLy8gbWV0aG9kKSBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgICAgdmFyIHJldHVybk1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKHJldHVybk1ldGhvZCkge1xuICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gocmV0dXJuTWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgYXJnKTtcbiAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmV0dXJuIG1ldGhvZCB0aHJldyBhbiBleGNlcHRpb24sIGxldCB0aGF0XG4gICAgICAgICAgICAgICAgLy8gZXhjZXB0aW9uIHByZXZhaWwgb3ZlciB0aGUgb3JpZ2luYWwgcmV0dXJuIG9yIHRocm93LlxuICAgICAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aCB0aGUgb3V0ZXIgcmV0dXJuLCBub3cgdGhhdCB0aGUgZGVsZWdhdGVcbiAgICAgICAgICAgICAgLy8gaXRlcmF0b3IgaGFzIGJlZW4gdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0sIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBMaWtlIHJldHVybmluZyBnZW5lcmF0b3IudGhyb3codW5jYXVnaHQpLCBidXQgd2l0aG91dCB0aGVcbiAgICAgICAgICAgIC8vIG92ZXJoZWFkIG9mIGFuIGV4dHJhIGZ1bmN0aW9uIGNhbGwuXG4gICAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVsZWdhdGUgZ2VuZXJhdG9yIHJhbiBhbmQgaGFuZGxlZCBpdHMgb3duIGV4Y2VwdGlvbnMgc29cbiAgICAgICAgICAvLyByZWdhcmRsZXNzIG9mIHdoYXQgdGhlIG1ldGhvZCB3YXMsIHdlIGNvbnRpbnVlIGFzIGlmIGl0IGlzXG4gICAgICAgICAgLy8gXCJuZXh0XCIgd2l0aCBhbiB1bmRlZmluZWQgYXJnLlxuICAgICAgICAgIG1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcbiAgICAgICAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAgICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcbiAgICAgICAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkWWllbGQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IGFyZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBhcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmUgPyBHZW5TdGF0ZUNvbXBsZXRlZCA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICB2YXIgaW5mbyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5kZWxlZ2F0ZSAmJiBtZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBydW50aW1lLmtleXMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSxcbiAgICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgdGhpcy5zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG4gICAgICAgIHJldHVybiAhIWNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiYgKHR5cGUgPT09IFwiYnJlYWtcIiB8fCB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8IHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4vLyBBbW9uZyB0aGUgdmFyaW91cyB0cmlja3MgZm9yIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsXG4vLyBvYmplY3QsIHRoaXMgc2VlbXMgdG8gYmUgdGhlIG1vc3QgcmVsaWFibGUgdGVjaG5pcXVlIHRoYXQgZG9lcyBub3Rcbi8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuXG50eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDogdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6IHVuZGVmaW5lZCk7XG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWlZV0psYkMxeWRXNTBhVzFsTDNKbFoyVnVaWEpoZEc5eUwzSjFiblJwYldVdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaThxS2x4dUlDb2dRMjl3ZVhKcFoyaDBJQ2hqS1NBeU1ERTBMQ0JHWVdObFltOXZheXdnU1c1akxseHVJQ29nUVd4c0lISnBaMmgwY3lCeVpYTmxjblpsWkM1Y2JpQXFYRzRnS2lCVWFHbHpJSE52ZFhKalpTQmpiMlJsSUdseklHeHBZMlZ1YzJWa0lIVnVaR1Z5SUhSb1pTQkNVMFF0YzNSNWJHVWdiR2xqWlc1elpTQm1iM1Z1WkNCcGJpQjBhR1ZjYmlBcUlHaDBkSEJ6T2k4dmNtRjNMbWRwZEdoMVlpNWpiMjB2Wm1GalpXSnZiMnN2Y21WblpXNWxjbUYwYjNJdmJXRnpkR1Z5TDB4SlEwVk9VMFVnWm1sc1pTNGdRVzVjYmlBcUlHRmtaR2wwYVc5dVlXd2daM0poYm5RZ2IyWWdjR0YwWlc1MElISnBaMmgwY3lCallXNGdZbVVnWm05MWJtUWdhVzRnZEdobElGQkJWRVZPVkZNZ1ptbHNaU0JwYmx4dUlDb2dkR2hsSUhOaGJXVWdaR2x5WldOMGIzSjVMbHh1SUNvdlhHNWNibHdpZFhObElITjBjbWxqZEZ3aU8xeHVYRzUyWVhJZ1gxTjViV0p2YkNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDJOdmNtVXRhbk12YzNsdFltOXNYQ0lwVzF3aVpHVm1ZWFZzZEZ3aVhUdGNibHh1ZG1GeUlGOVRlVzFpYjJ3a2FYUmxjbUYwYjNJZ1BTQnlaWEYxYVhKbEtGd2lZbUZpWld3dGNuVnVkR2x0WlM5amIzSmxMV3B6TDNONWJXSnZiQzlwZEdWeVlYUnZjbHdpS1Z0Y0ltUmxabUYxYkhSY0lsMDdYRzVjYm5aaGNpQmZUMkpxWldOMEpHTnlaV0YwWlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDJOdmNtVXRhbk12YjJKcVpXTjBMMk55WldGMFpWd2lLVnRjSW1SbFptRjFiSFJjSWwwN1hHNWNiblpoY2lCZlVISnZiV2x6WlNBOUlISmxjWFZwY21Vb1hDSmlZV0psYkMxeWRXNTBhVzFsTDJOdmNtVXRhbk12Y0hKdmJXbHpaVndpS1Z0Y0ltUmxabUYxYkhSY0lsMDdYRzVjYmlFb1puVnVZM1JwYjI0Z0tHZHNiMkpoYkNrZ2UxeHVJQ0JjSW5WelpTQnpkSEpwWTNSY0lqdGNibHh1SUNCMllYSWdhR0Z6VDNkdUlEMGdUMkpxWldOMExuQnliM1J2ZEhsd1pTNW9ZWE5QZDI1UWNtOXdaWEowZVR0Y2JpQWdkbUZ5SUhWdVpHVm1hVzVsWkRzZ0x5OGdUVzl5WlNCamIyMXdjbVZ6YzJsaWJHVWdkR2hoYmlCMmIybGtJREF1WEc0Z0lIWmhjaUJwZEdWeVlYUnZjbE41YldKdmJDQTlJSFI1Y0dWdlppQmZVM2x0WW05c0lEMDlQU0JjSW1aMWJtTjBhVzl1WENJZ0ppWWdYMU41YldKdmJDUnBkR1Z5WVhSdmNpQjhmQ0JjSWtCQWFYUmxjbUYwYjNKY0lqdGNibHh1SUNCMllYSWdhVzVOYjJSMWJHVWdQU0IwZVhCbGIyWWdiVzlrZFd4bElEMDlQU0JjSW05aWFtVmpkRndpTzF4dUlDQjJZWElnY25WdWRHbHRaU0E5SUdkc2IySmhiQzV5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1U3WEc0Z0lHbG1JQ2h5ZFc1MGFXMWxLU0I3WEc0Z0lDQWdhV1lnS0dsdVRXOWtkV3hsS1NCN1hHNGdJQ0FnSUNBdkx5QkpaaUJ5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1VnYVhNZ1pHVm1hVzVsWkNCbmJHOWlZV3hzZVNCaGJtUWdkMlVuY21VZ2FXNGdZU0J0YjJSMWJHVXNYRzRnSUNBZ0lDQXZMeUJ0WVd0bElIUm9aU0JsZUhCdmNuUnpJRzlpYW1WamRDQnBaR1Z1ZEdsallXd2dkRzhnY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTGx4dUlDQWdJQ0FnYlc5a2RXeGxMbVY0Y0c5eWRITWdQU0J5ZFc1MGFXMWxPMXh1SUNBZ0lIMWNiaUFnSUNBdkx5QkViMjRuZENCaWIzUm9aWElnWlhaaGJIVmhkR2x1WnlCMGFHVWdjbVZ6ZENCdlppQjBhR2x6SUdacGJHVWdhV1lnZEdobElISjFiblJwYldVZ2QyRnpYRzRnSUNBZ0x5OGdZV3h5WldGa2VTQmtaV1pwYm1Wa0lHZHNiMkpoYkd4NUxseHVJQ0FnSUhKbGRIVnlianRjYmlBZ2ZWeHVYRzRnSUM4dklFUmxabWx1WlNCMGFHVWdjblZ1ZEdsdFpTQm5iRzlpWVd4c2VTQW9ZWE1nWlhod1pXTjBaV1FnWW5rZ1oyVnVaWEpoZEdWa0lHTnZaR1VwSUdGeklHVnBkR2hsY2x4dUlDQXZMeUJ0YjJSMWJHVXVaWGh3YjNKMGN5QW9hV1lnZDJVbmNtVWdhVzRnWVNCdGIyUjFiR1VwSUc5eUlHRWdibVYzTENCbGJYQjBlU0J2WW1wbFkzUXVYRzRnSUhKMWJuUnBiV1VnUFNCbmJHOWlZV3d1Y21WblpXNWxjbUYwYjNKU2RXNTBhVzFsSUQwZ2FXNU5iMlIxYkdVZ1B5QnRiMlIxYkdVdVpYaHdiM0owY3lBNklIdDlPMXh1WEc0Z0lHWjFibU4wYVc5dUlIZHlZWEFvYVc1dVpYSkdiaXdnYjNWMFpYSkdiaXdnYzJWc1ppd2dkSEo1VEc5amMweHBjM1FwSUh0Y2JpQWdJQ0F2THlCSlppQnZkWFJsY2tadUlIQnliM1pwWkdWa0xDQjBhR1Z1SUc5MWRHVnlSbTR1Y0hKdmRHOTBlWEJsSUdsdWMzUmhibU5sYjJZZ1IyVnVaWEpoZEc5eUxseHVJQ0FnSUhaaGNpQm5aVzVsY21GMGIzSWdQU0JmVDJKcVpXTjBKR055WldGMFpTZ29iM1YwWlhKR2JpQjhmQ0JIWlc1bGNtRjBiM0lwTG5CeWIzUnZkSGx3WlNrN1hHNWNiaUFnSUNCblpXNWxjbUYwYjNJdVgybHVkbTlyWlNBOUlHMWhhMlZKYm5admEyVk5aWFJvYjJRb2FXNXVaWEpHYml3Z2MyVnNaaUI4ZkNCdWRXeHNMQ0J1WlhjZ1EyOXVkR1Y0ZENoMGNubE1iMk56VEdsemRDQjhmQ0JiWFNrcE8xeHVYRzRnSUNBZ2NtVjBkWEp1SUdkbGJtVnlZWFJ2Y2p0Y2JpQWdmVnh1SUNCeWRXNTBhVzFsTG5keVlYQWdQU0IzY21Gd08xeHVYRzRnSUM4dklGUnllUzlqWVhSamFDQm9aV3h3WlhJZ2RHOGdiV2x1YVcxcGVtVWdaR1Z2Y0hScGJXbDZZWFJwYjI1ekxpQlNaWFIxY201eklHRWdZMjl0Y0d4bGRHbHZibHh1SUNBdkx5QnlaV052Y21RZ2JHbHJaU0JqYjI1MFpYaDBMblJ5ZVVWdWRISnBaWE5iYVYwdVkyOXRjR3hsZEdsdmJpNGdWR2hwY3lCcGJuUmxjbVpoWTJVZ1kyOTFiR1JjYmlBZ0x5OGdhR0YyWlNCaVpXVnVJQ2hoYm1RZ2QyRnpJSEJ5WlhacGIzVnpiSGtwSUdSbGMybG5ibVZrSUhSdklIUmhhMlVnWVNCamJHOXpkWEpsSUhSdklHSmxYRzRnSUM4dklHbHVkbTlyWldRZ2QybDBhRzkxZENCaGNtZDFiV1Z1ZEhNc0lHSjFkQ0JwYmlCaGJHd2dkR2hsSUdOaGMyVnpJSGRsSUdOaGNtVWdZV0p2ZFhRZ2QyVmNiaUFnTHk4Z1lXeHlaV0ZrZVNCb1lYWmxJR0Z1SUdWNGFYTjBhVzVuSUcxbGRHaHZaQ0IzWlNCM1lXNTBJSFJ2SUdOaGJHd3NJSE52SUhSb1pYSmxKM01nYm04Z2JtVmxaRnh1SUNBdkx5QjBieUJqY21WaGRHVWdZU0J1WlhjZ1puVnVZM1JwYjI0Z2IySnFaV04wTGlCWFpTQmpZVzRnWlhabGJpQm5aWFFnWVhkaGVTQjNhWFJvSUdGemMzVnRhVzVuWEc0Z0lDOHZJSFJvWlNCdFpYUm9iMlFnZEdGclpYTWdaWGhoWTNSc2VTQnZibVVnWVhKbmRXMWxiblFzSUhOcGJtTmxJSFJvWVhRZ2FHRndjR1Z1Y3lCMGJ5QmlaU0IwY25WbFhHNGdJQzh2SUdsdUlHVjJaWEo1SUdOaGMyVXNJSE52SUhkbElHUnZiaWQwSUdoaGRtVWdkRzhnZEc5MVkyZ2dkR2hsSUdGeVozVnRaVzUwY3lCdlltcGxZM1F1SUZSb1pWeHVJQ0F2THlCdmJteDVJR0ZrWkdsMGFXOXVZV3dnWVd4c2IyTmhkR2x2YmlCeVpYRjFhWEpsWkNCcGN5QjBhR1VnWTI5dGNHeGxkR2x2YmlCeVpXTnZjbVFzSUhkb2FXTm9YRzRnSUM4dklHaGhjeUJoSUhOMFlXSnNaU0J6YUdGd1pTQmhibVFnYzI4Z2FHOXdaV1oxYkd4NUlITm9iM1ZzWkNCaVpTQmphR1ZoY0NCMGJ5QmhiR3h2WTJGMFpTNWNiaUFnWm5WdVkzUnBiMjRnZEhKNVEyRjBZMmdvWm00c0lHOWlhaXdnWVhKbktTQjdYRzRnSUNBZ2RISjVJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQjdJSFI1Y0dVNklGd2libTl5YldGc1hDSXNJR0Z5WnpvZ1ptNHVZMkZzYkNodlltb3NJR0Z5WnlrZ2ZUdGNiaUFnSUNCOUlHTmhkR05vSUNobGNuSXBJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQjdJSFI1Y0dVNklGd2lkR2h5YjNkY0lpd2dZWEpuT2lCbGNuSWdmVHRjYmlBZ0lDQjlYRzRnSUgxY2JseHVJQ0IyWVhJZ1IyVnVVM1JoZEdWVGRYTndaVzVrWldSVGRHRnlkQ0E5SUZ3aWMzVnpjR1Z1WkdWa1UzUmhjblJjSWp0Y2JpQWdkbUZ5SUVkbGJsTjBZWFJsVTNWemNHVnVaR1ZrV1dsbGJHUWdQU0JjSW5OMWMzQmxibVJsWkZscFpXeGtYQ0k3WEc0Z0lIWmhjaUJIWlc1VGRHRjBaVVY0WldOMWRHbHVaeUE5SUZ3aVpYaGxZM1YwYVc1blhDSTdYRzRnSUhaaGNpQkhaVzVUZEdGMFpVTnZiWEJzWlhSbFpDQTlJRndpWTI5dGNHeGxkR1ZrWENJN1hHNWNiaUFnTHk4Z1VtVjBkWEp1YVc1bklIUm9hWE1nYjJKcVpXTjBJR1p5YjIwZ2RHaGxJR2x1Ym1WeVJtNGdhR0Z6SUhSb1pTQnpZVzFsSUdWbVptVmpkQ0JoYzF4dUlDQXZMeUJpY21WaGEybHVaeUJ2ZFhRZ2IyWWdkR2hsSUdScGMzQmhkR05vSUhOM2FYUmphQ0J6ZEdGMFpXMWxiblF1WEc0Z0lIWmhjaUJEYjI1MGFXNTFaVk5sYm5ScGJtVnNJRDBnZTMwN1hHNWNiaUFnTHk4Z1JIVnRiWGtnWTI5dWMzUnlkV04wYjNJZ1puVnVZM1JwYjI1eklIUm9ZWFFnZDJVZ2RYTmxJR0Z6SUhSb1pTQXVZMjl1YzNSeWRXTjBiM0lnWVc1a1hHNGdJQzh2SUM1amIyNXpkSEoxWTNSdmNpNXdjbTkwYjNSNWNHVWdjSEp2Y0dWeWRHbGxjeUJtYjNJZ1puVnVZM1JwYjI1eklIUm9ZWFFnY21WMGRYSnVJRWRsYm1WeVlYUnZjbHh1SUNBdkx5QnZZbXBsWTNSekxpQkdiM0lnWm5Wc2JDQnpjR1ZqSUdOdmJYQnNhV0Z1WTJVc0lIbHZkU0J0WVhrZ2QybHphQ0IwYnlCamIyNW1hV2QxY21VZ2VXOTFjbHh1SUNBdkx5QnRhVzVwWm1sbGNpQnViM1FnZEc4Z2JXRnVaMnhsSUhSb1pTQnVZVzFsY3lCdlppQjBhR1Z6WlNCMGQyOGdablZ1WTNScGIyNXpMbHh1SUNCbWRXNWpkR2x2YmlCSFpXNWxjbUYwYjNJb0tTQjdmVnh1SUNCbWRXNWpkR2x2YmlCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmlncElIdDlYRzRnSUdaMWJtTjBhVzl1SUVkbGJtVnlZWFJ2Y2taMWJtTjBhVzl1VUhKdmRHOTBlWEJsS0NrZ2UzMWNibHh1SUNCMllYSWdSM0FnUFNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmxCeWIzUnZkSGx3WlM1d2NtOTBiM1I1Y0dVZ1BTQkhaVzVsY21GMGIzSXVjSEp2ZEc5MGVYQmxPMXh1SUNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2Ymk1d2NtOTBiM1I1Y0dVZ1BTQkhjQzVqYjI1emRISjFZM1J2Y2lBOUlFZGxibVZ5WVhSdmNrWjFibU4wYVc5dVVISnZkRzkwZVhCbE8xeHVJQ0JIWlc1bGNtRjBiM0pHZFc1amRHbHZibEJ5YjNSdmRIbHdaUzVqYjI1emRISjFZM1J2Y2lBOUlFZGxibVZ5WVhSdmNrWjFibU4wYVc5dU8xeHVJQ0JIWlc1bGNtRjBiM0pHZFc1amRHbHZiaTVrYVhOd2JHRjVUbUZ0WlNBOUlGd2lSMlZ1WlhKaGRHOXlSblZ1WTNScGIyNWNJanRjYmx4dUlDQXZMeUJJWld4d1pYSWdabTl5SUdSbFptbHVhVzVuSUhSb1pTQXVibVY0ZEN3Z0xuUm9jbTkzTENCaGJtUWdMbkpsZEhWeWJpQnRaWFJvYjJSeklHOW1JSFJvWlZ4dUlDQXZMeUJKZEdWeVlYUnZjaUJwYm5SbGNtWmhZMlVnYVc0Z2RHVnliWE1nYjJZZ1lTQnphVzVuYkdVZ0xsOXBiblp2YTJVZ2JXVjBhRzlrTGx4dUlDQm1kVzVqZEdsdmJpQmtaV1pwYm1WSmRHVnlZWFJ2Y2sxbGRHaHZaSE1vY0hKdmRHOTBlWEJsS1NCN1hHNGdJQ0FnVzF3aWJtVjRkRndpTENCY0luUm9jbTkzWENJc0lGd2ljbVYwZFhKdVhDSmRMbVp2Y2tWaFkyZ29ablZ1WTNScGIyNGdLRzFsZEdodlpDa2dlMXh1SUNBZ0lDQWdjSEp2ZEc5MGVYQmxXMjFsZEdodlpGMGdQU0JtZFc1amRHbHZiaUFvWVhKbktTQjdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQjBhR2x6TGw5cGJuWnZhMlVvYldWMGFHOWtMQ0JoY21jcE8xeHVJQ0FnSUNBZ2ZUdGNiaUFnSUNCOUtUdGNiaUFnZlZ4dVhHNGdJSEoxYm5ScGJXVXVhWE5IWlc1bGNtRjBiM0pHZFc1amRHbHZiaUE5SUdaMWJtTjBhVzl1SUNoblpXNUdkVzRwSUh0Y2JpQWdJQ0IyWVhJZ1kzUnZjaUE5SUhSNWNHVnZaaUJuWlc1R2RXNGdQVDA5SUZ3aVpuVnVZM1JwYjI1Y0lpQW1KaUJuWlc1R2RXNHVZMjl1YzNSeWRXTjBiM0k3WEc0Z0lDQWdjbVYwZFhKdUlHTjBiM0lnUHlCamRHOXlJRDA5UFNCSFpXNWxjbUYwYjNKR2RXNWpkR2x2YmlCOGZGeHVJQ0FnSUM4dklFWnZjaUIwYUdVZ2JtRjBhWFpsSUVkbGJtVnlZWFJ2Y2taMWJtTjBhVzl1SUdOdmJuTjBjblZqZEc5eUxDQjBhR1VnWW1WemRDQjNaU0JqWVc1Y2JpQWdJQ0F2THlCa2J5QnBjeUIwYnlCamFHVmpheUJwZEhNZ0xtNWhiV1VnY0hKdmNHVnlkSGt1WEc0Z0lDQWdLR04wYjNJdVpHbHpjR3hoZVU1aGJXVWdmSHdnWTNSdmNpNXVZVzFsS1NBOVBUMGdYQ0pIWlc1bGNtRjBiM0pHZFc1amRHbHZibHdpSURvZ1ptRnNjMlU3WEc0Z0lIMDdYRzVjYmlBZ2NuVnVkR2x0WlM1dFlYSnJJRDBnWm5WdVkzUnBiMjRnS0dkbGJrWjFiaWtnZTF4dUlDQWdJR2RsYmtaMWJpNWZYM0J5YjNSdlgxOGdQU0JIWlc1bGNtRjBiM0pHZFc1amRHbHZibEJ5YjNSdmRIbHdaVHRjYmlBZ0lDQm5aVzVHZFc0dWNISnZkRzkwZVhCbElEMGdYMDlpYW1WamRDUmpjbVZoZEdVb1IzQXBPMXh1SUNBZ0lISmxkSFZ5YmlCblpXNUdkVzQ3WEc0Z0lIMDdYRzVjYmlBZ0x5OGdWMmwwYUdsdUlIUm9aU0JpYjJSNUlHOW1JR0Z1ZVNCaGMzbHVZeUJtZFc1amRHbHZiaXdnWUdGM1lXbDBJSGhnSUdseklIUnlZVzV6Wm05eWJXVmtJSFJ2WEc0Z0lDOHZJR0I1YVdWc1pDQnlaV2RsYm1WeVlYUnZjbEoxYm5ScGJXVXVZWGR5WVhBb2VDbGdMQ0J6YnlCMGFHRjBJSFJvWlNCeWRXNTBhVzFsSUdOaGJpQjBaWE4wWEc0Z0lDOHZJR0IyWVd4MVpTQnBibk4wWVc1alpXOW1JRUYzWVdsMFFYSm5kVzFsYm5SZ0lIUnZJR1JsZEdWeWJXbHVaU0JwWmlCMGFHVWdlV2xsYkdSbFpDQjJZV3gxWlNCcGMxeHVJQ0F2THlCdFpXRnVkQ0IwYnlCaVpTQmhkMkZwZEdWa0xpQlRiMjFsSUcxaGVTQmpiMjV6YVdSbGNpQjBhR1VnYm1GdFpTQnZaaUIwYUdseklHMWxkR2h2WkNCMGIyOWNiaUFnTHk4Z1kzVjBaWE41TENCaWRYUWdkR2hsZVNCaGNtVWdZM1Z5YlhWa1oyVnZibk11WEc0Z0lISjFiblJwYldVdVlYZHlZWEFnUFNCbWRXNWpkR2x2YmlBb1lYSm5LU0I3WEc0Z0lDQWdjbVYwZFhKdUlHNWxkeUJCZDJGcGRFRnlaM1Z0Wlc1MEtHRnlaeWs3WEc0Z0lIMDdYRzVjYmlBZ1puVnVZM1JwYjI0Z1FYZGhhWFJCY21kMWJXVnVkQ2hoY21jcElIdGNiaUFnSUNCMGFHbHpMbUZ5WnlBOUlHRnlaenRjYmlBZ2ZWeHVYRzRnSUdaMWJtTjBhVzl1SUVGemVXNWpTWFJsY21GMGIzSW9aMlZ1WlhKaGRHOXlLU0I3WEc0Z0lDQWdMeThnVkdocGN5QnBiblp2YTJVZ1puVnVZM1JwYjI0Z2FYTWdkM0pwZEhSbGJpQnBiaUJoSUhOMGVXeGxJSFJvWVhRZ1lYTnpkVzFsY3lCemIyMWxYRzRnSUNBZ0x5OGdZMkZzYkdsdVp5Qm1kVzVqZEdsdmJpQW9iM0lnVUhKdmJXbHpaU2tnZDJsc2JDQm9ZVzVrYkdVZ1pYaGpaWEIwYVc5dWN5NWNiaUFnSUNCbWRXNWpkR2x2YmlCcGJuWnZhMlVvYldWMGFHOWtMQ0JoY21jcElIdGNiaUFnSUNBZ0lIWmhjaUJ5WlhOMWJIUWdQU0JuWlc1bGNtRjBiM0piYldWMGFHOWtYU2hoY21jcE8xeHVJQ0FnSUNBZ2RtRnlJSFpoYkhWbElEMGdjbVZ6ZFd4MExuWmhiSFZsTzF4dUlDQWdJQ0FnY21WMGRYSnVJSFpoYkhWbElHbHVjM1JoYm1ObGIyWWdRWGRoYVhSQmNtZDFiV1Z1ZENBL0lGOVFjbTl0YVhObExuSmxjMjlzZG1Vb2RtRnNkV1V1WVhKbktTNTBhR1Z1S0dsdWRtOXJaVTVsZUhRc0lHbHVkbTlyWlZSb2NtOTNLU0E2SUY5UWNtOXRhWE5sTG5KbGMyOXNkbVVvZG1Gc2RXVXBMblJvWlc0b1puVnVZM1JwYjI0Z0tIVnVkM0poY0hCbFpDa2dlMXh1SUNBZ0lDQWdJQ0F2THlCWGFHVnVJR0VnZVdsbGJHUmxaQ0JRY205dGFYTmxJR2x6SUhKbGMyOXNkbVZrTENCcGRITWdabWx1WVd3Z2RtRnNkV1VnWW1WamIyMWxjMXh1SUNBZ0lDQWdJQ0F2THlCMGFHVWdMblpoYkhWbElHOW1JSFJvWlNCUWNtOXRhWE5sUEh0MllXeDFaU3hrYjI1bGZUNGdjbVZ6ZFd4MElHWnZjaUIwYUdWY2JpQWdJQ0FnSUNBZ0x5OGdZM1Z5Y21WdWRDQnBkR1Z5WVhScGIyNHVJRWxtSUhSb1pTQlFjbTl0YVhObElHbHpJSEpsYW1WamRHVmtMQ0JvYjNkbGRtVnlMQ0IwYUdWY2JpQWdJQ0FnSUNBZ0x5OGdjbVZ6ZFd4MElHWnZjaUIwYUdseklHbDBaWEpoZEdsdmJpQjNhV3hzSUdKbElISmxhbVZqZEdWa0lIZHBkR2dnZEdobElITmhiV1ZjYmlBZ0lDQWdJQ0FnTHk4Z2NtVmhjMjl1TGlCT2IzUmxJSFJvWVhRZ2NtVnFaV04wYVc5dWN5QnZaaUI1YVdWc1pHVmtJRkJ5YjIxcGMyVnpJR0Z5WlNCdWIzUmNiaUFnSUNBZ0lDQWdMeThnZEdoeWIzZHVJR0poWTJzZ2FXNTBieUIwYUdVZ1oyVnVaWEpoZEc5eUlHWjFibU4wYVc5dUxDQmhjeUJwY3lCMGFHVWdZMkZ6WlZ4dUlDQWdJQ0FnSUNBdkx5QjNhR1Z1SUdGdUlHRjNZV2wwWldRZ1VISnZiV2x6WlNCcGN5QnlaV3BsWTNSbFpDNGdWR2hwY3lCa2FXWm1aWEpsYm1ObElHbHVYRzRnSUNBZ0lDQWdJQzh2SUdKbGFHRjJhVzl5SUdKbGRIZGxaVzRnZVdsbGJHUWdZVzVrSUdGM1lXbDBJR2x6SUdsdGNHOXlkR0Z1ZEN3Z1ltVmpZWFZ6WlNCcGRGeHVJQ0FnSUNBZ0lDQXZMeUJoYkd4dmQzTWdkR2hsSUdOdmJuTjFiV1Z5SUhSdklHUmxZMmxrWlNCM2FHRjBJSFJ2SUdSdklIZHBkR2dnZEdobElIbHBaV3hrWldSY2JpQWdJQ0FnSUNBZ0x5OGdjbVZxWldOMGFXOXVJQ2h6ZDJGc2JHOTNJR2wwSUdGdVpDQmpiMjUwYVc1MVpTd2diV0Z1ZFdGc2JIa2dMblJvY205M0lHbDBJR0poWTJ0Y2JpQWdJQ0FnSUNBZ0x5OGdhVzUwYnlCMGFHVWdaMlZ1WlhKaGRHOXlMQ0JoWW1GdVpHOXVJR2wwWlhKaGRHbHZiaXdnZDJoaGRHVjJaWElwTGlCWGFYUm9YRzRnSUNBZ0lDQWdJQzh2SUdGM1lXbDBMQ0JpZVNCamIyNTBjbUZ6ZEN3Z2RHaGxjbVVnYVhNZ2JtOGdiM0J3YjNKMGRXNXBkSGtnZEc4Z1pYaGhiV2x1WlNCMGFHVmNiaUFnSUNBZ0lDQWdMeThnY21WcVpXTjBhVzl1SUhKbFlYTnZiaUJ2ZFhSemFXUmxJSFJvWlNCblpXNWxjbUYwYjNJZ1puVnVZM1JwYjI0c0lITnZJSFJvWlZ4dUlDQWdJQ0FnSUNBdkx5QnZibXg1SUc5d2RHbHZiaUJwY3lCMGJ5QjBhSEp2ZHlCcGRDQm1jbTl0SUhSb1pTQmhkMkZwZENCbGVIQnlaWE56YVc5dUxDQmhibVJjYmlBZ0lDQWdJQ0FnTHk4Z2JHVjBJSFJvWlNCblpXNWxjbUYwYjNJZ1puVnVZM1JwYjI0Z2FHRnVaR3hsSUhSb1pTQmxlR05sY0hScGIyNHVYRzRnSUNBZ0lDQWdJSEpsYzNWc2RDNTJZV3gxWlNBOUlIVnVkM0poY0hCbFpEdGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlISmxjM1ZzZER0Y2JpQWdJQ0FnSUgwcE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUdsbUlDaDBlWEJsYjJZZ2NISnZZMlZ6Y3lBOVBUMGdYQ0p2WW1wbFkzUmNJaUFtSmlCd2NtOWpaWE56TG1SdmJXRnBiaWtnZTF4dUlDQWdJQ0FnYVc1MmIydGxJRDBnY0hKdlkyVnpjeTVrYjIxaGFXNHVZbWx1WkNocGJuWnZhMlVwTzF4dUlDQWdJSDFjYmx4dUlDQWdJSFpoY2lCcGJuWnZhMlZPWlhoMElEMGdhVzUyYjJ0bExtSnBibVFvWjJWdVpYSmhkRzl5TENCY0ltNWxlSFJjSWlrN1hHNGdJQ0FnZG1GeUlHbHVkbTlyWlZSb2NtOTNJRDBnYVc1MmIydGxMbUpwYm1Rb1oyVnVaWEpoZEc5eUxDQmNJblJvY205M1hDSXBPMXh1SUNBZ0lIWmhjaUJwYm5admEyVlNaWFIxY200Z1BTQnBiblp2YTJVdVltbHVaQ2huWlc1bGNtRjBiM0lzSUZ3aWNtVjBkWEp1WENJcE8xeHVJQ0FnSUhaaGNpQndjbVYyYVc5MWMxQnliMjFwYzJVN1hHNWNiaUFnSUNCbWRXNWpkR2x2YmlCbGJuRjFaWFZsS0cxbGRHaHZaQ3dnWVhKbktTQjdYRzRnSUNBZ0lDQjJZWElnWlc1eGRXVjFaVkpsYzNWc2RDQTlYRzRnSUNBZ0lDQXZMeUJKWmlCbGJuRjFaWFZsSUdoaGN5QmlaV1Z1SUdOaGJHeGxaQ0JpWldadmNtVXNJSFJvWlc0Z2QyVWdkMkZ1ZENCMGJ5QjNZV2wwSUhWdWRHbHNYRzRnSUNBZ0lDQXZMeUJoYkd3Z2NISmxkbWx2ZFhNZ1VISnZiV2x6WlhNZ2FHRjJaU0JpWldWdUlISmxjMjlzZG1Wa0lHSmxabTl5WlNCallXeHNhVzVuSUdsdWRtOXJaU3hjYmlBZ0lDQWdJQzh2SUhOdklIUm9ZWFFnY21WemRXeDBjeUJoY21VZ1lXeDNZWGx6SUdSbGJHbDJaWEpsWkNCcGJpQjBhR1VnWTI5eWNtVmpkQ0J2Y21SbGNpNGdTV1pjYmlBZ0lDQWdJQzh2SUdWdWNYVmxkV1VnYUdGeklHNXZkQ0JpWldWdUlHTmhiR3hsWkNCaVpXWnZjbVVzSUhSb1pXNGdhWFFnYVhNZ2FXMXdiM0owWVc1MElIUnZYRzRnSUNBZ0lDQXZMeUJqWVd4c0lHbHVkbTlyWlNCcGJXMWxaR2xoZEdWc2VTd2dkMmwwYUc5MWRDQjNZV2wwYVc1bklHOXVJR0VnWTJGc2JHSmhZMnNnZEc4Z1ptbHlaU3hjYmlBZ0lDQWdJQzh2SUhOdklIUm9ZWFFnZEdobElHRnplVzVqSUdkbGJtVnlZWFJ2Y2lCbWRXNWpkR2x2YmlCb1lYTWdkR2hsSUc5d2NHOXlkSFZ1YVhSNUlIUnZJR1J2WEc0Z0lDQWdJQ0F2THlCaGJua2dibVZqWlhOellYSjVJSE5sZEhWd0lHbHVJR0VnY0hKbFpHbGpkR0ZpYkdVZ2QyRjVMaUJVYUdseklIQnlaV1JwWTNSaFltbHNhWFI1WEc0Z0lDQWdJQ0F2THlCcGN5QjNhSGtnZEdobElGQnliMjFwYzJVZ1kyOXVjM1J5ZFdOMGIzSWdjM2x1WTJoeWIyNXZkWE5zZVNCcGJuWnZhMlZ6SUdsMGMxeHVJQ0FnSUNBZ0x5OGdaWGhsWTNWMGIzSWdZMkZzYkdKaFkyc3NJR0Z1WkNCM2FIa2dZWE41Ym1NZ1puVnVZM1JwYjI1eklITjVibU5vY205dWIzVnpiSGxjYmlBZ0lDQWdJQzh2SUdWNFpXTjFkR1VnWTI5a1pTQmlaV1p2Y21VZ2RHaGxJR1pwY25OMElHRjNZV2wwTGlCVGFXNWpaU0IzWlNCcGJYQnNaVzFsYm5RZ2MybHRjR3hsWEc0Z0lDQWdJQ0F2THlCaGMzbHVZeUJtZFc1amRHbHZibk1nYVc0Z2RHVnliWE1nYjJZZ1lYTjVibU1nWjJWdVpYSmhkRzl5Y3l3Z2FYUWdhWE1nWlhOd1pXTnBZV3hzZVZ4dUlDQWdJQ0FnTHk4Z2FXMXdiM0owWVc1MElIUnZJR2RsZENCMGFHbHpJSEpwWjJoMExDQmxkbVZ1SUhSb2IzVm5hQ0JwZENCeVpYRjFhWEpsY3lCallYSmxMbHh1SUNBZ0lDQWdjSEpsZG1sdmRYTlFjbTl0YVhObElEOGdjSEpsZG1sdmRYTlFjbTl0YVhObExuUm9aVzRvWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z2FXNTJiMnRsS0cxbGRHaHZaQ3dnWVhKbktUdGNiaUFnSUNBZ0lIMHBJRG9nYm1WM0lGOVFjbTl0YVhObEtHWjFibU4wYVc5dUlDaHlaWE52YkhabEtTQjdYRzRnSUNBZ0lDQWdJSEpsYzI5c2RtVW9hVzUyYjJ0bEtHMWxkR2h2WkN3Z1lYSm5LU2s3WEc0Z0lDQWdJQ0I5S1R0Y2JseHVJQ0FnSUNBZ0x5OGdRWFp2YVdRZ2NISnZjR0ZuWVhScGJtY2daVzV4ZFdWMVpWSmxjM1ZzZENCbVlXbHNkWEpsY3lCMGJ5QlFjbTl0YVhObGN5QnlaWFIxY201bFpDQmllVnh1SUNBZ0lDQWdMeThnYkdGMFpYSWdhVzUyYjJOaGRHbHZibk1nYjJZZ2RHaGxJR2wwWlhKaGRHOXlMbHh1SUNBZ0lDQWdjSEpsZG1sdmRYTlFjbTl0YVhObElEMGdaVzV4ZFdWMVpWSmxjM1ZzZEZ0Y0ltTmhkR05vWENKZEtHWjFibU4wYVc5dUlDaHBaMjV2Y21Wa0tTQjdmU2s3WEc1Y2JpQWdJQ0FnSUhKbGRIVnliaUJsYm5GMVpYVmxVbVZ6ZFd4ME8xeHVJQ0FnSUgxY2JseHVJQ0FnSUM4dklFUmxabWx1WlNCMGFHVWdkVzVwWm1sbFpDQm9aV3h3WlhJZ2JXVjBhRzlrSUhSb1lYUWdhWE1nZFhObFpDQjBieUJwYlhCc1pXMWxiblFnTG01bGVIUXNYRzRnSUNBZ0x5OGdMblJvY205M0xDQmhibVFnTG5KbGRIVnliaUFvYzJWbElHUmxabWx1WlVsMFpYSmhkRzl5VFdWMGFHOWtjeWt1WEc0Z0lDQWdkR2hwY3k1ZmFXNTJiMnRsSUQwZ1pXNXhkV1YxWlR0Y2JpQWdmVnh1WEc0Z0lHUmxabWx1WlVsMFpYSmhkRzl5VFdWMGFHOWtjeWhCYzNsdVkwbDBaWEpoZEc5eUxuQnliM1J2ZEhsd1pTazdYRzVjYmlBZ0x5OGdUbTkwWlNCMGFHRjBJSE5wYlhCc1pTQmhjM2x1WXlCbWRXNWpkR2x2Ym5NZ1lYSmxJR2x0Y0d4bGJXVnVkR1ZrSUc5dUlIUnZjQ0J2Wmx4dUlDQXZMeUJCYzNsdVkwbDBaWEpoZEc5eUlHOWlhbVZqZEhNN0lIUm9aWGtnYW5WemRDQnlaWFIxY200Z1lTQlFjbTl0YVhObElHWnZjaUIwYUdVZ2RtRnNkV1VnYjJaY2JpQWdMeThnZEdobElHWnBibUZzSUhKbGMzVnNkQ0J3Y205a2RXTmxaQ0JpZVNCMGFHVWdhWFJsY21GMGIzSXVYRzRnSUhKMWJuUnBiV1V1WVhONWJtTWdQU0JtZFc1amRHbHZiaUFvYVc1dVpYSkdiaXdnYjNWMFpYSkdiaXdnYzJWc1ppd2dkSEo1VEc5amMweHBjM1FwSUh0Y2JpQWdJQ0IyWVhJZ2FYUmxjaUE5SUc1bGR5QkJjM2x1WTBsMFpYSmhkRzl5S0hkeVlYQW9hVzV1WlhKR2Jpd2diM1YwWlhKR2Jpd2djMlZzWml3Z2RISjVURzlqYzB4cGMzUXBLVHRjYmx4dUlDQWdJSEpsZEhWeWJpQnlkVzUwYVcxbExtbHpSMlZ1WlhKaGRHOXlSblZ1WTNScGIyNG9iM1YwWlhKR2Jpa2dQeUJwZEdWeUlDOHZJRWxtSUc5MWRHVnlSbTRnYVhNZ1lTQm5aVzVsY21GMGIzSXNJSEpsZEhWeWJpQjBhR1VnWm5Wc2JDQnBkR1Z5WVhSdmNpNWNiaUFnSUNBNklHbDBaWEl1Ym1WNGRDZ3BMblJvWlc0b1puVnVZM1JwYjI0Z0tISmxjM1ZzZENrZ2UxeHVJQ0FnSUNBZ2NtVjBkWEp1SUhKbGMzVnNkQzVrYjI1bElEOGdjbVZ6ZFd4MExuWmhiSFZsSURvZ2FYUmxjaTV1WlhoMEtDazdYRzRnSUNBZ2ZTazdYRzRnSUgwN1hHNWNiaUFnWm5WdVkzUnBiMjRnYldGclpVbHVkbTlyWlUxbGRHaHZaQ2hwYm01bGNrWnVMQ0J6Wld4bUxDQmpiMjUwWlhoMEtTQjdYRzRnSUNBZ2RtRnlJSE4wWVhSbElEMGdSMlZ1VTNSaGRHVlRkWE53Wlc1a1pXUlRkR0Z5ZER0Y2JseHVJQ0FnSUhKbGRIVnliaUJtZFc1amRHbHZiaUJwYm5admEyVW9iV1YwYUc5a0xDQmhjbWNwSUh0Y2JpQWdJQ0FnSUdsbUlDaHpkR0YwWlNBOVBUMGdSMlZ1VTNSaGRHVkZlR1ZqZFhScGJtY3BJSHRjYmlBZ0lDQWdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLRndpUjJWdVpYSmhkRzl5SUdseklHRnNjbVZoWkhrZ2NuVnVibWx1WjF3aUtUdGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdhV1lnS0hOMFlYUmxJRDA5UFNCSFpXNVRkR0YwWlVOdmJYQnNaWFJsWkNrZ2UxeHVJQ0FnSUNBZ0lDQnBaaUFvYldWMGFHOWtJRDA5UFNCY0luUm9jbTkzWENJcElIdGNiaUFnSUNBZ0lDQWdJQ0IwYUhKdmR5QmhjbWM3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQXZMeUJDWlNCbWIzSm5hWFpwYm1jc0lIQmxjaUF5TlM0ekxqTXVNeTR6SUc5bUlIUm9aU0J6Y0dWak9seHVJQ0FnSUNBZ0lDQXZMeUJvZEhSd2N6b3ZMM0JsYjNCc1pTNXRiM3BwYkd4aExtOXlaeTkrYW05eVpXNWtiM0ptWmk5bGN6WXRaSEpoWm5RdWFIUnRiQ056WldNdFoyVnVaWEpoZEc5eWNtVnpkVzFsWEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUJrYjI1bFVtVnpkV3gwS0NrN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lIZG9hV3hsSUNoMGNuVmxLU0I3WEc0Z0lDQWdJQ0FnSUhaaGNpQmtaV3hsWjJGMFpTQTlJR052Ym5SbGVIUXVaR1ZzWldkaGRHVTdYRzRnSUNBZ0lDQWdJR2xtSUNoa1pXeGxaMkYwWlNrZ2UxeHVJQ0FnSUNBZ0lDQWdJR2xtSUNodFpYUm9iMlFnUFQwOUlGd2ljbVYwZFhKdVhDSWdmSHdnYldWMGFHOWtJRDA5UFNCY0luUm9jbTkzWENJZ0ppWWdaR1ZzWldkaGRHVXVhWFJsY21GMGIzSmJiV1YwYUc5a1hTQTlQVDBnZFc1a1pXWnBibVZrS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCQklISmxkSFZ5YmlCdmNpQjBhSEp2ZHlBb2QyaGxiaUIwYUdVZ1pHVnNaV2RoZEdVZ2FYUmxjbUYwYjNJZ2FHRnpJRzV2SUhSb2NtOTNYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QnRaWFJvYjJRcElHRnNkMkY1Y3lCMFpYSnRhVzVoZEdWeklIUm9aU0I1YVdWc1pDb2diRzl2Y0M1Y2JpQWdJQ0FnSUNBZ0lDQWdJR052Ym5SbGVIUXVaR1ZzWldkaGRHVWdQU0J1ZFd4c08xeHVYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QkpaaUIwYUdVZ1pHVnNaV2RoZEdVZ2FYUmxjbUYwYjNJZ2FHRnpJR0VnY21WMGRYSnVJRzFsZEdodlpDd2daMmwyWlNCcGRDQmhYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QmphR0Z1WTJVZ2RHOGdZMnhsWVc0Z2RYQXVYRzRnSUNBZ0lDQWdJQ0FnSUNCMllYSWdjbVYwZFhKdVRXVjBhRzlrSUQwZ1pHVnNaV2RoZEdVdWFYUmxjbUYwYjNKYlhDSnlaWFIxY201Y0lsMDdYRzRnSUNBZ0lDQWdJQ0FnSUNCcFppQW9jbVYwZFhKdVRXVjBhRzlrS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhaaGNpQnlaV052Y21RZ1BTQjBjbmxEWVhSamFDaHlaWFIxY201TlpYUm9iMlFzSUdSbGJHVm5ZWFJsTG1sMFpYSmhkRzl5TENCaGNtY3BPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnBaaUFvY21WamIzSmtMblI1Y0dVZ1BUMDlJRndpZEdoeWIzZGNJaWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUM4dklFbG1JSFJvWlNCeVpYUjFjbTRnYldWMGFHOWtJSFJvY21WM0lHRnVJR1Y0WTJWd2RHbHZiaXdnYkdWMElIUm9ZWFJjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0F2THlCbGVHTmxjSFJwYjI0Z2NISmxkbUZwYkNCdmRtVnlJSFJvWlNCdmNtbG5hVzVoYkNCeVpYUjFjbTRnYjNJZ2RHaHliM2N1WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnYldWMGFHOWtJRDBnWENKMGFISnZkMXdpTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdGeVp5QTlJSEpsWTI5eVpDNWhjbWM3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWRHbHVkV1U3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNibHh1SUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLRzFsZEdodlpDQTlQVDBnWENKeVpYUjFjbTVjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkx5QkRiMjUwYVc1MVpTQjNhWFJvSUhSb1pTQnZkWFJsY2lCeVpYUjFjbTRzSUc1dmR5QjBhR0YwSUhSb1pTQmtaV3hsWjJGMFpWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBdkx5QnBkR1Z5WVhSdmNpQm9ZWE1nWW1WbGJpQjBaWEp0YVc1aGRHVmtMbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQmpiMjUwYVc1MVpUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNCMllYSWdjbVZqYjNKa0lEMGdkSEo1UTJGMFkyZ29aR1ZzWldkaGRHVXVhWFJsY21GMGIzSmJiV1YwYUc5a1hTd2daR1ZzWldkaGRHVXVhWFJsY21GMGIzSXNJR0Z5WnlrN1hHNWNiaUFnSUNBZ0lDQWdJQ0JwWmlBb2NtVmpiM0prTG5SNWNHVWdQVDA5SUZ3aWRHaHliM2RjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWRHVjRkQzVrWld4bFoyRjBaU0E5SUc1MWJHdzdYRzVjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZJRXhwYTJVZ2NtVjBkWEp1YVc1bklHZGxibVZ5WVhSdmNpNTBhSEp2ZHloMWJtTmhkV2RvZENrc0lHSjFkQ0IzYVhSb2IzVjBJSFJvWlZ4dUlDQWdJQ0FnSUNBZ0lDQWdMeThnYjNabGNtaGxZV1FnYjJZZ1lXNGdaWGgwY21FZ1puVnVZM1JwYjI0Z1kyRnNiQzVjYmlBZ0lDQWdJQ0FnSUNBZ0lHMWxkR2h2WkNBOUlGd2lkR2h5YjNkY0lqdGNiaUFnSUNBZ0lDQWdJQ0FnSUdGeVp5QTlJSEpsWTI5eVpDNWhjbWM3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpiMjUwYVc1MVpUdGNiaUFnSUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ0lDQXZMeUJFWld4bFoyRjBaU0JuWlc1bGNtRjBiM0lnY21GdUlHRnVaQ0JvWVc1a2JHVmtJR2wwY3lCdmQyNGdaWGhqWlhCMGFXOXVjeUJ6YjF4dUlDQWdJQ0FnSUNBZ0lDOHZJSEpsWjJGeVpHeGxjM01nYjJZZ2QyaGhkQ0IwYUdVZ2JXVjBhRzlrSUhkaGN5d2dkMlVnWTI5dWRHbHVkV1VnWVhNZ2FXWWdhWFFnYVhOY2JpQWdJQ0FnSUNBZ0lDQXZMeUJjSW01bGVIUmNJaUIzYVhSb0lHRnVJSFZ1WkdWbWFXNWxaQ0JoY21jdVhHNGdJQ0FnSUNBZ0lDQWdiV1YwYUc5a0lEMGdYQ0p1WlhoMFhDSTdYRzRnSUNBZ0lDQWdJQ0FnWVhKbklEMGdkVzVrWldacGJtVmtPMXh1WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJR2x1Wm04Z1BTQnlaV052Y21RdVlYSm5PMXh1SUNBZ0lDQWdJQ0FnSUdsbUlDaHBibVp2TG1SdmJtVXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHTnZiblJsZUhSYlpHVnNaV2RoZEdVdWNtVnpkV3gwVG1GdFpWMGdQU0JwYm1adkxuWmhiSFZsTzF4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl1ZEdWNGRDNXVaWGgwSUQwZ1pHVnNaV2RoZEdVdWJtVjRkRXh2WXp0Y2JpQWdJQ0FnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnYzNSaGRHVWdQU0JIWlc1VGRHRjBaVk4xYzNCbGJtUmxaRmxwWld4a08xeHVJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJR2x1Wm04N1hHNGdJQ0FnSUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0FnSUNBZ1kyOXVkR1Y0ZEM1a1pXeGxaMkYwWlNBOUlHNTFiR3c3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQnBaaUFvYldWMGFHOWtJRDA5UFNCY0ltNWxlSFJjSWlrZ2UxeHVJQ0FnSUNBZ0lDQWdJR2xtSUNoemRHRjBaU0E5UFQwZ1IyVnVVM1JoZEdWVGRYTndaVzVrWldSWmFXVnNaQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl1ZEdWNGRDNXpaVzUwSUQwZ1lYSm5PMXh1SUNBZ0lDQWdJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpiMjUwWlhoMExuTmxiblFnUFNCMWJtUmxabWx1WldRN1hHNGdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0I5SUdWc2MyVWdhV1lnS0cxbGRHaHZaQ0E5UFQwZ1hDSjBhSEp2ZDF3aUtTQjdYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tITjBZWFJsSUQwOVBTQkhaVzVUZEdGMFpWTjFjM0JsYm1SbFpGTjBZWEowS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0J6ZEdGMFpTQTlJRWRsYmxOMFlYUmxRMjl0Y0d4bGRHVmtPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHliM2NnWVhKbk8xeHVJQ0FnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNBZ0lHbG1JQ2hqYjI1MFpYaDBMbVJwYzNCaGRHTm9SWGhqWlhCMGFXOXVLR0Z5WnlrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUM4dklFbG1JSFJvWlNCa2FYTndZWFJqYUdWa0lHVjRZMlZ3ZEdsdmJpQjNZWE1nWTJGMVoyaDBJR0o1SUdFZ1kyRjBZMmdnWW14dlkyc3NYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QjBhR1Z1SUd4bGRDQjBhR0YwSUdOaGRHTm9JR0pzYjJOcklHaGhibVJzWlNCMGFHVWdaWGhqWlhCMGFXOXVJRzV2Y20xaGJHeDVMbHh1SUNBZ0lDQWdJQ0FnSUNBZ2JXVjBhRzlrSUQwZ1hDSnVaWGgwWENJN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JoY21jZ1BTQjFibVJsWm1sdVpXUTdYRzRnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnYVdZZ0tHMWxkR2h2WkNBOVBUMGdYQ0p5WlhSMWNtNWNJaWtnZTF4dUlDQWdJQ0FnSUNBZ0lHTnZiblJsZUhRdVlXSnlkWEIwS0Z3aWNtVjBkWEp1WENJc0lHRnlaeWs3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQnpkR0YwWlNBOUlFZGxibE4wWVhSbFJYaGxZM1YwYVc1bk8xeHVYRzRnSUNBZ0lDQWdJSFpoY2lCeVpXTnZjbVFnUFNCMGNubERZWFJqYUNocGJtNWxja1p1TENCelpXeG1MQ0JqYjI1MFpYaDBLVHRjYmlBZ0lDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1MGVYQmxJRDA5UFNCY0ltNXZjbTFoYkZ3aUtTQjdYRzRnSUNBZ0lDQWdJQ0FnTHk4Z1NXWWdZVzRnWlhoalpYQjBhVzl1SUdseklIUm9jbTkzYmlCbWNtOXRJR2x1Ym1WeVJtNHNJSGRsSUd4bFlYWmxJSE4wWVhSbElEMDlQVnh1SUNBZ0lDQWdJQ0FnSUM4dklFZGxibE4wWVhSbFJYaGxZM1YwYVc1bklHRnVaQ0JzYjI5d0lHSmhZMnNnWm05eUlHRnViM1JvWlhJZ2FXNTJiMk5oZEdsdmJpNWNiaUFnSUNBZ0lDQWdJQ0J6ZEdGMFpTQTlJR052Ym5SbGVIUXVaRzl1WlNBL0lFZGxibE4wWVhSbFEyOXRjR3hsZEdWa0lEb2dSMlZ1VTNSaGRHVlRkWE53Wlc1a1pXUlphV1ZzWkR0Y2JseHVJQ0FnSUNBZ0lDQWdJSFpoY2lCcGJtWnZJRDBnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkbUZzZFdVNklISmxZMjl5WkM1aGNtY3NYRzRnSUNBZ0lDQWdJQ0FnSUNCa2IyNWxPaUJqYjI1MFpYaDBMbVJ2Ym1WY2JpQWdJQ0FnSUNBZ0lDQjlPMXh1WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLSEpsWTI5eVpDNWhjbWNnUFQwOUlFTnZiblJwYm5WbFUyVnVkR2x1Wld3cElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaGpiMjUwWlhoMExtUmxiR1ZuWVhSbElDWW1JRzFsZEdodlpDQTlQVDBnWENKdVpYaDBYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z1JHVnNhV0psY21GMFpXeDVJR1p2Y21kbGRDQjBhR1VnYkdGemRDQnpaVzUwSUhaaGJIVmxJSE52SUhSb1lYUWdkMlVnWkc5dUozUmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0x5OGdZV05qYVdSbGJuUmhiR3g1SUhCaGMzTWdhWFFnYjI0Z2RHOGdkR2hsSUdSbGJHVm5ZWFJsTGx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JoY21jZ1BTQjFibVJsWm1sdVpXUTdYRzRnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJwYm1adk8xeHVJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlNCbGJITmxJR2xtSUNoeVpXTnZjbVF1ZEhsd1pTQTlQVDBnWENKMGFISnZkMXdpS1NCN1hHNGdJQ0FnSUNBZ0lDQWdjM1JoZEdVZ1BTQkhaVzVUZEdGMFpVTnZiWEJzWlhSbFpEdGNiaUFnSUNBZ0lDQWdJQ0F2THlCRWFYTndZWFJqYUNCMGFHVWdaWGhqWlhCMGFXOXVJR0o1SUd4dmIzQnBibWNnWW1GamF5QmhjbTkxYm1RZ2RHOGdkR2hsWEc0Z0lDQWdJQ0FnSUNBZ0x5OGdZMjl1ZEdWNGRDNWthWE53WVhSamFFVjRZMlZ3ZEdsdmJpaGhjbWNwSUdOaGJHd2dZV0p2ZG1VdVhHNGdJQ0FnSUNBZ0lDQWdiV1YwYUc5a0lEMGdYQ0owYUhKdmQxd2lPMXh1SUNBZ0lDQWdJQ0FnSUdGeVp5QTlJSEpsWTI5eVpDNWhjbWM3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JpQWdJQ0I5TzF4dUlDQjlYRzVjYmlBZ0x5OGdSR1ZtYVc1bElFZGxibVZ5WVhSdmNpNXdjbTkwYjNSNWNHVXVlMjVsZUhRc2RHaHliM2NzY21WMGRYSnVmU0JwYmlCMFpYSnRjeUJ2WmlCMGFHVmNiaUFnTHk4Z2RXNXBabWxsWkNBdVgybHVkbTlyWlNCb1pXeHdaWElnYldWMGFHOWtMbHh1SUNCa1pXWnBibVZKZEdWeVlYUnZjazFsZEdodlpITW9SM0FwTzF4dVhHNGdJRWR3VzJsMFpYSmhkRzl5VTNsdFltOXNYU0E5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnSUNCeVpYUjFjbTRnZEdocGN6dGNiaUFnZlR0Y2JseHVJQ0JIY0M1MGIxTjBjbWx1WnlBOUlHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ0lDQnlaWFIxY200Z1hDSmJiMkpxWldOMElFZGxibVZ5WVhSdmNsMWNJanRjYmlBZ2ZUdGNibHh1SUNCbWRXNWpkR2x2YmlCd2RYTm9WSEo1Ulc1MGNua29iRzlqY3lrZ2UxeHVJQ0FnSUhaaGNpQmxiblJ5ZVNBOUlIc2dkSEo1VEc5ak9pQnNiMk56V3pCZElIMDdYRzVjYmlBZ0lDQnBaaUFvTVNCcGJpQnNiMk56S1NCN1hHNGdJQ0FnSUNCbGJuUnllUzVqWVhSamFFeHZZeUE5SUd4dlkzTmJNVjA3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdhV1lnS0RJZ2FXNGdiRzlqY3lrZ2UxeHVJQ0FnSUNBZ1pXNTBjbmt1Wm1sdVlXeHNlVXh2WXlBOUlHeHZZM05iTWwwN1hHNGdJQ0FnSUNCbGJuUnllUzVoWm5SbGNreHZZeUE5SUd4dlkzTmJNMTA3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdkR2hwY3k1MGNubEZiblJ5YVdWekxuQjFjMmdvWlc1MGNua3BPMXh1SUNCOVhHNWNiaUFnWm5WdVkzUnBiMjRnY21WelpYUlVjbmxGYm5SeWVTaGxiblJ5ZVNrZ2UxeHVJQ0FnSUhaaGNpQnlaV052Y21RZ1BTQmxiblJ5ZVM1amIyMXdiR1YwYVc5dUlIeDhJSHQ5TzF4dUlDQWdJSEpsWTI5eVpDNTBlWEJsSUQwZ1hDSnViM0p0WVd4Y0lqdGNiaUFnSUNCa1pXeGxkR1VnY21WamIzSmtMbUZ5Wnp0Y2JpQWdJQ0JsYm5SeWVTNWpiMjF3YkdWMGFXOXVJRDBnY21WamIzSmtPMXh1SUNCOVhHNWNiaUFnWm5WdVkzUnBiMjRnUTI5dWRHVjRkQ2gwY25sTWIyTnpUR2x6ZENrZ2UxeHVJQ0FnSUM4dklGUm9aU0J5YjI5MElHVnVkSEo1SUc5aWFtVmpkQ0FvWldabVpXTjBhWFpsYkhrZ1lTQjBjbmtnYzNSaGRHVnRaVzUwSUhkcGRHaHZkWFFnWVNCallYUmphRnh1SUNBZ0lDOHZJRzl5SUdFZ1ptbHVZV3hzZVNCaWJHOWpheWtnWjJsMlpYTWdkWE1nWVNCd2JHRmpaU0IwYnlCemRHOXlaU0IyWVd4MVpYTWdkR2h5YjNkdUlHWnliMjFjYmlBZ0lDQXZMeUJzYjJOaGRHbHZibk1nZDJobGNtVWdkR2hsY21VZ2FYTWdibThnWlc1amJHOXphVzVuSUhSeWVTQnpkR0YwWlcxbGJuUXVYRzRnSUNBZ2RHaHBjeTUwY25sRmJuUnlhV1Z6SUQwZ1czc2dkSEo1VEc5ak9pQmNJbkp2YjNSY0lpQjlYVHRjYmlBZ0lDQjBjbmxNYjJOelRHbHpkQzVtYjNKRllXTm9LSEIxYzJoVWNubEZiblJ5ZVN3Z2RHaHBjeWs3WEc0Z0lDQWdkR2hwY3k1eVpYTmxkQ2gwY25WbEtUdGNiaUFnZlZ4dVhHNGdJSEoxYm5ScGJXVXVhMlY1Y3lBOUlHWjFibU4wYVc5dUlDaHZZbXBsWTNRcElIdGNiaUFnSUNCMllYSWdhMlY1Y3lBOUlGdGRPMXh1SUNBZ0lHWnZjaUFvZG1GeUlHdGxlU0JwYmlCdlltcGxZM1FwSUh0Y2JpQWdJQ0FnSUd0bGVYTXVjSFZ6YUNoclpYa3BPMXh1SUNBZ0lIMWNiaUFnSUNCclpYbHpMbkpsZG1WeWMyVW9LVHRjYmx4dUlDQWdJQzh2SUZKaGRHaGxjaUIwYUdGdUlISmxkSFZ5Ym1sdVp5QmhiaUJ2WW1wbFkzUWdkMmwwYUNCaElHNWxlSFFnYldWMGFHOWtMQ0IzWlNCclpXVndYRzRnSUNBZ0x5OGdkR2hwYm1keklITnBiWEJzWlNCaGJtUWdjbVYwZFhKdUlIUm9aU0J1WlhoMElHWjFibU4wYVc5dUlHbDBjMlZzWmk1Y2JpQWdJQ0J5WlhSMWNtNGdablZ1WTNScGIyNGdibVY0ZENncElIdGNiaUFnSUNBZ0lIZG9hV3hsSUNoclpYbHpMbXhsYm1kMGFDa2dlMXh1SUNBZ0lDQWdJQ0IyWVhJZ2EyVjVJRDBnYTJWNWN5NXdiM0FvS1R0Y2JpQWdJQ0FnSUNBZ2FXWWdLR3RsZVNCcGJpQnZZbXBsWTNRcElIdGNiaUFnSUNBZ0lDQWdJQ0J1WlhoMExuWmhiSFZsSUQwZ2EyVjVPMXh1SUNBZ0lDQWdJQ0FnSUc1bGVIUXVaRzl1WlNBOUlHWmhiSE5sTzF4dUlDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCdVpYaDBPMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUM4dklGUnZJR0YyYjJsa0lHTnlaV0YwYVc1bklHRnVJR0ZrWkdsMGFXOXVZV3dnYjJKcVpXTjBMQ0IzWlNCcWRYTjBJR2hoYm1jZ2RHaGxJQzUyWVd4MVpWeHVJQ0FnSUNBZ0x5OGdZVzVrSUM1a2IyNWxJSEJ5YjNCbGNuUnBaWE1nYjJabUlIUm9aU0J1WlhoMElHWjFibU4wYVc5dUlHOWlhbVZqZENCcGRITmxiR1l1SUZSb2FYTmNiaUFnSUNBZ0lDOHZJR0ZzYzI4Z1pXNXpkWEpsY3lCMGFHRjBJSFJvWlNCdGFXNXBabWxsY2lCM2FXeHNJRzV2ZENCaGJtOXVlVzFwZW1VZ2RHaGxJR1oxYm1OMGFXOXVMbHh1SUNBZ0lDQWdibVY0ZEM1a2IyNWxJRDBnZEhKMVpUdGNiaUFnSUNBZ0lISmxkSFZ5YmlCdVpYaDBPMXh1SUNBZ0lIMDdYRzRnSUgwN1hHNWNiaUFnWm5WdVkzUnBiMjRnZG1Gc2RXVnpLR2wwWlhKaFlteGxLU0I3WEc0Z0lDQWdhV1lnS0dsMFpYSmhZbXhsS1NCN1hHNGdJQ0FnSUNCMllYSWdhWFJsY21GMGIzSk5aWFJvYjJRZ1BTQnBkR1Z5WVdKc1pWdHBkR1Z5WVhSdmNsTjViV0p2YkYwN1hHNGdJQ0FnSUNCcFppQW9hWFJsY21GMGIzSk5aWFJvYjJRcElIdGNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlHbDBaWEpoZEc5eVRXVjBhRzlrTG1OaGJHd29hWFJsY21GaWJHVXBPMXh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0JwWmlBb2RIbHdaVzltSUdsMFpYSmhZbXhsTG01bGVIUWdQVDA5SUZ3aVpuVnVZM1JwYjI1Y0lpa2dlMXh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdhWFJsY21GaWJHVTdYRzRnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJR2xtSUNnaGFYTk9ZVTRvYVhSbGNtRmliR1V1YkdWdVozUm9LU2tnZTF4dUlDQWdJQ0FnSUNCMllYSWdhU0E5SUMweExGeHVJQ0FnSUNBZ0lDQWdJQ0FnYm1WNGRDQTlJR1oxYm1OMGFXOXVJRzVsZUhRb0tTQjdYRzRnSUNBZ0lDQWdJQ0FnZDJocGJHVWdLQ3NyYVNBOElHbDBaWEpoWW14bExteGxibWQwYUNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tHaGhjMDkzYmk1allXeHNLR2wwWlhKaFlteGxMQ0JwS1NrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCdVpYaDBMblpoYkhWbElEMGdhWFJsY21GaWJHVmJhVjA3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJRzVsZUhRdVpHOXVaU0E5SUdaaGJITmxPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2JtVjRkRHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ0lDQnVaWGgwTG5aaGJIVmxJRDBnZFc1a1pXWnBibVZrTzF4dUlDQWdJQ0FnSUNBZ0lHNWxlSFF1Wkc5dVpTQTlJSFJ5ZFdVN1hHNWNiaUFnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdibVY0ZER0Y2JpQWdJQ0FnSUNBZ2ZUdGNibHh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdibVY0ZEM1dVpYaDBJRDBnYm1WNGREdGNiaUFnSUNBZ0lIMWNiaUFnSUNCOVhHNWNiaUFnSUNBdkx5QlNaWFIxY200Z1lXNGdhWFJsY21GMGIzSWdkMmwwYUNCdWJ5QjJZV3gxWlhNdVhHNGdJQ0FnY21WMGRYSnVJSHNnYm1WNGREb2daRzl1WlZKbGMzVnNkQ0I5TzF4dUlDQjlYRzRnSUhKMWJuUnBiV1V1ZG1Gc2RXVnpJRDBnZG1Gc2RXVnpPMXh1WEc0Z0lHWjFibU4wYVc5dUlHUnZibVZTWlhOMWJIUW9LU0I3WEc0Z0lDQWdjbVYwZFhKdUlIc2dkbUZzZFdVNklIVnVaR1ZtYVc1bFpDd2daRzl1WlRvZ2RISjFaU0I5TzF4dUlDQjlYRzVjYmlBZ1EyOXVkR1Y0ZEM1d2NtOTBiM1I1Y0dVZ1BTQjdYRzRnSUNBZ1kyOXVjM1J5ZFdOMGIzSTZJRU52Ym5SbGVIUXNYRzVjYmlBZ0lDQnlaWE5sZERvZ1puVnVZM1JwYjI0Z2NtVnpaWFFvYzJ0cGNGUmxiWEJTWlhObGRDa2dlMXh1SUNBZ0lDQWdkR2hwY3k1d2NtVjJJRDBnTUR0Y2JpQWdJQ0FnSUhSb2FYTXVibVY0ZENBOUlEQTdYRzRnSUNBZ0lDQjBhR2x6TG5ObGJuUWdQU0IxYm1SbFptbHVaV1E3WEc0Z0lDQWdJQ0IwYUdsekxtUnZibVVnUFNCbVlXeHpaVHRjYmlBZ0lDQWdJSFJvYVhNdVpHVnNaV2RoZEdVZ1BTQnVkV3hzTzF4dVhHNGdJQ0FnSUNCMGFHbHpMblJ5ZVVWdWRISnBaWE11Wm05eVJXRmphQ2h5WlhObGRGUnllVVZ1ZEhKNUtUdGNibHh1SUNBZ0lDQWdhV1lnS0NGemEybHdWR1Z0Y0ZKbGMyVjBLU0I3WEc0Z0lDQWdJQ0FnSUdadmNpQW9kbUZ5SUc1aGJXVWdhVzRnZEdocGN5a2dlMXh1SUNBZ0lDQWdJQ0FnSUM4dklFNXZkQ0J6ZFhKbElHRmliM1YwSUhSb1pTQnZjSFJwYldGc0lHOXlaR1Z5SUc5bUlIUm9aWE5sSUdOdmJtUnBkR2x2Ym5NNlhHNGdJQ0FnSUNBZ0lDQWdhV1lnS0c1aGJXVXVZMmhoY2tGMEtEQXBJRDA5UFNCY0luUmNJaUFtSmlCb1lYTlBkMjR1WTJGc2JDaDBhR2x6TENCdVlXMWxLU0FtSmlBaGFYTk9ZVTRvSzI1aGJXVXVjMnhwWTJVb01Ta3BLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBhR2x6VzI1aGJXVmRJRDBnZFc1a1pXWnBibVZrTzF4dUlDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdmVnh1SUNBZ0lIMHNYRzVjYmlBZ0lDQnpkRzl3T2lCbWRXNWpkR2x2YmlCemRHOXdLQ2tnZTF4dUlDQWdJQ0FnZEdocGN5NWtiMjVsSUQwZ2RISjFaVHRjYmx4dUlDQWdJQ0FnZG1GeUlISnZiM1JGYm5SeWVTQTlJSFJvYVhNdWRISjVSVzUwY21sbGMxc3dYVHRjYmlBZ0lDQWdJSFpoY2lCeWIyOTBVbVZqYjNKa0lEMGdjbTl2ZEVWdWRISjVMbU52YlhCc1pYUnBiMjQ3WEc0Z0lDQWdJQ0JwWmlBb2NtOXZkRkpsWTI5eVpDNTBlWEJsSUQwOVBTQmNJblJvY205M1hDSXBJSHRjYmlBZ0lDQWdJQ0FnZEdoeWIzY2djbTl2ZEZKbFkyOXlaQzVoY21jN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMbkoyWVd3N1hHNGdJQ0FnZlN4Y2JseHVJQ0FnSUdScGMzQmhkR05vUlhoalpYQjBhVzl1T2lCbWRXNWpkR2x2YmlCa2FYTndZWFJqYUVWNFkyVndkR2x2YmlobGVHTmxjSFJwYjI0cElIdGNiaUFnSUNBZ0lHbG1JQ2gwYUdsekxtUnZibVVwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHliM2NnWlhoalpYQjBhVzl1TzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCMllYSWdZMjl1ZEdWNGRDQTlJSFJvYVhNN1hHNGdJQ0FnSUNCbWRXNWpkR2x2YmlCb1lXNWtiR1VvYkc5akxDQmpZWFZuYUhRcElIdGNiaUFnSUNBZ0lDQWdjbVZqYjNKa0xuUjVjR1VnUFNCY0luUm9jbTkzWENJN1hHNGdJQ0FnSUNBZ0lISmxZMjl5WkM1aGNtY2dQU0JsZUdObGNIUnBiMjQ3WEc0Z0lDQWdJQ0FnSUdOdmJuUmxlSFF1Ym1WNGRDQTlJR3h2WXp0Y2JpQWdJQ0FnSUNBZ2NtVjBkWEp1SUNFaFkyRjFaMmgwTzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCbWIzSWdLSFpoY2lCcElEMGdkR2hwY3k1MGNubEZiblJ5YVdWekxteGxibWQwYUNBdElERTdJR2tnUGowZ01Ec2dMUzFwS1NCN1hHNGdJQ0FnSUNBZ0lIWmhjaUJsYm5SeWVTQTlJSFJvYVhNdWRISjVSVzUwY21sbGMxdHBYVHRjYmlBZ0lDQWdJQ0FnZG1GeUlISmxZMjl5WkNBOUlHVnVkSEo1TG1OdmJYQnNaWFJwYjI0N1hHNWNiaUFnSUNBZ0lDQWdhV1lnS0dWdWRISjVMblJ5ZVV4dll5QTlQVDBnWENKeWIyOTBYQ0lwSUh0Y2JpQWdJQ0FnSUNBZ0lDQXZMeUJGZUdObGNIUnBiMjRnZEdoeWIzZHVJRzkxZEhOcFpHVWdiMllnWVc1NUlIUnllU0JpYkc5amF5QjBhR0YwSUdOdmRXeGtJR2hoYm1Sc1pWeHVJQ0FnSUNBZ0lDQWdJQzh2SUdsMExDQnpieUJ6WlhRZ2RHaGxJR052YlhCc1pYUnBiMjRnZG1Gc2RXVWdiMllnZEdobElHVnVkR2x5WlNCbWRXNWpkR2x2YmlCMGIxeHVJQ0FnSUNBZ0lDQWdJQzh2SUhSb2NtOTNJSFJvWlNCbGVHTmxjSFJwYjI0dVhHNGdJQ0FnSUNBZ0lDQWdjbVYwZFhKdUlHaGhibVJzWlNoY0ltVnVaRndpS1R0Y2JpQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJR2xtSUNobGJuUnllUzUwY25sTWIyTWdQRDBnZEdocGN5NXdjbVYyS1NCN1hHNGdJQ0FnSUNBZ0lDQWdkbUZ5SUdoaGMwTmhkR05vSUQwZ2FHRnpUM2R1TG1OaGJHd29aVzUwY25rc0lGd2lZMkYwWTJoTWIyTmNJaWs3WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJR2hoYzBacGJtRnNiSGtnUFNCb1lYTlBkMjR1WTJGc2JDaGxiblJ5ZVN3Z1hDSm1hVzVoYkd4NVRHOWpYQ0lwTzF4dVhHNGdJQ0FnSUNBZ0lDQWdhV1lnS0doaGMwTmhkR05vSUNZbUlHaGhjMFpwYm1Gc2JIa3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gwYUdsekxuQnlaWFlnUENCbGJuUnllUzVqWVhSamFFeHZZeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdhR0Z1Wkd4bEtHVnVkSEo1TG1OaGRHTm9URzlqTENCMGNuVmxLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMGdaV3h6WlNCcFppQW9kR2hwY3k1d2NtVjJJRHdnWlc1MGNua3VabWx1WVd4c2VVeHZZeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdhR0Z1Wkd4bEtHVnVkSEo1TG1acGJtRnNiSGxNYjJNcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNBZ0lIMGdaV3h6WlNCcFppQW9hR0Z6UTJGMFkyZ3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gwYUdsekxuQnlaWFlnUENCbGJuUnllUzVqWVhSamFFeHZZeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdhR0Z1Wkd4bEtHVnVkSEo1TG1OaGRHTm9URzlqTENCMGNuVmxLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0I5SUdWc2MyVWdhV1lnS0doaGMwWnBibUZzYkhrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG5CeVpYWWdQQ0JsYm5SeWVTNW1hVzVoYkd4NVRHOWpLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQm9ZVzVrYkdVb1pXNTBjbmt1Wm1sdVlXeHNlVXh2WXlrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSFJvY205M0lHNWxkeUJGY25KdmNpaGNJblJ5ZVNCemRHRjBaVzFsYm5RZ2QybDBhRzkxZENCallYUmphQ0J2Y2lCbWFXNWhiR3g1WENJcE8xeHVJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnZlZ4dUlDQWdJSDBzWEc1Y2JpQWdJQ0JoWW5KMWNIUTZJR1oxYm1OMGFXOXVJR0ZpY25Wd2RDaDBlWEJsTENCaGNtY3BJSHRjYmlBZ0lDQWdJR1p2Y2lBb2RtRnlJR2tnUFNCMGFHbHpMblJ5ZVVWdWRISnBaWE11YkdWdVozUm9JQzBnTVRzZ2FTQStQU0F3T3lBdExXa3BJSHRjYmlBZ0lDQWdJQ0FnZG1GeUlHVnVkSEo1SUQwZ2RHaHBjeTUwY25sRmJuUnlhV1Z6VzJsZE8xeHVJQ0FnSUNBZ0lDQnBaaUFvWlc1MGNua3VkSEo1VEc5aklEdzlJSFJvYVhNdWNISmxkaUFtSmlCb1lYTlBkMjR1WTJGc2JDaGxiblJ5ZVN3Z1hDSm1hVzVoYkd4NVRHOWpYQ0lwSUNZbUlIUm9hWE11Y0hKbGRpQThJR1Z1ZEhKNUxtWnBibUZzYkhsTWIyTXBJSHRjYmlBZ0lDQWdJQ0FnSUNCMllYSWdabWx1WVd4c2VVVnVkSEo1SUQwZ1pXNTBjbms3WEc0Z0lDQWdJQ0FnSUNBZ1luSmxZV3M3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2FXWWdLR1pwYm1Gc2JIbEZiblJ5ZVNBbUppQW9kSGx3WlNBOVBUMGdYQ0ppY21WaGExd2lJSHg4SUhSNWNHVWdQVDA5SUZ3aVkyOXVkR2x1ZFdWY0lpa2dKaVlnWm1sdVlXeHNlVVZ1ZEhKNUxuUnllVXh2WXlBOFBTQmhjbWNnSmlZZ1lYSm5JRHc5SUdacGJtRnNiSGxGYm5SeWVTNW1hVzVoYkd4NVRHOWpLU0I3WEc0Z0lDQWdJQ0FnSUM4dklFbG5ibTl5WlNCMGFHVWdabWx1WVd4c2VTQmxiblJ5ZVNCcFppQmpiMjUwY205c0lHbHpJRzV2ZENCcWRXMXdhVzVuSUhSdklHRmNiaUFnSUNBZ0lDQWdMeThnYkc5allYUnBiMjRnYjNWMGMybGtaU0IwYUdVZ2RISjVMMk5oZEdOb0lHSnNiMk5yTGx4dUlDQWdJQ0FnSUNCbWFXNWhiR3g1Ulc1MGNua2dQU0J1ZFd4c08xeHVJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQjJZWElnY21WamIzSmtJRDBnWm1sdVlXeHNlVVZ1ZEhKNUlEOGdabWx1WVd4c2VVVnVkSEo1TG1OdmJYQnNaWFJwYjI0Z09pQjdmVHRjYmlBZ0lDQWdJSEpsWTI5eVpDNTBlWEJsSUQwZ2RIbHdaVHRjYmlBZ0lDQWdJSEpsWTI5eVpDNWhjbWNnUFNCaGNtYzdYRzVjYmlBZ0lDQWdJR2xtSUNobWFXNWhiR3g1Ulc1MGNua3BJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NXVaWGgwSUQwZ1ptbHVZV3hzZVVWdWRISjVMbVpwYm1Gc2JIbE1iMk03WEc0Z0lDQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdJQ0IwYUdsekxtTnZiWEJzWlhSbEtISmxZMjl5WkNrN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCRGIyNTBhVzUxWlZObGJuUnBibVZzTzF4dUlDQWdJSDBzWEc1Y2JpQWdJQ0JqYjIxd2JHVjBaVG9nWm5WdVkzUnBiMjRnWTI5dGNHeGxkR1VvY21WamIzSmtMQ0JoWm5SbGNreHZZeWtnZTF4dUlDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1MGVYQmxJRDA5UFNCY0luUm9jbTkzWENJcElIdGNiaUFnSUNBZ0lDQWdkR2h5YjNjZ2NtVmpiM0prTG1GeVp6dGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdhV1lnS0hKbFkyOXlaQzUwZVhCbElEMDlQU0JjSW1KeVpXRnJYQ0lnZkh3Z2NtVmpiM0prTG5SNWNHVWdQVDA5SUZ3aVkyOXVkR2x1ZFdWY0lpa2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxtNWxlSFFnUFNCeVpXTnZjbVF1WVhKbk8xeHVJQ0FnSUNBZ2ZTQmxiSE5sSUdsbUlDaHlaV052Y21RdWRIbHdaU0E5UFQwZ1hDSnlaWFIxY201Y0lpa2dlMXh1SUNBZ0lDQWdJQ0IwYUdsekxuSjJZV3dnUFNCeVpXTnZjbVF1WVhKbk8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG01bGVIUWdQU0JjSW1WdVpGd2lPMXh1SUNBZ0lDQWdmU0JsYkhObElHbG1JQ2h5WldOdmNtUXVkSGx3WlNBOVBUMGdYQ0p1YjNKdFlXeGNJaUFtSmlCaFpuUmxja3h2WXlrZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG01bGVIUWdQU0JoWm5SbGNreHZZenRjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlMRnh1WEc0Z0lDQWdabWx1YVhOb09pQm1kVzVqZEdsdmJpQm1hVzVwYzJnb1ptbHVZV3hzZVV4dll5a2dlMXh1SUNBZ0lDQWdabTl5SUNoMllYSWdhU0E5SUhSb2FYTXVkSEo1Ulc1MGNtbGxjeTVzWlc1bmRHZ2dMU0F4T3lCcElENDlJREE3SUMwdGFTa2dlMXh1SUNBZ0lDQWdJQ0IyWVhJZ1pXNTBjbmtnUFNCMGFHbHpMblJ5ZVVWdWRISnBaWE5iYVYwN1hHNGdJQ0FnSUNBZ0lHbG1JQ2hsYm5SeWVTNW1hVzVoYkd4NVRHOWpJRDA5UFNCbWFXNWhiR3g1VEc5aktTQjdYRzRnSUNBZ0lDQWdJQ0FnZEdocGN5NWpiMjF3YkdWMFpTaGxiblJ5ZVM1amIyMXdiR1YwYVc5dUxDQmxiblJ5ZVM1aFpuUmxja3h2WXlrN1hHNGdJQ0FnSUNBZ0lDQWdjbVZ6WlhSVWNubEZiblJ5ZVNobGJuUnllU2s3WEc0Z0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUVOdmJuUnBiblZsVTJWdWRHbHVaV3c3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JpQWdJQ0I5TEZ4dVhHNGdJQ0FnWENKallYUmphRndpT2lCbWRXNWpkR2x2YmlCZlkyRjBZMmdvZEhKNVRHOWpLU0I3WEc0Z0lDQWdJQ0JtYjNJZ0tIWmhjaUJwSUQwZ2RHaHBjeTUwY25sRmJuUnlhV1Z6TG14bGJtZDBhQ0F0SURFN0lHa2dQajBnTURzZ0xTMXBLU0I3WEc0Z0lDQWdJQ0FnSUhaaGNpQmxiblJ5ZVNBOUlIUm9hWE11ZEhKNVJXNTBjbWxsYzF0cFhUdGNiaUFnSUNBZ0lDQWdhV1lnS0dWdWRISjVMblJ5ZVV4dll5QTlQVDBnZEhKNVRHOWpLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJSEpsWTI5eVpDQTlJR1Z1ZEhKNUxtTnZiWEJzWlhScGIyNDdYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tISmxZMjl5WkM1MGVYQmxJRDA5UFNCY0luUm9jbTkzWENJcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhaaGNpQjBhSEp2ZDI0Z1BTQnlaV052Y21RdVlYSm5PMXh1SUNBZ0lDQWdJQ0FnSUNBZ2NtVnpaWFJVY25sRmJuUnllU2hsYm5SeWVTazdYRzRnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCMGFISnZkMjQ3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0x5OGdWR2hsSUdOdmJuUmxlSFF1WTJGMFkyZ2diV1YwYUc5a0lHMTFjM1FnYjI1c2VTQmlaU0JqWVd4c1pXUWdkMmwwYUNCaElHeHZZMkYwYVc5dVhHNGdJQ0FnSUNBdkx5QmhjbWQxYldWdWRDQjBhR0YwSUdOdmNuSmxjM0J2Ym1SeklIUnZJR0VnYTI1dmQyNGdZMkYwWTJnZ1lteHZZMnN1WEc0Z0lDQWdJQ0IwYUhKdmR5QnVaWGNnUlhKeWIzSW9YQ0pwYkd4bFoyRnNJR05oZEdOb0lHRjBkR1Z0Y0hSY0lpazdYRzRnSUNBZ2ZTeGNibHh1SUNBZ0lHUmxiR1ZuWVhSbFdXbGxiR1E2SUdaMWJtTjBhVzl1SUdSbGJHVm5ZWFJsV1dsbGJHUW9hWFJsY21GaWJHVXNJSEpsYzNWc2RFNWhiV1VzSUc1bGVIUk1iMk1wSUh0Y2JpQWdJQ0FnSUhSb2FYTXVaR1ZzWldkaGRHVWdQU0I3WEc0Z0lDQWdJQ0FnSUdsMFpYSmhkRzl5T2lCMllXeDFaWE1vYVhSbGNtRmliR1VwTEZ4dUlDQWdJQ0FnSUNCeVpYTjFiSFJPWVcxbE9pQnlaWE4xYkhST1lXMWxMRnh1SUNBZ0lDQWdJQ0J1WlhoMFRHOWpPaUJ1WlhoMFRHOWpYRzRnSUNBZ0lDQjlPMXh1WEc0Z0lDQWdJQ0J5WlhSMWNtNGdRMjl1ZEdsdWRXVlRaVzUwYVc1bGJEdGNiaUFnSUNCOVhHNGdJSDA3WEc1OUtTaGNiaTh2SUVGdGIyNW5JSFJvWlNCMllYSnBiM1Z6SUhSeWFXTnJjeUJtYjNJZ2IySjBZV2x1YVc1bklHRWdjbVZtWlhKbGJtTmxJSFJ2SUhSb1pTQm5iRzlpWVd4Y2JpOHZJRzlpYW1WamRDd2dkR2hwY3lCelpXVnRjeUIwYnlCaVpTQjBhR1VnYlc5emRDQnlaV3hwWVdKc1pTQjBaV05vYm1seGRXVWdkR2hoZENCa2IyVnpJRzV2ZEZ4dUx5OGdkWE5sSUdsdVpHbHlaV04wSUdWMllXd2dLSGRvYVdOb0lIWnBiMnhoZEdWeklFTnZiblJsYm5RZ1UyVmpkWEpwZEhrZ1VHOXNhV041S1M1Y2JuUjVjR1Z2WmlCbmJHOWlZV3dnUFQwOUlGd2liMkpxWldOMFhDSWdQeUJuYkc5aVlXd2dPaUIwZVhCbGIyWWdkMmx1Wkc5M0lEMDlQU0JjSW05aWFtVmpkRndpSUQ4Z2QybHVaRzkzSURvZ2RIbHdaVzltSUhObGJHWWdQVDA5SUZ3aWIySnFaV04wWENJZ1B5QnpaV3htSURvZ2RXNWtaV1pwYm1Wa0tUc2lYWDA9IiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuICAgIHZhciBjdXJyZW50UXVldWU7XG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtpXSgpO1xuICAgICAgICB9XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbn1cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgcXVldWUucHVzaChmdW4pO1xuICAgIGlmICghZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxuLy8gVE9ETyhzaHR5bG1hbilcbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvJC5jb3JlJykuUHJvbWlzZTsiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy8kLmNvcmUnKS5TeW1ib2w7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYubWF0aC5zaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuTWF0aC5zaWduOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5yZXBlYXQnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5TdHJpbmcucmVwZWF0OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZnJvbScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLkFycmF5LmZyb207IiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvcicpOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3QuYXNzaWduOyIsInZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICQuY3JlYXRlKFAsIEQpO1xufTsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhpdCwga2V5LCBkZXNjKTtcbn07IiwidmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICByZXR1cm4gJC5nZXREZXNjKGl0LCBrZXkpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5rZXlzOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLlN5bWJvbDsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQud2tzJykoJ2l0ZXJhdG9yJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKCFpc09iamVjdChpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIDE5LjEuMi4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UsIC4uLilcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vJC50by1vYmplY3QnKVxuICAsIElPYmplY3QgID0gcmVxdWlyZSgnLi8kLmlvYmplY3QnKVxuICAsIGVudW1LZXlzID0gcmVxdWlyZSgnLi8kLmVudW0ta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBTeW1ib2woKSBpbiBPYmplY3QuYXNzaWduKHt9KTsgLy8gT2JqZWN0LmFzc2lnbiBhdmFpbGFibGUgYW5kIFN5bWJvbCBpcyBuYXRpdmVcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKXsgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KVxuICAgICwgbCA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGkgPSAxO1xuICB3aGlsZShsID4gaSl7XG4gICAgdmFyIFMgICAgICA9IElPYmplY3QoYXJndW1lbnRzW2krK10pXG4gICAgICAsIGtleXMgICA9IGVudW1LZXlzKFMpXG4gICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgICAsIGogICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKGxlbmd0aCA+IGopVFtrZXkgPSBrZXlzW2orK11dID0gU1trZXldO1xuICB9XG4gIHJldHVybiBUO1xufSA6IE9iamVjdC5hc3NpZ247IiwiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuLyQuY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuLyQud2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLy8gRVMzIHdyb25nIGhlcmVcbiAgLCBBUkcgPSBjb2YoZnVuY3Rpb24oKXsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IChPID0gT2JqZWN0KGl0KSlbVEFHXSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59OyIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07IiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi8kLmEtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9IHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIH07XG59OyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgY3R4ID0gZnVuY3Rpb24oZm4sIHRoYXQpe1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG52YXIgJGRlZiA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBrZXksIG93biwgb3V0LCBleHBcbiAgICAsIGlzR2xvYmFsID0gdHlwZSAmICRkZWYuR1xuICAgICwgaXNQcm90byAgPSB0eXBlICYgJGRlZi5QXG4gICAgLCB0YXJnZXQgICA9IGlzR2xvYmFsID8gZ2xvYmFsIDogdHlwZSAmICRkZWYuU1xuICAgICAgICA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGV4cG9ydHMgID0gaXNHbG9iYWwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgaWYoaXNHbG9iYWwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICEodHlwZSAmICRkZWYuRikgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBpZihpc0dsb2JhbCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJylleHAgPSBzb3VyY2Vba2V5XTtcbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIGVsc2UgaWYodHlwZSAmICRkZWYuQiAmJiBvd24pZXhwID0gY3R4KG91dCwgZ2xvYmFsKTtcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIGVsc2UgaWYodHlwZSAmICRkZWYuVyAmJiB0YXJnZXRba2V5XSA9PSBvdXQpIWZ1bmN0aW9uKEMpe1xuICAgICAgZXhwID0gZnVuY3Rpb24ocGFyYW0pe1xuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEMgPyBuZXcgQyhwYXJhbSkgOiBDKHBhcmFtKTtcbiAgICAgIH07XG4gICAgICBleHBbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICB9KG91dCk7XG4gICAgZWxzZSBleHAgPSBpc1Byb3RvICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydFxuICAgIGV4cG9ydHNba2V5XSA9IGV4cDtcbiAgICBpZihpc1Byb3RvKShleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KSlba2V5XSA9IG91dDtcbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZGVmLkYgPSAxOyAgLy8gZm9yY2VkXG4kZGVmLkcgPSAyOyAgLy8gZ2xvYmFsXG4kZGVmLlMgPSA0OyAgLy8gc3RhdGljXG4kZGVmLlAgPSA4OyAgLy8gcHJvdG9cbiRkZWYuQiA9IDE2OyAvLyBiaW5kXG4kZGVmLlcgPSAzMjsgLy8gd3JhcFxubW9kdWxlLmV4cG9ydHMgPSAkZGVmOyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTsiLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyICQgPSByZXF1aXJlKCcuLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIga2V5cyAgICAgICA9ICQuZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSAkLmdldFN5bWJvbHM7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9ICQuaXNFbnVtXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpa2V5cy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsInZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsIGNhbGwgICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuLyQuaXMtYXJyYXktaXRlcicpXG4gICwgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vJC50by1sZW5ndGgnKVxuICAsIGdldEl0ZXJGbiAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0KXtcbiAgdmFyIGl0ZXJGbiA9IGdldEl0ZXJGbihpdGVyYWJsZSlcbiAgICAsIGYgICAgICA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKVxuICAgICwgaW5kZXggID0gMFxuICAgICwgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvcjtcbiAgaWYodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3JcbiAgaWYoaXNBcnJheUl0ZXIoaXRlckZuKSlmb3IobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgIGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgfSBlbHNlIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyApe1xuICAgIGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICB9XG59OyIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b1N0cmluZyAgPSB7fS50b1N0cmluZ1xuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vJC50by1pb2JqZWN0JylcbiAgLCBnZXROYW1lcyAgPSByZXF1aXJlKCcuLyQnKS5nZXROYW1lcztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuICB0cnkge1xuICAgIHJldHVybiBnZXROYW1lcyhpdCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmdldCA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICBpZih3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJylyZXR1cm4gZ2V0V2luZG93TmFtZXMoaXQpO1xuICByZXR1cm4gZ2V0TmFtZXModG9JT2JqZWN0KGl0KSk7XG59OyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgVU5ERUZJTkVEID0gJ3VuZGVmaW5lZCc7XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9IFVOREVGSU5FRCAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gVU5ERUZJTkVEICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZiIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59OyIsInZhciAkICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi8kLnByb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLnN1cHBvcnQtZGVzYycpID8gZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsiLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07IiwiLy8gaW5kZXhlZCBvYmplY3QsIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vJC5jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gMCBpbiBPYmplY3QoJ3onKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTsiLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiAoSXRlcmF0b3JzLkFycmF5IHx8IEFycmF5LnByb3RvdHlwZVtJVEVSQVRPUl0pID09PSBpdDtcbn07IiwiLy8gaHR0cDovL2pzcGVyZi5jb20vY29yZS1qcy1pc29iamVjdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gbnVsbCAmJiAodHlwZW9mIGl0ID09ICdvYmplY3QnIHx8IHR5cGVvZiBpdCA9PSAnZnVuY3Rpb24nKTtcbn07IiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoKGUpe1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi8kJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi8kLmhpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAkLmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwge25leHQ6IHJlcXVpcmUoJy4vJC5wcm9wZXJ0eS1kZXNjJykoMSxuZXh0KX0pO1xuICByZXF1aXJlKCcuLyQudGFnJykoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICAgPSByZXF1aXJlKCcuLyQubGlicmFyeScpXG4gICwgJGRlZiAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgJHJlZGVmICAgICAgICAgID0gcmVxdWlyZSgnLi8kLnJlZGVmJylcbiAgLCBoaWRlICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuaGlkZScpXG4gICwgaGFzICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmhhcycpXG4gICwgU1lNQk9MX0lURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpXG4gICwgQlVHR1kgICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICAgPSAndmFsdWVzJztcbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFKXtcbiAgcmVxdWlyZSgnLi8kLml0ZXItY3JlYXRlJykoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgcHJvdG8gICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgX25hdGl2ZSAgPSBwcm90b1tTWU1CT0xfSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCBfZGVmYXVsdCA9IF9uYXRpdmUgfHwgY3JlYXRlTWV0aG9kKERFRkFVTFQpXG4gICAgLCBtZXRob2RzLCBrZXk7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoX25hdGl2ZSl7XG4gICAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gcmVxdWlyZSgnLi8kJykuZ2V0UHJvdG8oX2RlZmF1bHQuY2FsbChuZXcgQmFzZSkpO1xuICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICByZXF1aXJlKCcuLyQudGFnJykoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgLy8gRkYgZml4XG4gICAgaWYoIUxJQlJBUlkgJiYgaGFzKHByb3RvLCBGRl9JVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgU1lNQk9MX0lURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoIUxJQlJBUlkgfHwgRk9SQ0UpaGlkZShwcm90bywgU1lNQk9MX0lURVJBVE9SLCBfZGVmYXVsdCk7XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gX2RlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICBrZXlzOiAgICBJU19TRVQgICAgICAgICAgICA/IF9kZWZhdWx0IDogY3JlYXRlTWV0aG9kKEtFWVMpLFxuICAgICAgdmFsdWVzOiAgREVGQVVMVCA9PSBWQUxVRVMgPyBfZGVmYXVsdCA6IGNyZWF0ZU1ldGhvZChWQUxVRVMpLFxuICAgICAgZW50cmllczogREVGQVVMVCAhPSBWQUxVRVMgPyBfZGVmYXVsdCA6IGNyZWF0ZU1ldGhvZCgnZW50cmllcycpXG4gICAgfTtcbiAgICBpZihGT1JDRSlmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKSRyZWRlZihwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZGVmKCRkZWYuUCArICRkZWYuRiAqIEJVR0dZLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxufTsiLCJ2YXIgU1lNQk9MX0lURVJBVE9SID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgU0FGRV9DTE9TSU5HICAgID0gZmFsc2U7XG50cnkge1xuICB2YXIgcml0ZXIgPSBbN11bU1lNQk9MX0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIGlmKCFTQUZFX0NMT1NJTkcpcmV0dXJuIGZhbHNlO1xuICB2YXIgc2FmZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBhcnIgID0gWzddXG4gICAgICAsIGl0ZXIgPSBhcnJbU1lNQk9MX0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHNhZmUgPSB0cnVlOyB9O1xuICAgIGFycltTWU1CT0xfSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge307IiwidmFyICRPYmplY3QgPSBPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiAgICAgJE9iamVjdC5jcmVhdGUsXG4gIGdldFByb3RvOiAgICRPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gIGlzRW51bTogICAgIHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICBnZXREZXNjOiAgICAkT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgc2V0RGVzYzogICAgJE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcbiAgc2V0RGVzY3M6ICAgJE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFxuICBnZXRLZXlzOiAgICAkT2JqZWN0LmtleXMsXG4gIGdldE5hbWVzOiAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgZ2V0U3ltYm9sczogJE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gIGVhY2g6ICAgICAgIFtdLmZvckVhY2hcbn07IiwidmFyICQgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwga2V5cyAgID0gJC5nZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHRydWU7IiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxyXG4gICwgbWFjcm90YXNrID0gcmVxdWlyZSgnLi8kLnRhc2snKS5zZXRcclxuICAsIE9ic2VydmVyICA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyXHJcbiAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xyXG4gICwgaXNOb2RlICAgID0gcmVxdWlyZSgnLi8kLmNvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJ1xyXG4gICwgaGVhZCwgbGFzdCwgbm90aWZ5O1xyXG5cclxudmFyIGZsdXNoID0gZnVuY3Rpb24oKXtcclxuICB2YXIgcGFyZW50LCBkb21haW47XHJcbiAgaWYoaXNOb2RlICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpe1xyXG4gICAgcHJvY2Vzcy5kb21haW4gPSBudWxsO1xyXG4gICAgcGFyZW50LmV4aXQoKTtcclxuICB9XHJcbiAgd2hpbGUoaGVhZCl7XHJcbiAgICBkb21haW4gPSBoZWFkLmRvbWFpbjtcclxuICAgIGlmKGRvbWFpbilkb21haW4uZW50ZXIoKTtcclxuICAgIGhlYWQuZm4uY2FsbCgpOyAvLyA8LSBjdXJyZW50bHkgd2UgdXNlIGl0IG9ubHkgZm9yIFByb21pc2UgLSB0cnkgLyBjYXRjaCBub3QgcmVxdWlyZWRcclxuICAgIGlmKGRvbWFpbilkb21haW4uZXhpdCgpO1xyXG4gICAgaGVhZCA9IGhlYWQubmV4dDtcclxuICB9IGxhc3QgPSB1bmRlZmluZWQ7XHJcbiAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xyXG59XHJcblxyXG4vLyBOb2RlLmpzXHJcbmlmKGlzTm9kZSl7XHJcbiAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcclxuICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xyXG4gIH07XHJcbi8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlclxyXG59IGVsc2UgaWYoT2JzZXJ2ZXIpe1xyXG4gIHZhciB0b2dnbGUgPSAxXHJcbiAgICAsIG5vZGUgICA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcclxuICBub3RpZnkgPSBmdW5jdGlvbigpe1xyXG4gICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gLXRvZ2dsZTtcclxuICB9O1xyXG4vLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxyXG4vLyAtIHNldEltbWVkaWF0ZVxyXG4vLyAtIE1lc3NhZ2VDaGFubmVsXHJcbi8vIC0gd2luZG93LnBvc3RNZXNzYWdcclxuLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcclxuLy8gLSBzZXRUaW1lb3V0XHJcbn0gZWxzZSB7XHJcbiAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcclxuICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcclxuICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xyXG4gIH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXNhcChmbil7XHJcbiAgdmFyIHRhc2sgPSB7Zm46IGZuLCBuZXh0OiB1bmRlZmluZWQsIGRvbWFpbjogaXNOb2RlICYmIHByb2Nlc3MuZG9tYWlufTtcclxuICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XHJcbiAgaWYoIWhlYWQpe1xyXG4gICAgaGVhZCA9IHRhc2s7XHJcbiAgICBub3RpZnkoKTtcclxuICB9IGxhc3QgPSB0YXNrO1xyXG59OyIsInZhciAkcmVkZWYgPSByZXF1aXJlKCcuLyQucmVkZWYnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBzcmMpe1xuICBmb3IodmFyIGtleSBpbiBzcmMpJHJlZGVmKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIHJldHVybiB0YXJnZXQ7XG59OyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAgICwgZm4gICA9IChyZXF1aXJlKCcuLyQuY29yZScpLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwICA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZGVmKCRkZWYuUyArICRkZWYuRiAqIHJlcXVpcmUoJy4vJC5mYWlscycpKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5oaWRlJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuaXMgfHwgZnVuY3Rpb24gaXMoeCwgeSl7XG4gIHJldHVybiB4ID09PSB5ID8geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHkgOiB4ICE9IHggJiYgeSAhPSB5O1xufTsiLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgZ2V0RGVzYyAgPSByZXF1aXJlKCcuLyQnKS5nZXREZXNjXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgID8gZnVuY3Rpb24oYnVnZ3ksIHNldCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi8kLmN0eCcpKEZ1bmN0aW9uLmNhbGwsIGdldERlc2MoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgICAgc2V0KHt9LCBbXSk7XG4gICAgICAgIH0gY2F0Y2goZSl7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgICBpZihidWdneSlPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgICByZXR1cm4gTztcbiAgICAgICAgfTtcbiAgICAgIH0oKVxuICAgIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59OyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xuICAsIHN0b3JlICA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59OyIsIi8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeClcbm1vZHVsZS5leHBvcnRzID0gTWF0aC5zaWduIHx8IGZ1bmN0aW9uIHNpZ24oeCl7XG4gIHJldHVybiAoeCA9ICt4KSA9PSAwIHx8IHggIT0geCA/IHggOiB4IDwgMCA/IC0xIDogMTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIFNQRUNJRVMgPSByZXF1aXJlKCcuLyQud2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQyl7XG4gIGlmKHJlcXVpcmUoJy4vJC5zdXBwb3J0LWRlc2MnKSAmJiAhKFNQRUNJRVMgaW4gQykpJC5zZXREZXNjKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgQ29uc3RydWN0b3IsIG5hbWUpe1xuICBpZighKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IFR5cGVFcnJvcihuYW1lICsgXCI6IHVzZSB0aGUgJ25ldycgb3BlcmF0b3IhXCIpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi8kLnRvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpXG4gICAgICAsIGkgPSB0b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbFxuICAgICAgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTsiLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuLyQuZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7IiwidmFyIGhhcyAgPSByZXF1aXJlKCcuLyQuaGFzJylcbiAgLCBoaWRlID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsIFRBRyAgPSByZXF1aXJlKCcuLyQud2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG4gIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpaGlkZShpdCwgVEFHLCB0YWcpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgaW52b2tlICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmludm9rZScpXG4gICwgaHRtbCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmh0bWwnKVxuICAsIGNlbCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5kb20tY3JlYXRlJylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIHNldFRhc2sgICAgICAgICAgICA9IGdsb2JhbC5zZXRJbW1lZGlhdGVcbiAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcbiAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcbiAgLCBjb3VudGVyICAgICAgICAgICAgPSAwXG4gICwgcXVldWUgICAgICAgICAgICAgID0ge31cbiAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuICAsIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG4gIHZhciBpZCA9ICt0aGlzO1xuICBpZihxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdG5lciA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYoIXNldFRhc2sgfHwgIWNsZWFyVGFzayl7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pe1xuICAgIHZhciBhcmdzID0gW10sIGkgPSAxO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpe1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZihyZXF1aXJlKCcuLyQuY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHQpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7XG4gICAgfTtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0Jykpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6ICAgc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTsiLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07IiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXHJcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi8kLmlvYmplY3QnKVxyXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vJC5kZWZpbmVkJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xyXG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcclxufTsiLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLyQudG8taW50ZWdlcicpXG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07IiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuLyQuZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07IiwidmFyIHN0b3JlICA9IHJlcXVpcmUoJy4vJC5zaGFyZWQnKSgnd2tzJylcbiAgLCBTeW1ib2wgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJykuU3ltYm9sO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgU3ltYm9sICYmIFN5bWJvbFtuYW1lXSB8fCAoU3ltYm9sIHx8IHJlcXVpcmUoJy4vJC51aWQnKSkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTsiLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi8kLmNsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmNvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl0gfHwgaXRbJ0BAaXRlcmF0b3InXSB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTsiLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLyQuYW4tb2JqZWN0JylcbiAgLCBnZXQgICAgICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJC5jb3JlJykuZ2V0SXRlcmF0b3IgPSBmdW5jdGlvbihpdCl7XG4gIHZhciBpdGVyRm4gPSBnZXQoaXQpO1xuICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIHJldHVybiBhbk9iamVjdChpdGVyRm4uY2FsbChpdCkpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ICAgICAgICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCAkZGVmICAgICAgICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsIHRvT2JqZWN0ICAgID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuLyQuaXRlci1jYWxsJylcbiAgLCBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vJC5pcy1hcnJheS1pdGVyJylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vJC50by1sZW5ndGgnKVxuICAsIGdldEl0ZXJGbiAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXJlcXVpcmUoJy4vJC5pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pe1xuICAgIHZhciBPICAgICAgID0gdG9PYmplY3QoYXJyYXlMaWtlKVxuICAgICAgLCBDICAgICAgID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheVxuICAgICAgLCBtYXBmbiAgID0gYXJndW1lbnRzWzFdXG4gICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG4gICAgICAsIGluZGV4ICAgPSAwXG4gICAgICAsIGl0ZXJGbiAgPSBnZXRJdGVyRm4oTylcbiAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmKG1hcHBpbmcpbWFwZm4gPSBjdHgobWFwZm4sIGFyZ3VtZW50c1syXSwgMik7XG4gICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG4gICAgaWYoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpe1xuICAgICAgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4Kyspe1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcihyZXN1bHQgPSBuZXcgQyhsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCkpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIHNldFVuc2NvcGUgPSByZXF1aXJlKCcuLyQudW5zY29wZScpXG4gICwgc3RlcCAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyLXN0ZXAnKVxuICAsIEl0ZXJhdG9ycyAgPSByZXF1aXJlKCcuLyQuaXRlcmF0b3JzJylcbiAgLCB0b0lPYmplY3QgID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi8kLml0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBraW5kICA9IHRoaXMuX2tcbiAgICAsIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZihraW5kID09ICdrZXlzJyAgKXJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYoa2luZCA9PSAndmFsdWVzJylyZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuc2V0VW5zY29wZSgna2V5cycpO1xuc2V0VW5zY29wZSgndmFsdWVzJyk7XG5zZXRVbnNjb3BlKCdlbnRyaWVzJyk7IiwiLy8gMjAuMi4yLjI4IE1hdGguc2lnbih4KVxudmFyICRkZWYgPSByZXF1aXJlKCcuLyQuZGVmJyk7XG5cbiRkZWYoJGRlZi5TLCAnTWF0aCcsIHtzaWduOiByZXF1aXJlKCcuLyQuc2lnbicpfSk7IiwiLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuXG4kZGVmKCRkZWYuUyArICRkZWYuRiwgJ09iamVjdCcsIHthc3NpZ246IHJlcXVpcmUoJy4vJC5hc3NpZ24nKX0pOyIsIi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuLyQudG8taW9iamVjdCcpO1xuXG5yZXF1aXJlKCcuLyQub2JqZWN0LXNhcCcpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbigkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICB9O1xufSk7IiwiLy8gMTkuMS4yLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLyQudG8tb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vJC5vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbigka2V5cyl7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KXtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGRlZiA9IHJlcXVpcmUoJy4vJC5kZWYnKTtcbiRkZWYoJGRlZi5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuLyQuc2V0LXByb3RvJykuc2V0fSk7IixudWxsLCIndXNlIHN0cmljdCc7XG52YXIgJCAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgTElCUkFSWSAgICA9IHJlcXVpcmUoJy4vJC5saWJyYXJ5JylcbiAgLCBnbG9iYWwgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgY3R4ICAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsIGNsYXNzb2YgICAgPSByZXF1aXJlKCcuLyQuY2xhc3NvZicpXG4gICwgJGRlZiAgICAgICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsIGlzT2JqZWN0ICAgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCAgID0gcmVxdWlyZSgnLi8kLmFuLW9iamVjdCcpXG4gICwgYUZ1bmN0aW9uICA9IHJlcXVpcmUoJy4vJC5hLWZ1bmN0aW9uJylcbiAgLCBzdHJpY3ROZXcgID0gcmVxdWlyZSgnLi8kLnN0cmljdC1uZXcnKVxuICAsIGZvck9mICAgICAgPSByZXF1aXJlKCcuLyQuZm9yLW9mJylcbiAgLCBzZXRQcm90byAgID0gcmVxdWlyZSgnLi8kLnNldC1wcm90bycpLnNldFxuICAsIHNhbWUgICAgICAgPSByZXF1aXJlKCcuLyQuc2FtZScpXG4gICwgc3BlY2llcyAgICA9IHJlcXVpcmUoJy4vJC5zcGVjaWVzJylcbiAgLCBTUEVDSUVTICAgID0gcmVxdWlyZSgnLi8kLndrcycpKCdzcGVjaWVzJylcbiAgLCBSRUNPUkQgICAgID0gcmVxdWlyZSgnLi8kLnVpZCcpKCdyZWNvcmQnKVxuICAsIGFzYXAgICAgICAgPSByZXF1aXJlKCcuLyQubWljcm90YXNrJylcbiAgLCBQUk9NSVNFICAgID0gJ1Byb21pc2UnXG4gICwgcHJvY2VzcyAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgaXNOb2RlICAgICA9IGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnXG4gICwgUCAgICAgICAgICA9IGdsb2JhbFtQUk9NSVNFXVxuICAsIFdyYXBwZXI7XG5cbnZhciB0ZXN0UmVzb2x2ZSA9IGZ1bmN0aW9uKHN1Yil7XG4gIHZhciB0ZXN0ID0gbmV3IFAoZnVuY3Rpb24oKXt9KTtcbiAgaWYoc3ViKXRlc3QuY29uc3RydWN0b3IgPSBPYmplY3Q7XG4gIHJldHVybiBQLnJlc29sdmUodGVzdCkgPT09IHRlc3Q7XG59O1xuXG52YXIgdXNlTmF0aXZlID0gZnVuY3Rpb24oKXtcbiAgdmFyIHdvcmtzID0gZmFsc2U7XG4gIGZ1bmN0aW9uIFAyKHgpe1xuICAgIHZhciBzZWxmID0gbmV3IFAoeCk7XG4gICAgc2V0UHJvdG8oc2VsZiwgUDIucHJvdG90eXBlKTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICB0cnkge1xuICAgIHdvcmtzID0gUCAmJiBQLnJlc29sdmUgJiYgdGVzdFJlc29sdmUoKTtcbiAgICBzZXRQcm90byhQMiwgUCk7XG4gICAgUDIucHJvdG90eXBlID0gJC5jcmVhdGUoUC5wcm90b3R5cGUsIHtjb25zdHJ1Y3Rvcjoge3ZhbHVlOiBQMn19KTtcbiAgICAvLyBhY3R1YWwgRmlyZWZveCBoYXMgYnJva2VuIHN1YmNsYXNzIHN1cHBvcnQsIHRlc3QgdGhhdFxuICAgIGlmKCEoUDIucmVzb2x2ZSg1KS50aGVuKGZ1bmN0aW9uKCl7fSkgaW5zdGFuY2VvZiBQMikpe1xuICAgICAgd29ya3MgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gYWN0dWFsIFY4IGJ1ZywgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxNjJcbiAgICBpZih3b3JrcyAmJiByZXF1aXJlKCcuLyQuc3VwcG9ydC1kZXNjJykpe1xuICAgICAgdmFyIHRoZW5hYmxlVGhlbkdvdHRlbiA9IGZhbHNlO1xuICAgICAgUC5yZXNvbHZlKCQuc2V0RGVzYyh7fSwgJ3RoZW4nLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKXsgdGhlbmFibGVUaGVuR290dGVuID0gdHJ1ZTsgfVxuICAgICAgfSkpO1xuICAgICAgd29ya3MgPSB0aGVuYWJsZVRoZW5Hb3R0ZW47XG4gICAgfVxuICB9IGNhdGNoKGUpeyB3b3JrcyA9IGZhbHNlOyB9XG4gIHJldHVybiB3b3Jrcztcbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIGlzUHJvbWlzZSA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiAodXNlTmF0aXZlID8gY2xhc3NvZihpdCkgPT0gJ1Byb21pc2UnIDogUkVDT1JEIGluIGl0KTtcbn07XG52YXIgc2FtZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24oYSwgYil7XG4gIC8vIGxpYnJhcnkgd3JhcHBlciBzcGVjaWFsIGNhc2VcbiAgaWYoTElCUkFSWSAmJiBhID09PSBQICYmIGIgPT09IFdyYXBwZXIpcmV0dXJuIHRydWU7XG4gIHJldHVybiBzYW1lKGEsIGIpO1xufTtcbnZhciBnZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKEMpe1xuICB2YXIgUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdO1xuICByZXR1cm4gUyAhPSB1bmRlZmluZWQgPyBTIDogQztcbn07XG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24ocmVjb3JkLCBpc1JlamVjdCl7XG4gIGlmKHJlY29yZC5uKXJldHVybjtcbiAgcmVjb3JkLm4gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSByZWNvcmQuYztcbiAgYXNhcChmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHJlY29yZC52XG4gICAgICAsIG9rICAgID0gcmVjb3JkLnMgPT0gMVxuICAgICAgLCBpICAgICA9IDA7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uKHJlYWN0KXtcbiAgICAgIHZhciBjYiA9IG9rID8gcmVhY3Qub2sgOiByZWFjdC5mYWlsXG4gICAgICAgICwgcmV0LCB0aGVuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYoY2Ipe1xuICAgICAgICAgIGlmKCFvaylyZWNvcmQuaCA9IHRydWU7XG4gICAgICAgICAgcmV0ID0gY2IgPT09IHRydWUgPyB2YWx1ZSA6IGNiKHZhbHVlKTtcbiAgICAgICAgICBpZihyZXQgPT09IHJlYWN0LlApe1xuICAgICAgICAgICAgcmVhY3QucmVqKFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYodGhlbiA9IGlzVGhlbmFibGUocmV0KSl7XG4gICAgICAgICAgICB0aGVuLmNhbGwocmV0LCByZWFjdC5yZXMsIHJlYWN0LnJlaik7XG4gICAgICAgICAgfSBlbHNlIHJlYWN0LnJlcyhyZXQpO1xuICAgICAgICB9IGVsc2UgcmVhY3QucmVqKHZhbHVlKTtcbiAgICAgIH0gY2F0Y2goZXJyKXtcbiAgICAgICAgcmVhY3QucmVqKGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBjaGFpbi5sZW5ndGggPSAwO1xuICAgIHJlY29yZC5uID0gZmFsc2U7XG4gICAgaWYoaXNSZWplY3Qpc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgaWYoaXNVbmhhbmRsZWQocmVjb3JkLnApKXtcbiAgICAgICAgaWYoaXNOb2RlKXtcbiAgICAgICAgICBwcm9jZXNzLmVtaXQoJ3VuaGFuZGxlZFJlamVjdGlvbicsIHZhbHVlLCByZWNvcmQucCk7XG4gICAgICAgIH0gZWxzZSBpZihnbG9iYWwuY29uc29sZSAmJiBjb25zb2xlLmVycm9yKXtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gcmVjb3JkLmEgPSB1bmRlZmluZWQ7XG4gICAgfSwgMSk7XG4gIH0pO1xufTtcbnZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICB2YXIgcmVjb3JkID0gcHJvbWlzZVtSRUNPUkRdXG4gICAgLCBjaGFpbiAgPSByZWNvcmQuYSB8fCByZWNvcmQuY1xuICAgICwgaSAgICAgID0gMFxuICAgICwgcmVhY3Q7XG4gIGlmKHJlY29yZC5oKXJldHVybiBmYWxzZTtcbiAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSl7XG4gICAgcmVhY3QgPSBjaGFpbltpKytdO1xuICAgIGlmKHJlYWN0LmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0LlApKXJldHVybiBmYWxzZTtcbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHJlY29yZCA9IHRoaXM7XG4gIGlmKHJlY29yZC5kKXJldHVybjtcbiAgcmVjb3JkLmQgPSB0cnVlO1xuICByZWNvcmQgPSByZWNvcmQuciB8fCByZWNvcmQ7IC8vIHVud3JhcFxuICByZWNvcmQudiA9IHZhbHVlO1xuICByZWNvcmQucyA9IDI7XG4gIHJlY29yZC5hID0gcmVjb3JkLmMuc2xpY2UoKTtcbiAgbm90aWZ5KHJlY29yZCwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcmVjb3JkID0gdGhpc1xuICAgICwgdGhlbjtcbiAgaWYocmVjb3JkLmQpcmV0dXJuO1xuICByZWNvcmQuZCA9IHRydWU7XG4gIHJlY29yZCA9IHJlY29yZC5yIHx8IHJlY29yZDsgLy8gdW53cmFwXG4gIHRyeSB7XG4gICAgaWYodGhlbiA9IGlzVGhlbmFibGUodmFsdWUpKXtcbiAgICAgIGFzYXAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7cjogcmVjb3JkLCBkOiBmYWxzZX07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb3JkLnYgPSB2YWx1ZTtcbiAgICAgIHJlY29yZC5zID0gMTtcbiAgICAgIG5vdGlmeShyZWNvcmQsIGZhbHNlKTtcbiAgICB9XG4gIH0gY2F0Y2goZSl7XG4gICAgJHJlamVjdC5jYWxsKHtyOiByZWNvcmQsIGQ6IGZhbHNlfSwgZSk7IC8vIHdyYXBcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmKCF1c2VOYXRpdmUpe1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICBQID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICB2YXIgcmVjb3JkID0ge1xuICAgICAgcDogc3RyaWN0TmV3KHRoaXMsIFAsIFBST01JU0UpLCAgICAgICAgIC8vIDwtIHByb21pc2VcbiAgICAgIGM6IFtdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICAgIGE6IHVuZGVmaW5lZCwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuICAgICAgczogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIHN0YXRlXG4gICAgICBkOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gZG9uZVxuICAgICAgdjogdW5kZWZpbmVkLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIHZhbHVlXG4gICAgICBoOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0gaGFuZGxlZCByZWplY3Rpb25cbiAgICAgIG46IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgICB9O1xuICAgIHRoaXNbUkVDT1JEXSA9IHJlY29yZDtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCByZWNvcmQsIDEpLCBjdHgoJHJlamVjdCwgcmVjb3JkLCAxKSk7XG4gICAgfSBjYXRjaChlcnIpe1xuICAgICAgJHJlamVjdC5jYWxsKHJlY29yZCwgZXJyKTtcbiAgICB9XG4gIH07XG4gIHJlcXVpcmUoJy4vJC5taXgnKShQLnByb3RvdHlwZSwge1xuICAgIC8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCl7XG4gICAgICB2YXIgUyA9IGFuT2JqZWN0KGFuT2JqZWN0KHRoaXMpLmNvbnN0cnVjdG9yKVtTUEVDSUVTXTtcbiAgICAgIHZhciByZWFjdCA9IHtcbiAgICAgICAgb2s6ICAgdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWUsXG4gICAgICAgIGZhaWw6IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgID8gb25SZWplY3RlZCAgOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIHZhciBwcm9taXNlID0gcmVhY3QuUCA9IG5ldyAoUyAhPSB1bmRlZmluZWQgPyBTIDogUCkoZnVuY3Rpb24ocmVzLCByZWope1xuICAgICAgICByZWFjdC5yZXMgPSBhRnVuY3Rpb24ocmVzKTtcbiAgICAgICAgcmVhY3QucmVqID0gYUZ1bmN0aW9uKHJlaik7XG4gICAgICB9KTtcbiAgICAgIHZhciByZWNvcmQgPSB0aGlzW1JFQ09SRF07XG4gICAgICByZWNvcmQuYy5wdXNoKHJlYWN0KTtcbiAgICAgIGlmKHJlY29yZC5hKXJlY29yZC5hLnB1c2gocmVhY3QpO1xuICAgICAgaWYocmVjb3JkLnMpbm90aWZ5KHJlY29yZCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSxcbiAgICAvLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKVxuICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpe1xuICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGV4cG9ydFxuJGRlZigkZGVmLkcgKyAkZGVmLlcgKyAkZGVmLkYgKiAhdXNlTmF0aXZlLCB7UHJvbWlzZTogUH0pO1xucmVxdWlyZSgnLi8kLnRhZycpKFAsIFBST01JU0UpO1xuc3BlY2llcyhQKTtcbnNwZWNpZXMoV3JhcHBlciA9IHJlcXVpcmUoJy4vJC5jb3JlJylbUFJPTUlTRV0pO1xuXG4vLyBzdGF0aWNzXG4kZGVmKCRkZWYuUyArICRkZWYuRiAqICF1c2VOYXRpdmUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG4gICAgcmV0dXJuIG5ldyB0aGlzKGZ1bmN0aW9uKHJlcywgcmVqKXsgcmVqKHIpOyB9KTtcbiAgfVxufSk7XG4kZGVmKCRkZWYuUyArICRkZWYuRiAqICghdXNlTmF0aXZlIHx8IHRlc3RSZXNvbHZlKHRydWUpKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICByZXR1cm4gaXNQcm9taXNlKHgpICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKVxuICAgICAgPyB4IDogbmV3IHRoaXMoZnVuY3Rpb24ocmVzKXsgcmVzKHgpOyB9KTtcbiAgfVxufSk7XG4kZGVmKCRkZWYuUyArICRkZWYuRiAqICEodXNlTmF0aXZlICYmIHJlcXVpcmUoJy4vJC5pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpe1xuICBQLmFsbChpdGVyKVsnY2F0Y2gnXShmdW5jdGlvbigpe30pO1xufSkpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKVxuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICA9IGdldENvbnN0cnVjdG9yKHRoaXMpXG4gICAgICAsIHZhbHVlcyA9IFtdO1xuICAgIHJldHVybiBuZXcgQyhmdW5jdGlvbihyZXMsIHJlail7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIHZhbHVlcy5wdXNoLCB2YWx1ZXMpO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHZhbHVlcy5sZW5ndGhcbiAgICAgICAgLCByZXN1bHRzICAgPSBBcnJheShyZW1haW5pbmcpO1xuICAgICAgaWYocmVtYWluaW5nKSQuZWFjaC5jYWxsKHZhbHVlcywgZnVuY3Rpb24ocHJvbWlzZSwgaW5kZXgpe1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXMocmVzdWx0cyk7XG4gICAgICAgIH0sIHJlaik7XG4gICAgICB9KTtcbiAgICAgIGVsc2UgcmVzKHJlc3VsdHMpO1xuICAgIH0pO1xuICB9LFxuICAvLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpXG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpe1xuICAgIHZhciBDID0gZ2V0Q29uc3RydWN0b3IodGhpcyk7XG4gICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uKHJlcywgcmVqKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKHJlcywgcmVqKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IHJlcXVpcmUoJy4vJC5zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi8kLml0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyICQgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBnbG9iYWwgICAgICAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmhhcycpXG4gICwgU1VQUE9SVF9ERVNDICAgPSByZXF1aXJlKCcuLyQuc3VwcG9ydC1kZXNjJylcbiAgLCAkZGVmICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsICRyZWRlZiAgICAgICAgID0gcmVxdWlyZSgnLi8kLnJlZGVmJylcbiAgLCBzaGFyZWQgICAgICAgICA9IHJlcXVpcmUoJy4vJC5zaGFyZWQnKVxuICAsIHNldFRhZyAgICAgICAgID0gcmVxdWlyZSgnLi8kLnRhZycpXG4gICwgdWlkICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQudWlkJylcbiAgLCB3a3MgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC53a3MnKVxuICAsIGtleU9mICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmtleW9mJylcbiAgLCAkbmFtZXMgICAgICAgICA9IHJlcXVpcmUoJy4vJC5nZXQtbmFtZXMnKVxuICAsIGVudW1LZXlzICAgICAgID0gcmVxdWlyZSgnLi8kLmVudW0ta2V5cycpXG4gICwgaXNPYmplY3QgICAgICAgPSByZXF1aXJlKCcuLyQuaXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vJC5hbi1vYmplY3QnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi8kLnRvLWlvYmplY3QnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi8kLnByb3BlcnR5LWRlc2MnKVxuICAsIGdldERlc2MgICAgICAgID0gJC5nZXREZXNjXG4gICwgc2V0RGVzYyAgICAgICAgPSAkLnNldERlc2NcbiAgLCBfY3JlYXRlICAgICAgICA9ICQuY3JlYXRlXG4gICwgZ2V0TmFtZXMgICAgICAgPSAkbmFtZXMuZ2V0XG4gICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG4gICwgc2V0dGVyICAgICAgICAgPSBmYWxzZVxuICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcbiAgLCBpc0VudW0gICAgICAgICA9ICQuaXNFbnVtXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuICAsIHVzZU5hdGl2ZSAgICAgID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJ1xuICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0LnByb3RvdHlwZTtcblxudmFyIHNldFN5bWJvbERlc2MgPSBTVVBQT1JUX0RFU0MgPyBmdW5jdGlvbigpeyAvLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWRcbiAgdHJ5IHtcbiAgICByZXR1cm4gX2NyZWF0ZShzZXREZXNjKHt9LCBISURERU4sIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHNldERlc2ModGhpcywgSElEREVOLCB7dmFsdWU6IGZhbHNlfSlbSElEREVOXTtcbiAgICAgIH1cbiAgICB9KSlbSElEREVOXSB8fCBzZXREZXNjO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgICAgIHZhciBwcm90b0Rlc2MgPSBnZXREZXNjKE9iamVjdFByb3RvLCBrZXkpO1xuICAgICAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICAgICAgc2V0RGVzYyhpdCwga2V5LCBEKTtcbiAgICAgIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pc2V0RGVzYyhPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xuICAgIH07XG4gIH1cbn0oKSA6IHNldERlc2M7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24odGFnKXtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbC5wcm90b3R5cGUpO1xuICBzeW0uX2sgPSB0YWc7XG4gIFNVUFBPUlRfREVTQyAmJiBzZXR0ZXIgJiYgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcbiAgICBpZighRC5lbnVtZXJhYmxlKXtcbiAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpc2V0RGVzYyhpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gc2V0RGVzYyhpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpXG4gICAgLCBpICAgID0gMFxuICAgICwgbCA9IGtleXMubGVuZ3RoXG4gICAgLCBrZXk7XG4gIHdoaWxlKGwgPiBpKSRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5KTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XVxuICAgID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIHZhciBEID0gZ2V0RGVzYyhpdCA9IHRvSU9iamVjdChpdCksIGtleSk7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSlELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdldE5hbWVzKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTilyZXN1bHQucHVzaChrZXkpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdldE5hbWVzKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSlyZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZighdXNlTmF0aXZlKXtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuICAgIGlmKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKXRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgcmV0dXJuIHdyYXAodWlkKGFyZ3VtZW50c1swXSkpO1xuICB9O1xuICAkcmVkZWYoJFN5bWJvbC5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICQuY3JlYXRlICAgICA9ICRjcmVhdGU7XG4gICQuaXNFbnVtICAgICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgJC5nZXREZXNjICAgID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJC5zZXREZXNjICAgID0gJGRlZmluZVByb3BlcnR5O1xuICAkLnNldERlc2NzICAgPSAkZGVmaW5lUHJvcGVydGllcztcbiAgJC5nZXROYW1lcyAgID0gJG5hbWVzLmdldCA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICAkLmdldFN5bWJvbHMgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmKFNVUFBPUlRfREVTQyAmJiAhcmVxdWlyZSgnLi8kLmxpYnJhcnknKSl7XG4gICAgJHJlZGVmKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG59XG5cbi8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4vLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyBpbiBvYmplY3RzIHRvIEpTT04gYXMgbnVsbFxuaWYoIXVzZU5hdGl2ZSB8fCByZXF1aXJlKCcuLyQuZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoW3thOiAkU3ltYm9sKCl9LCBbJFN5bWJvbCgpXV0pICE9ICdbe30sW251bGxdXSc7XG59KSkkcmVkZWYoJFN5bWJvbC5wcm90b3R5cGUsICd0b0pTT04nLCBmdW5jdGlvbiB0b0pTT04oKXtcbiAgaWYodXNlTmF0aXZlICYmIGlzT2JqZWN0KHRoaXMpKXJldHVybiB0aGlzO1xufSk7XG5cbnZhciBzeW1ib2xTdGF0aWNzID0ge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuICAgIHJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG59O1xuLy8gMTkuNC4yLjIgU3ltYm9sLmhhc0luc3RhbmNlXG4vLyAxOS40LjIuMyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlXG4vLyAxOS40LjIuNCBTeW1ib2wuaXRlcmF0b3Jcbi8vIDE5LjQuMi42IFN5bWJvbC5tYXRjaFxuLy8gMTkuNC4yLjggU3ltYm9sLnJlcGxhY2Vcbi8vIDE5LjQuMi45IFN5bWJvbC5zZWFyY2hcbi8vIDE5LjQuMi4xMCBTeW1ib2wuc3BlY2llc1xuLy8gMTkuNC4yLjExIFN5bWJvbC5zcGxpdFxuLy8gMTkuNC4yLjEyIFN5bWJvbC50b1ByaW1pdGl2ZVxuLy8gMTkuNC4yLjEzIFN5bWJvbC50b1N0cmluZ1RhZ1xuLy8gMTkuNC4yLjE0IFN5bWJvbC51bnNjb3BhYmxlc1xuJC5lYWNoLmNhbGwoKFxuICAgICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsJyArXG4gICAgJ3NwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4gICkuc3BsaXQoJywnKSwgZnVuY3Rpb24oaXQpe1xuICAgIHZhciBzeW0gPSB3a3MoaXQpO1xuICAgIHN5bWJvbFN0YXRpY3NbaXRdID0gdXNlTmF0aXZlID8gc3ltIDogd3JhcChzeW0pO1xuICB9XG4pO1xuXG5zZXR0ZXIgPSB0cnVlO1xuXG4kZGVmKCRkZWYuRyArICRkZWYuVywge1N5bWJvbDogJFN5bWJvbH0pO1xuXG4kZGVmKCRkZWYuUywgJ1N5bWJvbCcsIHN5bWJvbFN0YXRpY3MpO1xuXG4kZGVmKCRkZWYuUyArICRkZWYuRiAqICF1c2VOYXRpdmUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpOyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi8kLml0ZXJhdG9ycycpO1xuSXRlcmF0b3JzLk5vZGVMaXN0ID0gSXRlcmF0b3JzLkhUTUxDb2xsZWN0aW9uID0gSXRlcmF0b3JzLkFycmF5OyIsInZhciBnbG9iYWwgICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgY29yZSAgICAgICA9IHJlcXVpcmUoJy4vJC5jb3JlJylcbiAgLCBoaWRlICAgICAgID0gcmVxdWlyZSgnLi8kLmhpZGUnKVxuICAsICRyZWRlZiAgICAgPSByZXF1aXJlKCcuLyQucmVkZWYnKVxuICAsIFBST1RPVFlQRSAgPSAncHJvdG90eXBlJztcbnZhciBjdHggPSBmdW5jdGlvbihmbiwgdGhhdCl7XG4gIHJldHVybiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcbnZhciAkZGVmID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIGtleSwgb3duLCBvdXQsIGV4cFxuICAgICwgaXNHbG9iYWwgPSB0eXBlICYgJGRlZi5HXG4gICAgLCBpc1Byb3RvICA9IHR5cGUgJiAkZGVmLlBcbiAgICAsIHRhcmdldCAgID0gaXNHbG9iYWwgPyBnbG9iYWwgOiB0eXBlICYgJGRlZi5TXG4gICAgICAgID8gZ2xvYmFsW25hbWVdIHx8IChnbG9iYWxbbmFtZV0gPSB7fSkgOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBleHBvcnRzICA9IGlzR2xvYmFsID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIGlmKGlzR2xvYmFsKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhKHR5cGUgJiAkZGVmLkYpICYmIHRhcmdldCAmJiBrZXkgaW4gdGFyZ2V0O1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gKG93biA/IHRhcmdldCA6IHNvdXJjZSlba2V5XTtcbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIGlmKHR5cGUgJiAkZGVmLkIgJiYgb3duKWV4cCA9IGN0eChvdXQsIGdsb2JhbCk7XG4gICAgZWxzZSBleHAgPSBpc1Byb3RvICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4dGVuZCBnbG9iYWxcbiAgICBpZih0YXJnZXQgJiYgIW93bikkcmVkZWYodGFyZ2V0LCBrZXksIG91dCk7XG4gICAgLy8gZXhwb3J0XG4gICAgaWYoZXhwb3J0c1trZXldICE9IG91dCloaWRlKGV4cG9ydHMsIGtleSwgZXhwKTtcbiAgICBpZihpc1Byb3RvKShleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KSlba2V5XSA9IG91dDtcbiAgfVxufTtcbmdsb2JhbC5jb3JlID0gY29yZTtcbi8vIHR5cGUgYml0bWFwXG4kZGVmLkYgPSAxOyAgLy8gZm9yY2VkXG4kZGVmLkcgPSAyOyAgLy8gZ2xvYmFsXG4kZGVmLlMgPSA0OyAgLy8gc3RhdGljXG4kZGVmLlAgPSA4OyAgLy8gcHJvdG9cbiRkZWYuQiA9IDE2OyAvLyBiaW5kXG4kZGVmLlcgPSAzMjsgLy8gd3JhcFxubW9kdWxlLmV4cG9ydHMgPSAkZGVmOyIsIm1vZHVsZS5leHBvcnRzID0gZmFsc2U7IiwiLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmdcbi8vIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZVxudmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vJC5nbG9iYWwnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vJC5oaWRlJylcbiAgLCBTUkMgICAgICAgPSByZXF1aXJlKCcuLyQudWlkJykoJ3NyYycpXG4gICwgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJ1xuICAsICR0b1N0cmluZyA9IEZ1bmN0aW9uW1RPX1NUUklOR11cbiAgLCBUUEwgICAgICAgPSAoJycgKyAkdG9TdHJpbmcpLnNwbGl0KFRPX1NUUklORyk7XG5cbnJlcXVpcmUoJy4vJC5jb3JlJykuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuICR0b1N0cmluZy5jYWxsKGl0KTtcbn07XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIGtleSwgdmFsLCBzYWZlKXtcbiAgaWYodHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nKXtcbiAgICBoaWRlKHZhbCwgU1JDLCBPW2tleV0gPyAnJyArIE9ba2V5XSA6IFRQTC5qb2luKFN0cmluZyhrZXkpKSk7XG4gICAgaWYoISgnbmFtZScgaW4gdmFsKSl2YWwubmFtZSA9IGtleTtcbiAgfVxuICBpZihPID09PSBnbG9iYWwpe1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIHtcbiAgICBpZighc2FmZSlkZWxldGUgT1trZXldO1xuICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICB9XG59KShGdW5jdGlvbi5wcm90b3R5cGUsIFRPX1NUUklORywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgcmV0dXJuIHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgJiYgdGhpc1tTUkNdIHx8ICR0b1N0cmluZy5jYWxsKHRoaXMpO1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vJC50by1pbnRlZ2VyJylcbiAgLCBkZWZpbmVkICAgPSByZXF1aXJlKCcuLyQuZGVmaW5lZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlcGVhdChjb3VudCl7XG4gIHZhciBzdHIgPSBTdHJpbmcoZGVmaW5lZCh0aGlzKSlcbiAgICAsIHJlcyA9ICcnXG4gICAgLCBuICAgPSB0b0ludGVnZXIoY291bnQpO1xuICBpZihuIDwgMCB8fCBuID09IEluZmluaXR5KXRocm93IFJhbmdlRXJyb3IoXCJDb3VudCBjYW4ndCBiZSBuZWdhdGl2ZVwiKTtcbiAgZm9yKDtuID4gMDsgKG4gPj4+PSAxKSAmJiAoc3RyICs9IHN0cikpaWYobiAmIDEpcmVzICs9IHN0cjtcbiAgcmV0dXJuIHJlcztcbn07IiwiLy8gMjIuMS4zLjMxIEFycmF5LnByb3RvdHlwZVtAQHVuc2NvcGFibGVzXVxudmFyIFVOU0NPUEFCTEVTID0gcmVxdWlyZSgnLi8kLndrcycpKCd1bnNjb3BhYmxlcycpO1xuaWYoIShVTlNDT1BBQkxFUyBpbiBbXSkpcmVxdWlyZSgnLi8kLmhpZGUnKShBcnJheS5wcm90b3R5cGUsIFVOU0NPUEFCTEVTLCB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIFtdW1VOU0NPUEFCTEVTXVtrZXldID0gdHJ1ZTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vJC5jbGFzc29mJylcbiAgLCB0ZXN0ICAgID0ge307XG50ZXN0W3JlcXVpcmUoJy4vJC53a3MnKSgndG9TdHJpbmdUYWcnKV0gPSAneic7XG5pZih0ZXN0ICsgJycgIT0gJ1tvYmplY3Qgel0nKXtcbiAgcmVxdWlyZSgnLi8kLnJlZGVmJykoT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YodGhpcykgKyAnXSc7XG4gIH0sIHRydWUpO1xufSIsInZhciAkZGVmID0gcmVxdWlyZSgnLi8kLmRlZicpO1xuXG4kZGVmKCRkZWYuUCwgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KVxuICByZXBlYXQ6IHJlcXVpcmUoJy4vJC5zdHJpbmctcmVwZWF0Jylcbn0pOyIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsICAgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICA9IHJlcXVpcmUoJy4vJC5oaWRlJylcbiAgLCBJdGVyYXRvcnMgICA9IHJlcXVpcmUoJy4vJC5pdGVyYXRvcnMnKVxuICAsIElURVJBVE9SICAgID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgTkwgICAgICAgICAgPSBnbG9iYWwuTm9kZUxpc3RcbiAgLCBIVEMgICAgICAgICA9IGdsb2JhbC5IVE1MQ29sbGVjdGlvblxuICAsIE5MUHJvdG8gICAgID0gTkwgJiYgTkwucHJvdG90eXBlXG4gICwgSFRDUHJvdG8gICAgPSBIVEMgJiYgSFRDLnByb3RvdHlwZVxuICAsIEFycmF5VmFsdWVzID0gSXRlcmF0b3JzLk5vZGVMaXN0ID0gSXRlcmF0b3JzLkhUTUxDb2xsZWN0aW9uID0gSXRlcmF0b3JzLkFycmF5O1xuaWYoTkwgJiYgIShJVEVSQVRPUiBpbiBOTFByb3RvKSloaWRlKE5MUHJvdG8sIElURVJBVE9SLCBBcnJheVZhbHVlcyk7XG5pZihIVEMgJiYgIShJVEVSQVRPUiBpbiBIVENQcm90bykpaGlkZShIVENQcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZ2V0U3RhcnRJbmRleCA9IGdldFN0YXJ0SW5kZXg7XG5leHBvcnRzLmdldEVuZEluZGV4ID0gZ2V0RW5kSW5kZXg7XG5leHBvcnRzLmV4ZWN1dGVDYWxsYmFjayA9IGV4ZWN1dGVDYWxsYmFjaztcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gYXJyYXlBcGk7XG52YXIgbWFya2VkMCQwID0gW2V4ZWN1dGVDYWxsYmFja10ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX2l0ZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi8uLi9pdGVyYXRvcnNcIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gZ2V0U3RhcnRJbmRleChpbmRleCwgbGVuZ3RoKSB7XG5cdGlmIChpbmRleCA8IDApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgobGVuZ3RoIC0gTWF0aC5hYnMoaW5kZXgpLCAwKTtcblx0fVxuXG5cdHJldHVybiBNYXRoLm1pbihpbmRleCB8fCAwLCBsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBnZXRFbmRJbmRleChpbmRleCwgbGVuZ3RoKSB7XG5cdGlmIChpbmRleCA8IDApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuXHR9XG5cblx0cmV0dXJuIE1hdGgubWluKGluZGV4LCBsZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycikge1xuXHR2YXIgc2NvcGUsIGFyZ3M7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghdGhpc0FyZykge1xuXHRcdFx0XHRcdHRoaXNBcmcgPSBjYWxsYmFjay5pc1N0cmljdCgpID8gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBlbnYuZ2xvYmFsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2NvcGUgPSBjYWxsYmFjay5jcmVhdGVTY29wZShlbnYsIHRoaXNBcmcsIGZhbHNlKTtcblxuXHRcdFx0XHRzY29wZS5pbml0KGNhbGxiYWNrLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0YXJncyA9IFtlbnRyeS52YWx1ZSwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVudHJ5LmluZGV4KSwgYXJyXTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBzY29wZS5sb2FkQXJncyhjYWxsYmFjay5ub2RlLnBhcmFtcywgYXJncywgY2FsbGJhY2spO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0XHRcdHZhciBleGVjdXRpb25SZXN1bHQ7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChjYWxsYmFjay5ub2RlLmJvZHksIGNhbGxiYWNrLm5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdCA/IGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGFycmF5QXBpKGVudikge1xuXHR2YXIgbWFya2VkMSQwID0gW2V4ZWN1dGVBY2N1bXVsYXRvciwgam9pbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0ZnVuY3Rpb24gZXhlY3V0ZUFjY3VtdWxhdG9yKGNhbGxiYWNrLCBwcmlvclZhbHVlLCBlbnRyeSwgYXJyKSB7XG5cdFx0dmFyIHNjb3BlLCBhcmdzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZUFjY3VtdWxhdG9yJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNjb3BlID0gY2FsbGJhY2suY3JlYXRlU2NvcGUoZW52KTtcblxuXHRcdFx0XHRcdHNjb3BlLmluaXQoY2FsbGJhY2subm9kZS5ib2R5KTtcblxuXHRcdFx0XHRcdGFyZ3MgPSBbcHJpb3JWYWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgZW50cnkudmFsdWUgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVudHJ5LmluZGV4KSwgYXJyXTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gc2NvcGUubG9hZEFyZ3MoY2FsbGJhY2subm9kZS5wYXJhbXMsIGFyZ3MsIGNhbGxiYWNrKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMCgpIHtcblx0XHRcdFx0XHRcdHZhciBleGVjdXRpb25SZXN1bHQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoY2FsbGJhY2subm9kZS5ib2R5LCBjYWxsYmFjay5ub2RlKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgPyBleGVjdXRpb25SZXN1bHQucmVzdWx0IDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIG1hcmtlZDEkMFswXSwgdGhpcyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVJbmRleFByb3BlcnR5KHZhbHVlKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdH07XG5cdH1cblxuXHR2YXIgYXJyYXlDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY3Rpb24gKGxlbmd0aCkge1xuXHRcdHZhciBuZXdBcnJheSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIGxlbmd0aC50eXBlID09PSBcIm51bWJlclwiKSB7XG5cdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGgoYXJndW1lbnRzWzBdLnZhbHVlKTtcblx0XHRcdFx0bmV3QXJyYXkucHV0VmFsdWUoXCJsZW5ndGhcIiwgbGVuZ3RoLCBmYWxzZSwgZW52KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0XHRcdFx0bmV3QXJyYXkuZGVmaW5lT3duUHJvcGVydHkoaSwgY3JlYXRlSW5kZXhQcm9wZXJ0eShhcmd1bWVudHNbaV0pLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBuZXdBcnJheTtcblx0fSwgbnVsbCwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHZhciBwcm90byA9IGFycmF5Q2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiQXJyYXlcIjtcblx0cHJvdG8uZGVmaW5lKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKDApLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSB9KTtcblxuXHRhcnJheUNsYXNzLmRlZmluZShcImlzQXJyYXlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSghIShvYmogJiYgb2JqLmNsYXNzTmFtZSA9PT0gXCJBcnJheVwiKSk7XG5cdH0sIDEsIFwiQXJyYXkuaXNBcnJheVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwicHVzaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgaXRlbXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdGl0ZW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHZhciBzdGFydCwgaSwgX2xlbmd0aCwgbmV3TGVuZ3RoO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRcdGZvciAoX2xlbmd0aCA9IGl0ZW1zLmxlbmd0aDsgaSA8IF9sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlZmluZU93blByb3BlcnR5KHN0YXJ0ICsgaSwgY3JlYXRlSW5kZXhQcm9wZXJ0eShpdGVtc1tpXSksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bmV3TGVuZ3RoID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RhcnQgKyBpKTtcblxuXHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShcImxlbmd0aFwiLCBuZXdMZW5ndGgsIHRydWUsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdMZW5ndGgpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5wdXNoXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJwb3BcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIG9iaiwgaTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0b2JqID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGkgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdFx0XHRpLS07XG5cblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRcdFx0b2JqID0gdGhpcy5ub2RlLmdldFZhbHVlKGkpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkoaSwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGkpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJBcnJheS5wcm90b3R5cGUucG9wXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzaGlmdFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgb2JqLCBsZW5ndGgsIGk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdG9iaiA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRcdFx0aWYgKGxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRcdFx0b2JqID0gdGhpcy5ub2RlLmdldFZhbHVlKGkpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkoaSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHdoaWxlICgrK2kgPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMubm9kZS5oYXNQcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShpIC0gMSwgdGhpcy5ub2RlLmdldFZhbHVlKGkpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkobGVuZ3RoIC0gMSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGxlbmd0aCA9PT0gMCA/IDAgOiAtLWxlbmd0aCksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmogfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS5zaGlmdFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidW5zaGlmdFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGl0ZW1zID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0XHRcdGl0ZW1zW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdFx0fVxuXG5cdFx0dmFyIGxlbmd0aCwgYXJnQ291bnQsIGksIHRvSW5kZXgsIGZyb21JbmRleCwgbmV3TGVuZ3RoO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGFyZ0NvdW50ID0gaXRlbXMubGVuZ3RoO1xuXHRcdFx0XHRcdGkgPSBsZW5ndGg7XG5cdFx0XHRcdFx0dG9JbmRleCA9IHVuZGVmaW5lZCwgZnJvbUluZGV4ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0d2hpbGUgKGkgPiAwKSB7XG5cdFx0XHRcdFx0XHRmcm9tSW5kZXggPSBpIC0gMTtcblx0XHRcdFx0XHRcdHRvSW5kZXggPSBpICsgYXJnQ291bnQgLSAxO1xuXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5ub2RlLmhhc1Byb3BlcnR5KGZyb21JbmRleCkpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKHRvSW5kZXgsIHRoaXMubm9kZS5nZXRWYWx1ZShmcm9tSW5kZXgpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KHRvSW5kZXgsIHRydWUpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpLS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGFyZ0NvdW50OyBpKyspIHtcblx0XHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShpLCBpdGVtc1tpXSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRuZXdMZW5ndGggPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmdDb3VudCArIGxlbmd0aCk7XG5cblx0XHRcdFx0XHR0aGlzLm5vZGUucHV0VmFsdWUoXCJsZW5ndGhcIiwgbmV3TGVuZ3RoLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3TGVuZ3RoKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnVuc2hpZnRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInNsaWNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGJlZ2luLCBlbmQpIHtcblx0XHR2YXIgc291cmNlLCBsZW5ndGgsIGFyciwgaW5kZXgsIGk7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNvdXJjZSA9IHRoaXMubm9kZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCFiZWdpbikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIGJlZ2luKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gMDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGJlZ2luID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoISghZW5kIHx8IGVuZC50eXBlID09PSBcInVuZGVmaW5lZFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW5kID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgZW5kKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGVuZCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdFx0XHRcdGluZGV4ID0gMDtcblxuXHRcdFx0XHRcdGJlZ2luID0gZ2V0U3RhcnRJbmRleChiZWdpbiwgbGVuZ3RoKTtcblx0XHRcdFx0XHRlbmQgPSBnZXRFbmRJbmRleChlbmQsIGxlbmd0aCk7XG5cblx0XHRcdFx0XHRmb3IgKGkgPSBiZWdpbjsgaSA8IGVuZDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgrKywgY3JlYXRlSW5kZXhQcm9wZXJ0eShzb3VyY2UuZ2V0VmFsdWUoaSkpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiQXJyYXkucHJvdG90eXBlLnNsaWNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzcGxpY2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RhcnQsIGRlbGV0ZUNvdW50KSB7XG5cdFx0Zm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBlbGVtZW50cyA9IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcblx0XHRcdGVsZW1lbnRzW19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuXHRcdH1cblxuXHRcdHZhciBsZW5ndGgsIHJlbW92ZWQsIGssIG5ld0NvdW50LCBpO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCBzdGFydCk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHN0YXJ0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmIChzdGFydCA8IDApIHtcblx0XHRcdFx0XHRcdHN0YXJ0ID0gTWF0aC5tYXgobGVuZ3RoICsgc3RhcnQsIDApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzdGFydCA9IE1hdGgubWluKHN0YXJ0LCBsZW5ndGgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCBkZWxldGVDb3VudCk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGRlbGV0ZUNvdW50ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmIChkZWxldGVDb3VudCA8IDApIHtcblx0XHRcdFx0XHRcdGRlbGV0ZUNvdW50ID0gMDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVsZXRlQ291bnQgPSBNYXRoLm1pbihNYXRoLm1heChkZWxldGVDb3VudCwgMCksIGxlbmd0aCAtIHN0YXJ0KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZW1vdmVkID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblx0XHRcdFx0XHRrID0gMDtcblxuXHRcdFx0XHRcdHdoaWxlIChrIDwgZGVsZXRlQ291bnQpIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzUHJvcGVydHkoayArIHN0YXJ0KSkge1xuXHRcdFx0XHRcdFx0XHRyZW1vdmVkLmRlZmluZU93blByb3BlcnR5KGssIGNyZWF0ZUluZGV4UHJvcGVydHkodGhpcy5ub2RlLmdldFZhbHVlKGsgKyBzdGFydCkpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRrKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bmV3Q291bnQgPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0XHRcdFx0XHRpZiAobmV3Q291bnQgPCBkZWxldGVDb3VudCkge1xuXHRcdFx0XHRcdFx0ayA9IHN0YXJ0O1xuXG5cdFx0XHRcdFx0XHR3aGlsZSAoayA8IGxlbmd0aCAtIGRlbGV0ZUNvdW50KSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm5vZGUuaGFzUHJvcGVydHkoayArIGRlbGV0ZUNvdW50KSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShrICsgbmV3Q291bnQsIHRoaXMubm9kZS5nZXRWYWx1ZShrICsgZGVsZXRlQ291bnQpKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkoayArIGRlbGV0ZUNvdW50KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGsrKztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ayA9IGxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlIChrID4gbGVuZ3RoIC0gZGVsZXRlQ291bnQgKyBuZXdDb3VudCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkoLS1rKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5ld0NvdW50ID4gZGVsZXRlQ291bnQpIHtcblx0XHRcdFx0XHRcdGsgPSBsZW5ndGggLSBzdGFydDtcblx0XHRcdFx0XHRcdHdoaWxlIChrID4gc3RhcnQpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMubm9kZS5oYXNQcm9wZXJ0eShrICsgZGVsZXRlQ291bnQgLSAxKSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShrICsgbmV3Q291bnQgLSAxLCB0aGlzLm5vZGUuZ2V0VmFsdWUoayArIGRlbGV0ZUNvdW50IC0gMSksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLmRlbGV0ZVByb3BlcnR5KGsgKyBuZXdDb3VudCAtIDEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0ay0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGsgPSBzdGFydDtcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbmV3Q291bnQ7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKGssIGVsZW1lbnRzW2ldLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0aysrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShcImxlbmd0aFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShsZW5ndGggLSBkZWxldGVDb3VudCArIG5ld0NvdW50KSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlbW92ZWQpO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJBcnJheS5wcm90b3R5cGUuc3BsaWNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJjb25jYXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHZhciBuZXdBcnJheSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHQvLyBhZGQgXCJ0aGlzXCIgYXJyYXkgdG8gYnVuY2hcblxuXHRcdGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJyYXlzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcblx0XHRcdGFycmF5c1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuXHRcdH1cblxuXHRcdGFycmF5cy51bnNoaWZ0KCgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKSk7XG5cblx0XHR2YXIgY3VycmVudCA9IHVuZGVmaW5lZCxcblx0XHQgICAgaW5kZXggPSAwLFxuXHRcdCAgICBpID0gdW5kZWZpbmVkLFxuXHRcdCAgICBsZW5ndGggPSB1bmRlZmluZWQ7XG5cdFx0d2hpbGUgKGFycmF5cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjdXJyZW50ID0gYXJyYXlzLnNoaWZ0KCk7XG5cblx0XHRcdGlmIChjdXJyZW50LmNsYXNzTmFtZSA9PT0gXCJBcnJheVwiKSB7XG5cdFx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IGN1cnJlbnQuZ2V0VmFsdWUoXCJsZW5ndGhcIikudG9OYXRpdmUoKTsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnQuaGFzUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRcdG5ld0FycmF5LmRlZmluZU93blByb3BlcnR5KGluZGV4LCBjcmVhdGVJbmRleFByb3BlcnR5KGN1cnJlbnQuZ2V0VmFsdWUoaSkpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld0FycmF5LmRlZmluZU93blByb3BlcnR5KGluZGV4KyssIGNyZWF0ZUluZGV4UHJvcGVydHkoY3VycmVudCksIHRydWUsIGVudik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bmV3QXJyYXkucHV0VmFsdWUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaW5kZXgpLCB0cnVlLCBlbnYpO1xuXHRcdHJldHVybiBuZXdBcnJheTtcblx0fSwgMSwgXCJBcnJheS5wcm90b3R5cGUuY29uY2F0XCIpKTtcblxuXHRmdW5jdGlvbiBqb2luKHNlcGFyYXRvcikge1xuXHRcdHZhciBsZW5ndGgsXG5cdFx0ICAgIHN0cmluZ1ZhbHVlcyxcblx0XHQgICAgc3RyaW5nVmFsdWUsXG5cdFx0ICAgIGksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gam9pbiQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoYXJncyQyJDAubGVuZ3RoID09PSAwIHx8IHNlcGFyYXRvciA9PT0gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gXCIsXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCBzZXBhcmF0b3IsIFwic3RyaW5nXCIpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRzZXBhcmF0b3IgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZXMgPSBbXTtcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRpID0gMDtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdGlmICghKGkgPCBsZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IFwiXCI7XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMubm9kZS5oYXNQcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSB0aGlzLm5vZGUuZ2V0VmFsdWUoaSk7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChzdHJpbmdWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gXCJcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgc3RyaW5nVmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cblx0XHRcdFx0XHRzdHJpbmdWYWx1ZXMucHVzaChzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZXMuam9pbihzZXBhcmF0b3IpKSk7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgbWFya2VkMSQwWzFdLCB0aGlzKTtcblx0fVxuXG5cdHByb3RvLmRlZmluZShcImpvaW5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oam9pbiwgMSwgXCJBcnJheS5wcm90b3R5cGUuam9pblwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaW5kZXhPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblx0XHR2YXIgbGVuZ3RoLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgbm90Rm91bmQsXG5cdFx0ICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sXG5cdFx0ICAgIF9kaWRJdGVyYXRvckVycm9yLFxuXHRcdCAgICBfaXRlcmF0b3JFcnJvcixcblx0XHQgICAgX2l0ZXJhdG9yLFxuXHRcdCAgICBfc3RlcCxcblx0XHQgICAgZW50cnksXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHNlYXJjaEVsZW1lbnQgPSBzZWFyY2hFbGVtZW50IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShhcmdzJDIkMC5sZW5ndGggPT09IDEpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gMDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgZnJvbUluZGV4KTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGluZGV4ID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0bm90Rm91bmQgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgtMSk7XG5cblx0XHRcdFx0XHRpZiAoIShsZW5ndGggPT09IDAgfHwgaW5kZXggPj0gbGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBub3RGb3VuZCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblxuXHRcdFx0XHRcdGluZGV4ID0gZ2V0U3RhcnRJbmRleChpbmRleCwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDE5O1xuXHRcdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIHRoaXMubm9kZSwgaW5kZXgsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFzZWFyY2hFbGVtZW50LmVxdWFscyhlbnRyeS52YWx1ZSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZW50cnkuaW5kZXgpKTtcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDMwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTkpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM0O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNTtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNztcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0MDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgNDA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNyk7XG5cblx0XHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM0KTtcblxuXHRcdFx0XHRjYXNlIDQyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbm90Rm91bmQpO1xuXG5cdFx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbMTksIDMwLCAzNCwgNDJdLCBbMzUsLCAzNywgNDFdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5pbmRleE9mXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJsYXN0SW5kZXhPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzZWFyY2hFbGVtZW50LCBmcm9tSW5kZXgpIHtcblx0XHR2YXIgbGVuZ3RoLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIsXG5cdFx0ICAgIF9kaWRJdGVyYXRvckVycm9yMixcblx0XHQgICAgX2l0ZXJhdG9yRXJyb3IyLFxuXHRcdCAgICBfaXRlcmF0b3IyLFxuXHRcdCAgICBfc3RlcDIsXG5cdFx0ICAgIGVudHJ5LFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRzZWFyY2hFbGVtZW50ID0gc2VhcmNoRWxlbWVudCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCEoYXJncyQyJDAubGVuZ3RoID09PSAxKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIGZyb21JbmRleCk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpbmRleCA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0aWYgKGluZGV4IDwgMCkge1xuXHRcdFx0XHRcdFx0aW5kZXggPSBsZW5ndGggLSBNYXRoLmFicyhpbmRleCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMTY7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yMiA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0ucmV2ZXJzZShlbnYsIHRoaXMubm9kZSwgaW5kZXgpKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDIudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoIXNlYXJjaEVsZW1lbnQuZXF1YWxzKGVudHJ5LnZhbHVlIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlbnRyeS5pbmRleCkpO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTYpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IyID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMyO1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3IyW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM0O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yMjtcblxuXHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzQpO1xuXG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0Y2FzZSAzOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKC0xKSk7XG5cblx0XHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxNiwgMjcsIDMxLCAzOV0sIFszMiwsIDM0LCAzOF1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJmb3JFYWNoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMywgX2RpZEl0ZXJhdG9yRXJyb3IzLCBfaXRlcmF0b3JFcnJvcjMsIF9pdGVyYXRvcjMsIF9zdGVwMywgZW50cnk7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNGdW5jdGlvbihjYWxsYmFjaywgYXJyKTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDg7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yMyA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIGFyciwgMCwgbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAzLnZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUNhbGxiYWNrKGVudiwgY2FsbGJhY2ssIGVudHJ5LCB0aGlzQXJnLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxOTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oOCk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjMgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyMztcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjNbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjNbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjY7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yMykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyNik7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDIzKTtcblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzgsIDE5LCAyMywgMzFdLCBbMjQsLCAyNiwgMzBdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5mb3JFYWNoXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJtYXBcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0XHR2YXIgYXJyLCBsZW5ndGgsIG5ld0FycmF5LCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCwgX2RpZEl0ZXJhdG9yRXJyb3I0LCBfaXRlcmF0b3JFcnJvcjQsIF9pdGVyYXRvcjQsIF9zdGVwNCwgZW50cnksIHZhbHVlO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKGFyciwgXCJBcnJheS5wcm90b3R5cGUubWFwXCIpO1xuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0bmV3QXJyYXkgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdFx0bmV3QXJyYXkucHV0VmFsdWUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSwgdHJ1ZSwgZW52KTtcblxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDExO1xuXHRcdFx0XHRcdF9pdGVyYXRvcjQgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwNC52YWx1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVDYWxsYmFjayhlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdHZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdG5ld0FycmF5LmRlZmluZU93blByb3BlcnR5KGVudHJ5LmluZGV4LCBjcmVhdGVJbmRleFByb3BlcnR5KHZhbHVlKSwgdHJ1ZSwgZW52KTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDExKTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNCA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI4O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNFtcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yNFtcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG5cblx0XHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDMxKTtcblxuXHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjgpO1xuXG5cdFx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxMSwgMjQsIDI4LCAzNl0sIFsyOSwsIDMxLCAzNV1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLm1hcFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZmlsdGVyXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBuZXdBcnJheSwgaW5kZXgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241LCBfZGlkSXRlcmF0b3JFcnJvcjUsIF9pdGVyYXRvckVycm9yNSwgX2l0ZXJhdG9yNSwgX3N0ZXA1LCBlbnRyeSwgcGFzc2VkO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiKTtcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc0Z1bmN0aW9uKGNhbGxiYWNrLCBhcnIpO1xuXG5cdFx0XHRcdFx0bmV3QXJyYXkgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxMTtcblx0XHRcdFx0XHRfaXRlcmF0b3I1ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDUudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdHJldHVybiBleGVjdXRlQ2FsbGJhY2soZW52LCBjYWxsYmFjaywgZW50cnksIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmIChwYXNzZWQpIHtcblx0XHRcdFx0XHRcdG5ld0FycmF5LmRlZmluZU93blByb3BlcnR5KGluZGV4KyssIGNyZWF0ZUluZGV4UHJvcGVydHkoZW50cnkudmFsdWUpLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDExKTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yNSA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMDtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgJiYgX2l0ZXJhdG9yNVtcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yNVtcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDMyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMjtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjU7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDMyKTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjkpO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBuZXdBcnJheSk7XG5cblx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxMSwgMjUsIDI5LCAzN10sIFszMCwsIDMyLCAzNl1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmZpbHRlclwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZXZlcnlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcblx0XHR2YXIgYXJyLCBsZW5ndGgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242LCBfZGlkSXRlcmF0b3JFcnJvcjYsIF9pdGVyYXRvckVycm9yNiwgX2l0ZXJhdG9yNiwgX3N0ZXA2LCBlbnRyeSwgcGFzc2VkO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZCh0aGlzLm5vZGUsIFwiQXJyYXkucHJvdG90eXBlLmV2ZXJ5XCIpO1xuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24oY2FsbGJhY2ssIGFycik7XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA5O1xuXHRcdFx0XHRcdF9pdGVyYXRvcjYgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gKF9zdGVwNiA9IF9pdGVyYXRvcjYubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwNi52YWx1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVDYWxsYmFjayhlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKHBhc3NlZCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oOSk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjYgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyODtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjZbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjZbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yNikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I2O1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbOSwgMjQsIDI4LCAzNl0sIFsyOSwsIDMxLCAzNV1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmV2ZXJ5XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzb21lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNywgX2RpZEl0ZXJhdG9yRXJyb3I3LCBfaXRlcmF0b3JFcnJvcjcsIF9pdGVyYXRvcjcsIF9zdGVwNywgZW50cnksIHBhc3NlZDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIkFycmF5LnByb3RvdHlwZS5zb21lXCIpO1xuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24oY2FsbGJhY2ssIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNyA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I3ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I3ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA5O1xuXHRcdFx0XHRcdF9pdGVyYXRvcjcgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ID0gKF9zdGVwNyA9IF9pdGVyYXRvcjcubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwNy52YWx1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVDYWxsYmFjayhlbnYsIGNhbGxiYWNrLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKCFwYXNzZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodHJ1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjcgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyODtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oOSk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I3ID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjcgPSBjb250ZXh0JDIkMC50MTtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyODtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjk7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ICYmIF9pdGVyYXRvcjdbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjdbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzE7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yNykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I3O1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI4KTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpKTtcblxuXHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzksIDI0LCAyOCwgMzZdLCBbMjksLCAzMSwgMzVdXSk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5zb21lXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJyZWR1Y2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSkge1xuXHRcdHZhciBhcnIsXG5cdFx0ICAgIGxlbmd0aCxcblx0XHQgICAgaGFzSW5pdGlhbFZhbHVlLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgaGFzRWxlbWVudHMsXG5cdFx0ICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244LFxuXHRcdCAgICBfZGlkSXRlcmF0b3JFcnJvcjgsXG5cdFx0ICAgIF9pdGVyYXRvckVycm9yOCxcblx0XHQgICAgX2l0ZXJhdG9yOCxcblx0XHQgICAgX3N0ZXA4LFxuXHRcdCAgICBlbnRyeSxcblx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRoaXMubm9kZSwgXCJBcnJheS5wcm90b3R5cGUucmVkdWNlXCIpO1xuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24oY2FsbGJhY2ssIGFycik7XG5cblx0XHRcdFx0XHRoYXNJbml0aWFsVmFsdWUgPSBmYWxzZTtcblx0XHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChhcmdzJDIkMC5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGluaXRpYWxWYWx1ZTtcblx0XHRcdFx0XHRcdGhhc0luaXRpYWxWYWx1ZSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aGFzRWxlbWVudHMgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICghKGxlbmd0aCA+IDApKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I4ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I4ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxNDtcblx0XHRcdFx0XHRfaXRlcmF0b3I4ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGlmIChfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCA9IChfc3RlcDggPSBfaXRlcmF0b3I4Lm5leHQoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZW50cnkgPSBfc3RlcDgudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoaGFzRWxlbWVudHMpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGhhc0VsZW1lbnRzID0gdHJ1ZTtcblxuXHRcdFx0XHRcdGlmIChoYXNJbml0aWFsVmFsdWUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhbHVlID0gZW50cnkudmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImNvbnRpbnVlXCIsIDI2KTtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNTtcblx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0ZUFjY3VtdWxhdG9yKGNhbGxiYWNrLCB2YWx1ZSwgZW50cnksIGFycik7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMzE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDMxO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxNCk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I4ID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvcjggPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzNTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzY7XG5cblx0XHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244ICYmIF9pdGVyYXRvcjhbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcjhbXCJyZXR1cm5cIl0oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzg7XG5cblx0XHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yOCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I4O1xuXG5cdFx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzOCk7XG5cblx0XHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDM1KTtcblxuXHRcdFx0XHRjYXNlIDQzOlxuXHRcdFx0XHRcdGlmICghKCFoYXNFbGVtZW50cyAmJiAhaGFzSW5pdGlhbFZhbHVlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnJhaXNlKG5ldyBUeXBlRXJyb3IoXCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpKSk7XG5cblx0XHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDQ2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzE0LCAzMSwgMzUsIDQzXSwgWzM2LCwgMzgsIDQyXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUucmVkdWNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJyZWR1Y2VSaWdodFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgaW5pdGlhbFZhbHVlKSB7XG5cdFx0dmFyIGxlbmd0aCxcblx0XHQgICAgYXJyLFxuXHRcdCAgICBhY2N1bXVsYXRvcixcblx0XHQgICAgaGFzSW5pdGlhbFZhbHVlLFxuXHRcdCAgICBoYXNFbGVtZW50cyxcblx0XHQgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjksXG5cdFx0ICAgIF9kaWRJdGVyYXRvckVycm9yOSxcblx0XHQgICAgX2l0ZXJhdG9yRXJyb3I5LFxuXHRcdCAgICBfaXRlcmF0b3I5LFxuXHRcdCAgICBfc3RlcDksXG5cdFx0ICAgIGVudHJ5LFxuXHRcdCAgICBhcmdzJDIkMCA9IGFyZ3VtZW50cztcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzTm90TnVsbE9yVW5kZWZpbmVkKHRoaXMubm9kZSwgXCJBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHRcIik7XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzRnVuY3Rpb24oY2FsbGJhY2ssIGFycik7XG5cblx0XHRcdFx0XHRhY2N1bXVsYXRvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRoYXNJbml0aWFsVmFsdWUgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmIChhcmdzJDIkMC5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0XHRhY2N1bXVsYXRvciA9IGluaXRpYWxWYWx1ZTtcblx0XHRcdFx0XHRcdGhhc0luaXRpYWxWYWx1ZSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aGFzRWxlbWVudHMgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICghKGxlbmd0aCA+IDApKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3I5ID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I5ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxNDtcblx0XHRcdFx0XHRfaXRlcmF0b3I5ID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5yZXZlcnNlKGVudiwgYXJyLCBsZW5ndGggLSAxKSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSAoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXA5LnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKGhhc0VsZW1lbnRzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRoYXNFbGVtZW50cyA9IHRydWU7XG5cblx0XHRcdFx0XHRpZiAoaGFzSW5pdGlhbFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhY2N1bXVsYXRvciA9IGVudHJ5LnZhbHVlO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJjb250aW51ZVwiLCAyNik7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjU7XG5cdFx0XHRcdFx0cmV0dXJuIGV4ZWN1dGVBY2N1bXVsYXRvcihjYWxsYmFjaywgYWNjdW11bGF0b3IsIGVudHJ5LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdFx0YWNjdW11bGF0b3IgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzNTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMTQpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yOSA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3I5ID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM2O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSAmJiBfaXRlcmF0b3I5W1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3I5W1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDM4O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0MTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yOTtcblxuXHRcdFx0XHRjYXNlIDQxOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMzgpO1xuXG5cdFx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzNSk7XG5cblx0XHRcdFx0Y2FzZSA0Mzpcblx0XHRcdFx0XHRpZiAoISghaGFzRWxlbWVudHMgJiYgIWhhc0luaXRpYWxWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0NTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKSkpO1xuXG5cdFx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhY2N1bXVsYXRvcik7XG5cblx0XHRcdFx0Y2FzZSA0Njpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1sxNCwgMzEsIDM1LCA0M10sIFszNiwsIDM4LCA0Ml1dKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJyZXZlcnNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBsZW5ndGgsIG1pZGRsZSwgbG93ZXIsIHVwcGVyLCB1cHBlclZhbHVlLCBsb3dlclZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdG1pZGRsZSA9IE1hdGguZmxvb3IobGVuZ3RoIC8gMik7XG5cdFx0XHRcdFx0bG93ZXIgPSAwO1xuXHRcdFx0XHRcdHVwcGVyID0gdW5kZWZpbmVkLCB1cHBlclZhbHVlID0gdW5kZWZpbmVkLCBsb3dlclZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0d2hpbGUgKGxvd2VyICE9PSBtaWRkbGUpIHtcblx0XHRcdFx0XHRcdHVwcGVyID0gbGVuZ3RoIC0gbG93ZXIgLSAxO1xuXHRcdFx0XHRcdFx0bG93ZXJWYWx1ZSA9IHRoaXMubm9kZS5oYXNQcm9wZXJ0eShsb3dlcikgJiYgdGhpcy5ub2RlLmdldFZhbHVlKGxvd2VyKTtcblx0XHRcdFx0XHRcdHVwcGVyVmFsdWUgPSB0aGlzLm5vZGUuaGFzUHJvcGVydHkodXBwZXIpICYmIHRoaXMubm9kZS5nZXRWYWx1ZSh1cHBlcik7XG5cblx0XHRcdFx0XHRcdGlmICh1cHBlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShsb3dlciwgdXBwZXJWYWx1ZSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKGxvd2VyVmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKHVwcGVyLCBsb3dlclZhbHVlLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAodXBwZXJWYWx1ZSAmJiAhbG93ZXJWYWx1ZSkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLm5vZGUuZGVsZXRlUHJvcGVydHkodXBwZXIpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChsb3dlclZhbHVlICYmICF1cHBlclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMubm9kZS5kZWxldGVQcm9wZXJ0eShsb3dlcik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGxvd2VyKys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS5yZXZlcnNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJzb3J0XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGNvbXBhcmVGdW5jdGlvbikge1xuXHRcdHZhciBleGVjdXRpb25Db250ZXh0LCBhcnIsIGxlbmd0aCwgaSwgY29tcGFyZXIsIHNvcnRlZEFycmF5O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRleGVjdXRpb25Db250ZXh0ID0gdGhpcztcblx0XHRcdFx0XHRhcnIgPSB0aGlzLm5vZGU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRjb21wYXJlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQoY29tcGFyZUZ1bmN0aW9uKSkge1xuXHRcdFx0XHRcdFx0Y29tcGFyZXIgPSBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyZXIoYSwgYikge1xuXHRcdFx0XHRcdFx0XHRhID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgYSkpO1xuXHRcdFx0XHRcdFx0XHRiID0gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKCgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgYikpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChhIDwgYikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmIChhID4gYikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb21wYXJlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBzY29wZSA9IGVudi5jcmVhdGVTY29wZShfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cdFx0XHRcdFx0XHRcdHNjb3BlLmluaXQoY29tcGFyZUZ1bmN0aW9uLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0XHRcdFx0KDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHNjb3BlLmxvYWRBcmdzKGNvbXBhcmVGdW5jdGlvbi5ub2RlLnBhcmFtcywgW2EsIGJdLCBjb21wYXJlRnVuY3Rpb24pKTtcblx0XHRcdFx0XHRcdFx0dmFyIGV4ZWN1dGlvblJlc3VsdCA9ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShzY29wZS51c2UoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoZXhlY3V0aW9uQ29udGV4dC5jcmVhdGUoY29tcGFyZUZ1bmN0aW9uLm5vZGUuYm9keSwgY29tcGFyZUZ1bmN0aW9uLm5vZGUpLmV4ZWN1dGUoKSk7XG5cdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5leGl0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXhlY3V0aW9uUmVzdWx0LnJlc3VsdC5nZXRWYWx1ZSgpLnRvTmF0aXZlKCk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyB0byBhcnJheSwgcnVuIHRoZSB3cmFwcGVkIGNvbXBhcmVyLCB0aGVuIHJlLWFzc2lnbiBpbmRleGVzXG5cdFx0XHRcdFx0c29ydGVkQXJyYXkgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKGFyciwgbGVuZ3RoKVxuXHRcdFx0XHRcdC8vIHVuZGVmaW5lZCBwb3NpdGlvbnMgYXJlIGhhbmRsZWQgYnkgdGhlIHVuZGVybHlpbmcgc29ydCBhbGdvcml0aG0sIHNvIHJlcGxhY2UgdGhlbSB3aXRoIHRoZSByYXcgcHJpbWl0aXZlIHZhbHVlXG5cdFx0XHRcdFx0Lm1hcChmdW5jdGlvbiAoZWwpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbC5pc1ByaW1pdGl2ZSAmJiBlbC52YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogZWw7XG5cdFx0XHRcdFx0fSkuc29ydChjb21wYXJlcik7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdFx0aWYgKGkgaW4gc29ydGVkQXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0YXJyLnB1dFZhbHVlKGksIHNvcnRlZEFycmF5W2ldLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGFyci5kZWxldGVQcm9wZXJ0eShpLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGkrKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIkFycmF5LnByb3RvdHlwZS5zb3J0XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ0b0xvY2FsZVN0cmluZ1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHR2YXIgbGVuZ3RoLCBhcnIsIGksIGN1cnJlbnQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YXJyID0gbmV3IEFycmF5KGxlbmd0aCk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0Y3VycmVudCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0aWYgKCEoaSA8IGxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlLmhhc1Byb3BlcnR5KGkpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjdXJyZW50ID0gdGhpcy5ub2RlLmdldFZhbHVlKGkpO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQoY3VycmVudCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFycltpXSA9IFwiXCI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBlbnY7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKShlbnYsIGN1cnJlbnQsIFwidG9Mb2NhbGVTdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpO1xuXG5cdFx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdFx0YXJyW2ldID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDIwOlxuXG5cdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcnIuam9pbigpKSk7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIkFycmF5LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZ1wiKSk7XG5cblx0Ly8gdG9kbzogdGhpcyBpcyBhIGJpdCBoYWNreSAtIHRvU3RyaW5nIHdpbGwgY2FsbCBqb2luIGlmIGF2YWlsYWJsZSBwZXIgc3BlYyxcblx0Ly8gYnV0IHdpbGwgY2FsbCBPYmplY3QuLnRvU3RyaW5nIGlmIG5vdFxuXHRwcm90by5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihqb2luLCAwLCBcIkFycmF5LnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJBcnJheVwiLCBhcnJheUNsYXNzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBib29sZWFuQXBpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBib29sZWFuQXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgYm9vbGVhbkNsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0dmFyIGJvb2xlYW5WYWx1ZSA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShvYmopO1xuXG5cdFx0Ly8gY2FsbGVkIGFzIG5ld1xuXHRcdGlmICh0aGlzLmlzTmV3KSB7XG5cdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS5wcmltaXRpdmVUb09iamVjdCkoZW52LCBib29sZWFuVmFsdWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkJvb2xlYW5cIiwgYm9vbGVhblZhbHVlKTtcblx0fSwgbnVsbCwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHZhciBwcm90byA9IGJvb2xlYW5DbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJCb29sZWFuXCI7XG5cdHByb3RvLnZhbHVlID0gZmFsc2U7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIkJvb2xlYW5cIiwgXCJCb29sZWFuLnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoU3RyaW5nKHRoaXMubm9kZS52YWx1ZSkpO1xuXHR9LCAwLCBcIkJvb2xlYW4ucHJvdG90eXBlLnRvU3RyaW5nXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJCb29sZWFuXCIsIFwiQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZlwiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlKTtcblx0fSwgMCwgXCJCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mXCIpKTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiQm9vbGVhblwiLCBib29sZWFuQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbnNvbGVBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBtZXRob2RzID0gW1wibG9nXCIsIFwiaW5mb1wiLCBcImVycm9yXCIsIFwid2FyblwiXTtcblxuZnVuY3Rpb24gY29uc29sZUFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cdHZhciBjb25zb2xlQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXG5cdG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGNvbnNvbGVDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0XHRhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3RyaW5nVmFsdWVzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGFyZ3MsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIGFyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZXMgPSBjb250ZXh0JDMkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRjb25zb2xlW25hbWVdLmFwcGx5KGNvbnNvbGUsIF90b0NvbnN1bWFibGVBcnJheShzdHJpbmdWYWx1ZXMpKTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHR9KSwgMSwgXCJjb25zb2xlLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiY29uc29sZVwiLCBjb25zb2xlQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90by1jb25zdW1hYmxlLWFycmF5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9iaW5kID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9iaW5kXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRhdGVBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciBzdGF0aWNNZXRob2RzID0gW1wibm93XCJdO1xudmFyIHByb3RvTWV0aG9kcyA9IFtcImdldERhdGVcIiwgXCJnZXREYXlcIiwgXCJnZXRGdWxsWWVhclwiLCBcImdldEhvdXJzXCIsIFwiZ2V0TWlsbGlzZWNvbmRzXCIsIFwiZ2V0TWludXRlc1wiLCBcImdldE1vbnRoXCIsIFwiZ2V0TWlsbGlzZWNvbmRzXCIsIFwiZ2V0TWludXRlc1wiLCBcImdldE1vbnRoXCIsIFwiZ2V0U2Vjb25kc1wiLCBcImdldFRpbWVcIiwgXCJnZXRUaW1lem9uZU9mZnNldFwiLCBcImdldFVUQ0RheVwiLCBcImdldFVUQ0RhdGVcIiwgXCJnZXRVVENGdWxsWWVhclwiLCBcImdldFVUQ0hvdXJzXCIsIFwiZ2V0VVRDTWlsbGlzZWNvbmRzXCIsIFwiZ2V0VVRDTWludXRlc1wiLCBcImdldFVUQ01vbnRoXCIsIFwiZ2V0VVRDU2Vjb25kc1wiLCBcImdldFllYXJcIiwgXCJ0b0RhdGVTdHJpbmdcIiwgXCJ0b0dNVFN0cmluZ1wiLCBcInRvSVNPU3RyaW5nXCIsIFwidG9KU09OXCIsIFwidG9Mb2NhbGVTdHJpbmdcIiwgXCJ0b0xvY2FsZURhdGVTdHJpbmdcIiwgXCJ0b0xvY2FsZVRpbWVTdHJpbmdcIiwgXCJ0b1N0cmluZ1wiLCBcInRvVGltZVN0cmluZ1wiLCBcInRvVVRDU3RyaW5nXCJdO1xudmFyIHNldHRlcnMgPSBbXCJzZXREYXRlXCIsIFwic2V0RnVsbFllYXJcIiwgXCJzZXRIb3Vyc1wiLCBcInNldE1pbGxpc2Vjb25kc1wiLCBcInNldE1pbnV0ZXNcIiwgXCJzZXRNb250aFwiLCBcInNldFNlY29uZHNcIiwgXCJzZXRUaW1lXCIsIFwic2V0VVRDRGF0ZVwiLCBcInNldFVUQ0Z1bGxZZWFyXCIsIFwic2V0VVRDSG91cnNcIiwgXCJzZXRVVENNaWxsaXNlY29uZHNcIiwgXCJzZXRVVENNaW51dGVzXCIsIFwic2V0VVRDTW9udGhcIiwgXCJzZXRVVENTZWNvbmRzXCIsIFwic2V0WWVhclwiXTtcblxuZnVuY3Rpb24gZGF0ZUFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIGRhdGVDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocDEsIHAyLCBwMywgcDQsIHA1LCBwNiwgcDcpIHtcblx0XHR2YXIgZGF0ZVZhbHVlLFxuXHRcdCAgICBhcmdzLFxuXHRcdCAgICBwcmltaXRpdmVWYWx1ZSxcblx0XHQgICAgaSxcblx0XHQgICAgYXJncyQyJDAgPSBhcmd1bWVudHM7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IHVuZGVmaW5lZCwgYXJncyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghKGFyZ3MkMiQwLmxlbmd0aCA9PT0gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IFtdO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0aWYgKCEoYXJncyQyJDAubGVuZ3RoID09PSAxKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFwMS5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJncyA9IFtwMS52YWx1ZV07XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHAxKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBwcmltaXRpdmVWYWx1ZSAhPT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBwMSk7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblxuXHRcdFx0XHRcdGFyZ3MgPSBbcHJpbWl0aXZlVmFsdWVdO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncyQyJDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGVudiwgYXJnLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpLCBcInQwXCIsIDIxKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBhcmdzLmxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gY29udGV4dCQyJDAudDEgPT09IDAgPyAyNiA6IGNvbnRleHQkMiQwLnQxID09PSAxID8gMjggOiAzMDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcImJyZWFrXCIsIDM0KTtcblxuXHRcdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IG5ldyBEYXRlKGFyZ3NbMF0pO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAzNCk7XG5cblx0XHRcdFx0Y2FzZSAzMDpcblx0XHRcdFx0XHRpID0gYXJncy5sZW5ndGg7XG5cblx0XHRcdFx0XHR3aGlsZSAoaSA8IDcpIHtcblx0XHRcdFx0XHRcdC8vIGRlZmF1bHQgZGF5IHRvIDEsIGFsbCBvdGhlcnMgdG8gMFxuXHRcdFx0XHRcdFx0YXJnc1tpKytdID0gaSA9PT0gMyA/IDEgOiAwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IG5ldyAoX2JpbmQuYXBwbHkoRGF0ZSwgW251bGxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKSkoKTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwiYnJlYWtcIiwgMzQpO1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkRhdGVcIiwgZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblxuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IERhdGUuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBudWxsLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0ZGF0ZUNsYXNzLmRlZmluZShcInBhcnNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCBkYXRlVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHZhbHVlLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGRhdGVWYWx1ZSA9IERhdGUucGFyc2Uoc3RyaW5nVmFsdWUpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGF0ZVZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRGF0ZS5wcm90b3R5cGUucGFyc2VcIikpO1xuXG5cdGRhdGVDbGFzcy5kZWZpbmUoXCJVVENcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIGFyZ3MsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDIkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCBhcmcsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBjYWxsZWUkMiQwLCB0aGlzKTtcblx0XHRcdFx0XHR9KSksIFwidDBcIiwgMSk7XG5cblx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3MpKSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDcsIFwiRGF0ZS5wcm90b3R5cGUuVVRDXCIpKTtcblxuXHR2YXIgcHJvdG8gPSBkYXRlQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRGF0ZVwiO1xuXHRwcm90by52YWx1ZSA9IG5ldyBEYXRlKERhdGUucHJvdG90eXBlKTtcblxuXHRzdGF0aWNNZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRkYXRlQ2xhc3MuZGVmaW5lKG5hbWUsICgwLCBfdXRpbHNOYXRpdmUudG9OYXRpdmVGdW5jdGlvbikoZW52LCBEYXRlW25hbWVdLCBcIkRhdGUuXCIgKyBuYW1lKSk7XG5cdH0pO1xuXG5cdHByb3RvTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0cHJvdG8uZGVmaW5lKG5hbWUsICgwLCBfdXRpbHNOYXRpdmUudG9OYXRpdmVGdW5jdGlvbikoZW52LCBEYXRlLnByb3RvdHlwZVtuYW1lXSwgXCJEYXRlLnByb3RvdHlwZS5cIiArIG5hbWUpKTtcblx0fSk7XG5cblx0c2V0dGVycy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0dmFyIG1hcmtlZDIkMCA9IFtzZXR0ZXJdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5cdFx0ZnVuY3Rpb24gc2V0dGVyKCkge1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHQgICAgYXJncyQzJDAgPSBhcmd1bWVudHM7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHNldHRlciQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShhcmdzJDMkMCwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoYXJnKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGVudiwgYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkNCQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMyQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdH0pKSwgXCJ0MFwiLCAxKTtcblxuXHRcdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDMkMC50MDtcblxuXHRcdFx0XHRcdFx0RGF0ZS5wcm90b3R5cGVbbmFtZV0uYXBwbHkodGhpcy5ub2RlLnZhbHVlLCBhcmdzKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBtYXJrZWQyJDBbMF0sIHRoaXMpO1xuXHRcdH1cblxuXHRcdHByb3RvLmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihzZXR0ZXIsIERhdGUucHJvdG90eXBlW25hbWVdLmxlbmd0aCwgXCJEYXRlLnByb3RvdHlwZS5cIiArIG5hbWUpKTtcblx0fSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZS52YWx1ZU9mKCkpO1xuXHR9LCAwLCBcIkRhdGUucHJvdG90eXBlLnZhbHVlT2ZcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJEYXRlXCIsIGRhdGVDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGVycm9yQXBpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgZXJyb3JUeXBlcyA9IFtcIlR5cGVFcnJvclwiLCBcIlJlZmVyZW5jZUVycm9yXCIsIFwiU3ludGF4RXJyb3JcIiwgXCJSYW5nZUVycm9yXCIsIFwiVVJJRXJyb3JcIiwgXCJFdmFsRXJyb3JcIl07XG5cbmZ1bmN0aW9uIGVycm9yQXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgZXJyb3JDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobWVzc2FnZSkge1xuXHRcdHZhciBtZXNzYWdlU3RyaW5nO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKGNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChtZXNzYWdlKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBtZXNzYWdlKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0bWVzc2FnZVN0cmluZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJFcnJvclwiLCBuZXcgRXJyb3IobWVzc2FnZVN0cmluZykpKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgbnVsbCwgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdHZhciBwcm90byA9IGVycm9yQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdHByb3RvLmNsYXNzTmFtZSA9IFwiRXJyb3JcIjtcblx0cHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIkVycm9yXCIpKTtcblx0cHJvdG8uZGVmaW5lKFwibWVzc2FnZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIlwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIG5hbWUsIG1zZztcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0bmFtZSA9IHRoaXMubm9kZS5nZXRWYWx1ZShcIm5hbWVcIik7XG5cdFx0XHRcdFx0bXNnID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLm5vZGUuaGFzUHJvcGVydHkoXCJtZXNzYWdlXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHRoaXMubm9kZS5nZXRWYWx1ZShcIm1lc3NhZ2VcIikpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRtc2cgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IG5hbWU7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRleHQkMiQwLnQwKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgbmFtZSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRuYW1lID0gY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRpZiAoIShuYW1lICYmIG1zZykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTdHJpbmdcIiwgbmFtZSArIFwiOiBcIiArIG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN0cmluZ1wiLCBuYW1lIHx8IG1zZykpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMCwgXCJFcnJvci5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJFcnJvclwiLCBlcnJvckNsYXNzKTtcblxuXHRlcnJvclR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yVHlwZSkge1xuXHRcdHZhciBlcnJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAobWVzc2FnZSkge1xuXHRcdFx0dmFyIG1lc3NhZ2VTdHJpbmcsIG5hdGl2ZUVycm9yO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgbWVzc2FnZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdG5hdGl2ZUVycm9yID0gbmV3IGdsb2JhbFtlcnJvclR5cGVdKG1lc3NhZ2VTdHJpbmcpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShlcnJvclR5cGUsIG5hdGl2ZUVycm9yKSk7XG5cblx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0fSksIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRcdHZhciB0eXBlUHJvdG8gPSBlcnJDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0XHR0eXBlUHJvdG8uZGVmaW5lKFwibmFtZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlcnJvclR5cGUpKTtcblxuXHRcdC8vIGFkZCB0byBwcm90b3R5cGUgY2hhaW4gdG8gcmVwcmVzZW50IGluaGVyaXRhbmNlXG5cdFx0dHlwZVByb3RvLnNldFByb3RvdHlwZShwcm90byk7XG5cblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKGVycm9yVHlwZSwgZXJyQ2xhc3MpO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5OeVl5OWxZMjFoTFRVdU1TOWxjbkp2Y2k5cGJtUmxlQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpWENKMWMyVWdjM1J5YVdOMFhDSTdYRzVjYm5aaGNpQmZjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxJRDBnY21WeGRXbHlaU2hjSW1KaFltVnNMWEoxYm5ScGJXVXZjbVZuWlc1bGNtRjBiM0pjSWlsYlhDSmtaV1poZFd4MFhDSmRPMXh1WEc1MllYSWdYMmx1ZEdWeWIzQlNaWEYxYVhKbFYybHNaR05oY21RZ1BTQnlaWEYxYVhKbEtGd2lZbUZpWld3dGNuVnVkR2x0WlM5b1pXeHdaWEp6TDJsdWRHVnliM0F0Y21WeGRXbHlaUzEzYVd4a1kyRnlaRndpS1Z0Y0ltUmxabUYxYkhSY0lsMDdYRzVjYms5aWFtVmpkQzVrWldacGJtVlFjbTl3WlhKMGVTaGxlSEJ2Y25SekxDQmNJbDlmWlhOTmIyUjFiR1ZjSWl3Z2UxeHVYSFIyWVd4MVpUb2dkSEoxWlZ4dWZTazdYRzVsZUhCdmNuUnpXMXdpWkdWbVlYVnNkRndpWFNBOUlHVnljbTl5UVhCcE8xeHVYRzUyWVhJZ1gzVjBhV3h6VG1GMGFYWmxJRDBnY21WeGRXbHlaU2hjSWk0dUx5NHVMM1YwYVd4ekwyNWhkR2wyWlZ3aUtUdGNibHh1ZG1GeUlGOTFkR2xzYzBOdmJuUnlZV04wY3lBOUlISmxjWFZwY21Vb1hDSXVMaTh1TGk5MWRHbHNjeTlqYjI1MGNtRmpkSE5jSWlrN1hHNWNiblpoY2lCamIyNTBjbUZqZEhNZ1BTQmZhVzUwWlhKdmNGSmxjWFZwY21WWGFXeGtZMkZ5WkNoZmRYUnBiSE5EYjI1MGNtRmpkSE1wTzF4dVhHNTJZWElnWlhKeWIzSlVlWEJsY3lBOUlGdGNJbFI1Y0dWRmNuSnZjbHdpTENCY0lsSmxabVZ5Wlc1alpVVnljbTl5WENJc0lGd2lVM2x1ZEdGNFJYSnliM0pjSWl3Z1hDSlNZVzVuWlVWeWNtOXlYQ0lzSUZ3aVZWSkpSWEp5YjNKY0lpd2dYQ0pGZG1Gc1JYSnliM0pjSWwwN1hHNWNibVoxYm1OMGFXOXVJR1Z5Y205eVFYQnBLR1Z1ZGlrZ2UxeHVYSFIyWVhJZ1oyeHZZbUZzVDJKcVpXTjBJRDBnWlc1MkxtZHNiMkpoYkR0Y2JseDBkbUZ5SUc5aWFtVmpkRVpoWTNSdmNua2dQU0JsYm5ZdWIySnFaV04wUm1GamRHOXllVHRjYmx4dVhIUjJZWElnWlhKeWIzSkRiR0Z6Y3lBOUlHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxSblZ1WTNScGIyNG9YM0psWjJWdVpYSmhkRzl5VW5WdWRHbHRaUzV0WVhKcktHWjFibU4wYVc5dUlHTmhiR3hsWlNReEpEQW9iV1Z6YzJGblpTa2dlMXh1WEhSY2RIWmhjaUJ0WlhOellXZGxVM1J5YVc1bk8xeHVYSFJjZEhKbGRIVnliaUJmY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTG5keVlYQW9ablZ1WTNScGIyNGdZMkZzYkdWbEpERWtNQ1FvWTI5dWRHVjRkQ1F5SkRBcElIdGNibHgwWEhSY2RIZG9hV3hsSUNneEtTQnpkMmwwWTJnZ0tHTnZiblJsZUhRa01pUXdMbkJ5WlhZZ1BTQmpiMjUwWlhoMEpESWtNQzV1WlhoMEtTQjdYRzVjZEZ4MFhIUmNkR05oYzJVZ01EcGNibHgwWEhSY2RGeDBYSFJ0WlhOellXZGxVM1J5YVc1bklEMGdkVzVrWldacGJtVmtPMXh1WEc1Y2RGeDBYSFJjZEZ4MGFXWWdLR052Ym5SeVlXTjBjeTVwYzA1MWJHeFBjbFZ1WkdWbWFXNWxaQ2h0WlhOellXZGxLU2tnZTF4dVhIUmNkRngwWEhSY2RGeDBZMjl1ZEdWNGRDUXlKREF1Ym1WNGRDQTlJRFU3WEc1Y2RGeDBYSFJjZEZ4MFhIUmljbVZoYXp0Y2JseDBYSFJjZEZ4MFhIUjlYRzVjYmx4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRJa01DNXVaWGgwSUQwZ05EdGNibHgwWEhSY2RGeDBYSFJ5WlhSMWNtNGdLREFzSUY5MWRHbHNjMDVoZEdsMlpTNTBiMU4wY21sdVp5a29aVzUyTENCdFpYTnpZV2RsS1R0Y2JseHVYSFJjZEZ4MFhIUmpZWE5sSURRNlhHNWNkRngwWEhSY2RGeDBiV1Z6YzJGblpWTjBjbWx1WnlBOUlHTnZiblJsZUhRa01pUXdMbk5sYm5RN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBMU9seHVYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpESWtNQzVoWW5KMWNIUW9YQ0p5WlhSMWNtNWNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdVb1hDSkZjbkp2Y2x3aUxDQnVaWGNnUlhKeWIzSW9iV1Z6YzJGblpWTjBjbWx1WnlrcEtUdGNibHh1WEhSY2RGeDBYSFJqWVhObElEWTZYRzVjZEZ4MFhIUmNkR05oYzJVZ1hDSmxibVJjSWpwY2JseDBYSFJjZEZ4MFhIUnlaWFIxY200Z1kyOXVkR1Y0ZENReUpEQXVjM1J2Y0NncE8xeHVYSFJjZEZ4MGZWeHVYSFJjZEgwc0lHTmhiR3hsWlNReEpEQXNJSFJvYVhNcE8xeHVYSFI5S1N3Z2JuVnNiQ3dnZXlCamIyNW1hV2QxY21GaWJHVTZJR1poYkhObExDQmxiblZ0WlhKaFlteGxPaUJtWVd4elpTd2dkM0pwZEdGaWJHVTZJR1poYkhObElIMHBPMXh1WEc1Y2RIWmhjaUJ3Y205MGJ5QTlJR1Z5Y205eVEyeGhjM011WjJWMFZtRnNkV1VvWENKd2NtOTBiM1I1Y0dWY0lpazdYRzVjZEhCeWIzUnZMbU5zWVhOelRtRnRaU0E5SUZ3aVJYSnliM0pjSWp0Y2JseDBjSEp2ZEc4dVpHVm1hVzVsS0Z3aWJtRnRaVndpTENCdlltcGxZM1JHWVdOMGIzSjVMbU55WldGMFpWQnlhVzFwZEdsMlpTaGNJa1Z5Y205eVhDSXBLVHRjYmx4MGNISnZkRzh1WkdWbWFXNWxLRndpYldWemMyRm5aVndpTENCdlltcGxZM1JHWVdOMGIzSjVMbU55WldGMFpWQnlhVzFwZEdsMlpTaGNJbHdpS1NrN1hHNWNibHgwY0hKdmRHOHVaR1ZtYVc1bEtGd2lkRzlUZEhKcGJtZGNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdWQ2RXbHNkRWx1Um5WdVkzUnBiMjRvWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1dFlYSnJLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXhKREFvS1NCN1hHNWNkRngwZG1GeUlHNWhiV1VzSUcxelp6dGNibHgwWEhSeVpYUjFjbTRnWDNKbFoyVnVaWEpoZEc5eVVuVnVkR2x0WlM1M2NtRndLR1oxYm1OMGFXOXVJR05oYkd4bFpTUXhKREFrS0dOdmJuUmxlSFFrTWlRd0tTQjdYRzVjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpESWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXlKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJqWVhObElEQTZYRzVjZEZ4MFhIUmNkRngwYm1GdFpTQTlJSFJvYVhNdWJtOWtaUzVuWlhSV1lXeDFaU2hjSW01aGJXVmNJaWs3WEc1Y2RGeDBYSFJjZEZ4MGJYTm5JRDBnZFc1a1pXWnBibVZrTzF4dVhHNWNkRngwWEhSY2RGeDBhV1lnS0NGMGFHbHpMbTV2WkdVdWFHRnpVSEp2Y0dWeWRIa29YQ0p0WlhOellXZGxYQ0lwS1NCN1hHNWNkRngwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRElrTUM1dVpYaDBJRDBnTmp0Y2JseDBYSFJjZEZ4MFhIUmNkR0p5WldGck8xeHVYSFJjZEZ4MFhIUmNkSDFjYmx4dVhIUmNkRngwWEhSY2RHTnZiblJsZUhRa01pUXdMbTVsZUhRZ1BTQTFPMXh1WEhSY2RGeDBYSFJjZEhKbGRIVnliaUFvTUN3Z1gzVjBhV3h6VG1GMGFYWmxMblJ2VTNSeWFXNW5LU2hsYm5Zc0lIUm9hWE11Ym05a1pTNW5aWFJXWVd4MVpTaGNJbTFsYzNOaFoyVmNJaWtwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTlRwY2JseDBYSFJjZEZ4MFhIUnRjMmNnUFNCamIyNTBaWGgwSkRJa01DNXpaVzUwTzF4dVhHNWNkRngwWEhSY2RHTmhjMlVnTmpwY2JseDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzUwTUNBOUlHNWhiV1U3WEc1Y2JseDBYSFJjZEZ4MFhIUnBaaUFvSVdOdmJuUmxlSFFrTWlRd0xuUXdLU0I3WEc1Y2RGeDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzV1WlhoMElEMGdNVEU3WEc1Y2RGeDBYSFJjZEZ4MFhIUmljbVZoYXp0Y2JseDBYSFJjZEZ4MFhIUjlYRzVjYmx4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRJa01DNXVaWGgwSUQwZ01UQTdYRzVjZEZ4MFhIUmNkRngwY21WMGRYSnVJQ2d3TENCZmRYUnBiSE5PWVhScGRtVXVkRzlUZEhKcGJtY3BLR1Z1ZGl3Z2JtRnRaU2s3WEc1Y2JseDBYSFJjZEZ4MFkyRnpaU0F4TURwY2JseDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzUwTUNBOUlHTnZiblJsZUhRa01pUXdMbk5sYm5RN1hHNWNibHgwWEhSY2RGeDBZMkZ6WlNBeE1UcGNibHgwWEhSY2RGeDBYSFJ1WVcxbElEMGdZMjl1ZEdWNGRDUXlKREF1ZERBN1hHNWNibHgwWEhSY2RGeDBYSFJwWmlBb0lTaHVZVzFsSUNZbUlHMXpaeWtwSUh0Y2JseDBYSFJjZEZ4MFhIUmNkR052Ym5SbGVIUWtNaVF3TG01bGVIUWdQU0F4TkR0Y2JseDBYSFJjZEZ4MFhIUmNkR0p5WldGck8xeHVYSFJjZEZ4MFhIUmNkSDFjYmx4dVhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRJa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2diMkpxWldOMFJtRmpkRzl5ZVM1amNtVmhkR1VvWENKVGRISnBibWRjSWl3Z2JtRnRaU0FySUZ3aU9pQmNJaUFySUcxelp5a3BPMXh1WEc1Y2RGeDBYSFJjZEdOaGMyVWdNVFE2WEc1Y2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTWlRd0xtRmljblZ3ZENoY0luSmxkSFZ5Ymx3aUxDQnZZbXBsWTNSR1lXTjBiM0o1TG1OeVpXRjBaU2hjSWxOMGNtbHVaMXdpTENCdVlXMWxJSHg4SUcxelp5a3BPMXh1WEc1Y2RGeDBYSFJjZEdOaGMyVWdNVFU2WEc1Y2RGeDBYSFJjZEdOaGMyVWdYQ0psYm1SY0lqcGNibHgwWEhSY2RGeDBYSFJ5WlhSMWNtNGdZMjl1ZEdWNGRDUXlKREF1YzNSdmNDZ3BPMXh1WEhSY2RGeDBmVnh1WEhSY2RIMHNJR05oYkd4bFpTUXhKREFzSUhSb2FYTXBPMXh1WEhSOUtTd2dNQ3dnWENKRmNuSnZjaTV3Y205MGIzUjVjR1V1ZEc5VGRISnBibWRjSWlrcE8xeHVYRzVjZEdkc2IySmhiRTlpYW1WamRDNWtaV1pwYm1Vb1hDSkZjbkp2Y2x3aUxDQmxjbkp2Y2tOc1lYTnpLVHRjYmx4dVhIUmxjbkp2Y2xSNWNHVnpMbVp2Y2tWaFkyZ29ablZ1WTNScGIyNGdLR1Z5Y205eVZIbHdaU2tnZTF4dVhIUmNkSFpoY2lCbGNuSkRiR0Z6Y3lBOUlHOWlhbVZqZEVaaFkzUnZjbmt1WTNKbFlYUmxSblZ1WTNScGIyNG9YM0psWjJWdVpYSmhkRzl5VW5WdWRHbHRaUzV0WVhKcktHWjFibU4wYVc5dUlHTmhiR3hsWlNReUpEQW9iV1Z6YzJGblpTa2dlMXh1WEhSY2RGeDBkbUZ5SUcxbGMzTmhaMlZUZEhKcGJtY3NJRzVoZEdsMlpVVnljbTl5TzF4dVhIUmNkRngwY21WMGRYSnVJRjl5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1V1ZDNKaGNDaG1kVzVqZEdsdmJpQmpZV3hzWldVa01pUXdKQ2hqYjI1MFpYaDBKRE1rTUNrZ2UxeHVYSFJjZEZ4MFhIUjNhR2xzWlNBb01Ta2djM2RwZEdOb0lDaGpiMjUwWlhoMEpETWtNQzV3Y21WMklEMGdZMjl1ZEdWNGRDUXpKREF1Ym1WNGRDa2dlMXh1WEhSY2RGeDBYSFJjZEdOaGMyVWdNRHBjYmx4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa015UXdMbTVsZUhRZ1BTQXlPMXh1WEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUNnd0xDQmZkWFJwYkhOT1lYUnBkbVV1ZEc5VGRISnBibWNwS0dWdWRpd2diV1Z6YzJGblpTazdYRzVjYmx4MFhIUmNkRngwWEhSallYTmxJREk2WEc1Y2RGeDBYSFJjZEZ4MFhIUnRaWE56WVdkbFUzUnlhVzVuSUQwZ1kyOXVkR1Y0ZENRekpEQXVjMlZ1ZER0Y2JseDBYSFJjZEZ4MFhIUmNkRzVoZEdsMlpVVnljbTl5SUQwZ2JtVjNJR2RzYjJKaGJGdGxjbkp2Y2xSNWNHVmRLRzFsYzNOaFoyVlRkSEpwYm1jcE8xeHVYSFJjZEZ4MFhIUmNkRngwY21WMGRYSnVJR052Ym5SbGVIUWtNeVF3TG1GaWNuVndkQ2hjSW5KbGRIVnlibHdpTENCdlltcGxZM1JHWVdOMGIzSjVMbU55WldGMFpTaGxjbkp2Y2xSNWNHVXNJRzVoZEdsMlpVVnljbTl5S1NrN1hHNWNibHgwWEhSY2RGeDBYSFJqWVhObElEVTZYRzVjZEZ4MFhIUmNkRngwWTJGelpTQmNJbVZ1WkZ3aU9seHVYSFJjZEZ4MFhIUmNkRngwY21WMGRYSnVJR052Ym5SbGVIUWtNeVF3TG5OMGIzQW9LVHRjYmx4MFhIUmNkRngwZlZ4dVhIUmNkRngwZlN3Z1kyRnNiR1ZsSkRJa01Dd2dkR2hwY3lrN1hHNWNkRngwZlNrc0lHNTFiR3dzSUhzZ1kyOXVabWxuZFhKaFlteGxPaUJtWVd4elpTd2daVzUxYldWeVlXSnNaVG9nWm1Gc2MyVXNJSGR5YVhSaFlteGxPaUJtWVd4elpTQjlLVHRjYmx4dVhIUmNkSFpoY2lCMGVYQmxVSEp2ZEc4Z1BTQmxjbkpEYkdGemN5NW5aWFJXWVd4MVpTaGNJbkJ5YjNSdmRIbHdaVndpS1R0Y2JseDBYSFIwZVhCbFVISnZkRzh1WkdWbWFXNWxLRndpYm1GdFpWd2lMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlZCeWFXMXBkR2wyWlNobGNuSnZjbFI1Y0dVcEtUdGNibHh1WEhSY2RDOHZJR0ZrWkNCMGJ5QndjbTkwYjNSNWNHVWdZMmhoYVc0Z2RHOGdjbVZ3Y21WelpXNTBJR2x1YUdWeWFYUmhibU5sWEc1Y2RGeDBkSGx3WlZCeWIzUnZMbk5sZEZCeWIzUnZkSGx3WlNod2NtOTBieWs3WEc1Y2JseDBYSFJuYkc5aVlXeFBZbXBsWTNRdVpHVm1hVzVsS0dWeWNtOXlWSGx3WlN3Z1pYSnlRMnhoYzNNcE8xeHVYSFI5S1R0Y2JuMWNibHh1Ylc5a2RXeGxMbVY0Y0c5eWRITWdQU0JsZUhCdmNuUnpXMXdpWkdWbVlYVnNkRndpWFRzaVhYMD0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb25BcGk7XG5cbnZhciBfdHlwZXNOYXRpdmVGdW5jdGlvblR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvbmF0aXZlLWZ1bmN0aW9uLXR5cGVcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIGRlZmluZVRoaXMoZW52LCBmbiwgdGhpc0FyZykge1xuXHRpZiAoZm4uYnVpbHRJbiB8fCBmbi5pc1N0cmljdCgpKSB7XG5cdFx0cmV0dXJuIHRoaXNBcmcgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdH1cblxuXHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXNBcmcpKSB7XG5cdFx0cmV0dXJuIGVudi5nbG9iYWw7XG5cdH1cblxuXHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzQXJnKTtcbn1cblxudmFyIGZyb3plbiA9IHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9O1xuXG5mdW5jdGlvbiBmdW5jdGlvbkFwaShlbnYpIHtcblx0dmFyIG9wdGlvbnMgPSBlbnYub3B0aW9ucztcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIGZ1bmNDbGFzcyA9IHVuZGVmaW5lZDtcblxuXHR2YXIgZnVuY0N0b3IgPSBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gZnVuY0N0b3IoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0XHRcdGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdFx0fVxuXG5cdFx0dmFyIGZ1bmNJbnN0YW5jZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGZ1bmNDdG9yJChjb250ZXh0JDIkMCkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGZ1bmNJbnN0YW5jZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghKG9wdGlvbnMucGFyc2VyICYmIGFyZ3MubGVuZ3RoID4gMCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHR2YXIgYm9keSwgcGFyYW1zLCBib2R5U3RyaW5nLCBhc3QsIGNhbGxlZSwgdXNlck5vZGUsIHN0cmljdCwgd3JhcHBlZEZ1bmM7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0Ym9keSA9IGFyZ3MucG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRwYXJhbXMgPSBcIlwiO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShhcmdzLmxlbmd0aCA+IDApKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLm1hcCkoYXJncywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAoYXJnLCBpbmRleCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsKGFyZykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gbnVsbFwiKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChhcmcpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC50MCA9IFwiXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC50MCA9IGNvbnRleHQkNCQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC50MCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMyQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0XHRcdHBhcmFtcyA9IGNvbnRleHQkMyQwLnNlbnQuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyB0aGUgc3BlYyBhbGxvd3MgcGFyYW1ldGVycyB0byBiZSBjb21tYS1kZWxpbWl0ZWQsIHNvIHdlIHdpbGwgam9pbiBhbmQgc3BsaXQgYWdhaW4gY29tbWFcblx0XHRcdFx0XHRcdFx0XHRcdGpvaW4oXCIsXCIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBib2R5KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRcdFx0XHRcdGJvZHlTdHJpbmcgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0YXN0ID0gb3B0aW9ucy5wYXJzZXIoXCIoZnVuY3Rpb24oXCIgKyBwYXJhbXMgKyBcIil7XCIgKyBib2R5U3RyaW5nICsgXCJ9KS5hcHBseSgkdGhpcywkYXJncyk7XCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FsbGVlID0gYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi5jYWxsZWUub2JqZWN0O1xuXHRcdFx0XHRcdFx0XHRcdFx0dXNlck5vZGUgPSBjYWxsZWUuYm9keS5ib2R5O1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RyaWN0ID0gY29udHJhY3RzLmlzU3RyaWN0Tm9kZSh1c2VyTm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR3cmFwcGVkRnVuYyA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB3cmFwcGVkRnVuYygpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHRoaXNBcmcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAkYXJncyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGV4ZWN1dGlvblJlc3VsdCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgIGFyZ3MkNCQwID0gYXJndW1lbnRzO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHdyYXBwZWRGdW5jJChjb250ZXh0JDQkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNCQwLnByZXYgPSBjb250ZXh0JDQkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoZnVuY0luc3RhbmNlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gdGhpcy5ub2RlO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzQXJnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gc3RyaWN0ID8gX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQgOiBnbG9iYWxPYmplY3Q7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5lbnYuY3JlYXRlVmFyaWFibGUoXCIkdGhpc1wiKS5zZXRWYWx1ZSh0aGlzQXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkYXJncyA9IHRoaXMuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoYXJncyQ0JDApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZW52LmNyZWF0ZVZhcmlhYmxlKFwiJGFyZ3NcIikuc2V0VmFsdWUoJGFyZ3MpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoYXN0KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gY29udGV4dCQ0JDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDQkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sIHdyYXBwZWRGdW5jLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHR3cmFwcGVkRnVuYy5uYXRpdmVMZW5ndGggPSBjYWxsZWUucGFyYW1zLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0XHRcdHdyYXBwZWRGdW5jLnN0cmljdCA9IHN0cmljdDtcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmNJbnN0YW5jZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24od3JhcHBlZEZ1bmMsIHVuZGVmaW5lZCwgeyBzdHJpY3Q6IHN0cmljdCB9KTtcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmNJbnN0YW5jZS5iaW5kU2NvcGUoZW52Lmdsb2JhbFNjb3BlKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgX3RoaXMpO1xuXHRcdFx0XHRcdH0pKCksIFwidDBcIiwgMyk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRmdW5jSW5zdGFuY2UgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGZ1bmN0aW9uICgpIHt9KTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cblx0XHRcdFx0XHRmdW5jSW5zdGFuY2UucHV0VmFsdWUoXCJjb25zdHJ1Y3RvclwiLCBmdW5jQ2xhc3MpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZnVuY0luc3RhbmNlKTtcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGZ1bmNDdG9yLCB0aGlzKTtcblx0fSk7XG5cblx0Ly8gdGhlIHByb3RvdHlwZSBvZiBhIGZ1bmN0aW9uIGlzIGFjdHVhbGx5IGNhbGxhYmxlIGFuZCBldmFsdWF0ZXMgYXMgYSBmdW5jdGlvblxuXHR2YXIgcHJvdG8gPSBuZXcgX3R5cGVzTmF0aXZlRnVuY3Rpb25UeXBlLk5hdGl2ZUZ1bmN0aW9uVHlwZShmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdHJldHVybiB0aGlzLnJhaXNlKG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbi5wcm90b3lwZSBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHR9KTtcblxuXHRmdW5jQ3Rvci5uYXRpdmVMZW5ndGggPSAxO1xuXHRmdW5jQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKGZ1bmNDdG9yLCBwcm90bywgZnJvemVuKTtcblx0ZnVuY0NsYXNzLnB1dFZhbHVlKFwiY29uc3RydWN0b3JcIiwgZnVuY0NsYXNzKTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiRnVuY3Rpb25cIiwgZnVuY0NsYXNzKTtcblxuXHRwcm90by5kZWZpbmUoXCJsZW5ndGhcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCksIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuXG5cdGlmIChlbnYub3B0aW9ucy5lY21hVmVyc2lvbiA+IDUpIHtcblx0XHRwcm90by5kZWZpbmUoXCJuYW1lXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiXCIpLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0fVxuXG5cdC8vIGZ1bmN0aW9uIGl0c2VsZiBpcyBhIGZ1bmN0aW9uXG5cdGZ1bmNDbGFzcy5zZXRQcm90b3R5cGUocHJvdG8pO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5ub2RlLm5hdGl2ZSkge1xuXHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiZnVuY3Rpb24gKCkgeyBbbmF0aXZlIGNvZGVdIH1cIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiZnVuY3Rpb24gKCkgeyBbdXNlciBjb2RlXSB9XCIpO1xuXHR9LCAwLCBcIkZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiY2FsbFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh0aGlzQXJnKSB7XG5cdFx0Zm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuXHRcdFx0YXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcblx0XHR9XG5cblx0XHR2YXIgcGFyYW1zLCBjYWxsZWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdHBhcmFtcyA9IHRoaXMubm9kZS5uYXRpdmUgPyBbXSA6IHRoaXMubm9kZS5ub2RlLnBhcmFtcztcblx0XHRcdFx0XHRjYWxsZWUgPSB0aGlzLm5vZGUubmF0aXZlID8gdGhpcy5ub2RlIDogdGhpcy5ub2RlLm5vZGU7XG5cblx0XHRcdFx0XHR0aGlzQXJnID0gZGVmaW5lVGhpcyhlbnYsIHRoaXMubm9kZSwgdGhpc0FyZyk7XG5cdFx0XHRcdFx0dGhpcy5ub2RlLmJpbmRUaGlzKHRoaXNBcmcpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCB0aGlzLm5vZGUsIHBhcmFtcywgYXJncywgdGhpc0FyZywgY2FsbGVlKSwgXCJ0MFwiLCA1KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRnVuY3Rpb24ucHJvdG90eXBlLmNhbGxcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImFwcGx5XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRoaXNBcmcsIGFyZ3NBcnJheSkge1xuXHRcdHZhciBhcmdzLCBwYXJhbXMsIGNhbGxlZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCFhcmdzQXJyYXkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCEoYXJnc0FycmF5LmNsYXNzTmFtZSAhPT0gXCJBcmd1bWVudHNcIiAmJiBhcmdzQXJyYXkuY2xhc3NOYW1lICE9PSBcIkFycmF5XCIgJiYgYXJnc0FycmF5LmNsYXNzTmFtZSAhPT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucmFpc2UobmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyBsaXN0IHdhcyB3cm9uZyB0eXBlXCIpKSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGFyZ3MgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQXJyYXkpKGFyZ3NBcnJheSk7XG5cdFx0XHRcdFx0cGFyYW1zID0gdGhpcy5ub2RlLm5hdGl2ZSA/IFtdIDogdGhpcy5ub2RlLm5vZGUucGFyYW1zO1xuXHRcdFx0XHRcdGNhbGxlZSA9IHRoaXMubm9kZS5uYXRpdmUgPyB0aGlzLm5vZGUgOiB0aGlzLm5vZGUubm9kZTtcblxuXHRcdFx0XHRcdHRoaXNBcmcgPSBkZWZpbmVUaGlzKGVudiwgdGhpcy5ub2RlLCB0aGlzQXJnKTtcblx0XHRcdFx0XHR0aGlzLm5vZGUuYmluZFRoaXModGhpc0FyZyk7XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHRoaXMubm9kZSwgcGFyYW1zLCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUpLCBcInQwXCIsIDkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJiaW5kXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHRoaXNBcmcpIHtcblx0XHRmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG5cdFx0XHRhcmdzW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdO1xuXHRcdH1cblxuXHRcdHZhciBmbiwgcGFyYW1zLCBjYWxsZWUsIG5hdGl2ZUZ1bmMsIGJvdW5kRnVuYywgX3Rocm93ZXI7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Zm4gPSB0aGlzLm5vZGU7XG5cdFx0XHRcdFx0cGFyYW1zID0gZm4ubmF0aXZlID8gW10gOiBmbi5ub2RlLnBhcmFtcztcblx0XHRcdFx0XHRjYWxsZWUgPSBmbi5uYXRpdmUgPyBmbiA6IGZuLm5vZGU7XG5cblx0XHRcdFx0XHR0aGlzQXJnID0gZGVmaW5lVGhpcyhlbnYsIHRoaXMubm9kZSwgdGhpc0FyZyk7XG5cblx0XHRcdFx0XHRuYXRpdmVGdW5jID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIG5hdGl2ZUZ1bmMoKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFkZGl0aW9uYWxBcmdzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcblx0XHRcdFx0XHRcdFx0YWRkaXRpb25hbEFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIG1lcmdlZEFyZ3M7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIG5hdGl2ZUZ1bmMkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0bWVyZ2VkQXJncyA9IGFyZ3MuY29uY2F0KGFkZGl0aW9uYWxBcmdzKTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgZm4sIHBhcmFtcywgbWVyZ2VkQXJncywgdGhpc0FyZywgY2FsbGVlLCB0aGlzLmlzTmV3KSwgXCJ0MFwiLCAyKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAudDApO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIG5hdGl2ZUZ1bmMsIHRoaXMpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0bmF0aXZlRnVuYy5uYXRpdmVMZW5ndGggPSBNYXRoLm1heChwYXJhbXMubGVuZ3RoIC0gYXJncy5sZW5ndGgsIDApO1xuXHRcdFx0XHRcdG5hdGl2ZUZ1bmMuc3RyaWN0ID0gZW52LmlzU3RyaWN0KCkgfHwgIWZuLm5hdGl2ZSAmJiBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGZuLm5vZGUuYm9keS5ib2R5KTtcblxuXHRcdFx0XHRcdGJvdW5kRnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24obmF0aXZlRnVuYyk7XG5cblx0XHRcdFx0XHRib3VuZEZ1bmMuYmluZFNjb3BlKHRoaXMuZW52LmN1cnJlbnQpO1xuXHRcdFx0XHRcdGJvdW5kRnVuYy5iaW5kVGhpcyh0aGlzQXJnKTtcblxuXHRcdFx0XHRcdGlmICghbmF0aXZlRnVuYy5zdHJpY3QpIHtcblx0XHRcdFx0XHRcdGJvdW5kRnVuYy5yZW1vdmUoXCJjYWxsZXJcIik7XG5cdFx0XHRcdFx0XHRib3VuZEZ1bmMucmVtb3ZlKFwiYXJndW1lbnRzXCIpO1xuXG5cdFx0XHRcdFx0XHQvLyB0aGVzZSB3aWxsIGJlIGFkZGVkIGluIHN0cmljdCBtb2RlLCBidXQgc2hvdWxkIGFsd2F5cyBiZSBoZXJlIGZvciBib3VuZCBmdW5jdGlvbnNcblx0XHRcdFx0XHRcdF90aHJvd2VyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVUaHJvd2VyKFwiJ2NhbGxlcicsICdjYWxsZWUnLCBhbmQgJ2FyZ3VtZW50cycgcHJvcGVydGllcyBtYXkgbm90IGJlIGFjY2Vzc2VkIG9uIHN0cmljdCBtb2RlIGZ1bmN0aW9ucyBvciB0aGUgYXJndW1lbnRzIG9iamVjdHMgZm9yIGNhbGxzIHRvIHRoZW1cIik7XG5cblx0XHRcdFx0XHRcdGJvdW5kRnVuYy5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlclwiLCBfdGhyb3dlcik7XG5cdFx0XHRcdFx0XHRib3VuZEZ1bmMuZGVmaW5lT3duUHJvcGVydHkoXCJhcmd1bWVudHNcIiwgX3Rocm93ZXIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYm91bmRGdW5jKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcIikpO1xuXG5cdHZhciB0aHJvd2VyID0gZnVuY3Rpb24gdGhyb3dlcigpIHtcblx0XHRpZiAodGhpcy5pc1N0cmljdCgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ2NhbGxlcicsICdjYWxsZWUnLCBhbmQgJ2FyZ3VtZW50cycgcHJvcGVydGllcyBtYXkgbm90IGJlIGFjY2Vzc2VkIG9uIHN0cmljdCBtb2RlIGZ1bmN0aW9ucyBvciB0aGUgYXJndW1lbnRzIG9iamVjdHMgZm9yIGNhbGxzIHRvIHRoZW1cIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fTtcblxuXHR2YXIgdGhyb3dlckZ1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbih0aHJvd2VyKTtcblxuXHR2YXIgcHJvcCA9IHtcblx0XHRnZXQ6IHRocm93ZXJGdW5jLFxuXHRcdGdldHRlcjogdGhyb3dlcixcblx0XHRzZXQ6IHRocm93ZXJGdW5jLFxuXHRcdHNldHRlcjogdGhyb3dlcixcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRjb25maWd1cmFibGU6IGZhbHNlXG5cdH07XG5cblx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZXJcIiwgcHJvcCwgZmFsc2UsIGVudik7XG5cdHByb3RvLmRlZmluZU93blByb3BlcnR5KFwiY2FsbGVlXCIsIHByb3AsIGZhbHNlLCBlbnYpO1xuXHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShcImFyZ3VtZW50c1wiLCBwcm9wLCBmYWxzZSwgZW52KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF9lbnZSZWZlcmVuY2UgPSByZXF1aXJlKFwiLi4vZW52L3JlZmVyZW5jZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIG9wdGlvbnMgPSBlbnYub3B0aW9ucztcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiSW5maW5pdHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoSW5maW5pdHkpLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIk5hTlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOYU4pLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRbXCJwYXJzZUZsb2F0XCIsIFwiZGVjb2RlVVJJXCIsIFwiZW5jb2RlVVJJXCIsIFwiZGVjb2RlVVJJQ29tcG9uZW50XCIsIFwiZW5jb2RlVVJJQ29tcG9uZW50XCIsIFwiZXNjYXBlXCIsIFwidW5lc2NhcGVcIl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAodmFsdWUpIHtcblx0XHRcdHZhciBzdHJpbmdWYWx1ZTtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHZhbHVlKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQzJDAuc2VudDtcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZ2xvYmFsW25hbWVdKHN0cmluZ1ZhbHVlKSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdH0pLCAxLCBuYW1lKSk7XG5cdH0pO1xuXG5cdFtcImlzTmFOXCIsIFwiaXNGaW5pdGVcIl0uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdGdsb2JhbE9iamVjdC5kZWZpbmUobmFtZSwgKDAsIF91dGlsc05hdGl2ZS50b05hdGl2ZUZ1bmN0aW9uKShlbnYsIGdsb2JhbFtuYW1lXSwgbmFtZSkpO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwicGFyc2VJbnRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodmFsdWUsIHJhZGl4KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB2YWx1ZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCByYWRpeCwgXCJudW1iZXJcIik7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHJhZGl4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHBhcnNlSW50KHN0cmluZ1ZhbHVlLCByYWRpeCkpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJwYXJzZUludFwiKSk7XG5cblx0aWYgKG9wdGlvbnMucGFyc2VyKSB7XG5cdFx0dmFyIGV2YWxGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY29kZSkge1xuXHRcdFx0dmFyIGRpcmVjdENhbGwsIGFzdCwgc3RyaWN0U2NvcGUsIHN0cmljdENvZGUsIGN1cnJlbnRHbG9iYWwsIHNjb3BlLCB0aGlzQXJnLCBleGVjdXRpb25SZXN1bHQ7XG5cdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0aWYgKGNvZGUpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdGlmICghKGNvZGUudHlwZSAhPT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvZGUpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0ZGlyZWN0Q2FsbCA9IHRoaXMuY2FsbGVlIGluc3RhbmNlb2YgX2VudlJlZmVyZW5jZS5SZWZlcmVuY2UgJiYgdGhpcy5jYWxsZWUuYmFzZSA9PT0gZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0YXN0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDY7XG5cblx0XHRcdFx0XHRcdGFzdCA9IG9wdGlvbnMucGFyc2VyKGNvZGUudmFsdWUpO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDEwO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDYpO1xuXG5cdFx0XHRcdFx0XHRpZiAoIShjb250ZXh0JDIkMC50MCBpbnN0YW5jZW9mIFN5bnRheEVycm9yICYmIC9hc3NpZ25pbmcgdG8gcnZhbHVlL2kudGVzdChjb250ZXh0JDIkMC50MC5tZXNzYWdlKSkpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiSW52YWxpZCBsZWZ0LWhhbmQgc2lkZSBpbiBhc3NpZ25tZW50XCIpO1xuXG5cdFx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRcdHRocm93IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRcdHN0cmljdFNjb3BlID0gZW52LmlzU3RyaWN0KCk7XG5cdFx0XHRcdFx0XHRzdHJpY3RDb2RlID0gc3RyaWN0U2NvcGUgfHwgY29udHJhY3RzLmlzU3RyaWN0Tm9kZShhc3QuYm9keSk7XG5cdFx0XHRcdFx0XHRjdXJyZW50R2xvYmFsID0gZW52LmN1cnJlbnQuc2NvcGUucGFyZW50ID09PSBlbnYuZ2xvYmFsU2NvcGUuc2NvcGU7XG5cdFx0XHRcdFx0XHRzY29wZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdFx0Ly8gdXNlIHRoZSBzYW1lIHNjb3BlIHVubGVzcyB0aGlzIGlzIGFuIFwiaW5kaXJlY3RcIiBjYWxsXG5cdFx0XHRcdFx0XHQvLyBpbiB3aGljaCBjYXNlIHdlIHVzZSB0aGUgZ2xvYmFsIHNjb3BlXG5cdFx0XHRcdFx0XHRpZiAoZGlyZWN0Q2FsbCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0Q29kZSkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0U2NvcGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBjdXJyZW50R2xvYmFsID8gZ2xvYmFsT2JqZWN0IDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXNBcmcgPSBlbnYuZ2V0VGhpc0JpbmRpbmcoKSB8fCBnbG9iYWxPYmplY3Q7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUodGhpc0FyZyk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoZW52LmN1cnJlbnQuc2NvcGUucGFyZW50KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoZW52Lmdsb2JhbFNjb3BlLnNjb3BlKTtcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdENvZGUpIHtcblx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5jcmVhdGVTY29wZShnbG9iYWxPYmplY3QpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGFzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0ID8gZXhlY3V0aW9uUmVzdWx0LnJlc3VsdC5nZXRWYWx1ZSgpIDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzYsIDEwXV0pO1xuXHRcdH0pLCAxLCBcImV2YWxcIik7XG5cblx0XHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiZXZhbFwiLCBldmFsRnVuYyk7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIGhhY2sgYmVjYXVzZSBhY29ybiB0aHJvd3Mgc3ludGF4IGVycm9yXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkluTnlZeTlsWTIxaExUVXVNUzluYkc5aVlXeHpMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbHdpZFhObElITjBjbWxqZEZ3aU8xeHVYRzUyWVhJZ1gzSmxaMlZ1WlhKaGRHOXlVblZ1ZEdsdFpTQTlJSEpsY1hWcGNtVW9YQ0ppWVdKbGJDMXlkVzUwYVcxbEwzSmxaMlZ1WlhKaGRHOXlYQ0lwVzF3aVpHVm1ZWFZzZEZ3aVhUdGNibHh1ZG1GeUlGOXBiblJsY205d1VtVnhkV2x5WlZkcGJHUmpZWEprSUQwZ2NtVnhkV2x5WlNoY0ltSmhZbVZzTFhKMWJuUnBiV1V2YUdWc2NHVnljeTlwYm5SbGNtOXdMWEpsY1hWcGNtVXRkMmxzWkdOaGNtUmNJaWxiWENKa1pXWmhkV3gwWENKZE8xeHVYRzVQWW1wbFkzUXVaR1ZtYVc1bFVISnZjR1Z5ZEhrb1pYaHdiM0owY3l3Z1hDSmZYMlZ6VFc5a2RXeGxYQ0lzSUh0Y2JseDBkbUZzZFdVNklIUnlkV1ZjYm4wcE8xeHVYRzUyWVhJZ1gzVjBhV3h6VG1GMGFYWmxJRDBnY21WeGRXbHlaU2hjSWk0dUwzVjBhV3h6TDI1aGRHbDJaVndpS1R0Y2JseHVkbUZ5SUY5MWRHbHNjME52Ym5SeVlXTjBjeUE5SUhKbGNYVnBjbVVvWENJdUxpOTFkR2xzY3k5amIyNTBjbUZqZEhOY0lpazdYRzVjYm5aaGNpQmpiMjUwY21GamRITWdQU0JmYVc1MFpYSnZjRkpsY1hWcGNtVlhhV3hrWTJGeVpDaGZkWFJwYkhORGIyNTBjbUZqZEhNcE8xeHVYRzUyWVhJZ1gyVnVkbEpsWm1WeVpXNWpaU0E5SUhKbGNYVnBjbVVvWENJdUxpOWxibll2Y21WbVpYSmxibU5sWENJcE8xeHVYRzUyWVhJZ1gzUjVjR1Z6VUhKcGJXbDBhWFpsVkhsd1pTQTlJSEpsY1hWcGNtVW9YQ0l1TGk5MGVYQmxjeTl3Y21sdGFYUnBkbVV0ZEhsd1pWd2lLVHRjYmx4dVpYaHdiM0owYzF0Y0ltUmxabUYxYkhSY0lsMGdQU0JtZFc1amRHbHZiaUFvWlc1MktTQjdYRzVjZEhaaGNpQm5iRzlpWVd4UFltcGxZM1FnUFNCbGJuWXVaMnh2WW1Gc08xeHVYSFIyWVhJZ2IySnFaV04wUm1GamRHOXllU0E5SUdWdWRpNXZZbXBsWTNSR1lXTjBiM0o1TzF4dVhIUjJZWElnYjNCMGFXOXVjeUE5SUdWdWRpNXZjSFJwYjI1ek8xeHVYRzVjZEdkc2IySmhiRTlpYW1WamRDNWtaV1pwYm1Vb1hDSkpibVpwYm1sMGVWd2lMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlZCeWFXMXBkR2wyWlNoSmJtWnBibWwwZVNrc0lIc2dZMjl1Wm1sbmRYSmhZbXhsT2lCbVlXeHpaU3dnZDNKcGRHRmliR1U2SUdaaGJITmxJSDBwTzF4dVhIUm5iRzlpWVd4UFltcGxZM1F1WkdWbWFXNWxLRndpVG1GT1hDSXNJRzlpYW1WamRFWmhZM1J2Y25rdVkzSmxZWFJsVUhKcGJXbDBhWFpsS0U1aFRpa3NJSHNnWTI5dVptbG5kWEpoWW14bE9pQm1ZV3h6WlN3Z2QzSnBkR0ZpYkdVNklHWmhiSE5sSUgwcE8xeHVYRzVjZEZ0Y0luQmhjbk5sUm14dllYUmNJaXdnWENKa1pXTnZaR1ZWVWtsY0lpd2dYQ0psYm1OdlpHVlZVa2xjSWl3Z1hDSmtaV052WkdWVlVrbERiMjF3YjI1bGJuUmNJaXdnWENKbGJtTnZaR1ZWVWtsRGIyMXdiMjVsYm5SY0lpd2dYQ0psYzJOaGNHVmNJaXdnWENKMWJtVnpZMkZ3WlZ3aVhTNW1iM0pGWVdOb0tHWjFibU4wYVc5dUlDaHVZVzFsS1NCN1hHNWNkRngwWjJ4dlltRnNUMkpxWldOMExtUmxabWx1WlNodVlXMWxMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlVKMWFXeDBTVzVHZFc1amRHbHZiaWhmY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTG0xaGNtc29ablZ1WTNScGIyNGdZMkZzYkdWbEpESWtNQ2gyWVd4MVpTa2dlMXh1WEhSY2RGeDBkbUZ5SUhOMGNtbHVaMVpoYkhWbE8xeHVYSFJjZEZ4MGNtVjBkWEp1SUY5eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVdWQzSmhjQ2htZFc1amRHbHZiaUJqWVd4c1pXVWtNaVF3SkNoamIyNTBaWGgwSkRNa01Da2dlMXh1WEhSY2RGeDBYSFIzYUdsc1pTQW9NU2tnYzNkcGRHTm9JQ2hqYjI1MFpYaDBKRE1rTUM1d2NtVjJJRDBnWTI5dWRHVjRkQ1F6SkRBdWJtVjRkQ2tnZTF4dVhIUmNkRngwWEhSY2RHTmhjMlVnTURwY2JseDBYSFJjZEZ4MFhIUmNkR052Ym5SbGVIUWtNeVF3TG01bGVIUWdQU0F5TzF4dVhIUmNkRngwWEhSY2RGeDBjbVYwZFhKdUlDZ3dMQ0JmZFhScGJITk9ZWFJwZG1VdWRHOVRkSEpwYm1jcEtHVnVkaXdnZG1Gc2RXVXBPMXh1WEc1Y2RGeDBYSFJjZEZ4MFkyRnpaU0F5T2x4dVhIUmNkRngwWEhSY2RGeDBjM1J5YVc1blZtRnNkV1VnUFNCamIyNTBaWGgwSkRNa01DNXpaVzUwTzF4dVhIUmNkRngwWEhSY2RGeDBjbVYwZFhKdUlHTnZiblJsZUhRa015UXdMbUZpY25Wd2RDaGNJbkpsZEhWeWJsd2lMQ0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlZCeWFXMXBkR2wyWlNobmJHOWlZV3hiYm1GdFpWMG9jM1J5YVc1blZtRnNkV1VwS1NrN1hHNWNibHgwWEhSY2RGeDBYSFJqWVhObElEUTZYRzVjZEZ4MFhIUmNkRngwWTJGelpTQmNJbVZ1WkZ3aU9seHVYSFJjZEZ4MFhIUmNkRngwY21WMGRYSnVJR052Ym5SbGVIUWtNeVF3TG5OMGIzQW9LVHRjYmx4MFhIUmNkRngwZlZ4dVhIUmNkRngwZlN3Z1kyRnNiR1ZsSkRJa01Dd2dkR2hwY3lrN1hHNWNkRngwZlNrc0lERXNJRzVoYldVcEtUdGNibHgwZlNrN1hHNWNibHgwVzF3aWFYTk9ZVTVjSWl3Z1hDSnBjMFpwYm1sMFpWd2lYUzVtYjNKRllXTm9LR1oxYm1OMGFXOXVJQ2h1WVcxbEtTQjdYRzVjZEZ4MFoyeHZZbUZzVDJKcVpXTjBMbVJsWm1sdVpTaHVZVzFsTENBb01Dd2dYM1YwYVd4elRtRjBhWFpsTG5SdlRtRjBhWFpsUm5WdVkzUnBiMjRwS0dWdWRpd2daMnh2WW1Gc1cyNWhiV1ZkTENCdVlXMWxLU2s3WEc1Y2RIMHBPMXh1WEc1Y2RHZHNiMkpoYkU5aWFtVmpkQzVrWldacGJtVW9YQ0p3WVhKelpVbHVkRndpTENCdlltcGxZM1JHWVdOMGIzSjVMbU55WldGMFpVSjFhV3gwU1c1R2RXNWpkR2x2YmloZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExtMWhjbXNvWm5WdVkzUnBiMjRnWTJGc2JHVmxKREVrTUNoMllXeDFaU3dnY21Ga2FYZ3BJSHRjYmx4MFhIUjJZWElnYzNSeWFXNW5WbUZzZFdVN1hHNWNkRngwY21WMGRYSnVJRjl5WldkbGJtVnlZWFJ2Y2xKMWJuUnBiV1V1ZDNKaGNDaG1kVzVqZEdsdmJpQmpZV3hzWldVa01TUXdKQ2hqYjI1MFpYaDBKRElrTUNrZ2UxeHVYSFJjZEZ4MGQyaHBiR1VnS0RFcElITjNhWFJqYUNBb1kyOXVkR1Y0ZENReUpEQXVjSEpsZGlBOUlHTnZiblJsZUhRa01pUXdMbTVsZUhRcElIdGNibHgwWEhSY2RGeDBZMkZ6WlNBd09seHVYSFJjZEZ4MFhIUmNkR052Ym5SbGVIUWtNaVF3TG01bGVIUWdQU0F5TzF4dVhIUmNkRngwWEhSY2RISmxkSFZ5YmlBb01Dd2dYM1YwYVd4elRtRjBhWFpsTG5SdlUzUnlhVzVuS1NobGJuWXNJSFpoYkhWbEtUdGNibHh1WEhSY2RGeDBYSFJqWVhObElESTZYRzVjZEZ4MFhIUmNkRngwYzNSeWFXNW5WbUZzZFdVZ1BTQmpiMjUwWlhoMEpESWtNQzV6Wlc1ME8xeHVYSFJjZEZ4MFhIUmNkR052Ym5SbGVIUWtNaVF3TG01bGVIUWdQU0ExTzF4dVhIUmNkRngwWEhSY2RISmxkSFZ5YmlBb01Dd2dYM1YwYVd4elRtRjBhWFpsTG5SdlVISnBiV2wwYVhabEtTaGxibllzSUhKaFpHbDRMQ0JjSW01MWJXSmxjbHdpS1R0Y2JseHVYSFJjZEZ4MFhIUmpZWE5sSURVNlhHNWNkRngwWEhSY2RGeDBjbUZrYVhnZ1BTQmpiMjUwWlhoMEpESWtNQzV6Wlc1ME8xeHVYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpESWtNQzVoWW5KMWNIUW9YQ0p5WlhSMWNtNWNJaXdnYjJKcVpXTjBSbUZqZEc5eWVTNWpjbVZoZEdWUWNtbHRhWFJwZG1Vb2NHRnljMlZKYm5Rb2MzUnlhVzVuVm1Gc2RXVXNJSEpoWkdsNEtTa3BPMXh1WEc1Y2RGeDBYSFJjZEdOaGMyVWdOenBjYmx4MFhIUmNkRngwWTJGelpTQmNJbVZ1WkZ3aU9seHVYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpESWtNQzV6ZEc5d0tDazdYRzVjZEZ4MFhIUjlYRzVjZEZ4MGZTd2dZMkZzYkdWbEpERWtNQ3dnZEdocGN5azdYRzVjZEgwcExDQXlMQ0JjSW5CaGNuTmxTVzUwWENJcEtUdGNibHh1WEhScFppQW9iM0IwYVc5dWN5NXdZWEp6WlhJcElIdGNibHgwWEhSMllYSWdaWFpoYkVaMWJtTWdQU0J2WW1wbFkzUkdZV04wYjNKNUxtTnlaV0YwWlVKMWFXeDBTVzVHZFc1amRHbHZiaWhmY21WblpXNWxjbUYwYjNKU2RXNTBhVzFsTG0xaGNtc29ablZ1WTNScGIyNGdZMkZzYkdWbEpERWtNQ2hqYjJSbEtTQjdYRzVjZEZ4MFhIUjJZWElnWkdseVpXTjBRMkZzYkN3Z1lYTjBMQ0J6ZEhKcFkzUlRZMjl3WlN3Z2MzUnlhV04wUTI5a1pTd2dZM1Z5Y21WdWRFZHNiMkpoYkN3Z2MyTnZjR1VzSUhSb2FYTkJjbWNzSUdWNFpXTjFkR2x2YmxKbGMzVnNkRHRjYmx4MFhIUmNkSEpsZEhWeWJpQmZjbVZuWlc1bGNtRjBiM0pTZFc1MGFXMWxMbmR5WVhBb1puVnVZM1JwYjI0Z1kyRnNiR1ZsSkRFa01DUW9ZMjl1ZEdWNGRDUXlKREFwSUh0Y2JseDBYSFJjZEZ4MGQyaHBiR1VnS0RFcElITjNhWFJqYUNBb1kyOXVkR1Y0ZENReUpEQXVjSEpsZGlBOUlHTnZiblJsZUhRa01pUXdMbTVsZUhRcElIdGNibHgwWEhSY2RGeDBYSFJqWVhObElEQTZYRzVjZEZ4MFhIUmNkRngwWEhScFppQW9ZMjlrWlNrZ2UxeHVYSFJjZEZ4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRJa01DNXVaWGgwSUQwZ01qdGNibHgwWEhSY2RGeDBYSFJjZEZ4MFluSmxZV3M3WEc1Y2RGeDBYSFJjZEZ4MFhIUjlYRzVjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRJa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2dYM1I1Y0dWelVISnBiV2wwYVhabFZIbHdaUzVWVGtSRlJrbE9SVVFwTzF4dVhHNWNkRngwWEhSY2RGeDBZMkZ6WlNBeU9seHVYSFJjZEZ4MFhIUmNkRngwYVdZZ0tDRW9ZMjlrWlM1MGVYQmxJQ0U5UFNCY0luTjBjbWx1WjF3aUtTa2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzV1WlhoMElEMGdORHRjYmx4MFhIUmNkRngwWEhSY2RGeDBZbkpsWVdzN1hHNWNkRngwWEhSY2RGeDBYSFI5WEc1Y2JseDBYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpESWtNQzVoWW5KMWNIUW9YQ0p5WlhSMWNtNWNJaXdnWTI5a1pTazdYRzVjYmx4MFhIUmNkRngwWEhSallYTmxJRFE2WEc1Y2RGeDBYSFJjZEZ4MFhIUmthWEpsWTNSRFlXeHNJRDBnZEdocGN5NWpZV3hzWldVZ2FXNXpkR0Z1WTJWdlppQmZaVzUyVW1WbVpYSmxibU5sTGxKbFptVnlaVzVqWlNBbUppQjBhR2x6TG1OaGJHeGxaUzVpWVhObElEMDlQU0JuYkc5aVlXeFBZbXBsWTNRN1hHNWNkRngwWEhSY2RGeDBYSFJoYzNRZ1BTQjFibVJsWm1sdVpXUTdYRzVjZEZ4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRJa01DNXdjbVYySUQwZ05qdGNibHh1WEhSY2RGeDBYSFJjZEZ4MFlYTjBJRDBnYjNCMGFXOXVjeTV3WVhKelpYSW9ZMjlrWlM1MllXeDFaU2s3WEc1Y2RGeDBYSFJjZEZ4MFhIUmpiMjUwWlhoMEpESWtNQzV1WlhoMElEMGdNVFU3WEc1Y2RGeDBYSFJjZEZ4MFhIUmljbVZoYXp0Y2JseHVYSFJjZEZ4MFhIUmNkR05oYzJVZ01UQTZYRzVjZEZ4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRJa01DNXdjbVYySUQwZ01UQTdYRzVjZEZ4MFhIUmNkRngwWEhSamIyNTBaWGgwSkRJa01DNTBNQ0E5SUdOdmJuUmxlSFFrTWlRd1cxd2lZMkYwWTJoY0lsMG9OaWs3WEc1Y2JseDBYSFJjZEZ4MFhIUmNkR2xtSUNnaEtHTnZiblJsZUhRa01pUXdMblF3SUdsdWMzUmhibU5sYjJZZ1UzbHVkR0Y0UlhKeWIzSWdKaVlnTDJGemMybG5ibWx1WnlCMGJ5QnlkbUZzZFdVdmFTNTBaWE4wS0dOdmJuUmxlSFFrTWlRd0xuUXdMbTFsYzNOaFoyVXBLU2tnZTF4dVhIUmNkRngwWEhSY2RGeDBYSFJqYjI1MFpYaDBKRElrTUM1dVpYaDBJRDBnTVRRN1hHNWNkRngwWEhSY2RGeDBYSFJjZEdKeVpXRnJPMXh1WEhSY2RGeDBYSFJjZEZ4MGZWeHVYRzVjZEZ4MFhIUmNkRngwWEhSMGFISnZkeUJ1WlhjZ1VtVm1aWEpsYm1ObFJYSnliM0lvWENKSmJuWmhiR2xrSUd4bFpuUXRhR0Z1WkNCemFXUmxJR2x1SUdGemMybG5ibTFsYm5SY0lpazdYRzVjYmx4MFhIUmNkRngwWEhSallYTmxJREUwT2x4dVhIUmNkRngwWEhSY2RGeDBkR2h5YjNjZ1kyOXVkR1Y0ZENReUpEQXVkREE3WEc1Y2JseDBYSFJjZEZ4MFhIUmpZWE5sSURFMU9seHVYSFJjZEZ4MFhIUmNkRngwYzNSeWFXTjBVMk52Y0dVZ1BTQmxibll1YVhOVGRISnBZM1FvS1R0Y2JseDBYSFJjZEZ4MFhIUmNkSE4wY21samRFTnZaR1VnUFNCemRISnBZM1JUWTI5d1pTQjhmQ0JqYjI1MGNtRmpkSE11YVhOVGRISnBZM1JPYjJSbEtHRnpkQzVpYjJSNUtUdGNibHgwWEhSY2RGeDBYSFJjZEdOMWNuSmxiblJIYkc5aVlXd2dQU0JsYm5ZdVkzVnljbVZ1ZEM1elkyOXdaUzV3WVhKbGJuUWdQVDA5SUdWdWRpNW5iRzlpWVd4VFkyOXdaUzV6WTI5d1pUdGNibHgwWEhSY2RGeDBYSFJjZEhOamIzQmxJRDBnZFc1a1pXWnBibVZrTzF4dVhHNWNkRngwWEhSY2RGeDBYSFF2THlCMWMyVWdkR2hsSUhOaGJXVWdjMk52Y0dVZ2RXNXNaWE56SUhSb2FYTWdhWE1nWVc0Z1hDSnBibVJwY21WamRGd2lJR05oYkd4Y2JseDBYSFJjZEZ4MFhIUmNkQzh2SUdsdUlIZG9hV05vSUdOaGMyVWdkMlVnZFhObElIUm9aU0JuYkc5aVlXd2djMk52Y0dWY2JseDBYSFJjZEZ4MFhIUmNkR2xtSUNoa2FYSmxZM1JEWVd4c0tTQjdYRzVjZEZ4MFhIUmNkRngwWEhSY2RHbG1JQ2h6ZEhKcFkzUkRiMlJsS1NCN1hHNWNkRngwWEhSY2RGeDBYSFJjZEZ4MGRHaHBjMEZ5WnlBOUlIVnVaR1ZtYVc1bFpEdGNibHh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkR2xtSUNoemRISnBZM1JUWTI5d1pTa2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwZEdocGMwRnlaeUE5SUdOMWNuSmxiblJIYkc5aVlXd2dQeUJuYkc5aVlXeFBZbXBsWTNRZ09pQmZkSGx3WlhOUWNtbHRhWFJwZG1WVWVYQmxMbFZPUkVWR1NVNUZSRHRjYmx4MFhIUmNkRngwWEhSY2RGeDBYSFI5SUdWc2MyVWdlMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwZEdocGMwRnlaeUE5SUdWdWRpNW5aWFJVYUdselFtbHVaR2x1WnlncElIeDhJR2RzYjJKaGJFOWlhbVZqZER0Y2JseDBYSFJjZEZ4MFhIUmNkRngwWEhSOVhHNWNibHgwWEhSY2RGeDBYSFJjZEZ4MFhIUnpZMjl3WlNBOUlHVnVkaTVqY21WaGRHVlRZMjl3WlNoMGFHbHpRWEpuS1R0Y2JseDBYSFJjZEZ4MFhIUmNkRngwZlNCbGJITmxJSHRjYmx4MFhIUmNkRngwWEhSY2RGeDBYSFJ6WTI5d1pTQTlJR1Z1ZGk1elpYUlRZMjl3WlNobGJuWXVZM1Z5Y21WdWRDNXpZMjl3WlM1d1lYSmxiblFwTzF4dVhIUmNkRngwWEhSY2RGeDBYSFI5WEc1Y2RGeDBYSFJjZEZ4MFhIUjlJR1ZzYzJVZ2UxeHVYSFJjZEZ4MFhIUmNkRngwWEhSelkyOXdaU0E5SUdWdWRpNXpaWFJUWTI5d1pTaGxibll1WjJ4dlltRnNVMk52Y0dVdWMyTnZjR1VwTzF4dVhIUmNkRngwWEhSY2RGeDBYSFJwWmlBb2MzUnlhV04wUTI5a1pTa2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkSE5qYjNCbElEMGdaVzUyTG1OeVpXRjBaVk5qYjNCbEtHZHNiMkpoYkU5aWFtVmpkQ2s3WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkSDFjYmx4MFhIUmNkRngwWEhSY2RIMWNibHh1WEhSY2RGeDBYSFJjZEZ4MFkyOXVkR1Y0ZENReUpEQXVibVY0ZENBOUlESXlPMXh1WEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUhOamIzQmxMblZ6WlNoZmNtVm5aVzVsY21GMGIzSlNkVzUwYVcxbExtMWhjbXNvWm5WdVkzUnBiMjRnWTJGc2JHVmxKRElrTUNncElIdGNibHgwWEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUY5eVpXZGxibVZ5WVhSdmNsSjFiblJwYldVdWQzSmhjQ2htZFc1amRHbHZiaUJqWVd4c1pXVWtNaVF3SkNoamIyNTBaWGgwSkRNa01Da2dlMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkSGRvYVd4bElDZ3hLU0J6ZDJsMFkyZ2dLR052Ym5SbGVIUWtNeVF3TG5CeVpYWWdQU0JqYjI1MFpYaDBKRE1rTUM1dVpYaDBLU0I3WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkRngwWEhSallYTmxJREE2WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkRngwWEhSY2RHTnZiblJsZUhRa015UXdMbTVsZUhRZ1BTQXlPMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwWEhSeVpYUjFjbTRnWlc1MkxtTnlaV0YwWlVWNFpXTjFkR2x2YmtOdmJuUmxlSFFvWVhOMEtTNWxlR1ZqZFhSbEtDazdYRzVjYmx4MFhIUmNkRngwWEhSY2RGeDBYSFJjZEdOaGMyVWdNanBjYmx4MFhIUmNkRngwWEhSY2RGeDBYSFJjZEZ4MGNtVjBkWEp1SUdOdmJuUmxlSFFrTXlRd0xtRmljblZ3ZENoY0luSmxkSFZ5Ymx3aUxDQmpiMjUwWlhoMEpETWtNQzV6Wlc1MEtUdGNibHh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwWTJGelpTQXpPbHh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkRngwWTJGelpTQmNJbVZ1WkZ3aU9seHVYSFJjZEZ4MFhIUmNkRngwWEhSY2RGeDBYSFJ5WlhSMWNtNGdZMjl1ZEdWNGRDUXpKREF1YzNSdmNDZ3BPMXh1WEhSY2RGeDBYSFJjZEZ4MFhIUmNkSDFjYmx4MFhIUmNkRngwWEhSY2RGeDBmU3dnWTJGc2JHVmxKRElrTUN3Z2RHaHBjeWs3WEc1Y2RGeDBYSFJjZEZ4MFhIUjlLU2s3WEc1Y2JseDBYSFJjZEZ4MFhIUmpZWE5sSURJeU9seHVYSFJjZEZ4MFhIUmNkRngwWlhobFkzVjBhVzl1VW1WemRXeDBJRDBnWTI5dWRHVjRkQ1F5SkRBdWMyVnVkRHRjYmx4MFhIUmNkRngwWEhSY2RISmxkSFZ5YmlCamIyNTBaWGgwSkRJa01DNWhZbkoxY0hRb1hDSnlaWFIxY201Y0lpd2daWGhsWTNWMGFXOXVVbVZ6ZFd4MElDWW1JR1Y0WldOMWRHbHZibEpsYzNWc2RDNXlaWE4xYkhRZ1B5QmxlR1ZqZFhScGIyNVNaWE4xYkhRdWNtVnpkV3gwTG1kbGRGWmhiSFZsS0NrZ09pQmZkSGx3WlhOUWNtbHRhWFJwZG1WVWVYQmxMbFZPUkVWR1NVNUZSQ2s3WEc1Y2JseDBYSFJjZEZ4MFhIUmpZWE5sSURJME9seHVYSFJjZEZ4MFhIUmNkR05oYzJVZ1hDSmxibVJjSWpwY2JseDBYSFJjZEZ4MFhIUmNkSEpsZEhWeWJpQmpiMjUwWlhoMEpESWtNQzV6ZEc5d0tDazdYRzVjZEZ4MFhIUmNkSDFjYmx4MFhIUmNkSDBzSUdOaGJHeGxaU1F4SkRBc0lIUm9hWE1zSUZ0Yk5pd2dNVEJkWFNrN1hHNWNkRngwZlNrc0lERXNJRndpWlhaaGJGd2lLVHRjYmx4dVhIUmNkR2RzYjJKaGJFOWlhbVZqZEM1a1pXWnBibVVvWENKbGRtRnNYQ0lzSUdWMllXeEdkVzVqS1R0Y2JseDBmVnh1ZlR0Y2JseHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQmxlSEJ2Y25Selcxd2laR1ZtWVhWc2RGd2lYVHRjYmx4dUx5OGdhR0ZqYXlCaVpXTmhkWE5sSUdGamIzSnVJSFJvY205M2N5QnplVzUwWVhnZ1pYSnliM0lpWFgwPSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBlY21hNTE7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3R5cGVzT2JqZWN0RmFjdG9yeSA9IHJlcXVpcmUoXCIuLi90eXBlcy9vYmplY3QtZmFjdG9yeVwiKTtcblxudmFyIF9udW1iZXIgPSByZXF1aXJlKFwiLi9udW1iZXIvXCIpO1xuXG52YXIgX251bWJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1iZXIpO1xuXG52YXIgX3N0cmluZyA9IHJlcXVpcmUoXCIuL3N0cmluZy9cIik7XG5cbnZhciBfc3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0cmluZyk7XG5cbnZhciBfZnVuY3Rpb24gPSByZXF1aXJlKFwiLi9mdW5jdGlvbi9cIik7XG5cbnZhciBfZnVuY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnVuY3Rpb24pO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdC9cIik7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfYm9vbGVhbiA9IHJlcXVpcmUoXCIuL2Jvb2xlYW4vXCIpO1xuXG52YXIgX2Jvb2xlYW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYm9vbGVhbik7XG5cbnZhciBfZGF0ZSA9IHJlcXVpcmUoXCIuL2RhdGUvXCIpO1xuXG52YXIgX2RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZSk7XG5cbnZhciBfYXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheS9cIik7XG5cbnZhciBfYXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXkpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKFwiLi9tYXRoL1wiKTtcblxudmFyIF9tYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdGgpO1xuXG52YXIgX3JlZ2V4ID0gcmVxdWlyZShcIi4vcmVnZXgvXCIpO1xuXG52YXIgX3JlZ2V4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2V4KTtcblxudmFyIF9lcnJvciA9IHJlcXVpcmUoXCIuL2Vycm9yL1wiKTtcblxudmFyIF9lcnJvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lcnJvcik7XG5cbnZhciBfanNvbiA9IHJlcXVpcmUoXCIuL2pzb24vXCIpO1xuXG52YXIgX2pzb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfanNvbik7XG5cbnZhciBfY29uc29sZSA9IHJlcXVpcmUoXCIuL2NvbnNvbGUvXCIpO1xuXG52YXIgX2NvbnNvbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uc29sZSk7XG5cbnZhciBfZ2xvYmFscyA9IHJlcXVpcmUoXCIuL2dsb2JhbHNcIik7XG5cbnZhciBfZ2xvYmFsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbG9iYWxzKTtcblxudmFyIGZyb3plbiA9IHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9O1xuXG5mdW5jdGlvbiBlY21hNTEoZW52KSB7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3RvcnkgPSBuZXcgX3R5cGVzT2JqZWN0RmFjdG9yeS5PYmplY3RGYWN0b3J5KGVudik7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblxuXHRlbnYuY3JlYXRlT2JqZWN0U2NvcGUoZ2xvYmFsT2JqZWN0KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwidW5kZWZpbmVkXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCBmcm96ZW4pO1xuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwibnVsbFwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLk5VTEwsIGZyb3plbik7XG5cblx0Ly8gdG9kbzogbm9kZSB2cyBicm93c2VyIC0gZG8gd2UgY2FyZT9cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIndpbmRvd1wiLCBnbG9iYWxPYmplY3QsIGZyb3plbik7XG5cblx0KDAsIF9mdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX29iamVjdDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2FycmF5MltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfYm9vbGVhbjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX251bWJlcjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX3N0cmluZzJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2RhdGUyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9yZWdleDJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX21hdGgyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9lcnJvcjJbXCJkZWZhdWx0XCJdKShlbnYpO1xuXHQoMCwgX2pzb24yW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9jb25zb2xlMltcImRlZmF1bHRcIl0pKGVudik7XG5cdCgwLCBfZ2xvYmFsczJbXCJkZWZhdWx0XCJdKShlbnYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBqc29uQXBpO1xudmFyIG1hcmtlZDAkMCA9IFtzZXJpYWxpemVPYmplY3QsIHNlcmlhbGl6ZUFycmF5LCBzZXJpYWxpemUsIGNyZWF0ZVJlcGxhY2VyLCBnZXRTcGFjZXIsIGRlc2VyaWFsaXplXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hc3luY1wiKTtcblxudmFyIHByaW1pdGl2ZXMgPSB7XG5cdFwiU3RyaW5nXCI6IHRydWUsXG5cdFwiTnVtYmVyXCI6IHRydWUsXG5cdFwiQm9vbGVhblwiOiB0cnVlLFxuXHRcIkRhdGVcIjogdHJ1ZVxufTtcblxuZnVuY3Rpb24gZm9ybWF0VmFsdWVzKHZhbHVlcywgZ2FwLCBkZXB0aCkge1xuXHRpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cblx0aWYgKCFnYXApIHtcblx0XHRyZXR1cm4gdmFsdWVzLmpvaW4oXCIsXCIpO1xuXHR9XG5cblx0dmFyIGluZGVudCA9IFwiXFxuXCIgKyBnYXAucmVwZWF0KGRlcHRoKTtcblx0dmFyIGpvaW5lZFZhbHVlcyA9IHZhbHVlcy5qb2luKGluZGVudCArIFwiLFwiKTtcblxuXHQvLyByZW1vdmUgaW5kZW50IG9uIGNsb3Npbmdcblx0cmV0dXJuIGluZGVudCArIGpvaW5lZFZhbHVlcyArIFwiXFxuXCIgKyBnYXAucmVwZWF0KGRlcHRoIC0gMSk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVByaW1pdGl2ZSh2YWx1ZSkge1xuXHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3QoZW52LCBzdGFjaywgb2JqLCByZXBsYWNlciwgZ2FwLCBkZXB0aCkge1xuXHR2YXIgY29sb24sIHZhbHVlcywgdmFsdWUsIHByb3A7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbG9uID0gZ2FwID8gXCI6IFwiIDogXCI6XCI7XG5cdFx0XHRcdHZhbHVlcyA9IFtdO1xuXHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXMob2JqLnByb3BlcnRpZXMpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGlmICgoY29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC50MCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMSQwLnQxLnZhbHVlO1xuXG5cdFx0XHRcdGlmICghb2JqLnByb3BlcnRpZXNbcHJvcF0uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRyZXR1cm4gcmVwbGFjZXIob2JqLCBwcm9wLCBvYmouZ2V0VmFsdWUocHJvcCkpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gdmFsdWVzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MyA9IHNlcmlhbGl6ZVByaW1pdGl2ZShwcm9wKSArIGNvbG9uO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdHJldHVybiBzZXJpYWxpemUoZW52LCBzdGFjaywgdmFsdWUsIHJlcGxhY2VyLCBnYXAsIGRlcHRoKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDQgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NSA9IGNvbnRleHQkMSQwLnQzICsgY29udGV4dCQxJDAudDQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyLnB1c2guY2FsbChjb250ZXh0JDEkMC50MiwgY29udGV4dCQxJDAudDUpO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgXCJ7XCIgKyBmb3JtYXRWYWx1ZXModmFsdWVzLCBnYXAsIGRlcHRoLCBnYXAsIGRlcHRoKSArIFwifVwiKTtcblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUFycmF5KGVudiwgc3RhY2ssIGFyciwgcmVwbGFjZXIsIGdhcCwgZGVwdGgpIHtcblx0dmFyIGxlbmd0aCwgdmFsdWVzLCBpLCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXJpYWxpemVBcnJheSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRsZW5ndGggPSBhcnIuZ2V0VmFsdWUoXCJsZW5ndGhcIikudG9OYXRpdmUoKTtcblx0XHRcdFx0dmFsdWVzID0gW107XG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGlmICghKGkgPCBsZW5ndGgpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCFhcnIuaGFzUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gcmVwbGFjZXIoYXJyLCBTdHJpbmcoaSksIGFyci5nZXRWYWx1ZShpKSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGlmICghY29udHJhY3RzLmlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHVuZGVmaW5lZCBwb3NpdGlvbnMgYXJlIHJlcGxhY2VkIHdpdGggbnVsbFxuXHRcdFx0XHR2YWx1ZXMucHVzaChcIm51bGxcIik7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gdmFsdWVzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdHJldHVybiBzZXJpYWxpemUoZW52LCBzdGFjaywgdmFsdWUsIHJlcGxhY2VyKTtcblxuXHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MC5wdXNoLmNhbGwoY29udGV4dCQxJDAudDAsIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgXCJbXCIgKyBmb3JtYXRWYWx1ZXModmFsdWVzLCBnYXAsIGRlcHRoKSArIFwiXVwiKTtcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShlbnYsIHN0YWNrLCBvYmosIHJlcGxhY2VyLCBnYXAsIGRlcHRoKSB7XG5cdHZhciBqc29uU3RyaW5nLCBqc29uUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHNlcmlhbGl6ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAob2JqKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHNlcmlhbGl6ZVByaW1pdGl2ZSgpKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRpZiAoIShvYmouaXNQcmltaXRpdmUgfHwgb2JqLmNsYXNzTmFtZSBpbiBwcmltaXRpdmVzKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBzZXJpYWxpemVQcmltaXRpdmUob2JqLnZhbHVlKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0aWYgKCEob2JqLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB1bmRlZmluZWQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkoZW52LCBvYmosIFwidG9KU09OXCIpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGpzb25TdHJpbmcgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghanNvblN0cmluZykge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgc2VyaWFsaXplUHJpbWl0aXZlKGpzb25TdHJpbmcudmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0aWYgKCEoc3RhY2suaW5kZXhPZihvYmopID49IDApKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT05cIik7XG5cblx0XHRcdGNhc2UgMTM6XG5cblx0XHRcdFx0ZGVwdGgrKztcblx0XHRcdFx0c3RhY2sucHVzaChvYmopO1xuXG5cdFx0XHRcdGpzb25SZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCEob2JqLmNsYXNzTmFtZSA9PT0gXCJBcnJheVwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxOTtcblx0XHRcdFx0cmV0dXJuIHNlcmlhbGl6ZUFycmF5KGVudiwgc3RhY2ssIG9iaiwgcmVwbGFjZXIpO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRqc29uUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI1O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplT2JqZWN0KGVudiwgc3RhY2ssIG9iaiwgcmVwbGFjZXIsIGdhcCwgZGVwdGgpO1xuXG5cdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRqc29uUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0Y2FzZSAyNTpcblxuXHRcdFx0XHRkZXB0aC0tO1xuXHRcdFx0XHRzdGFjay5wb3AoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBqc29uUmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAyODpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlcGxhY2VyKGVudiwgcmVwbGFjZXIpIHtcblx0dmFyIF9yZXQ7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjcmVhdGVSZXBsYWNlciQoY29udGV4dCQxJDApIHtcblx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFyZXBsYWNlcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEocmVwbGFjZXIuY2xhc3NOYW1lID09PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGhvbGRlciwga2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdHZhciBhcmdzLCBwYXJhbXMsIGNhbGxlZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0YXJncyA9IFtlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoa2V5KSwgdmFsdWVdO1xuXHRcdFx0XHRcdFx0XHRcdHBhcmFtcyA9IHJlcGxhY2VyLm5hdGl2ZSA/IFtdIDogcmVwbGFjZXIubm9kZS5wYXJhbXM7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGVlID0gcmVwbGFjZXIubmF0aXZlID8gcmVwbGFjZXIgOiByZXBsYWNlci5ub2RlO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIHJlcGxhY2VyLCBwYXJhbXMsIGFyZ3MsIGhvbGRlciwgY2FsbGVlKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aWYgKCEocmVwbGFjZXIuY2xhc3NOYW1lID09PSBcIkFycmF5XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHR2YXIga2V5cztcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkoKDAsIF91dGlsc05hdGl2ZS50b0FycmF5KShyZXBsYWNlciksIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZy5jbGFzc05hbWUgPT09IFwiU3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDMkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGFyZy5jbGFzc05hbWUgPT09IFwiTnVtYmVyXCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBhcmcpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAudDAgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcoY29udGV4dCQzJDAudDApKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRcdFx0XHRrZXlzID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2OiBmdW5jdGlvbiAoaG9sZGVyLCBrZXksIHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFsbG93IGVtcHR5IGtleSAtIHRoaXMgd2lsbCBiZSBmcm9tIHRoZSByb290XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICgha2V5IHx8IGtleXMuaW5kZXhPZihrZXkpID49IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgX3RoaXMpO1xuXHRcdFx0XHR9KSgpLCBcInQwXCIsIDUpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdF9yZXQgPSBjb250ZXh0JDEkMC50MDtcblxuXHRcdFx0XHRpZiAoISh0eXBlb2YgX3JldCA9PT0gXCJvYmplY3RcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3JldC52KTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGZ1bmN0aW9uIChob2xkZXIsIGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbM10sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXRTcGFjZXIoZW52LCBzcGFjZXIpIHtcblx0dmFyIGNvdW50LCBnYXA7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0U3BhY2VyJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghc3BhY2VyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEoc3BhY2VyLmNsYXNzTmFtZSA9PT0gXCJOdW1iZXJcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IE1hdGg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBzcGFjZXIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y291bnQgPSBjb250ZXh0JDEkMC50MC5mbG9vci5jYWxsKGNvbnRleHQkMSQwLnQwLCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdFx0Y291bnQgPSBNYXRoLm1heChNYXRoLm1pbigxMCwgY291bnQpLCAwKTtcblxuXHRcdFx0XHRpZiAoIShjb3VudCA+IDApKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIiBcIi5yZXBlYXQoY291bnQpKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcIlwiKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0aWYgKCEoc3BhY2VyLmNsYXNzTmFtZSA9PT0gXCJTdHJpbmdcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHNwYWNlcik7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdGdhcCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZ2FwLnN1YnN0cigwLCAxMCkpO1xuXG5cdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIFwiXCIpO1xuXG5cdFx0XHRjYXNlIDE3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzRdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzZXJpYWxpemUoZW52LCB2YWx1ZSwgcmV2aXZlcikge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSwgdmFsdWVUeXBlLCBhcnIsIGksIGxuLCBlbGVtZW50LCBlbGVtZW50VmFsdWUsIG9iaiwgcHJvcFZhbHVlLCBwcm9wO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGRlc2VyaWFsaXplJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0dmFsdWVUeXBlID0gY29udHJhY3RzLmdldFR5cGUodmFsdWUpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IHZhbHVlVHlwZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IGNvbnRleHQkMSQwLnQwID09PSBcIlVuZGVmaW5lZFwiID8gNSA6IGNvbnRleHQkMSQwLnQwID09PSBcIk51bGxcIiA/IDUgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJTdHJpbmdcIiA/IDUgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJOdW1iZXJcIiA/IDUgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJCb29sZWFuXCIgPyA1IDogY29udGV4dCQxJDAudDAgPT09IFwiQXJyYXlcIiA/IDYgOiAzMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZSh2YWx1ZVR5cGUsIHZhbHVlKSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0YXJyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblx0XHRcdFx0aSA9IDAsIGxuID0gdmFsdWUubGVuZ3RoO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGlmICghKGkgPCBsbikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbGVtZW50ID0gdmFsdWVbaV07XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gYXJyO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MiA9IFN0cmluZyhpKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRyZXR1cm4gZGVzZXJpYWxpemUoZW52LCBlbGVtZW50LCByZXZpdmVyKTtcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDMgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdHJldHVybiByZXZpdmVyKGNvbnRleHQkMSQwLnQxLCBjb250ZXh0JDEkMC50MiwgY29udGV4dCQxJDAudDMpO1xuXG5cdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRlbGVtZW50VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmIChjb250cmFjdHMuaXNVbmRlZmluZWQoZWxlbWVudFZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ0ID0gYXJyO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NSA9IGk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMztcblx0XHRcdFx0cmV0dXJuIGRlc2VyaWFsaXplKGVudiwgZWxlbWVudCk7XG5cblx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ2ID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDcgPSB7XG5cdFx0XHRcdFx0dmFsdWU6IGNvbnRleHQkMSQwLnQ2LFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQ4ID0gZW52O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NC5kZWZpbmVPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHQkMSQwLnQ0LCBjb250ZXh0JDEkMC50NSwgY29udGV4dCQxJDAudDcsIHRydWUsIGNvbnRleHQkMSQwLnQ4KTtcblxuXHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0b2JqID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0cHJvcFZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50OSA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyh2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdGlmICgoY29udGV4dCQxJDAudDEwID0gY29udGV4dCQxJDAudDkoKSkuZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0ODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHByb3AgPSBjb250ZXh0JDEkMC50MTAudmFsdWU7XG5cblx0XHRcdFx0aWYgKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Njtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxMSA9IG9iajtcblx0XHRcdFx0Y29udGV4dCQxJDAudDEyID0gcHJvcDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRyZXR1cm4gZGVzZXJpYWxpemUoZW52LCB2YWx1ZVtwcm9wXSwgcmV2aXZlcik7XG5cblx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxMyA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0NDtcblx0XHRcdFx0cmV0dXJuIHJldml2ZXIoY29udGV4dCQxJDAudDExLCBjb250ZXh0JDEkMC50MTIsIGNvbnRleHQkMSQwLnQxMyk7XG5cblx0XHRcdGNhc2UgNDQ6XG5cdFx0XHRcdHByb3BWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQocHJvcFZhbHVlKSkge1xuXHRcdFx0XHRcdG9iai5kZWZpbmVPd25Qcm9wZXJ0eShwcm9wLCB7IHZhbHVlOiBwcm9wVmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRjYXNlIDQ2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDQ4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iaik7XG5cblx0XHRcdGNhc2UgNDk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZXZpdmVyKGVudiwgcmV2aXZlcikge1xuXHRpZiAocmV2aXZlciAmJiByZXZpdmVyLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiKSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGhvbGRlciwga2V5LCB2YWx1ZSkge1xuXHRcdFx0dmFyIGFyZ3MsIHBhcmFtcywgY2FsbGVlO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGFyZ3MgPSBbZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGtleSksIHZhbHVlXTtcblx0XHRcdFx0XHRcdHBhcmFtcyA9IHJldml2ZXIubmF0aXZlID8gW10gOiByZXZpdmVyLm5vZGUucGFyYW1zO1xuXHRcdFx0XHRcdFx0Y2FsbGVlID0gcmV2aXZlci5uYXRpdmUgPyByZXZpdmVyIDogcmV2aXZlci5ub2RlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCByZXZpdmVyLCBwYXJhbXMsIGFyZ3MsIGhvbGRlciwgY2FsbGVlKSwgXCJ0MFwiLCA0KTtcblxuXHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChob2xkZXIsIGtleSwgdmFsdWUpIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH07XG59XG5cbmZ1bmN0aW9uIGpzb25BcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBqc29uQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZU9iamVjdCgpO1xuXHRqc29uQ2xhc3MuY2xhc3NOYW1lID0gXCJKU09OXCI7XG5cblx0anNvbkNsYXNzLmRlZmluZShcInN0cmluZ2lmeVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChvYmosIHJlcGxhY2VyLCBzcGFjZXIpIHtcblx0XHR2YXIgc3RhY2s7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiBjcmVhdGVSZXBsYWNlcihlbnYsIHJlcGxhY2VyKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0cmVwbGFjZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiBnZXRTcGFjZXIoZW52LCBzcGFjZXIpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRzcGFjZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiByZXBsYWNlcihvYmosIFwiXCIsIG9iaik7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdG9iaiA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChvYmopKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHN0YWNrID0gW107XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRyZXR1cm4gc2VyaWFsaXplKGVudiwgc3RhY2ssIG9iaiwgcmVwbGFjZXIsIHNwYWNlciwgMCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC50MC5jcmVhdGVQcmltaXRpdmUuY2FsbChjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDMsIFwiSlNPTi5zdHJpbmdpZnlcIikpO1xuXG5cdGpzb25DbGFzcy5kZWZpbmUoXCJwYXJzZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdHIsIHJldml2ZXIpIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIHBhcnNlZE9iamVjdCwgZGVzZXJpYWxpemVkT2JqZWN0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXZpdmVyID0gY3JlYXRlUmV2aXZlcihlbnYsIHJldml2ZXIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgc3RyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHBhcnNlZE9iamVjdCA9IEpTT04ucGFyc2Uoc3RyaW5nVmFsdWUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdHJldHVybiBkZXNlcmlhbGl6ZShlbnYsIHBhcnNlZE9iamVjdCwgcmV2aXZlcik7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdGRlc2VyaWFsaXplZE9iamVjdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiByZXZpdmVyKGRlc2VyaWFsaXplZE9iamVjdCwgXCJcIiwgZGVzZXJpYWxpemVkT2JqZWN0KSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIkpTT04ucGFyc2VcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJKU09OXCIsIGpzb25DbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHRoZXNlIGFyZSB0aGUgb25seSB0eXBlcyBzdXBwb3J0ZWQgYnkgSlNPTi5wYXJzZSAtIHNhZCBmYWNlLi4uXG5cbi8vIHJ1biBhdCB0aGUgdG9wIHZhbHVlIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1hdGhBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgY29uc3RhbnRzID0gW1wiRVwiLCBcIkxOMTBcIiwgXCJMTjJcIiwgXCJMT0cxMEVcIiwgXCJMT0cyRVwiLCBcIlBJXCIsIFwiU1FSVDFfMlwiLCBcIlNRUlQyXCJdO1xudmFyIG1ldGhvZHMgPSBbXCJhYnNcIiwgXCJhY29zXCIsIFwiYXNpblwiLCBcImF0YW5cIiwgXCJhdGFuMlwiLCBcImNlaWxcIiwgXCJjb3NcIiwgXCJleHBcIiwgXCJmbG9vclwiLCBcImxvZ1wiLCBcIm1heFwiLCBcIm1pblwiLCBcInBvd1wiLCBcInJhbmRvbVwiLCBcInJvdW5kXCIsIFwic2luXCIsIFwic3FydFwiLCBcInRhblwiXTtcblxuZnVuY3Rpb24gbWF0aEFwaShlbnYpIHtcblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIG1hdGhDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdG1hdGhDbGFzcy5jbGFzc05hbWUgPSBcIk1hdGhcIjtcblxuXHRjb25zdGFudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdG1hdGhDbGFzcy5kZWZpbmUobmFtZSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTWF0aFtuYW1lXSksIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0fSk7XG5cblx0bWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0bWF0aENsYXNzLmRlZmluZShuYW1lLCAoMCwgX3V0aWxzTmF0aXZlLnRvTmF0aXZlRnVuY3Rpb24pKGVudiwgTWF0aFtuYW1lXSwgXCJNYXRoLlwiICsgbmFtZSkpO1xuXHR9KTtcblxuXHRnbG9iYWxPYmplY3QuZGVmaW5lKFwiTWF0aFwiLCBtYXRoQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBudW1iZXJBcGk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBjb25zdGFudHMgPSBbXCJNQVhfVkFMVUVcIiwgXCJNSU5fVkFMVUVcIiwgXCJOYU5cIiwgXCJORUdBVElWRV9JTkZJTklUWVwiLCBcIlBPU0lUSVZFX0lORklOSVRZXCJdO1xudmFyIHByb3RvTWV0aG9kcyA9IFtcInRvRXhwb25lbnRpYWxcIiwgXCJ0b1ByZWNpc2lvblwiLCBcInRvTG9jYWxlU3RyaW5nXCJdO1xuXG5mdW5jdGlvbiBudW1iZXJBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciBudW1iZXJDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqKSB7XG5cdFx0dmFyIG51bWJlclZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1ByaW1pdGl2ZSkoZW52LCBvYmosIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0bnVtYmVyVmFsdWUgPSBOdW1iZXIoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKCF0aGlzLmlzTmV3KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgKDAsIF91dGlsc05hdGl2ZS5wcmltaXRpdmVUb09iamVjdCkoZW52LCBudW1iZXJWYWx1ZSkpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiTnVtYmVyXCIsIG51bWJlclZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHR2YXIgcHJvdG8gPSBudW1iZXJDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJOdW1iZXJcIjtcblx0cHJvdG8udmFsdWUgPSAwO1xuXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHJhZGl4KSB7XG5cdFx0dmFyIHJhZGl4VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIk51bWJlclwiLCBcIk51bWJlci5wcm90b3R5cGUudG9TdHJpbmdcIik7XG5cblx0XHRcdFx0XHRyYWRpeFZhbHVlID0gMTA7XG5cblx0XHRcdFx0XHRpZiAoIXJhZGl4KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHJhZGl4LCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0cmFkaXhWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShyYWRpeFZhbHVlIDwgMiB8fCByYWRpeFZhbHVlID4gMzYpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgUmFuZ2VFcnJvcihcInRvU3RyaW5nKCkgcmFkaXggYXJndW1lbnQgbXVzdCBiZSBiZXR3ZWVuIDIgYW5kIDM2XCIpKSk7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5ub2RlLnZhbHVlID09IG51bGwgPyBcIjBcIiA6IHRoaXMubm9kZS52YWx1ZS50b1N0cmluZyhyYWRpeFZhbHVlKSkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIk51bWJlci5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRvRml4ZWRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZnJhY3Rpb25EaWdpdHMpIHtcblx0XHR2YXIgZGlnaXRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJOdW1iZXJcIiwgXCJOdW1iZXIucHJvdG90eXBlLnRvRml4ZWRcIik7XG5cblx0XHRcdFx0XHRkaWdpdHMgPSAwO1xuXG5cdFx0XHRcdFx0aWYgKCFmcmFjdGlvbkRpZ2l0cykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b051bWJlcikoZW52LCBmcmFjdGlvbkRpZ2l0cyk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGRpZ2l0cyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkLmNhbGwodGhpcy5ub2RlLnZhbHVlLCBkaWdpdHMpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiTnVtYmVyLnByb3RvdHlwZS50b0ZpeGVkXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJ2YWx1ZU9mXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJOdW1iZXJcIiwgXCJOdW1iZXIucHJvdG90eXBlLnZhbHVlT2ZcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZSA9PSBudWxsID8gMCA6IHRoaXMubm9kZS52YWx1ZSk7XG5cdH0sIDAsIFwiTnVtYmVyLnByb3RvdHlwZS52YWx1ZU9mXCIpKTtcblxuXHRjb25zdGFudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdG51bWJlckNsYXNzLmRlZmluZShuYW1lLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShOdW1iZXJbbmFtZV0pLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cdH0pO1xuXG5cdHByb3RvTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0dmFyIGZuID0gTnVtYmVyLnByb3RvdHlwZVtuYW1lXTtcblx0XHRpZiAoZm4pIHtcblx0XHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBtZXRob2ROYW1lID0gXCJOdW1iZXIucHJvdG90eXBlLlwiICsgbmFtZTtcblx0XHRcdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3RHZW5lcmljKHRoaXMubm9kZSwgXCJOdW1iZXJcIiwgbWV0aG9kTmFtZSk7XG5cdFx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZuLmNhbGwodGhpcy5ub2RlLnZhbHVlKSk7XG5cdFx0XHRcdH0sIGZuLmxlbmd0aCwgbWV0aG9kTmFtZSkpO1xuXHRcdFx0fSkoKTtcblx0XHR9XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJOdW1iZXJcIiwgbnVtYmVyQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBvYmplY3RBcGk7XG52YXIgbWFya2VkMCQwID0gW2RlZmluZVByb3BlcnR5XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc09iamVjdFR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uLy4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9mdW5jXCIpO1xuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcblx0aWYgKCFvYmopIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAob2JqLmlzUHJpbWl0aXZlKSB7XG5cdFx0cmV0dXJuIG9iai52YWx1ZSAmJiBvYmoudHlwZSA9PT0gXCJvYmplY3RcIjtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShlbnYsIG9iaiwgbmFtZSwgZGVzY3JpcHRvcikge1xuXHR2YXIgc3RyaW5nVmFsdWUsIG9wdGlvbnM7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkkKGNvbnRleHQkMSQwKSB7XG5cdFx0dmFyIF90aGlzMiA9IHRoaXM7XG5cblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoaXNPYmplY3QoZGVzY3JpcHRvcikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBkZXNjcmlwdG9yKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0b3B0aW9ucyA9IHt9O1xuXG5cdFx0XHRcdGlmICghZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0dmFyIGhhc1ZhbHVlLCBoYXNHZXR0ZXIsIGhhc1NldHRlciwgY3VycmVudFNjb3BlO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRoYXNWYWx1ZSA9IGRlc2NyaXB0b3IuaGFzUHJvcGVydHkoXCJ2YWx1ZVwiKTtcblx0XHRcdFx0XHRcdFx0XHRoYXNHZXR0ZXIgPSBkZXNjcmlwdG9yLmhhc1Byb3BlcnR5KFwiZ2V0XCIpO1xuXHRcdFx0XHRcdFx0XHRcdGhhc1NldHRlciA9IGRlc2NyaXB0b3IuaGFzUHJvcGVydHkoXCJzZXRcIik7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoISgoaGFzVmFsdWUgfHwgZGVzY3JpcHRvci5oYXNQcm9wZXJ0eShcIndyaXRhYmxlXCIpKSAmJiAoaGFzR2V0dGVyIHx8IGhhc1NldHRlcikpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHByb3BlcnR5LiBBIHByb3BlcnR5IGNhbm5vdCBib3RoIGhhdmUgYWNjZXNzb3JzIGFuZCBiZSB3cml0YWJsZSBvciBoYXZlIGEgdmFsdWVcIik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXG5cdFx0XHRcdFx0XHRcdFx0W1wid3JpdGFibGVcIiwgXCJlbnVtZXJhYmxlXCIsIFwiY29uZmlndXJhYmxlXCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChkZXNjcmlwdG9yLmhhc1Byb3BlcnR5KHByb3ApKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBhdHRyVmFsdWUgPSBkZXNjcmlwdG9yLmdldFZhbHVlKHByb3ApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zW3Byb3BdID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGF0dHJWYWx1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50U2NvcGUgPSBlbnYuY3VycmVudC5zY29wZTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghaGFzR2V0dGVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5kZWxlZ2F0ZVlpZWxkKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGdldHRlciwgc3RyaW5nVmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0dGVyID0gZGVzY3JpcHRvci5nZXRWYWx1ZShcImdldFwiKSB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoZ2V0dGVyLmlzUHJpbWl0aXZlICYmIGdldHRlci52YWx1ZSA9PT0gdW5kZWZpbmVkKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuZ2V0ID0gb3B0aW9ucy5nZXR0ZXIgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKGdldHRlci5jbGFzc05hbWUgIT09IFwiRnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBnZXR0ZXIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDMkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkdldHRlciBtdXN0IGJlIGEgZnVuY3Rpb246IFwiICsgc3RyaW5nVmFsdWUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5nZXQgPSBnZXR0ZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLmdldHRlciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2NvcGUsIHRoaXNBcmc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDMkMCQoY29udGV4dCQ0JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZSA9IGVudi5zZXRTY29wZShjdXJyZW50U2NvcGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzQXJnID0gZ2V0dGVyLmlzU3RyaWN0KCkgPyB0aGlzIDogKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQ0JDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGdldFJlc3VsdDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQ0JDAkKGNvbnRleHQkNSQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDUkMC5wcmV2ID0gY29udGV4dCQ1JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ1JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmNhbGwpKGVudiwgZ2V0dGVyLCBnZXR0ZXIubm9kZS5wYXJhbXMsIFtdLCB0aGlzQXJnLCBnZXR0ZXIubm9kZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGdldFJlc3VsdCA9IGNvbnRleHQkNSQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNSQwLmFicnVwdChcInJldHVyblwiLCBnZXRSZXN1bHQgJiYgZ2V0UmVzdWx0LmV4aXQgPyBnZXRSZXN1bHQucmVzdWx0LmdldFZhbHVlKCkgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNSQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkNCQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQ0JDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQyJDAsIF90aGlzKTtcblx0XHRcdFx0XHRcdFx0XHR9KSgpLCBcInQwXCIsIDkpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWhhc1NldHRlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmRlbGVnYXRlWWllbGQoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgc2V0dGVyLCBzdHJpbmdWYWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQzJDAucHJldiA9IGNvbnRleHQkMyQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXR0ZXIgPSBkZXNjcmlwdG9yLmdldFZhbHVlKFwic2V0XCIpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShzZXR0ZXIuaXNQcmltaXRpdmUgJiYgc2V0dGVyLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5zZXQgPSBvcHRpb25zLnNldHRlciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCEoc2V0dGVyLmNsYXNzTmFtZSAhPT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHNldHRlcik7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbjogXCIgKyBzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLnNldCA9IHNldHRlcjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMuc2V0dGVyID0gX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQzJDAodmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNjb3BlLCB0aGlzQXJnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuc2V0U2NvcGUoY3VycmVudFNjb3BlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpc0FyZyA9IHNldHRlci5pc1N0cmljdCgpID8gdGhpcyA6ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkNCQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkNCQwKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDQkMCQoY29udGV4dCQ1JDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkNSQwLnByZXYgPSBjb250ZXh0JDUkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDUkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCBzZXR0ZXIsIHNldHRlci5ub2RlLnBhcmFtcywgW3ZhbHVlXSwgdGhpc0FyZywgc2V0dGVyLm5vZGUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ1JDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ1JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQ0JDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDMkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgX3RoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdH0pKCksIFwidDFcIiwgMTEpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTE6XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGFzVmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMudmFsdWUgPSBkZXNjcmlwdG9yLmdldFZhbHVlKFwidmFsdWVcIikgfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIF90aGlzMik7XG5cdFx0XHRcdH0pKCksIFwidDBcIiwgOCk7XG5cblx0XHRcdGNhc2UgODpcblxuXHRcdFx0XHRvYmouZGVmaW5lT3duUHJvcGVydHkobmFtZSwgb3B0aW9ucywgdHJ1ZSwgZW52KTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0QXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgcHJvdG8gPSBuZXcgX3R5cGVzT2JqZWN0VHlwZS5PYmplY3RUeXBlKCk7XG5cdHZhciBvYmplY3RDbGFzcyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAodmFsdWUuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0aWYgKHZhbHVlLnZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBvYmplY3RXcmFwcGVyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodmFsdWUudmFsdWUpO1xuXHRcdFx0XHRvYmplY3RXcmFwcGVyLnR5cGUgPSBcIm9iamVjdFwiO1xuXHRcdFx0XHRvYmplY3RXcmFwcGVyLmlzUHJpbWl0aXZlID0gZmFsc2U7XG5cdFx0XHRcdHJldHVybiBvYmplY3RXcmFwcGVyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluIGp1c3QgcmV0dXJuXG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdH0sIHByb3RvLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaGFzT3duUHJvcGVydHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobmFtZSkge1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBuYW1lKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bmFtZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShuYW1lIGluIHRoaXMubm9kZS5wcm9wZXJ0aWVzKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0fSwgMCwgXCJPYmplY3QucHJvdG90eXBlLnZhbHVlT2ZcIikpO1xuXG5cdHZhciB0b1N0cmluZ0Z1bmMgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSA9IHRoaXMubm9kZSA/IHRoaXMubm9kZS5jbGFzc05hbWUgOiBcIlVuZGVmaW5lZFwiO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShcIltvYmplY3QgXCIgKyBjbGFzc05hbWUgKyBcIl1cIik7XG5cdH0sIDAsIFwiT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1wiKTtcblxuXHQvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID09PSBPYmplY3QucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nXG5cdHByb3RvLmRlZmluZShcInRvU3RyaW5nXCIsIHRvU3RyaW5nRnVuYyk7XG5cdHByb3RvLmRlZmluZShcInRvTG9jYWxlU3RyaW5nXCIsIHRvU3RyaW5nRnVuYyk7XG5cblx0cHJvdG8uZGVmaW5lKFwiaXNQcm90b3R5cGVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0dmFyIGN1cnJlbnQgPSBvYmo7XG5cdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdGlmICh0aGlzLm5vZGUgPT09IGN1cnJlbnQpIHtcblx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRydWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHR9LCAxLCBcIk9iamVjdC5pc1Byb3RvdHlwZU9mXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChuYW1lKSB7XG5cdFx0dmFyIGRlc2NyaXB0b3I7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIG5hbWUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRuYW1lID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRkZXNjcmlwdG9yID0gdGhpcy5ub2RlLmdldE93blByb3BlcnR5KG5hbWUpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoISEoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGUpKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJjcmVhdGVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocGFyZW50LCBkZXNjcmlwdG9ycykge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgb2JqLCBwcm9wO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShwYXJlbnQgJiYgcGFyZW50LmlzUHJpbWl0aXZlICYmIHBhcmVudC52YWx1ZSAhPT0gbnVsbCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgcGFyZW50KTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiT2JqZWN0IHByb3RvdHlwZSBtYXkgb25seSBiZSBhbiBPYmplY3Qgb3IgbnVsbDogXCIgKyBzdHJpbmdWYWx1ZSkpKTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0aWYgKCEoZGVzY3JpcHRvcnMgJiYgZGVzY3JpcHRvcnMuaXNQcmltaXRpdmUgJiYgZGVzY3JpcHRvcnMudmFsdWUgPT09IG51bGwpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yYWlzZShuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgbnVsbCBvciB1bmRlZmluZWQgdG8gb2JqZWN0XCIpKSk7XG5cblx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdG9iaiA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0XHRcdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdFx0XHRvYmouc2V0UHJvdG90eXBlKHBhcmVudCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFkZXNjcmlwdG9ycykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXMoZGVzY3JpcHRvcnMucHJvcGVydGllcyk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0XHRpZiAoKGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAudDAoKSkuZG9uZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cHJvcCA9IGNvbnRleHQkMiQwLnQxLnZhbHVlO1xuXG5cdFx0XHRcdFx0aWYgKCFkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzW3Byb3BdLmVudW1lcmFibGUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNjtcblx0XHRcdFx0XHRyZXR1cm4gZGVmaW5lUHJvcGVydHkoZW52LCBvYmosIHByb3AsIGRlc2NyaXB0b3JzLmdldFZhbHVlKHByb3ApKTtcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqKTtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiT2JqZWN0LmNyZWF0ZVwiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZGVmaW5lUHJvcGVydHlcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqLCBwcm9wLCBkZXNjcmlwdG9yKSB7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmosIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5XCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBlbnY7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBvYmo7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgcHJvcCk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQyID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MyA9IGRlc2NyaXB0b3I7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0cmV0dXJuIGRlZmluZVByb3BlcnR5KGNvbnRleHQkMiQwLnQwLCBjb250ZXh0JDIkMC50MSwgY29udGV4dCQyJDAudDIsIGNvbnRleHQkMiQwLnQzKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMywgXCJPYmplY3QuZGVmaW5lUHJvcGVydHlcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImRlZmluZVByb3BlcnRpZXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAob2JqLCBkZXNjcmlwdG9ycykge1xuXHRcdHZhciBwcm9wO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3Qob2JqLCBcIk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXCIpO1xuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRBcmdJc05vdE51bGxPclVuZGVmaW5lZChkZXNjcmlwdG9ycyk7XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IF9yZWdlbmVyYXRvclJ1bnRpbWUua2V5cyhkZXNjcmlwdG9ycy5wcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0aWYgKChjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnQwKCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHByb3AgPSBjb250ZXh0JDIkMC50MS52YWx1ZTtcblxuXHRcdFx0XHRcdGlmICghZGVzY3JpcHRvcnMucHJvcGVydGllc1twcm9wXS5lbnVtZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdHJldHVybiBkZWZpbmVQcm9wZXJ0eShlbnYsIG9iaiwgcHJvcCwgZGVzY3JpcHRvcnMuZ2V0VmFsdWUocHJvcCkpO1xuXG5cdFx0XHRcdGNhc2UgODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqKTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiT2JqZWN0LmRlZmluZVByb3BlcnRpZXNcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImdldE93blByb3BlcnR5RGVzY3JpcHRvclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChvYmosIGtleSkge1xuXHRcdHZhciBkZXNjcmlwdG9yLCByZXN1bHQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmosIFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclwiKTtcblxuXHRcdFx0XHRcdGlmICghKCFrZXkgfHwgIWtleS5pc1N5bWJvbCkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwga2V5KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0a2V5ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0aWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZGVzY3JpcHRvciA9IG9iai5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRcdHJlc3VsdCA9IG9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cblx0XHRcdFx0XHRyZXN1bHQucHV0VmFsdWUoXCJjb25maWd1cmFibGVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVzY3JpcHRvci5jb25maWd1cmFibGUpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRyZXN1bHQucHV0VmFsdWUoXCJlbnVtZXJhYmxlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3IuZW51bWVyYWJsZSksIGZhbHNlLCBlbnYpO1xuXG5cdFx0XHRcdFx0aWYgKGRlc2NyaXB0b3IuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQucHV0VmFsdWUoXCJ2YWx1ZVwiLCBkZXNjcmlwdG9yLnZhbHVlLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXRWYWx1ZShcIndyaXRhYmxlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGRlc2NyaXB0b3Iud3JpdGFibGUpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzdWx0LnB1dFZhbHVlKFwiZ2V0XCIsIGRlc2NyaXB0b3IuZ2V0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXRWYWx1ZShcInNldFwiLCBkZXNjcmlwdG9yLnNldCB8fCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAyLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImtleXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmopO1xuXG5cdFx0dmFyIGFyciA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGZvciAodmFyIF9uYW1lIGluIG9iai5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRpZiAob2JqLnByb3BlcnRpZXNbX25hbWVdLmVudW1lcmFibGUpIHtcblx0XHRcdFx0dmFyIHZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoX25hbWUpO1xuXHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoaW5kZXgrKywgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSwgZmFsc2UsIGVudik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFycjtcblx0fSwgMSwgXCJPYmplY3Qua2V5c1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KG9iaiwgXCJPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1wiKTtcblxuXHRcdHZhciBhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHRcdG9iai5nZXRPd25Qcm9wZXJ0eU5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaW5kZXgpIHtcblx0XHRcdGFyci5wdXRWYWx1ZShpbmRleCwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmFtZSksIHRydWUsIGVudik7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gYXJyO1xuXHR9LCAxLCBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJnZXRQcm90b3R5cGVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KG9iaiwgXCJPYmplY3QuZ2V0UHJvdG90eXBlT2ZcIik7XG5cblx0XHR2YXIgb2JqUHJvdG8gPSBvYmouZ2V0UHJvdG90eXBlKCk7XG5cdFx0cmV0dXJuIG9ialByb3RvIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTDtcblx0fSwgMSwgXCJPYmplY3QuZ2V0UHJvdG90eXBlT2ZcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImZyZWV6ZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KG9iaiwgXCJPYmplY3QuZnJlZXplXCIpO1xuXHRcdG9iai5mcmVlemUoKTtcblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5mcmVlemVcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImlzRnJvemVuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3Qob2JqLCBcIk9iamVjdC5pc0Zyb3plblwiKTtcblxuXHRcdGlmIChvYmouaXNQcmltaXRpdmUpIHtcblx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHR9XG5cblx0XHRpZiAoIW9iai5leHRlbnNpYmxlKSB7XG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIG9iai5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGlmIChvYmoucHJvcGVydGllc1twcm9wXS53cml0YWJsZSB8fCBvYmoucHJvcGVydGllc1twcm9wXS5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKCFvYmouZXh0ZW5zaWJsZSk7XG5cdH0sIDEsIFwiT2JqZWN0LmlzRnJvemVuXCIpKTtcblxuXHRvYmplY3RDbGFzcy5kZWZpbmUoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAob2JqKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzT2JqZWN0KG9iaiwgXCJPYmplY3QucHJldmVudEV4dGVuc2lvbnNcIik7XG5cblx0XHRvYmoucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHRyZXR1cm4gb2JqO1xuXHR9LCAxLCBcIk9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc1wiKSk7XG5cblx0b2JqZWN0Q2xhc3MuZGVmaW5lKFwiaXNFeHRlbnNpYmxlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3Qob2JqLCBcIk9iamVjdC5pc0V4dGVuc2libGVcIik7XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUob2JqLmV4dGVuc2libGUpO1xuXHR9LCAxLCBcIk9iamVjdC5pc0V4dGVuc2libGVcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcInNlYWxcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKG9iaikge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc09iamVjdChvYmosIFwiT2JqZWN0LnNlYWxcIik7XG5cblx0XHRvYmouc2VhbCgpO1xuXHRcdHJldHVybiBvYmo7XG5cdH0sIDEsIFwiT2JqZWN0LnNlYWxcIikpO1xuXG5cdG9iamVjdENsYXNzLmRlZmluZShcImlzU2VhbGVkXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uIChvYmopIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNPYmplY3Qob2JqLCBcIk9iamVjdC5pc1NlYWxlZFwiKTtcblxuXHRcdGlmICghb2JqLmV4dGVuc2libGUpIHtcblx0XHRcdGZvciAodmFyIHByb3AgaW4gb2JqLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0aWYgKG9iai5wcm9wZXJ0aWVzW3Byb3BdLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoIW9iai5leHRlbnNpYmxlKTtcblx0fSwgMSwgXCJPYmplY3QuaXNTZWFsZWRcIikpO1xuXG5cdC8vIGZ1bmN0aW9uIGlzIGFuIG9iamVjdCAtIG1ha2Ugc3VyZSB0aGF0IGl0IGlzIGluIHRoZSBwcm90b3R5cGUgY2hhaW5cblx0Z2xvYmFsT2JqZWN0LmdldFZhbHVlKFwiRnVuY3Rpb25cIikuZ2V0UHJvdG90eXBlKCkuc2V0UHJvdG90eXBlKHByb3RvKTtcblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIk9iamVjdFwiLCBvYmplY3RDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHdlIG9ubHkga2VlcCBhIGNvcHkgb2YgdGhlIG9yaWdpbmFsIGdldHRlci9zZXR0ZXIgZm9yIHVzZSB3aXRoIGBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHJlZ2V4QXBpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gcmVnZXhBcGkoZW52KSB7XG5cdHZhciBnbG9iYWxPYmplY3QgPSBlbnYuZ2xvYmFsO1xuXHR2YXIgb2JqZWN0RmFjdG9yeSA9IGVudi5vYmplY3RGYWN0b3J5O1xuXG5cdHZhciByZWdleENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChwYXR0ZXJuLCBmbGFncykge1xuXHRcdHZhciBwYXR0ZXJuU3RyaW5nO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShwYXR0ZXJuICYmIHBhdHRlcm4uY2xhc3NOYW1lID09PSBcIlJlZ0V4cFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc1VuZGVmaW5lZChmbGFncykpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBwYXR0ZXJuKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnJhaXNlKG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgc3VwcGx5IGZsYWdzIHdoZW4gY29uc3RydWN0aW5nIG9uZSBSZWdFeHAgZnJvbSBhbm90aGVyXCIpKSk7XG5cblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKHBhdHRlcm4pKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gXCJcIjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBwYXR0ZXJuKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdHBhdHRlcm5TdHJpbmcgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGlmICghY29udHJhY3RzLmlzVW5kZWZpbmVkKGZsYWdzKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBcIlwiO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBmbGFncyk7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRmbGFncyA9IGNvbnRleHQkMiQwLnQxO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJSZWdFeHBcIiwgbmV3IFJlZ0V4cChwYXR0ZXJuU3RyaW5nLCBmbGFncykpKTtcblxuXHRcdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIG51bGwsIHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHR2YXIgcHJvdG8gPSByZWdleENsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRwcm90by5jbGFzc05hbWUgPSBcIlJlZ0V4cFwiO1xuXG5cdHByb3RvLmRlZmluZShcInRlc3RcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RyKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCB0ZXN0VmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHN0cik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludDMyKShlbnYsIHRoaXMubm9kZS5nZXRWYWx1ZShcImxhc3RJbmRleFwiKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHRoaXMubm9kZS5zb3VyY2UubGFzdEluZGV4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR0ZXN0VmFsdWUgPSB0aGlzLm5vZGUuc291cmNlLnRlc3Qoc3RyaW5nVmFsdWUpO1xuXG5cdFx0XHRcdFx0dGhpcy5ub2RlLnB1dFZhbHVlKFwibGFzdEluZGV4XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS5zb3VyY2UubGFzdEluZGV4KSwgdHJ1ZSwgZW52KTtcblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGVzdFZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiUmVnRXhwLnByb3RvdHlwZS50ZXN0XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJleGVjXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHN0cikge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgbWF0Y2gsIGFyciwgaSwgbG47XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHN0cik7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludDMyKShlbnYsIHRoaXMubm9kZS5nZXRWYWx1ZShcImxhc3RJbmRleFwiKSk7XG5cblx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdHRoaXMubm9kZS5zb3VyY2UubGFzdEluZGV4ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRtYXRjaCA9IHRoaXMubm9kZS5zb3VyY2UuZXhlYyhzdHJpbmdWYWx1ZSk7XG5cblx0XHRcdFx0XHQvLyB1cGRhdGUgdGhlIGxhc3QgaW5kZXggZnJvbSB0aGUgdW5kZXJseWluZyByZWdleFxuXHRcdFx0XHRcdHRoaXMubm9kZS5wdXRWYWx1ZShcImxhc3RJbmRleFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUuc291cmNlLmxhc3RJbmRleCksIHRydWUsIGVudik7XG5cblx0XHRcdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdFx0Zm9yIChpID0gMCwgbG4gPSBtYXRjaC5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHRhcnIucHV0VmFsdWUoaSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2hbaV0pLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIGV4dHJhIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIHRoZSBhcnJheVxuXHRcdFx0XHRcdGFyci5wdXRWYWx1ZShcImluZGV4XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG1hdGNoLmluZGV4KSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0YXJyLnB1dFZhbHVlKFwiaW5wdXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2guaW5wdXQpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlJlZ0V4cC5wcm90b3R5cGUuZXhlY1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShTdHJpbmcodGhpcy5ub2RlLnNvdXJjZSkpO1xuXHR9LCAwLCBcIlJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmdcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImNvbXBpbGVcIiwgKDAsIF91dGlsc05hdGl2ZS50b05hdGl2ZUZ1bmN0aW9uKShlbnYsIFJlZ0V4cC5wcm90b3R5cGUuY29tcGlsZSwgXCJSZWdFeHAucHJvdG90eXBlLmNvbXBpbGVcIikpO1xuXHRwcm90by5kZWZpbmVPd25Qcm9wZXJ0eShcImxhc3RJbmRleFwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0W1wiZ2xvYmFsXCIsIFwiaWdub3JlQ2FzZVwiLCBcIm11bHRpbGluZVwiLCBcInNvdXJjZVwiXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkobmFtZSwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoUmVnRXhwLnByb3RvdHlwZVtuYW1lXSkgfSk7XG5cdH0pO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJSZWdFeHBcIiwgcmVnZXhDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHVwZGF0ZSB1bmRlcmx5aW5nIHJlZ2V4IGluIGNhc2UgdGhlIGluZGV4IHdhcyBtYW51YWxseSB1cGRhdGVkXG5cbi8vIGdldCBtYXRjaCBmcm9tIHVuZGVybHlpbmcgcmVnZXgiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gc3RyaW5nQXBpO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0Z1bmMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZnVuY1wiKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgcHJvdG9NZXRob2RzID0gW1wiY2hhckF0XCIsIFwiY2hhckNvZGVBdFwiLCBcImNvbmNhdFwiLCBcImluZGV4T2ZcIiwgXCJsYXN0SW5kZXhPZlwiLCBcImxvY2FsZUNvbXBhcmVcIiwgXCJzdWJzdHJcIiwgXCJ0b0xvY2FsZUxvd2VyQ2FzZVwiLCBcInRvTG9jYWxlVXBwZXJDYXNlXCIsIFwidG9Mb3dlckNhc2VcIiwgXCJ0b1VwcGVyQ2FzZVwiXTtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuZnVuY3Rpb24gc3RyaW5nQXBpKGVudikge1xuXHR2YXIgZ2xvYmFsT2JqZWN0ID0gZW52Lmdsb2JhbDtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblxuXHR2YXIgc3RyaW5nQ2xhc3MgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIXZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHZhbHVlLmdldFZhbHVlKCkpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gXCJcIjtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCAoMCwgX3V0aWxzTmF0aXZlLnByaW1pdGl2ZVRvT2JqZWN0KShlbnYsIHN0cmluZ1ZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCBudWxsLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UgfSk7XG5cblx0dmFyIHByb3RvID0gc3RyaW5nQ2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cblx0Ly8gcHJvdG90eXBlIGNhbiBiZSBjb2VyY2VkIGludG8gYW4gZW1wdHkgc3RyaW5nXG5cdHByb3RvLnZhbHVlID0gXCJcIjtcblx0cHJvdG8uY2xhc3NOYW1lID0gXCJTdHJpbmdcIjtcblx0cHJvdG8uZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoMCkgfSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic2VhcmNoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHJlZ2V4KSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlLCB1bmRlcmx5aW5nUmVnZXg7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHR1bmRlcmx5aW5nUmVnZXggPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIXJlZ2V4KSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIShyZWdleC5jbGFzc05hbWUgPT09IFwiUmVnRXhwXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHVuZGVybHlpbmdSZWdleCA9IHJlZ2V4LnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gUmVnRXhwO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCByZWdleCk7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0dW5kZXJseWluZ1JlZ2V4ID0gbmV3IGNvbnRleHQkMiQwLnQwKGNvbnRleHQkMiQwLnQxKTtcblxuXHRcdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUuc2VhcmNoKHVuZGVybHlpbmdSZWdleCkpKTtcblxuXHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLnByb3RvdHlwZS5zZWFyY2hcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInN1YnN0cmluZ1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChzdGFydCwgZW5kKSB7XG5cdFx0dmFyIHZhbHVlLCBsZW5ndGg7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdENvbnN0cnVjdG9yKHRoaXMsIFwic3Vic3RyaW5nXCIpO1xuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGVudiwgdGhpcy5ub2RlLCBcInN0cmluZ1wiKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRzdGFydCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIWNvbnRyYWN0cy5pc051bGxPclVuZGVmaW5lZChlbmQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGxlbmd0aDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIGVuZCk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRlbmQgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlLnN1YnN0cmluZyhzdGFydCwgZW5kKSkpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJTdHJpbmcucHJvdG90eXBlLnN1YnN0cmluZ1wiKSk7XG5cblx0cHJvdG9NZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHR2YXIgZm4gPSBTdHJpbmcucHJvdG90eXBlW25hbWVdO1xuXHRcdGlmIChmbikge1xuXHRcdFx0cHJvdG8uZGVmaW5lKG5hbWUsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKCkge1xuXHRcdFx0XHR2YXIgc3RyaW5nVmFsdWUsXG5cdFx0XHRcdCAgICBhcmdzLFxuXHRcdFx0XHQgICAgYXJncyQzJDAgPSBhcmd1bWVudHM7XG5cdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRjb250ZXh0JDMkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwgdGhpcy5ub2RlKTtcblxuXHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMyQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5tYXApKGFyZ3MkMyQwLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDMkMChhcmcpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDQkMC5wcmV2ID0gY29udGV4dCQ0JDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGVudiwgYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkNCQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDQkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sIGNhbGxlZSQzJDAsIHRoaXMpO1xuXHRcdFx0XHRcdFx0XHR9KSksIFwidDBcIiwgNCk7XG5cblx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0YXJncyA9IGNvbnRleHQkMyQwLnQwO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFN0cmluZy5wcm90b3R5cGVbbmFtZV0uYXBwbHkoc3RyaW5nVmFsdWUsIGFyZ3MpKSk7XG5cblx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGNhbGxlZSQyJDAsIHRoaXMpO1xuXHRcdFx0fSksIFN0cmluZy5wcm90b3R5cGVbbmFtZV0ubGVuZ3RoLCBcIlN0cmluZy5wcm90b3R5cGUuXCIgKyBuYW1lKSk7XG5cdFx0fVxuXHR9KTtcblxuXHRzdHJpbmdDbGFzcy5kZWZpbmUoXCJmcm9tQ2hhckNvZGVcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0Zm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNoYXJDb2RlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHRcdFx0Y2hhckNvZGVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHRcdH1cblxuXHRcdHZhciBhcmdzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZGVsZWdhdGVZaWVsZCgoMCwgX3V0aWxzQXN5bmMubWFwKShjaGFyQ29kZXMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMiQwKGFyZykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMiQwJChjb250ZXh0JDMkMCkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9QcmltaXRpdmUpKGVudiwgYXJnKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpLCBcInQwXCIsIDEpO1xuXG5cdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHRhcmdzID0gY29udGV4dCQyJDAudDA7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGFyZ3MpKSk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiU3RyaW5nLmZyb21DaGFyQ29kZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic2xpY2VcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RhcnQsIGVuZCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWU7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHRoaXMubm9kZSk7XG5cblx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRzdGFydFZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRlbmRWYWx1ZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQoZW5kKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCBlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0ZW5kVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShzdHJpbmdWYWx1ZS5zbGljZShzdGFydFZhbHVlLCBlbmRWYWx1ZSkpKTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5zbGljZVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwic3BsaXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc2VwYXJhdG9yLCBsaW1pdCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgbGltaXRWYWx1ZSwgYXJyLCBzZXBhcmF0b3JWYWx1ZSwgcmVzdWx0O1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRzZXBhcmF0b3IgPSBzZXBhcmF0b3IgJiYgc2VwYXJhdG9yLmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0bGltaXQgPSBsaW1pdCAmJiBsaW1pdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQobGltaXQpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvVUludDMyKShlbnYsIGxpbWl0KTtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGxpbWl0VmFsdWUgPSBjb250ZXh0JDIkMC50MDtcblx0XHRcdFx0XHRhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQoc2VwYXJhdG9yKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXJyLnB1dFZhbHVlKDAsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlKSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0c2VwYXJhdG9yVmFsdWUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShzZXBhcmF0b3IuY2xhc3NOYW1lID09PSBcIlJlZ0V4cFwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c2VwYXJhdG9yVmFsdWUgPSBzZXBhcmF0b3Iuc291cmNlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBzZXBhcmF0b3IpO1xuXG5cdFx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdFx0c2VwYXJhdG9yVmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0cmVzdWx0ID0gc3RyaW5nVmFsdWUuc3BsaXQoc2VwYXJhdG9yVmFsdWUsIGxpbWl0VmFsdWUpO1xuXG5cdFx0XHRcdFx0cmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHRcdFx0XHRcdFx0YXJyLnB1dFZhbHVlKGluZGV4LCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZSksIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNhc2UgMjg6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJTdHJpbmcucHJvdG90eXBlLnNwbGl0XCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJyZXBsYWNlXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHJlZ2V4T3JTdWJzdHIsIHN1YnN0ck9yRm4pIHtcblx0XHR2YXIgc3RyaW5nVmFsdWUsIG1hdGNoZXIsIHJlcGxhY2VyO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0bWF0Y2hlciA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICghKHJlZ2V4T3JTdWJzdHIgJiYgcmVnZXhPclN1YnN0ci5jbGFzc05hbWUgPT09IFwiUmVnRXhwXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG1hdGNoZXIgPSByZWdleE9yU3Vic3RyLnNvdXJjZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCByZWdleE9yU3Vic3RyKTtcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdG1hdGNoZXIgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0cmVwbGFjZXIgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShzdWJzdHJPckZuICYmIHN1YnN0ck9yRm4udHlwZSA9PT0gXCJmdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciBjYWxsZWUgPSBzdWJzdHJPckZuLm5hdGl2ZSA/IHN1YnN0ck9yRm4gOiBzdWJzdHJPckZuLm5vZGU7XG5cdFx0XHRcdFx0XHR2YXIgcGFyYW1zID0gY2FsbGVlLnBhcmFtcyB8fCBbXTtcblxuXHRcdFx0XHRcdFx0cmVwbGFjZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0aGlzQXJnID0gc3Vic3RyT3JGbi5pc1N0cmljdCgpIHx8IHN1YnN0ck9yRm4uaXNTdHJpY3QoKSA/IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEIDogZ2xvYmFsT2JqZWN0O1xuXHRcdFx0XHRcdFx0XHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKS5tYXAoZnVuY3Rpb24gKGFyZykge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmcpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0dmFyIHJlcGxhY2VkVmFsdWUgPSAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoKDAsIF91dGlsc0Z1bmMuZXhlY3V0ZSkoZW52LCBzdWJzdHJPckZuLCBwYXJhbXMsIGFyZ3MsIHRoaXNBcmcsIGNhbGxlZSkpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVwbGFjZWRWYWx1ZSA/ICgwLCBfdXRpbHNBc3luYy5leGhhdXN0KSgoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShlbnYsIHJlcGxhY2VkVmFsdWUpKSA6IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBzdWJzdHJPckZuKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdHJlcGxhY2VyID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUucmVwbGFjZShtYXRjaGVyLCByZXBsYWNlcikpKTtcblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDIsIFwiU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJtYXRjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChyZWdleCkge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSwgYWN0dWFsUmVnZXgsIG1hdGNoLCBfcmV0MjtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCB0aGlzLm5vZGUpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0YWN0dWFsUmVnZXggPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIShyZWdleCAmJiByZWdleC5jbGFzc05hbWUgPT09IFwiUmVnRXhwXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFjdHVhbFJlZ2V4ID0gcmVnZXguc291cmNlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0aWYgKCFyZWdleCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBSZWdFeHA7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHJlZ2V4KTtcblxuXHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRhY3R1YWxSZWdleCA9IG5ldyBjb250ZXh0JDIkMC50MChjb250ZXh0JDIkMC50MSk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRtYXRjaCA9IHN0cmluZ1ZhbHVlLm1hdGNoKGFjdHVhbFJlZ2V4KTtcblxuXHRcdFx0XHRcdGlmICghbWF0Y2gpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdF9yZXQyID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHZhciBtYXRjaGVzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0XHRcdFx0bWF0Y2guZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXMucHV0VmFsdWUoaW5kZXgsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlKSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0bWF0Y2hlcy5wdXRWYWx1ZShcImluZGV4XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG1hdGNoLmluZGV4KSwgZmFsc2UsIGVudik7XG5cdFx0XHRcdFx0XHRtYXRjaGVzLnB1dFZhbHVlKFwiaW5wdXRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobWF0Y2guaW5wdXQpLCBmYWxzZSwgZW52KTtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHY6IG1hdGNoZXNcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBfcmV0MiA9PT0gXCJvYmplY3RcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxOTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX3JldDIudik7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIF90eXBlc1ByaW1pdGl2ZVR5cGUuTlVMTCk7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlN0cmluZy5wcm90b3R5cGUubWF0Y2hcIikpO1xuXG5cdHByb3RvLmRlZmluZShcInRyaW1cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodGhpcy5ub2RlLCBcIlN0cmluZy5wcm90b3R5cGUudHJpbVwiKTtcblxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvUHJpbWl0aXZlKShlbnYsIHRoaXMubm9kZSwgXCJzdHJpbmdcIik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHN0cmluZ1ZhbHVlLnRyaW0oKSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAwLCBcIlN0cmluZy5wcm90b3R5cGUudHJpbVwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidG9TdHJpbmdcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc05vdEdlbmVyaWModGhpcy5ub2RlLCBcIlN0cmluZ1wiLCBcIlN0cmluZy5wcm90b3R5cGUudG9TdHJpbmdcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMubm9kZS52YWx1ZSk7XG5cdH0sIDAsIFwiU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZ1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVPZlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzTm90R2VuZXJpYyh0aGlzLm5vZGUsIFwiU3RyaW5nXCIsIFwiU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mXCIpO1xuXHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLm5vZGUudmFsdWUpO1xuXHR9LCAwLCBcIlN0cmluZy5wcm90b3R5cGUudmFsdWVPZlwiKSk7XG5cblx0Z2xvYmFsT2JqZWN0LmRlZmluZShcIlN0cmluZ1wiLCBzdHJpbmdDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIGNhbGxlZCBhcyBuZXciLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZWNtYTUxQXJyYXkgPSByZXF1aXJlKFwiLi4vLi4vZWNtYS01LjEvYXJyYXkvXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF9pdGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vLi4vaXRlcmF0b3JzL1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChlbnYpIHtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIGFycmF5Q2xhc3MgPSBlbnYuZ2xvYmFsLmdldFZhbHVlKFwiQXJyYXlcIik7XG5cdHZhciBwcm90byA9IGFycmF5Q2xhc3MuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cblx0ZnVuY3Rpb24gbm9ybWFsaXplSW5kZXgoaW5kZXgsIGxlbmd0aCkge1xuXHRcdGlmIChpbmRleCA8IDApIHtcblx0XHRcdHJldHVybiBNYXRoLm1heChsZW5ndGggKyBpbmRleCwgMCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIE1hdGgubWluKGluZGV4LCBsZW5ndGgpO1xuXHR9XG5cblx0YXJyYXlDbGFzcy5kZWZpbmUoXCJmcm9tXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGl0ZW1zLCBtYXBGbiwgdGhpc0FyZykge1xuXHRcdHZhciBsZW5ndGgsIGFyciwgaW5kZXgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnksIHZhbHVlO1xuXG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIGl0ZW1zKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRhcnIgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZUFycmF5KCk7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDg7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgaXRlbXMsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRcdHZhbHVlID0gZW50cnkudmFsdWU7XG5cblx0XHRcdFx0XHRpZiAoIW1hcEZuKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfZWNtYTUxQXJyYXkuZXhlY3V0ZUNhbGxiYWNrKShlbnYsIG1hcEZuLCBlbnRyeSwgdGhpc0FyZywgaXRlbXMpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cblx0XHRcdFx0XHRhcnIucHV0VmFsdWUoaW5kZXgrKywgdmFsdWUsIHRydWUsIGVudik7XG5cblx0XHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjM7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDgpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMiQwLnQwO1xuXG5cdFx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI3O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyODtcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcblx0XHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDMwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAzMDtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXG5cdFx0XHRcdGNhc2UgMzM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgzMCk7XG5cblx0XHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI3KTtcblxuXHRcdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzgsIDIzLCAyNywgMzVdLCBbMjgsLCAzMCwgMzRdXSk7XG5cdH0pLCAxLCBcIkFycmF5LmZyb21cIikpO1xuXG5cdHByb3RvLmRlZmluZShcImNvcHlXaXRoaW5cIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAodGFyZ2V0LCBzdGFydCwgZW5kKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCB0bywgZnJvbSwgZmluYWwsIGNvdW50LCBkaXIsIGN1cnJlbnQ7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCB0YXJnZXQpO1xuXG5cdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBsZW5ndGg7XG5cdFx0XHRcdFx0dG8gPSBub3JtYWxpemVJbmRleChjb250ZXh0JDIkMC50MCwgY29udGV4dCQyJDAudDEpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgc3RhcnQpO1xuXG5cdFx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDIgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQzID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGZyb20gPSBub3JtYWxpemVJbmRleChjb250ZXh0JDIkMC50MiwgY29udGV4dCQyJDAudDMpO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNVbmRlZmluZWQoZW5kKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDQgPSBsZW5ndGg7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDIwO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvSW50ZWdlcikoZW52LCBlbmQpO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ2ID0gbGVuZ3RoO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQ0ID0gbm9ybWFsaXplSW5kZXgoY29udGV4dCQyJDAudDUsIGNvbnRleHQkMiQwLnQ2KTtcblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRcdGZpbmFsID0gY29udGV4dCQyJDAudDQ7XG5cdFx0XHRcdFx0Y291bnQgPSBNYXRoLm1pbihmaW5hbCAtIGZyb20sIGxlbmd0aCAtIHRvKTtcblx0XHRcdFx0XHRkaXIgPSAxO1xuXG5cdFx0XHRcdFx0aWYgKGZyb20gPCB0byAmJiB0byA8IGZyb20gKyBjb3VudCkge1xuXHRcdFx0XHRcdFx0ZGlyID0gLTE7XG5cdFx0XHRcdFx0XHRmcm9tID0gZnJvbSArIGNvdW50IC0gMTtcblx0XHRcdFx0XHRcdHRvID0gdG8gKyBjb3VudCAtIDE7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0d2hpbGUgKGNvdW50ID4gMCkge1xuXHRcdFx0XHRcdFx0Y3VycmVudCA9IGFyci5nZXRQcm9wZXJ0eShmcm9tKTtcblxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnQpIHtcblx0XHRcdFx0XHRcdFx0YXJyLnB1dFZhbHVlKHRvLCBjdXJyZW50LmdldFZhbHVlKCksIHRydWUsIGVudik7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRhcnIuZGVsZXRlUHJvcGVydHkodG8pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmcm9tICs9IGRpcjtcblx0XHRcdFx0XHRcdHRvICs9IGRpcjtcblx0XHRcdFx0XHRcdGNvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMiwgXCJBcnJheS5wcm90b3R5cGUuY29weVdpdGhpblwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZmlsbFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgaywgZmluYWw7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGFyciA9ICgwLCBfdXRpbHNOYXRpdmUudG9PYmplY3QpKGVudiwgdGhpcy5ub2RlKTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0xlbmd0aCkoZW52LCBhcnIpO1xuXG5cdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRsZW5ndGggPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0aWYgKCFzdGFydCkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIHN0YXJ0KTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDAgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gMDtcblxuXHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdGsgPSBjb250ZXh0JDIkMC50MDtcblxuXHRcdFx0XHRcdGlmICghZW5kKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnRlZ2VyKShlbnYsIGVuZCk7XG5cblx0XHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBsZW5ndGg7XG5cblx0XHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0XHRmaW5hbCA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdFx0ayA9IG5vcm1hbGl6ZUluZGV4KGssIGxlbmd0aCk7XG5cdFx0XHRcdFx0ZmluYWwgPSBub3JtYWxpemVJbmRleChmaW5hbCwgbGVuZ3RoKTtcblxuXHRcdFx0XHRcdHdoaWxlIChrIDwgZmluYWwpIHtcblx0XHRcdFx0XHRcdGFyci5wdXRWYWx1ZShrKyssIHZhbHVlLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIDEsIFwiQXJyYXkucHJvdG90eXBlLmZpbGxcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImZpbmRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocHJlZGljYXRlLCB0aGlzQXJnKSB7XG5cdFx0dmFyIGFyciwgbGVuZ3RoLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiwgX2RpZEl0ZXJhdG9yRXJyb3IyLCBfaXRlcmF0b3JFcnJvcjIsIF9pdGVyYXRvcjIsIF9zdGVwMiwgZW50cnksIHBhc3NlZDtcblxuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRhcnIgPSAoMCwgX3V0aWxzTmF0aXZlLnRvT2JqZWN0KShlbnYsIHRoaXMubm9kZSk7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9MZW5ndGgpKGVudiwgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0bGVuZ3RoID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA3O1xuXHRcdFx0XHRcdF9pdGVyYXRvcjIgPSBfZ2V0SXRlcmF0b3IoX2l0ZXJhdG9yczJbXCJkZWZhdWx0XCJdLmZvcndhcmQoZW52LCBhcnIsIDAsIGxlbmd0aCkpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAyLnZhbHVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9lY21hNTFBcnJheS5leGVjdXRlQ2FsbGJhY2spKGVudiwgcHJlZGljYXRlLCBlbnRyeSwgdGhpc0FyZywgYXJyKTtcblxuXHRcdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRwYXNzZWQgPSAoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikoY29udGV4dCQyJDAudDApO1xuXG5cdFx0XHRcdFx0aWYgKCFwYXNzZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZW50cnkudmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgMTc6XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMjI6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDIyO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnQxID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSg3KTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMiA9IGNvbnRleHQkMiQwLnQxO1xuXG5cdFx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI2O1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyNztcblxuXHRcdFx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yMltcInJldHVyblwiXSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyOTtcblxuXHRcdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cblx0XHRcdFx0Y2FzZSAzMjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI5KTtcblxuXHRcdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjYpO1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s3LCAyMiwgMjYsIDM0XSwgWzI3LCwgMjksIDMzXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuZmluZFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZmluZEluZGV4XCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuXHRcdHZhciBhcnIsIGxlbmd0aCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMsIF9kaWRJdGVyYXRvckVycm9yMywgX2l0ZXJhdG9yRXJyb3IzLCBfaXRlcmF0b3IzLCBfc3RlcDMsIGVudHJ5LCBwYXNzZWQ7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0YXJyID0gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCB0aGlzLm5vZGUpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTGVuZ3RoKShlbnYsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGxlbmd0aCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gNztcblx0XHRcdFx0XHRfaXRlcmF0b3IzID0gX2dldEl0ZXJhdG9yKF9pdGVyYXRvcnMyW1wiZGVmYXVsdFwiXS5mb3J3YXJkKGVudiwgYXJyLCAwLCBsZW5ndGgpKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjA7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeSA9IF9zdGVwMy52YWx1ZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfZWNtYTUxQXJyYXkuZXhlY3V0ZUNhbGxiYWNrKShlbnYsIHByZWRpY2F0ZSwgZW50cnksIHRoaXNBcmcsIGFycik7XG5cblx0XHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdGlmICghcGFzc2VkKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGVudHJ5LmluZGV4KSk7XG5cblx0XHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAyMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjI7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAudDEgPSBjb250ZXh0JDIkMFtcImNhdGNoXCJdKDcpO1xuXHRcdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IzID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjY7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI3O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0XHRfaXRlcmF0b3IzW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcjMpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yMztcblxuXHRcdFx0XHRjYXNlIDMyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjkpO1xuXG5cdFx0XHRcdGNhc2UgMzM6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmZpbmlzaCgyNik7XG5cblx0XHRcdFx0Y2FzZSAzNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKC0xKSk7XG5cblx0XHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcywgW1s3LCAyMiwgMjYsIDM0XSwgWzI3LCwgMjksIDMzXV0pO1xuXHR9KSwgMSwgXCJBcnJheS5wcm90b3R5cGUuZmluZEluZGV4XCIpKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8vIHRvZG86IGlmIGB0aGlzYCBpc24ndCBhcnJheSBuZWVkIHRvIGNhbGwgY29uc3RydWN0b3IiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZWNtYTUxID0gcmVxdWlyZShcIi4uL2VjbWEtNS4xL1wiKTtcblxudmFyIF9lY21hNTEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWNtYTUxKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfYXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheS9cIik7XG5cbnZhciBfYXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXkpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuL3N5bWJvbC9cIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfc2V0ID0gcmVxdWlyZShcIi4vc2V0L1wiKTtcblxudmFyIF9zZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAoZW52KSB7XG5cdCgwLCBfZWNtYTUxMltcImRlZmF1bHRcIl0pKGVudik7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIG51bWJlckNsYXNzID0gZW52Lmdsb2JhbC5nZXRWYWx1ZShcIk51bWJlclwiKTtcblxuXHRudW1iZXJDbGFzcy5kZWZpbmUoXCJpc05hTlwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRpZiAoIXZhbHVlIHx8IHZhbHVlLmNsYXNzTmFtZSAhPT0gXCJOdW1iZXJcIikge1xuXHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGZhbHNlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaXNOYU4odmFsdWUudG9OYXRpdmUoKSkpO1xuXHR9LCAxLCBcIk51bWJlci5pc05hTlwiKSk7XG5cblx0bnVtYmVyQ2xhc3MuZGVmaW5lKFwiaXNJbnRlZ2VyXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKHZhbHVlKSB7XG5cdFx0dmFyIG5hdGl2ZVZhbHVlLCBpbnRWYWx1ZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKCEoIXZhbHVlIHx8IHZhbHVlLmNsYXNzTmFtZSAhPT0gXCJOdW1iZXJcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRuYXRpdmVWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cblx0XHRcdFx0XHRpZiAoIShpc05hTihuYXRpdmVWYWx1ZSkgfHwgIWlzRmluaXRlKG5hdGl2ZVZhbHVlKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShmYWxzZSkpO1xuXG5cdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b0ludGVnZXIpKGVudiwgdmFsdWUpO1xuXG5cdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRpbnRWYWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShuYXRpdmVWYWx1ZSA9PT0gaW50VmFsdWUpKTtcblxuXHRcdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJOdW1iZXIuaXNJbnRlZ2VyXCIpKTtcblxuXHR2YXIgbnVtYmVyUHJvdG8gPSBudW1iZXJDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0bnVtYmVyUHJvdG8uY2xhc3NOYW1lID0gXCJPYmplY3RcIjtcblxuXHR2YXIgYm9vbFByb3RvID0gZW52Lmdsb2JhbC5nZXRWYWx1ZShcIkJvb2xlYW5cIikuZ2V0VmFsdWUoXCJwcm90b3R5cGVcIik7XG5cdGJvb2xQcm90by5jbGFzc05hbWUgPSBcIk9iamVjdFwiO1xuXG5cdCgwLCBfYXJyYXkyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9zeW1ib2wyW1wiZGVmYXVsdFwiXSkoZW52KTtcblx0KDAsIF9zZXQyW1wiZGVmYXVsdFwiXSkoZW52KTtcblxuXHR2YXIgZnVuY1Byb3RvID0gZW52Lmdsb2JhbC5nZXRWYWx1ZShcIkZ1bmN0aW9uXCIpLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXG5cdHZhciB0aHJvd2VyID0gZnVuY3Rpb24gdGhyb3dlcigpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ2NhbGxlcicsICdjYWxsZWUnLCBhbmQgJ2FyZ3VtZW50cycgcHJvcGVydGllcyBtYXkgbm90IGJlIGFjY2Vzc2VkIG9uIHN0cmljdCBtb2RlIGZ1bmN0aW9ucyBvciB0aGUgYXJndW1lbnRzIG9iamVjdHMgZm9yIGNhbGxzIHRvIHRoZW1cIik7XG5cdH07XG5cblx0dmFyIHRocm93ZXJGdW5jID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24odGhyb3dlcik7XG5cdHZhciBwcm9wID0ge1xuXHRcdGdldDogdGhyb3dlckZ1bmMsXG5cdFx0Z2V0dGVyOiB0aHJvd2VyLFxuXHRcdHNldDogdGhyb3dlckZ1bmMsXG5cdFx0c2V0dGVyOiB0aHJvd2VyLFxuXHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdGNvbmZpZ3VyYWJsZTogZmFsc2Vcblx0fTtcblxuXHRmdW5jUHJvdG8uZGVmaW5lKFwiY2FsbGVyXCIsIG51bGwsIHByb3ApO1xuXHRmdW5jUHJvdG8uZGVmaW5lKFwiYXJndW1lbnRzXCIsIG51bGwsIHByb3ApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfaXRlcmF0b3JzID0gcmVxdWlyZShcIi4uLy4uL2l0ZXJhdG9yc1wiKTtcblxudmFyIF9pdGVyYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3JzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FzeW5jXCIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChlbnYpIHtcblx0ZnVuY3Rpb24gYXNzZXJ0SXNTZXQob2JqLCBtZXRob2ROYW1lKSB7XG5cdFx0aWYgKCEoXCJzZXREYXRhXCIgaW4gb2JqKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIk1ldGhvZCBcIiArIG1ldGhvZE5hbWUgKyBcIiBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyIFwiICsgb2JqLmNsYXNzTmFtZSk7XG5cdFx0fVxuXHR9XG5cblx0dmFyIGdsb2JhbE9iamVjdCA9IGVudi5nbG9iYWw7XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHNldENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChpdGVyYWJsZSkge1xuXHRcdHZhciBvYmosIF9sZW5ndGgsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnk7XG5cblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnN0cnVjdG9yIFNldCByZXF1aXJlcyAnbmV3J1wiKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0b2JqID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJTZXRcIik7XG5cblx0XHRcdFx0XHRpZiAoIWl0ZXJhYmxlKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMzQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRfbGVuZ3RoID0gaXRlcmFibGUuZ2V0VmFsdWUoXCJsZW5ndGhcIikudG9OYXRpdmUoKTtcblx0XHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSA4O1xuXHRcdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0uZm9yd2FyZChlbnYsIGl0ZXJhYmxlLCAwLCBfbGVuZ3RoKSk7XG5cblx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVudHJ5ID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKShlbnYsIG9iaiwgXCJhZGRcIiwgW2VudHJ5LnZhbHVlXSk7XG5cblx0XHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRpZiAoIShjb250ZXh0JDIkMC50MCA9PT0gZmFsc2UpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMTc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvcGVydHkgJ2FkZCcgb2Ygb2JqZWN0ICM8U2V0PiBpcyBub3QgYSBmdW5jdGlvblwiKTtcblxuXHRcdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIwOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyNjtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAyMjtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC50MSA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oOCk7XG5cdFx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRcdF9pdGVyYXRvckVycm9yID0gY29udGV4dCQyJDAudDE7XG5cblx0XHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gMjY7XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI3O1xuXG5cdFx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhc2UgMjk6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDI5O1xuXG5cdFx0XHRcdFx0aWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDMyO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdFx0Y2FzZSAzMjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuZmluaXNoKDI5KTtcblxuXHRcdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5maW5pc2goMjYpO1xuXG5cdFx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmopO1xuXG5cdFx0XHRcdGNhc2UgMzU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMsIFtbOCwgMjIsIDI2LCAzNF0sIFsyNywsIDI5LCAzM11dKTtcblx0fSksIG51bGwsIHsgbmFtZTogXCJTZXRcIiB9KTtcblxuXHR2YXIgcHJvdG8gPSBzZXRDbGFzcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblxuXHRwcm90by5kZWZpbmUoXCJhZGRcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0YXNzZXJ0SXNTZXQodGhpcy5ub2RlLCBcIlNldC5wcm90b3R5cGUuYWRkXCIpO1xuXG5cdFx0aWYgKHRoaXMubm9kZS5zZXREYXRhLmV2ZXJ5KGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRyZXR1cm4gIWVudi5vcHMuYXJlU2FtZU9yWmVybyhlLCB2YWx1ZSk7XG5cdFx0fSkpIHtcblx0XHRcdHRoaXMubm9kZS5zZXREYXRhLnB1c2godmFsdWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm5vZGU7XG5cdH0sIDEsIFwiU2V0LnByb3RvdHlwZS5hZGRcIikpO1xuXG5cdHByb3RvLmRlZmluZShcImRlbGV0ZVwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5kZWxldGVcIik7XG5cblx0XHR2YXIgZW50cmllcyA9IHRoaXMubm9kZS5zZXREYXRhO1xuXHRcdHZhciBpbmRleCA9IGVudHJpZXMubGVuZ3RoO1xuXG5cdFx0d2hpbGUgKGluZGV4LS0pIHtcblx0XHRcdGlmIChlbnYub3BzLmFyZVNhbWVPclplcm8oZW50cmllc1tpbmRleF0sIHZhbHVlKSkge1xuXHRcdFx0XHRlbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdHJldHVybiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZmFsc2UpO1xuXHR9LCAxLCBcIlNldC5wcm90b3R5cGUuZGVsZXRlXCIpKTtcblxuXHRwcm90by5kZWZpbmUoXCJoYXNcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0YXNzZXJ0SXNTZXQodGhpcy5ub2RlLCBcIlNldC5wcm90b3R5cGUuaGFzXCIpO1xuXHRcdHZhciBoYXMgPSB0aGlzLm5vZGUuc2V0RGF0YS5zb21lKGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRyZXR1cm4gZW52Lm9wcy5hcmVTYW1lT3JaZXJvKGUsIHZhbHVlKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoaGFzKTtcblx0fSwgMSwgXCJTZXQucHJvdG90eXBlLmhhc1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiY2xlYXJcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdGFzc2VydElzU2V0KHRoaXMubm9kZSwgXCJTZXQucHJvdG90eXBlLmNsZWFyXCIpO1xuXHRcdHRoaXMubm9kZS5zZXREYXRhID0gW107XG5cdH0sIDAsIFwiU2V0LnByb3RvdHlwZS5jbGVhclwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwiZm9yRWFjaFwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjYWxsYmFjaywgdGhpc0FyZykge1xuXHRcdHZhciBzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS5mb3JFYWNoXCIpO1xuXG5cdFx0XHRcdFx0cyA9IHRoaXMubm9kZTtcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKHRoaXMubm9kZS5zZXREYXRhLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDIkMChlKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2NvcGUsIGFyZ3M7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQyJDAkKGNvbnRleHQkMyQwKSB7XG5cdFx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMyQwLnByZXYgPSBjb250ZXh0JDMkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUgPSBlbnYuY3JlYXRlU2NvcGUodGhpc0FyZyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLmluaXQoY2FsbGJhY2subm9kZS5ib2R5KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFtlLCBlLCBzXTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUubG9hZEFyZ3MoY2FsbGJhY2subm9kZS5wYXJhbXMsIGFyZ3MsIGNhbGxiYWNrKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUudXNlKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMyQwKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQzJDAkKGNvbnRleHQkNCQwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQ0JDAucHJldiA9IGNvbnRleHQkNCQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQ0JDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChjYWxsYmFjay5ub2RlLmJvZHksIGNhbGxiYWNrLm5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQ0JDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkNCQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDQkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LCBjYWxsZWUkMyQwLCB0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDMkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQzJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMyQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0fSkpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdH0pLCAxLCBcIlNldC5wcm90b3R5cGUuZm9yRWFjaFwiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwidmFsdWVzXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcblx0XHRhc3NlcnRJc1NldCh0aGlzLm5vZGUsIFwiU2V0LnByb3RvdHlwZS52YWx1ZXNcIik7XG5cdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlSXRlcmF0b3IodGhpcy5ub2RlLnZhbHVlcygpKTtcblx0fSwgMCwgXCJTZXQucHJvdG90eXBlLnZhbHVlc1wiKSk7XG5cblx0cHJvdG8uZGVmaW5lKFwia2V5c1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0YXNzZXJ0SXNTZXQodGhpcy5ub2RlLCBcIlNldC5wcm90b3R5cGUua2V5c1wiKTtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVJdGVyYXRvcih0aGlzLm5vZGUua2V5cygpKTtcblx0fSwgMCwgXCJTZXQucHJvdG90eXBlLmtleXNcIikpO1xuXG5cdGdsb2JhbE9iamVjdC5kZWZpbmUoXCJTZXRcIiwgc2V0Q2xhc3MpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3R5cGVzU3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlcy9zeW1ib2wtdHlwZVwiKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGVudikge1xuXHR2YXIgZnJvemVuID0geyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH07XG5cdHZhciBvYmplY3RGYWN0b3J5ID0gZW52Lm9iamVjdEZhY3Rvcnk7XG5cblx0dmFyIHN5bWJvbENsYXNzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVGdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChkZXNjKSB7XG5cdFx0dmFyIGRlc2NTdHJpbmc7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdGlmICghdGhpcy5pc05ldykge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNDtcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoZW52LCBkZXNjKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0ZGVzY1N0cmluZyA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN5bWJvbFwiLCBkZXNjU3RyaW5nKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSkpO1xuXG5cdHN5bWJvbENsYXNzLmRlZmluZShcImZvclwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChrZXkpIHtcblx0XHR2YXIga2V5U3RyaW5nLCBpbnN0YW5jZTtcblx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9TdHJpbmcpKGVudiwga2V5KTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0a2V5U3RyaW5nID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRpbnN0YW5jZSA9IF90eXBlc1N5bWJvbFR5cGUuU3ltYm9sVHlwZS5nZXRCeUtleShrZXlTdHJpbmcpO1xuXG5cdFx0XHRcdFx0aWYgKCFpbnN0YW5jZSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGluc3RhbmNlKTtcblxuXHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIlN5bWJvbFwiLCBrZXlTdHJpbmcpKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHR9KSwgMSwgXCJTeW1ib2wuZm9yXCIpKTtcblxuXHRzeW1ib2xDbGFzcy5kZWZpbmUoXCJrZXlGb3JcIiwgb2JqZWN0RmFjdG9yeS5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKHN5bSkge1xuXHRcdHJldHVybiBfdHlwZXNTeW1ib2xUeXBlLlN5bWJvbFR5cGUuZ2V0QnlJbnN0YW5jZShzeW0pIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHR9LCAxLCBcIlN5bWJvbC5rZXlGb3JcIikpO1xuXG5cdHZhciBwcm90byA9IHN5bWJvbENsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRwcm90by5kZWZpbmUoXCJ0b1N0cmluZ1wiLCBvYmplY3RGYWN0b3J5LmNyZWF0ZUJ1aWx0SW5GdW5jdGlvbihmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHN0cmluZ1ZhbHVlID0gXCJTeW1ib2woXCIgKyB0aGlzLm5vZGUuZGVzY3JpcHRpb24gKyBcIilcIjtcblx0XHRyZXR1cm4gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWUpO1xuXHR9KSk7XG5cblx0ZnVuY3Rpb24gY3JlYXRlS25vd25TeW1ib2woa2V5KSB7XG5cdFx0dmFyIHN5bSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiU3ltYm9sXCIsIFwiQEBcIiArIGtleSk7XG5cblx0XHQvLyBhZGQgdG8gZ2xvYmFsIHJlZ2lzdHJ5XG5cdFx0X3R5cGVzU3ltYm9sVHlwZS5TeW1ib2xUeXBlLmFkZChrZXksIHN5bSk7XG5cblx0XHRzeW1ib2xDbGFzcy5kZWZpbmUoa2V5LCBzeW0sIGZyb3plbik7XG5cdFx0cmV0dXJuIHN5bTtcblx0fVxuXG5cdGNyZWF0ZUtub3duU3ltYm9sKFwiaGFzSW5zdGFuY2VcIik7XG5cdGNyZWF0ZUtub3duU3ltYm9sKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpO1xuXHRjcmVhdGVLbm93blN5bWJvbChcIml0ZXJhdG9yXCIpO1xuXHRjcmVhdGVLbm93blN5bWJvbChcInJlcGxhY2VcIik7XG5cdGNyZWF0ZUtub3duU3ltYm9sKFwic3BlY2llc1wiKTtcblxuXHR2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSBjcmVhdGVLbm93blN5bWJvbChcInRvU3RyaW5nVGFnXCIpO1xuXHRwcm90by5kZWZpbmUodG9TdHJpbmdUYWdTeW1ib2wsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKFwiU3ltYm9sXCIpLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTtcblxuXHRlbnYuZ2xvYmFsLmRlZmluZShcIlN5bWJvbFwiLCBzeW1ib2xDbGFzcyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWZlcmVuY2UgPSByZXF1aXJlKFwiLi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdHlwZXNQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIERlY2xhcmF0aXZlRW52aXJvbm1lbnQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBEZWNsYXJhdGl2ZUVudmlyb25tZW50KHBhcmVudCwgdGhpc0FyZywgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY2xhcmF0aXZlRW52aXJvbm1lbnQpO1xuXG5cdFx0dGhpcy5wcm9wZXJ0aWVzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQgJiYgcGFyZW50LnNjb3BlO1xuXHRcdHRoaXMuc3RyaWN0ID0gcGFyZW50LnN0cmljdDtcblx0XHR0aGlzLnRoaXNCaW5kaW5nID0gdGhpc0FyZztcblx0XHR0aGlzLmVudiA9IGVudjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhEZWNsYXJhdGl2ZUVudmlyb25tZW50LCBbe1xuXHRcdGtleTogXCJzZXRQYXJlbnRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0UGFyZW50KHBhcmVudCkge1xuXHRcdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQuc2NvcGUgfHwgcGFyZW50O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRSZWZlcmVuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKG5hbWUpIHtcblx0XHRcdHZhciByZWYgPSBuZXcgX3JlZmVyZW5jZS5SZWZlcmVuY2UobmFtZSwgdGhpcywgdGhpcy5lbnYpO1xuXHRcdFx0cmVmLnVucXVhbGlmaWVkID0gdHJ1ZTtcblx0XHRcdHJldHVybiByZWY7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc1Byb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhc1Byb3BlcnR5KG5hbWUpIHtcblx0XHRcdHJldHVybiBuYW1lIGluIHRoaXMucHJvcGVydGllcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzT3duUHJvcGVydHkobmFtZSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaGFzUHJvcGVydHkobmFtZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVZhcmlhYmxlKG5hbWUpIHtcblx0XHRcdGlmICghdGhpcy5oYXNQcm9wZXJ0eShuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnByb3BlcnRpZXNbbmFtZV0uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsZXRlIHRoaXMucHJvcGVydGllc1tuYW1lXTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVWYXJpYWJsZShuYW1lKSB7XG5cdFx0XHRpZiAodGhpcy5oYXNQcm9wZXJ0eShuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW25hbWVdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW25hbWVdID0gbmV3IF90eXBlc1Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywge1xuXHRcdFx0XHR2YWx1ZTogdW5kZWZpbmVkLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInB1dFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHB1dFZhbHVlKG5hbWUsIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmhhc1Byb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdGlmICghdGhpcy5wcm9wZXJ0aWVzW25hbWVdLndyaXRhYmxlKSB7XG5cdFx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSB0byBpbW11dGFibGUgYmluZGluZzogXCIgKyBuYW1lKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLnByb3BlcnRpZXNbbmFtZV0uc2V0VmFsdWUodmFsdWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIF9wYXJlbnQ7XG5cblx0XHRcdFx0KF9wYXJlbnQgPSB0aGlzLnBhcmVudCkucHV0VmFsdWUuYXBwbHkoX3BhcmVudCwgYXJndW1lbnRzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUobmFtZSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAodGhpcy5oYXNQcm9wZXJ0eShuYW1lKSkge1xuXHRcdFx0XHRpZiAoIXRoaXMucHJvcGVydGllc1tuYW1lXS52YWx1ZSkge1xuXHRcdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihuYW1lICsgXCIgaXMgbm90IGRlZmluZWRcIik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0aGlzLnByb3BlcnRpZXNbbmFtZV0uZ2V0VmFsdWUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VGhpc0JpbmRpbmdcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VGhpc0JpbmRpbmcoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy50aGlzQmluZGluZztcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRGVjbGFyYXRpdmVFbnZpcm9ubWVudDtcbn0pKCk7XG5cbmV4cG9ydHMuRGVjbGFyYXRpdmVFbnZpcm9ubWVudCA9IERlY2xhcmF0aXZlRW52aXJvbm1lbnQ7IiwiLy8gdG9kbzogc3dpdGNoIHRvIGVzdHJlZS13YWxrZXJcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy52aXNpdCA9IHZpc2l0O1xuXG5mdW5jdGlvbiB2aXNpdChub2RlLCBjYWxsYmFjaykge1xuXHRpZiAoIW5vZGUpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuXHRcdG5vZGUuZm9yRWFjaChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHZpc2l0KG4sIGNhbGxiYWNrKTtcblx0XHR9KTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRzd2l0Y2ggKG5vZGUudHlwZSkge1xuXHRcdGNhc2UgXCJQcm9ncmFtXCI6XG5cdFx0Y2FzZSBcIkJsb2NrU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkNhdGNoQ2xhdXNlXCI6XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkRvV2hpbGVTdGF0ZW1lbnRcIjpcblx0XHRjYXNlIFwiV2hpbGVTdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUudGVzdCwgY2FsbGJhY2spO1xuXHRcdFx0dmlzaXQobm9kZS5ib2R5LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJFeHByZXNzaW9uU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmV4cHJlc3Npb24sIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkZvclN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5pbml0LCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmJvZHksIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkZvckluU3RhdGVtZW50XCI6XG5cdFx0XHR2aXNpdChub2RlLmxlZnQsIGNhbGxiYWNrKTtcblx0XHRcdHZpc2l0KG5vZGUuYm9keSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiSWZTdGF0ZW1lbnRcIjpcblx0XHRcdC8vIGRvIG5vdCBzY2FuIGB0ZXN0YFxuXHRcdFx0dmlzaXQobm9kZS5jb25zZXF1ZW50LCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmFsdGVybmF0ZSwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiTGFiZWxlZFN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5ib2R5LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJTd2l0Y2hTdGF0ZW1lbnRcIjpcblx0XHRcdHZpc2l0KG5vZGUuZGlzY3JpbWluYW50LCBjYWxsYmFjayk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJTd2l0Y2hDYXNlXCI6XG5cdFx0XHR2aXNpdChub2RlLmNvbnNlcXVlbnQsIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIlRyeVN0YXRlbWVudFwiOlxuXHRcdFx0dmlzaXQobm9kZS5ibG9jaywgY2FsbGJhY2spO1xuXHRcdFx0dmlzaXQobm9kZS5oYW5kbGVyLCBjYWxsYmFjayk7XG5cdFx0XHR2aXNpdChub2RlLmZpbmFsaXplciwgY2FsbGJhY2spO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiVmFyaWFibGVEZWNsYXJhdGlvblwiOlxuXHRcdFx0dmlzaXQobm9kZS5kZWNsYXJhdGlvbnMsIGNhbGxiYWNrKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIjpcblx0XHRjYXNlIFwiVmFyaWFibGVEZWNsYXJhdG9yXCI6XG5cdFx0XHRjYWxsYmFjayhub2RlKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0ZGVmYXVsdDpcblx0XHQvLyBpZ25vcmUgYWxsIG90aGVyIG5vZGVzXG5cdH1cbn1cblxuOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkYXNzaWduID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxudmFyIF9leGVjdXRpb25Db250ZXh0ID0gcmVxdWlyZShcIi4uL2V4ZWN1dGlvbi1jb250ZXh0XCIpO1xuXG52YXIgX2RlY2xhcmF0aXZlRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi9kZWNsYXJhdGl2ZS1lbnZpcm9ubWVudFwiKTtcblxudmFyIF9vYmplY3RFbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL29iamVjdC1lbnZpcm9ubWVudFwiKTtcblxudmFyIF9yZWZlcmVuY2UgPSByZXF1aXJlKFwiLi9yZWZlcmVuY2VcIik7XG5cbnZhciBfZWNtYTUxID0gcmVxdWlyZShcIi4uL2VjbWEtNS4xXCIpO1xuXG52YXIgX2VjbWE1MTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lY21hNTEpO1xuXG52YXIgX2VjbWE2ID0gcmVxdWlyZShcIi4uL2VjbWEtNlwiKTtcblxudmFyIF9lY21hNjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lY21hNik7XG5cbnZhciBfdXRpbHNPcGVyYXRvcnMgPSByZXF1aXJlKFwiLi4vdXRpbHMvb3BlcmF0b3JzXCIpO1xuXG52YXIgX3V0aWxzT3BlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzT3BlcmF0b3JzKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3Njb3BlID0gcmVxdWlyZShcIi4vc2NvcGVcIik7XG5cbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0YWxsb3dEZWJ1Z2dlcjogZmFsc2UsXG5cdHVzZVN0cmljdDogZmFsc2UsXG5cdGVjbWFWZXJzaW9uOiA1XG59O1xuXG52YXIgRW52aXJvbm1lbnQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFbnZpcm9ubWVudCgpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW52aXJvbm1lbnQpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEVudmlyb25tZW50LCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdFx0XHR2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRPcHRpb25zIDogYXJndW1lbnRzWzBdO1xuXG5cdFx0XHQvLyBjbGVhciBzdGF0ZSBpbiBjYXNlIG9mIHJlLWluaXRcblx0XHRcdHRoaXMuY3VycmVudCA9IG51bGw7XG5cdFx0XHR0aGlzLmdsb2JhbFNjb3BlID0gbnVsbDtcblxuXHRcdFx0dGhpcy5vcHRpb25zID0gX09iamVjdCRhc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblx0XHRcdChvcHRpb25zLmVjbWFWZXJzaW9uID09PSA2ID8gX2VjbWE2MltcImRlZmF1bHRcIl0gOiBfZWNtYTUxMltcImRlZmF1bHRcIl0pKHRoaXMpO1xuXG5cdFx0XHQvLyB0b2RvOiBpbXByb3ZlIHRoaXNcblx0XHRcdHRoaXMub3BzID0gX09iamVjdCRhc3NpZ24oX3V0aWxzT3BlcmF0b3JzMltcImRlZmF1bHRcIl0sIG9wdGlvbnMub3BlcmF0b3JzKTtcblx0XHRcdHRoaXMub3BzLmVudiA9IHRoaXM7XG5cblx0XHRcdHRoaXMub2JqZWN0RmFjdG9yeS5pbml0KCk7XG5cblx0XHRcdGlmIChvcHRpb25zLmV4Y2x1ZGUgJiYgb3B0aW9ucy5leGNsdWRlLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0b3B0aW9ucy5leGNsdWRlLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0XHR2YXIgc2VnbWVudHMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcblx0XHRcdFx0XHR2YXIgcGFyZW50ID0gX3RoaXMuZ2xvYmFsO1xuXG5cdFx0XHRcdFx0d2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdHBhcmVudCA9IHBhcmVudC5nZXRWYWx1ZShzZWdtZW50cy5zaGlmdCgpKTtcblxuXHRcdFx0XHRcdFx0Ly8gYXBpIG5vdCBkZWZpbmVkIC0gYXNzdW1lIHVzZXIgZXJyb3I/XG5cdFx0XHRcdFx0XHRpZiAoIXBhcmVudCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cGFyZW50LnJlbW92ZShzZWdtZW50cy5zaGlmdCgpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogR2V0cyBhIHJlZmVyZW5jZSBmcm9tIHRoZSBlbnZpcm9ubWVudFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5XHJcbiAgICogQHJldHVybnMge1JlZmVyZW5jZX0gVGhlIHJlZmVyZW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJnZXRSZWZlcmVuY2VcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKG5hbWUpIHtcblx0XHRcdHZhciBzY29wZSA9IHRoaXMuY3VycmVudCAmJiB0aGlzLmN1cnJlbnQuc2NvcGU7XG5cdFx0XHR3aGlsZSAoc2NvcGUpIHtcblx0XHRcdFx0aWYgKHNjb3BlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHNjb3BlLmdldFJlZmVyZW5jZShuYW1lLCB0cnVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNjb3BlID0gc2NvcGUucGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbmV3IF9yZWZlcmVuY2UuUmVmZXJlbmNlKG5hbWUsIHVuZGVmaW5lZCwgdGhpcyk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKG5hbWUpIHtcblx0XHRcdHJldHVybiB0aGlzLmdldFJlZmVyZW5jZShuYW1lKS5nZXRWYWx1ZSgpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJwdXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwdXRWYWx1ZShuYW1lLCB2YWx1ZSwgc3RyaWN0KSB7XG5cdFx0XHR0aGlzLmN1cnJlbnQuc2NvcGUucHV0VmFsdWUobmFtZSwgdmFsdWUsIHN0cmljdCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc1Byb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhc1Byb3BlcnR5KG5hbWUpIHtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnQuc2NvcGUuaGFzUHJvcGVydHkobmFtZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVZhcmlhYmxlKG5hbWUpIHtcblx0XHRcdHRoaXMuY3VycmVudC5zY29wZS5kZWxldGVWYXJpYWJsZShuYW1lKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBEZWNsYXJlcyBhIHZhcmlhYmxlIHdpdGhpbiB0aGUgY3VycmVudCBzY29wZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbW11dGFibGVdIC0gd2hldGhlciB0aGUgdmFyaWFibGUgaXMgaW1tdXRhYmxlIG9yIG5vdC5cclxuICAgKiBAcmV0dXJucyB7UHJvcGVydHlEZXNjcmlwdG9yfSBUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgdGhlIG5ldyB2YXJpYWJibGUuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVmFyaWFibGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVmFyaWFibGUobmFtZSwgaW1tdXRhYmxlKSB7XG5cdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIobmFtZSwgdGhpcy5pc1N0cmljdCgpKTtcblx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnQuc2NvcGUuY3JlYXRlVmFyaWFibGUobmFtZSwgIWltbXV0YWJsZSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgbGV4aWNhbCBzY29wZSBpcyBpbiBzdHJpY3QgbW9kZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBpbiBzdHJpY3QgbW9kZTsgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImlzU3RyaWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzU3RyaWN0KCkge1xuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy51c2VTdHJpY3QpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzY29wZSA9IHRoaXMuY3VycmVudCAmJiB0aGlzLmN1cnJlbnQuc2NvcGU7XG5cdFx0XHR3aGlsZSAoc2NvcGUpIHtcblx0XHRcdFx0aWYgKHNjb3BlLnN0cmljdCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2NvcGUgPSBzY29wZS5wYXJlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBHZXRzIHRoZSBjdXJyZW50IGB0aGlzYCBvYmplY3QgZm9yIHRoZSBlbnZpcm9ubWVudC5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIGB0aGlzYCBvYmplY3QgZm9yIHRoZSBjdXJyZW50IHNjb3BlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImdldFRoaXNCaW5kaW5nXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFRoaXNCaW5kaW5nKCkge1xuXHRcdFx0dmFyIHRoaXNBcmcgPSB0aGlzLmN1cnJlbnQuc2NvcGUuZ2V0VGhpc0JpbmRpbmcoKTtcblx0XHRcdGlmICh0aGlzQXJnKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzQXJnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5pc1N0cmljdCgpKSB7XG5cdFx0XHRcdHJldHVybiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXMuZ2xvYmFsO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVFeGVjdXRpb25Db250ZXh0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQobm9kZSwgY2FsbGVlLCBpc05ldykge1xuXHRcdFx0cmV0dXJuIG5ldyBfZXhlY3V0aW9uQ29udGV4dC5FeGVjdXRpb25Db250ZXh0KHRoaXMsIG5vZGUsIGNhbGxlZSwgaXNOZXcpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgZGVjbGFyYXRpdmUgc2NvcGUuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSBbdGhpc0FyZ10gLSBUaGUgYHRoaXNgIGJpbmRpbmcgZm9yIHRoZSBuZXcgc2NvcGUuXHJcbiAgICogQHJldHVybnMge1Njb3BlfSBUaGUgbmV3IHNjb3BlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVNjb3BlKHRoaXNBcmcpIHtcblx0XHRcdHJldHVybiB0aGlzLnNldFNjb3BlKG5ldyBfZGVjbGFyYXRpdmVFbnZpcm9ubWVudC5EZWNsYXJhdGl2ZUVudmlyb25tZW50KHRoaXMuY3VycmVudCwgdGhpc0FyZywgdGhpcykpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgc2NvcGUgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG9iamVjdC4gVGhpcyBpcyB1c2VkIGZvciB0aGUgYHdpdGhgXHJcbiAgICogc3RhdGVtZW50LCBhcyB3ZWxsIGFzIHRoZSBnbG9iYWwgc2NvcGUuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSBvYmogLSBUaGUgb2JqZWN0IHRvIGJpbmQgdGhlIHNjb3BlIHRvLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gW3RoaXNBcmddIC0gVGhlIGB0aGlzYCBiaW5kaW5nIGZvciB0aGUgbmV3IHNjb3BlLlxyXG4gICAqIEByZXR1cm5zIHtTY29wZX0gVGhlIG5ldyBzY29wZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVPYmplY3RTY29wZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVPYmplY3RTY29wZShvYmosIHRoaXNBcmcpIHtcblx0XHRcdHJldHVybiB0aGlzLnNldFNjb3BlKG5ldyBfb2JqZWN0RW52aXJvbm1lbnQuT2JqZWN0RW52aXJvbm1lbnQodGhpcy5jdXJyZW50LCBvYmosIHRoaXNBcmcsIHRoaXMpKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHNjb3BlLlxyXG4gICAqIEBwYXJhbSB7RW52aXJvbm1lbnR9IHNjb3BlIC0gU2V0cyB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cclxuICAgKiBAcmV0dXJucyB7U2NvcGV9IFRoZSBjcmVhdGVkIHNjb3BlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFNjb3BlKHNjb3BlKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jdXJyZW50ID0gbmV3IF9zY29wZS5TY29wZSh0aGlzLCBzY29wZSk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5FbnZpcm9ubWVudCA9IEVudmlyb25tZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wZXJ0eVJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LXJlZmVyZW5jZVwiKTtcblxudmFyIE9iamVjdEVudmlyb25tZW50ID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gT2JqZWN0RW52aXJvbm1lbnQocGFyZW50LCBvYmosIHRoaXNBcmcsIGVudikge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYmplY3RFbnZpcm9ubWVudCk7XG5cblx0XHR0aGlzLnBhcmVudCA9IHBhcmVudCAmJiBwYXJlbnQuc2NvcGU7XG5cdFx0dGhpcy5zdHJpY3QgPSBwYXJlbnQgJiYgcGFyZW50LnN0cmljdDtcblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblx0XHR0aGlzLnRoaXNCaW5kaW5nID0gdGhpc0FyZyB8fCBvYmo7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoT2JqZWN0RW52aXJvbm1lbnQsIFt7XG5cdFx0a2V5OiBcImdldFJlZmVyZW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRSZWZlcmVuY2UobmFtZSwgdW5xdWFsaWZpZWQpIHtcblx0XHRcdHZhciByZWYgPSBuZXcgX3Byb3BlcnR5UmVmZXJlbmNlLlByb3BlcnR5UmVmZXJlbmNlKG5hbWUsIHRoaXMub2JqZWN0LCB0aGlzLmVudik7XG5cdFx0XHRyZWYudW5xdWFsaWZpZWQgPSB1bnF1YWxpZmllZDtcblx0XHRcdHJldHVybiByZWY7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc1Byb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhc1Byb3BlcnR5KG5hbWUpIHtcblx0XHRcdHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50Lmhhc1Byb3BlcnR5KG5hbWUpIDogdGhpcy5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzT3duUHJvcGVydHkobmFtZSkge1xuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0Lmhhc1Byb3BlcnR5KG5hbWUpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYXJpYWJsZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYXJpYWJsZShuYW1lKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vYmplY3QuZ2V0UHJvcGVydHkobmFtZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVZhcmlhYmxlKG5hbWUpIHtcblx0XHRcdHJldHVybiB0aGlzLm9iamVjdC5kZWxldGVQcm9wZXJ0eShuYW1lLCBmYWxzZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVZhcmlhYmxlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVZhcmlhYmxlKG5hbWUsIGltbXV0YWJsZSkge1xuXHRcdFx0aWYgKHRoaXMucGFyZW50KSB7XG5cdFx0XHRcdHZhciBfcGFyZW50O1xuXG5cdFx0XHRcdHJldHVybiAoX3BhcmVudCA9IHRoaXMucGFyZW50KS5jcmVhdGVWYXJpYWJsZS5hcHBseShfcGFyZW50LCBhcmd1bWVudHMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5vYmplY3QuZGVmaW5lT3duUHJvcGVydHkobmFtZSwge1xuXHRcdFx0XHRcdHZhbHVlOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiBpbW11dGFibGUsXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHR9LCB0aGlzLmVudi5pc1N0cmljdCgpKTtcblxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vYmplY3QuZ2V0UHJvcGVydHkobmFtZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInB1dFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHB1dFZhbHVlKG5hbWUsIHZhbHVlLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCAmJiAhdGhpcy5vYmplY3QuaGFzUHJvcGVydHkobmFtZSkpIHtcblx0XHRcdFx0dmFyIF9wYXJlbnQyO1xuXG5cdFx0XHRcdChfcGFyZW50MiA9IHRoaXMucGFyZW50KS5wdXRWYWx1ZS5hcHBseShfcGFyZW50MiwgYXJndW1lbnRzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMub2JqZWN0LnB1dFZhbHVlKG5hbWUsIHZhbHVlLCB0aHJvd09uRXJyb3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShuYW1lLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuXHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG5hbWUgKyBcIiBpcyBub3QgZGVmaW5lZC5cIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5vYmplY3QuZ2V0VmFsdWUobmFtZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFRoaXNCaW5kaW5nXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFRoaXNCaW5kaW5nKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudGhpc0JpbmRpbmc7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIE9iamVjdEVudmlyb25tZW50O1xufSkoKTtcblxuZXhwb3J0cy5PYmplY3RFbnZpcm9ubWVudCA9IE9iamVjdEVudmlyb25tZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWZlcmVuY2UgPSByZXF1aXJlKFwiLi9yZWZlcmVuY2VcIik7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG4vKipcclxuICogQW4gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgYSByZWZlcmVuY2UgdG8gYW4gb2JqZWN0J3MgcHJvcGVydHkuXHJcbiAqL1xuXG52YXIgUHJvcGVydHlSZWZlcmVuY2UgPSAoZnVuY3Rpb24gKF9SZWZlcmVuY2UpIHtcblx0X2luaGVyaXRzKFByb3BlcnR5UmVmZXJlbmNlLCBfUmVmZXJlbmNlKTtcblxuXHRmdW5jdGlvbiBQcm9wZXJ0eVJlZmVyZW5jZShrZXksIG9iamVjdCwgZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3BlcnR5UmVmZXJlbmNlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3BlcnR5UmVmZXJlbmNlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzLCBrZXksIG9iamVjdCwgZW52KTtcblx0XHR0aGlzLmlzUHJvcGVydHlSZWZlcmVuY2UgPSB0cnVlO1xuXHR9XG5cblx0LyoqXHJcbiAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcmVmZXJlbmNlLiBJZiB0aGUgcmVmZXJlbmNlIGlzIHVucmVzb2x2ZWQsXHJcbiAgKiBhIFJlZmVyZW5jZUVycm9yIHdpbGwgYmUgdGhyb3duLlxyXG4gICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSB2YWx1ZS5cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhQcm9wZXJ0eVJlZmVyZW5jZSwgW3tcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdFx0XHR2YXIgcHJvcCA9IHRoaXMuYmFzZS5nZXRQcm9wZXJ0eSh0aGlzLmtleSk7XG5cdFx0XHRyZXR1cm4gcHJvcCAmJiBwcm9wLmdldFZhbHVlKCkgfHwgbmV3IF90eXBlc1ByaW1pdGl2ZVR5cGUuUHJpbWl0aXZlVHlwZSgpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIHByb3BlcnR5IG9yIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSB2YWx1ZSBhc3NpZ25tZW50LlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy5iYXNlLmhhc1Byb3BlcnR5KHRoaXMua2V5KSkge1xuXHRcdFx0XHR0aGlzLmJhc2UucHV0VmFsdWUodGhpcy5rZXksIHZhbHVlLCB0aGlzLnN0cmljdCwgdGhpcy5lbnYpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5iYXNlLmRlZmluZU93blByb3BlcnR5KHRoaXMua2V5LCB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LCB0aGlzLnN0cmljdCwgdGhpcy5lbnYpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIERlbGV0ZXMgdGhlIHVuZGVybHlpbmcgcmVmZXJlbmNlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmVzdWx0IG9mIHRoZSBkZWxldGUgb3BlcmF0aW9uLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYmFzZS5kZWxldGVQcm9wZXJ0eSh0aGlzLmtleSwgdGhpcy5lbnYuaXNTdHJpY3QoKSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlZmVyZW5jZSBpcyByZXNvbHZlZCBvciBub3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgcmVzb2x2ZXM7IGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJpc1VucmVzb2x2ZWRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNVbnJlc29sdmVkKCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBQcm9wZXJ0eVJlZmVyZW5jZTtcbn0pKF9yZWZlcmVuY2UuUmVmZXJlbmNlKTtcblxuZXhwb3J0cy5Qcm9wZXJ0eVJlZmVyZW5jZSA9IFByb3BlcnR5UmVmZXJlbmNlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBSZWZlcmVuY2UgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBSZWZlcmVuY2Uoa2V5LCBiYXNlLCBlbnYpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVmZXJlbmNlKTtcblxuXHRcdHRoaXMuaXNSZWZlcmVuY2UgPSB0cnVlO1xuXHRcdHRoaXMudW5xdWFsaWZpZWQgPSBmYWxzZTtcblxuXHRcdHRoaXMua2V5ID0ga2V5O1xuXHRcdHRoaXMuYmFzZSA9IGJhc2U7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5zdHJpY3QgPSBlbnYuaXNTdHJpY3QoKTtcblx0fVxuXG5cdC8qKlxyXG4gICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIHJlZmVyZW5jZS4gSWYgdGhlIHJlZmVyZW5jZSBpcyB1bnJlc29sdmVkLFxyXG4gICogYSBSZWZlcmVuY2VFcnJvciB3aWxsIGJlIHRocm93bi5cclxuICAqIEByZXR1cm5zIHtPYmplY3RUeXBlfSBUaGUgdmFsdWUuXHJcbiAgKi9cblxuXHRfY3JlYXRlQ2xhc3MoUmVmZXJlbmNlLCBbe1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcblx0XHRcdGlmICghdGhpcy5iYXNlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcih0aGlzLmtleSArIFwiIGlzIG5vdCBkZWZpbmVkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5iYXNlLmdldFZhbHVlKHRoaXMua2V5LCB0aGlzLnN0cmljdCk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgcHJvcGVydHkgb3IgdmFsdWUuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBhc3NpZ24uXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFRoZSByZXN1bHQgb2YgdGhlIHZhbHVlIGFzc2lnbm1lbnQuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0XHRcdGlmICh0aGlzLmJhc2UpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYmFzZS5wdXRWYWx1ZSh0aGlzLmtleSwgdmFsdWUsIHRoaXMuc3RyaWN0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY2hlY2sgaWRlbnRpZmllciBiZWZvcmUgc3RyaWN0XG5cdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIodGhpcy5rZXksIHRoaXMuc3RyaWN0KTtcblxuXHRcdFx0aWYgKHRoaXMuc3RyaWN0KSB7XG5cdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcih0aGlzLmtleSArIFwiIGlzIG5vdCBkZWZpbmVkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5lbnYuZ2xvYmFsLmRlZmluZU93blByb3BlcnR5KHRoaXMua2V5LCB7XG5cdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSwgZmFsc2UsIHRoaXMuZW52KTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBEZWxldGVzIHRoZSB1bmRlcmx5aW5nIHJlZmVyZW5jZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIHJlc3VsdCBvZiB0aGUgZGVsZXRlIG9wZXJhdGlvbi5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJkZWxldGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZSgpIHtcblx0XHRcdGlmICh0aGlzLmJhc2UpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYmFzZS5kZWxldGVWYXJpYWJsZSh0aGlzLmtleSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSByZWZlcmVuY2UgaXMgcmVzb2x2ZWQgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHJlc29sdmVzOyBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiaXNVbnJlc29sdmVkXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGlzVW5yZXNvbHZlZCgpIHtcblx0XHRcdHJldHVybiAhdGhpcy5iYXNlO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBSZWZlcmVuY2U7XG59KSgpO1xuXG5leHBvcnRzLlJlZmVyZW5jZSA9IFJlZmVyZW5jZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4uL3R5cGVzL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2VzdHJlZVdhbGtlciA9IHJlcXVpcmUoXCIuLi9lc3RyZWUtd2Fsa2VyXCIpO1xuXG52YXIgX2VzdHJlZVdhbGtlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lc3RyZWVXYWxrZXIpO1xuXG52YXIgX2hvaXN0ZXIgPSByZXF1aXJlKFwiLi9ob2lzdGVyXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBfc3ludGF4UnVsZXMgPSByZXF1aXJlKFwiLi4vc3ludGF4LXJ1bGVzXCIpO1xuXG52YXIgX3N5bnRheFJ1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bnRheFJ1bGVzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzQXNzaWduID0gcmVxdWlyZShcIi4uL3V0aWxzL2Fzc2lnblwiKTtcblxuZnVuY3Rpb24gdmFsaWRhdGVTeW50YXgocm9vdCkge1xuXHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHR2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cblx0dHJ5IHtcblx0XHRmb3IgKHZhciBfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoX2VzdHJlZVdhbGtlcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShyb290KSksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0XHRcdHZhciBub2RlID0gX3N0ZXAudmFsdWU7XG5cblx0XHRcdGlmIChub2RlLnR5cGUgaW4gX3N5bnRheFJ1bGVzMltcImRlZmF1bHRcIl0pIHtcblx0XHRcdFx0X3N5bnRheFJ1bGVzMltcImRlZmF1bHRcIl1bbm9kZS50eXBlXShub2RlLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0fSBmaW5hbGx5IHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRfaXRlcmF0b3JbXCJyZXR1cm5cIl0oKTtcblx0XHRcdH1cblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0aWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG52YXIgU2NvcGUgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBTY29wZShlbnYsIHNjb3BlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjb3BlKTtcblxuXHRcdGVudi5nbG9iYWxTY29wZSA9IGVudi5nbG9iYWxTY29wZSB8fCB0aGlzO1xuXG5cdFx0dGhpcy5zY29wZSA9IHNjb3BlO1xuXHRcdHRoaXMuZW52ID0gZW52O1xuXHRcdHRoaXMucHJpb3JTY29wZSA9IChlbnYuY3VycmVudCB8fCBlbnYuZ2xvYmFsU2NvcGUpLnNjb3BlO1xuXHR9XG5cblx0LyoqXHJcbiAgKiBJbml0aWFsaXplcyB0aGUgc2NvcGUgYnkgdmFsaWRhdGluZyB0aGUgZnVuY3Rpb24gYm9keSBhbmQgaG9pc3RpbmcgdmFyaWFibGVzLlxyXG4gICogQHBhcmFtIHtBU1R9IG5vZGUgLSBUaGUgbm9kZSB0byBiZSBleGVjdXRlZC5cclxuICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICovXG5cblx0X2NyZWF0ZUNsYXNzKFNjb3BlLCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQobm9kZSkge1xuXHRcdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdFx0aWYgKCFub2RlKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVudiA9IHRoaXMuZW52O1xuXHRcdFx0dGhpcy5zY29wZS5zdHJpY3QgPSBjb250cmFjdHMuaXNTdHJpY3ROb2RlKG5vZGUuYm9keSk7XG5cblx0XHRcdHZhciBzdHJpY3QgPSB0aGlzLnNjb3BlLnN0cmljdCB8fCBlbnYuaXNTdHJpY3QoKTtcblx0XHRcdGlmIChzdHJpY3QgJiYgbm9kZS50eXBlID09PSBcIlByb2dyYW1cIikge1xuXHRcdFx0XHR2YWxpZGF0ZVN5bnRheChub2RlKTtcblx0XHRcdH1cblxuXHRcdFx0KDAsIF9ob2lzdGVyLnZpc2l0KShub2RlLCBmdW5jdGlvbiAoZGVjbCkge1xuXHRcdFx0XHR2YXIgbmFtZSA9IGRlY2wubmFtZSB8fCBkZWNsLmlkLm5hbWU7XG5cdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZShuYW1lLCBzdHJpY3QpO1xuXG5cdFx0XHRcdHZhciB2YWx1ZSA9IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRpZiAoZGVjbC50eXBlID09PSBcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIikge1xuXHRcdFx0XHRcdC8vIGZ1bmN0aW9ucyBjYW4gYmUgdXNlZCBiZWZvcmUgdGhleSBhcmUgZGVmaW5lZFxuXHRcdFx0XHRcdHZhciBzdHJpY3RGdW5jID0gc3RyaWN0IHx8IGNvbnRyYWN0cy5pc1N0cmljdE5vZGUoZGVjbC5ib2R5LmJvZHkpO1xuXHRcdFx0XHRcdHZhbHVlID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oZGVjbCwgdW5kZWZpbmVkLCB7IHN0cmljdDogc3RyaWN0RnVuYyB9KTtcblx0XHRcdFx0XHR2YWx1ZS5iaW5kU2NvcGUoX3RoaXMpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKF90aGlzLnNjb3BlLmhhc1Byb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIG5ld1ZhciA9IGVudi5jcmVhdGVWYXJpYWJsZShuYW1lLCB0cnVlKTtcblx0XHRcdFx0bmV3VmFyLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJsb2FkQ29tcGxleEFyZ3NcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGxvYWRDb21wbGV4QXJncyhwYXJhbXMsIGFyZ3MsIGNhbGxlZSkge1xuXHRcdFx0dmFyIGVudiwgc3RyaWN0LCBzY29wZSwgYXJnSW5kZXgsIGFyZ0xlbmd0aDtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gbG9hZENvbXBsZXhBcmdzJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGVudiA9IHRoaXMuZW52O1xuXHRcdFx0XHRcdFx0c3RyaWN0ID0gZW52LmlzU3RyaWN0KCkgfHwgY2FsbGVlLmlzU3RyaWN0KCk7XG5cdFx0XHRcdFx0XHRzY29wZSA9IHRoaXMuY3JlYXRlUGFyYW1ldGVyU2NvcGUoKTtcblx0XHRcdFx0XHRcdGFyZ0luZGV4ID0gMDtcblx0XHRcdFx0XHRcdGFyZ0xlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKHBhcmFtcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQyJDAocGFyYW0sIGluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdHZhciByZXN0LCByZXN0SW5kZXg7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDIkMCQoY29udGV4dCQzJDApIHtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDMkMC5wcmV2ID0gY29udGV4dCQzJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShwYXJhbS50eXBlID09PSBcIlJlc3RFbGVtZW50XCIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN0ID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlQXJyYXkoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzdEluZGV4ID0gMDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoYXJnSW5kZXggPCBhcmdMZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN0LnB1dFZhbHVlKHJlc3RJbmRleCsrLCBhcmdzW2FyZ0luZGV4KytdIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUucHV0VmFsdWUocGFyYW0ubmFtZSwgcmVzdCwgdHJ1ZSwgZW52KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQzJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMyQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Fzc2lnbi5kZWNsYXJlKShlbnYsIHBhcmFtLCBhcmdzW2FyZ0luZGV4KytdIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVELCB0cnVlKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQzJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSwgY2FsbGVlJDIkMCwgdGhpcyk7XG5cdFx0XHRcdFx0XHR9KSk7XG5cblx0XHRcdFx0XHRjYXNlIDc6XG5cblx0XHRcdFx0XHRcdGlmICghY2FsbGVlLmFycm93KSB7XG5cdFx0XHRcdFx0XHRcdChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gcHJlc2VydmUgdGhlIHBhc3NlZCBpbiBhcmd1bWVudHMsIGV2ZW4gaWYgZGVmYXVsdHMgYXJlIHVzZWQgaW5zdGVhZFxuXHRcdFx0XHRcdFx0XHRcdHZhciBhcmd1bWVudExpc3QgPSBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVBcmd1bWVudHMoYXJncywgY2FsbGVlLCBzdHJpY3QpO1xuXHRcdFx0XHRcdFx0XHRcdHNjb3BlLmNyZWF0ZVZhcmlhYmxlKFwiYXJndW1lbnRzXCIpO1xuXHRcdFx0XHRcdFx0XHRcdHNjb3BlLnB1dFZhbHVlKFwiYXJndW1lbnRzXCIsIGFyZ3VtZW50TGlzdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRhcmdzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KGluZGV4LCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRhcmd1bWVudExpc3QuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmdzLmxlbmd0aCksXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9KSgpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyByZXR1cm4gc2NvcGUgYmFjayB0byBtYWluIHNjb3BlXG5cdFx0XHRcdFx0XHR0aGlzLmVudi5zZXRTY29wZSh0aGlzLnNjb3BlKTtcblxuXHRcdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBsb2FkQ29tcGxleEFyZ3MsIHRoaXMpO1xuXHRcdH0pXG5cblx0XHQvKipcclxuICAgKiBMb2FkcyB0aGUgYXJndW1lbnRzIGludG8gdGhlIHNjb3BlIGFuZCBjcmVhdGVzIHRoZSBzcGVjaWFsIGBhcmd1bWVudHNgIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge0FTVFtdfSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVyIGlkZW50aWZpZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlW119IGFyZ3MgLSBUaGUgYXJndW1lbnQgdmFsdWVzXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvblR5cGV9IGNhbGxlZSAtIFRoZSBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImxvYWRBcmdzXCIsXG5cdFx0dmFsdWU6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBsb2FkQXJncyhwYXJhbXMsIGFyZ3MsIGNhbGxlZSkge1xuXHRcdFx0dmFyIGVudiwgc2NvcGUsIHN0cmljdCwgYXJndW1lbnRMaXN0LCBhcmdzTGVuZ3RoLCBzaG91bGRNYXAsIF9pLCBsbiwgcGFyYW0sIHZhbHVlLCBfbmFtZSwgZGVzY3JpcHRvciwgaTtcblxuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBsb2FkQXJncyQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRpZiAoIShwYXJhbXMgJiYgcGFyYW1zLnNvbWUoZnVuY3Rpb24gKHApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHAudHlwZSAhPT0gXCJJZGVudGlmaWVyXCI7XG5cdFx0XHRcdFx0XHR9KSkpIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmxvYWRDb21wbGV4QXJncyhwYXJhbXMsIGFyZ3MsIGNhbGxlZSk7XG5cblx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIpO1xuXG5cdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0ZW52ID0gdGhpcy5lbnY7XG5cdFx0XHRcdFx0XHRzY29wZSA9IHRoaXMuc2NvcGU7XG5cdFx0XHRcdFx0XHRzdHJpY3QgPSBlbnYuaXNTdHJpY3QoKSB8fCBjYWxsZWUuaXNTdHJpY3QoKTtcblx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZUFyZ3VtZW50cyhhcmdzLCBjYWxsZWUsIHN0cmljdCk7XG5cblx0XHRcdFx0XHRcdHNjb3BlLmNyZWF0ZVZhcmlhYmxlKFwiYXJndW1lbnRzXCIpO1xuXHRcdFx0XHRcdFx0c2NvcGUucHV0VmFsdWUoXCJhcmd1bWVudHNcIiwgYXJndW1lbnRMaXN0KTtcblxuXHRcdFx0XHRcdFx0YXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuXG5cdFx0XHRcdFx0XHRpZiAocGFyYW1zKSB7XG5cdFx0XHRcdFx0XHRcdHNob3VsZE1hcCA9ICFjYWxsZWUuaXNTdHJpY3QoKTtcblxuXHRcdFx0XHRcdFx0XHRmb3IgKF9pID0gMCwgbG4gPSBwYXJhbXMubGVuZ3RoOyBfaSA8IGxuOyBfaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0cGFyYW0gPSBwYXJhbXNbX2ldO1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gYXJnc1tfaV0gfHwgX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0X25hbWUgPSBwYXJhbS5uYW1lO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNob3VsZE1hcCAmJiAhc2NvcGUuaGFzUHJvcGVydHkoX25hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yID0gc2NvcGUuY3JlYXRlVmFyaWFibGUoX25hbWUpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoYXJnc0xlbmd0aCA+IF9pKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50TGlzdC5tYXBQcm9wZXJ0eShfaSwgZGVzY3JpcHRvcik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFzaG91bGRNYXAgJiYgX2kgPCBhcmdzTGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhcmd1bWVudExpc3QuZGVmaW5lT3duUHJvcGVydHkoX2ksIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWUoX25hbWUsIHN0cmljdCk7XG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUucHV0VmFsdWUoX25hbWUsIHZhbHVlLCB0cnVlLCBlbnYpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIGp1c3Qgc2V0IHZhbHVlIGlmIGFkZGl0aW9uYWwsIHVubmFtZWQgYXJndW1lbnRzIGFyZSBwYXNzZWQgaW5cblx0XHRcdFx0XHRcdGkgPSBwYXJhbXMgPyBwYXJhbXMubGVuZ3RoIDogMDtcblxuXHRcdFx0XHRcdFx0Zm9yICg7IGkgPCBhcmdzTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KGksIHtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogYXJnc1tpXSxcblx0XHRcdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YXJndW1lbnRMaXN0LmRlZmluZU93blByb3BlcnR5KFwibGVuZ3RoXCIsIHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShhcmdzTGVuZ3RoKSxcblx0XHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGxvYWRBcmdzLCB0aGlzKTtcblx0XHR9KVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVBhcmFtZXRlclNjb3BlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVBhcmFtZXRlclNjb3BlKCkge1xuXHRcdFx0dmFyIHNjb3BlID0gdGhpcy5lbnYuY3JlYXRlU2NvcGUoKTtcblx0XHRcdHNjb3BlLnNjb3BlLnNldFBhcmVudCh0aGlzLnNjb3BlLnBhcmVudCk7XG5cdFx0XHR0aGlzLnNjb3BlLnNldFBhcmVudChzY29wZSk7XG5cdFx0XHRyZXR1cm4gc2NvcGUuc2NvcGU7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogUnVucyB0aGUgcGFzc2VkIGluIGZ1bmN0aW9uIGFuZCBleGl0cyB0aGUgc2NvcGUgd2hlbiB0aGUgZnVuY3Rpb24gY29tcGxldGVzLFxyXG4gICAqIHJldHVybmluZyB0aGUgZW52aXJvbm1lbnQgYmFjayB0byB0aGUgcHJldmlvcyBzdGF0ZS5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbm5lciAtIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlLlxyXG4gICAqIEByZXR1cm5zIHtJdGVyYXRvcn0gVGhlIGZ1bmN0aW9uIHJlc3VsdHNcclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJ1c2VcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHVzZShpbm5lcikge1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdXNlJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAwO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRyZXR1cm4gaW5uZXIoKTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cblx0XHRcdFx0XHRcdHRoaXMuZXhpdCgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAucHJldiA9IDg7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMCk7XG5cblx0XHRcdFx0XHRcdHRoaXMuZXhpdCgpO1xuXHRcdFx0XHRcdFx0dGhyb3cgY29udGV4dCQyJDAudDA7XG5cblx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIHVzZSwgdGhpcywgW1swLCA4XV0pO1xuXHRcdH0pXG5cblx0XHQvKipcclxuICAgKiBFeGl0cyB0aGUgc2NvcGUsIHJldHVybmluZyB0aGUgZW52aXJvbm1lbnQgdG8gaXQncyBwcmV2aW91cyBzdGF0ZS5cclxuICAgKiAoVHlwaWNhbGx5IHlvdSB3b3VsZCBjYWxsIGB1c2VgIHdoaWNoIGhhbmRsZXMgZXhpdGluZyB0aGUgc2NvcGUgaXRzZWxmLilcclxuICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJleGl0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGV4aXQoKSB7XG5cdFx0XHR0aGlzLmVudi5zZXRTY29wZSh0aGlzLnByaW9yU2NvcGUpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTY29wZTtcbn0pKCk7XG5cbmV4cG9ydHMuU2NvcGUgPSBTY29wZTtcblxuLy8gY3JlYXRlIGEgdGVtcG9yYXJ5IHNjb3BlIGZvciB0aGUgYXJndW1lbnQgZGVjbGFyYXRpb25zXG5cbi8vIHRvZG86IHRoaXMgbWV0aG9kIGlzIGdldHRpbmcgZmFyIHRvbyBjb21wbGV4IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW3dhbGtdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuZnVuY3Rpb24gd2Fsayhub2RlKSB7XG5cdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIG47XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB3YWxrJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghQXJyYXkuaXNBcnJheShub2RlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQ7XG5cdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihub2RlKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuID0gX3N0ZXAudmFsdWU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobiksIFwidDBcIiwgOSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA2O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDE0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwW1wiY2F0Y2hcIl0oNCk7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDEkMC50MTtcblxuXHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDE4O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTk7XG5cblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyMTtcblxuXHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMjEpO1xuXG5cdFx0XHRjYXNlIDI1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDE4KTtcblxuXHRcdFx0Y2FzZSAyNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiKTtcblxuXHRcdFx0Y2FzZSAyNzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI5O1xuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblxuXHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBub2RlLnR5cGU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSBjb250ZXh0JDEkMC50MiA9PT0gXCJBcnJheUV4cHJlc3Npb25cIiA/IDMyIDogY29udGV4dCQxJDAudDIgPT09IFwiQXNzaWdubWVudEV4cHJlc3Npb25cIiA/IDM1IDogY29udGV4dCQxJDAudDIgPT09IFwiQmluYXJ5RXhwcmVzc2lvblwiID8gMzggOiBjb250ZXh0JDEkMC50MiA9PT0gXCJMb2dpY2FsRXhwcmVzc2lvblwiID8gMzggOiBjb250ZXh0JDEkMC50MiA9PT0gXCJCbG9ja1N0YXRlbWVudFwiID8gNDEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJMYWJlbGVkU3RhdGVtZW50XCIgPyA0MSA6IGNvbnRleHQkMSQwLnQyID09PSBcIlByb2dyYW1cIiA/IDQxIDogY29udGV4dCQxJDAudDIgPT09IFwiQ2FsbEV4cHJlc3Npb25cIiA/IDQzIDogY29udGV4dCQxJDAudDIgPT09IFwiTmV3RXhwcmVzc2lvblwiID8gNDMgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJDYXRjaENsYXVzZVwiID8gNDYgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJDb25kaXRpb25hbEV4cHJlc3Npb25cIiA/IDQ5IDogY29udGV4dCQxJDAudDIgPT09IFwiSWZTdGF0ZW1lbnRcIiA/IDQ5IDogY29udGV4dCQxJDAudDIgPT09IFwiRG9XaGlsZVN0YXRlbWVudFwiID8gNTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJFeHByZXNzaW9uU3RhdGVtZW50XCIgPyA1NyA6IGNvbnRleHQkMSQwLnQyID09PSBcIkZvclN0YXRlbWVudFwiID8gNTkgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJGb3JJblN0YXRlbWVudFwiID8gNjcgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIgPyA3MSA6IGNvbnRleHQkMSQwLnQyID09PSBcIkZ1bmN0aW9uRXhwcmVzc2lvblwiID8gNzEgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJNZW1iZXJFeHByZXNzaW9uXCIgPyA3NiA6IGNvbnRleHQkMSQwLnQyID09PSBcIk9iamVjdEV4cHJlc3Npb25cIiA/IDgwIDogY29udGV4dCQxJDAudDIgPT09IFwiUHJvcGVydHlcIiA/IDgyIDogY29udGV4dCQxJDAudDIgPT09IFwiUmV0dXJuU3RhdGVtZW50XCIgPyA4NCA6IGNvbnRleHQkMSQwLnQyID09PSBcIlNlcXVlbmNlRXhwcmVzc2lvblwiID8gODcgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJTd2l0Y2hTdGF0ZW1lbnRcIiA/IDg5IDogY29udGV4dCQxJDAudDIgPT09IFwiU3dpdGNoQ2FzZVwiID8gOTIgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJUaHJvd1N0YXRlbWVudFwiID8gOTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJVbmFyeUV4cHJlc3Npb25cIiA/IDk0IDogY29udGV4dCQxJDAudDIgPT09IFwiVXBkYXRlRXhwcmVzc2lvblwiID8gOTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJUcnlTdGF0ZW1lbnRcIiA/IDk2IDogY29udGV4dCQxJDAudDIgPT09IFwiVmFyaWFibGVEZWNsYXJhdGlvblwiID8gMTAyIDogY29udGV4dCQxJDAudDIgPT09IFwiVmFyaWFibGVEZWNsYXJhdG9yXCIgPyAxMDQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJXaGlsZVN0YXRlbWVudFwiID8gMTA4IDogY29udGV4dCQxJDAudDIgPT09IFwiV2l0aFN0YXRlbWVudFwiID8gMTExIDogY29udGV4dCQxJDAudDIgPT09IFwiQnJlYWtTdGF0ZW1lbnRcIiA/IDExNCA6IGNvbnRleHQkMSQwLnQyID09PSBcIkNvbnRpbnVlU3RhdGVtZW50XCIgPyAxMTQgOiBjb250ZXh0JDEkMC50MiA9PT0gXCJFbXB0eVN0YXRlbWVudFwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiSWRlbnRpZmllclwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiTGl0ZXJhbFwiID8gMTE0IDogY29udGV4dCQxJDAudDIgPT09IFwiVGhpc0V4cHJlc3Npb25cIiA/IDExNCA6IDExNTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzI6XG5cdFx0XHRcdGlmICghbm9kZS5lbGVtZW50cykge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5lbGVtZW50cyksIFwidDNcIiwgMzQpO1xuXG5cdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAzNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnJpZ2h0KSwgXCJ0NFwiLCAzNik7XG5cblx0XHRcdGNhc2UgMzY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5sZWZ0KSwgXCJ0NVwiLCAzNyk7XG5cblx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDM4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUubGVmdCksIFwidDZcIiwgMzkpO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucmlnaHQpLCBcInQ3XCIsIDQwKTtcblxuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0OFwiLCA0Mik7XG5cblx0XHRcdGNhc2UgNDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDQzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuY2FsbGVlKSwgXCJ0OVwiLCA0NCk7XG5cblx0XHRcdGNhc2UgNDQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5hcmd1bWVudHMpLCBcInQxMFwiLCA0NSk7XG5cblx0XHRcdGNhc2UgNDU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDQ2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUucGFyYW0pLCBcInQxMVwiLCA0Nyk7XG5cblx0XHRcdGNhc2UgNDc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MTJcIiwgNDgpO1xuXG5cdFx0XHRjYXNlIDQ4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA0OTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnRlc3QpLCBcInQxM1wiLCA1MCk7XG5cblx0XHRcdGNhc2UgNTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5jb25zZXF1ZW50KSwgXCJ0MTRcIiwgNTEpO1xuXG5cdFx0XHRjYXNlIDUxOlxuXHRcdFx0XHRpZiAoIW5vZGUuYWx0ZXJuYXRlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQobm9kZS5hbHRlcm5hdGUsIFwidDE1XCIsIDUzKTtcblxuXHRcdFx0Y2FzZSA1Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MTZcIiwgNTUpO1xuXG5cdFx0XHRjYXNlIDU1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudGVzdCksIFwidDE3XCIsIDU2KTtcblxuXHRcdFx0Y2FzZSA1Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgNTc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5leHByZXNzaW9uKSwgXCJ0MThcIiwgNTgpO1xuXG5cdFx0XHRjYXNlIDU4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA1OTpcblx0XHRcdFx0aWYgKCFub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaW5pdCksIFwidDE5XCIsIDYxKTtcblxuXHRcdFx0Y2FzZSA2MTpcblx0XHRcdFx0aWYgKCFub2RlLnRlc3QpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudGVzdCksIFwidDIwXCIsIDYzKTtcblxuXHRcdFx0Y2FzZSA2Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQyMVwiLCA2NCk7XG5cblx0XHRcdGNhc2UgNjQ6XG5cdFx0XHRcdGlmICghbm9kZS51cGRhdGUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudXBkYXRlKSwgXCJ0MjJcIiwgNjYpO1xuXG5cdFx0XHRjYXNlIDY2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA2Nzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnJpZ2h0KSwgXCJ0MjNcIiwgNjgpO1xuXG5cdFx0XHRjYXNlIDY4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUubGVmdCksIFwidDI0XCIsIDY5KTtcblxuXHRcdFx0Y2FzZSA2OTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmJvZHkpLCBcInQyNVwiLCA3MCk7XG5cblx0XHRcdGNhc2UgNzA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDcxOlxuXHRcdFx0XHRpZiAoIW5vZGUuaWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNzM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaWQpLCBcInQyNlwiLCA3Myk7XG5cblx0XHRcdGNhc2UgNzM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5wYXJhbXMpLCBcInQyN1wiLCA3NCk7XG5cblx0XHRcdGNhc2UgNzQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0MjhcIiwgNzUpO1xuXG5cdFx0XHRjYXNlIDc1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA3Njpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLm9iamVjdCksIFwidDI5XCIsIDc3KTtcblxuXHRcdFx0Y2FzZSA3Nzpcblx0XHRcdFx0aWYgKCFub2RlLmNvbXB1dGVkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc5O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnByb3BlcnR5KSwgXCJ0MzBcIiwgNzkpO1xuXG5cdFx0XHRjYXNlIDc5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSA4MDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLnByb3BlcnRpZXMpLCBcInQzMVwiLCA4MSk7XG5cblx0XHRcdGNhc2UgODE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDgyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUudmFsdWUpLCBcInQzMlwiLCA4Myk7XG5cblx0XHRcdGNhc2UgODM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDg0OlxuXHRcdFx0XHRpZiAoIW5vZGUuYXJndW1lbnQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYXJndW1lbnQpLCBcInQzM1wiLCA4Nik7XG5cblx0XHRcdGNhc2UgODY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDg3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZXhwcmVzc2lvbnMpLCBcInQzNFwiLCA4OCk7XG5cblx0XHRcdGNhc2UgODg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDg5OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZGlzY3JpbWluYW50KSwgXCJ0MzVcIiwgOTApO1xuXG5cdFx0XHRjYXNlIDkwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuY2FzZXMpLCBcInQzNlwiLCA5MSk7XG5cblx0XHRcdGNhc2UgOTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDkyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuY29uc2VxdWVudCksIFwidDM3XCIsIDkzKTtcblxuXHRcdFx0Y2FzZSA5Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgOTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5hcmd1bWVudCksIFwidDM4XCIsIDk1KTtcblxuXHRcdFx0Y2FzZSA5NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDExNSk7XG5cblx0XHRcdGNhc2UgOTY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ibG9jayksIFwidDM5XCIsIDk3KTtcblxuXHRcdFx0Y2FzZSA5Nzpcblx0XHRcdFx0aWYgKCFub2RlLmhhbmRsZXIpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaGFuZGxlciksIFwidDQwXCIsIDk5KTtcblxuXHRcdFx0Y2FzZSA5OTpcblx0XHRcdFx0aWYgKCFub2RlLmZpbmFsaXplcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuZmluYWxpemVyKSwgXCJ0NDFcIiwgMTAxKTtcblxuXHRcdFx0Y2FzZSAxMDE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDEwMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLmRlY2xhcmF0aW9ucyksIFwidDQyXCIsIDEwMyk7XG5cblx0XHRcdGNhc2UgMTAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMDQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5pZCksIFwidDQzXCIsIDEwNSk7XG5cblx0XHRcdGNhc2UgMTA1OlxuXHRcdFx0XHRpZiAoIW5vZGUuaW5pdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuaW5pdCksIFwidDQ0XCIsIDEwNyk7XG5cblx0XHRcdGNhc2UgMTA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS50ZXN0KSwgXCJ0NDVcIiwgMTA5KTtcblxuXHRcdFx0Y2FzZSAxMDk6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHdhbGsobm9kZS5ib2R5KSwgXCJ0NDZcIiwgMTEwKTtcblxuXHRcdFx0Y2FzZSAxMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDExMTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQod2Fsayhub2RlLm9iamVjdCksIFwidDQ3XCIsIDExMik7XG5cblx0XHRcdGNhc2UgMTEyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh3YWxrKG5vZGUuYm9keSksIFwidDQ4XCIsIDExMyk7XG5cblx0XHRcdGNhc2UgMTEzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTE1KTtcblxuXHRcdFx0Y2FzZSAxMTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMTUpO1xuXG5cdFx0XHRjYXNlIDExNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcywgW1s0LCAxNCwgMTgsIDI2XSwgWzE5LCwgMjEsIDI1XV0pO1xufVxuXG4vLyBkbyBub3RoaW5nXG5cbnZhciBFc3RyZWVXYWxrZXIgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFc3RyZWVXYWxrZXIobm9kZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFc3RyZWVXYWxrZXIpO1xuXG5cdFx0dGhpcy5yb290ID0gbm9kZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhFc3RyZWVXYWxrZXIsIFt7XG5cdFx0a2V5OiBfU3ltYm9sJGl0ZXJhdG9yLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcblx0XHRcdHJldHVybiB3YWxrKHRoaXMucm9vdCk7XG5cdFx0fVxuXHR9XSwgW3tcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShub2RlKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEVzdHJlZVdhbGtlcihub2RlKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRXN0cmVlV2Fsa2VyO1xufSkoKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFc3RyZWVXYWxrZXI7XG47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyByaWdodCBzaG91bGQgYmUgZXZhbHVhdGVkIGZpcnN0XG5cbi8vIGRvIG5vdGhpbmcgZWxzZSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZXNQcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfZXhlY3V0aW9uUmVzdWx0ID0gcmVxdWlyZShcIi4vZXhlY3V0aW9uLXJlc3VsdFwiKTtcblxudmFyIF92aXNpdG9ycyA9IHJlcXVpcmUoXCIuL3Zpc2l0b3JzXCIpO1xuXG52YXIgX3Zpc2l0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Zpc2l0b3JzKTtcblxudmFyIEV4ZWN1dGlvbkNvbnRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBFeGVjdXRpb25Db250ZXh0KGVudiwgbm9kZSwgY2FsbGVlLCBpc05ldykge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFeGVjdXRpb25Db250ZXh0KTtcblxuXHRcdHRoaXMubm9kZSA9IG5vZGU7XG5cdFx0dGhpcy5jYWxsZWUgPSBjYWxsZWU7XG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5pc05ldyA9ICEhaXNOZXc7XG5cblx0XHR0aGlzLmxhYmVsID0gXCJcIjtcblx0XHR0aGlzLnZhbHVlID0gbnVsbDtcblx0XHR0aGlzLnN0cmljdCA9IGZhbHNlO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEV4ZWN1dGlvbkNvbnRleHQsIFt7XG5cdFx0a2V5OiBcImV4ZWN1dGVcIixcblx0XHR2YWx1ZTogX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGV4ZWN1dGUoKSB7XG5cdFx0XHR2YXIgZXhlY3V0aW9uUmVzdWx0O1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBleGVjdXRlJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxO1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gX3Zpc2l0b3JzMltcImRlZmF1bHRcIl0udmlzaXQodGhpcyk7XG5cblx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gNztcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnQwID0gY29udGV4dCQyJDBbXCJjYXRjaFwiXSgxKTtcblxuXHRcdFx0XHRcdFx0ZXhlY3V0aW9uUmVzdWx0ID0gdGhpcy5yYWlzZShjb250ZXh0JDIkMC50MCk7XG5cblx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0aWYgKCEoZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yYWlzZWQpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRocm93IHRoaXMuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlKFwiRXJyb3JcIiwgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdCk7XG5cblx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQgfHwgdGhpcy5lbXB0eSgpKTtcblxuXHRcdFx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgZXhlY3V0ZSwgdGhpcywgW1sxLCA3XV0pO1xuXHRcdH0pXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShub2RlLCBjYWxsZWUsIGlzTmV3KSB7XG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBFeGVjdXRpb25Db250ZXh0KHRoaXMuZW52LCBub2RlLCBjYWxsZWUgfHwgdGhpcy5jYWxsZWUsIGlzTmV3KTtcblx0XHRcdGNvbnRleHQudmFsdWUgPSB0aGlzLnZhbHVlO1xuXHRcdFx0cmV0dXJuIGNvbnRleHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUxhYmVsXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKG5vZGUsIGxhYmVsKSB7XG5cdFx0XHR2YXIgY29udGV4dCA9IHRoaXMuY3JlYXRlKG5vZGUpO1xuXHRcdFx0Y29udGV4dC5sYWJlbCA9IGxhYmVsO1xuXHRcdFx0cmV0dXJuIGNvbnRleHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhbmNlbFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjYW5jZWwobGFiZWwpIHtcblx0XHRcdHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdCh0aGlzLnZhbHVlLCBsYWJlbCk7XG5cdFx0XHRyZXN1bHQuY2FuY2VsID0gdHJ1ZTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNraXBcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2tpcChsYWJlbCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0KHRoaXMudmFsdWUsIGxhYmVsKTtcblx0XHRcdHJlc3VsdC5za2lwID0gdHJ1ZTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJhaXNlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHJhaXNlKGVycikge1xuXHRcdFx0dmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0KGVycik7XG5cdFx0XHRyZXN1bHQucmFpc2VkID0gcmVzdWx0LmV4aXQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZXhpdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBleGl0KHZhbHVlKSB7XG5cdFx0XHR0aGlzLmNhbGxlZSA9IG51bGw7XG5cblx0XHRcdHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdCh2YWx1ZSk7XG5cdFx0XHRyZXN1bHQuZXhpdCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJyZXN1bHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcmVzdWx0KHZhbHVlLCBuYW1lLCBvYmopIHtcblx0XHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHRcdHJldHVybiBuZXcgX2V4ZWN1dGlvblJlc3VsdC5FeGVjdXRpb25SZXN1bHQodmFsdWUsIG5hbWUsIG9iaik7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImVtcHR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucmVzdWx0KF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gRXhlY3V0aW9uQ29udGV4dDtcbn0pKCk7XG5cbmV4cG9ydHMuRXhlY3V0aW9uQ29udGV4dCA9IEV4ZWN1dGlvbkNvbnRleHQ7XG47IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgRXhlY3V0aW9uUmVzdWx0ID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gRXhlY3V0aW9uUmVzdWx0KHZhbHVlLCBuYW1lLCBvYmopIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhlY3V0aW9uUmVzdWx0KTtcblxuXHRcdHRoaXMucmVzdWx0ID0gdmFsdWU7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblxuXHRcdHRoaXMuY2FuY2VsID0gZmFsc2U7XG5cdFx0dGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcblx0XHR0aGlzLmV4aXQgPSBmYWxzZTtcblx0XHR0aGlzLnNraXAgPSBmYWxzZTtcblx0XHR0aGlzLnJhaXNlZCA9IGZhbHNlO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEV4ZWN1dGlvblJlc3VsdCwgW3tcblx0XHRrZXk6IFwiaXNDYW5jZWxsZWRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaXNDYW5jZWxsZWQoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jYW5jZWwgfHwgdGhpcy5leGl0IHx8IHRoaXMucmFpc2VkO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjYW5CcmVha1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjYW5CcmVhaygpIHtcblx0XHRcdHJldHVybiB0aGlzLmlzQ2FuY2VsbGVkKCkgfHwgdGhpcy5za2lwO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJzaG91bGRCcmVha1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzaG91bGRCcmVhayhjb250ZXh0LCBsb29wLCBwcmlvclJlc3VsdCkge1xuXHRcdFx0aWYgKHRoaXMuZXhpdCB8fCB0aGlzLnJhaXNlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLmNhbmNlbCAmJiAhdGhpcy5za2lwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGJyZWFraW5nID0gdHJ1ZTtcblx0XHRcdGlmICh0aGlzLm5hbWUgJiYgdGhpcy5uYW1lID09PSBjb250ZXh0LmxhYmVsKSB7XG5cdFx0XHRcdGJyZWFraW5nID0gdGhpcy5jYW5jZWxsZWQgPSB0aGlzLmNhbmNlbDtcblx0XHRcdFx0dGhpcy5jYW5jZWwgPSB0aGlzLnNraXAgPSBmYWxzZTtcblxuXHRcdFx0XHRpZiAodGhpcy5jYW5jZWxsZWQpIHtcblx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IHByaW9yUmVzdWx0ICYmIHByaW9yUmVzdWx0LnJlc3VsdCB8fCB0aGlzLnJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBicmVha2luZztcblx0XHRcdH1cblxuXHRcdFx0aWYgKGxvb3AgJiYgIXRoaXMubmFtZSkge1xuXHRcdFx0XHRicmVha2luZyA9IHRoaXMuY2FuY2VsbGVkID0gdGhpcy5jYW5jZWw7XG5cdFx0XHRcdHRoaXMuY2FuY2VsID0gdGhpcy5za2lwID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucmVzdWx0ID0gcHJpb3JSZXN1bHQgJiYgcHJpb3JSZXN1bHQucmVzdWx0IHx8IHRoaXMucmVzdWx0O1xuXHRcdFx0cmV0dXJuIGJyZWFraW5nO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBFeGVjdXRpb25SZXN1bHQ7XG59KSgpO1xuXG5leHBvcnRzLkV4ZWN1dGlvblJlc3VsdCA9IEV4ZWN1dGlvblJlc3VsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfU3ltYm9sJGl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG5yZXF1aXJlKFwiLi9wb2x5ZmlsbHNcIik7XG5cbnZhciBfZW52ID0gcmVxdWlyZShcIi4vZW52XCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi91dGlscy9hc3luY1wiKTtcblxudmFyIFNhbmRCb3hyID0gKGZ1bmN0aW9uICgpIHtcblx0LyoqXHJcbiAgKiBDcmVhdGVzIGEgbmV3IFNhbmRib3hcclxuICAqIEBjbGFzc1xyXG4gICogQHBhcmFtIHtBU1R9IGFzdCAtIFRoZSBhYnN0cmFjdCBzeW50YXggdHJlZSB0byBleGVjdXRlLlxyXG4gICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyB0byB1c2Ugd2l0aCB0aGUgc2FuZGJveC5cclxuICAqL1xuXG5cdGZ1bmN0aW9uIFNhbmRCb3hyKGFzdCkge1xuXHRcdHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2FuZEJveHIpO1xuXG5cdFx0dGhpcy5hc3QgPSBhc3Q7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0fVxuXG5cdC8qKlxyXG4gICogRXhlY3V0ZXMgdGhlIGFic3RyYWN0IHN5bnRheCB0cmVlIChBU1QpIGFnYWluc3QgdGhlIHByb3ZpZGVkIGVudmlyb25tZW50IChvciB0aGUgZGVmYXVsdFxyXG4gICogZW52aXJvbm1lbnQgaWYgbm90IHByb3ZpZGVkKVxyXG4gICogQHBhcmFtIHtFbnZpcm9ubWVudH0gW2Vudl0gLSBUaGUgZW52aXJvbm1lbnQgdG8gZXhlY3V0ZSB0aGUgQVNUIGFnYWluc3QuXHJcbiAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBleGVjdXRpb25cclxuICAqL1xuXG5cdF9jcmVhdGVDbGFzcyhTYW5kQm94ciwgW3tcblx0XHRrZXk6IFwiZXhlY3V0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlKGVudikge1xuXHRcdFx0aWYgKCFlbnYpIHtcblx0XHRcdFx0ZW52ID0gU2FuZEJveHIuY3JlYXRlRW52aXJvbm1lbnQoKTtcblx0XHRcdFx0ZW52LmluaXQodGhpcy5vcHRpb25zKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5wcm9taXNpZnkpKGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KHRoaXMuYXN0KS5leGVjdXRlKCkpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRyZXR1cm4gcmVzLnJlc3VsdDtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogX1N5bWJvbCRpdGVyYXRvcixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdGVwKCk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInN0ZXBcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc3RlcChlbnYpIHtcblx0XHRcdGlmICghZW52KSB7XG5cdFx0XHRcdGVudiA9IFNhbmRCb3hyLmNyZWF0ZUVudmlyb25tZW50KCk7XG5cdFx0XHRcdGVudi5pbml0KHRoaXMub3B0aW9ucyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuc3RlcCkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpcy5hc3QpLmV4ZWN1dGUoKSk7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhbiBlbnZpcm9ubWVudCBpbnN0YW5jZS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZW52aXJvbm1lbnQgaW5zdGFuY2UuXHJcbiAgICovXG5cdH1dLCBbe1xuXHRcdGtleTogXCJjcmVhdGVFbnZpcm9ubWVudFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVFbnZpcm9ubWVudCgpIHtcblx0XHRcdHJldHVybiBuZXcgX2Vudi5FbnZpcm9ubWVudCgpO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuZEJveHIgaW5zdGFuY2UuXHJcbiAgICogQHBhcmFtIHtBU1R9IGFzdCAtIFRoZSBhYnN0cmFjdCBzeW50YXggdHJlZSB0byBleGVjdXRlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgdG8gdXNlIHdpdGggdGhlIHNhbmRib3guXHJcbiAgICogQHJldHVybnMge1NhbmRCb3hyfSBBIG5ldyBzYW5kYm94LlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoYXN0LCBvcHRpb25zKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFNhbmRCb3hyKGFzdCwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFNhbmRCb3hyO1xufSkoKTtcblxuZXhwb3J0cy5TYW5kQm94ciA9IFNhbmRCb3hyOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbnZhciBtYXJrZWQwJDAgPSBbYXNjSXRlcmF0b3IsIGRlc2NJdGVyYXRvciwgeWllbGRJbmRleF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIGFzY0l0ZXJhdG9yKHNvdXJjZSwgbG8sIGhpKSB7XG5cdHZhciBpbmRleDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBhc2NJdGVyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpbmRleCA9IGxvO1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGlmICghKGluZGV4IDwgaGkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZCh5aWVsZEluZGV4KHNvdXJjZSwgaW5kZXgpLCBcInQwXCIsIDMpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzY0l0ZXJhdG9yKHNvdXJjZSwgbG8sIGhpKSB7XG5cdHZhciBpbmRleDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXNjSXRlcmF0b3IkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aW5kZXggPSBoaTtcblxuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRpZiAoIShpbmRleCA+PSBsbykpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHlpZWxkSW5kZXgoc291cmNlLCBpbmRleCksIFwidDBcIiwgMyk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB5aWVsZEluZGV4KHNvdXJjZSwgaW5kZXgpIHtcblx0dmFyIHByb3AsIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHlpZWxkSW5kZXgkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0cHJvcCA9IHNvdXJjZS5nZXRQcm9wZXJ0eShpbmRleCk7XG5cblx0XHRcdFx0aWYgKCFwcm9wKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZSA9IHByb3AuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgaW5kZXg6IGluZGV4IH07XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbnZhciBBcnJheUl0ZXJhdG9yID0ge1xuXHRjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShvYmosIGxvLCBoaSwgZGVzYykge1xuXHRcdHJldHVybiAoZGVzYyA/IGRlc2NJdGVyYXRvciA6IGFzY0l0ZXJhdG9yKShvYmosIGxvLCBoaSk7XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQXJyYXlJdGVyYXRvcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfT2JqZWN0JGtleXMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0XCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zdHJpbmdJdGVyYXRvciA9IHJlcXVpcmUoXCIuL3N0cmluZy1pdGVyYXRvclwiKTtcblxudmFyIF9zdHJpbmdJdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdJdGVyYXRvcik7XG5cbnZhciBfc3BhcnNlSXRlcmF0b3IgPSByZXF1aXJlKFwiLi9zcGFyc2UtaXRlcmF0b3JcIik7XG5cbnZhciBfc3BhcnNlSXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3BhcnNlSXRlcmF0b3IpO1xuXG52YXIgX2FycmF5SXRlcmF0b3IgPSByZXF1aXJlKFwiLi9hcnJheS1pdGVyYXRvclwiKTtcblxudmFyIF9hcnJheUl0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FycmF5SXRlcmF0b3IpO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgU1BBUkVfQVJSQVlfREVOU0lUWSA9IDAuODtcblxuZnVuY3Rpb24gYXJyYXlJc1NwYXJzZShhcnIsIGxlbmd0aCkge1xuXHR2YXIgb3duUHJvcGVydHlDb3VudCA9IF9PYmplY3Qka2V5cyhhcnIucHJvcGVydGllcykubGVuZ3RoO1xuXG5cdC8vIHRoaXMgaXMganVzdCB0byByb3VnaGx5IGVzdGltYXRlIGhvdyBkZW5zZSB0aGUgYXJyYXkgaXNcblx0dmFyIGRlbnNpdHkgPSAob3duUHJvcGVydHlDb3VudCAtIDEpIC8gbGVuZ3RoO1xuXHRyZXR1cm4gZGVuc2l0eSA8IFNQQVJFX0FSUkFZX0RFTlNJVFk7XG59XG5cbnZhciBpdGVyYXRlID0ge1xuXHRmb3J3YXJkOiBmdW5jdGlvbiBmb3J3YXJkKGVudiwgb2JqLCBsbywgaGkpIHtcblx0XHQvLyBzdHJpbmcgd2lsbCBuZXZlciBiZSBkZW5zZVxuXHRcdGlmIChvYmouY2xhc3NOYW1lID09PSBcIlN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gX3N0cmluZ0l0ZXJhdG9yMltcImRlZmF1bHRcIl0uY3JlYXRlKGVudi5vYmplY3RGYWN0b3J5LCBvYmosIGxvKTtcblx0XHR9XG5cblx0XHRpZiAoYXJyYXlJc1NwYXJzZShvYmosIGhpKSkge1xuXHRcdFx0cmV0dXJuIF9zcGFyc2VJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShvYmosIGxvLCBoaSAtIDEpO1xuXHRcdH1cblxuXHRcdHJldHVybiBfYXJyYXlJdGVyYXRvcjJbXCJkZWZhdWx0XCJdLmNyZWF0ZShvYmosIGxvLCBoaSk7XG5cdH0sXG5cblx0cmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZShlbnYsIG9iaiwgaGkpIHtcblx0XHR2YXIgbG8gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzNdO1xuXG5cdFx0aWYgKG9iai5jbGFzc05hbWUgPT09IFwiU3RyaW5nXCIpIHtcblx0XHRcdHJldHVybiBfc3RyaW5nSXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUoZW52Lm9iamVjdEZhY3RvcnksIG9iaiwgaGksIHRydWUpO1xuXHRcdH1cblxuXHRcdGlmIChhcnJheUlzU3BhcnNlKG9iaiwgaGkpKSB7XG5cdFx0XHRyZXR1cm4gX3NwYXJzZUl0ZXJhdG9yMltcImRlZmF1bHRcIl0uY3JlYXRlKG9iaiwgbG8sIGhpLCB0cnVlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gX2FycmF5SXRlcmF0b3IyW1wiZGVmYXVsdFwiXS5jcmVhdGUob2JqLCBsbywgaGksIHRydWUpO1xuXHR9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGl0ZXJhdGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9TeW1ib2wkaXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgQVNDRU5ESU5HID0gZnVuY3Rpb24gQVNDRU5ESU5HKGEsIGIpIHtcblx0cmV0dXJuIGEgLSBiO1xufTtcbnZhciBERVNDRU5ESU5HID0gZnVuY3Rpb24gREVTQ0VORElORyhhLCBiKSB7XG5cdHJldHVybiBiIC0gYTtcbn07XG5cbnZhciBTcGFyc2VJdGVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIFNwYXJzZUl0ZXJhdG9yKG9iaiwgc3RhcnQsIGVuZCwgZGVzYykge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcGFyc2VJdGVyYXRvcik7XG5cblx0XHR0aGlzLm9iamVjdCA9IG9iajtcblx0XHR0aGlzLnN0YXJ0ID0gc3RhcnQ7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy5hc2MgPSAhZGVzYztcblx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFNwYXJzZUl0ZXJhdG9yLCBbe1xuXHRcdGtleTogX1N5bWJvbCRpdGVyYXRvcixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicmVzZXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0XHR0aGlzLnZlcnNpb24gPSAwO1xuXHRcdFx0dGhpcy5wcm90b3R5cGVzID0gW107XG5cdFx0XHR0aGlzLnByb3BzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHR0aGlzLmtleXMgPSBbXTtcblxuXHRcdFx0dmFyIGN1cnJlbnQgPSB0aGlzLm9iamVjdDtcblxuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0dGhpcy5wcm90b3R5cGVzLnB1c2goY3VycmVudCk7XG5cdFx0XHRcdHRoaXMudmVyc2lvbiArPSBjdXJyZW50LnZlcnNpb247XG5cblx0XHRcdFx0Zm9yICh2YXIgX25hbWUgaW4gY3VycmVudC5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0aWYgKCEoX25hbWUgaW4gdGhpcy5wcm9wcykgJiYgY29udHJhY3RzLmlzSW50ZWdlcihfbmFtZSkpIHtcblx0XHRcdFx0XHRcdHZhciBpbmRleCA9IE51bWJlcihfbmFtZSk7XG5cblx0XHRcdFx0XHRcdGlmIChpbmRleCA+PSB0aGlzLnN0YXJ0ICYmIGluZGV4IDw9IHRoaXMuZW5kKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucHJvcHNbX25hbWVdID0gY3VycmVudC5nZXRPd25Qcm9wZXJ0eShfbmFtZSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMua2V5cy5wdXNoKGluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5rZXlzLnNvcnQodGhpcy5hc2MgPyBBU0NFTkRJTkcgOiBERVNDRU5ESU5HKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwibmV4dFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBuZXh0KCkge1xuXHRcdFx0aWYgKCF0aGlzLnZlcnNpb24gfHwgdGhpcy5zaG91bGRSZXNldCgpKSB7XG5cdFx0XHRcdHRoaXMucmVzZXQoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMua2V5cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IHRoaXMucG9zaXRpb24gPSB0aGlzLmtleXMuc2hpZnQoKTtcblx0XHRcdFx0dmFyIHZhbHVlID0gdGhpcy5wcm9wc1tpbmRleF0uZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHZhbHVlOiB7IHZhbHVlOiB2YWx1ZSwgaW5kZXg6IGluZGV4IH0sXG5cdFx0XHRcdFx0ZG9uZTogZmFsc2Vcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZG9uZTogdHJ1ZVxuXHRcdFx0fTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2hvdWxkUmVzZXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2hvdWxkUmVzZXQoKSB7XG5cdFx0XHR2YXIgY3VycmVudFZlcnNpb24gPSB0aGlzLnByb3RvdHlwZXMucmVkdWNlKGZ1bmN0aW9uICh2LCBvKSB7XG5cdFx0XHRcdHJldHVybiBvLnZlcnNpb24gKyB2O1xuXHRcdFx0fSwgMCk7XG5cdFx0XHRpZiAoY3VycmVudFZlcnNpb24gIT09IHRoaXMudmVyc2lvbikge1xuXHRcdFx0XHRpZiAodGhpcy5hc2MpIHtcblx0XHRcdFx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5wb3NpdGlvbiArIDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5lbmQgPSB0aGlzLnBvc2l0aW9uIC0gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XSwgW3tcblx0XHRrZXk6IFwiY3JlYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShhcnIsIHN0YXJ0LCBlbmQsIGRlc2MpIHtcblx0XHRcdHJldHVybiBuZXcgU3BhcnNlSXRlcmF0b3IoYXJyLCBzdGFydCwgZW5kLCBkZXNjKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gU3BhcnNlSXRlcmF0b3I7XG59KSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNwYXJzZUl0ZXJhdG9yO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW2FzY0l0ZXJhdG9yLCBkZXNjSXRlcmF0b3JdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuZnVuY3Rpb24gYXNjSXRlcmF0b3IoZmFjdG9yeSwgc3RyaW5nVmFsdWUsIHN0YXJ0KSB7XG5cdHZhciBpbmRleCwgX2xlbmd0aCwgdmFsdWU7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBhc2NJdGVyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpbmRleCA9IHN0YXJ0LCBfbGVuZ3RoID0gc3RyaW5nVmFsdWUubGVuZ3RoO1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGlmICghKGluZGV4IDwgX2xlbmd0aCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWVbaW5kZXhdKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgaW5kZXg6IGluZGV4IH07XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZXNjSXRlcmF0b3IoZmFjdG9yeSwgc3RyaW5nVmFsdWUsIHN0YXJ0KSB7XG5cdHZhciBpbmRleCwgdmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzY0l0ZXJhdG9yJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGluZGV4ID0gc3RhcnQ7XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0aWYgKCEoaW5kZXggPj0gMCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0gZmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoc3RyaW5nVmFsdWVbaW5kZXhdKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgaW5kZXg6IGluZGV4IH07XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG52YXIgU3RyaW5nSXRlcmF0b3IgPSB7XG5cdGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKG9iamVjdEZhY3RvcnksIHZhbHVlLCBzdGFydCwgZGVzYykge1xuXHRcdHZhciBzdHJpbmdWYWx1ZSA9IHZhbHVlLnRvTmF0aXZlKCk7XG5cdFx0cmV0dXJuIChkZXNjID8gZGVzY0l0ZXJhdG9yIDogYXNjSXRlcmF0b3IpKG9iamVjdEZhY3RvcnksIHN0cmluZ1ZhbHVlLCBzdGFydCk7XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU3RyaW5nSXRlcmF0b3I7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5pc1Jlc2VydmVkID0gaXNSZXNlcnZlZDtcbmV4cG9ydHMuaXNTdHJpY3RSZXNlcnZlZCA9IGlzU3RyaWN0UmVzZXJ2ZWQ7XG52YXIga2V5d29yZHMgPSB7XG5cdFwiZXM1XCI6IFtcImRvXCIsIFwiaWZcIiwgXCJpblwiLCBcImZvclwiLCBcIm5ld1wiLCBcInRyeVwiLCBcInZhclwiLCBcImNhc2VcIiwgXCJlbHNlXCIsIFwiZW51bVwiLCBcIm51bGxcIiwgXCJ0aGlzXCIsIFwidHJ1ZVwiLCBcInZvaWRcIiwgXCJ3aXRoXCIsIFwiYnJlYWtcIiwgXCJjYXRjaFwiLCBcImNsYXNzXCIsIFwiY29uc3RcIiwgXCJmYWxzZVwiLCBcInN1cGVyXCIsIFwidGhyb3dcIiwgXCJ3aGlsZVwiLCBcImRlbGV0ZVwiLCBcImV4cG9ydFwiLCBcImltcG9ydFwiLCBcInJldHVyblwiLCBcInN3aXRjaFwiLCBcInR5cGVvZlwiLCBcImRlZmF1bHRcIiwgXCJleHRlbmRzXCIsIFwiZmluYWxseVwiLCBcImNvbnRpbnVlXCIsIFwiZGVidWdnZXJcIiwgXCJmdW5jdGlvblwiLCBcImluc3RhbmNlb2ZcIl0sXG5cblx0XCJlczVzdHJpY3RcIjogW1wiaW1wbGVtZW50c1wiLCBcImxldFwiLCBcInByaXZhdGVcIiwgXCJwdWJsaWNcIiwgXCJpbnRlcmZhY2VcIiwgXCJwYWNrYWdlXCIsIFwicHJvdGVjdGVkXCIsIFwic3RhdGljXCIsIFwieWllbGRcIl1cbn07XG5cbmZ1bmN0aW9uIGlzUmVzZXJ2ZWQobmFtZSkge1xuXHRyZXR1cm4ga2V5d29yZHMuZXM1LmluZGV4T2YobmFtZSkgPj0gMDtcbn1cblxuZnVuY3Rpb24gaXNTdHJpY3RSZXNlcnZlZChuYW1lKSB7XG5cdHJldHVybiBrZXl3b3Jkcy5lczVzdHJpY3QuaW5kZXhPZihuYW1lKSA+PSAwO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9mbi9zdHJpbmcvcmVwZWF0XCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9mbi9tYXRoL3NpZ25cIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL2VzNi9wcm9taXNlXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9lczYvc3ltYm9sXCIpOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUFzc2lnbm1lbnQobGVmdCwgc3RyaWN0KSB7XG5cdGlmIChzdHJpY3QgJiYgbGVmdC50eXBlID09PSBcIklkZW50aWZpZXJcIikge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShsZWZ0Lm5hbWUsIHRydWUpO1xuXHR9XG59XG5cbnZhciBydWxlcyA9IHtcblx0QXNzaWdubWVudEV4cHJlc3Npb246IGZ1bmN0aW9uIEFzc2lnbm1lbnRFeHByZXNzaW9uKG5vZGUsIHN0cmljdCkge1xuXHRcdHZhbGlkYXRlQXNzaWdubWVudChub2RlLmxlZnQsIHN0cmljdCk7XG5cdH0sXG5cblx0Q2F0Y2hDbGF1c2U6IGZ1bmN0aW9uIENhdGNoQ2xhdXNlKG5vZGUsIHN0cmljdCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShub2RlLnBhcmFtLm5hbWUsIHN0cmljdCk7XG5cdH0sXG5cblx0SWRlbnRpZmllcjogZnVuY3Rpb24gSWRlbnRpZmllcihub2RlLCBzdHJpY3QpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIobm9kZS5uYW1lLCBzdHJpY3QpO1xuXHR9LFxuXG5cdEZ1bmN0aW9uRGVjbGFyYXRpb246IGZ1bmN0aW9uIEZ1bmN0aW9uRGVjbGFyYXRpb24obm9kZSwgc3RyaWN0KSB7XG5cdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWROYW1lKG5vZGUuaWQubmFtZSwgc3RyaWN0KTtcblx0XHRjb250cmFjdHMuYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMobm9kZS5wYXJhbXMsIHN0cmljdCk7XG5cdH0sXG5cblx0RnVuY3Rpb25FeHByZXNzaW9uOiBmdW5jdGlvbiBGdW5jdGlvbkV4cHJlc3Npb24obm9kZSwgc3RyaWN0KSB7XG5cdFx0aWYgKG5vZGUuaWQpIHtcblx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkTmFtZShub2RlLmlkLm5hbWUsIHN0cmljdCk7XG5cdFx0fVxuXG5cdFx0Y29udHJhY3RzLmFzc2VydEFyZVZhbGlkQXJndW1lbnRzKG5vZGUucGFyYW1zLCBzdHJpY3QpO1xuXHR9LFxuXG5cdExpdGVyYWw6IGZ1bmN0aW9uIExpdGVyYWwobm9kZSwgc3RyaWN0KSB7XG5cdFx0aWYgKHN0cmljdCAmJiBub2RlLnJhdykge1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc09jdGFsTGl0ZXJhbChub2RlLnJhdywgbm9kZS52YWx1ZSkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiT2N0YWwgbGl0ZXJhbHMgYXJlIG5vdCBhbGxvd2VkIGluIHN0cmljdCBtb2RlLlwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0VXBkYXRlRXhwcmVzc2lvbjogZnVuY3Rpb24gVXBkYXRlRXhwcmVzc2lvbihub2RlLCBzdHJpY3QpIHtcblx0XHR2YWxpZGF0ZUFzc2lnbm1lbnQobm9kZS5hcmd1bWVudCwgc3RyaWN0KTtcblx0fSxcblxuXHRWYXJpYWJsZURlY2xhcmF0b3I6IGZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRvcihub2RlLCBzdHJpY3QpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZE5hbWUobm9kZS5pZC5uYW1lLCBzdHJpY3QpO1xuXHR9LFxuXG5cdFdpdGhTdGF0ZW1lbnQ6IGZ1bmN0aW9uIFdpdGhTdGF0ZW1lbnQobm9kZSwgc3RyaWN0KSB7XG5cdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiU3RyaWN0IG1vZGUgY29kZSBtYXkgbm90IGluY2x1ZGUgYSB3aXRoIHN0YXRlbWVudFwiKTtcblx0XHR9XG5cdH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcnVsZXM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBBcmd1bWVudFR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhBcmd1bWVudFR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBBcmd1bWVudFR5cGUoY2FsbGVlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFyZ3VtZW50VHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcmd1bWVudFR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJBcmd1bWVudHNcIjtcblx0XHR0aGlzLnBhcmFtZXRlck1hcCA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdHRoaXMuY2FsbGVlID0gY2FsbGVlO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKEFyZ3VtZW50VHlwZSwgW3tcblx0XHRrZXk6IFwibWFwUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gbWFwUHJvcGVydHkoaW5kZXgsIGJpbmRpbmcpIHtcblx0XHRcdGluZGV4ID0gU3RyaW5nKGluZGV4KTtcblx0XHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImRlZmluZU93blByb3BlcnR5XCIsIHRoaXMpLmNhbGwodGhpcywgaW5kZXgsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9LCB0cnVlKTtcblx0XHRcdHRoaXMucGFyYW1ldGVyTWFwW2luZGV4XSA9IGJpbmRpbmc7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KG5hbWUpIHtcblx0XHRcdHZhciBvd25Qcm9wZXJ0eSA9IHRoaXMuZ2V0T3duUHJvcGVydHkobmFtZSk7XG5cdFx0XHRpZiAob3duUHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIG93blByb3BlcnR5O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXJndW1lbnRUeXBlLnByb3RvdHlwZSksIFwiZ2V0UHJvcGVydHlcIiwgdGhpcykuY2FsbCh0aGlzLCBuYW1lKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHkobmFtZSkge1xuXHRcdFx0bmFtZSA9IFN0cmluZyhuYW1lKTtcblxuXHRcdFx0aWYgKG5hbWUgaW4gdGhpcy5wYXJhbWV0ZXJNYXApIHtcblx0XHRcdFx0dmFyIG1hcHBlZFByb3BlcnR5ID0gdGhpcy5wcm9wZXJ0aWVzW25hbWVdO1xuXHRcdFx0XHR2YXIgbGlua2VkUHJvcGVydHkgPSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblxuXHRcdFx0XHRtYXBwZWRQcm9wZXJ0eS52YWx1ZSA9IGxpbmtlZFByb3BlcnR5LmdldFZhbHVlKCk7XG5cdFx0XHRcdG1hcHBlZFByb3BlcnR5LnNldFZhbHVlID0gbGlua2VkUHJvcGVydHkuc2V0VmFsdWUuYmluZChsaW5rZWRQcm9wZXJ0eSk7XG5cdFx0XHRcdHJldHVybiBtYXBwZWRQcm9wZXJ0eTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImdldE93blByb3BlcnR5XCIsIHRoaXMpLmNhbGwodGhpcywgbmFtZSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlZmluZU93blByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlZmluZU93blByb3BlcnR5KG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHRcdFx0bmFtZSA9IFN0cmluZyhuYW1lKTtcblxuXHRcdFx0dmFyIGFsbG93ZWQgPSBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcmd1bWVudFR5cGUucHJvdG90eXBlKSwgXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0aWYgKGFsbG93ZWQgJiYgbmFtZSBpbiB0aGlzLnBhcmFtZXRlck1hcCkge1xuXHRcdFx0XHRpZiAoXCJzZXRcIiBpbiBkZXNjcmlwdG9yIHx8IFwiZ2V0XCIgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblx0XHRcdFx0fSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHRcdHRoaXMucGFyYW1ldGVyTWFwW25hbWVdLnNldFZhbHVlKGRlc2NyaXB0b3IudmFsdWUsIHRocm93T25FcnJvcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXCJ3cml0YWJsZVwiIGluIGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3Iud3JpdGFibGUpIHtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5wYXJhbWV0ZXJNYXBbbmFtZV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFsbG93ZWQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KG5hbWUsIHRocm93T25FcnJvcikge1xuXHRcdFx0bmFtZSA9IFN0cmluZyhuYW1lKTtcblx0XHRcdGlmIChuYW1lIGluIHRoaXMucGFyYW1ldGVyTWFwKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLnBhcmFtZXRlck1hcFtuYW1lXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFyZ3VtZW50VHlwZS5wcm90b3R5cGUpLCBcImRlbGV0ZVByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEFyZ3VtZW50VHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLkFyZ3VtZW50VHlwZSA9IEFyZ3VtZW50VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbWFya2VkMCQwID0gW3NldExlbmd0aF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX2l0ZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi9pdGVyYXRvcnNcIik7XG5cbnZhciBfaXRlcmF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9ycyk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gc2V0SW5kZXgoZW52LCBhcnIsIG5hbWUsIGRlc2NyaXB0b3IsIHRocm93T25FcnJvcikge1xuXHR2YXIgaW5kZXggPSBOdW1iZXIobmFtZSk7XG5cdHZhciBsZW5ndGhQcm9wZXJ0eSA9IGFyci5nZXRQcm9wZXJ0eShcImxlbmd0aFwiKTtcblx0dmFyIGxlbmd0aFZhbHVlID0gbGVuZ3RoUHJvcGVydHkuZ2V0VmFsdWUoKS50b05hdGl2ZSgpO1xuXG5cdGlmICghbGVuZ3RoUHJvcGVydHkuY2FuU2V0VmFsdWUoKSAmJiBpbmRleCA+PSBsZW5ndGhWYWx1ZSB8fCAhX29iamVjdFR5cGUuT2JqZWN0VHlwZS5wcm90b3R5cGUuZGVmaW5lT3duUHJvcGVydHkuY2FsbChhcnIsIG5hbWUsIGRlc2NyaXB0b3IsIGZhbHNlLCBlbnYpKSB7XG5cblx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGRlZmluZSBwcm9wZXJ0eTogXCIgKyBuYW1lICsgXCIsIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZS5cIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKGluZGV4ID49IGxlbmd0aFZhbHVlKSB7XG5cdFx0dmFyIG5ld0xlbmd0aCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShpbmRleCArIDEpO1xuXHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHZhbHVlOiBuZXdMZW5ndGggfSwgZmFsc2UsIGVudik7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0TGVuZ3RoKGVudiwgYXJyLCBuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpIHtcblx0dmFyIG5ld0xlbmd0aFZhbHVlLCBuZXdMZW5ndGgsIGN1cnJlbnRMZW5ndGgsIG5vdFdyaXRhYmxlLCBpLCBzdWNjZWVkZWQsIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnk7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzZXRMZW5ndGgkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvVUludDMyKShlbnYsIGRlc2NyaXB0b3IudmFsdWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdG5ld0xlbmd0aFZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBuZXdMZW5ndGhWYWx1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShlbnYsIGRlc2NyaXB0b3IudmFsdWUpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShjb250ZXh0JDEkMC50MCAhPT0gY29udGV4dCQxJDAudDEpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFycmF5IGxlbmd0aCBvdXQgb2YgcmFuZ2VcIik7XG5cblx0XHRcdGNhc2UgOTpcblxuXHRcdFx0XHRkZXNjcmlwdG9yLnZhbHVlID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKG5ld0xlbmd0aFZhbHVlKTtcblx0XHRcdFx0bmV3TGVuZ3RoID0gZGVzY3JpcHRvci52YWx1ZTtcblx0XHRcdFx0Y3VycmVudExlbmd0aCA9IGFyci5nZXRQcm9wZXJ0eShcImxlbmd0aFwiKS5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGNvbnRyYWN0cy5hc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGgobmV3TGVuZ3RoLnZhbHVlKTtcblxuXHRcdFx0XHRpZiAoIShuZXdMZW5ndGgudmFsdWUgPj0gY3VycmVudExlbmd0aC52YWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIF9vYmplY3RUeXBlLk9iamVjdFR5cGUucHJvdG90eXBlLmRlZmluZU93blByb3BlcnR5LmNhbGwoYXJyLCBuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0aWYgKCEoYXJyLnByb3BlcnRpZXMubGVuZ3RoLndyaXRhYmxlID09PSBmYWxzZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVkZWZpbmUgcHJvcGVydHk6IGxlbmd0aFwiKTtcblxuXHRcdFx0Y2FzZSAxODpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMTk6XG5cdFx0XHRcdG5vdFdyaXRhYmxlID0gXCJ3cml0YWJsZVwiIGluIGRlc2NyaXB0b3IgJiYgIWRlc2NyaXB0b3Iud3JpdGFibGU7XG5cblx0XHRcdFx0aWYgKG5vdFdyaXRhYmxlKSB7XG5cdFx0XHRcdFx0Ly8gc2V0IHRvIHdyaXRhYmxlIGluIGNhc2UgcmVtb3ZpbmcgaXRlbXMgZmFpbHNcblx0XHRcdFx0XHRkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgPSBjdXJyZW50TGVuZ3RoLnZhbHVlO1xuXG5cdFx0XHRcdGlmIChfb2JqZWN0VHlwZS5PYmplY3RUeXBlLnByb3RvdHlwZS5kZWZpbmVPd25Qcm9wZXJ0eS5jYWxsKGFyciwgbmFtZSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDI0OlxuXHRcdFx0XHRzdWNjZWVkZWQgPSB0cnVlO1xuXG5cdFx0XHRcdGlmICghKGkgPiBuZXdMZW5ndGgudmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjk7XG5cdFx0XHRcdF9pdGVyYXRvciA9IF9nZXRJdGVyYXRvcihfaXRlcmF0b3JzMltcImRlZmF1bHRcIl0ucmV2ZXJzZShlbnYsIGFyciwgaSAtIDEsIG5ld0xlbmd0aC52YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDMxOlxuXHRcdFx0XHRpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbnRyeSA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRcdGlmIChhcnIuZGVsZXRlUHJvcGVydHkoZW50cnkuaW5kZXgsIGZhbHNlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG5ld0xlbmd0aCA9IGVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShlbnRyeS5pbmRleCArIDEpO1xuXHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogbmV3TGVuZ3RoIH0sIGZhbHNlLCBlbnYpO1xuXHRcdFx0XHRzdWNjZWVkZWQgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDQxKTtcblxuXHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNDE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Nztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNDM6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0Mztcblx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBjb250ZXh0JDEkMFtcImNhdGNoXCJdKDI5KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQyO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gNDc7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0ODtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA1MDpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDUwO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSA1Mzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCg1MCk7XG5cblx0XHRcdGNhc2UgNTQ6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goNDcpO1xuXG5cdFx0XHRjYXNlIDU1OlxuXG5cdFx0XHRcdGlmIChub3RXcml0YWJsZSkge1xuXHRcdFx0XHRcdGFyci5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9LCBmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoISghc3VjY2VlZGVkICYmIHRocm93T25FcnJvcikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlZGVmaW5lIHByb3BlcnR5OiBsZW5ndGhcIik7XG5cblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgc3VjY2VlZGVkKTtcblxuXHRcdFx0Y2FzZSA1OTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcywgW1syOSwgNDMsIDQ3LCA1NV0sIFs0OCwsIDUwLCA1NF1dKTtcbn1cblxudmFyIEFycmF5VHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKEFycmF5VHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIEFycmF5VHlwZSgpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXJyYXlUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEFycmF5VHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkFycmF5XCI7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQXJyYXlUeXBlLCBbe1xuXHRcdGtleTogXCJpbml0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXQob2JqZWN0RmFjdG9yeSkge1xuXHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImxlbmd0aFwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSgwKSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlIH0pO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJwdXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBwdXRWYWx1ZShuYW1lLCB2YWx1ZSwgdGhyb3dPbkVycm9yLCBlbnYpIHtcblx0XHRcdGlmIChuYW1lID09PSBcImxlbmd0aFwiKSB7XG5cdFx0XHRcdCgwLCBfdXRpbHNBc3luYy5leGhhdXN0KShzZXRMZW5ndGgoZW52LCB0aGlzLCBuYW1lLCB7IHZhbHVlOiB2YWx1ZSB9LCB0aHJvd09uRXJyb3IpKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcnJheVR5cGUucHJvdG90eXBlKSwgXCJwdXRWYWx1ZVwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWZpbmVPd25Qcm9wZXJ0eShuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IsIGVudikge1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc0ludGVnZXIobmFtZSkgJiYgY29udHJhY3RzLmlzVmFsaWRBcnJheUxlbmd0aChOdW1iZXIobmFtZSkgKyAxKSAmJiAhdGhpcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gc2V0SW5kZXgoZW52LCB0aGlzLCBuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmFtZSA9PT0gXCJsZW5ndGhcIiAmJiBcImxlbmd0aFwiIGluIHRoaXMucHJvcGVydGllcyAmJiBkZXNjcmlwdG9yICYmIFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZXhoYXVzdCkoc2V0TGVuZ3RoKGVudiwgdGhpcywgbmFtZSwgZGVzY3JpcHRvciwgdGhyb3dPbkVycm9yKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihBcnJheVR5cGUucHJvdG90eXBlKSwgXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHZhciBhcnIgPSBbXTtcblxuXHRcdFx0Ly8gdGhpcyB3b24ndCBncmFiIHByb3BlcnRpZXMgZnJvbSB0aGUgcHJvdG90eXBlIC0gZG8gd2UgY2FyZT9cblx0XHRcdC8vIGl0J3MgYW4gZWRnZSBjYXNlIGJ1dCB3ZSBtYXkgd2FudCB0byBhZGRyZXNzIGl0XG5cdFx0XHRmb3IgKHZhciBpbmRleCBpbiB0aGlzLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0aWYgKHRoaXMucHJvcGVydGllc1tpbmRleF0uZW51bWVyYWJsZSkge1xuXHRcdFx0XHRcdGFycltOdW1iZXIoaW5kZXgpXSA9IHRoaXMuZ2V0VmFsdWUoaW5kZXgpLnRvTmF0aXZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFycjtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gQXJyYXlUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuQXJyYXlUeXBlID0gQXJyYXlUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBEYXRlVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKERhdGVUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gRGF0ZVR5cGUodmFsdWUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZVR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF0ZVR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLnR5cGUgPSBcIm9iamVjdFwiO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJEYXRlXCI7XG5cblx0XHQvLyAxMS42LjEgTm90ZSAxXG5cdFx0Ly8gQWxsIG5hdGl2ZSBFQ01BU2NyaXB0IG9iamVjdHMgZXhjZXB0IERhdGUgb2JqZWN0cyBoYW5kbGUgdGhlIGFic2VuY2Ugb2YgYSBoaW50IGFzIGlmIHRoZSBoaW50XG5cdFx0Ly8gTnVtYmVyIHdlcmUgZ2l2ZW47IERhdGUgb2JqZWN0cyBoYW5kbGUgdGhlIGFic2VuY2Ugb2YgYSBoaW50IGFzIGlmIHRoZSBoaW50IFN0cmluZyB3ZXJlIGdpdmVuLlxuXHRcdHRoaXMucHJpbWl0aXZlSGludCA9IFwic3RyaW5nXCI7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoRGF0ZVR5cGUsIFt7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIERhdGVUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuRGF0ZVR5cGUgPSBEYXRlVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgRXJyb3JUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoRXJyb3JUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gRXJyb3JUeXBlKHNvdXJjZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFcnJvclR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoRXJyb3JUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IFwiRXJyb3JcIjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhFcnJvclR5cGUsIFt7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc291cmNlO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBFcnJvclR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5FcnJvclR5cGUgPSBFcnJvclR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyTGVuZ3RoKHBhcmFtcykge1xuXHRmb3IgKHZhciBpID0gMCwgbG4gPSBwYXJhbXMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuXHRcdC8vIHBhcmFtZXRlciBsZW5ndGggc2hvdWxkIG9ubHkgaW5jbHVkZSB0aGUgZmlyc3QgXCJGb3JtYWxcIiBwYXJhbWV0ZXJzXG5cdFx0aWYgKHBhcmFtc1tpXS50eXBlICE9PSBcIklkZW50aWZpZXJcIikge1xuXHRcdFx0cmV0dXJuIGk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHBhcmFtcy5sZW5ndGg7XG59XG5cbnZhciBGdW5jdGlvblR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhGdW5jdGlvblR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBGdW5jdGlvblR5cGUobm9kZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGdW5jdGlvblR5cGUpO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoRnVuY3Rpb25UeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnR5cGUgPSBcImZ1bmN0aW9uXCI7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIkZ1bmN0aW9uXCI7XG5cdFx0dGhpcy5uYXRpdmUgPSBmYWxzZTtcblx0XHR0aGlzLm5vZGUgPSBub2RlO1xuXG5cdFx0dGhpcy5hcnJvdyA9IG5vZGUgJiYgbm9kZS50eXBlID09PSBcIkFycm93RnVuY3Rpb25FeHByZXNzaW9uXCI7XG5cblx0XHR0aGlzLmJvdW5kU2NvcGUgPSBudWxsO1xuXHRcdHRoaXMuYm91bmRUaGlzID0gbnVsbDtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhGdW5jdGlvblR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChvYmplY3RGYWN0b3J5LCBwcm90bywgZGVzY3JpcHRvciwgc3RyaWN0KSB7XG5cdFx0XHRpZiAoc3RyaWN0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhpcy5zdHJpY3QgPSBzdHJpY3Q7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNldCBsZW5ndGggcHJvcGVydHkgZnJvbSB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnNcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZ2V0UGFyYW1ldGVyTGVuZ3RoKHRoaXMubm9kZS5wYXJhbXMpKSB9KTtcblx0XHRcdHRoaXMuaW5pdFN0cmljdChvYmplY3RGYWN0b3J5KTtcblxuXHRcdFx0aWYgKCF0aGlzLmFycm93KSB7XG5cdFx0XHRcdC8vIGZ1bmN0aW9ucyBoYXZlIGEgcHJvdG90eXBlXG5cdFx0XHRcdHByb3RvID0gcHJvdG8gfHwgb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcInByb3RvdHlwZVwiLCB7IHZhbHVlOiBwcm90bywgd3JpdGFibGU6IHRydWUgfSk7XG5cblx0XHRcdFx0Ly8gc2V0IHRoZSBjb250cnVjdG9yIHByb3BlcnR5IGFzIGFuIGluc3RhbmNlIG9mIGl0c2VsZlxuXHRcdFx0XHRwcm90by5wcm9wZXJ0aWVzLmNvbnN0cnVjdG9yID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB0aGlzIH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJpbml0U3RyaWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGluaXRTdHJpY3Qob2JqZWN0RmFjdG9yeSkge1xuXHRcdFx0Ly8gaWYgKHRoaXMuaXNTdHJpY3QoKSkge1xuXHRcdFx0Ly8gXHRsZXQgdGhyb3dlclByb3BzID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVUaHJvd2VyKFwiJ2NhbGxlcicsICdjYWxsZWUnLCBhbmQgJ2FyZ3VtZW50cycgcHJvcGVydGllcyBtYXkgbm90IGJlIGFjY2Vzc2VkIG9uIHN0cmljdCBtb2RlIGZ1bmN0aW9ucyBvciB0aGUgYXJndW1lbnRzIG9iamVjdHMgZm9yIGNhbGxzIHRvIHRoZW1cIik7XG5cdFx0XHQvLyBcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZXJcIiwgdGhyb3dlclByb3BzKTtcblx0XHRcdC8vIFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImFyZ3VtZW50c1wiLCB0aHJvd2VyUHJvcHMpO1xuXHRcdFx0Ly8gfSBlbHNlIHtcblx0XHRcdC8vIFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlclwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh1bmRlZmluZWQpIH0pO1xuXHRcdFx0Ly8gfVxuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJiaW5kVGhpc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBiaW5kVGhpcyh0aGlzQXJnKSB7XG5cdFx0XHR0aGlzLmJvdW5kVGhpcyA9IHRoaXMuYm91bmRUaGlzIHx8IHRoaXNBcmc7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImJpbmRTY29wZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBiaW5kU2NvcGUoc2NvcGUpIHtcblx0XHRcdHRoaXMuYm91bmRTY29wZSA9IHNjb3BlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJpc1N0cmljdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpc1N0cmljdCgpIHtcblx0XHRcdGlmIChcInN0cmljdFwiIGluIHRoaXMpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc3RyaWN0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5uYXRpdmUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5zdHJpY3QgPSBjb250cmFjdHMuaXNTdHJpY3ROb2RlKHRoaXMubm9kZS5ib2R5LmJvZHkpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVTY29wZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTY29wZShlbnYsIHRoaXNBcmcsIGlzTmV3KSB7XG5cdFx0XHQvLyBpZiBhIHBhcmVudCBzY29wZSBpcyBkZWZpbmVkIHdlIG5lZWQgdG8gbGltaXQgdGhpcyBzY29wZSB0byB0aGF0IHNjb3BlXG5cdFx0XHR2YXIgcHJpb3JTY29wZSA9IGVudi5jdXJyZW50LnNjb3BlO1xuXG5cdFx0XHRpZiAodGhpcy5ib3VuZFNjb3BlKSB7XG5cdFx0XHRcdGVudi5zZXRTY29wZSh0aGlzLmJvdW5kU2NvcGUuc2NvcGUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzQXJnID0gdGhpcy5ib3VuZFRoaXMgfHwgdGhpc0FyZztcblx0XHRcdGlmICh0aGlzLmFycm93KSB7XG5cdFx0XHRcdHRoaXNBcmcgPSBlbnYuZ2V0VGhpc0JpbmRpbmcoKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHNjb3BlID0gZW52LmNyZWF0ZVNjb3BlKHRoaXNBcmcsIHByaW9yU2NvcGUpO1xuXHRcdFx0c2NvcGUucHJpb3JTY29wZSA9IHByaW9yU2NvcGU7XG5cdFx0XHRyZXR1cm4gc2NvcGU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc0luc3RhbmNlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhc0luc3RhbmNlKG9iaikge1xuXHRcdFx0aWYgKG9iaiA9PT0gdGhpcykge1xuXHRcdFx0XHQvLyBvYmplY3Qgb2J2aW91c2x5IGlzbid0IGFuIGluc3RhbmNlIGluIHRoaXMgY2FzZVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHZhciB2aXNpdGVkID0gW107XG5cdFx0XHR2YXIgY3VycmVudCA9IG9iajtcblxuXHRcdFx0dmFyIHByb3RvID0gdGhpcy5nZXRWYWx1ZShcInByb3RvdHlwZVwiKTtcblx0XHRcdGlmIChjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQocHJvdG8pIHx8ICFjb250cmFjdHMuaXNPYmplY3QocHJvdG8pKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBoYXMgbm9uLW9iamVjdCBwcm90b3R5cGUgaW4gaW5zdGFuY2VvZiBjaGVja1wiKTtcblx0XHRcdH1cblxuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0aWYgKHZpc2l0ZWQuaW5kZXhPZihjdXJyZW50KSA+PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnQgPT09IHByb3RvKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBrZWVwIGEgc3RhY2sgdG8gYXZvaWQgY2lyY3VsYXIgcmVmZXJlbmNlXG5cdFx0XHRcdHZpc2l0ZWQucHVzaChjdXJyZW50KTtcblx0XHRcdFx0Y3VycmVudCA9IGN1cnJlbnQuZ2V0UHJvdG90eXBlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBGdW5jdGlvblR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5GdW5jdGlvblR5cGUgPSBGdW5jdGlvblR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZ2V0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2luaGVyaXRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzc1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2sgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2tcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdFR5cGUgPSByZXF1aXJlKFwiLi9vYmplY3QtdHlwZVwiKTtcblxudmFyIEl0ZXJhdG9yVHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKEl0ZXJhdG9yVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIEl0ZXJhdG9yVHlwZShzb3VyY2UpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgSXRlcmF0b3JUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEl0ZXJhdG9yVHlwZS5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblx0XHR0aGlzLnBvc2l0aW9uID0gMDtcblx0XHR0aGlzLmNsYXNzTmFtZSA9IFwiSXRlcmF0b3JcIjtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhJdGVyYXRvclR5cGUsIFt7XG5cdFx0a2V5OiBcIm5leHRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gbmV4dCgpIHtcblx0XHRcdGlmICh0aGlzLnBvc2l0aW9uID49IHRoaXMuc291cmNlLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm4geyBkb25lOiB0cnVlIH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHZhbHVlOiB0aGlzLnNvdXJjZVt0aGlzLnBvc2l0aW9uKytdLFxuXHRcdFx0XHRkb25lOiBmYWxzZVxuXHRcdFx0fTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gSXRlcmF0b3JUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuSXRlcmF0b3JUeXBlID0gSXRlcmF0b3JUeXBlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2dldCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbmhlcml0cyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9mdW5jdGlvblR5cGUgPSByZXF1aXJlKFwiLi9mdW5jdGlvbi10eXBlXCIpO1xuXG52YXIgX3Byb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoXCIuL3Byb3BlcnR5LWRlc2NyaXB0b3JcIik7XG5cbnZhciBOYXRpdmVGdW5jdGlvblR5cGUgPSAoZnVuY3Rpb24gKF9GdW5jdGlvblR5cGUpIHtcblx0X2luaGVyaXRzKE5hdGl2ZUZ1bmN0aW9uVHlwZSwgX0Z1bmN0aW9uVHlwZSk7XG5cblx0ZnVuY3Rpb24gTmF0aXZlRnVuY3Rpb25UeXBlKGZuKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5hdGl2ZUZ1bmN0aW9uVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihOYXRpdmVGdW5jdGlvblR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMudHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0XHR0aGlzLm5hdGl2ZSA9IHRydWU7XG5cdFx0dGhpcy5uYXRpdmVGdW5jdGlvbiA9IGZuO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE5hdGl2ZUZ1bmN0aW9uVHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG9iamVjdEZhY3RvcnksIHByb3RvLCBkZXNjcmlwdG9yKSB7XG5cdFx0XHR2YXIgbGVuZ3RoID0gdGhpcy5uYXRpdmVGdW5jdGlvbi5sZW5ndGg7XG5cdFx0XHRpZiAoXCJuYXRpdmVMZW5ndGhcIiBpbiB0aGlzLm5hdGl2ZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdGxlbmd0aCA9IHRoaXMubmF0aXZlRnVuY3Rpb24ubmF0aXZlTGVuZ3RoO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXCJzdHJpY3RcIiBpbiB0aGlzLm5hdGl2ZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdHRoaXMuc3RyaWN0ID0gdGhpcy5uYXRpdmVGdW5jdGlvbi5zdHJpY3Q7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuaW5pdFN0cmljdChvYmplY3RGYWN0b3J5KTtcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwge1xuXHRcdFx0XHR2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiBmYWxzZVxuXHRcdFx0fSk7XG5cblx0XHRcdHByb3RvID0gcHJvdG8gfHwgb2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoKTtcblx0XHRcdHByb3RvLnByb3BlcnRpZXMuY29uc3RydWN0b3IgPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgeyBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMgfSk7XG5cblx0XHRcdGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9yIHx8IHsgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlIH07XG5cdFx0XHR2YXIgcHJvdG9EZXNjcmlwdG9yID0ge1xuXHRcdFx0XHR2YWx1ZTogcHJvdG8sXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcblx0XHRcdFx0d3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGVcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJwcm90b3R5cGVcIiwgcHJvdG9EZXNjcmlwdG9yKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gTmF0aXZlRnVuY3Rpb25UeXBlO1xufSkoX2Z1bmN0aW9uVHlwZS5GdW5jdGlvblR5cGUpO1xuXG5leHBvcnRzLk5hdGl2ZUZ1bmN0aW9uVHlwZSA9IE5hdGl2ZUZ1bmN0aW9uVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfcHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZS10eXBlXCIpO1xuXG52YXIgX2Z1bmN0aW9uVHlwZSA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLXR5cGVcIik7XG5cbnZhciBfbmF0aXZlRnVuY3Rpb25UeXBlID0gcmVxdWlyZShcIi4vbmF0aXZlLWZ1bmN0aW9uLXR5cGVcIik7XG5cbnZhciBfcmVnZXhUeXBlID0gcmVxdWlyZShcIi4vcmVnZXgtdHlwZVwiKTtcblxudmFyIF9hcnJheVR5cGUgPSByZXF1aXJlKFwiLi9hcnJheS10eXBlXCIpO1xuXG52YXIgX3N0cmluZ1R5cGUgPSByZXF1aXJlKFwiLi9zdHJpbmctdHlwZVwiKTtcblxudmFyIF9kYXRlVHlwZSA9IHJlcXVpcmUoXCIuL2RhdGUtdHlwZVwiKTtcblxudmFyIF9lcnJvclR5cGUgPSByZXF1aXJlKFwiLi9lcnJvci10eXBlXCIpO1xuXG52YXIgX2FyZ3VtZW50VHlwZSA9IHJlcXVpcmUoXCIuL2FyZ3VtZW50LXR5cGVcIik7XG5cbnZhciBfc2V0VHlwZSA9IHJlcXVpcmUoXCIuL3NldC10eXBlXCIpO1xuXG52YXIgX2l0ZXJhdG9yVHlwZSA9IHJlcXVpcmUoXCIuL2l0ZXJhdG9yLXR5cGVcIik7XG5cbnZhciBfc3ltYm9sVHlwZSA9IHJlcXVpcmUoXCIuL3N5bWJvbC10eXBlXCIpO1xuXG52YXIgX3V0aWxzQ29udHJhY3RzID0gcmVxdWlyZShcIi4uL3V0aWxzL2NvbnRyYWN0c1wiKTtcblxudmFyIGNvbnRyYWN0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF91dGlsc0NvbnRyYWN0cyk7XG5cbnZhciBvcnBoYW5zID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIHNldE9ycGhhbnMoc2NvcGUpIHtcblx0dmFyIF9sb29wID0gZnVuY3Rpb24gKHR5cGVOYW1lKSB7XG5cdFx0dmFyIHBhcmVudCA9IHNjb3BlLmdldFZhbHVlKHR5cGVOYW1lKTtcblx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRvcnBoYW5zW3R5cGVOYW1lXS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuXHRcdFx0XHRjaGlsZC5zZXRQcm90b3R5cGUocGFyZW50LmdldFZhbHVlKFwicHJvdG90eXBlXCIpKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRkZWxldGUgb3JwaGFuc1t0eXBlTmFtZV07XG5cdFx0fVxuXHR9O1xuXG5cdGZvciAodmFyIHR5cGVOYW1lIGluIG9ycGhhbnMpIHtcblx0XHRfbG9vcCh0eXBlTmFtZSk7XG5cdH1cblxuXHRvcnBoYW5zID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG59XG5cbmZ1bmN0aW9uIHNldFByb3RvKHR5cGVOYW1lLCBpbnN0YW5jZSwgZW52KSB7XG5cdHZhciBwYXJlbnQgPSBlbnYuZ2V0UmVmZXJlbmNlKHR5cGVOYW1lKTtcblx0aWYgKHBhcmVudC5pc1VucmVzb2x2ZWQoKSkge1xuXHRcdC8vIGR1cmluZyBpbml0aWFsaXphdGlvbiBpdCBpcyBwb3NzaWJsZSBmb3Igb2JqZWN0cyB0byBiZSBjcmVhdGVkXG5cdFx0Ly8gYmVmb3JlIHRoZSB0eXBlcyBoYXZlIGJlZW4gcmVnaXN0ZXJlZCAtIGFkZCBhIHJlZ2lzdHJ5IG9mIGl0ZW1zXG5cdFx0Ly8gYW5kIHRoZXNlIGNhbiBiZSBmaWxsZWQgaW4gd2hlbiB0aGUgdHlwZSBpcyByZWdpc3RlcmVkXG5cdFx0b3JwaGFuc1t0eXBlTmFtZV0gPSBvcnBoYW5zW3R5cGVOYW1lXSB8fCBbXTtcblx0XHRvcnBoYW5zW3R5cGVOYW1lXS5wdXNoKGluc3RhbmNlKTtcblxuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciBwcm90byA9IHBhcmVudC5nZXRWYWx1ZSgpLmdldFZhbHVlKFwicHJvdG90eXBlXCIpO1xuXHRpbnN0YW5jZS5zZXRQcm90b3R5cGUocHJvdG8pO1xufVxuXG52YXIgZGVmYXVsdERlc2NyaXB0b3IgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfTtcbmZ1bmN0aW9uIGNyZWF0ZURhdGFQcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUpIHtcblx0dmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RGVzY3JpcHRvciA6IGFyZ3VtZW50c1sxXTtcblxuXHR2YXIgX3JlZiRjb25maWd1cmFibGUgPSBfcmVmLmNvbmZpZ3VyYWJsZTtcblx0dmFyIGNvbmZpZ3VyYWJsZSA9IF9yZWYkY29uZmlndXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRjb25maWd1cmFibGU7XG5cdHZhciBfcmVmJGVudW1lcmFibGUgPSBfcmVmLmVudW1lcmFibGU7XG5cdHZhciBlbnVtZXJhYmxlID0gX3JlZiRlbnVtZXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRlbnVtZXJhYmxlO1xuXHR2YXIgX3JlZiR3cml0YWJsZSA9IF9yZWYud3JpdGFibGU7XG5cdHZhciB3cml0YWJsZSA9IF9yZWYkd3JpdGFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJHdyaXRhYmxlO1xuXG5cdHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIHdyaXRhYmxlOiB3cml0YWJsZSB9O1xufVxuXG52YXIgT2JqZWN0RmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkoZW52KSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9iamVjdEZhY3RvcnkpO1xuXG5cdFx0dGhpcy5lbnYgPSBlbnY7XG5cdFx0dGhpcy5vcHRpb25zID0gZW52Lm9wdGlvbnM7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoT2JqZWN0RmFjdG9yeSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0c2V0T3JwaGFucyh0aGlzLmVudik7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhIHByaW1pdGl2ZSBvYmplY3QgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG5hdGl2ZSB2YWx1ZS5cclxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgLSBUaGUgcHJpbWl0aXZlIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3RUeXBlfSBUaGUgcHJpbWl0aXZlIGluc3RhbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZVByaW1pdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmUodmFsdWUpIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZShjb250cmFjdHMuZ2V0VHlwZSh2YWx1ZSksIHZhbHVlKTtcblx0XHR9XG5cblx0XHQvKipcclxuICAgKiBDcmVhdGVzIGFuIG9iamVjdCBiYXNlZCBvbiB0aGUgdHlwZSBzcGVjaWZpZWQuIEZvciBhIHByaW1pdGl2ZSB0eXBlIHRoZSBzZWNvbmRcclxuICAgKiBwYXJhbWV0ZXIgaXMgdXNlZCBhcyB0aGUgb2JqZWN0cyB1bmRlcmx5aW5nIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBvYmplY3QgdG8gY3JlYXRlLlxyXG4gICAqIEBwYXJhbSB7YW55fSBbdmFsdWVdIC0gVGhlIHByaW1pdGl2ZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0VHlwZX0gVGhlIG5ldyBpbnN0YW5jZS5cclxuICAgKi9cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKHR5cGVOYW1lLCB2YWx1ZSkge1xuXHRcdFx0Ly8gdGhlIHZhbHVlIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBhbiBvYmplY3Rcblx0XHRcdC8vIHRoaXMgY2FuIGhhcHBlbiBpZiBhbiBleGNlcHRpb24gaXMgcmV0aHJvd25cblx0XHRcdGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIF9vYmplY3RUeXBlLk9iamVjdFR5cGUpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG5cblx0XHRcdHN3aXRjaCAodHlwZU5hbWUpIHtcblx0XHRcdFx0Y2FzZSBcIk51bGxcIjpcblx0XHRcdFx0XHRyZXR1cm4gX3ByaW1pdGl2ZVR5cGUuTlVMTDtcblxuXHRcdFx0XHRjYXNlIFwiVW5kZWZpbmVkXCI6XG5cdFx0XHRcdFx0cmV0dXJuIF9wcmltaXRpdmVUeXBlLlVOREVGSU5FRDtcblxuXHRcdFx0XHRjYXNlIFwiU3ltYm9sXCI6XG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBuZXcgX3N5bWJvbFR5cGUuU3ltYm9sVHlwZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIlN0cmluZ1wiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9zdHJpbmdUeXBlLlN0cmluZ1R5cGUodmFsdWUpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJOdW1iZXJcIjpcblx0XHRcdFx0Y2FzZSBcIkJvb2xlYW5cIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfcHJpbWl0aXZlVHlwZS5QcmltaXRpdmVUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiRGF0ZVwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9kYXRlVHlwZS5EYXRlVHlwZSh2YWx1ZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIlJlZ0V4cFwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9yZWdleFR5cGUuUmVnZXhUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIFwiQXJyYXlcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfYXJyYXlUeXBlLkFycmF5VHlwZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgXCJTZXRcIjpcblx0XHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfc2V0VHlwZS5TZXRUeXBlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBcIkVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJUeXBlRXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIlJlZmVyZW5jZUVycm9yXCI6XG5cdFx0XHRcdGNhc2UgXCJTeW50YXhFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiUmFuZ2VFcnJvclwiOlxuXHRcdFx0XHRjYXNlIFwiVVJJRXJyb3JcIjpcblx0XHRcdFx0Y2FzZSBcIkV2YWxFcnJvclwiOlxuXHRcdFx0XHRcdGluc3RhbmNlID0gbmV3IF9lcnJvclR5cGUuRXJyb3JUeXBlKHZhbHVlKTtcblxuXHRcdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0dHlwZU5hbWUgPSB2YWx1ZS5uYW1lIHx8IHR5cGVOYW1lO1xuXHRcdFx0XHRcdFx0aWYgKHZhbHVlLm1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdFx0dmFyIG1lc3NhZ2UgPSB0aGlzLmNyZWF0ZVByaW1pdGl2ZSh2YWx1ZS5tZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJtZXNzYWdlXCIsIGNyZWF0ZURhdGFQcm9wZXJ0eURlc2NyaXB0b3IobWVzc2FnZSwgeyBlbnVtZXJhYmxlOiBmYWxzZSB9KSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBwcmltaXRpdmU6IFwiICsgdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnN0YW5jZS5pbml0KHRoaXMpO1xuXHRcdFx0c2V0UHJvdG8odHlwZU5hbWUsIGluc3RhbmNlLCB0aGlzLmVudik7XG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlW119IFtlbGVtZW50c10gLSBJZiBwcm92aWRlZCwgdGhlIGVsZW1lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIG5ldyBhcnJheS5cclxuICAgKiBAcmV0dXJucyB7QXJyYXlUeXBlfSBUaGUgYXJyYXkgaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlQXJyYXlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQXJyYXkoZWxlbWVudHMpIHtcblx0XHRcdHZhciBpbnN0YW5jZSA9IHRoaXMuY3JlYXRlKFwiQXJyYXlcIik7XG5cblx0XHRcdGlmIChlbGVtZW50cykge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbG4gPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoaSwgY3JlYXRlRGF0YVByb3BlcnR5RGVzY3JpcHRvcihlbGVtZW50c1tpXSksIHRydWUsIHRoaXMuZW52KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdFx0fVxuXG5cdFx0LyoqXHJcbiAgICogQ3JlYXRlcyBhbiBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3RUeXBlfSBbcHJvdG9dIC0gVGhlIHByb3RvdHlwZSB0byB1c2Ugd2l0aCB0aGUgbmV3IG9iamVjdC4gSWYgbm8gdmFsdWUgaXMgcHJvdmlkZWRcclxuICAgKiB0aGUgT2JqZWN0IHByb3RvdHlwZSB3aWxsIGJlIHVzZWQuIElmIGBudWxsYCBpcyBwYXNzZWQgaW4sIG5vIHByb3RvdHlwZSB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZVxyXG4gICAqIG5ldyBvYmplY3QuXHJcbiAgICogQHJldHVybnMge09iamVjdFR5cGV9IFRoZSBvYmplY3QgaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlT2JqZWN0XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChwcm90bykge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9vYmplY3RUeXBlLk9iamVjdFR5cGUoKTtcblxuXHRcdFx0aWYgKHByb3RvICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChwcm90bykge1xuXHRcdFx0XHRcdGluc3RhbmNlLnNldFByb3RvdHlwZShwcm90by5nZXRWYWx1ZShcInByb3RvdHlwZVwiKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2V0UHJvdG8oXCJPYmplY3RcIiwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpbnN0YW5jZS5pbml0KHRoaXMpO1xuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJjcmVhdGVBcmd1bWVudHNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQXJndW1lbnRzKGFyZ3MsIGNhbGxlZSwgc3RyaWN0KSB7XG5cdFx0XHR2YXIgaW5zdGFuY2UgPSBuZXcgX2FyZ3VtZW50VHlwZS5Bcmd1bWVudFR5cGUoKTtcblx0XHRcdHZhciBvYmplY3RDbGFzcyA9IHRoaXMuZW52Lmdsb2JhbC5nZXRWYWx1ZShcIk9iamVjdFwiKTtcblxuXHRcdFx0aW5zdGFuY2UuaW5pdCh0aGlzLCBvYmplY3RDbGFzcywgb2JqZWN0Q2xhc3MuZ2V0UHJvdG90eXBlKCkpO1xuXHRcdFx0aW5zdGFuY2Uuc2V0UHJvdG90eXBlKG9iamVjdENsYXNzLmdldFZhbHVlKFwicHJvdG90eXBlXCIpKTtcblxuXHRcdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0XHR2YXIgdGhyb3dlciA9IHRoaXMuY3JlYXRlVGhyb3dlcihcIidjYWxsZXInLCAnY2FsbGVlJywgYW5kICdhcmd1bWVudHMnIHByb3BlcnRpZXMgbWF5IG5vdCBiZSBhY2Nlc3NlZCBvbiBzdHJpY3QgbW9kZSBmdW5jdGlvbnMgb3IgdGhlIGFyZ3VtZW50cyBvYmplY3RzIGZvciBjYWxscyB0byB0aGVtXCIpO1xuXHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlZVwiLCB0aHJvd2VyKTtcblx0XHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJjYWxsZXJcIiwgdGhyb3dlcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0YW5jZS5kZWZpbmVPd25Qcm9wZXJ0eShcImNhbGxlZVwiLCB7XG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdHZhbHVlOiBjYWxsZWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlSXRlcmF0b3JcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlSXRlcmF0b3IoaXRlcmFibGUpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBpbnN0YW5jZSA9IG5ldyBfaXRlcmF0b3JUeXBlLkl0ZXJhdG9yVHlwZShpdGVyYWJsZSk7XG5cblx0XHRcdGluc3RhbmNlLmRlZmluZShcIm5leHRcIiwgdGhpcy5jcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgY3VycmVudCA9IGluc3RhbmNlLm5leHQoKTtcblxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gc2VsZi5jcmVhdGVPYmplY3QoKTtcblx0XHRcdFx0cmVzdWx0LmRlZmluZU93blByb3BlcnR5KFwiZG9uZVwiLCB7IHZhbHVlOiBzZWxmLmNyZWF0ZVByaW1pdGl2ZShjdXJyZW50LmRvbmUpIH0pO1xuXHRcdFx0XHRyZXN1bHQuZGVmaW5lT3duUHJvcGVydHkoXCJ2YWx1ZVwiLCB7IHZhbHVlOiBjdXJyZW50LnZhbHVlIHx8IF9wcmltaXRpdmVUeXBlLlVOREVGSU5FRCB9KTtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH0pKTtcblxuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0ge0FTVHxGdW5jdGlvbn0gZm5Pck5vZGUgLSBUaGUgQVNUIG9yIGZ1bmN0aW9uIHRvIGJlIHVzZWQgd2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0VHlwZX0gW3Byb3RvXSAtIFRoZSBwcm90b3R5cGUgdG8gdXNlIGZvciB0aGUgZnVuY3Rpb24uIElmIG5vIG9iamVjdCBpcyBwcm92aWRlZFxyXG4gICAqIGFuIGVtcHR5IG9iamVjdCBpcyB1c2VkLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBQcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgdXNlZCBmb3IgdGhlIHByb3RvdHlwZS5cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb25UeXBlfSBUaGUgZnVuY3Rpb24gaW5zdGFuY2UuXHJcbiAgICovXG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlRnVuY3Rpb25cIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb24oZm5Pck5vZGUsIHByb3RvKSB7XG5cdFx0XHR2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1syXTtcblxuXHRcdFx0dmFyIF9yZWYyJGNvbmZpZ3VyYWJsZSA9IF9yZWYyLmNvbmZpZ3VyYWJsZTtcblx0XHRcdHZhciBjb25maWd1cmFibGUgPSBfcmVmMiRjb25maWd1cmFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZjIkY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIF9yZWYyJGVudW1lcmFibGUgPSBfcmVmMi5lbnVtZXJhYmxlO1xuXHRcdFx0dmFyIGVudW1lcmFibGUgPSBfcmVmMiRlbnVtZXJhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYyJGVudW1lcmFibGU7XG5cdFx0XHR2YXIgX3JlZjIkd3JpdGFibGUgPSBfcmVmMi53cml0YWJsZTtcblx0XHRcdHZhciB3cml0YWJsZSA9IF9yZWYyJHdyaXRhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjIkd3JpdGFibGU7XG5cdFx0XHR2YXIgX3JlZjIkc3RyaWN0ID0gX3JlZjIuc3RyaWN0O1xuXHRcdFx0dmFyIHN0cmljdCA9IF9yZWYyJHN0cmljdCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMiRzdHJpY3Q7XG5cdFx0XHR2YXIgX3JlZjIkbmFtZSA9IF9yZWYyLm5hbWU7XG5cdFx0XHR2YXIgbmFtZSA9IF9yZWYyJG5hbWUgPT09IHVuZGVmaW5lZCA/IFwiYW5vbnltb3VzXCIgOiBfcmVmMiRuYW1lO1xuXG5cdFx0XHR2YXIgaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGlmICh0eXBlb2YgZm5Pck5vZGUgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfbmF0aXZlRnVuY3Rpb25UeXBlLk5hdGl2ZUZ1bmN0aW9uVHlwZShmbk9yTm9kZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0YW5jZSA9IG5ldyBfZnVuY3Rpb25UeXBlLkZ1bmN0aW9uVHlwZShmbk9yTm9kZSk7XG5cdFx0XHR9XG5cblx0XHRcdGluc3RhbmNlLmluaXQodGhpcywgcHJvdG8sIHsgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIHdyaXRhYmxlOiB3cml0YWJsZSB9LCBzdHJpY3QpO1xuXHRcdFx0aW5zdGFuY2UubmFtZSA9IG5hbWU7XG5cblx0XHRcdGlmICh0aGlzLm9wdGlvbnMuZWNtYVZlcnNpb24gPiA1KSB7XG5cdFx0XHRcdGluc3RhbmNlLmRlZmluZU93blByb3BlcnR5KFwibmFtZVwiLCB7IHZhbHVlOiB0aGlzLmNyZWF0ZVByaW1pdGl2ZShuYW1lKSwgY29uZmlndXJhYmxlOiB0cnVlIH0sIHRydWUsIHRoaXMuZW52KTtcblx0XHRcdH1cblxuXHRcdFx0c2V0UHJvdG8oXCJGdW5jdGlvblwiLCBpbnN0YW5jZSwgdGhpcy5lbnYpO1xuXHRcdFx0cmV0dXJuIGluc3RhbmNlO1xuXHRcdH1cblxuXHRcdC8qKlxyXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB3aXRoIG5vIHByb3RvdHlwZSB0aGF0IGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIFRoZSB1bmRlcmx5aW5nIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggLSBUaGUgbGVuZ3RoIHByb3BlcnR5IG9mIHRoZSBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnVuY05hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24uXHJcbiAgICogQHJldHVybnMge05hdGl2ZUZ1bmN0aW9uVHlwZX0gVGhlIGZ1bmN0aW9uIGluc3RhbmNlLlxyXG4gICAqL1xuXHR9LCB7XG5cdFx0a2V5OiBcImNyZWF0ZUJ1aWx0SW5GdW5jdGlvblwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCdWlsdEluRnVuY3Rpb24oZnVuYywgbGVuZ3RoLCBmdW5jTmFtZSkge1xuXHRcdFx0dmFyIGluc3RhbmNlID0gbmV3IF9uYXRpdmVGdW5jdGlvblR5cGUuTmF0aXZlRnVuY3Rpb25UeXBlKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNOZXcpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bmNOYW1lICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHNldFByb3RvKFwiRnVuY3Rpb25cIiwgaW5zdGFuY2UsIHRoaXMuZW52KTtcblx0XHRcdGluc3RhbmNlLmJ1aWx0SW4gPSB0cnVlO1xuXHRcdFx0aW5zdGFuY2UuZGVmaW5lT3duUHJvcGVydHkoXCJsZW5ndGhcIiwgeyB2YWx1ZTogdGhpcy5jcmVhdGVQcmltaXRpdmUobGVuZ3RoKSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9KTtcblx0XHRcdHJldHVybiBpbnN0YW5jZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY3JlYXRlVGhyb3dlclwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUaHJvd2VyKG1lc3NhZ2UsIHRocm93ZXIpIHtcblx0XHRcdHRoaXMudGhyb3dlcnMgPSB0aGlzLnRocm93ZXJzIHx8IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdFx0aWYgKG1lc3NhZ2UgaW4gdGhpcy50aHJvd2Vycykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy50aHJvd2Vyc1ttZXNzYWdlXTtcblx0XHRcdH1cblxuXHRcdFx0dGhyb3dlciA9IHRocm93ZXIgfHwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKG1lc3NhZ2UpO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gd2Ugd2FudCB0byBrZWVwIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSB0aHJvd2VycyBiZWNhdXNlIHRoZXJlXG5cdFx0XHQvLyBhcmUgc2lsbHkgdGVzdHMgdGhhdCBjaGVjayBmb3IgdGhpc1xuXHRcdFx0dmFyIHRocm93ZXJJbnN0YW5jZSA9IHRoaXMuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKHRocm93ZXIpO1xuXHRcdFx0cmV0dXJuIHRoaXMudGhyb3dlcnNbbWVzc2FnZV0gPSB7XG5cdFx0XHRcdGdldDogdGhyb3dlckluc3RhbmNlLFxuXHRcdFx0XHRnZXR0ZXI6IHRocm93ZXIsXG5cdFx0XHRcdHNldDogdGhyb3dlckluc3RhbmNlLFxuXHRcdFx0XHRzZXR0ZXI6IHRocm93ZXIsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlXG5cdFx0XHR9O1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBPYmplY3RGYWN0b3J5O1xufSkoKTtcblxuZXhwb3J0cy5PYmplY3RGYWN0b3J5ID0gT2JqZWN0RmFjdG9yeTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGtleXMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKFwiLi9wcm9wZXJ0eS1kZXNjcmlwdG9yXCIpO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChrZXkpIHtcblx0cmV0dXJuIGtleSAmJiB0eXBlb2Yga2V5ICE9PSBcInN0cmluZ1wiICYmIGtleS5pc1N5bWJvbDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KSB7XG5cdHJldHVybiBpc1N5bWJvbChrZXkpID8gXCJzeW1ib2xzXCIgOiBcInByb3BlcnRpZXNcIjtcbn1cblxudmFyIE9iamVjdFR5cGUgPSAoZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBPYmplY3RUeXBlKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYmplY3RUeXBlKTtcblxuXHRcdHRoaXMuaXNQcmltaXRpdmUgPSBmYWxzZTtcblx0XHR0aGlzLnR5cGUgPSBcIm9iamVjdFwiO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJPYmplY3RcIjtcblx0XHR0aGlzLmV4dGVuc2libGUgPSB0cnVlO1xuXHRcdHRoaXMucHJvcGVydGllcyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXHRcdHRoaXMuc3ltYm9scyA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXG5cdFx0dGhpcy52ZXJzaW9uID0gMDtcblx0XHR0aGlzLnByaW1pdGl2ZUhpbnQgPSBcIm51bWJlclwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE9iamVjdFR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChvYmplY3RGYWN0b3J5LCBwcm90bywgZGVzY3JpcHRvcikge31cblx0fSwge1xuXHRcdGtleTogXCJnZXRQcm90b3R5cGVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvdG90eXBlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvdG87XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInNldFByb3RvdHlwZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRQcm90b3R5cGUocHJvdG8pIHtcblx0XHRcdHRoaXMucHJvdG8gPSBwcm90bztcblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRQcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRQcm9wZXJ0eShrZXkpIHtcblx0XHRcdHZhciBzb3VyY2UgPSBnZXRQcm9wZXJ0eVNvdXJjZShrZXkpO1xuXHRcdFx0a2V5ID0gU3RyaW5nKGtleSk7XG5cblx0XHRcdHZhciBjdXJyZW50ID0gdGhpcztcblx0XHRcdHdoaWxlIChjdXJyZW50KSB7XG5cdFx0XHRcdGlmIChrZXkgaW4gY3VycmVudFtzb3VyY2VdKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGN1cnJlbnRbc291cmNlXVtrZXldLmJpbmQodGhpcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQcm90b3R5cGUoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHkoa2V5KSB7XG5cdFx0XHRyZXR1cm4gdGhpc1tnZXRQcm9wZXJ0eVNvdXJjZShrZXkpXVtTdHJpbmcoa2V5KV07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldE93blByb3BlcnR5TmFtZXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcygpIHtcblx0XHRcdHJldHVybiBfT2JqZWN0JGtleXModGhpcy5wcm9wZXJ0aWVzKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiaGFzUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaGFzUHJvcGVydHkoa2V5KSB7XG5cdFx0XHRyZXR1cm4gISF0aGlzLmdldFByb3BlcnR5KGtleSk7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImhhc093blByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGhhc093blByb3BlcnR5KGtleSkge1xuXHRcdFx0cmV0dXJuIFN0cmluZyhrZXkpIGluIHRoaXNbZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KV07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInB1dFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHB1dFZhbHVlKGtleSwgdmFsdWUsIHRocm93T25FcnJvciwgZW52KSB7XG5cdFx0XHRpZiAodGhpcy5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBkZXNjcmlwdG9yID0gdGhpcy5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0aWYgKGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0aWYgKCFkZXNjcmlwdG9yLmNhblNldFZhbHVlKCkpIHtcblx0XHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFzc2lnbiB0byByZWFkIG9ubHkgcHJvcGVydHkgJ1wiICsga2V5ICsgXCInIG9mICVzXCIpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkZXNjcmlwdG9yLmRhdGFQcm9wZXJ0eSAmJiAhdGhpcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0dGhpc1tnZXRQcm9wZXJ0eVNvdXJjZShrZXkpXVtTdHJpbmcoa2V5KV0gPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR0aGlzLnZlcnNpb24rKztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZXNjcmlwdG9yLnNldFZhbHVlKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShrZXksIHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sIHRocm93T25FcnJvciwgZW52KTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZGVmaW5lT3duUHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lT3duUHJvcGVydHkoa2V5LCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IsIGVudikge1xuXHRcdFx0aWYgKHRoaXMuaXNQcmltaXRpdmUpIHtcblx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgZGVmaW5lIHByb3BlcnR5OiBcIiArIGtleSArIFwiLCBvYmplY3QgaXMgbm90IGV4dGVuc2libGVcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBjdXJyZW50ID0gdGhpcy5nZXRPd25Qcm9wZXJ0eShrZXkpO1xuXHRcdFx0aWYgKGN1cnJlbnQpIHtcblx0XHRcdFx0aWYgKGN1cnJlbnQuY2FuVXBkYXRlKGRlc2NyaXB0b3IpKSB7XG5cdFx0XHRcdFx0Y3VycmVudC51cGRhdGUoZGVzY3JpcHRvcik7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodGhyb3dPbkVycm9yKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWRlZmluZSBwcm9wZXJ0eTogXCIgKyBrZXkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSBlbHNlIGlmICghdGhpcy5leHRlbnNpYmxlKSB7XG5cdFx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGRlZmluZSBwcm9wZXJ0eTogXCIgKyBrZXkgKyBcIiwgb2JqZWN0IGlzIG5vdCBleHRlbnNpYmxlXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXSA9IG5ldyBfcHJvcGVydHlEZXNjcmlwdG9yLlByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBkZXNjcmlwdG9yKTtcblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImRlbGV0ZVByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KGtleSwgdGhyb3dPbkVycm9yKSB7XG5cdFx0XHRpZiAodGhpcy5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzb3VyY2UgPSBnZXRQcm9wZXJ0eVNvdXJjZShrZXkpO1xuXHRcdFx0a2V5ID0gU3RyaW5nKGtleSk7XG5cblx0XHRcdGlmIChrZXkgaW4gdGhpc1tzb3VyY2VdKSB7XG5cdFx0XHRcdGlmICghdGhpc1tzb3VyY2VdW2tleV0uY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdFx0aWYgKHRocm93T25FcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBkZWxldGUgcHJvcGVydHk6IFwiICsga2V5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0XHRyZXR1cm4gZGVsZXRlIHRoaXNbc291cmNlXVtrZXldO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJkZWZpbmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZGVmaW5lKGtleSwgdmFsdWUpIHtcblx0XHRcdHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cblx0XHRcdHZhciBfcmVmJGNvbmZpZ3VyYWJsZSA9IF9yZWYuY29uZmlndXJhYmxlO1xuXHRcdFx0dmFyIGNvbmZpZ3VyYWJsZSA9IF9yZWYkY29uZmlndXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRjb25maWd1cmFibGU7XG5cdFx0XHR2YXIgX3JlZiRlbnVtZXJhYmxlID0gX3JlZi5lbnVtZXJhYmxlO1xuXHRcdFx0dmFyIGVudW1lcmFibGUgPSBfcmVmJGVudW1lcmFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRlbnVtZXJhYmxlO1xuXHRcdFx0dmFyIF9yZWYkd3JpdGFibGUgPSBfcmVmLndyaXRhYmxlO1xuXHRcdFx0dmFyIHdyaXRhYmxlID0gX3JlZiR3cml0YWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkd3JpdGFibGU7XG5cdFx0XHR2YXIgZ2V0dGVyID0gX3JlZi5nZXR0ZXI7XG5cdFx0XHR2YXIgZ2V0ID0gX3JlZi5nZXQ7XG5cdFx0XHR2YXIgc2V0dGVyID0gX3JlZi5zZXR0ZXI7XG5cdFx0XHR2YXIgc2V0ID0gX3JlZi5zZXQ7XG5cblx0XHRcdC8vIHRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBleHRlcm5hbCB1c2FnZSBvbmx5IC0gaXQgcHJvdmlkZXMgYSB3YXkgdG8gZGVmaW5lXG5cdFx0XHQvLyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFuZCBvdmVyd3JpdGUgYW55IGV4aXN0aW5nIHByb3BlcnRpZXMgZXZlbiBpZiB0aGV5IGFyZVxuXHRcdFx0Ly8gbm90IGNvbmZpZ3VyYWJsZVxuXG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IHVuZGVmaW5lZDtcblx0XHRcdGlmIChnZXR0ZXIgfHwgc2V0dGVyKSB7XG5cdFx0XHRcdGRlc2NyaXB0b3IgPSB7IGdldHRlcjogZ2V0dGVyLCBnZXQ6IGdldCwgc2V0dGVyOiBzZXR0ZXIsIHNldDogc2V0LCBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSwgZW51bWVyYWJsZTogZW51bWVyYWJsZSB9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVzY3JpcHRvciA9IHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSwgZW51bWVyYWJsZTogZW51bWVyYWJsZSwgd3JpdGFibGU6IHdyaXRhYmxlIH07XG5cdFx0XHR9XG5cblx0XHRcdHRoaXNbZ2V0UHJvcGVydHlTb3VyY2Uoa2V5KV1bU3RyaW5nKGtleSldID0gbmV3IF9wcm9wZXJ0eURlc2NyaXB0b3IuUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIGRlc2NyaXB0b3IpO1xuXHRcdFx0dGhpcy52ZXJzaW9uKys7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInJlbW92ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG5cdFx0XHQvLyB0aGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZXh0ZXJuYWwgdXNhZ2Ugb25seSAtIGl0IHByb3ZpZGVzIGEgd2F5IHRvIHJlbW92ZVxuXHRcdFx0Ly8gcHJvcGVydGllcyBldmVuIGlmIHRoZXkgYXJlIG5vdCBub3JtYWxseSBhYmxlIHRvIGJlIGRlbGV0ZWRcblx0XHRcdGRlbGV0ZSB0aGlzW2dldFByb3BlcnR5U291cmNlKGtleSldW1N0cmluZyhrZXkpXTtcblx0XHRcdHRoaXMudmVyc2lvbisrO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJnZXRWYWx1ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShrZXkpIHtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRQcm9wZXJ0eShrZXkpLmdldFZhbHVlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJmcmVlemVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZnJlZXplKCkge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiB0aGlzLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0aWYgKHRoaXMucHJvcGVydGllc1twcm9wXS5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KHByb3AsIHsgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IGZhbHNlIH0sIHRydWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkocHJvcCwgeyBjb25maWd1cmFibGU6IGZhbHNlIH0sIHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwicHJldmVudEV4dGVuc2lvbnNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMoKSB7XG5cdFx0XHR0aGlzLmV4dGVuc2libGUgPSBmYWxzZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2VhbFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZWFsKCkge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiB0aGlzLnByb3BlcnRpZXMpIHtcblx0XHRcdFx0dGhpcy5kZWZpbmVPd25Qcm9wZXJ0eShwcm9wLCB7IGNvbmZpZ3VyYWJsZTogZmFsc2UgfSwgdHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucHJldmVudEV4dGVuc2lvbnMoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZXF1YWxzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGVxdWFscyhvYmopIHtcblx0XHRcdGlmICh0aGlzLmlzUHJpbWl0aXZlICYmIG9iai5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWx1ZSA9PT0gb2JqLnZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcyA9PT0gb2JqO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b05hdGl2ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b05hdGl2ZSgpIHtcblx0XHRcdHZhciB1bndyYXBwZWQgPSB7fTtcblx0XHRcdHZhciBjdXJyZW50ID0gdGhpcztcblxuXHRcdFx0d2hpbGUgKGN1cnJlbnQpIHtcblx0XHRcdFx0Zm9yICh2YXIgX25hbWUgaW4gY3VycmVudC5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnQucHJvcGVydGllc1tfbmFtZV0uZW51bWVyYWJsZSAmJiAhKF9uYW1lIGluIHVud3JhcHBlZCkpIHtcblx0XHRcdFx0XHRcdHVud3JhcHBlZFtfbmFtZV0gPSBjdXJyZW50LmdldFZhbHVlKF9uYW1lKS50b05hdGl2ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LmdldFByb3RvdHlwZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW53cmFwcGVkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBPYmplY3RUeXBlO1xufSkoKTtcblxuZXhwb3J0cy5PYmplY3RUeXBlID0gT2JqZWN0VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RUeXBlID0gcmVxdWlyZShcIi4vb2JqZWN0LXR5cGVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIFByaW1pdGl2ZVR5cGUgPSAoZnVuY3Rpb24gKF9PYmplY3RUeXBlKSB7XG5cdF9pbmhlcml0cyhQcmltaXRpdmVUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gUHJpbWl0aXZlVHlwZSh2YWx1ZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcmltaXRpdmVUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFByaW1pdGl2ZVR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXG5cdFx0dGhpcy5pc1ByaW1pdGl2ZSA9IHRydWU7XG5cdFx0dGhpcy52YWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMudHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdHRoaXMuY2xhc3NOYW1lID0gY29udHJhY3RzLmdldFR5cGUodmFsdWUpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFByaW1pdGl2ZVR5cGUsIFt7XG5cdFx0a2V5OiBcImdldFByb3BlcnR5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldFByb3BlcnR5KG5hbWUpIHtcblx0XHRcdC8vIGNhbid0IHJlYWQgcHJvcGVydGllcyBvZiBudWxsL3VuZGVmaW5lZFxuXHRcdFx0aWYgKHRoaXMudmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJvcGVydHkgJ1wiICsgbmFtZSArIFwiJyBvZiBcIiArIHRoaXMudHlwZSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihQcmltaXRpdmVUeXBlLnByb3RvdHlwZSksIFwiZ2V0UHJvcGVydHlcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gUHJpbWl0aXZlVHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLlByaW1pdGl2ZVR5cGUgPSBQcmltaXRpdmVUeXBlO1xudmFyIFVOREVGSU5FRCA9IG5ldyBQcmltaXRpdmVUeXBlKHVuZGVmaW5lZCk7XG5leHBvcnRzLlVOREVGSU5FRCA9IFVOREVGSU5FRDtcbnZhciBOVUxMID0gbmV3IFByaW1pdGl2ZVR5cGUobnVsbCk7XG5leHBvcnRzLk5VTEwgPSBOVUxMOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3NcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF91dGlsc09wZXJhdG9ycyA9IHJlcXVpcmUoXCIuLi91dGlscy9vcGVyYXRvcnNcIik7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxudmFyIGRlZmF1bHREZXNjcmlwdG9yID0ge1xuXHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0d3JpdGFibGU6IGZhbHNlXG59O1xuXG52YXIgUHJvcGVydHlEZXNjcmlwdG9yID0gKGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIGNvbmZpZywgdmFsdWUpIHtcblx0XHRpZiAoY29uZmlnID09PSB1bmRlZmluZWQpIGNvbmZpZyA9IGRlZmF1bHREZXNjcmlwdG9yO1xuXG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3BlcnR5RGVzY3JpcHRvcik7XG5cblx0XHR0aGlzLmJhc2UgPSBiYXNlO1xuXHRcdHRoaXMuY29uZmlndXJhYmxlID0gY29uZmlnLmNvbmZpZ3VyYWJsZSB8fCBmYWxzZTtcblx0XHR0aGlzLmVudW1lcmFibGUgPSBjb25maWcuZW51bWVyYWJsZSB8fCBmYWxzZTtcblxuXHRcdGlmIChcImdldFwiIGluIGNvbmZpZyB8fCBcInNldFwiIGluIGNvbmZpZykge1xuXHRcdFx0dGhpcy5kYXRhUHJvcGVydHkgPSBmYWxzZTtcblx0XHRcdHRoaXMuZ2V0ID0gY29uZmlnLmdldDtcblx0XHRcdHRoaXMuZ2V0dGVyID0gY29uZmlnLmdldHRlcjtcblx0XHRcdHRoaXMuc2V0ID0gY29uZmlnLnNldDtcblx0XHRcdHRoaXMuc2V0dGVyID0gY29uZmlnLnNldHRlcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy53cml0YWJsZSA9IGNvbmZpZy53cml0YWJsZSB8fCBmYWxzZTtcblx0XHRcdHRoaXMuZGF0YVByb3BlcnR5ID0gdHJ1ZTtcblx0XHRcdHRoaXMudmFsdWUgPSB2YWx1ZSB8fCBjb25maWcudmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFByb3BlcnR5RGVzY3JpcHRvciwgW3tcblx0XHRrZXk6IFwiYmluZFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBiaW5kKG9iaikge1xuXHRcdFx0dGhpcy5iYXNlID0gb2JqO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInVwZGF0ZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoZGVzY3JpcHRvcikge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdGlmIChkZXNjcmlwdG9yLmhhc093blByb3BlcnR5KHByb3ApKSB7XG5cdFx0XHRcdFx0dGhpc1twcm9wXSA9IGRlc2NyaXB0b3JbcHJvcF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKFwiZ2V0XCIgaW4gZGVzY3JpcHRvciB8fCBcInNldFwiIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0dGhpcy53cml0YWJsZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0dGhpcy5kYXRhUHJvcGVydHkgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIHtcblx0XHRcdFx0dGhpcy53cml0YWJsZSA9IHRoaXMud3JpdGFibGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdGhpcy53cml0YWJsZTtcblx0XHRcdFx0dGhpcy5kYXRhUHJvcGVydHkgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLmdldCA9IHRoaXMuZ2V0dGVyID0gdGhpcy5zZXQgPSB0aGlzLnNldHRlciA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiY2FuVXBkYXRlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNhblVwZGF0ZShkZXNjcmlwdG9yKSB7XG5cdFx0XHRpZiAodGhpcy5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcImNvbmZpZ3VyYWJsZVwiIGluIGRlc2NyaXB0b3IgJiYgdGhpcy5jb25maWd1cmFibGUgIT09IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwiZW51bWVyYWJsZVwiIGluIGRlc2NyaXB0b3IgJiYgdGhpcy5lbnVtZXJhYmxlICE9PSBkZXNjcmlwdG9yLmVudW1lcmFibGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKFwiZ2V0XCIgaW4gZGVzY3JpcHRvciB8fCBcInNldFwiIGluIGRlc2NyaXB0b3IpICYmIHRoaXMuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yICYmICF0aGlzLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmRhdGFQcm9wZXJ0eSkge1xuXHRcdFx0XHRpZiAoIXRoaXMud3JpdGFibGUpIHtcblx0XHRcdFx0XHRpZiAoZGVzY3JpcHRvci53cml0YWJsZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiAhKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSB8fCAoMCwgX3V0aWxzT3BlcmF0b3JzLmFyZVNhbWUpKHRoaXMudmFsdWUsIGRlc2NyaXB0b3IudmFsdWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcImdldFwiIGluIGRlc2NyaXB0b3IgJiYgdGhpcy5nZXQgIT09IGRlc2NyaXB0b3IuZ2V0KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFwic2V0XCIgaW4gZGVzY3JpcHRvciAmJiB0aGlzLnNldCAhPT0gZGVzY3JpcHRvci5zZXQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG5cdFx0XHRpZiAodGhpcy5kYXRhUHJvcGVydHkpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmdldHRlcikge1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHRoaXMuZ2V0dGVyLmNhbGwodGhpcy5iYXNlKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImNhblNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNhblNldFZhbHVlKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMud3JpdGFibGUgfHwgISF0aGlzLnNldHRlcjtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwic2V0VmFsdWVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0XHRcdGlmICghdGhpcy5jYW5TZXRWYWx1ZSgpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZGF0YVByb3BlcnR5KSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5zZXR0ZXIpIHtcblx0XHRcdFx0KDAsIF91dGlsc0FzeW5jLmV4aGF1c3QpKHRoaXMuc2V0dGVyLmNhbGwodGhpcy5iYXNlLCB2YWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBQcm9wZXJ0eURlc2NyaXB0b3I7XG59KSgpO1xuXG5leHBvcnRzLlByb3BlcnR5RGVzY3JpcHRvciA9IFByb3BlcnR5RGVzY3JpcHRvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgUmVnZXhUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoUmVnZXhUeXBlLCBfT2JqZWN0VHlwZSk7XG5cblx0ZnVuY3Rpb24gUmVnZXhUeXBlKHZhbHVlKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlZ2V4VHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihSZWdleFR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuc291cmNlID0gdmFsdWU7XG5cdFx0dGhpcy5jbGFzc05hbWUgPSBcIlJlZ0V4cFwiO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFJlZ2V4VHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG9iamVjdEZhY3RvcnkpIHtcblx0XHRcdC8vIGxhc3RJbmRleCBpcyBzZXR0YWJsZSwgYWxsIG90aGVycyBhcmUgcmVhZC1vbmx5IGF0dHJpYnV0ZXNcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJsYXN0SW5kZXhcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5zb3VyY2UubGFzdEluZGV4KSwgd3JpdGFibGU6IHRydWUgfSk7XG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwic291cmNlXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMuc291cmNlLnNvdXJjZSkgfSk7XG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwiZ2xvYmFsXCIsIHsgdmFsdWU6IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHRoaXMuc291cmNlLmdsb2JhbCkgfSk7XG5cdFx0XHR0aGlzLmRlZmluZU93blByb3BlcnR5KFwiaWdub3JlQ2FzZVwiLCB7IHZhbHVlOiBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZSh0aGlzLnNvdXJjZS5pZ25vcmVDYXNlKSB9KTtcblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJtdWx0aWxpbmVcIiwgeyB2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy5zb3VyY2UubXVsdGlsaW5lKSB9KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidG9OYXRpdmVcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gdG9OYXRpdmUoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zb3VyY2U7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFJlZ2V4VHlwZTtcbn0pKF9vYmplY3RUeXBlLk9iamVjdFR5cGUpO1xuXG5leHBvcnRzLlJlZ2V4VHlwZSA9IFJlZ2V4VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgU2V0VHlwZSA9IChmdW5jdGlvbiAoX09iamVjdFR5cGUpIHtcblx0X2luaGVyaXRzKFNldFR5cGUsIF9PYmplY3RUeXBlKTtcblxuXHRmdW5jdGlvbiBTZXRUeXBlKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXRUeXBlKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFNldFR5cGUucHJvdG90eXBlKSwgXCJjb25zdHJ1Y3RvclwiLCB0aGlzKS5jYWxsKHRoaXMpO1xuXHRcdHRoaXMuc2V0RGF0YSA9IFtdO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFNldFR5cGUsIFt7XG5cdFx0a2V5OiBcImluaXRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdChvYmplY3RGYWN0b3J5KSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuZGVmaW5lT3duUHJvcGVydHkoXCJzaXplXCIsIHtcblx0XHRcdFx0Z2V0dGVyOiBmdW5jdGlvbiBnZXR0ZXIoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHNlbGYuc2V0RGF0YS5sZW5ndGgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uIGdldCgpIHt9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwidmFsdWVzXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHZhbHVlcygpIHtcblx0XHRcdHJldHVybiB0aGlzLnNldERhdGE7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImtleXNcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24ga2V5cygpIHtcblx0XHRcdHJldHVybiB0aGlzLnNldERhdGE7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFNldFR5cGU7XG59KShfb2JqZWN0VHlwZS5PYmplY3RUeXBlKTtcblxuZXhwb3J0cy5TZXRUeXBlID0gU2V0VHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcmltaXRpdmVUeXBlID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfcHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZShcIi4vcHJvcGVydHktZGVzY3JpcHRvclwiKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG5mdW5jdGlvbiBnZXRDaGFyYWN0ZXIoc291cmNlLCBwb3NpdGlvbikge1xuXHRpZiAocG9zaXRpb24gPCBzb3VyY2UudmFsdWUubGVuZ3RoKSB7XG5cdFx0Ly8gdG9kbzogbmVlZCB0byBzZXQgbGVuZ3RoXG5cdFx0dmFyIGNoYXJhY3RlciA9IG5ldyBTdHJpbmdUeXBlKHNvdXJjZS52YWx1ZVtwb3NpdGlvbl0pO1xuXHRcdGNoYXJhY3Rlci5zZXRQcm90b3R5cGUoc291cmNlLmdldFByb3RvdHlwZSgpKTtcblx0XHRyZXR1cm4gY2hhcmFjdGVyO1xuXHR9XG5cblx0cmV0dXJuIG5ldyBfcHJpbWl0aXZlVHlwZS5QcmltaXRpdmVUeXBlKHVuZGVmaW5lZCk7XG59XG5cbnZhciBTdHJpbmdUeXBlID0gKGZ1bmN0aW9uIChfUHJpbWl0aXZlVHlwZSkge1xuXHRfaW5oZXJpdHMoU3RyaW5nVHlwZSwgX1ByaW1pdGl2ZVR5cGUpO1xuXG5cdGZ1bmN0aW9uIFN0cmluZ1R5cGUodmFsdWUpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RyaW5nVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTdHJpbmdUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzLCB2YWx1ZSk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoU3RyaW5nVHlwZSwgW3tcblx0XHRrZXk6IFwiaW5pdFwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KG9iamVjdEZhY3RvcnkpIHtcblx0XHRcdHRoaXMucHJvcGVydGllcy5sZW5ndGggPSBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywge1xuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d3JpdGFibGU6IGZhbHNlLFxuXHRcdFx0XHR2YWx1ZTogb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodGhpcy52YWx1ZS5sZW5ndGgpXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0UHJvcGVydHlcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvcGVydHkobmFtZSkge1xuXHRcdFx0aWYgKGNvbnRyYWN0cy5pc0ludGVnZXIobmFtZSkpIHtcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gTnVtYmVyKG5hbWUpO1xuXHRcdFx0XHRpZiAocG9zaXRpb24gPCB0aGlzLnZhbHVlLmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgX3Byb3BlcnR5RGVzY3JpcHRvci5Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgeyBjb25maWd1cmFibGU6IGZhbHNlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogZmFsc2UsIHZhbHVlOiBnZXRDaGFyYWN0ZXIodGhpcywgcG9zaXRpb24pIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTdHJpbmdUeXBlLnByb3RvdHlwZSksIFwiZ2V0UHJvcGVydHlcIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKCkge1xuXHRcdFx0dmFyIHByb3BzID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbG4gPSB0aGlzLnZhbHVlLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHRcdFx0cHJvcHMucHVzaChTdHJpbmcoaSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcHJvcHMuY29uY2F0KF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0cmluZ1R5cGUucHJvdG90eXBlKSwgXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIsIHRoaXMpLmNhbGwodGhpcykpO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJoYXNPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShuYW1lKSB7XG5cdFx0XHRpZiAoY29udHJhY3RzLmlzSW50ZWdlcihuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gbmFtZSA8IHRoaXMudmFsdWUubGVuZ3RoO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RyaW5nVHlwZS5wcm90b3R5cGUpLCBcImhhc093blByb3BlcnR5XCIsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIFN0cmluZ1R5cGU7XG59KShfcHJpbWl0aXZlVHlwZS5QcmltaXRpdmVUeXBlKTtcblxuZXhwb3J0cy5TdHJpbmdUeXBlID0gU3RyaW5nVHlwZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldFwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW5oZXJpdHMgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVja1wiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2JqZWN0VHlwZSA9IHJlcXVpcmUoXCIuL29iamVjdC10eXBlXCIpO1xuXG52YXIgR0xPQkFMX1NZTUJPTF9SRUdJU1RSWSA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xudmFyIHVpZCA9IDA7XG5cbnZhciBTeW1ib2xUeXBlID0gKGZ1bmN0aW9uIChfT2JqZWN0VHlwZSkge1xuXHRfaW5oZXJpdHMoU3ltYm9sVHlwZSwgX09iamVjdFR5cGUpO1xuXG5cdGZ1bmN0aW9uIFN5bWJvbFR5cGUoZGVzY3JpcHRpb24pIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ltYm9sVHlwZSk7XG5cblx0XHRfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihTeW1ib2xUeXBlLnByb3RvdHlwZSksIFwiY29uc3RydWN0b3JcIiwgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnR5cGUgPSBcInN5bWJvbFwiO1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gXCJTeW1ib2xcIjtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cdFx0dGhpcy51aWQgPSB1aWQrKztcblxuXHRcdC8vIGFkZCBzbyB3ZSBjYW4gZWFzaWx5IGNoZWNrIGlmIGFuIG9iamVjdCBpcyBhIHN5bWJvbCB3aGVuIHdlIGNhcmVcblx0XHR0aGlzLmlzU3ltYm9sID0gdHJ1ZTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhTeW1ib2xUeXBlLCBbe1xuXHRcdGtleTogXCJkZWZpbmVPd25Qcm9wZXJ0eVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBkZWZpbmVPd25Qcm9wZXJ0eShuYW1lLCBkZXNjcmlwdG9yLCB0aHJvd09uRXJyb3IpIHtcblx0XHRcdGlmICh0aHJvd09uRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhc3NpZ24gdG8gcmVhZCBvbmx5IHByb3BlcnR5ICdcIiArIG5hbWUgKyBcIicgb2YgXCIgKyB0aGlzLnRvTmF0aXZlKCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcInRvTmF0aXZlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHRvTmF0aXZlKCkge1xuXHRcdFx0cmV0dXJuIFwiU3ltYm9sKFwiICsgdGhpcy5kZXNjcmlwdGlvbiArIFwiKVwiO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogXCJ0b1N0cmluZ1wiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRcdC8vIHRoaXMgbWV0aG9kIGlzIGhlcmUgc28gc3ltYm9scyBjYW4gYmUgY29lcmNlZCBpbnRvIHN0cmluZ3MgZm9yIHByb3BlcnR5IGxvb2t1cHNcblx0XHRcdHJldHVybiBcIkBAXCIgKyB0aGlzLnVpZDtcblx0XHR9XG5cdH1dLCBbe1xuXHRcdGtleTogXCJhZGRcIixcblx0XHR2YWx1ZTogZnVuY3Rpb24gYWRkKGtleSwgc3ltKSB7XG5cdFx0XHRHTE9CQUxfU1lNQk9MX1JFR0lTVFJZW2tleV0gPSBzeW07XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiBcImdldEJ5S2V5XCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGdldEJ5S2V5KGtleSkge1xuXHRcdFx0cmV0dXJuIEdMT0JBTF9TWU1CT0xfUkVHSVNUUllba2V5XTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6IFwiZ2V0QnlJbnN0YW5jZVwiLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBnZXRCeUluc3RhbmNlKHN5bSkge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIEdMT0JBTF9TWU1CT0xfUkVHSVNUUlkpIHtcblx0XHRcdFx0aWYgKHN5bSA9PT0gR0xPQkFMX1NZTUJPTF9SRUdJU1RSWVtrZXldKSB7XG5cdFx0XHRcdFx0cmV0dXJuIEdMT0JBTF9TWU1CT0xfUkVHSVNUUllba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTeW1ib2xUeXBlO1xufSkoX29iamVjdFR5cGUuT2JqZWN0VHlwZSk7XG5cbmV4cG9ydHMuU3ltYm9sVHlwZSA9IFN5bWJvbFR5cGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWNsYXJlID0gZGVjbGFyZTtcbmV4cG9ydHMuYXNzaWduID0gYXNzaWduO1xudmFyIG1hcmtlZDAkMCA9IFtkZWNsYXJlLCBhc3NpZ24sIGRlc3RydWN0dXJlLCBoYW5kbGVEZWZhdWx0LCBkZXN0cnVjdHVyZUFycmF5LCBnZXRPYmplY3RLZXksIGRlc3RydWN0dXJlT2JqZWN0XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbnZhciBfYXN5bmMgPSByZXF1aXJlKFwiLi9hc3luY1wiKTtcblxudmFyIF9uYXRpdmUgPSByZXF1aXJlKFwiLi9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIGRlY2xhcmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSkge1xuXHR2YXIgbGVmdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZWNsYXJlJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghKGxlZnROb2RlLnR5cGUgPT09IFwiSWRlbnRpZmllclwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGVmdCA9IGVudi5jcmVhdGVWYXJpYWJsZShsZWZ0Tm9kZS5uYW1lKTtcblxuXHRcdFx0XHRsZWZ0LnNldFZhbHVlKHJpZ2h0VmFsdWUpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBkZXN0cnVjdHVyZShlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBkZWNsYXJlKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBhc3NpZ24oZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSkge1xuXHR2YXIgbGVmdDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBhc3NpZ24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBsZWZ0Tm9kZS50eXBlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gY29udGV4dCQxJDAudDAgPT09IFwiSWRlbnRpZmllclwiID8gMyA6IGNvbnRleHQkMSQwLnQwID09PSBcIk1lbWJlckV4cHJlc3Npb25cIiA/IDMgOiA4O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGxlZnROb2RlKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRsZWZ0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cblx0XHRcdFx0bGVmdC5zZXRWYWx1ZShyaWdodFZhbHVlKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDEwKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdHJldHVybiBkZXN0cnVjdHVyZShlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBhc3NpZ24pO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzdHJ1Y3R1cmUoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgY2IpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXN0cnVjdHVyZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGxlZnROb2RlLnR5cGU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSBjb250ZXh0JDEkMC50MCA9PT0gXCJBcnJheVBhdHRlcm5cIiA/IDMgOiBjb250ZXh0JDEkMC50MCA9PT0gXCJPYmplY3RQYXR0ZXJuXCIgPyA2IDogY29udGV4dCQxJDAudDAgPT09IFwiQXNzaWdubWVudFBhdHRlcm5cIiA/IDkgOiAxMjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiBkZXN0cnVjdHVyZUFycmF5KGVudiwgbGVmdE5vZGUsIHJpZ2h0VmFsdWUsIGNiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTMpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gZGVzdHJ1Y3R1cmVPYmplY3QoZW52LCBsZWZ0Tm9kZSwgcmlnaHRWYWx1ZSwgY2IpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMyk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gaGFuZGxlRGVmYXVsdChlbnYsIGxlZnROb2RlLCByaWdodFZhbHVlLCBjYik7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCAxMyk7XG5cblx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihsZWZ0Tm9kZS50eXBlICsgXCIgbm90IGltcGxlbWVudGVkXCIpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzJdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVmYXVsdChlbnYsIGxlZnQsIHJpZ2h0VmFsdWUsIGNiKSB7XG5cdHZhciBkZWZhdWx0VmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gaGFuZGxlRGVmYXVsdCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIShyaWdodFZhbHVlID09PSBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQobGVmdC5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGRlZmF1bHRWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0cmlnaHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZS5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0cmV0dXJuIGNiKGVudiwgbGVmdC5sZWZ0LCByaWdodFZhbHVlKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzNdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzdHJ1Y3R1cmVBcnJheShlbnYsIHBhdHRlcm4sIGFyciwgY2IpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBkZXN0cnVjdHVyZUFycmF5JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9hc3luYy5lYWNoKShwYXR0ZXJuLmVsZW1lbnRzLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChjdXJyZW50LCBpbmRleCkge1xuXHRcdFx0XHRcdHZhciBwcm9wSW5mbywgdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdHByb3BJbmZvID0gYXJyLmdldFByb3BlcnR5KGluZGV4KTtcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHByb3BJbmZvID8gcHJvcEluZm8uZ2V0VmFsdWUoKSA6IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjYihlbnYsIGN1cnJlbnQsIHZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFs0XSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGdldE9iamVjdEtleShlbnYsIGtleU5vZGUpIHtcblx0dmFyIGtleTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBnZXRPYmplY3RLZXkkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFrZXlOb2RlLmNvbXB1dGVkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGtleU5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRrZXkgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmICgha2V5LmlzU3ltYm9sKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGtleSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1N0cmluZykoZW52LCBrZXkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBrZXlOb2RlLm5hbWUpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzVdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVzdHJ1Y3R1cmVPYmplY3QoZW52LCBwYXR0ZXJuLCBvYmosIGNiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZGVzdHJ1Y3R1cmVPYmplY3QkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX2FzeW5jLmVhY2gpKHBhdHRlcm4ucHJvcGVydGllcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoY3VycmVudCkge1xuXHRcdFx0XHRcdHZhciBrZXksIHByb3BJbmZvLCB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldE9iamVjdEtleShlbnYsIGN1cnJlbnQua2V5KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0a2V5ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRwcm9wSW5mbyA9IG9iai5nZXRQcm9wZXJ0eShrZXkpO1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gcHJvcEluZm8gPyBwcm9wSW5mby5nZXRWYWx1ZSgpIDogX3R5cGVzUHJpbWl0aXZlVHlwZS5VTkRFRklORUQ7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNiKGVudiwgY3VycmVudC52YWx1ZSwgdmFsdWUpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzZdLCB0aGlzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfUHJvbWlzZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZVwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm1hcCA9IG1hcDtcbmV4cG9ydHMuZWFjaCA9IGVhY2g7XG5leHBvcnRzLnN0ZXAgPSBzdGVwO1xuZXhwb3J0cy5leGhhdXN0ID0gZXhoYXVzdDtcbmV4cG9ydHMucHJvbWlzaWZ5ID0gcHJvbWlzaWZ5O1xudmFyIG1hcmtlZDAkMCA9IFttYXAsIGVhY2gsIHN0ZXBdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgb2JqZWN0T3JGdW5jdGlvblR5cGVzID0geyBcIm9iamVjdFwiOiB0cnVlLCBcImZ1bmN0aW9uXCI6IHRydWUgfTtcbmZ1bmN0aW9uIGlzT2JqZWN0T3JGdW5jdGlvbihvYmopIHtcblx0cmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqIGluIG9iamVjdE9yRnVuY3Rpb25UeXBlcztcbn1cblxuZnVuY3Rpb24gaXNUaGVuYWJsZShvYmopIHtcblx0cmV0dXJuIGlzT2JqZWN0T3JGdW5jdGlvbihvYmopICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG5mdW5jdGlvbiBpc05leHRhYmxlKG9iaikge1xuXHRyZXR1cm4gaXNPYmplY3RPckZ1bmN0aW9uKG9iaikgJiYgdHlwZW9mIG9iai5uZXh0ID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIG1hcChhcnIsIGZ1bmMpIHtcblx0dmFyIG1hcHBlZCwgaSwgbG47XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gbWFwJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG1hcHBlZCA9IFtdO1xuXHRcdFx0XHRpID0gMCwgbG4gPSBhcnIubGVuZ3RoO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGlmICghKGkgPCBsbikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IG1hcHBlZDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoZnVuYyhhcnJbaV0sIGksIGFyciksIFwidDFcIiwgNSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBjb250ZXh0JDEkMC50MTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAucHVzaC5jYWxsKGNvbnRleHQkMSQwLnQwLCBjb250ZXh0JDEkMC50Mik7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbWFwcGVkKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGVhY2goYXJyLCBmdW5jKSB7XG5cdHZhciBhYm9ydCwgYWJvcnRlciwgaSwgbG47XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZWFjaCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRhYm9ydCA9IGZhbHNlO1xuXG5cdFx0XHRcdGFib3J0ZXIgPSBmdW5jdGlvbiBhYm9ydGVyKCkge1xuXHRcdFx0XHRcdGFib3J0ID0gdHJ1ZTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRpID0gMCwgbG4gPSBhcnIubGVuZ3RoO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdGlmICghKGkgPCBsbikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZGVsZWdhdGVZaWVsZChmdW5jKGFycltpXSwgaSwgYXJyLCBhYm9ydGVyKSwgXCJ0MFwiLCA1KTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRpZiAoIWFib3J0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgMTApO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gc3RlcChpdCwgcHJldikge1xuXHR2YXIgcmVzdWx0LCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBzdGVwJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IGl0Lm5leHQocHJldik7XG5cdFx0XHRcdHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuXG5cdFx0XHRcdGlmICghaXNOZXh0YWJsZSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKHN0ZXAodmFsdWUpLCBcInQwXCIsIDQpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRpZiAoIWlzVGhlbmFibGUodmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0cmV0dXJuIHZhbHVlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdHJldHVybiBpdDtcblx0XHRcdFx0fSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0aWYgKCFyZXN1bHQuZG9uZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdHJldHVybiBzdGVwKGl0LCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMl0sIHRoaXMpO1xufVxuXG4vKipcclxuICogRnVsbHkgZXhoYXVzdHMgYW4gaXRlcmF0b3IsIGluY2x1ZGluZyBkZWxlZ2F0ZWQgZ2VuZXJhdG9ycy5cclxuICogU3BlY2lhbCBoYW5kbGluZyBpcyB0YWtlbiBpZiBhIFByb21pc2UgaXMgcmV0dXJuZWQsIHBhdXNpbmdcclxuICogdGhlIGdlbmVyYXRvciB1bnRpbCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZC5cclxuICpcclxuICogQHBhcmFtIHtJdGVyYXRvcn0gW2l0XSAtIFRoZSBpdGVyYXRvclxyXG4gKiBAcGFyYW0ge09iamVjdH0gW3ByZXZdIC0gVGhlIHByZXZpb3VzIGl0ZXJhdGlvbiB2YWx1ZSAoaW50ZXJuYWwpXHJcbiAqIEByZXR1cm5zIHtPYmplY3R8UHJvbWlzZX0gUmV0dXJucyB0aGUgZmluYWwgdmFsdWUsIG9yIGEgUHJvbWlzZSBpZlxyXG4gKiBhdCBhbnkgcG9pbnQgaW4gdGhlIGl0ZXJhdGlvbiBhIFByb21pc2UgaXMgcmV0dXJuZWQuXHJcbiAqL1xuXG5mdW5jdGlvbiBleGhhdXN0KF94LCBfeDIpIHtcblx0dmFyIF9hZ2FpbiA9IHRydWU7XG5cblx0X2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7XG5cdFx0dmFyIGl0ID0gX3gsXG5cdFx0ICAgIHByZXYgPSBfeDI7XG5cdFx0cmVzdWx0ID0gdmFsdWUgPSBlID0gdW5kZWZpbmVkO1xuXHRcdF9hZ2FpbiA9IGZhbHNlO1xuXG5cdFx0Ly8gc2FuaXR5IGNoZWNrXG5cdFx0aWYgKCFpc05leHRhYmxlKGl0KSkge1xuXHRcdFx0cmV0dXJuIGl0O1xuXHRcdH1cblxuXHRcdHZhciByZXN1bHQgPSBpdC5uZXh0KHByZXYpO1xuXHRcdHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcblxuXHRcdGlmIChpc05leHRhYmxlKHZhbHVlKSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBleGhhdXN0KHZhbHVlKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHQvLyBjYXNjYWRlIHRoZSBlcnJvciB1cHN0cmVhbVxuXHRcdFx0XHR2YXIgZSA9IGl0W1widGhyb3dcIl0oZXJyKTtcblx0XHRcdFx0X3ggPSBlLnZhbHVlO1xuXHRcdFx0XHRfeDIgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdF9hZ2FpbiA9IHRydWU7XG5cdFx0XHRcdGNvbnRpbnVlIF9mdW5jdGlvbjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocmVzdWx0LmRvbmUpIHtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoaXNUaGVuYWJsZSh2YWx1ZSkpIHtcblx0XHRcdHJldHVybiB2YWx1ZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0cmV0dXJuIGV4aGF1c3QoaXQsIHJlcyk7XG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBpdFtcInRocm93XCJdKGVycik7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRfeCA9IGl0O1xuXHRcdF94MiA9IHZhbHVlO1xuXHRcdF9hZ2FpbiA9IHRydWU7XG5cdFx0Y29udGludWUgX2Z1bmN0aW9uO1xuXHR9XG59XG5cbi8qKlxyXG4gKiBOb3JtYWxpemVzIGEgcmVzdWx0IGludG8gYSBwcm9taXNlLCB3aGV0aGVyIGl0IGlzIGEgZ2VuZXJhdG9yLCBwcm9taXNlLFxyXG4gKiBvciBub3JtYWwgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SXRlcmF0b3J9IFtpdF0gLSBUaGUgaXRlcmF0b3IuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgb3IgcmVqZWN0cyBiYXNlZCBvbiB0aGUgcmVzdWx0LlxyXG4gKi9cblxuZnVuY3Rpb24gcHJvbWlzaWZ5KGl0KSB7XG5cdHRyeSB7XG5cdFx0dmFyIHJlc3VsdCA9IGV4aGF1c3QoaXQpO1xuXHRcdGlmIChpc05leHRhYmxlKHJlc3VsdCkpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIF9Qcm9taXNlLnJlc29sdmUocmVzdWx0KTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0cmV0dXJuIF9Qcm9taXNlLnJlamVjdChlcnIudG9OYXRpdmUoKSk7XG5cdH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuYXNzZXJ0SXNPYmplY3QgPSBhc3NlcnRJc09iamVjdDtcbmV4cG9ydHMuYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQgPSBhc3NlcnRJc05vdE51bGxPclVuZGVmaW5lZDtcbmV4cG9ydHMuYXNzZXJ0QXJnSXNOb3ROdWxsT3JVbmRlZmluZWQgPSBhc3NlcnRBcmdJc05vdE51bGxPclVuZGVmaW5lZDtcbmV4cG9ydHMuYXNzZXJ0SXNGdW5jdGlvbiA9IGFzc2VydElzRnVuY3Rpb247XG5leHBvcnRzLmFzc2VydElzTm90Q29uc3RydWN0b3IgPSBhc3NlcnRJc05vdENvbnN0cnVjdG9yO1xuZXhwb3J0cy5hc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGggPSBhc3NlcnRJc1ZhbGlkQXJyYXlMZW5ndGg7XG5leHBvcnRzLmFzc2VydElzVmFsaWRBc3NpZ25tZW50ID0gYXNzZXJ0SXNWYWxpZEFzc2lnbm1lbnQ7XG5leHBvcnRzLmFzc2VydElzVmFsaWRQYXJhbWV0ZXJOYW1lID0gYXNzZXJ0SXNWYWxpZFBhcmFtZXRlck5hbWU7XG5leHBvcnRzLmFzc2VydElzVmFsaWROYW1lID0gYXNzZXJ0SXNWYWxpZE5hbWU7XG5leHBvcnRzLmFzc2VydElzTm90R2VuZXJpYyA9IGFzc2VydElzTm90R2VuZXJpYztcbmV4cG9ydHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIgPSBhc3NlcnRJc1ZhbGlkSWRlbnRpZmllcjtcbmV4cG9ydHMuYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMgPSBhc3NlcnRBcmVWYWxpZEFyZ3VtZW50cztcbmV4cG9ydHMuaXNWYWxpZEFycmF5TGVuZ3RoID0gaXNWYWxpZEFycmF5TGVuZ3RoO1xuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuZXhwb3J0cy5pc09jdGFsTGl0ZXJhbCA9IGlzT2N0YWxMaXRlcmFsO1xuZXhwb3J0cy5nZXRUeXBlID0gZ2V0VHlwZTtcbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuZXhwb3J0cy5pc0ludGVnZXIgPSBpc0ludGVnZXI7XG5leHBvcnRzLmlzU3RyaWN0Tm9kZSA9IGlzU3RyaWN0Tm9kZTtcblxudmFyIF9rZXl3b3JkcyA9IHJlcXVpcmUoXCIuLi9rZXl3b3Jkc1wiKTtcblxudmFyIG9iamVjdFBhdHRlcm4gPSAvXFxbb2JqZWN0IChcXHcrKVxcXS87XG52YXIgaW50ZWdlclBhdHRlcm4gPSAvXi0/XFxkKyQvO1xudmFyIG9jdGFsUGF0dGVybiA9IC9eLT8wWzAtN10vO1xudmFyIG9jdGFsRXNjYXBlUGF0dGVybiA9IC9eKFteXFxcXF18XFxcXFteMC03XSkqXFxcXChbMC0zXVswLTddezEsMn18WzQtN11bMC03XXxbMC03XSkvO1xudmFyIHVzZVN0cmljdFBhdHRlcm4gPSAvXlxccyooPzondXNlIHN0cmljdCd8XCJ1c2Ugc3RyaWN0XCIpXFxzKjs/XFxzKiQvO1xuXG5mdW5jdGlvbiBhc3NlcnRJc09iamVjdChvYmosIG1ldGhvZE5hbWUpIHtcblx0aWYgKCFpc09iamVjdChvYmopKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgY2FsbGVkIG9uIG5vbi1vYmplY3RcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNOb3ROdWxsT3JVbmRlZmluZWQodmFsdWUsIG1ldGhvZE5hbWUpIHtcblx0aWYgKGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IobWV0aG9kTmFtZSArIFwiIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZFwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRBcmdJc05vdE51bGxPclVuZGVmaW5lZChvYmopIHtcblx0aWYgKGlzTnVsbE9yVW5kZWZpbmVkKG9iaikpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgbnVsbCBvciB1bmRlZmluZWQgdG8gb2JqZWN0XCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzRnVuY3Rpb24ob2JqLCB0b1N0cmluZykge1xuXHRpZiAoIW9iaiB8fCBvYmouY2xhc3NOYW1lICE9PSBcIkZ1bmN0aW9uXCIpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiJXMgaXMgbm90IGEgZnVuY3Rpb25cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNOb3RDb25zdHJ1Y3Rvcihjb250ZXh0LCBtZXRob2ROYW1lKSB7XG5cdGlmIChjb250ZXh0LmlzTmV3KSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZEFycmF5TGVuZ3RoKGxlbmd0aCkge1xuXHRpZiAoIWlzVmFsaWRBcnJheUxlbmd0aChsZW5ndGgpKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGFycmF5IGxlbmd0aFwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1ZhbGlkQXNzaWdubWVudChsZWZ0LCBzdHJpY3QpIHtcblx0aWYgKGxlZnQgJiYgIWxlZnQuaXNSZWZlcmVuY2UpIHtcblx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIGluIGFzc2lnbm1lbnRcIik7XG5cdH1cblxuXHRpZiAobGVmdCAmJiBsZWZ0LmJhc2UgPT09IGxlZnQuZW52Lmdsb2JhbCkge1xuXHRcdGFzc2VydElzVmFsaWROYW1lKGxlZnQubmFtZSwgc3RyaWN0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRJc1ZhbGlkUGFyYW1ldGVyTmFtZShuYW1lLCBzdHJpY3QpIHtcblx0aWYgKC9eXFxkfFs7XFwoXFwpXCInXS8udGVzdChuYW1lKSkge1xuXHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gaW4gXCIgKyBuYW1lKTtcblx0fVxuXG5cdGFzc2VydElzVmFsaWROYW1lKG5hbWUsIHN0cmljdCk7XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzVmFsaWROYW1lKG5hbWUsIHN0cmljdCkge1xuXHRpZiAoc3RyaWN0ICYmIChuYW1lID09PSBcImFyZ3VtZW50c1wiIHx8IG5hbWUgPT09IFwiZXZhbFwiKSkge1xuXHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgZXZhbCBvciBhcmd1bWVudHMgaW4gc3RyaWN0IG1vZGVcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNOb3RHZW5lcmljKG9iaiwgZXhwZWN0ZWRDbGFzcywgbWV0aG9kTmFtZSkge1xuXHRpZiAoIW9iaiB8fCBvYmouY2xhc3NOYW1lICE9PSBleHBlY3RlZENsYXNzKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihtZXRob2ROYW1lICsgXCIgaXMgbm90IGdlbmVyaWNcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIobmFtZSwgc3RyaWN0KSB7XG5cdGlmICgoMCwgX2tleXdvcmRzLmlzUmVzZXJ2ZWQpKG5hbWUpKSB7XG5cdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiSWxsZWdhbCB1c2Ugb2YgcmVzZXJ2ZWQga2V5d29yZDogXCIgKyBuYW1lKTtcblx0fVxuXG5cdGlmIChzdHJpY3QgJiYgKDAsIF9rZXl3b3Jkcy5pc1N0cmljdFJlc2VydmVkKShuYW1lKSkge1xuXHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIklsbGVnYWwgdXNlIG9mIHN0cmljdCBtb2RlIHJlc2VydmVkIGtleXdvcmQ6IFwiICsgbmFtZSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMocGFyYW1zLCBzdHJpY3QpIHtcblx0cGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtLCBpbmRleCkge1xuXHRcdGFzc2VydElzVmFsaWRQYXJhbWV0ZXJOYW1lKHBhcmFtLm5hbWUsIHN0cmljdCk7XG5cblx0XHRpZiAoc3RyaWN0KSB7XG5cdFx0XHRpZiAocGFyYW1zLnNvbWUoZnVuY3Rpb24gKHAsIGkpIHtcblx0XHRcdFx0cmV0dXJuIGluZGV4ICE9PSBpICYmIHBhcmFtLm5hbWUgPT09IHAubmFtZTtcblx0XHRcdH0pKSB7XG5cdFx0XHRcdHRocm93IG5ldyBTeW50YXhFcnJvcihcIlN0cmljdCBtb2RlIGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBkdXBsaWNhdGUgcGFyYW1ldGVyIG5hbWVzXCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRBcnJheUxlbmd0aChsZW5ndGgpIHtcblx0cmV0dXJuIGlzSW50ZWdlcihsZW5ndGgpICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8IDQyOTQ5NjcyOTY7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuXHRpZiAoIW9iaikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChvYmouaXNQcmltaXRpdmUpIHtcblx0XHRyZXR1cm4gb2JqLnZhbHVlICYmIG9iai50eXBlID09PSBcIm9iamVjdFwiO1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzT2N0YWxMaXRlcmFsKHJhd1ZhbHVlLCBhY3R1YWxWYWx1ZSkge1xuXHRpZiAodHlwZW9mIGFjdHVhbFZhbHVlID09PSBcIm51bWJlclwiICYmIG9jdGFsUGF0dGVybi50ZXN0KHJhd1ZhbHVlKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBhY3R1YWxWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHZhciBtYXRjaCA9IHJhd1ZhbHVlLm1hdGNoKG9jdGFsRXNjYXBlUGF0dGVybik7XG5cdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHQvLyBcXDAgaXMgYWN0dWFsbHkgbm90IGNvbnNpZGVyZWQgYW4gb2N0YWxcblx0XHRcdGlmIChtYXRjaFsyXSAhPT0gXCIwXCIgfHwgdHlwZW9mIG1hdGNoWzNdICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHlwZShvYmopIHtcblx0cmV0dXJuIG9iamVjdFBhdHRlcm4uZXhlYyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSlbMV07XG59XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKG9iaikge1xuXHRyZXR1cm4gaXNVbmRlZmluZWQob2JqKSB8fCBpc051bGwob2JqKTtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG5cdHJldHVybiAhb2JqIHx8IG9iai5pc1ByaW1pdGl2ZSAmJiBvYmoudmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNOdWxsKG9iaikge1xuXHRyZXR1cm4gb2JqICYmIG9iai5pc1ByaW1pdGl2ZSAmJiBvYmoudmFsdWUgPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGludGVnZXJQYXR0ZXJuLnRlc3QodmFsdWUpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0RpcmVjdGl2ZShub2RlKSB7XG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiRXhwcmVzc2lvblN0YXRlbWVudFwiICYmIG5vZGUuZXhwcmVzc2lvbi50eXBlID09PSBcIkxpdGVyYWxcIiAmJiB0eXBlb2Ygbm9kZS5leHByZXNzaW9uLnZhbHVlID09PSBcInN0cmluZ1wiO1xufVxuXG5mdW5jdGlvbiBpc1N0cmljdE5vZGUobm9kZXMpIHtcblx0aWYgKEFycmF5LmlzQXJyYXkobm9kZXMpKSB7XG5cdFx0dmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHRcdHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuXHRcdHRyeSB7XG5cdFx0XHRmb3IgKHZhciBfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3Iobm9kZXMpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdFx0XHRcdHZhciBub2RlID0gX3N0ZXAudmFsdWU7XG5cblx0XHRcdFx0aWYgKCFpc0RpcmVjdGl2ZShub2RlKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChub2RlLmV4cHJlc3Npb24udmFsdWUgPT09IFwidXNlIHN0cmljdFwiICYmIHVzZVN0cmljdFBhdHRlcm4udGVzdChub2RlLmV4cHJlc3Npb24ucmF3KSkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0XHRfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmV4ZWN1dGUgPSBleGVjdXRlO1xuZXhwb3J0cy5jYWxsID0gY2FsbDtcbmV4cG9ydHMudHJ5RXhlY3V0ZSA9IHRyeUV4ZWN1dGU7XG52YXIgbWFya2VkMCQwID0gW2V4ZWN1dGUsIGNhbGwsIHRyeUV4ZWN1dGVdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZnVuY3Rpb24gZXhlY3V0ZShlbnYsIGZuLCBwYXJhbXMsIGFyZ3MsIHRoaXNBcmcsIGNhbGxlZSwgaXNOZXcpIHtcblx0dmFyIHNjb3BlLCByZXR1cm5SZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRzY29wZSA9IGZuLmNyZWF0ZVNjb3BlKGVudiwgdGhpc0FyZywgaXNOZXcpO1xuXHRcdFx0XHRyZXR1cm5SZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKGlzTmV3KSB7XG5cdFx0XHRcdFx0cmV0dXJuUmVzdWx0ID0gdGhpc0FyZztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gc2NvcGUubG9hZEFyZ3MocGFyYW1zLCBhcmdzLCBmbik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0c2NvcGUuaW5pdChmbi5ub2RlICYmIGZuLm5vZGUuYm9keSk7XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0dmFyIGV4ZWN1dGlvblJlc3VsdCwgc2hvdWxkUmV0dXJuO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWZuLm5hdGl2ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZm4ubmF0aXZlRnVuY3Rpb24uYXBwbHkoZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQodGhpc0FyZywgY2FsbGVlLCBpc05ldyksIGFyZ3MpIHx8IHJldHVyblJlc3VsdDtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KGZuLm5vZGUuYm9keSwgY2FsbGVlLCBpc05ldykuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0XHRleGVjdXRpb25SZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdHNob3VsZFJldHVybiA9IGZuLmFycm93IHx8IGV4ZWN1dGlvblJlc3VsdCAmJiBleGVjdXRpb25SZXN1bHQuZXhpdDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmICghKHNob3VsZFJldHVybiAmJiBleGVjdXRpb25SZXN1bHQucmVzdWx0KSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCEoIWlzTmV3IHx8ICFleGVjdXRpb25SZXN1bHQucmVzdWx0LmlzUHJpbWl0aXZlKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBleGVjdXRpb25SZXN1bHQucmVzdWx0KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmV0dXJuUmVzdWx0KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVyblJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmV0dXJuUmVzdWx0IHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGNhbGwoZW52LCBmbiwgcGFyYW1zLCBhcmdzLCB0aGlzQXJnLCBjYWxsZWUpIHtcblx0dmFyIHNjb3BlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGwkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0c2NvcGUgPSBmbi5jcmVhdGVTY29wZShlbnYsIHRoaXNBcmcsIGZhbHNlKTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBzY29wZS5sb2FkQXJncyhwYXJhbXMsIGFyZ3MsIGZuKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRzY29wZS5pbml0KGZuLm5vZGUgJiYgZm4ubm9kZS5ib2R5KTtcblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFmbi5uYXRpdmUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZuLm5hdGl2ZUZ1bmN0aW9uLmFwcGx5KGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KHRoaXNBcmcsIGNhbGxlZSksIGFyZ3MpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZW52LmNyZWF0ZUV4ZWN1dGlvbkNvbnRleHQoZm4ubm9kZS5ib2R5LCBjYWxsZWUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdHJ5RXhlY3V0ZShlbnYsIG9iaiwgbmFtZSkge1xuXHR2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzNdO1xuXHR2YXIgZm4sIHNjb3BlLCBleGVjdXRpb25SZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdHJ5RXhlY3V0ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRmbiA9IG9iai5nZXRQcm9wZXJ0eShuYW1lKTtcblxuXHRcdFx0XHRpZiAoZm4pIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDM6XG5cblx0XHRcdFx0Zm4gPSBmbi5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmICghKGZuICYmIGZuLmNsYXNzTmFtZSA9PT0gXCJGdW5jdGlvblwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNjb3BlID0gZm4uY3JlYXRlU2NvcGUoZW52LCBvYmopO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0cmV0dXJuIHNjb3BlLmxvYWRBcmdzKGZuLm5vZGUgJiYgZm4ubm9kZS5wYXJhbXMsIGFyZ3MsIGZuKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRzY29wZS5pbml0KGZuLm5vZGUgJiYgZm4ubm9kZS5ib2R5KTtcblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFmbi5uYXRpdmUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZuLm5hdGl2ZUZ1bmN0aW9uLmFwcGx5KGVudi5jcmVhdGVFeGVjdXRpb25Db250ZXh0KG9iaiwgb2JqKSwgYXJncyk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA2O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlbnYuY3JlYXRlRXhlY3V0aW9uQ29udGV4dChmbi5ub2RlLmJvZHksIGZuLm5vZGUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCAmJiByZXN1bHQucmVzdWx0KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZXhlY3V0aW9uUmVzdWx0ID8gZXhlY3V0aW9uUmVzdWx0LmdldFZhbHVlKCkgOiBfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZmFsc2UpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzJdLCB0aGlzKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfTWF0aCRzaWduID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9tYXRoL3NpZ25cIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wcmltaXRpdmVUb09iamVjdCA9IHByaW1pdGl2ZVRvT2JqZWN0O1xuZXhwb3J0cy50b09iamVjdCA9IHRvT2JqZWN0O1xuZXhwb3J0cy50b0xlbmd0aCA9IHRvTGVuZ3RoO1xuZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcbmV4cG9ydHMudG9QcmltaXRpdmUgPSB0b1ByaW1pdGl2ZTtcbmV4cG9ydHMudG9TdHJpbmcgPSB0b1N0cmluZztcbmV4cG9ydHMudG9OdW1iZXIgPSB0b051bWJlcjtcbmV4cG9ydHMudG9JbnRlZ2VyID0gdG9JbnRlZ2VyO1xuZXhwb3J0cy50b0ludDMyID0gdG9JbnQzMjtcbmV4cG9ydHMudG9VSW50MzIgPSB0b1VJbnQzMjtcbmV4cG9ydHMudG9Cb29sZWFuID0gdG9Cb29sZWFuO1xuZXhwb3J0cy50b05hdGl2ZUZ1bmN0aW9uID0gdG9OYXRpdmVGdW5jdGlvbjtcbnZhciBtYXJrZWQwJDAgPSBbZ2V0U3RyaW5nLCBnZXRQcmltaXRpdmUsIGdldFZhbHVlcywgdG9MZW5ndGgsIHRvUHJpbWl0aXZlLCB0b1N0cmluZywgdG9OdW1iZXIsIHRvSW50ZWdlciwgdG9JbnQzMiwgdG9VSW50MzJdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5yZXF1aXJlKFwiLi4vcG9seWZpbGxzXCIpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgc2lnbiA9IF9NYXRoJHNpZ247XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIE1BWF9MRU5HVEggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuXG5mdW5jdGlvbiBnZXRTdHJpbmcoZW52LCB2YWx1ZSkge1xuXHR2YXIgcHJpbWl0aXZlVmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZ2V0U3RyaW5nJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBcInVuZGVmaW5lZFwiKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRpZiAoIXZhbHVlLmlzUHJpbWl0aXZlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIFN0cmluZyh2YWx1ZS50b05hdGl2ZSgpKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy50cnlFeGVjdXRlKShlbnYsIHZhbHVlLCBcInRvU3RyaW5nXCIpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgU3RyaW5nKHByaW1pdGl2ZVZhbHVlLnZhbHVlKSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0Z1bmMudHJ5RXhlY3V0ZSkoZW52LCB2YWx1ZSwgXCJ2YWx1ZU9mXCIpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocHJpbWl0aXZlVmFsdWUgJiYgcHJpbWl0aXZlVmFsdWUuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcocHJpbWl0aXZlVmFsdWUudmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUuXCIpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpbWl0aXZlKGVudiwgdmFsdWUpIHtcblx0dmFyIHByaW1pdGl2ZVZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFByaW1pdGl2ZSQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgMCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCF2YWx1ZS5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZS50b05hdGl2ZSgpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLnRyeUV4ZWN1dGUpKGVudiwgdmFsdWUsIFwidmFsdWVPZlwiKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRwcmltaXRpdmVWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocHJpbWl0aXZlVmFsdWUgJiYgcHJpbWl0aXZlVmFsdWUuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZVZhbHVlLnRvTmF0aXZlKCkpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLnRyeUV4ZWN1dGUpKGVudiwgdmFsdWUsIFwidG9TdHJpbmdcIik7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHByaW1pdGl2ZVZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShwcmltaXRpdmVWYWx1ZSAmJiBwcmltaXRpdmVWYWx1ZS5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZVZhbHVlLnRvTmF0aXZlKCkpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZXMoZW52LCBhcmdzKSB7XG5cdHZhciB2YWx1ZXMsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGdldFZhbHVlcyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdFx0aSA9IDAsIGxuID0gYXJncy5sZW5ndGg7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0aWYgKCEoaSA8IGxuKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gdmFsdWVzO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGdldFByaW1pdGl2ZShlbnYsIGFyZ3NbaV0pO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAudDAucHVzaC5jYWxsKGNvbnRleHQkMSQwLnQwLCBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgODpcblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWVzKTtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsyXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIHByaW1pdGl2ZVRvT2JqZWN0KGVudiwgdmFsdWUpIHtcblx0dmFyIG5ld1ZhbHVlID0gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlKTtcblx0bmV3VmFsdWUuaXNQcmltaXRpdmUgPSBmYWxzZTtcblx0bmV3VmFsdWUudHlwZSA9IFwib2JqZWN0XCI7XG5cdHJldHVybiBuZXdWYWx1ZTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QoZW52LCBvYmopIHtcblx0aWYgKG9iai5pc1ByaW1pdGl2ZSAmJiBvYmoudmFsdWUgIT0gbnVsbCAmJiBvYmoudHlwZSAhPT0gXCJvYmplY3RcIikge1xuXHRcdHJldHVybiBwcmltaXRpdmVUb09iamVjdChlbnYsIG9iai52YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiB0b0xlbmd0aChlbnYsIG9iaikge1xuXHR2YXIgbGVuZ3RoUHJvcGVydHksIF9sZW5ndGg7XG5cblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b0xlbmd0aCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRsZW5ndGhQcm9wZXJ0eSA9IG9iai5nZXRQcm9wZXJ0eShcImxlbmd0aFwiKTtcblxuXHRcdFx0XHRpZiAoIWxlbmd0aFByb3BlcnR5KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEoZW52Lm9wdGlvbnMuZWNtYVZlcnNpb24gPT09IDUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuIHRvVUludDMyKGVudiwgbGVuZ3RoUHJvcGVydHkuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gODtcblx0XHRcdFx0cmV0dXJuIHRvSW50ZWdlcihlbnYsIGxlbmd0aFByb3BlcnR5LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdF9sZW5ndGggPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIE1hdGgubWluKE1hdGgubWF4KF9sZW5ndGgsIDApLCBNQVhfTEVOR1RIKSk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgMCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbM10sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KG9iaiwgbGVuZ3RoKSB7XG5cdHZhciBhcnIgPSBbXTtcblxuXHRpZiAob2JqKSB7XG5cdFx0dmFyIGxuID0gbGVuZ3RoID49IDAgPyBsZW5ndGggOiBvYmouZ2V0VmFsdWUoXCJsZW5ndGhcIikudG9OYXRpdmUoKTtcblx0XHR2YXIgaSA9IDA7XG5cblx0XHR3aGlsZSAoaSA8IGxuKSB7XG5cdFx0XHRpZiAob2JqLmhhc1Byb3BlcnR5KGkpKSB7XG5cdFx0XHRcdGFycltpXSA9IG9iai5nZXRWYWx1ZShpKTtcblx0XHRcdH1cblxuXHRcdFx0aSsrO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIHRvUHJpbWl0aXZlKGVudiwgb2JqLCBwcmVmZXJyZWRUeXBlKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdG9QcmltaXRpdmUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0cHJlZmVycmVkVHlwZSA9IHByZWZlcnJlZFR5cGUgJiYgcHJlZmVycmVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRpZiAoIXByZWZlcnJlZFR5cGUgJiYgb2JqKSB7XG5cdFx0XHRcdFx0cHJlZmVycmVkVHlwZSA9IG9iai5wcmltaXRpdmVIaW50O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCEocHJlZmVycmVkVHlwZSA9PT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gZ2V0U3RyaW5nKGVudiwgb2JqKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRyZXR1cm4gZ2V0UHJpbWl0aXZlKGVudiwgb2JqKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDk6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbNF0sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b1N0cmluZyhlbnYsIG9iaikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvU3RyaW5nJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdG9QcmltaXRpdmUoZW52LCBvYmosIFwic3RyaW5nXCIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBTdHJpbmcoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzVdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9OdW1iZXIoZW52LCBvYmopIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b051bWJlciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoISghb2JqIHx8IG9iai50eXBlID09PSBcInVuZGVmaW5lZFwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBOYU4pO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gdG9QcmltaXRpdmUoZW52LCBvYmosIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBOdW1iZXIoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzZdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9JbnRlZ2VyKGVudiwgb2JqKSB7XG5cdHZhciB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b0ludGVnZXIkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0b051bWJlcihlbnYsIG9iaik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghaXNOYU4odmFsdWUpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIDApO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGlmICghKHZhbHVlID09PSAwIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHNpZ24odmFsdWUpICogZmxvb3IoYWJzKHZhbHVlKSkpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbN10sIHRoaXMpO1xufVxuXG5mdW5jdGlvbiB0b0ludDMyKGVudiwgb2JqKSB7XG5cdHZhciB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB0b0ludDMyJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdG9JbnRlZ2VyKGVudiwgb2JqKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiAwKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzhdLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9VSW50MzIoZW52LCBvYmopIHtcblx0dmFyIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHRvVUludDMyJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdG9JbnQzMihlbnYsIG9iaik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHZhbHVlID4+PiAwKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzldLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gdG9Cb29sZWFuKG9iaikge1xuXHRpZiAoIW9iaikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChvYmouaXNQcmltaXRpdmUpIHtcblx0XHRyZXR1cm4gQm9vbGVhbihvYmoudmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHRvTmF0aXZlRnVuY3Rpb24oZW52LCBmbiwgbmFtZSkge1xuXHRyZXR1cm4gZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlQnVpbHRJbkZ1bmN0aW9uKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdHZhciBzY29wZSxcblx0XHQgICAgYXJncyxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRzY29wZSA9IHRoaXMgJiYgdGhpcy5ub2RlICYmIHRoaXMubm9kZS50b05hdGl2ZSgpO1xuXHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAzO1xuXHRcdFx0XHRcdHJldHVybiBnZXRWYWx1ZXMoZW52LCBhcmdzJDIkMCk7XG5cblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdHZhbHVlID0gZm4uYXBwbHkoc2NvcGUsIGFyZ3MpO1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHZhbHVlKSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdH1cblx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0fSksIGZuLmxlbmd0aCwgbmFtZSk7XG59XG5cbi8vIGRlZmF1bHQgY2FzZS9udW1iZXIiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lLXByb3BlcnR5XCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb3BzO1xuXG52YXIgX25hdGl2ZSA9IHJlcXVpcmUoXCIuL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gbmVnKHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuICF2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcG9zKHZhbHVlKSB7XG5cdHJldHVybiAhIXZhbHVlO1xufVxuXG52YXIgb3BzID0gKF9vcHMgPSB7XG5cdC8vIGFsZ29yaXRobXNcblx0YXJlU2FtZTogZnVuY3Rpb24gYXJlU2FtZShhLCBiKSB7XG5cdFx0aWYgKGEudHlwZSAhPT0gYi50eXBlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0aWYgKGEudmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGEudHlwZSA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0XHRpZiAoaXNOYU4oYS52YWx1ZSkgJiYgaXNOYU4oYi52YWx1ZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhLnZhbHVlID09PSAwKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIGFjY291bnQgZm9yIG5lZ2F0aXZlIHplcm9cblx0XHRcdFx0XHRyZXR1cm4gMSAvIGEudmFsdWUgPT09IDEgLyBiLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhLnZhbHVlID09PSBiLnZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhID09PSBiO1xuXHR9LFxuXG5cdGFyZVNhbWVPclplcm86IGZ1bmN0aW9uIGFyZVNhbWVPclplcm8oYSwgYikge1xuXHRcdGlmIChhLnR5cGUgIT09IGIudHlwZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpIHtcblx0XHRcdGlmIChhLnZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhLnR5cGUgPT09IFwibnVtYmVyXCIpIHtcblx0XHRcdFx0aWYgKGlzTmFOKGEudmFsdWUpICYmIGlzTmFOKGIudmFsdWUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGEudmFsdWUgPT09IGIudmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGEgPT09IGI7XG5cdH0sXG5cblx0Y29lcmNpdmVFcXVhbHM6IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjb2VyY2l2ZUVxdWFscyhhLCBiKSB7XG5cdFx0dmFyIHByaW1pdGl2ZUEsIHByaW1pdGl2ZUI7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjb2VyY2l2ZUVxdWFscyQoY29udGV4dCQxJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRpZiAoIShhLmlzUHJpbWl0aXZlICYmIGIuaXNQcmltaXRpdmUpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYS52YWx1ZSA9PSBiLnZhbHVlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0aWYgKCEoYS50eXBlID09PSBcIm9iamVjdFwiICYmIGIudHlwZSA9PT0gXCJvYmplY3RcIiB8fCBhLnR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiBiLnR5cGUgPT09IFwiZnVuY3Rpb25cIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBhID09PSBiKTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvUHJpbWl0aXZlKSh0aGlzLmVudiwgYSk7XG5cblx0XHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRcdHByaW1pdGl2ZUEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRcdGNhc2UgOTpcblx0XHRcdFx0XHRwcmltaXRpdmVCID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBwcmltaXRpdmVBID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiBwcmltaXRpdmVCID09PSBcIm51bWJlclwiIHx8ICh0eXBlb2YgcHJpbWl0aXZlQSA9PT0gXCJib29sZWFuXCIgfHwgdHlwZW9mIHByaW1pdGl2ZUIgPT09IFwiYm9vbGVhblwiKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgTnVtYmVyKHByaW1pdGl2ZUEpID09PSBOdW1iZXIocHJpbWl0aXZlQikpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0aWYgKCEodHlwZW9mIHByaW1pdGl2ZUEgPT09IFwic3RyaW5nXCIpKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IHByaW1pdGl2ZUE7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGIsIFwic3RyaW5nXCIpO1xuXG5cdFx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgPT09IGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRcdGlmICghKHR5cGVvZiBwcmltaXRpdmVCID09PSBcInN0cmluZ1wiKSkge1xuXHRcdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI0O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIxO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGEsIFwic3RyaW5nXCIpO1xuXG5cdFx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAudDIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLnQzID0gcHJpbWl0aXZlQjtcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQyID09PSBjb250ZXh0JDEkMC50Myk7XG5cblx0XHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHByaW1pdGl2ZUEgPT0gcHJpbWl0aXZlQik7XG5cblx0XHRcdFx0Y2FzZSAyNTpcblx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0XHR9XG5cdFx0fSwgY29lcmNpdmVFcXVhbHMsIHRoaXMpO1xuXHR9KSxcblxuXHQvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuXHRzdHJpY3RFcXVhbHM6IGZ1bmN0aW9uIHN0cmljdEVxdWFscyhhLCBiKSB7XG5cdFx0aWYgKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0cmV0dXJuIGEudmFsdWUgPT09IGIudmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKGEuaXNQcmltaXRpdmUgfHwgYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhID09PSBiO1xuXHR9LFxuXG5cdHJlbGF0aW9uYWxDb21wYXJlOiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gcmVsYXRpb25hbENvbXBhcmUoYSwgYiwgbGVmdEZpcnN0KSB7XG5cdFx0dmFyIHByaW1pdGl2ZUEsIHByaW1pdGl2ZUI7XG5cdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiByZWxhdGlvbmFsQ29tcGFyZSQoY29udGV4dCQxJDApIHtcblx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRwcmltaXRpdmVBID0gdW5kZWZpbmVkLCBwcmltaXRpdmVCID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCFsZWZ0Rmlyc3QpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGEsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRwcmltaXRpdmVBID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiLCBcIm51bWJlclwiKTtcblxuXHRcdFx0XHRjYXNlIDc6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQiA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGIsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgMTI6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQiA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGEsIFwibnVtYmVyXCIpO1xuXG5cdFx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdFx0cHJpbWl0aXZlQSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0Y2FzZSAxNjpcblx0XHRcdFx0XHRpZiAoISh0eXBlb2YgcHJpbWl0aXZlQSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcHJpbWl0aXZlQiA9PT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcHJpbWl0aXZlQSA8IHByaW1pdGl2ZUIpO1xuXG5cdFx0XHRcdGNhc2UgMTg6XG5cblx0XHRcdFx0XHRwcmltaXRpdmVBID0gTnVtYmVyKHByaW1pdGl2ZUEpO1xuXHRcdFx0XHRcdHByaW1pdGl2ZUIgPSBOdW1iZXIocHJpbWl0aXZlQik7XG5cblx0XHRcdFx0XHRpZiAoIShpc05hTihwcmltaXRpdmVBKSB8fCBpc05hTihwcmltaXRpdmVCKSkpIHtcblx0XHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdW5kZWZpbmVkKTtcblxuXHRcdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcHJpbWl0aXZlQSA8IHByaW1pdGl2ZUIpO1xuXG5cdFx0XHRcdGNhc2UgMjM6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIHJlbGF0aW9uYWxDb21wYXJlLCB0aGlzKTtcblx0fSlcblxufSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPT1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvZXJjaXZlRXF1YWxzKGEsIGIpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIhPVwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29lcmNpdmVFcXVhbHMoYSwgYik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAhY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI9PT1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnN0cmljdEVxdWFscyhhLCBiKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiIT09XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zdHJpY3RFcXVhbHMoYSwgYik7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCAhY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCIrXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghKGEuaXNQcmltaXRpdmUgJiYgYi5pc1ByaW1pdGl2ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYS52YWx1ZSArIGIudmFsdWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRhID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGIgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGEgKyBiKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIi1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAtIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIi9cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAvIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIipcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b051bWJlcikodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAqIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIiVcIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCAlIGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIjw8XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9QcmltaXRpdmUpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgPDwgY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPj5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCA+PiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI+Pj5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1ByaW1pdGl2ZSkodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCA+Pj4gY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwifFwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKHRoaXMuZW52LCBhKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MCB8IGNvbnRleHQkMSQwLnQxKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcIl5cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKSh0aGlzLmVudiwgYSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTtcblx0XHRcdFx0cmV0dXJuICgwLCBfbmF0aXZlLnRvSW50MzIpKHRoaXMuZW52LCBiKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAudDAgXiBjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCImXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF9uYXRpdmUudG9JbnQzMikodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b0ludDMyKSh0aGlzLmVudiwgYik7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwICYgY29udGV4dCQxJDAudDEpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPFwiLCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gXyhhLCBiKSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gXyQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIHRoaXMucmVsYXRpb25hbENvbXBhcmUoYSwgYiwgdHJ1ZSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHBvcyhjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPD1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnJlbGF0aW9uYWxDb21wYXJlKGIsIGEsIGZhbHNlKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmVnKGNvbnRleHQkMSQwLnQwKSk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF8sIHRoaXMpO1xufSkpLCBfZGVmaW5lUHJvcGVydHkoX29wcywgXCI+XCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfKGEsIGIpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5yZWxhdGlvbmFsQ29tcGFyZShiLCBhLCBmYWxzZSk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0Y29udGV4dCQxJDAudDAgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHBvcyhjb250ZXh0JDEkMC50MCkpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBfLCB0aGlzKTtcbn0pKSwgX2RlZmluZVByb3BlcnR5KF9vcHMsIFwiPj1cIiwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF8oYSwgYikge1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF8kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiB0aGlzLnJlbGF0aW9uYWxDb21wYXJlKGEsIGIsIHRydWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBuZWcoY29udGV4dCQxJDAudDApKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgXywgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcImluXCIsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfaW4oYSwgYikge1xuXHR2YXIgYlN0cmluZztcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfaW4kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1N0cmluZykodGhpcy5lbnYsIGEpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGEgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghYi5pc1ByaW1pdGl2ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA4O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiAoMCwgX25hdGl2ZS50b1N0cmluZykodGhpcy5lbnYsIGIpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGJTdHJpbmcgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIHRvIHNlYXJjaCBmb3IgJ1wiICsgYSArIFwiJyBpbiBcIiArIGJTdHJpbmcpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgYi5oYXNQcm9wZXJ0eShhKSk7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIF9pbiwgdGhpcyk7XG59KSksIF9kZWZpbmVQcm9wZXJ0eShfb3BzLCBcImluc3RhbmNlb2ZcIiwgZnVuY3Rpb24gX2luc3RhbmNlb2YoYSwgYikge1xuXHRpZiAoYi50eXBlICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0aW5nIGEgZnVuY3Rpb24gaW4gaW5zdGFuY2VvZiBjaGVjaywgYnV0IGdvdCBcIiArIGIudHlwZSk7XG5cdH1cblxuXHRpZiAoYS5pc1ByaW1pdGl2ZSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiBiLmhhc0luc3RhbmNlKGEpO1xufSksIF9vcHMpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG9wcztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG5cbi8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXG4vLyB1c2UgbmF0aXZlIGltcGxpY2l0IGNvbWFyaXNvblxuLy8gZXF1YWxpdHkgb3BlcmF0b3JzXG5cbi8vIGFkZGl0aXZlIG9wZXJhdG9yc1xuXG4vLyBtdWx0aXBsaWNhdGl2ZSBvcGVyYXRvcnNcblxuLy8gYml0d2lzZSBzaGlmdCBvcGVyYXRvcnNcblxuLy8gcmVsYXRpb25hbCBvcGVyYXRvcnMiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEFycmF5RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbQXJyYXlFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBBcnJheUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSwgYXJyO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEFycmF5RXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRvYmplY3RGYWN0b3J5ID0gY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0YXJyID0gb2JqZWN0RmFjdG9yeS5jcmVhdGUoXCJBcnJheVwiKTtcblxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5lbGVtZW50cykge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5lbGVtZW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZWxlbWVudCwgaSkge1xuXHRcdFx0XHRcdHZhciBpdGVtO1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIWVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGVsZW1lbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdFx0aXRlbSA9IGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRhcnIuZGVmaW5lT3duUHJvcGVydHkoaSwgeyB2YWx1ZTogaXRlbSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LCB0cnVlLCBjb250ZXh0LmVudik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpLCBcInQwXCIsIDQpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cblx0XHRcdFx0YXJyLnB1dFZhbHVlKFwibGVuZ3RoXCIsIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGNvbnRleHQubm9kZS5lbGVtZW50cy5sZW5ndGgpLCBmYWxzZSwgY29udGV4dC5lbnYpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQoYXJyKSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBBc3NpZ25tZW50RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbQXNzaWdubWVudEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQXNzaWduID0gcmVxdWlyZShcIi4uL3V0aWxzL2Fzc2lnblwiKTtcblxuZnVuY3Rpb24gQXNzaWdubWVudEV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgcmlnaHQsIHJpZ2h0VmFsdWUsIGxlZnQsIG9wLCBuYXRpdmVWYWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBBc3NpZ25tZW50RXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJpZ2h0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdHJpZ2h0VmFsdWUgPSByaWdodC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmICghKGNvbnRleHQubm9kZS5vcGVyYXRvciA9PT0gXCI9XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3NpZ24uYXNzaWduKShjb250ZXh0LmVudiwgY29udGV4dC5ub2RlLmxlZnQsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNztcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmxlZnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXHRcdFx0XHRvcCA9IGNvbnRleHQubm9kZS5vcGVyYXRvci5zbGljZSgwLCAtMSk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZW52Lm9wc1tvcF0obGVmdC5nZXRWYWx1ZSgpLCByaWdodC5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0bmF0aXZlVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGxlZnQuc2V0VmFsdWUoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmF0aXZlVmFsdWUpKTtcblxuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChyaWdodFZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyByZW1vdmUgZXF1YWxzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBCaW5hcnlFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtCaW5hcnlFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIEJpbmFyeUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgbGVmdCwgbGVmdFZhbHVlLCByaWdodCwgcmlnaHRWYWx1ZSwgb3AsIG5ld1ZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEJpbmFyeUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUubGVmdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0bGVmdFZhbHVlID0gbGVmdC5nZXRWYWx1ZSgpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHJpZ2h0ID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdHJpZ2h0VmFsdWUgPSByaWdodC5nZXRWYWx1ZSgpIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEO1xuXHRcdFx0XHRvcCA9IGNvbnRleHQubm9kZS5vcGVyYXRvcjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5lbnYub3BzW29wXShsZWZ0VmFsdWUsIHJpZ2h0VmFsdWUpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRuZXdWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3VmFsdWUpKSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQmxvY2tTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0Jsb2NrU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBCbG9ja1N0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciByZXN1bHQsIHByaW9yUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEJsb2NrU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZCwgcHJpb3JSZXN1bHQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS50eXBlID09PSBcIlByb2dyYW1cIikge1xuXHRcdFx0XHRcdGNvbnRleHQuZW52LmN1cnJlbnQuaW5pdChjb250ZXh0Lm5vZGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5ib2R5LCBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMChub2RlLCBpLCBib2R5LCBhYm9ydCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDIkMC5zZW50O1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCBmYWxzZSwgcHJpb3JSZXN1bHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxsRXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbQ2FsbEV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIGFzc2lnblRoaXMoZW52LCBmbk1lbWJlciwgZm4sIGlzTmV3LCBuYXRpdmUpIHtcblx0aWYgKGlzTmV3KSB7XG5cdFx0Ly8gaWYgdGhpcyBpcyBhIG5hdGl2ZSBjb250cnVjdG9yIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhpc1xuXHRcdC8vIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgb2JqZWN0XG5cdFx0cmV0dXJuIG5hdGl2ZSA/IG51bGwgOiBlbnYub2JqZWN0RmFjdG9yeS5jcmVhdGVPYmplY3QoZm4pO1xuXHR9XG5cblx0aWYgKGZuTWVtYmVyIGluc3RhbmNlb2YgX2VudlByb3BlcnR5UmVmZXJlbmNlLlByb3BlcnR5UmVmZXJlbmNlICYmICghZm5NZW1iZXIudW5xdWFsaWZpZWQgfHwgZm5NZW1iZXIuYmFzZSAhPT0gZW52Lmdsb2JhbCkpIHtcblx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b09iamVjdCkoZW52LCBmbk1lbWJlci5iYXNlKTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBDYWxsRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBub2RlLCBpc05ldywgZm5NZW1iZXIsIGZuLCBhcmdzLCBzdHJpbmdWYWx1ZSwgbmF0aXZlLCB0aGlzQXJnLCBwYXJhbXMsIGNhbGxlZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBDYWxsRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRub2RlID0gY29udGV4dC5ub2RlO1xuXHRcdFx0XHRpc05ldyA9IGNvbnRleHQubm9kZS50eXBlID09PSBcIk5ld0V4cHJlc3Npb25cIjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShub2RlLmNhbGxlZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdGZuTWVtYmVyID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdGZuID0gZm5NZW1iZXIuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmRlbGVnYXRlWWllbGQoKDAsIF91dGlsc0FzeW5jLm1hcCkobm9kZS5hcmd1bWVudHMsIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKGFyZykge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoYXJnKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpLCBcInQwXCIsIDcpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdGFyZ3MgPSBjb250ZXh0JDEkMC50MDtcblxuXHRcdFx0XHRpZiAoISghZm4gfHwgZm4uY2xhc3NOYW1lICE9PSBcIkZ1bmN0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc05hdGl2ZS50b1N0cmluZykoY29udGV4dC5lbnYsIGZuKTtcblxuXHRcdFx0Y2FzZSAxMTpcblx0XHRcdFx0c3RyaW5nVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFR5cGVFcnJvcihzdHJpbmdWYWx1ZSArIFwiIG5vdCBhIGZ1bmN0aW9uXCIpKSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdG5hdGl2ZSA9IGZuLm5hdGl2ZTtcblx0XHRcdFx0dGhpc0FyZyA9IGFzc2lnblRoaXMoY29udGV4dC5lbnYsIGZuTWVtYmVyLCBmbiwgaXNOZXcsIG5hdGl2ZSk7XG5cdFx0XHRcdHBhcmFtcyA9IG5hdGl2ZSA/IFtdIDogZm4ubm9kZS5wYXJhbXM7XG5cdFx0XHRcdGNhbGxlZSA9IGZuTWVtYmVyO1xuXG5cdFx0XHRcdGNhbGxlZS5pZGVudGlmaWVyID0gZm4ubmFtZTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjE7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShjb250ZXh0LmVudiwgZm4sIHBhcmFtcywgYXJncywgdGhpc0FyZywgY2FsbGVlLCBpc05ldyk7XG5cblx0XHRcdGNhc2UgMjE6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC50MS5yZXN1bHQuY2FsbChjb250ZXh0JDEkMC50MSwgY29udGV4dCQxJDAudDIpKTtcblxuXHRcdFx0Y2FzZSAyMzpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERlYnVnZ2VyU3RhdGVtZW50O1xuXG5mdW5jdGlvbiBEZWJ1Z2dlclN0YXRlbWVudChjb250ZXh0KSB7XG5cdGlmIChjb250ZXh0LmVudi5vcHRpb25zLmFsbG93RGVidWdnZXIpIHtcblx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1kZWJ1Z2dlciAqL1xuXHRcdGRlYnVnZ2VyO1xuXHRcdC8qIGVzbGludC1lbmFibGUgbm8tZGVidWdnZXIgKi9cblx0fVxuXG5cdHJldHVybiBjb250ZXh0LmVtcHR5KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEb1doaWxlU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtEb1doaWxlU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIERvV2hpbGVTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgcmVzdWx0LCBwcmlvclJlc3VsdCwgcGFzc2VkO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIERvV2hpbGVTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0cmVzdWx0ID0gdW5kZWZpbmVkLCBwcmlvclJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0cGFzc2VkID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoIShjb250ZXh0Lm5vZGUudHlwZSA9PT0gXCJXaGlsZVN0YXRlbWVudFwiKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cGFzc2VkID0gKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMSQwLnQwKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpZiAoIXBhc3NlZCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTA6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEocmVzdWx0ICYmIHJlc3VsdC5zaG91bGRCcmVhayhjb250ZXh0LCB0cnVlLCBwcmlvclJlc3VsdCkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShjb250ZXh0JDEkMC50MSk7XG5cblx0XHRcdFx0cHJpb3JSZXN1bHQgPSByZXN1bHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAyMDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRW1wdHlTdGF0ZW1lbnQ7XG5cbmZ1bmN0aW9uIEVtcHR5U3RhdGVtZW50KGNvbnRleHQpIHtcblx0cmV0dXJuIGNvbnRleHQuZW1wdHkoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEV4cHJlc3Npb25TdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0V4cHJlc3Npb25TdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3R5cGVzUHJpbWl0aXZlVHlwZSA9IHJlcXVpcmUoXCIuLi90eXBlcy9wcmltaXRpdmUtdHlwZVwiKTtcblxuZnVuY3Rpb24gRXhwcmVzc2lvblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBleGVjdXRpb25SZXN1bHQsIGV4ZWN1dGlvblZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEV4cHJlc3Npb25TdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuZXhwcmVzc2lvbikuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGV4ZWN1dGlvblZhbHVlID0gZXhlY3V0aW9uUmVzdWx0ICYmIGV4ZWN1dGlvblJlc3VsdC5yZXN1bHQgJiYgZXhlY3V0aW9uUmVzdWx0LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KGV4ZWN1dGlvblZhbHVlIHx8IF90eXBlc1ByaW1pdGl2ZVR5cGUuVU5ERUZJTkVEKSk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfcmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2dldEl0ZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3JcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX09iamVjdCRjcmVhdGUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGVcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGb3JJblN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbRm9ySW5TdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5mdW5jdGlvbiBGb3JJblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBsZWZ0LCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGRlY2wsIG9iaiwgcmVzdWx0LCBwcmlvclJlc3VsdCwgdmlzaXRlZCwgcHJvcDtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEZvckluU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGxlZnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKCEoY29udGV4dC5ub2RlLmxlZnQudHlwZSA9PT0gXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMxO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdFx0XHRcdF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gNTtcblx0XHRcdFx0X2l0ZXJhdG9yID0gX2dldEl0ZXJhdG9yKGNvbnRleHQubm9kZS5sZWZ0LmRlY2xhcmF0aW9ucyk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVjbCA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTE7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShkZWNsKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdGxlZnQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0X2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAxNzpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDE3O1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwW1wiY2F0Y2hcIl0oNSk7XG5cdFx0XHRcdF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSBjb250ZXh0JDEkMC50MDtcblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIxO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMjI7XG5cblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvcltcInJldHVyblwiXSkge1xuXHRcdFx0XHRcdF9pdGVyYXRvcltcInJldHVyblwiXSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdGNhc2UgMjQ6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAyNDtcblxuXHRcdFx0XHRpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMjQpO1xuXG5cdFx0XHRjYXNlIDI4OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuZmluaXNoKDIxKTtcblxuXHRcdFx0Y2FzZSAyOTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM0O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAzMTpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmxlZnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzMzpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRjYXNlIDM0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUucmlnaHQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzNjpcblx0XHRcdFx0b2JqID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmVzdWx0ID0gdW5kZWZpbmVkLCBwcmlvclJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0dmlzaXRlZCA9IF9PYmplY3QkY3JlYXRlKG51bGwpO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRpZiAoIW9iaikge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1Nztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLnQxID0gX3JlZ2VuZXJhdG9yUnVudGltZS5rZXlzKG9iai5wcm9wZXJ0aWVzKTtcblxuXHRcdFx0Y2FzZSA0MTpcblx0XHRcdFx0aWYgKChjb250ZXh0JDEkMC50MiA9IGNvbnRleHQkMSQwLnQxKCkpLmRvbmUpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRwcm9wID0gY29udGV4dCQxJDAudDIudmFsdWU7XG5cblx0XHRcdFx0aWYgKCEob2JqLnByb3BlcnRpZXNbcHJvcF0uZW51bWVyYWJsZSAmJiAhdmlzaXRlZFtwcm9wXSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNTA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZWZ0LnNldFZhbHVlKGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHByb3ApKTtcblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDc7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYm9keSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHJlc3VsdCAmJiByZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgdHJ1ZSwgcHJpb3JSZXN1bHQpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1MDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSA1MDpcblxuXHRcdFx0XHR2aXNpdGVkW3Byb3BdID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA1MzpcblxuXHRcdFx0XHRwcmlvclJlc3VsdCA9IHJlc3VsdDtcblx0XHRcdFx0b2JqID0gb2JqLmdldFByb3RvdHlwZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDU3OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNTg6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbNSwgMTcsIDIxLCAyOV0sIFsyMiwsIDI0LCAyOF1dKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcblxuLy8gc2hvdWxkIG9ubHkgYmUgb25lLCBidXRcbi8vIG5lZWQgdG8gdW53cmFwIHRoZSBkZWNsYXJhdGlvbiB0byBnZXQgaXRcbi8vIHRvZG86IHRoaXMgaXMgc2xvcHB5IC0gbmVlZCB0byByZXZpc2l0XG5cbi8vIHRyYWNrIHZpc2l0ZWQgcHJvcGVydGllcyB0byBwcmV2ZW50IGl0ZXJhdGluZyBvdmVyIHNoYWRvd2VkIHByb3BlcnRpZXMsIHJlZ2FyZGxlc3Mgb2YgZW51bWVyYWJsZSBmbGFnXG4vLyAxMi42LjQgTk9URTogYSBwcm9wZXJ0eSBvZiBhIHByb3RvdHlwZSBpcyBub3QgZW51bWVyYXRlZCBpZiBpdCBpcyDigJxzaGFkb3dlZOKAnSBiZWNhdXNlIHNvbWUgcHJldmlvdXNcbi8vIG9iamVjdCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIGhhcyBhIHByb3BlcnR5IHdpdGggdGhlIHNhbWUgbmFtZS4gVGhlIHZhbHVlcyBvZiBbW0VudW1lcmFibGVdXSBhdHRyaWJ1dGVzXG4vLyBhcmUgbm90IGNvbnNpZGVyZWQgd2hlbiBkZXRlcm1pbmluZyBpZiBhIHByb3BlcnR5IG9mIGEgcHJvdG90eXBlIG9iamVjdCBpcyBzaGFkb3dlZCBieSBhIHByZXZpb3VzIG9iamVjdFxuLy8gb24gdGhlIHByb3RvdHlwZSBjaGFpbi4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZvclN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbc2hvdWxkQ29udGludWUsIEZvclN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBzaG91bGRDb250aW51ZShjb250ZXh0KSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gc2hvdWxkQ29udGludWUkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS50ZXN0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHRydWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnRlc3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgKDAsIF91dGlsc05hdGl2ZS50b0Jvb2xlYW4pKGNvbnRleHQkMSQwLnQwKSk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIEZvclN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciByZXN1bHQsIHByaW9yUmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIEZvclN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5pbml0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5pbml0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmVzdWx0ID0gdW5kZWZpbmVkLCBwcmlvclJlc3VsdCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0cmV0dXJuIHNob3VsZENvbnRpbnVlKGNvbnRleHQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGlmICghY29udGV4dCQxJDAuc2VudCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxODtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA5O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmJvZHkpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRcdGlmICghKHJlc3VsdCAmJiByZXN1bHQuc2hvdWxkQnJlYWsoY29udGV4dCwgdHJ1ZSwgcHJpb3JSZXN1bHQpKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUudXBkYXRlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLnVwZGF0ZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDE1OlxuXG5cdFx0XHRcdHByaW9yUmVzdWx0ID0gcmVzdWx0O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTg6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzdWx0KTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFsxXSwgdGhpcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZ1bmN0aW9uRGVjbGFyYXRpb247XG5cbmZ1bmN0aW9uIEZ1bmN0aW9uRGVjbGFyYXRpb24oY29udGV4dCkge1xuXHRyZXR1cm4gY29udGV4dC5yZXN1bHQoY29udGV4dC5lbnYuZ2V0VmFsdWUoY29udGV4dC5ub2RlLmlkLm5hbWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGdW5jdGlvbkV4cHJlc3Npb247XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gRnVuY3Rpb25FeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iamVjdEZhY3RvcnkgPSBjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5O1xuXHR2YXIgc3RyaWN0ID0gY29udGV4dC5lbnYuaXNTdHJpY3QoKSB8fCBjb250cmFjdHMuaXNTdHJpY3ROb2RlKGNvbnRleHQubm9kZS5ib2R5LmJvZHkpO1xuXHR2YXIgbmFtZSA9IGNvbnRleHQubm9kZS5pZCA/IGNvbnRleHQubm9kZS5pZC5uYW1lIDogXCJhbm9ueW1vdXNcIjtcblxuXHR2YXIgZnVuYyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlRnVuY3Rpb24oY29udGV4dC5ub2RlLCB1bmRlZmluZWQsIHsgc3RyaWN0OiBzdHJpY3QsIG5hbWU6IG5hbWUgfSk7XG5cdGZ1bmMuYmluZFNjb3BlKGNvbnRleHQuZW52LmN1cnJlbnQpO1xuXHRyZXR1cm4gY29udGV4dC5yZXN1bHQoZnVuYyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IElkZW50aWZpZXI7XG5cbmZ1bmN0aW9uIElkZW50aWZpZXIoY29udGV4dCkge1xuXHR2YXIgbmFtZSA9IGNvbnRleHQubm9kZS5uYW1lO1xuXG5cdGlmIChjb250ZXh0LmNhbGxlZSAmJiBjb250ZXh0LmNhbGxlZS5pZGVudGlmaWVyID09PSBuYW1lKSB7XG5cdFx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuY2FsbGVlKTtcblx0fVxuXG5cdHJldHVybiBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5nZXRSZWZlcmVuY2UoY29udGV4dC5ub2RlLm5hbWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IElmU3RhdGVtZW50O1xudmFyIG1hcmtlZDAkMCA9IFtJZlN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBJZlN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciB0ZXN0VmFsdWU7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gSWZTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHRlc3RWYWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCEoMCwgX3V0aWxzTmF0aXZlLnRvQm9vbGVhbikodGVzdFZhbHVlKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuY29uc2VxdWVudCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQxJDAuc2VudCk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuYWx0ZXJuYXRlKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDExO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFsdGVybmF0ZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdFwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfYXJyYXlFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vYXJyYXktZXhwcmVzc2lvblwiKTtcblxudmFyIF9hcnJheUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlFeHByZXNzaW9uKTtcblxudmFyIF9hc3NpZ25tZW50RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2Fzc2lnbm1lbnQtZXhwcmVzc2lvblwiKTtcblxudmFyIF9hc3NpZ25tZW50RXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3NpZ25tZW50RXhwcmVzc2lvbik7XG5cbnZhciBfYmluYXJ5RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL2JpbmFyeS1leHByZXNzaW9uXCIpO1xuXG52YXIgX2JpbmFyeUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluYXJ5RXhwcmVzc2lvbik7XG5cbnZhciBfYmxvY2tTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9ibG9jay1zdGF0ZW1lbnRcIik7XG5cbnZhciBfYmxvY2tTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmxvY2tTdGF0ZW1lbnQpO1xuXG52YXIgX2ludGVycnVwdFN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2ludGVycnVwdC1zdGF0ZW1lbnRcIik7XG5cbnZhciBfaW50ZXJydXB0U3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVycnVwdFN0YXRlbWVudCk7XG5cbnZhciBfY2FsbEV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9jYWxsLWV4cHJlc3Npb25cIik7XG5cbnZhciBfY2FsbEV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsbEV4cHJlc3Npb24pO1xuXG52YXIgX2lmU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vaWYtc3RhdGVtZW50XCIpO1xuXG52YXIgX2lmU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lmU3RhdGVtZW50KTtcblxudmFyIF9kZWJ1Z2dlclN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL2RlYnVnZ2VyLXN0YXRlbWVudFwiKTtcblxudmFyIF9kZWJ1Z2dlclN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Z2dlclN0YXRlbWVudCk7XG5cbnZhciBfZG9XaGlsZVN0YXRlbWVudEpzID0gcmVxdWlyZShcIi4vZG8td2hpbGUtc3RhdGVtZW50LmpzXCIpO1xuXG52YXIgX2RvV2hpbGVTdGF0ZW1lbnRKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb1doaWxlU3RhdGVtZW50SnMpO1xuXG52YXIgX2VtcHR5U3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZW1wdHktc3RhdGVtZW50XCIpO1xuXG52YXIgX2VtcHR5U3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VtcHR5U3RhdGVtZW50KTtcblxudmFyIF9leHByZXNzaW9uU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZXhwcmVzc2lvbi1zdGF0ZW1lbnRcIik7XG5cbnZhciBfZXhwcmVzc2lvblN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHByZXNzaW9uU3RhdGVtZW50KTtcblxudmFyIF9mb3JTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9mb3Itc3RhdGVtZW50XCIpO1xuXG52YXIgX2ZvclN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JTdGF0ZW1lbnQpO1xuXG52YXIgX2ZvckluU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vZm9yLWluLXN0YXRlbWVudFwiKTtcblxudmFyIF9mb3JJblN0YXRlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JJblN0YXRlbWVudCk7XG5cbnZhciBfZnVuY3Rpb25EZWNsYXJhdGlvbiA9IHJlcXVpcmUoXCIuL2Z1bmN0aW9uLWRlY2xhcmF0aW9uXCIpO1xuXG52YXIgX2Z1bmN0aW9uRGVjbGFyYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnVuY3Rpb25EZWNsYXJhdGlvbik7XG5cbnZhciBfZnVuY3Rpb25FeHByZXNzaW9uID0gcmVxdWlyZShcIi4vZnVuY3Rpb24tZXhwcmVzc2lvblwiKTtcblxudmFyIF9mdW5jdGlvbkV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnVuY3Rpb25FeHByZXNzaW9uKTtcblxudmFyIF9pZGVudGlmaWVyID0gcmVxdWlyZShcIi4vaWRlbnRpZmllclwiKTtcblxudmFyIF9pZGVudGlmaWVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lkZW50aWZpZXIpO1xuXG52YXIgX2xhYmVsZWRTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi9sYWJlbGVkLXN0YXRlbWVudFwiKTtcblxudmFyIF9sYWJlbGVkU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xhYmVsZWRTdGF0ZW1lbnQpO1xuXG52YXIgX2xpdGVyYWwgPSByZXF1aXJlKFwiLi9saXRlcmFsXCIpO1xuXG52YXIgX2xpdGVyYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGl0ZXJhbCk7XG5cbnZhciBfbG9naWNhbEV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9sb2dpY2FsLWV4cHJlc3Npb25cIik7XG5cbnZhciBfbG9naWNhbEV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9naWNhbEV4cHJlc3Npb24pO1xuXG52YXIgX21lbWJlckV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9tZW1iZXItZXhwcmVzc2lvblwiKTtcblxudmFyIF9tZW1iZXJFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lbWJlckV4cHJlc3Npb24pO1xuXG52YXIgX21ldGFQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuL21ldGEtcHJvcGVydHlcIik7XG5cbnZhciBfbWV0YVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ldGFQcm9wZXJ0eSk7XG5cbnZhciBfb2JqZWN0RXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL29iamVjdC1leHByZXNzaW9uXCIpO1xuXG52YXIgX29iamVjdEV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0RXhwcmVzc2lvbik7XG5cbnZhciBfcmV0dXJuU3RhdGVtZW50ID0gcmVxdWlyZShcIi4vcmV0dXJuLXN0YXRlbWVudFwiKTtcblxudmFyIF9yZXR1cm5TdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmV0dXJuU3RhdGVtZW50KTtcblxudmFyIF9zZXF1ZW5jZUV4cHJlc3Npb24gPSByZXF1aXJlKFwiLi9zZXF1ZW5jZS1leHByZXNzaW9uXCIpO1xuXG52YXIgX3NlcXVlbmNlRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXF1ZW5jZUV4cHJlc3Npb24pO1xuXG52YXIgX3N3aXRjaFN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL3N3aXRjaC1zdGF0ZW1lbnRcIik7XG5cbnZhciBfc3dpdGNoU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N3aXRjaFN0YXRlbWVudCk7XG5cbnZhciBfdGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vdGFnZ2VkLXRlbXBsYXRlLWV4cHJlc3Npb25cIik7XG5cbnZhciBfdGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbik7XG5cbnZhciBfdGVtcGxhdGVMaXRlcmFsID0gcmVxdWlyZShcIi4vdGVtcGxhdGUtbGl0ZXJhbFwiKTtcblxudmFyIF90ZW1wbGF0ZUxpdGVyYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGVtcGxhdGVMaXRlcmFsKTtcblxudmFyIF90aGlzRXhwcmVzc2lvbiA9IHJlcXVpcmUoXCIuL3RoaXMtZXhwcmVzc2lvblwiKTtcblxudmFyIF90aGlzRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aGlzRXhwcmVzc2lvbik7XG5cbnZhciBfdGhyb3dTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi90aHJvdy1zdGF0ZW1lbnRcIik7XG5cbnZhciBfdGhyb3dTdGF0ZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyb3dTdGF0ZW1lbnQpO1xuXG52YXIgX3RyeVN0YXRlbWVudCA9IHJlcXVpcmUoXCIuL3RyeS1zdGF0ZW1lbnRcIik7XG5cbnZhciBfdHJ5U3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyeVN0YXRlbWVudCk7XG5cbnZhciBfdW5hcnlFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vdW5hcnktZXhwcmVzc2lvblwiKTtcblxudmFyIF91bmFyeUV4cHJlc3Npb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5hcnlFeHByZXNzaW9uKTtcblxudmFyIF91cGRhdGVFeHByZXNzaW9uID0gcmVxdWlyZShcIi4vdXBkYXRlLWV4cHJlc3Npb25cIik7XG5cbnZhciBfdXBkYXRlRXhwcmVzc2lvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91cGRhdGVFeHByZXNzaW9uKTtcblxudmFyIF92YXJpYWJsZURlY2xhcmF0aW9uID0gcmVxdWlyZShcIi4vdmFyaWFibGUtZGVjbGFyYXRpb25cIik7XG5cbnZhciBfdmFyaWFibGVEZWNsYXJhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YXJpYWJsZURlY2xhcmF0aW9uKTtcblxudmFyIF92YXJpYWJsZURlY2xhcmF0b3IgPSByZXF1aXJlKFwiLi92YXJpYWJsZS1kZWNsYXJhdG9yXCIpO1xuXG52YXIgX3ZhcmlhYmxlRGVjbGFyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YXJpYWJsZURlY2xhcmF0b3IpO1xuXG52YXIgX3dpdGhTdGF0ZW1lbnQgPSByZXF1aXJlKFwiLi93aXRoLXN0YXRlbWVudFwiKTtcblxudmFyIF93aXRoU3RhdGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhTdGF0ZW1lbnQpO1xuXG52YXIgdmlzaXRvcnMgPSB7XG5cdEFycmF5RXhwcmVzc2lvbjogX2FycmF5RXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRBc3NpZ25tZW50RXhwcmVzc2lvbjogX2Fzc2lnbm1lbnRFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdEJpbmFyeUV4cHJlc3Npb246IF9iaW5hcnlFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdEJsb2NrU3RhdGVtZW50OiBfYmxvY2tTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0QnJlYWtTdGF0ZW1lbnQ6IF9pbnRlcnJ1cHRTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0Q2FsbEV4cHJlc3Npb246IF9jYWxsRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRDb25kaXRpb25hbEV4cHJlc3Npb246IF9pZlN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHREZWJ1Z2dlclN0YXRlbWVudDogX2RlYnVnZ2VyU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdERvV2hpbGVTdGF0ZW1lbnQ6IF9kb1doaWxlU3RhdGVtZW50SnMyW1wiZGVmYXVsdFwiXSxcblx0RW1wdHlTdGF0ZW1lbnQ6IF9lbXB0eVN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRFeHByZXNzaW9uU3RhdGVtZW50OiBfZXhwcmVzc2lvblN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRGb3JTdGF0ZW1lbnQ6IF9mb3JTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0Rm9ySW5TdGF0ZW1lbnQ6IF9mb3JJblN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRGdW5jdGlvbkRlY2xhcmF0aW9uOiBfZnVuY3Rpb25EZWNsYXJhdGlvbjJbXCJkZWZhdWx0XCJdLFxuXHRGdW5jdGlvbkV4cHJlc3Npb246IF9mdW5jdGlvbkV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0SWRlbnRpZmllcjogX2lkZW50aWZpZXIyW1wiZGVmYXVsdFwiXSxcblx0TGFiZWxlZFN0YXRlbWVudDogX2xhYmVsZWRTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0TGl0ZXJhbDogX2xpdGVyYWwyW1wiZGVmYXVsdFwiXSxcblx0TG9naWNhbEV4cHJlc3Npb246IF9sb2dpY2FsRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRNZW1iZXJFeHByZXNzaW9uOiBfbWVtYmVyRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRNZXRhUHJvcGVydHk6IF9tZXRhUHJvcGVydHkyW1wiZGVmYXVsdFwiXSxcblx0T2JqZWN0RXhwcmVzc2lvbjogX29iamVjdEV4cHJlc3Npb24yW1wiZGVmYXVsdFwiXSxcblx0UmV0dXJuU3RhdGVtZW50OiBfcmV0dXJuU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdFNlcXVlbmNlRXhwcmVzc2lvbjogX3NlcXVlbmNlRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRTd2l0Y2hTdGF0ZW1lbnQ6IF9zd2l0Y2hTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0VGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uOiBfdGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFRlbXBsYXRlTGl0ZXJhbDogX3RlbXBsYXRlTGl0ZXJhbDJbXCJkZWZhdWx0XCJdLFxuXHRUaGlzRXhwcmVzc2lvbjogX3RoaXNFeHByZXNzaW9uMltcImRlZmF1bHRcIl0sXG5cdFRocm93U3RhdGVtZW50OiBfdGhyb3dTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0VHJ5U3RhdGVtZW50OiBfdHJ5U3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdFVuYXJ5RXhwcmVzc2lvbjogX3VuYXJ5RXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRVcGRhdGVFeHByZXNzaW9uOiBfdXBkYXRlRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRWYXJpYWJsZURlY2xhcmF0aW9uOiBfdmFyaWFibGVEZWNsYXJhdGlvbjJbXCJkZWZhdWx0XCJdLFxuXHRWYXJpYWJsZURlY2xhcmF0b3I6IF92YXJpYWJsZURlY2xhcmF0b3IyW1wiZGVmYXVsdFwiXSxcblx0V2l0aFN0YXRlbWVudDogX3dpdGhTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblxuXHRBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbjogX2Z1bmN0aW9uRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRDb250aW51ZVN0YXRlbWVudDogX2ludGVycnVwdFN0YXRlbWVudDJbXCJkZWZhdWx0XCJdLFxuXHRJZlN0YXRlbWVudDogX2lmU3RhdGVtZW50MltcImRlZmF1bHRcIl0sXG5cdE5ld0V4cHJlc3Npb246IF9jYWxsRXhwcmVzc2lvbjJbXCJkZWZhdWx0XCJdLFxuXHRQcm9ncmFtOiBfYmxvY2tTdGF0ZW1lbnQyW1wiZGVmYXVsdFwiXSxcblx0V2hpbGVTdGF0ZW1lbnQ6IF9kb1doaWxlU3RhdGVtZW50SnMyW1wiZGVmYXVsdFwiXVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdHZpc2l0OiBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gdmlzaXQoY29udGV4dCkge1xuXHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdmlzaXQkKGNvbnRleHQkMSQwKSB7XG5cdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS50eXBlIGluIHZpc2l0b3JzKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBoYW5kbGVyIGRlZmluZWQgZm9yOiBcIiArIGNvbnRleHQubm9kZS50eXBlKTtcblxuXHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ7XG5cdFx0XHRcdFx0cmV0dXJuIHZpc2l0b3JzW2NvbnRleHQubm9kZS50eXBlXShjb250ZXh0KTtcblxuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDEkMC5zZW50KTtcblxuXHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdFx0fVxuXHRcdH0sIHZpc2l0LCB0aGlzKTtcblx0fSlcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBJbnRlcnJ1cHRTdGF0ZW1lbnQ7XG5cbmZ1bmN0aW9uIEludGVycnVwdFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBsYWJlbCA9IHVuZGVmaW5lZDtcblx0aWYgKGNvbnRleHQubm9kZS5sYWJlbCkge1xuXHRcdGxhYmVsID0gY29udGV4dC5ub2RlLmxhYmVsLm5hbWU7XG5cdH1cblxuXHRpZiAoY29udGV4dC5ub2RlLnR5cGUgPT09IFwiQnJlYWtTdGF0ZW1lbnRcIikge1xuXHRcdHJldHVybiBjb250ZXh0LmNhbmNlbChsYWJlbCk7XG5cdH1cblxuXHRyZXR1cm4gY29udGV4dC5za2lwKGxhYmVsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IExhYmVsZWRTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW0xhYmVsZWRTdGF0ZW1lbnRdLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG5mdW5jdGlvbiBMYWJlbGVkU3RhdGVtZW50KGNvbnRleHQpIHtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBMYWJlbGVkU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGVMYWJlbChjb250ZXh0Lm5vZGUuYm9keSwgY29udGV4dC5ub2RlLmxhYmVsLm5hbWUpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBMaXRlcmFsO1xuXG5mdW5jdGlvbiBMaXRlcmFsKGNvbnRleHQpIHtcblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKGNvbnRleHQubm9kZS52YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTG9naWNhbEV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW0xvZ2ljYWxFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbmZ1bmN0aW9uIExvZ2ljYWxFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIGxlZnQsIHBhc3NlZDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBMb2dpY2FsRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5sZWZ0KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0bGVmdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdHBhc3NlZCA9ICgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKShsZWZ0LnJlc3VsdC5nZXRWYWx1ZSgpKTtcblxuXHRcdFx0XHRpZiAoIShwYXNzZWQgJiYgY29udGV4dC5ub2RlLm9wZXJhdG9yID09PSBcInx8XCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGxlZnQpO1xuXG5cdFx0XHRjYXNlIDY6XG5cdFx0XHRcdGlmICghKCFwYXNzZWQgJiYgY29udGV4dC5ub2RlLm9wZXJhdG9yID09PSBcIiYmXCIpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGxlZnQpO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5yaWdodCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1lbWJlckV4cHJlc3Npb247XG52YXIgbWFya2VkMCQwID0gW01lbWJlckV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBNZW1iZXJFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIG9iaiwga2V5LCB2YWx1ZSwgaWQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gTWVtYmVyRXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5vYmplY3QpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRvYmogPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRrZXkgPSB1bmRlZmluZWQsIHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmNvbXB1dGVkKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUucHJvcGVydHkpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRpZCA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFpZC5pc1N5bWJvbCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIHRoZSBpZGVudGlmaWVyIGlzIGEgc3ltYm9sLCBrZWVwIGFzIGlzIC0gcHJvcGVydHkgcmVmZXJlbmNlIHdpbGwgaGFuZGxlIGl0IGFjY29yZGluZ2x5XG5cdFx0XHRcdGtleSA9IGlkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShjb250ZXh0LmVudiwgaWQpO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRrZXkgPSBjb250ZXh0JDEkMC5zZW50O1xuXG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE3OlxuXHRcdFx0XHRrZXkgPSBjb250ZXh0Lm5vZGUucHJvcGVydHkubmFtZTtcblxuXHRcdFx0Y2FzZSAxODpcblxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBfZW52UHJvcGVydHlSZWZlcmVuY2UuUHJvcGVydHlSZWZlcmVuY2Uoa2V5LCBvYmosIGNvbnRleHQuZW52KTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdCh2YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDIwOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTWV0YVByb3BlcnR5O1xuXG5mdW5jdGlvbiBNZXRhUHJvcGVydHkoY29udGV4dCkge1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJNZXRhIHByb3BlcnRpZXMgbm90IHlldCBpbXBsZW1lbnRlZFwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfT2JqZWN0JGNyZWF0ZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT2JqZWN0RXhwcmVzc2lvbjtcbnZhciBtYXJrZWQwJDAgPSBbT2JqZWN0RXhwcmVzc2lvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNGdW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2Z1bmNcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG5mdW5jdGlvbiBzZXREZXNjcmlwdG9yKGVudiwgb2JqLCBuYW1lLCBkZXNjcmlwdG9yKSB7XG5cdHZhciBzdHJpY3QgPSBlbnYuaXNTdHJpY3QoKTtcblxuXHRpZiAoZGVzY3JpcHRvci5nZXQpIHtcblx0XHRjb250cmFjdHMuYXNzZXJ0QXJlVmFsaWRBcmd1bWVudHMoZGVzY3JpcHRvci5nZXQubm9kZS5wYXJhbXMsIHN0cmljdCk7XG5cdFx0ZGVzY3JpcHRvci5nZXR0ZXIgPSBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzRnVuYy5leGVjdXRlKShlbnYsIGRlc2NyaXB0b3IuZ2V0LCBkZXNjcmlwdG9yLmdldC5ub2RlLnBhcmFtcywgW10sIHRoaXMsIGRlc2NyaXB0b3IuZ2V0Lm5vZGUpO1xuXG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdGNhc2UgMzpcblx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmIChkZXNjcmlwdG9yLnNldCkge1xuXHRcdGNvbnRyYWN0cy5hc3NlcnRBcmVWYWxpZEFyZ3VtZW50cyhkZXNjcmlwdG9yLnNldC5ub2RlLnBhcmFtcywgc3RyaWN0KTtcblx0XHRkZXNjcmlwdG9yLnNldHRlciA9IF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBjYWxsZWUkMSQwKCkge1xuXHRcdFx0dmFyIGFyZ3MkMiQwID0gYXJndW1lbnRzO1xuXHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGVudiwgZGVzY3JpcHRvci5zZXQsIGRlc2NyaXB0b3Iuc2V0Lm5vZGUucGFyYW1zLCBhcmdzJDIkMCwgdGhpcywgZGVzY3JpcHRvci5zZXQubm9kZSk7XG5cblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0fSk7XG5cdH1cblxuXHRvYmouZGVmaW5lT3duUHJvcGVydHkobmFtZSwgZGVzY3JpcHRvcik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlc2NyaXB0b3IodmFsdWUpIHtcblx0cmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH07XG59XG5cbmZ1bmN0aW9uIE9iamVjdEV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqLCBkZXNjcmlwdG9ycywgcHJvcDtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBPYmplY3RFeHByZXNzaW9uJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3RvcnkuY3JlYXRlT2JqZWN0KCk7XG5cdFx0XHRcdGRlc2NyaXB0b3JzID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5kZWxlZ2F0ZVlpZWxkKCgwLCBfdXRpbHNBc3luYy5lYWNoKShjb250ZXh0Lm5vZGUucHJvcGVydGllcywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAocHJvcGVydHkpIHtcblx0XHRcdFx0XHR2YXIgdmFsdWUsIG5hbWU7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShwcm9wZXJ0eS52YWx1ZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZSA9IHByb3BlcnR5LmtleS5uYW1lIHx8IHByb3BlcnR5LmtleS52YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IHByb3BlcnR5LmtpbmQ7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IGNvbnRleHQkMiQwLnQwID09PSBcImdldFwiID8gNyA6IGNvbnRleHQkMiQwLnQwID09PSBcInNldFwiID8gNyA6IDEwO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yc1tuYW1lXSA9IGRlc2NyaXB0b3JzW25hbWVdIHx8IGNyZWF0ZURlc2NyaXB0b3IoKTtcblx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yc1tuYW1lXVtwcm9wZXJ0eS5raW5kXSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAxMik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0XHRcdFx0XHRvYmouZGVmaW5lT3duUHJvcGVydHkobmFtZSwgY3JlYXRlRGVzY3JpcHRvcih2YWx1ZSkpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJicmVha1wiLCAxMik7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAxMjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKSwgXCJ0MFwiLCAzKTtcblxuXHRcdFx0Y2FzZSAzOlxuXG5cdFx0XHRcdGZvciAocHJvcCBpbiBkZXNjcmlwdG9ycykge1xuXHRcdFx0XHRcdHNldERlc2NyaXB0b3IoY29udGV4dC5lbnYsIG9iaiwgcHJvcCwgZGVzY3JpcHRvcnNbcHJvcF0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChvYmopKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJldHVyblN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbUmV0dXJuU3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF90eXBlc1ByaW1pdGl2ZVR5cGUgPSByZXF1aXJlKFwiLi4vdHlwZXMvcHJpbWl0aXZlLXR5cGVcIik7XG5cbmZ1bmN0aW9uIFJldHVyblN0YXRlbWVudChjb250ZXh0KSB7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gUmV0dXJuU3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmFyZ3VtZW50KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdFx0Y29udGV4dCQxJDAudDEgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnQwLmV4aXQuY2FsbChjb250ZXh0JDEkMC50MCwgY29udGV4dCQxJDAudDEpKTtcblxuXHRcdFx0Y2FzZSA2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuZXhpdChfdHlwZXNQcmltaXRpdmVUeXBlLlVOREVGSU5FRCkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VxdWVuY2VFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtTZXF1ZW5jZUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIFNlcXVlbmNlRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBTZXF1ZW5jZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gKDAsIF91dGlsc0FzeW5jLmVhY2gpKGNvbnRleHQubm9kZS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5uZXh0ID0gMjtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoZXhwcikuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMjpcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMiQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yZXN1bHQodmFsdWUpKTtcblxuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN3aXRjaFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbZXhlY3V0ZVN0YXRlbWVudHMsIFN3aXRjaFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNBc3luYyA9IHJlcXVpcmUoXCIuLi91dGlscy9hc3luY1wiKTtcblxuZnVuY3Rpb24gZXhlY3V0ZVN0YXRlbWVudHMoY29udGV4dCwgc3RhdGVtZW50cykge1xuXHR2YXIgcmVzdWx0O1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGV4ZWN1dGVTdGF0ZW1lbnRzJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkoc3RhdGVtZW50cywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoc3RhdGVtZW50LCBpLCBhbGwsIGFib3J0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShzdGF0ZW1lbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0LmlzQ2FuY2VsbGVkKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNDpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIFN3aXRjaFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciB0ZXN0VmFsdWUsIHBhc3NlZCwgdmFsdWUsIGRlZmF1bHRDYXNlLCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvciwgX3N0ZXAsIGN1cnJlbnQsIGNhc2VWYWx1ZTtcblxuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFN3aXRjaFN0YXRlbWVudCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5kaXNjcmltaW5hbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR0ZXN0VmFsdWUgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRwYXNzZWQgPSBmYWxzZTtcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQsIGRlZmF1bHRDYXNlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA4O1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmNhc2VzKTtcblxuXHRcdFx0Y2FzZSAxMDpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDMzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y3VycmVudCA9IF9zdGVwLnZhbHVlO1xuXG5cdFx0XHRcdGlmIChwYXNzZWQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWN1cnJlbnQudGVzdCkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyMTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGN1cnJlbnQudGVzdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRjYXNlVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdC5nZXRWYWx1ZSgpO1xuXG5cdFx0XHRcdGlmIChjYXNlVmFsdWUuZXF1YWxzKHRlc3RWYWx1ZSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiY29udGludWVcIiwgMzApO1xuXG5cdFx0XHRjYXNlIDE5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDIxOlxuXHRcdFx0XHQvLyBkZWZhdWx0IG1pZ2h0IG5vdCBiZSB0aGUgbGFzdCBjYXNlXG5cdFx0XHRcdGRlZmF1bHRDYXNlID0gY3VycmVudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImNvbnRpbnVlXCIsIDMwKTtcblxuXHRcdFx0Y2FzZSAyMzpcblxuXHRcdFx0XHRwYXNzZWQgPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjY7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlU3RhdGVtZW50cyhjb250ZXh0LCBjdXJyZW50LmNvbnNlcXVlbnQpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdFx0aWYgKCEodmFsdWUgJiYgdmFsdWUuaXNDYW5jZWxsZWQoKSkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMzA6XG5cdFx0XHRcdF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTA7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDMzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMzk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDM1OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzU7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSg4KTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMzk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSA0MDtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSA0Mjpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDQyO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNDU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCg0Mik7XG5cblx0XHRcdGNhc2UgNDY6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMzkpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXHRcdFx0XHRpZiAoISghcGFzc2VkICYmIGRlZmF1bHRDYXNlICYmIGRlZmF1bHRDYXNlLmNvbnNlcXVlbnQpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDUwO1xuXHRcdFx0XHRyZXR1cm4gZXhlY3V0ZVN0YXRlbWVudHMoY29udGV4dCwgZGVmYXVsdENhc2UuY29uc2VxdWVudCk7XG5cblx0XHRcdGNhc2UgNTA6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHR2YWx1ZS5jYW5jZWwgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgNTM6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDU0OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzFdLCB0aGlzLCBbWzgsIDM1LCAzOSwgNDddLCBbNDAsLCA0MiwgNDZdXSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvLWNvbnN1bWFibGUtYXJyYXlcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9PYmplY3QkY3JlYXRlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX3V0aWxzRnVuYyA9IHJlcXVpcmUoXCIuLi91dGlscy9mdW5jXCIpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbnZhciB0ZW1wbGF0ZU9iamVjdENhY2hlID0gX09iamVjdCRjcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIGJ1aWxkVGVtcGxhdGVPYmplY3QoZW52LCBub2RlKSB7XG5cdC8vIHBlciBzcGVjLCB0ZW1wbGF0ZSBvYmplY3RzIGFyZSBjYWNoZWRcblx0dmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KG5vZGUucXVhc2lzLm1hcChmdW5jdGlvbiAocSkge1xuXHRcdHJldHVybiB7IGNvb2tlZDogcS52YWx1ZS5jb29rZWQsIHJhdzogcS52YWx1ZS5yYXcgfTtcblx0fSkpO1xuXHRpZiAoa2V5IGluIHRlbXBsYXRlT2JqZWN0Q2FjaGUpIHtcblx0XHRyZXR1cm4gdGVtcGxhdGVPYmplY3RDYWNoZVtrZXldO1xuXHR9XG5cblx0dmFyIG9iamVjdEZhY3RvcnkgPSBlbnYub2JqZWN0RmFjdG9yeTtcblx0dmFyIHRhZyA9IG9iamVjdEZhY3RvcnkuY3JlYXRlKFwiQXJyYXlcIik7XG5cdHZhciByYXcgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZShcIkFycmF5XCIpO1xuXHR2YXIgcXVhc2lzID0gbm9kZS5xdWFzaXM7XG5cblx0Zm9yICh2YXIgaSA9IDAsIGxuID0gcXVhc2lzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0XHR0YWcucHV0VmFsdWUoaSwgb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUocXVhc2lzW2ldLnZhbHVlLmNvb2tlZCksIHRydWUsIGVudik7XG5cdFx0cmF3LnB1dFZhbHVlKGksIG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHF1YXNpc1tpXS52YWx1ZS5yYXcpLCB0cnVlLCBlbnYpO1xuXHR9XG5cblx0cmF3LmZyZWV6ZSgpO1xuXHR0YWcuZGVmaW5lT3duUHJvcGVydHkoXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pO1xuXHR0YWcuZnJlZXplKCk7XG5cblx0cmV0dXJuIHRlbXBsYXRlT2JqZWN0Q2FjaGVba2V5XSA9IHRhZztcbn1cblxuZnVuY3Rpb24gVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0dmFyIHRlbXBsYXRlT2JqZWN0LCB2YWx1ZXMsIGNhbGxlZSwgZnVuYywgcGFyYW1zLCB2YWx1ZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0dGVtcGxhdGVPYmplY3QgPSBidWlsZFRlbXBsYXRlT2JqZWN0KGNvbnRleHQuZW52LCBjb250ZXh0Lm5vZGUucXVhc2kpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGNvbnRleHQubm9kZS5xdWFzaS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHZhciB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGV4cHIpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZS5yZXN1bHQuZ2V0VmFsdWUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDY6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0dmFsdWVzID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDY7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUudGFnKS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgNjpcblx0XHRcdFx0Y2FsbGVlID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cdFx0XHRcdGZ1bmMgPSBjYWxsZWUuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cGFyYW1zID0gZnVuYy5ub2RlICYmIGZ1bmMubm9kZS5wYXJhbXMgfHwgW107XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNGdW5jLmV4ZWN1dGUpKGNvbnRleHQuZW52LCBmdW5jLCBwYXJhbXMsIFt0ZW1wbGF0ZU9iamVjdF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZXMpKSwgY2FsbGVlLmJhc2UsIGNhbGxlZSk7XG5cblx0XHRcdGNhc2UgMTE6XG5cdFx0XHRcdHZhbHVlID0gY29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdCh2YWx1ZSkpO1xuXG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRlbXBsYXRlTGl0ZXJhbDtcbnZhciBtYXJrZWQwJDAgPSBbVGVtcGxhdGVMaXRlcmFsXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0FzeW5jID0gcmVxdWlyZShcIi4uL3V0aWxzL2FzeW5jXCIpO1xuXG52YXIgX3V0aWxzTmF0aXZlID0gcmVxdWlyZShcIi4uL3V0aWxzL25hdGl2ZVwiKTtcblxuZnVuY3Rpb24gVGVtcGxhdGVMaXRlcmFsKGNvbnRleHQpIHtcblx0dmFyIHZhbHVlcywgcmVzdWx0LCBxdWFzaXMsIGksIGxuO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbCQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNBc3luYy5tYXApKGNvbnRleHQubm9kZS5leHByZXNzaW9ucywgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoZXhwcikge1xuXHRcdFx0XHRcdHZhciB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGV4cHIpLmV4ZWN1dGUoKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBjb250ZXh0JDIkMC5zZW50O1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA1O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvU3RyaW5nKShjb250ZXh0LmVudiwgdmFsdWUucmVzdWx0LmdldFZhbHVlKCkpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMiQwLnNlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNjpcblx0XHRcdFx0XHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5zdG9wKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgY2FsbGVlJDEkMCwgdGhpcyk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR2YWx1ZXMgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRyZXN1bHQgPSBbXTtcblx0XHRcdFx0cXVhc2lzID0gY29udGV4dC5ub2RlLnF1YXNpcztcblxuXHRcdFx0XHRmb3IgKGkgPSAwLCBsbiA9IHF1YXNpcy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2gocXVhc2lzW2ldLnZhbHVlLmNvb2tlZCk7XG5cblx0XHRcdFx0XHRpZiAoaSA8IHZhbHVlcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKHZhbHVlc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5vYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShyZXN1bHQuam9pbihcIlwiKSkpKTtcblxuXHRcdFx0Y2FzZSA3OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGhpc0V4cHJlc3Npb247XG5cbmZ1bmN0aW9uIFRoaXNFeHByZXNzaW9uKGNvbnRleHQpIHtcblx0cmV0dXJuIGNvbnRleHQucmVzdWx0KGNvbnRleHQuZW52LmdldFRoaXNCaW5kaW5nKCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGhyb3dTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW1Rocm93U3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuZnVuY3Rpb24gVGhyb3dTdGF0ZW1lbnQoY29udGV4dCkge1xuXHR2YXIgYXJnO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFRocm93U3RhdGVtZW50JChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAyO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0YXJnID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKGFyZykpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUcnlTdGF0ZW1lbnQ7XG52YXIgbWFya2VkMCQwID0gW2V4ZWN1dGVCbG9jaywgVHJ5U3RhdGVtZW50XS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc0NvbnRyYWN0cyA9IHJlcXVpcmUoXCIuLi91dGlscy9jb250cmFjdHNcIik7XG5cbnZhciBjb250cmFjdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHNDb250cmFjdHMpO1xuXG52YXIgX3V0aWxzQXN5bmMgPSByZXF1aXJlKFwiLi4vdXRpbHMvYXN5bmNcIik7XG5cbmZ1bmN0aW9uIGV4ZWN1dGVCbG9jayhjb250ZXh0LCBib2R5LCBzd2FsbG93KSB7XG5cdHZhciByZXN1bHQ7XG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZXhlY3V0ZUJsb2NrJChjb250ZXh0JDEkMCkge1xuXHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMSQwLnByZXYgPSBjb250ZXh0JDEkMC5uZXh0KSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzQXN5bmMuZWFjaCkoYm9keSwgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAobm9kZSwgaSwgYWxsLCBhYm9ydCkge1xuXHRcdFx0XHRcdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gY2FsbGVlJDEkMCQoY29udGV4dCQyJDApIHtcblx0XHRcdFx0XHRcdHdoaWxlICgxKSBzd2l0Y2ggKGNvbnRleHQkMiQwLnByZXYgPSBjb250ZXh0JDIkMC5uZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXN3YWxsb3cpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxMjtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLnByZXYgPSAxO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSA0O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShub2RlKS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMiQwLnNlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDEwO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC5wcmV2ID0gNztcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0JDIkMC50MCA9IGNvbnRleHQkMiQwW1wiY2F0Y2hcIl0oMSk7XG5cblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0LnJhaXNlKGNvbnRleHQkMiQwLnQwKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAxNDtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUobm9kZSkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0ID0gY29udGV4dCQyJDAuc2VudDtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE1OlxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3VsdC5jYW5CcmVhaygpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzLCBbWzEsIDddXSk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLnN0b3AoKTtcblx0XHR9XG5cdH0sIG1hcmtlZDAkMFswXSwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIFRyeVN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciByZXN1bHQsIGZpbmFsaXplclJlc3VsdCwgZXJyVmFyLCBzY29wZTtcblx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBUcnlTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlQmxvY2soY29udGV4dCwgY29udGV4dC5ub2RlLmJsb2NrLmJvZHksIHRydWUpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdGZpbmFsaXplclJlc3VsdCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRpZiAoIShyZXN1bHQgJiYgcmVzdWx0LnJhaXNlZCkpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5oYW5kbGVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZXJyVmFyID0gY29udGV4dC5ub2RlLmhhbmRsZXIucGFyYW0ubmFtZTtcblxuXHRcdFx0XHRjb250cmFjdHMuYXNzZXJ0SXNWYWxpZElkZW50aWZpZXIoZXJyVmFyLCBjb250ZXh0LmVudi5pc1N0cmljdCgpKTtcblxuXHRcdFx0XHRzY29wZSA9IGNvbnRleHQuZW52LmNyZWF0ZVNjb3BlKCk7XG5cblx0XHRcdFx0Y29udGV4dC5lbnYuY3JlYXRlVmFyaWFibGUoZXJyVmFyKTtcblx0XHRcdFx0Y29udGV4dC5lbnYucHV0VmFsdWUoZXJyVmFyLCByZXN1bHQucmVzdWx0KTtcblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTM7XG5cdFx0XHRcdHJldHVybiBzY29wZS51c2UoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGNhbGxlZSQxJDAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBjYWxsZWUkMSQwJChjb250ZXh0JDIkMCkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQyJDAucHJldiA9IGNvbnRleHQkMiQwLm5leHQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRcdFx0XHRcdGNvbnRleHQkMiQwLm5leHQgPSAyO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBleGVjdXRlQmxvY2soY29udGV4dCwgY29udGV4dC5ub2RlLmhhbmRsZXIuYm9keS5ib2R5LCB0cnVlKTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0JDIkMC5zZW50KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHRcdGNhc2UgXCJlbmRcIjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dCQyJDAuc3RvcCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGNhbGxlZSQxJDAsIHRoaXMpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRcdHJlc3VsdCA9IGNvbnRleHQkMSQwLnNlbnQ7XG5cblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdGlmIChjb250ZXh0Lm5vZGUuZmluYWxpemVyKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDE2O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDE2OlxuXHRcdFx0XHRpZiAoIWNvbnRleHQubm9kZS5maW5hbGl6ZXIpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTk7XG5cdFx0XHRcdHJldHVybiBleGVjdXRlQmxvY2soY29udGV4dCwgY29udGV4dC5ub2RlLmZpbmFsaXplci5ib2R5KTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0ZmluYWxpemVyUmVzdWx0ID0gY29udGV4dCQxJDAuc2VudDtcblxuXHRcdFx0XHRpZiAoIShmaW5hbGl6ZXJSZXN1bHQgJiYgZmluYWxpemVyUmVzdWx0LmNhbkJyZWFrKCkpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDIyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBmaW5hbGl6ZXJSZXN1bHQpO1xuXG5cdFx0XHRjYXNlIDIyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cblx0XHRcdGNhc2UgMjM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMV0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuXG4vLyBsZXQgc2hvdWxkUmFpc2UgPSBmYWxzZTtcbi8vIGxldCBzaG91bGRSZXR1cm4gPSBmYWxzZTtcblxuLy8gbGV0IHNob3VsZFRocm93ID0gcmVzdWx0ICYmIHJlc3VsdC5yYWlzZWQ7XG5cbi8vIGlmIHRoZXJlIGlzIG5vIGNhdGNoIE9SIGlmIGFuIGVycm9yIGlzIHJhaXNlZCB3aXRoaW4gdGhlIGNhdGNoIHdlIG5lZWQgdG8gcGFzcyB0aGF0IG9uXG4vLyBpZiAocmVzdWx0ICYmIHJlc3VsdC5yYWlzZWQpIHtcbi8vIFx0c2hvdWxkUmFpc2UgPSB0cnVlO1xuLy8gXHQvLyB5aWVsZCByZXN1bHQ7XG4vLyB9XG5cbi8vIHNob3VsZFJldHVybiA9IHRydWU7XG5cbi8vIGlmIChzaG91bGRSYWlzZSkge1xuLy8gXHR0cnkge1xuLy8gXHRcdHRocm93IHJlc3VsdC5yZXN1bHQ7XG4vLyBcdH0gY2F0Y2ggKGVycikge1xuLy8gXHRcdHRocm93IGVycjtcbi8vIFx0fSBmaW5hbGx5IHtcbi8vIFx0XHRpZiAoc2hvdWxkUmV0dXJuKSB7XG4vLyBcdFx0XHRyZXR1cm4gZmluYWxpemVyUmVzdWx0O1xuLy8gXHRcdH1cbi8vIFx0fVxuLy8gfSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVW5hcnlFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtVbmFyeUV4cHJlc3Npb25dLm1hcChfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmspO1xuXG52YXIgX2VudlJlZmVyZW5jZSA9IHJlcXVpcmUoXCIuLi9lbnYvcmVmZXJlbmNlXCIpO1xuXG52YXIgX2VudlByb3BlcnR5UmVmZXJlbmNlID0gcmVxdWlyZShcIi4uL2Vudi9wcm9wZXJ0eS1yZWZlcmVuY2VcIik7XG5cbnZhciBfdXRpbHNOYXRpdmUgPSByZXF1aXJlKFwiLi4vdXRpbHMvbmF0aXZlXCIpO1xuXG5mdW5jdGlvbiBVbmFyeUV4cHJlc3Npb24oY29udGV4dCkge1xuXHR2YXIgb2JqZWN0RmFjdG9yeSwgcmVzdWx0LCB2YWx1ZSwgbmV3VmFsdWUsIHR5cGUsIGRlbGV0ZWQsIHJlc29sdmVkO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFVuYXJ5RXhwcmVzc2lvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRvYmplY3RGYWN0b3J5ID0gY29udGV4dC5lbnYub2JqZWN0RmFjdG9yeTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDM7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNyZWF0ZShjb250ZXh0Lm5vZGUuYXJndW1lbnQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXN1bHQgPSBjb250ZXh0JDEkMC5zZW50LnJlc3VsdDtcblx0XHRcdFx0dmFsdWUgPSB1bmRlZmluZWQsIG5ld1ZhbHVlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MCA9IGNvbnRleHQubm9kZS5vcGVyYXRvcjtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IGNvbnRleHQkMSQwLnQwID09PSBcInR5cGVvZlwiID8gOCA6IGNvbnRleHQkMSQwLnQwID09PSBcIi1cIiA/IDEyIDogY29udGV4dCQxJDAudDAgPT09IFwiK1wiID8gMTkgOiBjb250ZXh0JDEkMC50MCA9PT0gXCIhXCIgPyAyNiA6IGNvbnRleHQkMSQwLnQwID09PSBcIn5cIiA/IDI5IDogY29udGV4dCQxJDAudDAgPT09IFwiZGVsZXRlXCIgPyAzNiA6IGNvbnRleHQkMSQwLnQwID09PSBcInZvaWRcIiA/IDQ5IDogNTE7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDg6XG5cdFx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0aWYgKHJlc3VsdCBpbnN0YW5jZW9mIF9lbnZSZWZlcmVuY2UuUmVmZXJlbmNlICYmIHJlc3VsdC5pc1VucmVzb2x2ZWQoKSkge1xuXHRcdFx0XHRcdHR5cGUgPSBcInVuZGVmaW5lZFwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhbHVlID0gcmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0dHlwZSA9IHZhbHVlID8gdmFsdWUudHlwZSA6IFwidW5kZWZpbmVkXCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuZXdWYWx1ZSA9IG9iamVjdEZhY3RvcnkuY3JlYXRlUHJpbWl0aXZlKHR5cGUpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50MSA9IG9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxNjtcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9OdW1iZXIpKGNvbnRleHQuZW52LCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgMTY6XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQyID0gLWNvbnRleHQkMSQwLnNlbnQ7XG5cdFx0XHRcdG5ld1ZhbHVlID0gY29udGV4dCQxJDAudDEuY3JlYXRlUHJpbWl0aXZlLmNhbGwoY29udGV4dCQxJDAudDEsIGNvbnRleHQkMSQwLnQyKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSAxOTpcblx0XHRcdFx0dmFsdWUgPSByZXN1bHQuZ2V0VmFsdWUoKTtcblx0XHRcdFx0Y29udGV4dCQxJDAudDMgPSBvYmplY3RGYWN0b3J5O1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjM7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShjb250ZXh0LmVudiwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlIDIzOlxuXHRcdFx0XHRjb250ZXh0JDEkMC50NCA9ICtjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRuZXdWYWx1ZSA9IGNvbnRleHQkMSQwLnQzLmNyZWF0ZVByaW1pdGl2ZS5jYWxsKGNvbnRleHQkMSQwLnQzLCBjb250ZXh0JDEkMC50NCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgMjY6XG5cdFx0XHRcdHZhbHVlID0gcmVzdWx0LmdldFZhbHVlKCk7XG5cdFx0XHRcdG5ld1ZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoISgwLCBfdXRpbHNOYXRpdmUudG9Cb29sZWFuKSh2YWx1ZSkpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDI5OlxuXHRcdFx0XHR2YWx1ZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRjb250ZXh0JDEkMC50NSA9IG9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzMztcblx0XHRcdFx0cmV0dXJuICgwLCBfdXRpbHNOYXRpdmUudG9JbnQzMikoY29udGV4dC5lbnYsIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAzMzpcblx0XHRcdFx0Y29udGV4dCQxJDAudDYgPSB+Y29udGV4dCQxJDAuc2VudDtcblx0XHRcdFx0bmV3VmFsdWUgPSBjb250ZXh0JDEkMC50NS5jcmVhdGVQcmltaXRpdmUuY2FsbChjb250ZXh0JDEkMC50NSwgY29udGV4dCQxJDAudDYpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwiYnJlYWtcIiwgNTIpO1xuXG5cdFx0XHRjYXNlIDM2OlxuXHRcdFx0XHRkZWxldGVkID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoIShyZXN1bHQgJiYgcmVzdWx0IGluc3RhbmNlb2YgX2VudlJlZmVyZW5jZS5SZWZlcmVuY2UpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ1O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzb2x2ZWQgPSAhcmVzdWx0LmlzVW5yZXNvbHZlZCgpO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5lbnYuaXNTdHJpY3QoKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Mjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghKCFyZXNvbHZlZCB8fCAhKHJlc3VsdCBpbnN0YW5jZW9mIF9lbnZQcm9wZXJ0eVJlZmVyZW5jZS5Qcm9wZXJ0eVJlZmVyZW5jZSkgfHwgcmVzdWx0LnVucXVhbGlmaWVkKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0Mjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5yYWlzZShuZXcgU3ludGF4RXJyb3IoXCJEZWxldGUgb2YgYW4gdW5xdWFsaWZpZWQgaWRlbnRpZmllciBpbiBzdHJpY3QgbW9kZS5cIikpKTtcblxuXHRcdFx0Y2FzZSA0MjpcblxuXHRcdFx0XHRpZiAocmVzb2x2ZWQpIHtcblx0XHRcdFx0XHRkZWxldGVkID0gcmVzdWx0W1wiZGVsZXRlXCJdKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ3O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSA0NTpcblx0XHRcdFx0aWYgKCFjb250ZXh0Lm5vZGUuYXJndW1lbnQub2JqZWN0KSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDQ3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBSZWZlcmVuY2VFcnJvcihjb250ZXh0Lm5vZGUuYXJndW1lbnQub2JqZWN0Lm5hbWUgKyBcIiBpcyBub3QgZGVmaW5lZFwiKSkpO1xuXG5cdFx0XHRjYXNlIDQ3OlxuXG5cdFx0XHRcdG5ld1ZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUoZGVsZXRlZCk7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5hYnJ1cHQoXCJicmVha1wiLCA1Mik7XG5cblx0XHRcdGNhc2UgNDk6XG5cdFx0XHRcdG5ld1ZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUodW5kZWZpbmVkKTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcImJyZWFrXCIsIDUyKTtcblxuXHRcdFx0Y2FzZSA1MTpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBTeW50YXhFcnJvcihcIlVua25vd24gdW5hcnkgb3BlcmF0b3I6IFwiICsgY29udGV4dC5ub2RlLm9wZXJhdG9yKSkpO1xuXG5cdFx0XHRjYXNlIDUyOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KG5ld1ZhbHVlKSk7XG5cblx0XHRcdGNhc2UgNTM6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtd2lsZGNhcmRcIilbXCJkZWZhdWx0XCJdO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBVcGRhdGVFeHByZXNzaW9uO1xudmFyIG1hcmtlZDAkMCA9IFtVcGRhdGVFeHByZXNzaW9uXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxudmFyIF91dGlsc05hdGl2ZSA9IHJlcXVpcmUoXCIuLi91dGlscy9uYXRpdmVcIik7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gVXBkYXRlRXhwcmVzc2lvbihjb250ZXh0KSB7XG5cdHZhciBvYmplY3RGYWN0b3J5LCByZWYsIG9yaWdpbmFsVmFsdWUsIG5ld1ZhbHVlLCBuZXdXcmFwcGVkVmFsdWUsIHJldHVyblZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFVwZGF0ZUV4cHJlc3Npb24kKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0b2JqZWN0RmFjdG9yeSA9IGNvbnRleHQuZW52Lm9iamVjdEZhY3Rvcnk7XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAzO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmFyZ3VtZW50KS5leGVjdXRlKCk7XG5cblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmVmID0gY29udGV4dCQxJDAuc2VudC5yZXN1bHQ7XG5cblx0XHRcdFx0Y29udHJhY3RzLmFzc2VydElzVmFsaWRBc3NpZ25tZW50KHJlZiwgY29udGV4dC5lbnYuaXNTdHJpY3QoKSk7XG5cblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDc7XG5cdFx0XHRcdHJldHVybiAoMCwgX3V0aWxzTmF0aXZlLnRvTnVtYmVyKShjb250ZXh0LmVudiwgcmVmLmdldFZhbHVlKCkpO1xuXG5cdFx0XHRjYXNlIDc6XG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBjb250ZXh0JDEkMC5zZW50O1xuXHRcdFx0XHRuZXdWYWx1ZSA9IG9yaWdpbmFsVmFsdWU7XG5cblx0XHRcdFx0aWYgKGNvbnRleHQubm9kZS5vcGVyYXRvciA9PT0gXCIrK1wiKSB7XG5cdFx0XHRcdFx0bmV3VmFsdWUrKztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXdWYWx1ZS0tO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bmV3V3JhcHBlZFZhbHVlID0gb2JqZWN0RmFjdG9yeS5jcmVhdGVQcmltaXRpdmUobmV3VmFsdWUpO1xuXG5cdFx0XHRcdG9yaWdpbmFsVmFsdWUgPSBvYmplY3RGYWN0b3J5LmNyZWF0ZVByaW1pdGl2ZShvcmlnaW5hbFZhbHVlKTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IGNvbnRleHQubm9kZS5wcmVmaXggPyBuZXdXcmFwcGVkVmFsdWUgOiBvcmlnaW5hbFZhbHVlO1xuXG5cdFx0XHRcdHJlZi5zZXRWYWx1ZShuZXdXcmFwcGVkVmFsdWUpO1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmVzdWx0KHJldHVyblZhbHVlKSk7XG5cblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxudmFyIF9nZXRJdGVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVmFyaWFibGVEZWNsYXJhdGlvbjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdGlvbl0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbmZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRpb24oY29udGV4dCkge1xuXHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBkZWNsO1xuXG5cdHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdGlvbiQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0XHRcdFx0X2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAzO1xuXHRcdFx0XHRfaXRlcmF0b3IgPSBfZ2V0SXRlcmF0b3IoY29udGV4dC5ub2RlLmRlY2xhcmF0aW9ucyk7XG5cblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0aWYgKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDEyO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVjbCA9IF9zdGVwLnZhbHVlO1xuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gOTtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGRlY2wpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA5OlxuXHRcdFx0XHRfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDU7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMTg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTQ7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnQwID0gY29udGV4dCQxJDBbXCJjYXRjaFwiXSgzKTtcblx0XHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHRcdFx0XHRfaXRlcmF0b3JFcnJvciA9IGNvbnRleHQkMSQwLnQwO1xuXG5cdFx0XHRjYXNlIDE4OlxuXHRcdFx0XHRjb250ZXh0JDEkMC5wcmV2ID0gMTg7XG5cdFx0XHRcdGNvbnRleHQkMSQwLnByZXYgPSAxOTtcblxuXHRcdFx0XHRpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG5cdFx0XHRcdFx0X2l0ZXJhdG9yW1wicmV0dXJuXCJdKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Y2FzZSAyMTpcblx0XHRcdFx0Y29udGV4dCQxJDAucHJldiA9IDIxO1xuXG5cdFx0XHRcdGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gMjQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuXHRcdFx0Y2FzZSAyNDpcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmZpbmlzaCgyMSk7XG5cblx0XHRcdGNhc2UgMjU6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5maW5pc2goMTgpO1xuXG5cdFx0XHRjYXNlIDI2OlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuZW1wdHkoKSk7XG5cblx0XHRcdGNhc2UgMjc6XG5cdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdHJldHVybiBjb250ZXh0JDEkMC5zdG9wKCk7XG5cdFx0fVxuXHR9LCBtYXJrZWQwJDBbMF0sIHRoaXMsIFtbMywgMTQsIDE4LCAyNl0sIFsxOSwsIDIxLCAyNV1dKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFZhcmlhYmxlRGVjbGFyYXRvcjtcbnZhciBtYXJrZWQwJDAgPSBbVmFyaWFibGVEZWNsYXJhdG9yXS5tYXAoX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKTtcblxuZnVuY3Rpb24gVmFyaWFibGVEZWNsYXJhdG9yKGNvbnRleHQpIHtcblx0dmFyIG5hbWUsIHZhbHVlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFZhcmlhYmxlRGVjbGFyYXRvciQoY29udGV4dCQxJDApIHtcblx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDEkMC5wcmV2ID0gY29udGV4dCQxJDAubmV4dCkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRuYW1lID0gY29udGV4dC5ub2RlLmlkLm5hbWU7XG5cdFx0XHRcdHZhbHVlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICghY29udGV4dC5ub2RlLmluaXQpIHtcblx0XHRcdFx0XHRjb250ZXh0JDEkMC5uZXh0ID0gNjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA1O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLmluaXQpLmV4ZWN1dGUoKTtcblxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHR2YWx1ZSA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0O1xuXG5cdFx0XHRjYXNlIDY6XG5cblx0XHRcdFx0Ly8gdmFyaWFibGVzIGhhdmUgYWxyZWFkeSBiZWVuIGhvaXN0ZWQgc28gd2UganVzdCBuZWVkIHRvIGluaXRpYWxpemUgdGhlbSBpZiBkZWZpbmVkXG5cdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdGNvbnRleHQuZW52LnB1dFZhbHVlKG5hbWUsIHZhbHVlLmdldFZhbHVlKCksIGNvbnRleHQuZW52LmlzU3RyaWN0KCksIGNvbnRleHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJlc3VsdChjb250ZXh0LmVudi5nZXRSZWZlcmVuY2UobmFtZSkpKTtcblxuXHRcdFx0Y2FzZSA4OlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLXdpbGRjYXJkXCIpW1wiZGVmYXVsdFwiXTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gV2l0aFN0YXRlbWVudDtcbnZhciBtYXJrZWQwJDAgPSBbV2l0aFN0YXRlbWVudF0ubWFwKF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayk7XG5cbnZhciBfdXRpbHNDb250cmFjdHMgPSByZXF1aXJlKFwiLi4vdXRpbHMvY29udHJhY3RzXCIpO1xuXG52YXIgY29udHJhY3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzQ29udHJhY3RzKTtcblxuZnVuY3Rpb24gV2l0aFN0YXRlbWVudChjb250ZXh0KSB7XG5cdHZhciBvYmosIHNjb3BlO1xuXHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIFdpdGhTdGF0ZW1lbnQkKGNvbnRleHQkMSQwKSB7XG5cdFx0d2hpbGUgKDEpIHN3aXRjaCAoY29udGV4dCQxJDAucHJldiA9IGNvbnRleHQkMSQwLm5leHQpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0aWYgKCFjb250ZXh0LmVudi5pc1N0cmljdCgpKSB7XG5cdFx0XHRcdFx0Y29udGV4dCQxJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQucmFpc2UobmV3IFN5bnRheEVycm9yKFwiU3RyaWN0IG1vZGUgY29kZSBtYXkgbm90IGluY2x1ZGUgYSB3aXRoIHN0YXRlbWVudFwiKSkpO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jcmVhdGUoY29udGV4dC5ub2RlLm9iamVjdCkuZXhlY3V0ZSgpO1xuXG5cdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdG9iaiA9IGNvbnRleHQkMSQwLnNlbnQucmVzdWx0LmdldFZhbHVlKCk7XG5cblx0XHRcdFx0aWYgKCFjb250cmFjdHMuaXNOdWxsT3JVbmRlZmluZWQob2JqKSkge1xuXHRcdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSA3O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMSQwLmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LnJhaXNlKG5ldyBUeXBlRXJyb3Iob2JqLmNsYXNzTmFtZSArIFwiIGhhcyBubyBwcm9wZXJ0aWVzXCIpKSk7XG5cblx0XHRcdGNhc2UgNzpcblx0XHRcdFx0c2NvcGUgPSBjb250ZXh0LmVudi5jcmVhdGVPYmplY3RTY29wZShvYmosIGNvbnRleHQuZW52LmdldFRoaXNCaW5kaW5nKCkpO1xuXG5cdFx0XHRcdHNjb3BlLmluaXQoY29udGV4dC5ub2RlLmJvZHkpO1xuXG5cdFx0XHRcdGNvbnRleHQkMSQwLm5leHQgPSAxMTtcblx0XHRcdFx0cmV0dXJuIHNjb3BlLnVzZShfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gY2FsbGVlJDEkMCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGNhbGxlZSQxJDAkKGNvbnRleHQkMiQwKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoMSkgc3dpdGNoIChjb250ZXh0JDIkMC5wcmV2ID0gY29udGV4dCQyJDAubmV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIDA6XG5cdFx0XHRcdFx0XHRcdFx0Y29udGV4dCQyJDAubmV4dCA9IDI7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY3JlYXRlKGNvbnRleHQubm9kZS5ib2R5KS5leGVjdXRlKCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0JDIkMC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dCQyJDAuc2VudCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0XHRjYXNlIFwiZW5kXCI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNvbnRleHQkMiQwLnN0b3AoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCBjYWxsZWUkMSQwLCB0aGlzKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0XHRjYXNlIDExOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQkMSQwLnNlbnQpO1xuXG5cdFx0XHRjYXNlIDEyOlxuXHRcdFx0Y2FzZSBcImVuZFwiOlxuXHRcdFx0XHRyZXR1cm4gY29udGV4dCQxJDAuc3RvcCgpO1xuXHRcdH1cblx0fSwgbWFya2VkMCQwWzBdLCB0aGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiXX0=
